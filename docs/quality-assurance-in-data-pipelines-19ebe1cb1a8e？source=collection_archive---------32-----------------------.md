# 数据管道中的质量保证

> 原文：<https://towardsdatascience.com/quality-assurance-in-data-pipelines-19ebe1cb1a8e?source=collection_archive---------32----------------------->

## 在您的数据解决方案中建立信任的技巧

![](img/9e880d60ab6d79147abc9b6f6affff95.png)

[Zan](https://unsplash.com/@zanilic?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

数据工程师的核心职责是构建数据管道。数据从一个位置流向另一个位置，途中会发生变化，这是任何数据工程师的主要关注点。然而，当你改变数据时，你使人们感到紧张。即使您正在积极地将数据从原始形式转换成可用的形式，这也不会改变它不再是所收集的数据这一事实。为了减轻这些担忧，数据工程师在解决方案中尽可能多地构建数据完整性措施至关重要。

# 质量保证技术

## 1.逐字节比较

执行逐字节比较以确认数据的完整性。逐字节比较包括以下内容:

1.  接收源数据，转换它，并将其加载到目标中
2.  读取目标中的数据，反向转换，并逐字节与原始源进行比较

虽然逐字节比较可以确认数据的完整性，但是就时间和资源而言，这是非常昂贵的操作。这也增加了开发工作的复杂性，因为您不仅需要开发转换，还需要开发逆转这些转换的逻辑。但是，它可以与常规接收过程一起执行，以确保数据完整性。

*用例:*这可以在大多数管道中使用，因为它转换数据并反转转换以确保有效性。

## 2.总和检查（checksum 的复数形式）

校验和允许我们检查数据完整性，而不需要像逐字节比较那样多的开销。有几种计算校验和的方法，但通常涉及对哈希值求和。换句话说，如果您计算源数据的校验和，并将其与目标数据的校验和进行比较，只要数据中没有突变，这两个值就应该匹配。

*用例:*这可以用在数据集从源到目的地不会改变的地方。

## 3.行数

确认数据完整性的一个代价不高的操作是简单的行计数。如果将源中的行数与目标中的行数进行比较，应该是相同的。如果没有，可能会出现意想不到的转变。但是，行数应该仅用作数据的第一次检查。依靠行数来验证整个数据存在许多问题。它不验证实际数据，也不考虑迁移过程中可能出现的空值。

*用例:*这可用于数据集从源到目的地不会发生变化的情况。

## 4.单元测试

单元测试是你开发的任何代码的标准；尤其是主动改变数据的数据管道。管道可以在微观和宏观层面进行测试。微单元测试着眼于单个方法。这些测试更容易创建，因为您不需要一个完整的数据集来确认它们的功能(例如，如果一个函数要过滤掉空值，一个具有各种数据类型的简单矩阵就足够了。).宏单元测试将管道作为一个整体来关注。宏单元测试稍微更难测试，因为它涉及一个完整的数据集，以确保所有的转换步骤都按预期执行。单元测试对于确保在数据管道中的任何和所有突变期间保持数据完整性是必不可少的。

*用例:*这可以在大多数管道中使用，因为它转换数据并反转转换以确保有效性。

# 最后的想法

作为一名数据工程师，在构建管道时，数据完整性应被视为重中之重。它不仅让您确信您的代码正在按预期运行，还让用户确信他们的数据是准确的。通过确保数据功能的任何移动或突变符合预期，将完整性融入您的解决方案。希望上述技术为构建可靠的解决方案提供了一个良好的起点。