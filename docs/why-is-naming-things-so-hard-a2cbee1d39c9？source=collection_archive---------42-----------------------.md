# 为什么给事物命名这么难？

> 原文：<https://towardsdatascience.com/why-is-naming-things-so-hard-a2cbee1d39c9?source=collection_archive---------42----------------------->

## 构建产生最佳实践的框架

![](img/ff4a54ece52f7081095d462630e8d564.png)

在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上由[heylogostechie](https://unsplash.com/@heylagostechie?utm_source=medium&utm_medium=referral)拍摄的照片

一旦你意识到你写的代码是给人类阅读的，而不仅仅是给机器执行的，一个有趣的转变就发生了。

一个很大的变化是，编写代码显然比正确的代码优先。

阅读代码包括建立一个心智模型，知道每件事情应该做什么，以及这些事情如何相互作用。然而，最好的代码会缩短读取所有内容的时间。您不用阅读实现，而是使用变量和函数名、注释和其他线索来解决问题。

这是组块。你把事物结合在一起，并一起记住它们。举个例子，一个国际象棋的开局，像皇后的走法，就是一大块。一个`forEach`循环也是如此:仅仅通过名字，你就可以知道它将对数组的每个元素做些什么。

一旦你为一个`forEach`循环构建了一个程序块，你就不必阅读`forEach`的实现来理解它将做什么。这是非常强大的，因为它允许您返回到代码，而不必再次阅读所有的实现。

因此，一个好的名字就是一大块编码了重要信息的东西。

我们把信息压缩到名字里。这几乎总是有损压缩。此外，压缩的行数越多，损失就越大，因为您希望自己的名字不超过 80 个字符。

好的命名的目标是最小化这种损失。

由于这种压缩，给事物命名很困难。英语不像 C++那样精确，所以从精确的语言压缩成模糊的语言会增加损失。另一个重要原因是很难选择最重要的内容。你会注意到大多数关于命名的分歧都集中在这两个轴上:要么这个名字不适合你想做的事情(是`assign`还是`setup`还是`link`还是`mangle`？).或者名字没有抓住功能的重要部分。

我认为这是我听说过的大多数最佳实践的生成函数，因此比一个具体的指南更有价值。

# 生成最佳实践

## 让函数做一件事

当一个函数做多件事情时，它的名字需要编码更多的信息，比如`link_user_to_trial_and_enable_downloads_and_set_charge_date()`。这是一个很长的名字，也是丢失太多信息的一个标志:这个名字应该公开关于充电日期和允许下载的什么语义？

这些副作用很难在名字中体现出来。

## 保持功能小

长函数，比如做很多事情的函数，需要在名字中编码很多信息。由于名称长度是有限的，在压缩这个长名称时，您会丢失更多的信息，从而导致名称质量更差。

## 避免无意义的名字

因为我们编写的代码是供人类阅读的，所以不压缩任何信息的名字不会帮助我们构建程序块。这使得阅读更加困难，因为你必须向下一层抽象。您需要解析实现来理解这段代码做了什么。

## 避免太抽象的名字

对于任何函数来说,`do_things()`都是一个合适的名字，但是压缩的损失太大了——你几乎丢失了所有的信息，并且需要解析主体来弄清楚它做了什么。不太好。这几乎是一个毫无意义的名字。

## 保持一致

当您在整个代码库中构建类似的块时，通过分块，更容易进入另一个抽象层。例如，继续以试验管理系统为例，您将有 3 件事情要做:

1.  `link_user_to_trial_agreement_given_email()`
2.  `enable_research_downloads_for_user()`
3.  `set_charge_date_for_user()`

因为它们在同一个域中运行，所以你可以上升一级到`setup_user_for_trial()`来完成这三个任务。

# 扰乱最佳实践

最佳实践的生成器允许您对最佳实践不是最佳前进方式的情况进行推理。

例如，考虑到一致性，使用 camelCase 命名变量。您的整个代码库都使用 camelCase。你正在编写一个非常不标准的新函数。它做一些不适合你现有模型的神秘事情。您需要它，因为遗留集成/业务需求等。实际上，你不希望任何人在阅读时忽略它。

所以，你保持一致，并保持在骆驼的情况下？或者，你切换到 snake_case？

目标是让事情变得清晰。我将切换到 snake_case 来展示它与其他产品的不同之处，并提供一些注释来解释它所做的神秘事情。

# 用词精确

口语是非常不精确的。有很多歧义，双重含义，以及没有任何意义的句子。

然而，代码需要精确。正如我们在上面看到的，这是一个麻烦的来源，因为我们试图将一种精确的语言压缩成一种不精确的语言，这使得寻找正确的英语单词更加困难。

这些想法也适用于命名代码之外的东西！当你有了一个东西的名字，它突然变得清晰可辨。

考虑一下:你看到你周围的一些人测试他们是否可以做一次事情，如果失败就放弃。其他一些人不断尝试，直到他们学会如何做。第一组珍视其智力，而第二组珍视其勤奋。然后，当你听到[固定与增长心态](https://neilkakkar.com/story-of-stories.html#the-story-of-growth-vs-fixed-mindset)时，事情马上就明朗了。

在这里选择正确的名字也很难。随着时间的推移，每一个失去其细微差别的最佳实践都可以归因于一个没有编码必要信息的名称。人们传递了这些想法，却没有解释其中的细微差别。

或者，考虑把两个名字等同起来。“堕胎就是谋杀”——将两个不同的名字等同起来，在情感和事实之间创造了一种有趣的动态。每个名字都有不同的含义，把它们组合在一起，你就把一个名字的含义传递给了另一个。这未必是一件好事。你必须非常小心不精确语言中的等式操作符。

# 结论

优化清晰、易于理解的代码。读取它的成本高于执行它的成本。

要做到这一点，利用组块:写出有意义的名字，并在名字中编码尽可能多的信息。

但是，写有意义的名字是有损压缩。每一个命名准则都源于最小化这种损失。

最后，同样的想法也适用于命名现实世界中的事物。只不过，这更难，因为它是从一种不精确的语言编码到另一种不精确的语言。至少代码在执行时是明确的。

![](img/10ee67257a05194e1f514a233513f707.png)

1.  你可能会质疑这一点，正确性是第一位的，但是如果阅读起来很清楚，PR 评论会很快发现正确性错误。或者，如果没有人发现错误，然后出现问题，如果您的同事能够清楚地阅读您的代码，他们就更容易解决问题。
    脚注对脚注:这是[认真对待创意](https://neilkakkar.com/taking-ideas-seriously.html)的一个例子。
2.  有时，糟糕的命名会妨碍工作，产生一个不正确的工作模式。在这里，你别无选择，只能阅读实现。
3.  理想情况下，您应该正确地解决问题，这样就不需要这样的事情了。但是，默认情况下，这样的事情会分散在一个巨大的代码库中。