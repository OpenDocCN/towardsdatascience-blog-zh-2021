# SimRank:ä»é›¶å¼€å§‹çš„ç›¸ä¼¼æ€§åˆ†æè§£é‡Šå’Œ Python å®ç°

> åŸæ–‡ï¼š<https://towardsdatascience.com/simrank-similarity-analysis-1d8d5a18766a?source=collection_archive---------19----------------------->

## ç½‘ç«™çš„ç›¸ä¼¼æ€§åº¦é‡

![](img/c3cbe275ca311d27ea9d86737a8c2d5d.png)

æ–¯å‡¯å‹’Â·å²å¯†æ–¯åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

ç›¸ä¼¼æ€§åº¦é‡æ˜¯å„ç§é¢†åŸŸéƒ½éœ€è¦è§£å†³çš„é—®é¢˜ã€‚SimRank æ˜¯ä¸€ç§ç›´è§‚è€Œé€šç”¨çš„ç›¸ä¼¼æ€§åº¦é‡æ–¹æ³•ã€‚å®ƒé€‚ç”¨äºä»»ä½•å…·æœ‰å¯¹è±¡å¯¹å¯¹è±¡å…³ç³»çš„é¢†åŸŸï¼Œæ ¹æ®å¯¹è±¡ä¸å…¶ä»–å¯¹è±¡çš„å…³ç³»æ¥åº¦é‡å¯¹è±¡çš„ç›¸ä¼¼æ€§ã€‚

SimRank çš„å…³é”®æ˜¯

> **å¦‚æœä¸¤ä¸ªå¯¹è±¡è¢«ç›¸ä¼¼çš„å¯¹è±¡å¼•ç”¨ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸ä¼¼çš„ã€‚**

æˆ‘ä»¬å°†ç®€è¦ä»‹ç»è¯¥ç®—æ³•ï¼Œå¹¶ä»å¤´å¼€å§‹æ¼”ç»ƒ Python å®ç°ã€‚

# ç®—æ³•

è¯·éšæ„æŸ¥çœ‹è¯„è®ºè‰¯å¥½çš„æºä»£ç ã€‚è¿™çœŸçš„æœ‰åŠ©äºç†è§£æ•´ä¸ªç®—æ³•ã€‚

[](https://github.com/chonyy/PageRank-HITS-SimRank) [## chonyy/PageRank-HITS-SimRank

### é“¾æ¥åˆ†æç®—æ³•çš„ Python å®ç°ã€‚ä¸º chonyy/PageRank-HITS-SimRank çš„å‘å±•ä½œå‡ºè´¡çŒ®

github.com](https://github.com/chonyy/PageRank-HITS-SimRank) 

ç®—æ³•æ­¥éª¤å¦‚ä¸‹æ‰€åˆ—

*   åˆå§‹åŒ–ä»¥ä¸‹æ¯å¯¹èŠ‚ç‚¹çš„ SimRank

```
if(node1 == node2):
  SimRank(node1, node2) = 1
else:
  SimRank(node1, node2) = 0
```

*   å¯¹äºæ¯æ¬¡è¿­ä»£ï¼Œæ›´æ–°å›¾ä¸­æ¯å¯¹èŠ‚ç‚¹çš„ SimRank
*   å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹ç›¸åŒï¼Œåˆ™ SimRank(aï¼Œb) = 1
*   å¦‚æœå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰é‚»å±…ï¼Œåˆ™ SimRank(aï¼Œb) = 0
*   å¦åˆ™ï¼Œæ–°çš„ SimRank éµå¾ªä»¥ä¸‹ç­‰å¼

![](img/668247a8f1ab40e91137bd58f15b230e.png)

*   æˆ‘ä»¬æ ¹æ®ä¸Šä¸€æ¬¡è¿­ä»£çš„ SimRank è®¡ç®—æ–°çš„ SimRank(é€’å½’å®šä¹‰ï¼Œä½†è¿­ä»£è®¡ç®—)

# Python å®ç°

## åˆå§‹åŒ– SimRank

æˆ‘ä»¬åœ¨ç›¸ä¼¼ç±»æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ– SimRankã€‚è¯·æ³¨æ„ï¼Œåˆå§‹å€¼å­˜å‚¨åœ¨ old_sim ä¸­ã€‚æˆ‘ä»¬ä¿ç•™ new_sim ä»¥ä¿å­˜ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­æ›´æ–°çš„ SimRankã€‚

åˆå§‹åŒ–è§„åˆ™å°±åƒæˆ‘ä»¬ä¸Šé¢æåˆ°çš„ä¸€æ ·ã€‚å¦‚æœäºŒè€…ç›¸åŒï¼Œåˆ™ SimRank = 1ï¼Œå¦åˆ™ SimRank = 0ã€‚

## SimRank ä¸€æ¬¡è¿­ä»£

è¿™æ˜¯ SimRank çš„ä¸»å‡½æ•°ã€‚æˆ‘ä»¬è¿­ä»£å›¾ä¸­çš„æ¯ä¸€å¯¹èŠ‚ç‚¹ï¼Œå¹¶æ›´æ–° SimRankã€‚åœ¨è·å¾—æ‰€æœ‰æ–°çš„ SimRank å€¼ä¹‹åï¼Œæˆ‘ä»¬ç”¨å½“å‰è¿­ä»£ä¸­çš„å€¼æ›¿æ¢æ—§å€¼ã€‚

## è®¡ç®—æ–°çš„ SimRank

*   å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹ç›¸åŒï¼Œå€¼= 1
*   å¦‚æœå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰é‚»å±…ï¼Œå€¼= 0
*   SimRank_sum =æ‰€æœ‰ç›¸é‚»å¯¹çš„ SimRank å€¼ä¹‹å’Œ(SimRank å€¼æ¥è‡ªå‰ä¸€æ¬¡è¿­ä»£)
*   ç”¨è¡°å‡å› å­è®¡ç®—æ ‡åº¦
*   ç”¨ SimRank_sum å’Œ scale è®¡ç®—æ–°çš„ SimRank

## æ›´æ–° SimRank

å°†è®¡ç®—å‡ºçš„æ–° SimRank å€¼èµ‹ç»™ new_simã€‚

## æ›¿æ¢ SimRank

ç”¨å½“å‰è¿­ä»£çš„å€¼æ›¿æ¢ä¸Šä¸€æ¬¡è¿­ä»£çš„å€¼ã€‚

[https://gist.github.com/9395c9aea14e4086ce2611809084f9a0](https://gist.github.com/9395c9aea14e4086ce2611809084f9a0)

# ç»“æœåˆ†æ

è®©æˆ‘ä»¬åœ¨å›è´­ä¸­çš„ [***æ•°æ®é›†***](https://github.com/chonyy/PageRank-HITS-SimRank/tree/master/dataset) ä¸Šæµ‹è¯•æˆ‘ä»¬çš„å®ç°ã€‚æˆ‘ä»¬åœ¨æ‰€æœ‰ç»“æœä¸­è®¾ç½® decay_factor = 0.9ã€‚

## graph_1.txt

![](img/d1b7cc30488aa77c8871418664b55f94.png)

å›¾ç‰‡ç”± Chonyy æä¾›ã€‚

> ***ç»“æœ***

![](img/55a71a9290d013ecb67b1477a53512c5.png)

ç»“æœéµå¾ªèŠ‚ç‚¹å€¼çš„é¡ºåºï¼Œå³è¡Œä¸Šçš„`1, 2, 3, 4, 5, 6`å’Œåˆ—ä¸Šçš„`1, 2, 3, 4, 5, 6`ã€‚ä»çŸ©é˜µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯¹è§’çº¿ä¸Šæ€»æ˜¯å…¨æ˜¯ 1ã€‚ä¸¤ä¸ªç›¸åŒèŠ‚ç‚¹çš„ SimRank å§‹ç»ˆä¸º 1ã€‚

å›æƒ³ä¸€ä¸‹ä¸Šé¢è§£é‡Šçš„ SimRank æ–¹ç¨‹ï¼Œåœ¨è®¡ç®—ä¸­ï¼Œæœ‰æ²¡æœ‰å…±åŒçš„åŒäº²å…³ç³»å¾ˆå¤§ã€‚ä»å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ²¡æœ‰ä¸€å¯¹èŠ‚ç‚¹æœ‰å…±åŒçš„çˆ¶èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œæ‰€æœ‰çš„ SimRank éƒ½æ˜¯ 0ã€‚

## graph_2.txt

![](img/e7086d8e4e5f44307fdcdbb4c8bbd14c.png)

å›¾ç‰‡ç”± Chonyy æä¾›ã€‚

> ***ç»“æœ***

![](img/7a048653a11d9b1bf4f2c03ad576309f.png)

åŒæ ·ï¼Œæ²¡æœ‰ä¸€ä¸ªèŠ‚ç‚¹æœ‰å…±åŒçš„çˆ¶èŠ‚ç‚¹ã€‚æ‰€ä»¥ SimRank éƒ½æ˜¯ 0ã€‚

## graph_3.txt

![](img/b43fa01ee480ab871d2410feb7e384d0.png)

å›¾ç‰‡ç”± Chonyy æä¾›ã€‚

> ***ç»“æœ***

![](img/636baa813b5abeb7a10b42a33bdf85de.png)

ä»ç»“æœçŸ©é˜µä¸­ï¼Œæœ‰ä¸€ä¸ªæœ‰è¶£çš„è§‚å¯Ÿã€‚

```
SimRank[1][3] = SimRank[3][1]
```

è®©æˆ‘ä»¬æ¥çœ‹çœ‹ SimRank çš„é…å¯¹å§ï¼= 0.(èŠ‚ç‚¹ 1ï¼ŒèŠ‚ç‚¹ 3)ï¼Œ(èŠ‚ç‚¹ 2ï¼ŒèŠ‚ç‚¹ 4)éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„çˆ¶èŠ‚ç‚¹ï¼Œè¿™ä½¿å¾—å®ƒä»¬çš„ SimRank ä¸ç­‰äºé›¶ã€‚

## graph_4.txt

![](img/d30faa841c761ef637fbd3912b6d9943.png)

å›¾ç‰‡ç”± Chonyy æä¾›ã€‚

> ***ç»“æœ***

![](img/0f44f99822778eb4a5e18deb9ea8d869.png)

è®©æˆ‘ä»¬çœ‹çœ‹ pair(èŠ‚ç‚¹ 6ï¼ŒèŠ‚ç‚¹ 4)ï¼Œ(èŠ‚ç‚¹ 7ï¼ŒèŠ‚ç‚¹ 4)ã€‚è¿™ä¸¤å¯¹èŠ‚ç‚¹ä¸­çš„å…¬å…±èŠ‚ç‚¹æ˜¯èŠ‚ç‚¹ 4ã€‚èŠ‚ç‚¹ 4 æœ‰ä¸¤ä¸ªçˆ¶èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ 1 å’ŒèŠ‚ç‚¹ 5ã€‚

*   èŠ‚ç‚¹ 1 æ˜¯èŠ‚ç‚¹ 7 çš„å”¯ä¸€é‚»å±…
*   èŠ‚ç‚¹ 5 æ˜¯èŠ‚ç‚¹ 6 çš„å”¯ä¸€é‚»å±…

å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§å…³ç³»ä½¿å¾—ä»–ä»¬å¾—åˆ°äº†ç›¸åŒçš„ SimRank = 0.695ã€‚

## IBM.txt

![](img/4b2ef06551e8d5e276db0065626cf115.png)

å›¾ç‰‡ç”± Chonyy æä¾›ã€‚

> ***ç»“æœ***

![](img/7953f4e8e3d54791e4650666feb7f5bd.png)

ç»“æœéµå¾ªèŠ‚ç‚¹å€¼é¡ºåºï¼Œåˆ†åˆ«ä¸ºè¡Œå’Œåˆ—ä¸­çš„`2076, 2564, 4785, 5016, 5793, 6338, 6395, 9484, 9994`ã€‚

æ‚¨å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆ(node4785ï¼Œnode5016)æœ‰ä¸€ä¸ª**å•ä¸ªå’Œå…¬å…±çš„**çˆ¶èŠ‚ç‚¹ï¼Œä½†æ˜¯ SimRank ä¸æ˜¯ 1ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¡°å‡å› å­ï¼Œæ¥åŒºåˆ†é«˜åº¦ç›¸ä¼¼å’Œå®Œå…¨ç›¸åŒã€‚

# è®¡ç®—æ€§èƒ½

## è¶‹åŒï¼›èšé›†

ç°åœ¨æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç»è¿‡è¶³å¤Ÿçš„è¿­ä»£ï¼ŒSimRank å°†æ€»æ˜¯æ”¶æ•›åˆ°ä¸€ä¸ªç‰¹å®šçš„å€¼ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ç”»å‡ºæ¥çœ‹çœ‹å®ƒæ”¶æ•›çš„æœ‰å¤šå¿«ï¼Ÿ

> ***åœ¨ graph_4.txt ä¸Šæµ‹è¯•æ”¶æ•›æ€§***

![](img/f2e74f531fb4ad345df34eb1006a081b.png)

å›¾ç‰‡ç”± Chonyy æä¾›ã€‚

è¿™é‡Œæœ‰ä¸¤ä¸ªé‡è¦çš„è§‚å¯Ÿã€‚ç¬¬ä¸€ä¸ªæ˜¯å°±åƒæˆ‘ä»¬é¢„æœŸçš„é‚£æ ·ï¼Œå€¼ä» 0 å¼€å§‹ï¼Œé€æ¸å¢åŠ åˆ°æŸä¸ªå€¼ï¼Œåœæ­¢å˜åŒ–ã€‚ç¬¬äºŒä¸ªæ˜¯æ›²çº¿æ¯”æˆ‘ä»¬ä» HITS æˆ–è€… PageRank ç®—æ³•å¾—åˆ°çš„å›¾æ›´å¹³æ»‘ã€‚

è¯·æ³¨æ„ï¼Œå®Œæˆè®¡ç®—å¯èƒ½ä¸æ€»æ˜¯åªéœ€è¦è¿™å‡ æ¬¡è¿­ä»£ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ repo ä¸­çš„ graph_6 ä¸Šæµ‹è¯•è¿™ä¸ª SimRank ç®—æ³•ï¼Œå®ƒå…·æœ‰ 1228 ä¸ªèŠ‚ç‚¹å’Œ 5220 æ¡è¾¹ï¼Œå³ä½¿ 500 æ¬¡è¿­ä»£ä¹Ÿä¸è¶³ä»¥ä½¿ SimRank æ”¶æ•›ã€‚å¹¶ä¸”ç”±äºå¤§é‡çš„è¾¹ï¼Œè®¡ç®—ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ã€‚

## è¾¹æ•°

![](img/e3cdedc3224b609fa34bb46250655c17.png)

å›¾ç‰‡ç”± Chonyy æä¾›ã€‚

æˆ‘ä»¬ç”¨ä¸åŒæ•°é‡çš„æ€»è¾¹è¿è¡Œ 100 æ¬¡è¿­ä»£ï¼Œä»¥ä¾¿å‘ç°æ€»è¾¹å’Œè®¡ç®—æ—¶é—´ä¹‹é—´çš„å…³ç³»ã€‚å¯ä»¥çœ‹å‡ºï¼Œè¾¹æ•°å¯¹è®¡ç®—æ—¶é—´çš„æ¨æ–­æ¯”çº¿æ€§å¢åŠ å¾—æ›´å¿«ã€‚æ‰€ä»¥è¾¹å¤ªå¤šçš„è¯è®¡ç®—ä¼šç‰¹åˆ«æ…¢ã€‚

è¯·æ³¨æ„ï¼Œå®ƒä¸æ˜¯ä¸€æ¡å®Œç¾çš„æ›²çº¿çš„åŸå› æ˜¯è¾¹å½¼æ­¤é“¾æ¥çš„æ–¹å¼ä¹Ÿä¼šç¨å¾®å½±å“è®¡ç®—æ—¶é—´ã€‚

# æºä»£ç 

[](https://github.com/chonyy/PageRank-HITS-SimRank) [## chonyy/PageRank-HITS-SimRank

### ğŸè‘—åé“¾æ¥åˆ†æç®—æ³•çš„ Python å®ç°ã€‚HITS ç®—æ³• PageRank ç®—æ³• SimRank ç®—æ³•å¾—åˆ°ä¸€ä¸ªâ€¦

github.com](https://github.com/chonyy/PageRank-HITS-SimRank) 

# ç›¸å…³èŒä½

[](https://chonyy.medium.com/hits-algorithm-link-analysis-explanation-and-python-implementation-61f0762fd7cf) [## HITS ç®—æ³•:ä»é›¶å¼€å§‹çš„é“¾æ¥åˆ†æè§£é‡Šå’Œ Python å®ç°

### æœç´¢å¼•æ“ä¸­çš„æ¢çº½å’Œæƒå¨

chonyy.medium.com](https://chonyy.medium.com/hits-algorithm-link-analysis-explanation-and-python-implementation-61f0762fd7cf) [](https://chonyy.medium.com/pagerank-3c568a7d2332) [## PageRank:ä»é›¶å¼€å§‹çš„é“¾æ¥åˆ†æè§£é‡Šå’Œ Python å®ç°

### å¯åŠ¨è°·æ­Œçš„ç®—æ³•

chonyy.medium.com](https://chonyy.medium.com/pagerank-3c568a7d2332)