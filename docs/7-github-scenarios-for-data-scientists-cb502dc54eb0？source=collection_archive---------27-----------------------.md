# æ•°æ®ç§‘å­¦å®¶çš„ 6 ä¸ª GitHub åœºæ™¯

> åŸæ–‡ï¼š<https://towardsdatascience.com/7-github-scenarios-for-data-scientists-cb502dc54eb0?source=collection_archive---------27----------------------->

## ä»ç¬¬ä¸€å¤©èµ·å°±å¼€å§‹è´¡çŒ®ä½ å…¬å¸çš„ä»£ç åº“

å½“æˆ‘åˆšå¼€å§‹ä½œä¸ºä¸€åæ•°æ®ç§‘å­¦å®¶å·¥ä½œæ—¶ï¼Œæˆ‘è¢«å‘ŠçŸ¥è¦å°†ä»£ç æäº¤ç»™ Githubï¼Œå°¤å…¶æ˜¯æäº¤ç»™å…¶ä»–äººæ­£åœ¨ç®¡ç†çš„å›è´­ã€‚ä¸€æƒ³åˆ°æˆ‘ç¬¨æ‹™çš„åŠ¨ä½œå¯èƒ½ä¼šç ´ååˆ«äººçš„ä»£ç ï¼Œæˆ‘å°±å®³æ€•ã€‚

ç°åœ¨æˆ‘ç»ˆäºå…‹æœäº†ææƒ§ï¼Œæˆ‘æƒ³æˆ‘ä¼šåˆ†äº«æˆ‘çš„ GitHub å·¥ä½œæµç¨‹åœ¨æˆ‘æ—¥å¸¸å·¥ä½œä¸­çš„æ ·å­ã€‚

![](img/3be12caedd4b9d1a030af300d088f19b.png)

ç”± [Roman Synkevych](https://unsplash.com/@synkevych?utm_source=medium&utm_medium=referral) åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

**åœºæ™¯ 1** :ä½ è¢«åˆ†é…åˆ°ä¸€ä¸ªæ–°ä»»åŠ¡ï¼Œæœ‰ä¸€å¼ å‰æ‹‰æˆ–ä¿±ä¹éƒ¨ä¼šæ‰€çš„é—¨ç¥¨ç¼–å· DS-1234ã€‚

æˆ‘ä»æˆ‘çš„å¼€å‘åŒäº‹é‚£é‡Œå­¦åˆ°çš„ä¸€ä¸ªå¥½ä¹ æƒ¯æ˜¯ï¼Œæ€»æ˜¯ç”¨ä½ çš„ç¥¨å·å¼€å§‹ä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚è¿™æ ·ï¼Œä½ å°†èƒ½å¤ŸæŒ‡å‡ºèƒŒæ™¯ã€æ•…äº‹å’Œä½œå“èŒƒå›´çš„è¡€ç»Ÿã€‚è¿™ä¸ä»…å¯¹ä½ çš„ä»£ç å®¡æŸ¥è€…ã€ä½ çš„é¡¹ç›®ç»ç†(ä»–ä»¬å¯èƒ½ä¼šå‹å¥½åœ°é—®ä½ ä½ å‘å¸ƒäº†ä»€ä¹ˆ)éå¸¸æœ‰å¸®åŠ©ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œå¯¹ä½ æœªæ¥çš„è‡ªå·±éå¸¸æœ‰å¸®åŠ©ã€‚

```
# Create and switch to a branch named after the Jira ticket
$ git checkout -b DS-1234
```

æ‚¨å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ£€æŸ¥æ‚¨å½“å‰çš„åˆ†æ”¯

```
$ git branch
```

ç°åœ¨ä½ å¯ä»¥å¼€å§‹ä½ çš„åˆ†æ”¯å·¥ä½œäº†ã€‚ä½ å¯ä»¥æ·»åŠ æ–°çš„ä»£ç ï¼Œç¼–è¾‘ç°æœ‰çš„ä»£ç ï¼Œä¸€æ—¦ä½ æ»¡æ„äº†ï¼Œä½ å¯ä»¥é€šè¿‡è¿™æ ·åšæ¥`add`å’Œ`commit`ä½ çš„å·¥ä½œ:

```
$ git add new_algo.py # a new script called new_algo.py
$ git commit -m "added a new algo"
$ git push origin DS-1234
```

ç°åœ¨ä½ çš„ä»£ç åœ¨æœ¬åœ°`DS-1234`å’Œ Github è¿œç¨‹åˆ†æ”¯`DS-1234`ä¸Šéƒ½è¢«æ›´æ–°äº†ã€‚

**åœºæ™¯ 2** :åœ¨ä½ ç¬¬ä¸€æ¬¡æäº¤ä¹‹åï¼Œåˆ›å»ºä¸€ä¸ªæ‹‰è¯·æ±‚(PR)å¹¶æ ‡è®°ä½ çš„åŒäº‹è¿›è¡Œä»£ç å®¡æŸ¥æ€»æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚

æ‚¨å¯ä»¥åœ¨ Github ä¸Šä¸ºåˆ†æ”¯`DS-1234`åˆ›å»ºä¸€ä¸ª PRï¼Œè¯·è®¿é—®:

[https://github.com/your-project-folder/pull/new/ds-1234](https://github.com/your-project-folder/pull/new/ds-1234)

ä½ ä¹Ÿå¯ä»¥åœ¨è¿è¡Œ`git push origin DS-1234`æ—¶æ‰¾åˆ°è¿™ä¸ªè·¯å¾„

å‡è®¾ä½ çš„åŒäº‹ç»™äº†ä½ ä¸€äº›åé¦ˆå’Œè¯„è®ºï¼Œä½ ç›´æ¥åœ¨ github ä¸Šå¯¹`readme`åšäº†ä¸€äº›å°çš„ç¼–è¾‘ï¼Œç°åœ¨ä½ æƒ³åœ¨æœ¬åœ°è¿›ä¸€æ­¥æ›´æ–°ä½ çš„`new_algo.py`ã€‚

æ‚¨å¯ä»¥é¦–å…ˆåœ¨æœ¬åœ°ç»ˆç«¯ä¸Šè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä» github è·å–`readme`å˜æ›´

```
$ git pull origin DS-1234
```

ç„¶ååœ¨æ›´æ–°å®Œ`new_algo.py`ä¹‹åï¼Œå¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†æ›´æ–°åçš„ä»£ç æ¨é€åˆ° github è¿œç¨‹åˆ†æ”¯

```
$ git push origin DS-1234
```

ä¸€æ—¦ä½ ç¡®è®¤ä½ çš„åŒäº‹å°†ä½ æ›´æ–°çš„åˆ†æ”¯`DS-1234`åˆå¹¶åˆ°`master`åˆ†æ”¯ï¼Œä½ å°±å¯ä»¥å®‰å…¨åœ°åœ¨æœ¬åœ°å’Œè¿œç¨‹åˆ é™¤`DS-1234`ã€‚

```
# delete local branch
$ git branch -d DS-1234# or you can run
$ git branch -D DS-1234# delete remote branch using push --delete
$ git push origin --delete DS-1234
```

**åœºæ™¯ä¸‰**:å¦‚æœä½ çš„åŒäº‹è¶³å¤Ÿä¿¡ä»»ä½ ï¼Œè®©ä½ è‡ªå·±åˆå¹¶ï¼Œæˆ–è€…ä½ éœ€è¦æŠŠåˆ«äººçš„åˆ†æ”¯åˆå¹¶æˆ masterï¼Œä½ å¯ä»¥è¿™æ ·åš:

```
# assuming you are to merge DS-1234 to master branch
$ git merge --no-ff -m "merged DS-1234 into master"# or if you are to merge other people's bug fix branch bugfix-234
$ git merge --no-ff -m "merged bugfix-234 into master"
```

æ³¨æ„ï¼Œ`no-ff` æ ‡å¿—é˜²æ­¢ git merge æ‰§è¡Œâ€œå¿«è¿›â€,å¦‚æœå®ƒæ£€æµ‹åˆ°æ‚¨å½“å‰çš„å¤´æ˜¯æ‚¨è¯•å›¾åˆå¹¶çš„æäº¤çš„ç¥–å…ˆã€‚

**åœºæ™¯ 4** :ä½ æƒ³åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ã€‚

```
$ git rm test.py # remove test.py file
# commit your change
$ git commit -m "remove test.py file"
```

å¦‚æœä½ æ”¹å˜äº†ä¸»æ„æˆ–è€…åˆ é™¤äº†é”™è¯¯çš„æ–‡ä»¶æ€ä¹ˆåŠï¼Ÿåˆ«æ‹…å¿ƒï¼Œä½ èƒ½åšåˆ°çš„

```
$ git checkout -- test.py
```

ç°åœ¨`test.py`å›æ¥äº†ï¼

**åœºæ™¯ 5** :åˆ é™¤æœªè¢«è·Ÿè¸ªçš„æ–‡ä»¶

æœ‰æ—¶ä½ åšäº†ä¸€å †ä½ ä¸æƒ³ä¿ç•™çš„æ›´æ”¹ï¼Œä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥ä¸€æ¬¡æ¸…ç†å®ƒä»¬ã€‚

```
# dry run to see which files will be removed
$ git clean -d -n# remove them
$ git clean -d -f
```

**åœºæ™¯ 6** :ã€é«˜çº§åœºæ™¯ã€‘æˆ‘å‘ç°è‡ªå·±åœ¨åˆ›å»º`DS-1234`ä¹‹å‰å°±å¼€å§‹å¯¹`master`åˆ†æ”¯åšæ”¹åŠ¨äº†ã€‚äº‹å®ä¸Šï¼Œè¿™ç§æƒ…å†µåœ¨æˆ‘èº«ä¸Šå‘ç”Ÿè¿‡å¾ˆå¤šæ¬¡ğŸ˜‚ã€‚

æˆ‘ä»¬æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆã€‚

**è§£å†³æ–¹æ¡ˆ 1** : `git stash`

```
# step 1: save the changes you made on master branch
$ git stash # step 2: create and switch to DS-1234 branch
$ git checkout -b DS-1234# step 3: transfer the changes using stash pop
$ git stash pop
```

**è§£å†³æ–¹æ¡ˆäºŒ**:ç²¾é€‰ğŸ’

è¿™æ˜¯æˆ‘ä»å‰ä»»ç»ç†é‚£é‡Œå­¦æ¥çš„ä¸€æ‹›ã€‚å®ƒç±»ä¼¼äº`git cherry-pick`ï¼Œä½†åœ¨æˆ‘çœ‹æ¥æ›´ç›´è§‚ï¼Œå› ä¸ºå®ƒéå¸¸æ¸…æ¥šåœ°æ˜¾ç¤ºäº†è·¯å¾„ã€‚

ç°åœ¨ï¼Œæƒ³è±¡ä¸€ä¸‹åœ¨ä½ çš„ DS-1234 ä¸Šï¼Œä½ å¤„ç†äº†è®¸å¤šä»£ç ã€‚æ˜å¤©æ˜¯å°†ä½ çš„ä»£ç åˆå¹¶åˆ°å‘å¸ƒåˆ†æ”¯çš„æœ€åæœŸé™ã€‚çœ‹èµ·æ¥åªæœ‰ä¸€æ®µä»£ç å‡†å¤‡åˆå¹¶ã€‚æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥é€‰æ‹©è¦åˆå¹¶çš„è¿™ä¸ª:

```
# step 1: pull all recent changes from remote
$ git pull# step 2: checkout your branch and release branch
$ git checkout DS-1234  # pick from this branch
$ git checkout release-2021-07-01 # to this target branch# step 3: checkout the code ready to merge
$ git checkout DS-1234 new_algo.py# step 4: add this code to release branch
$ git add new_algo.py# step 5: commit 
$ git commit -m "cherry pick changes from DS-1234 to release"
```

**å…³é—­æ€è·¯**

1.  Git å’Œ GitHub æ˜¯åŠŸèƒ½å¼ºå¤§çš„åä½œå·¥å…·ï¼Œå¯¹äºè¿‡å»ä»¥ç¬”è®°æœ¬æ–¹å¼å·¥ä½œçš„æ–°æ•°æ®ç§‘å­¦å®¶æ¥è¯´ï¼Œä¸€å¼€å§‹å¯èƒ½ä¼šæ„Ÿåˆ°å®³æ€•ã€‚
2.  å¯¹äºæ•°æ®ç§‘å­¦å®¶æ¥è¯´ï¼Œä½ è‚¯å®šä¸éœ€è¦å­¦ä¹ æœ€å¥‡æ€ªçš„ GitHub å‘½ä»¤æ¥å¼€å§‹ä¸ä½ çš„å¼€å‘åŒäº‹åˆä½œã€‚
3.  é€šè¿‡ç†Ÿæ‚‰å¸¸è§çš„ GitHub å·¥ä½œæµç¯å¢ƒï¼Œæ‚¨å¯ä»¥ä»ç¬¬ä¸€å¤©(å¥½å§ï¼Œä¹Ÿè®¸æ˜¯ç¬¬ä¸€å‘¨)å°±æ»¡æ€€ä¿¡å¿ƒåœ°å°†æ‚¨çš„ä»£ç æ¨å‘æ‚¨ç»„ç»‡çš„ä»£ç åº“ğŸ˜Š).