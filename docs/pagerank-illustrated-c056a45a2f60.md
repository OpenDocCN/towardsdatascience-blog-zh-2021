# PageRank 图解

> 原文：<https://towardsdatascience.com/pagerank-illustrated-c056a45a2f60?source=collection_archive---------37----------------------->

## 关于“推荐”的例子

![](img/6d46c752bc036b1a11fb37579ed0cb35.png)

在 [Unsplash](https://unsplash.com/s/photos/important-people?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上由 [Belinda Fewings](https://unsplash.com/@bel2000a?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 拍摄的照片

PageRank 是为图中的节点分配重要性分数的关键算法。你可以说它推出了谷歌。

在这篇文章中，我们用最简单的例子来说明 PageRank 能够展示的关键“精心制作的行为”。

在谷歌网络搜索设置中，图表的节点是网页。“成千上万”的人。如果页面 A 包含到页面 B 的超链接，这在图中被捕获为从 A 到 B 的弧线。因此，图是有向的。

PageRank 适用于任何需要对其节点进行重要性评分的图，例如一个社交网络，其节点是人，其边捕捉了他们之间的某些关系。

在这篇短文中，我们将用一个例子来说明这个算法。我们的节点是某个职业的人。比如医生。引用由从引用者到被引用者的弧线表示。我们希望根据推荐给推荐图中的各种专业人士分配“重要性分数”。

一个简单的重要性分数是一个参考对象收到的推荐的数量。这个数字越大，重要性分数越高。PageRank 有更高级的机制。我们的工作就是在这篇短文中尝试一下。

考虑下面描述的情况。箭头表示推荐。

![](img/479d0095c8f02871f5ec0bb5485b377c.png)

重要人物推荐:作者图片

p 得到许多推荐，所以被认为是重要的。q 只有一个推荐人。虽然是来自一个重要的人。所以 PageRank 也认为 Q 很重要。

把它和下面的对比一下。

![](img/3ea775053ad634149eb914f02ad29fd4.png)

一个重要的人给了很多推荐:作者图片

在这种情况下，PageRank 会认为 Q 不太重要。这是因为 P 给了多人推荐，从而稀释了她对 q 的推荐。

有意思。让我们看看当 Q 得到许多推荐时会发生什么。q 的重要性可以表示为与推荐的加权和成比例。推荐的权重基于推荐人的重要性，被她给出的推荐数量稀释。所以来自*的重要推荐*谨慎推荐*的人最重要。*

现在考虑一下这个。该图可以具有有向圈。例如，P 和 Q 可以相互推荐。在更复杂的情况下，可能会有一长串的推荐。如 P → Q → R → S → P，一般来说，图可以是任意复杂的。那是任何有向图。

所以情况是递归的。那么我们如何计算重要性分数呢？在这里，我们不会正式地描述 PageRank 算法，甚至不会完整地描述它。我们将在下面的有向图中尝试一下它是如何工作的。

该图有三个节点 P、Q 和 r。该算法将重要性分数建模为节点上的概率分布。(认为，*相对*重要。)它从初始概率分布开始，并迭代地调整概率，直到它们停止变化(很多)。关键是，如果它们停止变化，它们就已经“安定下来”，即处于某种形式的平衡。我们将通过遍历一个迭代来感受“安定下来”。

![](img/4252e787c82e2df9bffb56dca15880c2.png)

说明迭代重要性分数计算的图表:作者图片

让我们从初始化开始，其中所有三个节点的重要性概率都是⅓，表示同等的重要性。接下来，让我们一次看一个节点。我们将根据其邻居的当前重要性分数来更新其重要性分数。(节点的内部邻居是具有进入前者的弧线的节点。)然后继续迭代。这在下面描述

```
Iteration  I(P)  I(Q)  I(R)
0           1/3   1/3    1/3
1          **>1/3**    .      .
```

在第一次迭代中，p 的重要性被提升了，因为算法意识到 p 已经收到了两个推荐人，他们的重要性分数目前都是⅓。相比之下，q 和 r 只收到了一个当前重要人物⅓.的推荐

请注意，更新后的重要性分数总和需要达到 1。我们不会解释这是如何发生的。为了向你保证这是可以做到的(虽然你不想这样做)，你可以用每个非标准化分数除以所有分数的总和。即显式地将一组正得分转换成概率分布。

**总结**

在这篇文章中，我们展示了 PageRank 算法如何产生比简单算法更细微的重要性分数，简单算法只计算网页的链接数量。

在这个过程中，读者还将理解(I)为什么算法是迭代的(简单的回答:这是产生细微差别的行为所需要的)以及(ii)更好地理解它的用例的宽度。o 后者，本质上是任何需要对其节点的重要性进行评分的图，web 图和社交网络是两个最突出的例子。

**延伸阅读**

[https://en.wikipedia.org/wiki/PageRank](https://en.wikipedia.org/wiki/PageRank)