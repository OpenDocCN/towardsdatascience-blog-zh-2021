# å˜é‡è¯¯å·®æ¨¡å‹:æˆ´æ˜å›å½’

> åŸæ–‡ï¼š<https://towardsdatascience.com/error-in-variables-models-deming-regression-11ca93b6e138?source=collection_archive---------8----------------------->

## [å®è·µæ•™ç¨‹](https://towardsdatascience.com/tagged/hands-on-tutorials)

## å½“åˆ°å¤„éƒ½æ˜¯é”™è¯¯çš„æ—¶å€™ï¼Œå¾—åˆ°æ­£ç¡®çš„ç»“è®º

![](img/3d33baf95ce50290f5c84809588e6192.png)

[è‹çŠÂ·QÂ·å°¹](https://unsplash.com/@syinq?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

# ä»‹ç»

æœºå™¨å­¦ä¹ é€šå¸¸éƒ½æ˜¯å…³äºä»¥ä¸‹é—®é¢˜:

> ç»™å®šä¸€ä¸ªæ•°æ®é›†(Xï¼Œy)ï¼Œå…¶ä¸­ X æ˜¯ç‰¹å¾çŸ©é˜µï¼Œy æ˜¯ç›®æ ‡å‘é‡ï¼Œæ±‚ä¸€ä¸ª fï¼Œf(X) â‰ˆ yã€‚

å› ä¸ºç›®æ ‡å€¼ *y* å­˜åœ¨è¯¯å·®ï¼Œæˆ‘ä»¬é€šå¸¸åš**è€Œä¸æ˜¯**æ‰§è¡Œä¸¥æ ¼çš„ç­‰å¼Ã la*f*(*X*)=*y*ã€‚è¿™äº›é”™è¯¯æºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³æˆ‘ä»¬é€šå¸¸æ— æ³•è§‚å¯Ÿåˆ°å®‡å®™ä¸­çš„æ‰€æœ‰äº‹ç‰©å¹¶å°†å…¶æ”¾å…¥æˆ‘ä»¬çš„ç‰¹å¾çŸ©é˜µä¸­ã€‚å³ä½¿*å¦‚æœ*æˆ‘ä»¬å¯ä»¥ï¼Œé‡å­åŠ›å­¦å‘Šè¯‰æˆ‘ä»¬ï¼Œç³»ç»Ÿä¸­å¯èƒ½ä»ç„¶å­˜åœ¨éšæœºæ€§ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬æœ‰å¯èƒ½åœ¨ç›¸åŒçš„è¾“å…¥ä¸‹è·å¾—ä¸åŒçš„ç»“æœã€‚

é•¿è¯çŸ­è¯´ï¼Œæ ‡ç­¾æ˜¯å˜ˆæ‚çš„ï¼Œæˆ‘ä»¬é€šè¿‡å¼•å…¥ä¸€ä¸ªè¯¯å·®é¡¹ *É›ã€*æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚çº¿æ€§å›å½’æƒ…å†µä¸‹çš„ *y* = *a*x + b + É›* ã€‚ç›®å‰æ²¡æœ‰æ–°æ¶ˆæ¯ã€‚ä½†è¯·å›ç­”æˆ‘ä»¥ä¸‹é—®é¢˜:

> æœ‰æ²¡æœ‰æƒ³è¿‡ç‰¹å¾å˜é‡ X çš„é”™è¯¯ï¼Ÿ

æˆ‘å½“ç„¶æ²¡æœ‰ã€‚æ‰€ä»¥è®©æˆ‘å‘Šè¯‰ä½ ä»€ä¹ˆæ—¶å€™è¿™å¾ˆé‡è¦ã€‚

# **åŠ¨æœº**

æˆ‘å–œæ¬¢ç»å…¸çš„ã€ä¸èµ·çœ¼çš„ä¾‹å­ã€‚å®ƒä»¬ä¸ä¼šè®©ä½ åˆ†å¿ƒï¼Œè®©ä½ ä¸“æ³¨äºæ–°äº‹ç‰©ï¼Œä¸€æ­¥ä¸€æ­¥æ¥ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ç”¨ä¸‹é¢è¿™ä¸ª:**é¢„æµ‹ä¸€ä¸ªäººçš„èº«é«˜ï¼Œç»™å®šä½“é‡ï¼ä»¥å‰ä»æ²¡åšè¿‡è¿™ä¸ªï¼Œå¯¹å—ï¼ŸğŸ˜‰**

> ä½ çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä½“é‡å’Œèº«é«˜çš„å…³ç³»ã€‚å¦‚æœä¸€ä¸ªäººæ¯”å¦ä¸€ä¸ªäººé‡ 1 å…¬æ–¤ï¼Œä½ èƒ½è¯´ä»–ä»¬çš„èº«é«˜æ˜¯å¤šå°‘ï¼Ÿä½ æƒ³ä½¿ç”¨çº¿æ€§æ¨¡å‹ï¼Œæ‰€ä»¥åŸºæœ¬ä»»åŠ¡æ˜¯è®¡ç®—ç›´çº¿çš„æ–œç‡ã€‚

**æ•…äº‹:**ä½ é‚€è¯·äº† 500 äººå‚åŠ ä½ çš„åˆ›æ–°ç ”ç©¶ï¼Œå¹¶é‡äº†ä»–ä»¬çš„ä½“é‡å’Œèº«é«˜ã€‚

**è½¬æŠ˜:**å®éªŒç»“æŸåï¼Œä½ æ³¨æ„åˆ°ä½ çš„ç§¤ç›¸å½“ä¸å‡†ç¡®â€”â€”åœ¨åå¤ç§°è‡ªå·±çš„ä½“é‡åï¼Œä½ å¾—åˆ°äº†å¾ˆå¤šæ»¡åœ°çš„æ•°å­—ï¼Œå°½ç®¡å®ƒä»¬çš„å‡å€¼è‡³å°‘åœ¨ä½ çš„çœŸå®ä½“é‡é™„è¿‘ã€‚å…¶ä»– 500 ä¸ªé‡é‡çº§ä¹Ÿæ˜¯å¦‚æ­¤*ã€‚å“å‘€*ã€‚è¿™ç§æƒ…å†µæ€ä¹ˆå¤„ç†ï¼Ÿé‡æ–°è¿è¡Œæ•´ä¸ªå®éªŒè‚¯å®šæ˜¯**è€Œä¸æ˜¯**ä¸€ä¸ªé€‰é¡¹ã€‚

![](img/76cb8a2d3c57bff2b03c1771b53c146c.png)

[ä¸»é¢˜å®¢æ ˆ](https://unsplash.com/@themeinn?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) æ‹æ‘„çš„ç…§ç‰‡

## æ•°æ®

æˆ‘ä»¬ä»ç”Ÿæˆä¸€äº›æ•°æ®å¼€å§‹ï¼Œè¿™äº›æ•°æ®å¯èƒ½æ˜¯ä½ åœ¨å®éªŒä¸­è·å¾—çš„:é¦–å…ˆï¼Œæˆ‘ä»¬ç”ŸæˆçœŸå®çš„é‡é‡ *x_true* ï¼Œå¹¶ä»ä¸­å¯¼å‡ºèº«é«˜ *y* ã€‚ç„¶åï¼Œæˆ‘ä»¬ç»™æƒé‡ *x_true* æ·»åŠ ä¸€äº›å™ªå£°ï¼Œå¹¶å°†ç»“æœç§°ä¸º *x* ã€‚

> æ³¨æ„:æˆ‘ç”¨ X ä»£æ›¿ Xï¼Œå› ä¸ºæˆ‘ä»¬è¿™é‡Œåªæœ‰ä¸€ä¸ªå•ä¸€çš„ç‰¹æ€§ã€‚

```
import numpy as np

np.random.seed(0)

n = 500
x_true = 10*np.random.randn(n) + 70 # the true, unobserved weights
y = x_true + 100 + 5*np.random.randn(n) # the observed heights
x = x_true + 10*np.random.randn(n) # the noisy, observed weights
```

åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬åªè¢«ç»™äºˆ *x* å’Œ *y* æ¥å¤„ç†ï¼Œæ‰€ä»¥è¿™å°±æ˜¯æˆ‘ä»¬æ‰€çœ‹åˆ°çš„:

![](img/9f76fc84939872adfecaa8f7d9b5e9ef.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚

å¦‚æœæˆ‘ä»¬ä¸çŸ¥é“åç§¤ï¼Œæˆ–è€…æ ¹æœ¬ä¸å…³å¿ƒåç§¤ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æœ‰å™ªå£°çš„ *x* å’Œ *y* åº”ç”¨çº¿æ€§å›å½’æ¨¡å‹ï¼Œä¾‹å¦‚:

```
from sklearn.linear_model import LinearRegression

lr = LinearRegression()
lr.fit(x.reshape(-1, 1), y)

print(f'height = {lr.coef_[0]:.2f}*weight + {lr.intercept_:.2f}')

# Output:
# height = 0.50*weight + 134.09
```

å—¯ï¼Œçœ‹èµ·æ¥æ˜¯ä¸ªåˆç†çš„ç»“æœ:ä½“é‡è¶Šé«˜ï¼Œèº«é«˜è¶Šé«˜ã€‚å¥å…¨æ€§æ£€æŸ¥é€šè¿‡ã€‚ä½†æ˜¯ï¼Œå›å¤´çœ‹çœ‹æˆ‘ä»¬æ˜¯å¦‚ä½•ç”Ÿæˆé«˜åº¦å€¼çš„:

```
y = x_true + 100 + 5*np.random.randn(n)
```

çœŸæ­£çš„ç³»æ•°å…¶å®æ˜¯ 1ï¼Œæˆªè·æ˜¯ 100ï¼Œå’Œæˆ‘ä»¬è¿è¡Œçº¿æ€§å›å½’å¾—åˆ°çš„ç³»æ•° 0.5ï¼Œæˆªè· 134 ç›¸å·®ç”šè¿œã€‚å¦‚æœè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå–å†³äºä½ ï¼Œè™½ç„¶ã€‚

å¦‚æœä½ ç»§ç»­ä½¿ç”¨ä½ çš„åç§¤ï¼Œä½ åªæ˜¯æƒ³é¢„æµ‹ï¼Œç›®å‰çš„å‹å·**èº«é«˜= 0.50 *ä½“é‡+ 134.09** æ˜¯æ­£ç¡®çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒå®Œå…¨é€‚åº”è¿™ç§è®¾ç½®ã€‚ä½ åªæ˜¯è¿™æ ·è®­ç»ƒå®ƒã€‚

å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ æƒ³çŸ¥é“èº«é«˜å’ŒçœŸå®ä½“é‡ä¹‹é—´çš„çœŸå®å…³ç³»ï¼Œä½ å¿…é¡»æ¯”é‚£æ›´èªæ˜ã€‚é—®é¢˜æ˜¯ä½ çš„æ–œç‡å¤ªå°äº†ï¼Œä¹Ÿå°±æ˜¯ä¿—ç§°çš„[å›å½’ç¨€é‡Šæˆ–è€…å›å½’è¡°å‡](https://en.wikipedia.org/wiki/Regression_dilution)ã€‚æˆ‘ä»¬ç°åœ¨æ¥çœ‹çœ‹å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

# ç”¨æˆ´æ˜å›å½’æ³•ä¿®å¤é‡è¡¨

å³ä½¿æ˜¯è„æ•°æ®ï¼Œä¹Ÿæœ‰å‡ ç§æ–¹æ³•å¯ä»¥æ£€ç´¢æ­£ç¡®çš„ç³»æ•°ã€‚æœ€ç®€å•çš„ä¸€ç§æ˜¯æ‰€è°“çš„[æˆ´æ˜å›å½’](https://en.wikipedia.org/wiki/Deming_regression)ï¼Œè¿™æ˜¯æ™®é€šæœ€å°äºŒä¹˜æ³•çš„ä¸€ç§å˜ä½“ï¼Œç”¨äºè§£é‡Šè¯¯å·®ã€‚

æˆ´æ˜å›å½’æ˜¯ä»¥å¨å»‰Â·çˆ±å¾·åÂ·æˆ´æ˜åšå£«çš„åå­—å‘½åçš„ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œä»–ç”šè‡³æ²¡æœ‰å‘æ˜è¿™ç§æ–¹æ³•ï¼Œä½†å´ä½¿å®ƒæµè¡Œèµ·æ¥ã€‚å‘æ˜è€… **R. J .é˜¿å¾·è€ƒå…‹**å’Œ **C. H .åº“æ¢…å°”**ä¹ŸåŠŸä¸å¯æ²¡ã€‚

## è®¡ç®—ç›´çº¿

åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å¿«é€Ÿæµè§ˆä¸€äº›ç¬¦å·ã€‚ä½ å¯èƒ½å·²ç»çœ‹åˆ°äº†è¿™äº›ä¸œè¥¿ï¼Œä½†æ˜¯è®©æˆ‘ä»¬åœ¨è¿™é‡Œè®©æ¯ä¸ªäººéƒ½åœ¨åŒä¸€é¡µä¸Šã€‚æˆ‘ä»¬å‡è®¾ *x=(xâ‚ï¼Œxâ‚‚ï¼Œxâ‚ƒï¼Œâ€¦ï¼Œxâ‚™)* å’Œ *y=(yâ‚ï¼Œyâ‚‚ï¼Œyâ‚ƒï¼Œâ€¦ï¼Œyâ‚™)* æ˜¯æˆ‘ä»¬çš„æ•°æ®é›†ã€‚ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰å¦‚ä¸‹:

![](img/6555ef6ed8a5aa9bfec77f9df116056e.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚

åœ¨æˆ‘ä»¬è®¨è®ºæˆ´æ˜å›å½’å…¬å¼ä¹‹å‰ï¼Œè®©æˆ‘å¼ºè°ƒä¸€ä¸‹ï¼Œæœ‰äº†è¿™äº›ç¬¦å·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡

![](img/16583adf1483f0a94b36365953cef745.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚

åœ¨ Python ä¸­ç¿»è¯‘æˆ

```
s_xy = ((x - x.mean()) * (y - y.mean())).sum() 
s_xx = ((x - x.mean())**2).sum()

print(f'slope = {s_xy / s_xx:.2f}')

# Output:
# slope = 0.50
```

ä½ ä¹Ÿå¯ä»¥ç”±æ­¤è®¡ç®—æˆªè·ï¼Œè¿™é‡Œæˆ‘çœç•¥äº†ã€‚æˆ‘ä»¬ä» sklearn å·²ç»çŸ¥é“æ˜¯ **134.09ã€‚**

ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä¸ºæˆ´æ˜ã€é˜¿å¾·è€ƒå…‹å’Œåº“æ¢…å°”åšä¸€äº›å…¬æ­£çš„äº‹ï¼Œå¹¶æå‡ºè°ƒæ•´åçš„æ–œç‡å’Œæˆªè·:

![](img/21a85885a9c8893a7c66e98d1676dfc8.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚

å¥½å§ï¼Œçœ‹èµ·æ¥ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œä½†è¿˜æ˜¯å¯ä»¥å¤„ç†çš„ã€‚ä½†æ˜¯å…¬å¼ä¸­çš„è¿™ä¸ª *Î´* æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¯æ‚²çš„æ˜¯ï¼Œè¿™æ˜¯è¿™ç§æ–¹æ³•çš„ä¸»è¦ç¼ºç‚¹ã€‚è¿™ä¸æ˜¯æˆ‘ä»¬å¯ä»¥è®¡ç®—çš„ï¼Œæˆ‘ä»¬åªéœ€è¦*çŸ¥é“*æˆ–è€…çŒœæµ‹ã€‚

*Î´* æ˜¯ *y* çš„è¯¯å·®æ–¹å·®é™¤ä»¥ *x* çš„è¯¯å·®æ–¹å·®çš„æ¯”å€¼ã€‚æˆ‘çš„æ„æ€æ˜¯è¿™æ ·çš„:å›å½’å…¬å¼ *y* = *a*x + b + É›* ï¼ŒåŒ…å«ä¸€ä¸ªæ­£æ€åˆ†å¸ƒçš„éšæœºå˜é‡ *É›* ï¼Œæ‰€ä»¥æˆ‘ä»¬å‡è®¾ã€‚Ïƒáµ§.çš„æƒ…å†µæœ‰äº›å˜åŒ–*è¿™å°±æ˜¯æˆ‘è¯´çš„*â€œ*y ä¸­è¯¯å·®çš„æ–¹å·®â€ã€‚*

*æˆ‘ä»¬è¿›ä¸€æ­¥å‡è®¾æˆ‘ä»¬è§‚å¯Ÿåˆ°çš„æƒé‡ *x* ä¹Ÿæ˜¯é€šè¿‡å°†é«˜æ–¯å™ªå£°æ·»åŠ åˆ°çœŸå®æƒé‡ *x_trueï¼Œ*è€Œè·å¾—çš„ï¼ŒçœŸå®æƒé‡ä¹Ÿå…·æœ‰ä¸€äº›æ–¹å·®ï¼Œå³*â€œ*xâ€ä¸­è¯¯å·®çš„*æ–¹å·®ã€‚**

*åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è¢«ç»™äºˆäº†ä¸€åˆ‡ã€‚è®©æˆ‘ç²˜è´´æˆ‘ä»¬ç”¨æ¥åˆ›å»ºæ•°æ®é›†çš„å…¬å¼:*

```
*x_true = 10*np.random.randn(n) + 70

y = x_true + 100 + 5*np.random.randn(n)
x = x_true + 10*np.random.randn(n)*
```

*è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° *y* ä¸­è¯¯å·®çš„æ–¹å·®æ­£å¥½æ˜¯5 = 25ã€‚ *x* ä¸­è¯¯å·®çš„æ–¹å·®ä¸º 10 = 100ï¼Œå› æ­¤*Î´*= 25/100 =**1/4***ã€‚*æ’ä¸Šæ‰€æœ‰ä¸œè¥¿ç»™æˆ‘ä»¬*

```
*x_mean = x.mean()
y_mean = y.mean()

s_xy = ((x - x.mean()) * (y - y.mean())).sum() 
s_xx = ((x - x.mean())**2).sum()
s_yy = ((y - y.mean())**2).sum()

delta = 1/4

deming_slope = (s_yy - delta*s_xx + np.sqrt((s_yy - delta*s_xx)**2 + 4*delta*s_xy**2)) / (2*s_xy)
deming_intercept = y_mean - x_mean*deming_slope

print(f'Deming slope = {deming_slope:.2f}')
print(f'Deming intercept = {deming_intercept:.2f}')

# Output:
# Deming slope = 1.03
# Deming intercept = 97.01*
```

*è¿™å·²ç»è¶³å¤Ÿæ¥è¿‘çœŸå®å€¼ 1 å’Œ 100 äº†ï¼å½“ç„¶ï¼Œè¿™ä¸æ˜¯ 100%å‡†ç¡®ï¼Œä½†è¿™æ˜¯æœ€å¤§ä¼¼ç„¶ä¼°è®¡çš„é€šå¸¸å¤„ç†æ–¹å¼ã€‚æˆ‘ä»¬å¯ä»¥æƒ³è±¡ç»“æœ:*

*![](img/d7ca8330e3eb0c3f5c7fb2c33dc35842.png)*

*å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚*

*æˆ‘ä»¬å¯ä»¥å†æ¬¡çœ‹åˆ°ï¼Œåœ¨å™ªå£°æ•°æ®ä¸Šè®­ç»ƒçš„å›å½’çº¿è¿‡äºå¹³å¦â€”â€”æ‰€è°“çš„å›å½’ç¨€é‡Šã€‚*

## *è§‚å¯Ÿ*

*æˆ‘ä¹‹å‰è¯´è¿‡æˆ´æ˜å›å½’æ˜¯ä¸€å…ƒç®€å•çº¿æ€§å›å½’çš„*å˜ä½“*ã€‚æ›´å‡†ç¡®çš„è¯´ï¼Œç”šè‡³æ˜¯çº¿æ€§å›å½’çš„**æ¨å¹¿**ã€‚æˆ‘çš„æ„æ€æ˜¯:*

> *å¦‚æœç‰¹å¾ *x* ä¸­æ²¡æœ‰**é”™è¯¯**ï¼Œæˆ´æ˜å›å½’å’Œç®€å•çº¿æ€§å›å½’äº§ç”Ÿç›¸åŒçš„ç»“æœã€‚*

*å¯¹æˆ‘æ¥è¯´ï¼Œè¿™æ˜¯ç›¸å½“ç›´è§‚çš„ï¼Œä½†çœ‹å…¬å¼ï¼Œå¾ˆéš¾çœ‹å‡ºã€‚æˆ‘ä¸ä¼šåœ¨è¿™é‡Œè¯æ˜ï¼Œä½†æˆ‘ä¼šåŠªåŠ›è®©ä½ ç›¸ä¿¡ã€‚*

*å¦‚æœ *x* æ²¡æœ‰è¯¯å·®ï¼Œé‚£ä¹ˆ *x* ä¸­è¯¯å·®çš„æ–¹å·®æ˜¯**é›¶**ï¼Œè¿™æ„å‘³ç€å®é™…ä¸Šæ²¡æœ‰æˆ‘ä»¬å¯ä»¥è®¡ç®—çš„ *Î´* ï¼Œå› ä¸ºæˆ‘ä»¬ä¼šé™¤ä»¥é›¶ã€‚ä½†æ˜¯è®©æˆ‘ä»¬å¤©çœŸåœ°è¯´ *Î´* åœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯**æ— ç©·å¤§**å› ä¸ºå¯¹äº*s*0 æˆ‘ä»¬æœ‰*

*![](img/6acc7778e8cb06bab1224c3ba0b965d3.png)*

*å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚*

*æˆ–è€…å¯¹éæ•°å­¦å®¶æ¥è¯´:*

> *ä¸€ä¸ªæ­£æ•°é™¤ä»¥ä¸€ä¸ªæå°çš„æ­£æ•°å°±æ˜¯ä¸€ä¸ªå¤§æ•°ã€‚*

*ç”±äºæˆ‘ä»¬ä¸èƒ½ç›´æ¥æ’å…¥æ— ç©·å¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªç©·äººçš„æŠ€å·§ï¼Œé€šè¿‡å°† *Î´* è®¾ç½®ä¸ºä¸€ä¸ªå·¨å¤§çš„æ•°å­—æ¥æ¨¡æ‹Ÿ*ã€‚**

```
*x_mean = x.mean()
y_mean = y.mean()

s_xy = ((x - x.mean()) * (y - y.mean())).sum() 
s_xx = ((x - x.mean())**2).sum()
s_yy = ((y - y.mean())**2).sum()

delta = 99999

deming_slope = (s_yy - delta*s_xx + np.sqrt((s_yy - delta*s_xx)**2 + 4*delta*s_xy**2)) / (2*s_xy)
deming_intercept = y_mean - x_mean*deming_slope

print(f'Deming slope = {deming_slope:.2f}')
print(f'Deming intercept = {deming_intercept:.2f}')

# Output:
# Deming slope = 0.50
# Deming intercept = 134.09*
```

*è¿™æ­£æ˜¯æˆ‘ä»¬ç®€å•çš„çº¿æ€§å›å½’ç»“æœï¼Œå¥½çœ‹ï¼*å°å¿ƒ:* **è¿™ä¸æ˜¯ä¸€å¼ **çš„æ ¡æ ·ï¼Œç„¶è€Œå´ç»™äººä¸€ç§ç¾å¥½çš„æ„Ÿè§‰ã€‚*

***å†æƒ³æƒ³å¦ä¸€ä¸ªæç«¯:**å¦‚æœç‰¹å¾çš„è¯¯å·®ç‰¹åˆ«å¤§ï¼Œæ¯”å¦‚è¯´*æ— ç©·å¤§*ä¼šæ€ä¹ˆæ ·ï¼Ÿå—¯ï¼Œç„¶å *Î´* å˜ä¸ºé›¶æ•´ä¸ªæˆ´æ˜æ–œç‡é¡¹ä¹Ÿå˜ä¸ºé›¶ï¼Œè¿™å¾ˆå®¹æ˜“è®¡ç®—(åšå§ï¼).æˆªè·å°±æ˜¯æ ‡ç­¾ *y* çš„å¹³å‡å€¼ã€‚åŸºæœ¬ä¸Šï¼Œæ¨¡å‹åªæ˜¯ä¸€æ¡å¹³é¢çº¿ã€‚*

*è¿™åœ¨ç›´è§‰ä¸Šä¹Ÿæ˜¯æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºè¿™äº›ç‰¹æ€§åœ¨è¿™ç§æƒ…å†µä¸‹åŸºæœ¬ä¸Šæ˜¯æ— ç”¨çš„ï¼Œæ‰€ä»¥æœ€å¥½å¿½ç•¥å®ƒä»¬ï¼Œå°±åƒæ ¹æœ¬æ²¡æœ‰ç‰¹æ€§ä¸€æ ·ã€‚è€Œæ²¡æœ‰ä½¿å¹³æ–¹å’Œè¯¯å·®æœ€å°åŒ–çš„ç‰¹å¾çš„æœ€ä½³æ¨¡å‹åªæ˜¯å¸¸æ•°å‡å€¼é¢„æµ‹ã€‚*

# *ç»“è®º*

*åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ç‰¹æ€§ *X* ä¸­çš„é”™è¯¯é—®é¢˜ï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•å½±å“å˜é‡ä¹‹é—´çš„çœŸå®å…³ç³»ã€‚ç®€å•çº¿æ€§å›å½’äº§ç”Ÿçš„æ–œç‡é€šå¸¸å¤§å¤§ä½äºçœŸå®å€¼ï¼Œç§°ä¸ºå›å½’ç¨€é‡Šã€‚*

*ç„¶è€Œï¼Œèªæ˜äººå‘æ˜äº†å¦ä¸€ç§å›å½’æ¥è°ƒæ•´è¿™äº›é”™è¯¯:æˆ´æ˜å›å½’ã€‚è¿™ä½¿å¾—ä»ç„¶å¯ä»¥å¾—å‡ºæ­£ç¡®çš„ç»“è®ºï¼Œè€Œä¸éœ€è¦å¦ä¸€æ¬¡é‡æ–°è¿è¡Œå®éªŒï¼Œè¿™å¯ä»¥èŠ‚çœæ—¶é—´ã€é‡‘é’±å’Œç²¾åŠ›ã€‚*

*æˆ´æ˜å›å½’å¾ˆæ£’ï¼Œä½†æ˜¯çŒœæµ‹ *Î´* çš„æ­£ç¡®å€¼å¾ˆæ£˜æ‰‹ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸»è¦ç¼ºç‚¹ï¼Œå› ä¸ºå›å½’çš„ç»“æœä¸¥é‡ä¾èµ–äº *Î´* ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä½ ç”šè‡³å¯ä»¥åœ¨ç‰¹æ€§å‡ºé”™çš„æƒ…å†µä¸‹å‘è¡¨å£°æ˜ï¼Œè¿™å¾ˆå¥½ã€‚*

*ç°åœ¨ä¸€ä¸ªè‡ªç„¶çš„é—®é¢˜æ˜¯:**å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªä»¥ä¸Šçš„ç‰¹å¾ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ**æ•°å­¦å®¶ä¸ºæˆ‘ä»¬ä»‹ç»äº†[æ€»ä½“æœ€å°äºŒä¹˜æ³•](https://en.wikipedia.org/wiki/Total_least_squares)ï¼Œè¿™æ˜¯å¯¹å¤šä¸ªå˜é‡çš„æˆ´æ˜å›å½’çš„ç›´æ¥æ¨å¹¿ã€‚è¿˜æœ‰æ›´å¤šçš„å‹å·ï¼Œæ­£å¦‚ä½ åœ¨è¿™é‡Œçœ‹åˆ°çš„ã€‚*

*ç°åœ¨ä½ çŸ¥é“äº†ï¼Œå…³æ³¨ä½ æ‰€æœ‰æµ‹é‡ä¸­çš„**è¯¯å·®ï¼Œå¹¶é‡‡å–ç›¸åº”æªæ–½å°½å¯èƒ½åœ°å‰Šå¼±å®ƒä»¬çš„å½±å“æ˜¯æœ‰æ„ä¹‰çš„ã€‚***

*æˆ‘å¸Œæœ›ä½ ä»Šå¤©å­¦åˆ°äº†æ–°çš„ã€æœ‰è¶£çš„ã€æœ‰ç”¨çš„ä¸œè¥¿ã€‚æ„Ÿè°¢é˜…è¯»ï¼*

***ä½œä¸ºæœ€åä¸€ç‚¹ï¼Œå¦‚æœä½ ***

1.  ***æƒ³æ”¯æŒæˆ‘å¤šå†™ç‚¹æœºå™¨å­¦ä¹ å’Œ***
2.  ***æ— è®ºå¦‚ä½•éƒ½è¦è®¡åˆ’è·å¾—ä¸­ç­‰è®¢é˜…é‡ï¼Œ***

***ä¸ºä»€ä¹ˆä¸åš** [**é€šè¿‡è¿™ä¸ªç¯èŠ‚**](https://dr-robert-kuebler.medium.com/membership) **ï¼Ÿè¿™å°†å¯¹æˆ‘å¸®åŠ©å¾ˆå¤§ï¼ğŸ˜Š***

*é€æ˜åœ°è¯´ï¼Œç»™ä½ çš„ä»·æ ¼ä¸å˜ï¼Œä½†å¤§çº¦ä¸€åŠçš„è®¢é˜…è´¹ç›´æ¥å½’æˆ‘ã€‚*

*éå¸¸æ„Ÿè°¢ï¼Œå¦‚æœä½ è€ƒè™‘æ”¯æŒæˆ‘çš„è¯ï¼*

> **æœ‰é—®é¢˜å°±åœ¨*[*LinkedIn*](https://www.linkedin.com/in/dr-robert-k%C3%BCbler-983859150/)*ä¸Šå†™æˆ‘ï¼**