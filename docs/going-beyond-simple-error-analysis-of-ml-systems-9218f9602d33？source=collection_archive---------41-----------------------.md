# è¶…è¶Š ML ç³»ç»Ÿçš„ç®€å•è¯¯å·®åˆ†æž

> åŽŸæ–‡ï¼š<https://towardsdatascience.com/going-beyond-simple-error-analysis-of-ml-systems-9218f9602d33?source=collection_archive---------41----------------------->

## [è¡Œä¸šç¬”è®°](https://towardsdatascience.com/tagged/notes-from-industry)

## åœ¨éƒ¨ç½²æœºå™¨å­¦ä¹ ç®—æ³•æ—¶ï¼ŒèµŒæ³¨æ¯”ä»»ä½•çŽ©å…·é—®é¢˜æˆ–ç«žäº‰éƒ½è¦é«˜å¾—å¤šã€‚

*åŽŸè½½äºŽ 2021 å¹´ 7 æœˆ 26 æ—¥*[*https://alexandruburlacu . github . io*](https://alexandruburlacu.github.io/posts/2021-07-26-ml-error-analysis)*ã€‚*

# é¦–å…ˆï¼Œæœ‰ä¸€ä¸ªæ•…äº‹â€¦

æƒ³è±¡ä½ è‡ªå·±æ˜¯ä¸€å ML å·¥ç¨‹å¸ˆâ€¦éžå¸¸é…·ï¼Œæˆ‘çš„æœ‹å‹ï¼

é¦–å…ˆæ­å–œä½ ï¼Œæ‹æ‹è‡ªå·±çš„èƒŒï¼Œä½ çš„å®¶äººä¸€å®šå¾ˆéª„å‚²ã€‚

ç¬¬äºŒï¼Œæ ¹æ®å…¬å¸è§„æ¨¡ã€æ–‡åŒ–å’Œæœºå™¨å­¦ä¹ å›¢é˜Ÿçš„æˆç†Ÿåº¦ï¼Œä½ å¾ˆå¯èƒ½ä¼šåœ¨è®¸å¤šè®¡ç®—æœºç§‘å­¦å’Œè½¯ä»¶å·¥ç¨‹é¢†åŸŸä¸­æ¼«æ¸¸ã€‚

å†æ¬¡ï¼Œæ‹æ‹è‡ªå·±çš„èƒŒã€‚çŽ°åœ¨ï¼Œè®©æˆ‘ä»¬è¿›å…¥æ­£é¢˜ã€‚

ä½œä¸º MLEï¼Œä½ çš„éƒ¨åˆ†å·¥ä½œæ˜¯æŒ‘é€‰ã€è°ƒæ•´å’Œéƒ¨ç½² ML æ¨¡åž‹ã€‚æˆ‘ç›¸ä¿¡æˆ‘ä¸éœ€è¦å‘ä½ è§£é‡Šè¿™ä¸æ˜¯é‚£ä¹ˆå¾®ä¸è¶³é“çš„ã€‚ä½ ä¸€å®šç›¸ä¿¡è¿™ä¸ªè¿‡ç¨‹çš„éš¾ç‚¹æ˜¯è°ƒæ¨¡åž‹å§ï¼Ÿæˆ–è€…å¯èƒ½æ˜¯ç®—æ³•çš„éƒ¨ç½²ï¼Ÿè™½ç„¶è¿™äº›ç¡®å®žå¾ˆé‡è¦ï¼Œå°¤å…¶æ˜¯åŽä¸€ä¸ªï¼Œä½†è¿™é‡Œæœ‰ä¸ªé—®é¢˜*ç»™ä½ :*

> **æ‚¨å¦‚ä½•ç¡®ä¿ç”Ÿäº§å‡ºé«˜è´¨é‡çš„æ¨¡åž‹ï¼Ÿ**

å¦‚æžœä½ è¦å‘Šè¯‰æˆ‘ï¼Œä½ åˆšåˆšåœ¨ä¸€ä¸ªä¿ç•™çš„æ•°æ®é›†ä¸Šæµ‹è¯•äº†ä½ çš„æ¨¡åž‹ï¼Œä½ é€‰æ‹©çš„åº¦é‡æ ‡å‡†æ˜¯ç²¾åº¦æˆ–å‡æ–¹å·®ä¹‹ç±»çš„ä¸œè¥¿ï¼Œé‚£å°±è¿è¡Œå§ã€‚å¾ˆå¿«ã€‚å¾ˆè¿œã€‚å¦‚æžœä½ æ²¡æœ‰è·‘ï¼Œå‡†å¤‡å¥½è¢«è´¨ç–‘ä½ æ˜¯å¦:

*   æœ‰ä¸€ä¸ªåŸºçº¿ï¼Œ
*   å¹³è¡¡æ•°æ®é›†æˆ–è°ƒæ•´æŒ‡æ ‡ï¼Œ
*   ä½¿ç”¨ä¿ç•™çš„æ•°æ®é›†è¿›è¡Œè°ƒæ•´/è¶…å‚æ•°æœç´¢â€¦ç­‰ç­‰ã€‚

![](img/e2febef8aef4f5770821f57e53a11092.png)

*è¿™ä¹ˆå¤šé—®é¢˜â€¦â€¦åˆ¶ä½œäºº:imgflip.com*

æˆ‘æƒ³ä½ çŽ°åœ¨å·²ç»æ˜Žç™½ï¼Œç®€å•çš„è®­ç»ƒ/æµ‹è¯•åˆ†å‰²å’Œä¸€äº›è¯¯å·®æŒ‡æ ‡ï¼Œæ¯”å¦‚å‡†ç¡®åº¦æˆ–è€…ç”šè‡³ F1*ï¼Œéƒ½ä¸è¶³ä»¥å›žç­”é—®é¢˜ã€‚ä½†æ˜¯ä»€ä¹ˆæ ·çš„*æ‰å¤Ÿå‘¢ï¼Ÿå—¯ï¼Œè§†æƒ…å†µè€Œå®šï¼Œå°±åƒè½¯ä»¶å·¥ç¨‹ä¸­çš„æ‰€æœ‰äº‹æƒ…ä¸€æ ·ã€‚æ‚¨éœ€è¦ç†è§£ï¼Œå°†æ‚¨çš„æ¨¡åž‹ç‰¹å¾å‡å°‘åˆ°åªæœ‰ä¸€ä¸ªæˆ–å‡ ä¸ªæ ‡é‡å°†ä¼šä¸¢å¤±å¤ªå¤šå…³äºŽæ¨¡åž‹çš„ä¿¡æ¯ã€‚*

**F1 æˆç»©æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œbtw*

# â€¦ç„¶åŽæ˜¯è‡³ç†åè¨€

**æ›´åƒä¸ªäººæˆ˜äº‰æ•…äº‹*

> å…è´£å£°æ˜Žï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å¸–å­ï¼Œæ‰€ä»¥ä¹Ÿè®¸æ³¡äº›èŒ¶/å’–å•¡ï¼Œåƒç‚¹é›¶é£Ÿï¼Œä½ çŸ¥é“ï¼Œä¸€äº›å¸®åŠ©ä½ åº¦è¿‡æ•´ä¸ªäº‹æƒ…çš„ä¸œè¥¿ã€‚ä¹Ÿè®¸è®°ç¬”è®°ä¼šå¸®åŠ©ä½ ä¿æŒä¸“æ³¨ã€‚åœ¨é˜…è¯»å¤§é‡çš„æŠ€æœ¯æ–‡æœ¬æ—¶ï¼Œå®ƒæ— ç–‘ä¼šå¯¹æˆ‘æœ‰æ‰€å¸®åŠ©ã€‚

å¦ä¸€ä¸ªå°å°çš„å…è´£å£°æ˜Ž:æˆ‘æœ‰ä¸€ä¸ªä¸Žè¿™ä¸ªä¸»é¢˜æ— å…³çš„æ—§å¸–å­ï¼Œä½†æ˜¯å®ƒçš„ç„¦ç‚¹æ˜¯å¯è§£é‡Šæ€§/å¯è§£é‡Šæ€§æ–¹æ³•ã€‚åœ¨è¿™ç¯‡åšå®¢æ–‡ç« ä¸­ï¼Œæˆ‘æ›´å¤šåœ°å…³æ³¨å¦‚ä½•è¯„ä¼°æœºå™¨å­¦ä¹ æ¨¡åž‹çš„é”™è¯¯ã€‚å¦‚æžœä½ è®¤ä¸ºè¿™äº›ä¸»é¢˜å½¼æ­¤éžå¸¸æŽ¥è¿‘ï¼Œæœ‰äº›é‡å ï¼Œä½ æ˜¯å¯¹çš„ã€‚ä¸ºäº†æ›´å¥½åœ°è¯„ä¼°ä¸€ä¸ªæ¨¡åž‹ï¼Œæˆ‘ä»¬æœ‰æ—¶éœ€è¦ç†è§£å®ƒè¿›è¡Œé¢„æµ‹çš„â€œæŽ¨ç†â€ã€‚

è¯·è®°ä½â€”â€”æ ¹æ®æ‚¨åº”ç”¨æœºå™¨å­¦ä¹ çš„é¢†åŸŸï¼Œä¸€ä¸ªä¸åˆæ ¼çš„æ¨¡åž‹å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œä»Žæ‚¨çš„ç”¨æˆ·çš„ä¸€ç‚¹çƒ¦æ¼åˆ°æ”¾å¤§åè§å¹¶ä½¿æ‚¨çš„å®¢æˆ·é€ƒç¦»æ‚¨çš„ä¼ä¸šçš„å®Œæ•´åžƒåœ¾ç®±ç«ç¾ã€‚è™½ç„¶ä¸Šè¿°ç”¨æˆ·å¯èƒ½å¾ˆå®¹æ˜“é€‰æ‹©é€€å‡ºå‰è€…ï¼Œä½†åŽè€…å¯èƒ½ä¼šæ¯äº†ä½ çš„ä¸šåŠ¡ã€‚æˆ‘ä»¬ä¸æƒ³é‚£æ ·ã€‚ä½ çš„é›‡ä¸»è‚¯å®šä¸çŸ¥é“ã€‚

å¥½çš„ï¼Œæ”¶åˆ°ã€‚ä½†æ˜¯ä½ *æ€Žä¹ˆçŸ¥é“*ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡åž‹æ˜¯å¥½çš„å‘¢ï¼Ÿéœ€è¦äº†è§£å®ƒçš„é¢„æµ‹å—ï¼Ÿä½ çš„ç”¨ä¾‹ä¸­æœ‰ä½ æœ€å…³å¿ƒçš„ç‰¹å®šç”¨æˆ·ç¾¤å—ï¼Ÿè¿™äº›é—®é¢˜å¯ä»¥å¸®åŠ©æ‚¨èŽ·å¾—ä¸€ä¸ªè¯„ä¼°ç­–ç•¥ï¼Œä»Žè€Œç¡®ä¿åœ¨æ‚¨éƒ¨ç½²ä¸€ä¸ª ML æ¨¡åž‹ä¹‹åŽä¸ä¼šå‡ºçŽ°ä»»ä½•é—®é¢˜ã€‚

ä½ çŸ¥é“å—ï¼Œè®©æˆ‘å…ˆå®šä¹‰å‡ ä¸ª ML è¯„ä¼°æˆç†Ÿåº¦ç­‰çº§ã€‚å¯¹æˆ‘æ¥è¯´è§£é‡Šèµ·æ¥æ›´å®¹æ˜“ï¼Œå¯¹ä½ æ¥è¯´ä¹Ÿæ›´å®¹æ˜“ç†è§£ã€‚çŽ°åœ¨ï¼Œä¸è¦ä¸ºä¸€äº›æ›´é«˜çº§çš„æœ¯è¯­çš„å«ä¹‰è€Œçƒ¦æ¼ï¼Œæˆ‘å°†åœ¨æœ¬èŠ‚ä¹‹åŽè§£é‡Šå®ƒä»¬ã€‚

*   **0 çº§(L0)** :æœ‰ä¸€ä¸ªè®­ç»ƒ+æµ‹è¯•åˆ†å‰²å’Œä¸€ä¸¤ä¸ªé€šç”¨æŒ‡æ ‡ï¼Œæ¯”å¦‚ MSE æˆ–å‡†ç¡®æ€§ã€‚åœ¨è¿™ä¸ªå±‚æ¬¡ä¸Šï¼Œä¸å»ºè®®éƒ¨ç½² ML æ¨¡åž‹(æœ€å¥½ç†è§£ä¸º:ä¸è´Ÿè´£ä»»)ã€‚
*   **ç¬¬ 1 çº§(L1)** :å‰ä¸€çº§ï¼Œä½†æ˜¯å¦‚æžœå¯èƒ½çš„è¯ä½¿ç”¨äº¤å‰éªŒè¯ï¼Œæˆ–è€…æœ€åçš„æƒ…å†µï¼Œæœ‰ä¸€ä¸ªå¤§è€Œå¤šæ ·çš„æµ‹è¯•é›†ã€‚å¯¹äºŽåˆ†ç±»é—®é¢˜ï¼Œæ‚¨éœ€è¦æ¯ä¸ªç±»çš„åº¦é‡ï¼Œå¯¹äºŽå›žå½’é—®é¢˜ï¼Œæ‚¨éœ€è¦å¤šä¸ªåº¦é‡ã€‚å¯¹äºŽåˆ†ç±»ç”¨ä¾‹ï¼ŒROC-AUC å¾—åˆ†æˆ– F1 å¾—åˆ†ç­‰æŒ‡æ ‡æ¯”å‡†ç¡®æ€§å¥½å¾—å¤šï¼Œå› æ­¤ä½¿ç”¨è¿™äº›æŒ‡æ ‡ã€‚æ­¤å¤–ï¼Œäº†è§£æ‚¨çš„æ¨¡åž‹çš„ç²¾åº¦å’Œå¬å›žç‰¹æ€§å¯¹äºŽæˆåŠŸçš„ ML äº§å“è‡³å…³é‡è¦ã€‚åœ¨å›žå½’çš„æƒ…å†µä¸‹ï¼Œ[MAPE+RMSE+è°ƒæ•´åŽçš„ R](https://medium.com/analytics-vidhya/mae-mse-rmse-coefficient-of-determination-adjusted-r-squared-which-metric-is-better-cd0326a5697e) æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç»„åˆï¼Œä½ ä¹Ÿå¯ä»¥è€ƒè™‘ç”¨ [AIC å’Œ/æˆ– BIC](https://stats.stackexchange.com/questions/577/is-there-any-reason-to-prefer-the-aic-or-bic-over-the-other) ã€‚å¯¹äºŽå›žå½’ï¼Œå°è¯•è‡³å°‘æœ‰ä¸€ä¸ªå¯¹å¼‚å¸¸å€¼ç¨³å¥çš„åº¦é‡æ ‡å‡†( [MAPE å¯¹æŸäº›ç±»åž‹çš„å¼‚å¸¸å€¼ç¨³å¥ï¼Œä½†å¯¹å…¶ä»–ç±»åž‹çš„å¼‚å¸¸å€¼ä¸ç¨³å¥](https://www.h2o.ai/blog/regression-metrics-guide))ã€‚
*   **Level 1.1 (L1.1)** :æ£€æŸ¥å¤§å¤šæ•°é”™è¯¯é¢„æµ‹ï¼Œå³é¢„æµ‹å¯ä¿¡åº¦é«˜ï¼Œä½†é¢„æµ‹é”™è¯¯çš„æ¡ç›®ã€‚å®ƒå¯ä»¥å¸®åŠ©ä½ å‘çŽ°é”™è¯¯æ¨¡å¼ï¼Œç”šè‡³å¯èƒ½æ˜¯åè§ã€‚
*   **ç¬¬ 2 çº§(L2)** :ä½¿ç”¨åäº‹å®žå’Œè¾“å…¥å€¼éšæœºå˜åŒ–çš„æ‰°åŠ¨åˆ†æžã€‚é€šå¸¸ï¼Œè¿™ç§æ–¹æ³•å…è®¸ç†è§£æ¯ä¸ªæ¡ç›®çš„ç‰¹æ€§é‡è¦æ€§ï¼Œä½†è¿™æ›´åƒæ˜¯æ‚¨å¿…é¡»åŠªåŠ›æ‰èƒ½èŽ·å¾—çš„é¢å¤–æ”¶èŽ·ã€‚
*   **2.1 çº§(l 2.1)**:[ICE/PDP](https://scikit-learn.org/stable/modules/partial_dependence.html)/[ALE](https://christophm.github.io/interpretable-ml-book/ale.html)å›¾å¯ç”¨äºŽæ›´å¥½åœ°ç†è§£ç‰¹æ€§é‡è¦æ€§ã€‚è¯·è®°ä½ï¼Œè¿™äº›å¯¹è®¡ç®—èƒ½åŠ›çš„è¦æ±‚ç›¸å½“é«˜ã€‚
*   **2.2 çº§(L2.2)** :åœ¨æ‰¹å‡†éƒ¨ç½²æ¨¡åž‹ä¹‹å‰ï¼Œæ›¿ä»£å±€éƒ¨è§£é‡Š(é€šå¸¸æ˜¯çŸ³ç°)å’Œ/æˆ–é™„åŠ ç‰¹å¾è§£é‡Š(å³ SHAP)ä»¥ç†è§£æ¨¡åž‹é¢„æµ‹ã€‚ä¹Ÿéœ€è¦å¤§é‡è®¡ç®—ã€‚
*   **ä¸‰çº§(L3)** :åŸºäºŽç¾¤ç»„çš„æ¨¡åž‹æ£€éªŒã€‚å®šä¹‰ç¾¤ç»„çš„ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡[æµå½¢](https://github.com/uber/manifold)å¼çš„é”™è¯¯åˆ†ç»„ã€‚åœ¨è¿™ä¸ªå±‚æ¬¡ä¸Šï¼Œé‡è¦çš„æ˜¯è¦è®¤è¯†åˆ°æ•°æ®åˆ†å¸ƒçš„å˜åŒ–ï¼Œå¦‚æžœé€‚ç”¨çš„è¯ï¼Œè¦å¯¹ä¸åŒæ—¶æœŸçš„æ•°æ®è¿›è¡Œè¯„ä¼°ã€‚è¯·ç›¸ä¿¡æˆ‘ï¼Œæœ‰æ—¶ç‰¹æ€§å’Œ/æˆ–æ ‡ç­¾åˆ†å¸ƒä¼šå‘ç”Ÿå˜åŒ–ï¼Œå³ä½¿åœ¨æ‚¨ä¸å¸Œæœ›å®ƒä»¬å‘ç”Ÿå˜åŒ–çš„é¢†åŸŸã€‚ä¸è€ƒè™‘è¿™ä¸€ç‚¹ä¼šè®©ä½ æ„Ÿåˆ°å¤´ç–¼ã€‚
*   **(å¯é€‰)ç¬¬å››çº§(L4)** :å¯¹æŠ—æ€§å®žä¾‹æ£€æŸ¥ã€‚åƒä¸»æ’­å’Œ TCAV è¿™æ ·çš„ä¸œè¥¿ä¹Ÿåœ¨è¿™ä¸ªæ°´å¹³ã€‚åŽŸåˆ™ä¸Šï¼Œä»»ä½•å…¶ä»–é«˜çº§çš„æ¨¡åž‹å¯è§£é‡Šæ€§/å¯è§£é‡Šæ€§æˆ–å®‰å…¨å®¡è®¡éƒ½åœ¨è¿™ä¸ªçº§åˆ«ã€‚

![](img/ad4df77bd7e5836e482f6fdbdaa994a4.png)

*å¼‚èƒ½ç­‰çº§ã€‚ä¸è¦åš L0ã€‚åˆ¶é€ åŽ‚å•†:imgflip.com*

å½“åœ¨æµ‹è¯•ç‰ˆä¸­å‘å¸ƒä¸€ä¸ªæ¨¡åž‹æ—¶ï¼Œä½ ä¼šå¸Œæœ›å¤„äºŽç¬¬ 1 çº§ï¼Œå½“å®ƒå¤„äºŽç”Ÿäº§é˜¶æ®µæ—¶ï¼Œä½ ä¼šå¸Œæœ›å¤„äºŽç¬¬ 2 çº§ï¼Œç„¶åŽä»Žç¬¬ 2 çº§å‘å±•åˆ°ç¬¬ 3 çº§ã€‚çº§åˆ« 4 æ›´å…·ä½“ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªç”¨ä¾‹éƒ½éœ€è¦å®ƒã€‚ä¹Ÿè®¸ä½ æ­£åœ¨å†…éƒ¨ä½¿ç”¨ä½ çš„ ML ç®—æ³•ï¼Œä¸€äº›æ¶æ„ä»£ç†è¯•å›¾æ¬ºéª—ä½ çš„é£Žé™©å¾ˆä½Žï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘æ€€ç–‘ä½ éœ€è¦æ£€æŸ¥ä½ çš„æ¨¡åž‹çš„è¡Œä¸ºï¼Œä½†ä½¿ç”¨ä½ è‡ªå·±çš„åˆ¤æ–­ã€‚

æ³¨æ„ï¼Œè™½ç„¶æˆ‘æåˆ°äº†å›žå½’ç”¨ä¾‹ï¼Œä½†æ˜¯æˆ‘çœç•¥äº†å¾ˆå¤šå…³äºŽæ—¶é—´åºåˆ—é¢„æµ‹çš„ä¿¡æ¯ã€‚è¿™æ˜¯æ•…æ„è¿™æ ·åšçš„ï¼Œå› ä¸ºè¿™ä¸ªè¯é¢˜å¾ˆå¤§ï¼Œè€Œä¸”è¿™ä¸ªå¸–å­å·²ç»è¯»äº†å¾ˆä¹…äº†ã€‚ä½†æ˜¯å¦‚æžœä½ å¯¹è¿™é‡Œå‘ç”Ÿçš„äº‹æƒ…æœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ï¼Œä½ å¯ä»¥æŠŠä¸åŒçš„æ—¶é—´åºåˆ—åˆ†æžå·¥å…·æ˜ å°„åˆ°è¿™äº›å±‚æ¬¡ä¸Šã€‚

# æ–¹æ³•

è®©æˆ‘ä»¬ç²—ç•¥åœ°å°†è¯„ä¼°/é”™è¯¯åˆ†æžæ–¹æ³•åˆ†ä¸ºä¸‰å¤§ç±»:(1)åº¦é‡ï¼Œ(2)åˆ†ç»„ï¼Œå’Œ(3)è§£é‡Šã€‚åº¦é‡æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚åˆ†ç»„å¯èƒ½æ˜¯æœ€æŠ½è±¡çš„ã€‚æˆ‘ä»¬æŠŠè®­ç»ƒ/æµ‹è¯•åˆ†å‰²ã€äº¤å‰éªŒè¯ã€è¾“å…¥æ•°æ®ç¾¤ç»„å’Œé”™è¯¯åˆ†ç»„æ”¾åœ¨è¿™é‡Œâ€¦å“¦ï¼Œä¸Šå¸â€¦ç»„(æ²¡æœ‰åŒå…³çš„æ„æ€)ã€‚æœ€åŽï¼Œåœ¨è§£é‡Šçš„ä¿æŠ¤ä¼žä¸‹ï¼Œè¿˜æœ‰è¯¸å¦‚ä»£ç†æœ¬åœ°è§£é‡Šã€ç‰¹å¾é‡è¦æ€§ï¼Œç”šè‡³åˆ†æžæœ€é”™è¯¯çš„é¢„æµ‹ç­‰ç­‰ã€‚

## éŸµå¾‹å­¦

æˆ‘ä¸ä¼šæ·±å…¥æŽ¢è®¨åŸºäºŽæŒ‡æ ‡çš„è¯„ä¼°ï¼Œä½†ä¼šæåˆ°ï¼Œæ ¹æ®æ‚¨çš„ç”¨ä¾‹ï¼Œæ‚¨å¯èƒ½å¸Œæœ›è€ƒè™‘ä¸Žé¢„æµ‹é”™è¯¯ç¨‹åº¦ç›¸å…³çš„éžçº¿æ€§æŒ‡æ ‡ã€‚ä¹Ÿè®¸ä½ å¯ä»¥æŽ¥å—ä¸€ç‚¹é”™è¯¯ï¼Œä½†æ˜¯å¦‚æžœæ¨¡åž‹æ˜¯éžå¸¸é”™è¯¯çš„ï¼Œæˆ–è€…ç»å¸¸é”™è¯¯ï¼Œä½ ä¼šæƒ³è¦æ›´å¤šçš„æƒ©ç½šå®ƒã€‚æˆ–è€…ï¼Œç›¸åï¼Œéšç€é”™è¯¯é¢„æµ‹çš„å¢žå¤šï¼Œæˆ–è€…æ¨¡åž‹çš„æ€»æŸå¤±ä¸æ–­å¢žåŠ ï¼Œæ‚¨å¸Œæœ›æ‚¨çš„æŒ‡æ ‡å…·æœ‰ç±»ä¼¼äºŽå¯¹æ•°çš„è¡Œä¸ºï¼Œå³éšç€æ¨¡åž‹é”™è¯¯çš„å¢žå¤šï¼ŒæŒ‡æ ‡å°†å‡å¼±å…¶å¢žé•¿ã€‚

æ­¤å¤–ï¼Œå…³äºŽå¯¹å¼‚å¸¸å€¼ç¨³å¥çš„åº¦é‡ï¼Œå¦‚æžœæ‚¨äº‹å…ˆåšäº†ä¸€äº›å¼‚å¸¸å€¼æ¶ˆé™¤ï¼Œæœ‰æ—¶è¿™äº›æ˜¯å¾ˆå¥½çš„ã€‚æˆ–è€…å¯èƒ½æœ‰å¿…è¦ï¼Œåœ¨ä½ ä¸èƒ½æˆ–è€…ç‰¹åˆ«æ˜¯ä¸åŽ»é™¤å¼‚å¸¸å€¼çš„æƒ…å†µä¸‹ï¼Œä¸ç®¡å‡ºäºŽä»€ä¹ˆåŽŸå› ã€‚è®°ä½è¿™ä¸€ç‚¹ã€‚

![](img/def8117e7464c7cfc203062e8b6d92c2.png)

*ç¦»ç¾¤å€¼å¯¹æ¨¡åž‹æ‹Ÿåˆåº¦çš„å½±å“ã€‚æ¥æº:*[](https://scikit-image.org)

*é€šå¸¸ï¼Œåœ¨ç”Ÿäº§åœºæ™¯ä¸­ï¼Œæ‚¨ä¼šæƒ³è¦åœ¨ä¸åŒçš„ç¾¤ç»„ä¸Šè¯„ä¼°æ‚¨çš„æ¨¡åž‹æ€§èƒ½ï¼Œç”šè‡³å¯èƒ½åŸºäºŽè¿™äº›ç¾¤ç»„æ¥ä½¿ç”¨ä¸åŒçš„æ¨¡åž‹ã€‚ç¾¤ç»„æ˜¯æŒ‡ä¸€ç»„å®žä½“ï¼Œå…·æœ‰ç‰¹å®šçš„åˆ†ç»„æ ‡å‡†ï¼Œå¦‚å¹´é¾„æ®µï¼Œæˆ–åŸºäºŽä½ç½®ï¼Œæˆ–å…¶ä»–ã€‚*

## *åˆ†ç»„*

*æˆ‘åœ¨ä¸Šä¸€æ®µæåˆ°äº†ç¾¤ç»„ï¼Œæ‰€ä»¥ç»§ç»­è·Ÿè¿›æ˜¯æœ‰æ„ä¹‰çš„ã€‚å›¢é˜Ÿå¾ˆé‡è¦ï¼Œå› ä¸ºä½ çš„åˆ©ç›Šç›¸å…³è€…å¯¹è¿™äº›æ„Ÿå…´è¶£ï¼Œæœ‰æ—¶ä½ ä¹Ÿæ˜¯ï¼Œä½†æ˜¯ä¼ä¸šé€šå¸¸æ˜¯å›¢é˜Ÿçš„å¤´å·â€œç²‰ä¸â€ã€‚ä¸ºä»€ä¹ˆï¼Ÿå—¯ï¼Œå¯èƒ½æœ‰å¾ˆå¤šåŽŸå› ã€‚ä¹Ÿè®¸ä»–ä»¬å¯¹ä¸ºç‰¹æ®Šçš„å®¢æˆ·ç¾¤ä½“æä¾›ä¸€æµçš„æœåŠ¡ç‰¹åˆ«æ„Ÿå…´è¶£ï¼Œæˆ–è€…ä¹Ÿè®¸ä»–ä»¬å¿…é¡»éµå®ˆä¸€äº›æ³•è§„ï¼Œè¿™äº›æ³•è§„è¦æ±‚ä»–ä»¬ä¸ºæ‰€æœ‰ç”¨æˆ·æä¾›ç‰¹å®šçº§åˆ«çš„æ€§èƒ½ã€‚*

*æ­¤å¤–ï¼Œå¦‚æžœæ˜¯çœŸå®žä¸–ç•Œçš„æ•°æ®ï¼Œæ‚¨çš„æ•°æ®é›†è‚¯å®šæ˜¯æœ‰åå·®çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºŽæ¯ä¸ªç±»åˆ«/ç±»åˆ«ç»„ï¼Œæ‚¨å°†ä¼šæœ‰ä»£è¡¨æ€§ä¸è¶³çš„ç±»åˆ«ã€å„ç§ä¸å¹³è¡¡ï¼Œç”šè‡³ä¸åŒçš„è¦ç´ åˆ†å¸ƒã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽä»»ä½•ä¼ä¸šæ¥è¯´ï¼Œç»™åŒ—ç¾Žåœ°åŒºä»¥å¤–çš„ç”¨æˆ·æä¾›ä½ŽäºŽæ ‡å‡†çš„æŽ¨èï¼Œæˆ–è€…é¢„æµ‹æŸä¸ªæœ‰è‰²äººç§æ˜¯æŸç§ç±»äººçŒ¿æ˜¯ä¸åˆé€‚çš„ã€‚*

*æˆ‘ä»¬éœ€è¦æ ¹æ®ä¸€äº›ç‰¹å¾åˆ›å»ºç¾¤ç»„ï¼Œå¹¶è·Ÿè¸ªæˆ‘ä»¬çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿåœ¨è¿™äº›æ–¹é¢çš„è¡¨çŽ°ã€‚é€šå¸¸ä½ ä¼šå‘çŽ°ï¼Œé‚£äº›æ„è¯†åˆ°è‡ªå·±å›¢é˜Ÿçš„å›¢é˜Ÿä¼šä¸ºä¸åŒçš„ç”¨æˆ·ç¾¤éƒ¨ç½²ä¸åŒçš„æ¨¡åž‹ï¼Œä»¥ç¡®ä¿ä¸ºæ¯ä¸ªäººæä¾›é«˜è´¨é‡çš„æœåŠ¡ã€‚*

*ä½†æ˜¯åˆ†ç»„ä¸ä»…ä»…æ˜¯åŸºäºŽè¾“å…¥æ•°æ®ç‰¹å¾çš„ç¾¤ç»„ã€‚æœ‰æ—¶å¯¹äºŽæ¨¡åž‹åˆ†æžæ¥è¯´ï¼Œæ ¹æ®é”™è¯¯åˆ›å»ºåˆ†ç»„æ˜¯æœ‰æ„ä¹‰çš„ã€‚æ ¹æ®è¯¯å·®åˆ†å¸ƒè¿›è¡ŒæŸç§åˆ†ç»„ã€‚ä¹Ÿè®¸å¯¹äºŽæŸäº›è¾“å…¥ï¼Œä½ çš„æ¨¡åž‹ç»™å‡ºçš„è¯¯å·®å¾ˆä½Žï¼Œå¯¹äºŽå…¶ä»–è¾“å…¥ï¼Œè¯¯å·®å¾ˆé«˜ï¼Œè€Œå¯¹äºŽå¦ä¸€ç»„ï¼Œè¯¯å·®åˆ†å¸ƒå®Œå…¨ä¸åŒã€‚ä¸ºäº†å‘çŽ°å’Œç†è§£è¿™äº›ï¼Œä½ å¯ä»¥ä½¿ç”¨ K-Means æ¥èšé›†ä½ çš„æŸå¤±ï¼Œå¹¶æ‰¾å‡ºä½ çš„æ¨¡åž‹å¤±è´¥æˆ–è¡¨çŽ°ä¸ä½³çš„åŽŸå› ã€‚è¿™å°±æ˜¯ä¼˜æ­¥çš„æµå½¢æ‰€åšçš„ï¼Œè¿™çœŸæ˜¯å¤ªæ£’äº†ï¼*

*![](img/6adc178a5b74897441a63481151f172a.png)**![](img/06f7b7aaedef80a70d97d5d12dce6eee.png)*

**(ä¸Š)3 ç»„è¯¯å·®åˆ†å¸ƒï¼Œä»¥åŠ 2 ä¸ªæ¨¡åž‹ä¹‹é—´çš„*æ¯”è¾ƒ*ã€‚(åº•éƒ¨)ä¸€æ—¦æˆ‘ä»¬æœ‰äº†é”™è¯¯ç»„ï¼Œæˆ‘ä»¬å°±æƒ³çŸ¥é“ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™äº›é”™è¯¯ã€‚å¯è§†åŒ–è¿™ä¸¤ä¸ªé›†ç¾¤ä¹‹é—´çš„ç‰¹å¾åˆ†å¸ƒå·®å¼‚ä¼šæœ‰æ‰€å¸®åŠ©ã€‚
æ¥æº:ä½œè€…ã€‚çµæ„Ÿæ¥æº:*[*http://manifold.mlvis.io/*](http://manifold.mlvis.io/)*ã€‚**

*æœ€åŽï¼Œåˆ†ç»„ä¹Ÿæ˜¯å…³äºŽä½ å¦‚ä½•å°†ä½ çš„æ•°æ®å®‰æŽ’åˆ°è®­ç»ƒå’Œæµ‹è¯•åˆ†å‰²ä¸­ã€‚æˆ–è€…æ›´å¤šçš„åˆ†å‰²ï¼Œæ¯”å¦‚æ¨¡åž‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„è¯„ä¼°ã€‚è¿™äº›æœ‰åŠ©äºŽæ³¨æ„æ¨¡åž‹ä½•æ—¶å¼€å§‹è¿‡åº¦æ‹Ÿåˆæˆ–å…¶ä»–æƒ…å†µã€‚è¯·è®°ä½ï¼Œåœ¨è¿›è¡Œè¶…å‚æ•°æœç´¢æ—¶åº”ç‰¹åˆ«å°å¿ƒã€‚å¯¹äºŽå¿«é€Ÿè®­ç»ƒçš„æ¨¡åž‹ï¼Œä¸€ç§å«åš[åµŒå¥—äº¤å‰éªŒè¯](https://weina.me/nested-cross-validation/)çš„æŠ€æœ¯æ˜¯ä¸€ç§éžå¸¸å¥½çš„æ–¹æ³•ï¼Œå¯ä»¥ç¡®ä¿æ¨¡åž‹çœŸçš„å¾ˆå¥½ã€‚åµŒå¥—éƒ¨åˆ†æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºè¿›è¡Œè¶…å‚æ•°ä¼˜åŒ–(HPO)æ—¶ï¼Œæ‚¨æ˜¯åœ¨è¯„ä¼°é›†ä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥è‡³å°‘å¯ä»¥è¯´æ‚¨çš„ç»“æžœæ˜¯â€œä¹è§‚çš„â€ã€‚è¿›è¡Œé¢å¤–çš„åˆ†å‰²å¯ä»¥è®©ä½ å¯¹æœ€ç»ˆæ¨¡åž‹æœ‰ä¸€ä¸ªæ›´å…¬æ­£çš„è¯„ä¼°ã€‚æ…¢æ¨¡å¼å‘¢ï¼Ÿå“¦ï¼Œåšä¼Šã€‚è¯•ç€æ‹¥æœ‰ä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ•°æ®é›†ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨æ‰€æœ‰çš„è¯„ä¼°/æµ‹è¯•é˜¶æ®µè¿›è¡Œå¤§çš„åˆ’åˆ†ã€‚ä½ ä¹Ÿæ²¡æœ‰è¿™ä¸ªï¼Ÿä½ å¬è¯´è¿‡äººå·¥æ™ºèƒ½çš„éœ€æ±‚å±‚æ¬¡å—ï¼Ÿ*

*æ­¤å¤–ï¼Œä¸€ä¸ªç»å¸¸è¢«å¿½è§†çš„é—®é¢˜æ˜¯æ•°æ®é›†çš„ç›®æ ‡åˆ†å¸ƒã€‚å®ƒå¯èƒ½ä¸¥é‡ä¸å¹³è¡¡ï¼Œå› æ­¤ï¼Œåœ¨å¯¹å…¶è¿›è¡Œè®­ç»ƒ/éªŒè¯/æµ‹è¯•åˆ†å‰²å–æ ·æ—¶ï¼Œåº”ç‰¹åˆ«å°å¿ƒã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ åº”è¯¥æ€»æ˜¯å¯»æ‰¾ä¸€ç§æ–¹æ³•è®©ä½ çš„åˆ†å‰²*åˆ†å±‚*(è§ scikit-learn çš„`StratifiedKFold`ï¼Œè¿˜æœ‰`train_test_split`æœ‰ä¸€ä¸ª`stratify=`å‚æ•°ï¼Œå¯¹äºŽå¤šè¾“å‡ºæ•°æ®é›†æ£€æŸ¥`multioutput_crossvalidation`åŒ…)ã€‚å½“æ•°æ®é›†ä¸å¹³è¡¡æ—¶ï¼Œä½ å¯ä»¥å°è¯•åšä¸€äº›è¿‡é‡‡æ ·ï¼Œæ¯”å¦‚ la SMOTE æˆ– ADASYNï¼Œä½†æ ¹æ®æˆ‘çš„ç»éªŒï¼Œè¿™å¯èƒ½å¹¶ä¸æ€»æ˜¯æœ‰æ•ˆï¼Œæ‰€ä»¥åªéœ€å®žéªŒ(è¿™æ˜¯ä¸€ä¸ªç±»ä¼¼ scikit-learn çš„åº“`[imbalanced-learn](https://imbalanced-learn.org/stable/index.html)`)ã€‚*

## *è§£é‡Š*

> **å…è´£å£°æ˜Ž#2ï¼Œè¿™ç¯‡åšæ–‡çš„è¿™ä¸€éƒ¨åˆ†å¯èƒ½æ˜¯æœ€ä»¤äººéœ‡æƒŠçš„éƒ¨åˆ†ä¹‹ä¸€ã€‚å…³äºŽ ML å¯è§£é‡Šæ€§/å¯è§£é‡Šæ€§æœ‰ç›¸å½“å¤šçš„æ–‡çŒ®ï¼Œæˆ‘å°†åªç®€è¦åœ°æåˆ°ä¸€äº›æ–¹æ³•ï¼Œä¸ºäº†æ›´æ·±å…¥çš„æ¦‚è¿°ï¼Œè¯·æŸ¥çœ‹ Christoph Molnar çš„* [*ã€å¯è§£é‡Šæœºå™¨å­¦ä¹ ã€‘*](https://christophm.github.io/interpretable-ml-book/) *ã€‚**

*è¿™ä¸ªç±»åˆ«éžå¸¸æŠ½è±¡ï¼Œæœ‰äº›äººå¯èƒ½ä¼šè®¤ä¸ºè¿™äº›ä¸Žæ¨¡åž‹è¯„ä¼°æ²¡æœ‰çœŸæ­£çš„è”ç³»ï¼Œè€Œæ˜¯ ML å¯è§£é‡Šæ€§/å¯è§£é‡Šæ€§ã€‚æˆ‘è¯´è¿™äº›æ–¹æ³•å¯ä»¥æ­éœ²éšè—çš„é”™è¯¯å’Œåè§ã€‚åŸºäºŽè¿™äº›ï¼ŒçŽ°åœ¨ä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ¨¡åž‹è€Œä¸æ˜¯å¦ä¸€ä¸ªï¼Œå› æ­¤è§£é‡Šå¯¹äºŽè¯„ä¼°æ˜¯æœ‰ç”¨çš„ã€‚è¿™äº›å·¥å…·åœ¨è¯†åˆ«â€œ**æ­£ç¡®ç­”æ¡ˆâ€”é”™è¯¯æ–¹æ³•**â€åœºæ™¯æ–¹é¢è¡¨çŽ°å‡ºè‰²ï¼Œè¿™äº›åœºæ™¯å°†åœ¨æ²¡æœ‰ä»»ä½•é—®é¢˜æŒ‡æ ‡å’Œåˆ†ç»„çš„æƒ…å†µä¸‹é€šè¿‡ã€‚*

*é‚£ä¹ˆï¼Œå…³äºŽä¸€ä¸ªæ¨¡åž‹ï¼Œä½ èƒ½â€œè§£è¯»â€å‡ºå“ªäº›å¯ä»¥å¸®åŠ©ä½ è¯„ä¼°å®ƒçš„ä¸œè¥¿å‘¢ï¼Ÿé¦–å…ˆï¼Œå¦‚æžœæ‚¨çš„æ¨¡åž‹/API å…è®¸ï¼Œæ‚¨å¯ä»¥æ£€æŸ¥ç‰¹æ€§çš„é‡è¦æ€§ã€‚æ‚¨å¯èƒ½ä¼šå‘çŽ°ä¸€ä¸ªæ¨¡åž‹å¯¹ä¸€äº›æ¨¡ç³Šçš„ç‰¹æ€§æˆ–è€…æ²¡æœ‰æ„ä¹‰çš„ç‰¹æ€§ç»™äºˆäº†è¿‡å¤šçš„å…³æ³¨ã€‚æ­¤æ—¶ï¼Œä½ åº”è¯¥æˆä¸ºä¸€åä¾¦æŽ¢ï¼Œå¹¶æ‰¾å‡ºä¸ºä»€ä¹ˆä¼šè¿™æ ·ã€‚è¿™ç§ç‰¹å¾é‡è¦æ€§è¢«ç§°ä¸º ***å…¨å±€ç‰¹å¾é‡è¦æ€§*** ï¼Œå› ä¸ºå®ƒæ˜¯åœ¨æ¨¡åž‹çº§åˆ«ä»Žæ‰€æœ‰è®­ç»ƒæ•°æ®ä¸­æŽ¨æ–­å‡ºæ¥çš„ã€‚*

*æŽ¥ä¸‹æ¥å®¹æ˜“åšçš„æ˜¯ ***æ‰°åŠ¨åˆ†æž*** ï¼Œå…¶ä¸­æœ‰å¤šä¸ªç±»åˆ«ã€‚æ‰°åŠ¨åˆ†æžæ„å‘³ç€æ”¹å˜è¾“å…¥ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚æˆ‘ä»¬å¯ä»¥å‡ºäºŽä¸åŒçš„ç›®çš„æ”¹å˜è¾“å…¥ï¼Œä»¥è¯„ä¼°æ¨¡åž‹çš„ä¸åŒæ–¹é¢ã€‚*

*   *åäº‹å®žï¼Œåˆåâ€œå¦‚æžœæˆ‘æ”¹å˜è¿™ä¸€ä¸ªç‰¹å¾ï¼Œæˆ‘çš„æ¨¡åž‹é¢„æµ‹ä¼šå¦‚ä½•æ”¹å˜ï¼Ÿâ€ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥æ¨¡åž‹å¯¹å˜åŒ–çš„æ•æ„Ÿç¨‹åº¦ï¼ŒåŽŸåˆ™ä¸Šè¿™äº›å˜åŒ–ä¼šç›´è§‚åœ°æ”¹å˜é¢„æµ‹ã€‚ä¸€ä¸ªçªå‡ºçš„å·¥å…·æ˜¯ Tensorboard çš„å‡è®¾å·¥å…·ã€‚*
*   *å¯¹ç«‹çš„ä¾‹å­ï¼Œåˆåâ€œæˆ‘èƒ½åˆ›å»ºè¿™æ ·çš„è¾“å…¥å—ï¼Œè™½ç„¶ä¸Žæ­£å¸¸è¾“å…¥ç›¸ä¼¼ï¼Œä½†ä¼šå¯¼è‡´æ··ä¹±çš„é¢„æµ‹â€ã€‚æ£€æŸ¥è¿™äº›å¯¹äºŽé¢å‘å¤–éƒ¨ç”¨æˆ·çš„ç³»ç»Ÿæ¥è¯´é€šå¸¸å¾ˆé‡è¦ï¼Œåœ¨è¿™äº›ç³»ç»Ÿä¸­ï¼Œæ”»å‡»å¯èƒ½ä¼šäº§ç”Ÿéžå¸¸æ¶åŠ£çš„åŽæžœï¼Œè€Œä¸”å› ä¸ºè¿™ç§éªŒè¯æ›´åŠ å…·ä½“ï¼Œæ‰€ä»¥é€šå¸¸ä¼šç•™åˆ°é¡¹ç›®çš„åŽæœŸè¿›è¡Œã€‚*
*   *ä¸ºäº†è¯„ä¼°æ¨¡åž‹å¯¹ä¸é‡è¦çš„å˜åŒ–æœ‰å¤šç¨³å¥ï¼Œæˆ–è€…å®ƒæ•æ‰â€œå¸¸è¯†æ€§â€æœ‰å¤šå¥½ï¼Œéšæœºæ”¹å˜ä¹Ÿå¯ä»¥ç”¨äºŽå±€éƒ¨ç‰¹å¾é‡è¦æ€§ã€‚åœ¨æƒ…æ„Ÿåˆ†æžé—®é¢˜çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªéšæœºçš„æ”¹å˜å¯èƒ½æ˜¯ç”¨åŒä¹‰è¯æ›¿æ¢æ²¡æœ‰ç§¯æžæˆ–æ¶ˆæžè¯­ä¹‰çš„è¯ï¼Œä¹Ÿå°±æ˜¯ä¸­æ€§è¯ã€‚*
*   *éžåˆ†å¸ƒæ•°æ®ã€‚å¥½å§ï¼Œè¿™ä¸æ˜¯çœŸæ­£çš„æ‰°åŠ¨åˆ†æžï¼Œä½†æœ‰æ—¶ä½ æƒ³ç¡®ä¿æ¨¡åž‹å¯ä»¥æŽ¨å¹¿åˆ°ç›¸ä¼¼ä½†ä¸å®Œå…¨ç›¸ä¼¼çš„æ•°æ®ã€‚æˆ–è€…ä½ å¯èƒ½åªæ˜¯æƒ³è®©[åœ¨å·¥ä½œä¸­æ‰¾ç‚¹ä¹å­](https://www.youtube.com/watch?v=yneJIxOdMX4)ï¼Œç„¶åŽæŠŠå¾·è¯­å¥å­ä¼ ç»™ä¸€ä¸ªåœ¨è¥¿ç­ç‰™è¯­æ–‡æœ¬ä¸Šè®­ç»ƒè¿‡çš„æƒ…æ„Ÿåˆ†æžæ¨¡åž‹ã€‚*

*å¦ä¸€ç§å¸®åŠ©æ‚¨å‘çŽ°é”™è¯¯æ¨¡å¼çš„æ–¹æ³•æ˜¯æ£€æŸ¥æ¨¡åž‹å¯ä¿¡åº¦éžå¸¸é«˜çš„é”™è¯¯é¢„æµ‹ã€‚ç®€å•æ¥è¯´ï¼Œçš‡å®¶æ··è›‹ã€‚æˆ‘å­¦è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒæ™šï¼Œæ˜¯ä»Ž Goodfellow ç­‰äººçš„æ·±åº¦å­¦ä¹ ä¹¦ä¸Šå­¦çš„ï¼Œæˆ‘å¾ˆæ‡’ï¼Œè¿™ä¸ªæ–¹æ³•è™½ç„¶äº‹åŽçœ‹æ¥å¾ˆæ˜Žæ˜¾ï¼Œä½†å¯¹æˆ‘æ¥è¯´æ˜¯æ–°çš„ã€‚æˆ‘æ›´å–œæ¬¢åšæ‰°åŠ¨åˆ†æžï¼Œè¿™æ ·å°±ä¸éœ€è¦æ¼‚äº®çš„æ‰“å°å’Œ/æˆ–ç»˜å›¾äº†ã€‚ä½†æ˜¯å½“æˆ‘åœ¨åšæˆ‘çš„ç ”ç©¶é¡¹ç›®æ—¶ï¼Œæˆ‘çŽ°åœ¨â€œå¼ºè¿«â€æˆ‘è‡ªå·±(å…¶å®žä¹Ÿæ²¡é‚£ä¹ˆç³Ÿç³•)ä¹Ÿåšè¿™ä¸€æ­¥ã€‚*

*æˆ‘å»ºè®®å®šä¹‰ä¸€äº›ç”±ä»¥å‰æœ‰é—®é¢˜çš„è¾“å…¥ä¾‹å­ç»„æˆçš„å›žå½’æµ‹è¯•å¥—ä»¶ã€‚è¿™æœ‰åŠ©äºŽç¡®ä¿ ML æ¨¡åž‹çš„æœªæ¥ç‰ˆæœ¬ç¡®å®žæ˜¯å¯¹ä»¥å‰ç‰ˆæœ¬çš„æ”¹è¿›ã€‚åœ¨å®ƒå¯ä»¥æ£€æŸ¥ä»¥å‰é”™è¯¯åˆ†ç±»çš„æ¡ç›®æˆ–ä½¿ç”¨ä¸åŒç±»åž‹çš„æ‰°åŠ¨åˆ†æžçš„ä¾‹å­ã€‚ç¨åŽï¼Œæ‚¨å°†ä¼šæ„Ÿè°¢è¿™ä¸ªå›žå½’å¥—ä»¶ã€‚*

*æ›¿ä»£æœ¬åœ°è§£é‡Šï¼Œå…¶ä¸­æœ€çªå‡ºçš„å·¥å…·æ˜¯çŸ³ç°ï¼Œæ˜¯å¦ä¸€ç§å¯è§£é‡Šæ€§å·¥å…·ã€‚ä»£ç†æœ¬åœ°è§£é‡Šè¯•å›¾ç”¨ç®€å•çš„æœºå™¨å­¦ä¹ æ¨¡åž‹æ¥é€¼è¿‘å¤æ‚çš„æœºå™¨å­¦ä¹ æ¨¡åž‹ï¼Œä½†ä»…é’ˆå¯¹è¾“å…¥æ•°æ®çš„å­é›†ï¼Œæˆ–è€…å¯èƒ½ä»…é’ˆå¯¹å•ä¸ªå®žä¾‹ã€‚*

*æœ€åŽ(çŽ°åœ¨æ˜¯è‚¯å®šçš„)ï¼Œå¦ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„ ML å¯è§£é‡Šæ€§æ–¹æ³•æ˜¯é™„åŠ ç‰¹å¾è§£é‡Šï¼Œå¯¹äºŽè¿™ä¸€ç±»åˆ«ï¼Œæœ€çªå‡ºçš„å·¥å…·ä¹‹ä¸€æ˜¯ SHAPã€‚SHAP å°¤å…¶æœ‰è¶£ï¼Œå°½ç®¡æ›´éš¾ç†è§£ï¼Œå› ä¸ºå®ƒåŸºäºŽåšå¼ˆè®ºï¼Œå¹¶ä½¿ç”¨åŒ€ç§°çš„å€¼æ¥å®šä¹‰å±€éƒ¨ç‰¹å¾çš„é‡è¦æ€§ã€‚è¿™ç§æ–¹æ³•çš„ä¸€ä¸ªé—®é¢˜æ˜¯ Shapely å€¼æˆ–å‡ ä¹Žä»»ä½•å…¶ä»–é™„åŠ ç‰¹å¾è§£é‡Šæ–¹æ³•éƒ½æ²¡æœ‰è€ƒè™‘ç‰¹å¾äº¤äº’ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªäº¤æ˜“ç ´åè€…ã€‚*

*![](img/766e1c8e34eb9592c6b6a71463a93261.png)*

**SHAP ç”¨æ²™æ™®åˆ©å€¼æ¥è§£é‡Šæ¯ä¸ªç‰¹å¾å€¼å¯¹é¢„æµ‹çš„å½±å“ã€‚æ¥æº:ä½œè€…ã€‚**

*è¿˜æœ‰æ›´å…ˆè¿›çš„å·¥å…·ï¼Œä¸“é—¨é’ˆå¯¹ç¥žç»ç½‘ç»œè¿›è¡Œè°ƒæ•´ã€‚è¿™äº›ä½¿ç”¨ä¸åŒå½¢å¼çš„æ˜¾è‘—æ€§æˆ–æ¿€æ´»å›¾ã€‚åƒè¿™æ ·çš„å·¥å…·å¾ˆé…·ï¼Œä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯å¾ˆéš¾ä½¿ç”¨ï¼Œè€Œä¸”ä¸å¤Ÿé€šç”¨ã€‚è¯•å›¾æ¶µç›–å…¶ä¸­çš„ä¸€ä¸ªå­é›†å°†éœ€è¦[ä¸€æ•´æœ¬ä¹¦](https://christophm.github.io/interpretable-ml-book/)ï¼Œæ‰€ä»¥å¦‚æžœä½ æ„Ÿå…´è¶£ï¼Œä½ çŸ¥é“è¯¥æ€Žä¹ˆåšï¼›).åœ¨è¿™æœ¬ä¹¦é‡Œï¼Œä½ å¯ä»¥æ‰¾åˆ°æ›´å¤šå…³äºŽçŽ°ä»£å·¥å…·çš„è¯¦ç»†è§£é‡Šï¼Œæ¯”å¦‚ SHAPã€èŽ±å§†ã€é”šï¼Œè¿˜æœ‰æ›´ç»å…¸çš„æ–¹æ³•ï¼Œæ¯”å¦‚ PDPã€ICE å’Œ ALE å›¾ã€‚ç”šè‡³åƒ [Tensorflow çš„ TCAV å·¥å…·](https://github.com/tensorflow/tcav)è¿™æ ·çš„æ¦‚å¿µè¯†åˆ«æ–¹æ³•ã€‚*

*è¦è®°ä½çš„ä¸€ç‚¹æ˜¯ï¼Œå¯è§£é‡Šæ€§å·¥å…·å¯¹äºŽæ­£ç¡®çš„æ¨¡åž‹è¯„ä¼°æ˜¯è‡³å…³é‡è¦çš„ã€‚è™½ç„¶ä¸æ˜¯ç›´æŽ¥çš„æ˜ å°„ï¼Œä½†æ˜¯æ‚¨å¯ä»¥å°†è¿™äº›è§£é‡Šæ–¹æ³•ç”¨äºŽåƒä»£ç è¯„å®¡è¿™æ ·çš„æ¨¡åž‹ã€‚åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­ï¼Œä½ ä¸ä¼šåœ¨æ²¡æœ‰ä»£ç å®¡æŸ¥çš„æƒ…å†µä¸‹åˆå¹¶ä»£ç ï¼Œä¸æ˜¯å—ï¼Ÿ*

# *ä¸ªäººæŽ¨è*

*æˆ‘ä»¬å·²ç»æŽ¥è¿‘è¿™ç¯‡æ–‡ç« çš„ç»“å°¾äº†ï¼Œæ‰€ä»¥æˆ‘æƒ³ç»™ä½ ä¸€äº›å»ºè®®ï¼Œå‘Šè¯‰ä½ å½“è¯„ä¼° ML æ¨¡åž‹æ—¶ï¼Œå¦‚æžœé‚£äº›æˆç†Ÿåº¦çº§åˆ«è¿˜ä¸å¤Ÿçš„è¯ï¼Œè¯¥å¦‚ä½•è¿›è¡Œã€‚è¿™äº›å»ºè®®æ›´ä½Žçº§ã€æ›´å®žç”¨ï¼Œå¦‚æžœä½ æ„¿æ„çš„è¯ï¼Œè¿˜æœ‰äº›é—®é¢˜ã€‚*

*   *å½“ç„¶ï¼Œä»Žå‡ ä¸ªåˆé€‚çš„è¯„ä¼°æŒ‡æ ‡å¼€å§‹ã€‚ä¸è¦åªç”¨ä¸€ä¸ªã€‚å¦‚æžœå¯ä»¥çš„è¯ï¼Œäº¤å‰éªŒè¯ã€‚å¦‚æžœåš HPOï¼Œæœ‰ä¸¤ä¸ªæµ‹è¯•åˆ†è£‚ã€‚å¯¹äºŽåˆ†ç±»ï¼Œæˆ‘ä¼šæŽ¨èè‡³å°‘ä¸€äº›æŸå¤±å’Œä¸€äº›å¾—åˆ†å‡½æ•°+ scikit-learn çš„`classification_report`,å¦‚æžœä½ æ²¡æœ‰å¤§é‡çš„ç±»ï¼Œæ··æ·†çŸ©é˜µæ˜¯ä½ çš„æœ‹å‹ã€‚æœ‰äº›äººä½¿ç”¨ AUC å’Œç²¾ç¡®å¬å›žæ›²çº¿ï¼Œè¿™å¾ˆå¥½ï¼Œä½†æˆ‘ä¸ä¹ æƒ¯è¿™äº›ã€‚ä¹Ÿè®¸åœ¨è¿™ç¯‡åšæ–‡ä¹‹åŽï¼Œæˆ‘ä¼šå¼€å§‹ä½¿ç”¨å®ƒä»¬ã€‚(ç…§æˆ‘è¯´çš„åšï¼Œä¸è¦ç…§æˆ‘åšçš„åš)*
*   *åœ¨è¿™ä¹‹åŽï¼Œæˆ‘é€šå¸¸åšæ‰°åŠ¨åˆ†æž(éšæœºå’Œåäº‹å®ž)ã€‚å¯»æ‰¾å‰ k ä¸ªæœ€é”™è¯¯çš„é¢„æµ‹æ˜¯æœ‰å¸®åŠ©çš„ï¼Œä½†æˆ‘å¾ˆå°‘è¿™æ ·åš(ç…§æˆ‘è¯´çš„åšï¼Œä¸ç…§æˆ‘åšï¼Œ#2)ã€‚*
*   *å¦‚æžœæˆ‘è¿˜ä¸æ»¡æ„ï¼Œæˆ‘è‚¯å®šä¼šæ£€æŸ¥é”™è¯¯ç»„ï¼Œæ¯”å¦‚æµå½¢å’Œ/æˆ–ä»£ç†æœ¬åœ°è§£é‡Š(ç±»ä¼¼äºŽ LIMEï¼Œæˆ‘ä¸»è¦ä½¿ç”¨`eli5`åŒ…)ã€‚æˆ‘ä¸å–œæ¬¢åŽä¸€ç§æ–¹æ³•ï¼Œå› ä¸ºè¿™éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œå°¤å…¶æ˜¯å¯¹äºŽè¾ƒå¤§çš„è¾“å…¥ã€‚å…³äºŽä»£ç†æ¨¡åž‹çš„å±€éƒ¨è§£é‡Šï¼Œæœ‰æ—¶æˆ‘å‘çŽ°ä½¿ç”¨ç¼ºçœå€¼æ¥è°ƒæ•´ä»£ç†å¯èƒ½å¤ªç®€å•äº†ã€‚æˆ‘åš NLPï¼Œæ‰€ä»¥è¿™ä¸¤ç‚¹å¯¹æˆ‘æ¥è¯´éƒ½æ˜¯ä¸€ä¸ªçœŸæ­£çš„é—®é¢˜ã€‚*

*æœ‰æ—¶ï¼Œå°¤å…¶æ˜¯åœ¨å¼€å‘çš„æ—©æœŸé˜¶æ®µï¼Œæˆ‘å¯ä»¥å¯¹æ¨¡åž‹é¢„æµ‹è¿›è¡Œä¸€ç§â€œæŽ¢ç´¢æ€§æµ‹è¯•â€ï¼Œå³è¾“å…¥éžåˆ†å¸ƒæ•°æ®ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚*

*å¯¹äºŽä¸ªäººå®žéªŒï¼Œæˆ‘æœ‰æ—¶å¯ä»¥ä½¿ç”¨ SHAPï¼Œä½†æˆ‘å‘çŽ°å®ƒæœ‰ç‚¹ä»¤äººæ²®ä¸§ï¼Œå¾ˆéš¾å¯¼å‡ºå›¾å½¢ï¼Œè€Œä¸”å®ƒåœ¨ Jupyter ä¸Šå·¥ä½œæ—¶æ•ˆæžœæœ€å¥½ã€‚æ­¤å¤–ï¼Œå®ƒå¾ˆæ…¢ï¼Œä½†è¿™æ˜¯æ‰€æœ‰ä»£ç†è§£é‡Šçš„æ™®éé—®é¢˜ã€‚*

*æˆ‘è¿˜æ²¡æœ‰çŽ©è½¬é”šã€å¯¹ç«‹çš„ä¾‹å­ï¼Œä»¥åŠåšç±»ä¼¼â€œæ‰¾åˆ°ä¸Žä¸åŒç±»æœ€ç›¸ä¼¼çš„æ¡ç›®â€æˆ–â€œæ‰¾åˆ°ä¸Žè¿™ä¸ªç±»æœ€ç›¸ä¼¼çš„æ¡ç›®â€çš„äº‹æƒ…ã€‚åŽä¸¤è€…å¯ä»¥åœ¨ç‰¹å¾ã€åµŒå…¥å’Œ/æˆ–é¢„æµ‹ç©ºé—´ä¸­ä½¿ç”¨ kNN æ¥å®Œæˆã€‚å¾®è½¯æ•°æ®ç§‘å­¦å®¶ä¼¼ä¹Žåœ¨é—®è¿™ç±»é—®é¢˜æ¥è¯„ä¼°ä»–ä»¬çš„æ¨¡åž‹ã€‚***

*æœ€åŽï¼Œæˆ‘ç¡®ä¿¡è¿™äº›ä¿¡æ¯ä¼šè®©ä½ ä¸çŸ¥æ‰€æŽªã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘èƒ½ç»™å‡ºçš„æœ€å¥½çš„å»ºè®®æ˜¯ä½¿ç”¨ä¸€ä¸ªç®€å•çš„æ¨¡åž‹ï¼Œä¸€ä¸ªå®¹æ˜“ç†è§£çš„æ¨¡åž‹ã€‚ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä½ ä¹Ÿå¯ä»¥å°è¯•åœ¨æœ‰æ„ä¹‰çš„ç‰¹æ€§ä¸ŠæŠ•å…¥æ—¶é—´ã€‚æ€»è€Œè¨€ä¹‹ï¼Œåšä½ çš„å…¬å¸éœ€è¦ä½ æˆä¸ºçš„æ•°æ®ç§‘å­¦å®¶å°±å¥½ï¼Œè€Œä¸æ˜¯ä½ æƒ³æˆä¸ºçš„é‚£ç§ã€‚æ— èŠç†æ€§æˆ˜èƒœç‚’ä½œé©±åŠ¨ã€‚*

*![](img/c0ef7d35e3153fb60a6a623d720e8b52.png)*

*æ˜Žæ™ºåœ°é€‰æ‹©ä½ çš„è‹±é›„ã€‚åˆ¶é€ å•†:imgflip.com*

*å¯èƒ½è¿™ä¸ªå¸–å­ï¼Œæ²¡æœ‰å…¶ä»–çš„ï¼Œå¸®åŠ©æˆ‘ç»“æ™¶äº†å¾ˆå¤šå¤šå¹´æ¥èŽ·å¾—çš„éšæ€§çŸ¥è¯†ã€‚ä¹Ÿè®¸ä½ å¬è¿‡è¿™å¥åè¨€â€”â€”â€œä¸€ä¸ªäººæ•™ï¼Œä¸¤ä¸ªäººå­¦â€ï¼Œæˆ‘ç›¸ä¿¡è¿™é‡Œä¹Ÿå‘ç”Ÿè¿‡ç±»ä¼¼çš„äº‹æƒ…ã€‚*

*æˆ‘çŸ¥é“æˆ‘çš„å¸–å­é€šå¸¸åˆé•¿åˆå¯†ï¼Œå¯¹ä¸èµ·ï¼Œæˆ‘æƒ³ï¼Œä½†å¦ä¸€æ–¹é¢ï¼ŒçŽ°åœ¨ä½ ä¸å¿…ä¹¦ç­¾ 5-10 é¡µï¼Œåªéœ€è¿™ä¸€é¡µðŸ˜€ðŸ˜€ðŸ˜€jkã€‚æ— è®ºå¦‚ä½•ï¼Œæ„Ÿè°¢ä½ åšæŒä¸æ‡ˆåœ°é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œå¦‚æžœä½ æƒ³ç•™ä¸‹ä¸€äº›åé¦ˆæˆ–åªæ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¯·ç•™ä¸‹è¯„è®ºã€‚ä¼°è®¡è¦è¿‡ä¸€æ®µæ—¶é—´æ‰èƒ½ä¸‹æ¬¡äº†ã€‚*

```
 *vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
> Until then, you can play around                                 <
> with most of the methods described in this blog post            <
> by checking the link below                                      <
> [https://github.com/AlexandruBurlacu/error_analysis_code_samples](https://github.com/AlexandruBurlacu/error_analysis_code_samples) <
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^*
```

*[ä½ ä¹Ÿå¯ä»¥ç‚¹å‡»è¿™é‡Œã€‚](https://github.com/AlexandruBurlacu/error_analysis_code_samples)æ‰€æœ‰çš„ä¾‹å­éƒ½æ˜¯ç§å­ï¼Œæ‰€ä»¥åº”è¯¥å¯ä»¥é‡çŽ°ä¸€åˆ‡ã€‚çŽ©å¾—å¼€å¿ƒã€‚*

# *æ‰¿è®¤*

*ç‰¹åˆ«æ„Ÿè°¢ [@dgaponcic](https://twitter.com/dgaponcic) çš„é£Žæ ¼æ£€æŸ¥å’Œå†…å®¹å®¡æ ¸ï¼Œå†æ¬¡æ„Ÿè°¢ [@anisoara_ionela](https://twitter.com/anisoara_ionela) çš„å½»åº•è¯­æ³•æ£€æŸ¥ï¼Œæ„Ÿè°¢ [@dianaartiom](https://twitter.com/dianaartiom) å¯¹ ML çš„æœ€åŽä¸€ç‚¹åé¦ˆã€‚ä½ ä»¬éƒ½æ˜¯æœ€æ£’çš„â¤*

# *å‡ ä¸ªå‚è€ƒ*

*   *[å›žå½’æŒ‡æ ‡çš„è¯¦ç»†æ¦‚è¿°](http://people.duke.edu/~rnau/compare.htm)*
*   *[Christoph Molnar çš„å¯è§£é‡Šæœºå™¨å­¦ä¹ ](https://christophm.github.io/interpretable-ml-book/)ï¼›æƒŠäººçš„å·¥ä½œï¼Œå¤§é‡çš„ä¿¡æ¯ï¼Œå¤§é‡çš„ç»†èŠ‚*
*   *** [è‰²åŸŸçº¸](https://github.com/AlexandruBurlacu/alexandruburlacu.github.io/blob/main/_data/ml_debugging/19_gamut_chi.pdf)å¸®åŠ©æ‚¨æå‡ºå…³äºŽåž‹å·çš„æ­£ç¡®é—®é¢˜*
*   *[æ±‡çº¸](https://github.com/AlexandruBurlacu/alexandruburlacu.github.io/blob/main/_data/ml_debugging/1808.00196.pdf)å’Œ[æ±‡ GitHub å›žè´­](https://github.com/uber/manifold)*
*   *[å¾ˆå¥½åœ°æ¦‚è¿°äº†å¦‚ä½•è¯„ä¼°å’Œé€‰æ‹© ML æ¨¡åž‹](https://neptune.ai/blog/the-ultimate-guide-to-evaluation-and-selection-of-models-in-machine-learning)*

*Github reposï¼Œå…¶ä¸­ä¹ŸåŒ…å«å„è‡ªè®ºæ–‡çš„é“¾æŽ¥:*

*   *[LIME GitHub å›žè´­](https://github.com/marcotcr/lime)*
*   *[SHAP GitHub å›žè´­](https://github.com/slundberg/shap)*
*   *[ä¸»æ’­ GitHub å›žè´­](https://github.com/marcotcr/anchor)*
*   *è¿˜æœ‰ä¸€ä¸ª[æ£’æžäº†çš„ GitHub repo](https://github.com/altamiracorp/awesome-xai#critiques) å…³äºŽä¸åŒçš„ XAI å·¥å…·å’Œè®ºæ–‡ã€‚*