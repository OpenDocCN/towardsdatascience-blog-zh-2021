# 计量经济模型结构稳定性的度量

> 原文：<https://towardsdatascience.com/measuring-structure-stability-of-econometric-models-d8eb3a56e1bd?source=collection_archive---------23----------------------->

## [行业笔记](https://towardsdatascience.com/tagged/notes-from-industry)

## 时间序列预测最简单最重要的想法

在本文中，我想从一位数据科学家的书中摘录一页，并探索数据科学社区作为其建模过程的一部分而实施的一个重要护栏——独立于模型性能定义模型稳定性。

随着大数据的兴起，可用于为给定问题建模的变量数量呈指数级增长。例如，用于识别歌曲或电影的模型不再仅仅使用通用变量，如*以前看过的电影或喜欢的歌曲*等。现在，我们可以包括一系列使用户简档更加动态的指标-**一天中的时间**天气**历史**潜在情绪**喜欢但没有再次听过的歌曲*等等。这份名单可能会永久增长，而且很可能会。每天我们拥有最少的数据，却拥有最多的数据。每天都有更多的关联被发现。**有些是因果，有些不是。***

*我们如何知道哪些变量可以使用，哪些可以忽略？如果一些变量对预测一个用户的行为很重要，但对另一个用户却不那么重要，那该怎么办？*

*幸运的是，数据科学提出了定义模型稳定性的想法。这是定义模型性能的另一种方式，但它并不完全依赖于预测的准确性。“稳定”是一个流动的术语，其含义取决于手头的模型；更一般地说，它是衡量模型如何学习(稳定性)而不是学习什么(准确性)。控制准确性我们希望选择一个更“稳定”的模型——可以应用于大多数用户，能够一致地识别相关的变量集，并保持变量相关性的平凡性。所有这些都是为了说明——在两个非常精确的模型之间，我们希望选择一个可以更普遍地应用的模型，以及一个即使我们稍微改变事情也不会失去控制的模型。例如，如果证券价格变得高度不稳定，复杂、准确且实用的高频交易算法可能会失控。以至于纳斯达克不得不实施熔断机制，以便在出现这种情况时停止交易，事实也的确如此。最近一次爆炸发生在 2020 年 3 月 9 日。虽然有许多因素导致断路器被激活，但事实仍然是，在某个阈值之后，不能信任模型来做出准确或稳定的决策。因此，虽然数据科学有意识地将稳定性与准确性分开，但我想知道计量经济学是否应该积极地建立模型，同时牢记准确性 ***和*** 稳定性。如果有，我们应该如何定义稳定？*

*一旦我们开始定义稳定性，就很容易让它变得越来越微妙。许多机器学习模型利用 k-fold 或 n-fold 交叉验证来测量稳定性或选择的变量，我们可以很容易地将这些方法用于计量经济学建模。然而，由于计量经济学主要在“频率”领域工作，即用于训练模型的数据具有时间关系，因此我们应该更仔细地研究如何在这个新的变量空间中定义稳定性。*

*首先，与 k/n 重交叉验证不同，我们不能在不丢失时间关系的情况下随机地对数据进行子集划分。我们用于预测的模型通常依赖于这样的假设，即时间 *t* 的值可能与其滞后 *{t-1，t-2，…，t-n}有因果关系。*此外，根据我们决定如何对这些时间关系进行建模，我们使用不同的时间序列结构表示——ARIMAX、指数状态空间、傅立叶基表示、径向基表示等。这两种方法利用时间关系的方式略有不同。这意味着学习机制(稳定性)不能用一种通用的交叉验证技术来衡量。*

*出于本文的目的，我只想关注一种时态表示——AR 结构，以及 R 中函数**“auto . ARIMA”**所隐含的算法有多稳定。该功能是 ***预测*** 包的一部分。我希望读者能就如何最好地定义我提到的其他结构的稳定性提出想法。*

*ARMA 过程可以表示如下:*

*![](img/a303ebf2275a696a04fed9a88393eef8.png)*

*可以使用信息标准(AIC)校准 **X** 和**ε**的每一个滞后的系数，这本身就有助于减少误差(提高精度)。然而，AIC 没有关于结构稳定性的信息，只评估了一个模型在保留其训练数据信息方面的效率。*

*如果 AIC 是系数值和滞后的选择标准，那么我们也许可以通过以下方式来衡量 ARMA 模型的稳定性:*

1.  **分配给每个滞后的系数值* —一个准确稳定的模型应该能够计算出正确的系数，然后在每次我们添加另一个数据点进行训练时都这样做。*
2.  **当我们向数据添加随机扰动时，模型的反应* —如果我们试图通过添加与我们的训练数据不来自同一人群的数据来欺骗模型，一个稳定的模型，理想情况下，不会那么容易被欺骗**，即使以准确性为代价**；相反，它不应该试图预测冲击。*

*稳定性测量的另一个重要特征是所有的测量必须发生在相同样本数据的子集上。考虑到数据的时间特性，我们必须稍微改变这些技术，以便为我们的模型保留时间信息。一种解决方案是使用**滚动验证。**我们经常使用它作为衡量样本外预测准确性的方法，但我们在这里可以利用相同的机制；让机器在工作时测量不同的指标。*

*[ *要快速了解滚动验证，读者可以访问* [*Rob J. Hyndman 的博客*](https://robjhyndman.com/hyndsight/tscv/) ]*

*我们可以很容易地模拟 AR 过程。我们将先验地知道滞后系数是什么。接下来，我们可以使用滚动验证方法来训练 auto.arima 算法，并查看 auto.arima 算法获得正确滞后和系数的速度和频率。请参见以下 AR 流程的可视化展示:*

*![](img/3c98617180c540c22f88af860a1bb050.png)*

*上述过程有 4 个滞后，系数向量分别为= {0.7，-0.2，0.5，-0.8}，长度为 1000 个周期。滚动验证/训练从 n=20 开始，下面是每次迭代计算的系数的表示。至少对于这个模拟数据集，auto.arima 算法需要大约 400 个数据点来逼近数值稳定的**和**系数的可接受的精确解(图 1)。但是请注意，即使对于模型非常不稳定的前 200 个数据点，校准模型的样本外精度也与后面的数据点相当(图 2)；唯一的区别是，后来校准的模型对算法训练增加的每个新数据点更加**稳健**。*

*![](img/5b7643d911e2075e074ad5139940e7d5.png)**![](img/3402d168391929e7cb1f9e494049158f.png)*

*为了进一步强调准确性与稳定性之间的关系，时间序列预测中的另一个常见问题是当训练数据包含随机不连续性时，这些不连续性不一定遵循与时间序列本身相同的基本动态。通常，如果我们能够准确识别这些冲击，我们会从训练数据中完全删除数据点，或者选择平滑它们以减少模型的偏差。然而，如果我们能够测量我们的方法/算法的稳健性，我们就可以在建模之前，对我们应该如何*修改原始数据*或设计它做出更明智的选择。这并不是说特征工程是一种无效的建模方法，但是我们必须停下来思考它是帮助我们改进模型还是仅仅使它复杂化。在我看来，**吝啬**不应该被用来换取复杂的声音模型，这些模型对我们从它们那里获得的洞察力提供很少或没有改善。*

*为了测试 auto.arima 的稳定性，我们希望通过添加随机冲击来轻微扰动数据，这些随机冲击与我们希望预测的数据来自不同的分布。我们知道，对于这个数据集，auto.arima 在大约 400 个数据点时达到稳定；我们可以对同一时间序列的扰动版本运行滚动验证，并查看它与未受扰动的同类序列相比如何。相同的时间序列见下文，但随机间断点分散在:*

*![](img/7c64365bcb6a4d23201e017eb10e3d6a.png)*

*下面是 auto.arima 的准确性与之前未受干扰的数据版本的比较(黄线表示添加了不连续点):*

*![](img/e0c6c7418cac686035d2a837a621f7b5.png)*

*很容易看出，当我们随机冲击训练数据时，预测算法实际上变得相对不太准确。人们容易忘记的是，虽然稳定性可能与准确性无关，但它会直接影响准确性。请参见下面为这个新数据集计算的系数:*

*![](img/7db10577f17ef66ce76751990cd9dbd1.png)**![](img/0eb78ea9dd03762b178436264ea7fa61.png)**![](img/8450d963057a7fa2e09e07ace6d4f8b0.png)**![](img/fbe3cbc0e4aebe41d8c58591450e26f3.png)*

*图例显示了*真实系数*值，我们知道在未受干扰的数据中，模型会准确地收敛到该值。然而，当相同的数据受到随机冲击时，它完全将系数值从红线中分离出来。对数据的一些不相关的冲击完全改变了估计的模型表示。一个稳定的算法不应该被一个未经证实的数据冲击影响太多。*

*有趣的是，该算法是*不稳定的*，因此*不准确的*，不仅在计算的系数方面——AR1、AR2、AR3 和 AR4 值与原始数据集非常不同，而且在计算的系数数量方面——原始数据没有 MA1 或 MA2 项，该算法错误地为我们扰动的数据集分配了非零值。如果 auto.arima 选择了错误的模型表示(系数),那么通过构造，与具有未受干扰数据的模型相比，它使用这些系数生成的预测将与实际值相差更远。*

*我想让读者停下来想一想上面的结果——当你完成一个预测练习，软件给出结果时，你认为你的算法向你显示的是哪个值——黑线还是红线**？因为我们只看到最终值，而不是它如何收敛到最终值，稳定性的细微差别就消失了。您的答案将决定您需要采取的特征工程步骤，以确保您负责任地模拟了计量经济学过程。***

***在这种情况下，auto.arima 牺牲了稳定性和准确性。不幸的是，根据我的经验，将稳定性从准确性中分离出来并不是传统计量经济学工作流程的一部分。如果我们将准确性和稳定性作为原始数据和经过处理的数据的两个不同指标来衡量，那么我们就能够就是否应该设计原始数据做出更加明智的决定。有许多方法可以减少单个测量的偏差，甚至有更多的算法可供选择来进行预测；我们必须有一个一致而严格的框架来帮助我们选择每一个。***

***请记住，本文只是触及了计量经济学稳定性的表面，但我们已经能够为许多建模决策提供充分而实用的支持，这些决策通常基于“有根据的”猜测或更糟的预感。***

***我希望读者受到启发，想出更新的方法来探索这个话题！***

****韦丹特·贝迪是万事达卡的分析师，在不结盟运动投资组合开发团队工作。Vedant 拥有 NYU 大学的数学和经济学学士学位(2019 年优等生)，对数据科学、计量经济学及其在金融中的许多应用有浓厚的兴趣。****

***Vedant 还是美国历史最悠久的学术荣誉团体 Phi Beta Kappa(纽约分会)的成员。***