# 了解数据操作

> 原文：<https://towardsdatascience.com/when-i-was-told-to-lead-the-dataops-initiatives-at-work-i-didnt-know-where-to-begin-489b6aa751ca?source=collection_archive---------33----------------------->

## [行业笔记](https://towardsdatascience.com/tagged/notes-from-industry)

当我被告知在工作中领导数据运营计划时，我不知道从哪里开始。所以我从最容易的地方开始，通过谷歌搜索。

数据操作的定义很无聊。这是:

> DataOps 是一种自动化的、面向流程的方法，由分析和数据团队使用，用于提高质量和缩短数据分析的周期时间。—维基百科

好吧，所以任何与流程、政策、框架有关的事情，为了缩短分析周期，提高数据质量，确保数据正确性，强调协作和自动化，都是数据运营。

起初，这听起来让人不知所措。数据操作的定义是如此模糊和宽泛，以至于它似乎涵盖了数据世界下的一切。我过去常常花数小时与我的经理讨论和辩论什么是数据运营，什么不是数据运营。我需要清楚地定义数据运营，否则我该如何为数据运营团队制定计划和路线图？

幸运的是，经过一段时间的研究和与我的经理交流，我对 DataOps 有了更好的理解。我想在这里分享的是我个人对数据操作相关工作的理解。虽然有些细节只适用于我的工作场所，但我相信也有适用于任何地方的普遍经验。

# 第 1 部分:为什么选择 DataOps？

简而言之，DataOps 是管理日益庞大和复杂的数据的一种方式。如果你只有少量的数据管道，你就不需要数据操作。无论有没有框架，工程师都可以轻松管理管道。

当你有更多的数据时，比如由数百个不同来源创建的数百条管道，管理它们将会变得更加棘手。如果您想快速、高效地扩展，您必须有一个一致的方法来收集、处理和理解数据。你需要某种框架，那就是数据操作。

# 第二部分:如何做数据操作？

我将尝试通过给你一些数据操作相关工作的常见主题来解释这一点。

## 1.找到共同的模式，对每个用例进行归纳

是的，这一点也不奇怪。与编码类似，找到一个好的抽象有助于使数据更容易管理，更不容易出错。

在一家高速发展的公司中，数据量和数据管道的数量呈指数级增长。数据工程团队的发展速度赶不上数据的增长速度，那么我们如何处理不断增长的数据需求呢？

虽然对新管道的需求迅速增加，但幸运的是，不同类型的数据问题数量很少。通过标准化，并认识到数据问题的共同模式，我们能够建立通用框架来处理数据。当我们创建一个通用框架来解决一种类型的数据问题时，我们就解决了所有相同类型的数据问题。这可以应用于任何需求不断增长的问题，比如创建新的数据管道、新的数据模型、管理数据访问等。对于每个问题，找出共同的模式，并为其设计解决方案。

这里有一个好的建议，在制定任何规则和设计解决方案之前，先列出用例及例子。列出用例可以帮助你可视化和识别现有问题空间中的模式。将每个模式或用例放在不同的桶中进行分类。列出每个存储桶中项目的属性。然后设计一个规则，定义什么进入同一个桶。如果规则必须变得复杂，以确定哪个用例属于哪个存储桶，那么用例的类别很可能没有被清楚地定义。回去重新设计存储桶，而不是改变规则或创建复杂的分类规则。冲洗并重复。

测试用例是否被清晰定义的一个好方法是尝试把一个新的数据问题分类到一个桶中。如果所有新的数据问题都可以很容易地归入定义的桶中，那么恭喜你！您已经找到了共同的模式，现在您可以着手为它们中的每一个设计解决方案。基本上，它是对数据模式进行切片和切块，直到您达到足够好的折衷:一个足够健壮的解决方案，以满足任何已知数据问题的变化，并高度覆盖所有不同的用例。

这一过程的难点在于正确地构建问题。设计解决方案更加容易。如果你没有解决方案，很有可能互联网上的其他人有。但是，要确保问题得到正确解决，需要更多的考虑和思考。花点时间把这个问题弄清楚是值得的。这是您如何确保在为 it 设计解决方案时，您所付出的努力是值得的。

## 2.文档文档文档

随着公司的发展，不可避免的是，跨部门的团队越来越分散，越来越难保持相同水平的团队凝聚力。虽然口头交流只能做这么多，但书面和记录的交流是永恒的。文档是组织中最被低估的工作。随着公司规模的扩大和多样化，文档的重要性只会增加。做得好的话，文档可以节省时间，保留知识，并提高用户的生产力。是跨部门同事沟通理解最有效的方式。随着公司员工的来来去去，文档有助于用户快速加入，并确保他们离开时上下文不会丢失。

有了数据，这敲响了更真实的警钟。数据通常很难理解，因为它有许多维度。它不仅仅是您在表格中看到的列和行。要理解数据，用户需要理解数据的 5W1H。它从哪里来的？谁创造的？什么时候产生的？是如何产生的？创建数据的目的是什么？谁使用它？这些问题的答案可能来自几个方面，这取决于我们查询的是数据流的哪一部分。

如果你不想陷入一个恶性循环中，总是问一些关于数据的简单问题并寻找答案，那么数据文档会有很大的帮助。像 [Amundsen](https://www.amundsen.io/) 这样的数据发现工具是现有的最好的开源工具之一，旨在解决核心的数据理解和发现问题。

在扩展团队时，记录我们的工作方式以及工具在公司中的使用方式是至关重要的。写好文档可以节省大量时间，也许是最大的节省。当新用户加入时，他们可以浏览文档，了解所创建的指南和框架。它简化了与每一个新来者握手和重复的时间。它还可能节省用户花费在从头开始计算和重新发明轮子上的时间。当用户浏览文档时，他们可能会发现更好的做事方法。然后，用户可以向原始文档创建者提供反馈，他们可以就改进流程进行建设性的讨论。可以立即修改文档以反映更好的和改进的过程，并且阅读文档的以下用户将受益于结果。

随着数据工程师设计框架并向公司引入更好、更新的工具，我们也有责任分享关于它们的指导方针和资源。录制的研讨会和有用的阅读材料也记录在案，让用户发现和了解它们。这鼓励了组织内部的知识共享和自我学习。用户可以在自己的时间阅读和学习他们角色之外的新事物。有了更好的知识，用户和工程师就可以按照概述的最佳实践创建更高质量的管道和数据资产。随着数据质量的提高，数据消费者在使用数据时也会获得更好、更顺畅的体验。

记录数据问题也是我们团队采用的一种做法。这种实践帮助我们阐明痛点，评估影响，并允许我们创建一个更清晰的问题描述。如果有什么不同的话，记录可以帮助我们更清晰地思考。每当我们处理一个新问题时，我们都从创建一页纸开始。在这篇一页纸的文章中，作者首先描述了当前的状态，列出了棘手的问题和对用户的影响。作者随后探索了几种解决棘手问题的方法，并为每种方法提供了所需工作量的细节，然后根据影响来衡量其优先级。然后在团队成员中进行讨论，以浏览文档。这个练习有助于团队了解作者的思考过程，并使每个人对问题有相同的看法。它为团队提供了一个框架来评估问题，并随后以系统和科学的方式设计解决方案。它还允许团队在设计最佳解决方案时利用更多观众的意见。问题越复杂，在为其设计解决方案之前，我们记录并与团队交流就越重要。

## 3.减少与数据的摩擦

数据有生命周期。随着数据的创建，它会随着时间的推移而增长和变化。最后，当数据源被弃用时，数据也会被弃用。在数据中，变化总是意料之中的。因此，传输数据的管道以及对数据的理解也需要随着数据行为的变化而更新。为了管理数据变更，我们设计系统来减少与数据的摩擦。

当引入变化时，它可能会中断管道(仓库中的数据变得陈旧)，或者它可能会引入用户没有意识到的行为变化。无论哪种方式，用户都会注意到他们的报告仪表板上发生了一些奇怪的事情，并会去敲数据工程师的门问问题。数据工程师会去敲生产商的门寻找答案。通常需要生产者和用户之间的几轮来回，才能完全理解哪里出了问题。由于缺乏背景，数据工程师通常不能完全理解用户看到的数据中的问题，以及由生产者引入的数据行为的变化。对于用户和数据工程师来说，这个过程通常既耗时又令人沮丧。这打断了他们的日常工作流程。当沟通破裂时，对数据的信任度降低，数据的价值也随之降低。当业务用户不能信任数据时，他们又怎么能信任从数据中产生的洞察力呢？

减轻这种沟通痛苦的尝试之一是设计警报系统，以便在管道事故发生时通知相关的利益相关方。管道警报发布到围绕特定数据主题的公共渠道，生产者和用户都在场。欢迎公司内使用相同数据的任何用户加入该频道并订阅警报。这确保了当管道发生故障时，所有的利益相关者都能得到通知。可以立即讨论 bug 和数据问题，并与渠道内的所有利益相关者透明地共享。这有助于改善生产者和消费者之间的沟通，缩短反馈周期，从而减少数据停机时间。生产者和消费者之间的公开交流也有助于培养一种文化，即数据的变化提前通知数据工程师和下游用户，而不是事后通知。

除了开放数据通道之外，增加数据的元数据，使其易于获取，也有助于减少使用数据时的摩擦。一天中，数据用户经常会问数据工程师一些关于数据的重复问题。管道计划何时运行？管道上次成功运行是什么时候？数据的来源是什么？这些信息和其他有用的元数据可以发布到一个集中的平台上，用户可以在那里自助服务并自己发现。它提高了数据用户的工作效率，因为只需点击一下鼠标就能找到答案，并且它将数据工程师从重复回答问题的工作中解放出来。

## 4.添加检查器和阻止器来管理数据

现在，我们已经设计了适合常见数据用例、文档资源和沟通指南的框架，并实现了更快的数据反馈循环，下一个挑战是让数据用户实际利用可用的正确框架和工具！

当我们向最终用户提供在数据仓库中执行操作的能力时，我们还希望管理并确保用户安全可靠地使用数据。根据墨菲定律，任何可能发生的事情都会发生。因此，我们实施检查和拦截器来防止未经授权的行为。这使我们能够保护数据资产免受人为错误的影响，确保框架按预期使用，并确保遵循最佳实践。

这就是执行过程的作用所在。我们设计的工作流在流程中嵌入了自动检查，并在用户不使用预期的工作流时阻止操作。

例如，我们实现检查以确保数据资产是根据指导原则集创建的。我们有一个集中的存储库，在那里我们存储和跟踪所有的数据转换逻辑。用户可以提出“拉”请求来创建新的数据资产或对现有的数据资产进行更改。任何变更都将触发自动检查，以确保要执行的变更遵循设定的指导原则和标准。检查失败将阻止用户创建新数据资产的能力。

我们努力在组织内实施数据记录实践。我们从惨痛的教训中学到的一点是，从长远来看，指派数据工程师来定义各个产品生成的数据的数据字典是行不通的。尽管数据工程师将大部分时间花在处理数据和管道上，但我们并不是数据的原始创造者。作为代表每个产品团队收集数据字典并记录它们的中间人，是不可伸缩的。一旦数据工程师离开产品团队去从事其他工作，数据字典就会漂移并变得陈旧。为了确保可持续的数据文档，数据字典需要从它们的合法所有者那里众包，他们是数据的原始创建者。为了实施数据文档，必须将它作为数据创建过程需求的一部分。这确保了通过管道进入仓库的任何数据都被记录在案。

重要的是，数据团队了解现有的框架和系统，并在指导用户通过正确的渠道提出请求方面发挥积极作用。例如，当用户面临一个数据问题时，我们会引导他们在开放的数据渠道中讨论这个问题，所有其他利益相关者都在场。这样就减少了多余的沟通，减少了误传。当用户有数据访问请求时，我们会指导他们通过服务台提出请求，我们会要求他们为请求提供足够的信息，并获得相应所有者的批准。对于任何可自助服务的东西，数据工程师会指引用户找到合适的文档链接，帮助他们快速起步。

为了防止关键数据集发生意外变化，我们还添加了数据测试来监控它们。数据测试的一些例子是数据唯一性检查、无效性检查、分布检查和可接受的范围/值检查。当数据测试失败时，会发送警报通知风险承担者。利益相关者必须澄清数据的变化是否是预期的。数据测试将不时更新，以反映数据行为的变化。

实现的所有检查和阻止程序应该充分覆盖仓库的所有入口点，并嵌入到用户的工作流程中。这确保了数据仓库受到充分保护，并且没有允许用户绕过该过程的漏洞。

# 结论

DataOps 实际上是确定数据用户工作流程中的常见问题，并加以改进。它是关于缩小差距，加强沟通，提高数据的可靠性和易用性。根据您组织中的数据缺口，数据运营任务可能会有所不同，但很可能围绕以下共同主题:

1.  找到共同的模式，并对每个用例进行归纳
2.  文档文档文档
3.  减少与数据的摩擦
4.  添加检查器和阻止器来管理数据

希望这篇文章能帮助您了解数据操作的工作方式。:)