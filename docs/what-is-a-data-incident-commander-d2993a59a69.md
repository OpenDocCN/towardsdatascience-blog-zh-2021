# 什么是数据事件指挥官？

> 原文：<https://towardsdatascience.com/what-is-a-data-incident-commander-d2993a59a69?source=collection_archive---------36----------------------->

## 数据团队如何利用 DevOps 最佳实践构建更具弹性的事件工作流

![](img/1d3e62064eeeccf14f3719fdd893ad6d.png)

图片由 [Unsplash](http://www.unsplash.com/) 上的 [SpaceX](https://unsplash.com/@spacex) 提供。

*事故管理不仅仅是软件工程师的事。随着* [***数据平台***](https://www.montecarlodata.com/the-quick-and-dirty-guide-to-building-your-data-platform/) *和* [***数据即产品心态***](https://locallyoptimistic.com/post/run-your-data-team-like-a-product-team/) *的兴起，构建更可靠的流程和工作流来处理* [***数据质量***](https://www.montecarlodata.com/the-ultimate-guide-to-data-quality/) *已经成为数据工程师最关心的问题。*

*在* [***上一篇***](https://www.montecarlodata.com/automatic-detection-and-alerting-for-data-incidents-with-monte-carlo/) *中，我们讨论了如何设置对不良数据的自动检测和报警；现在，我们分享最佳数据团队如何在数据团队的新兴角色* ***数据事件指挥官*** *的帮助下，为您的破损数据管道进行分类和严重性评估。*

现在是周一早上，你的电话一直在响。

你醒来时，你的首席执行官发来消息说，“这份报告中的数字似乎不对…又不对了。”

你和你的团队放下手头的工作，开始解决手头的问题。然而，你的团队对事件的反应却是一团糟。整个组织中的其他团队成员都在重复努力，而您的 CMO 被蒙在鼓里，没有更新被发送到组织的其他部分。

在这一切发生的同时，财务部门的 John 发短信告诉你他的电子表格中有一个错误的表格，运营部门的 Eleanor 发短信告诉你一个查询得到了有趣的结果。

数据工程师要做什么？

如果这种情况你听起来很熟悉，要知道你并不孤单。很多时候，数据工程师不仅要承担修复数据问题的负担，还要优先考虑修复什么、如何修复，并随着事件的发展交流状态。

> 对于许多公司来说，数据团队在这场救火中的责任往往模糊不清，尤其是在回答“谁在管理这一事件？”这个问题时

当然， [**数据可靠性 SLA**](https://www.montecarlodata.com/how-to-make-your-data-pipelines-more-reliable-with-slas/)**应该由整个团队来管理，但是当橡胶上路时，我们需要一个专门的角色来帮助发号施令，并确保在数据中断时满足这些 SLA。**

**在软件工程中，这个角色通常被定义为 [**【事件指挥官】**](https://sre.google/workbook/incident-response/)**，其核心职责包括:****

*   ****尽早并经常向更广泛的数据团队和利益相关者标记事件。****
*   ****维护受影响数据资产或异常情况的工作记录。****
*   ****针对特定事件协调工作并分配责任。****
*   ****根据需要分发操作手册和行动手册。****
*   ****评估事件的严重性和影响。****

****就像产品工程团队的 scrum master 一样，数据团队将每周或每天指派事件指挥官，通常是针对特定功能团队拥有的特定数据集。建立良好的、可重复的事件管理(和事件指挥官)实践主要是一个文化过程，但投资自动化和保持数据健康的持续发展会让您走得更远。剩下的就是教育了。****

******在对数据问题进行分类和评估其严重性时，每个事件经理都必须采取以下四个关键步骤:******

# ****1.将通知发送给适当的团队成员****

****![](img/f4abdeb660e88e028332c6fe07a8766d.png)****

****在分散的数据团队中，团队成员分散在不同的业务部门，每个领域中的数据团队成员负责为他们的利益相关者处理事件。在这种结构中，数据团队成员通常要么向业务部门的负责人报告，要么在某些情况下向 CDO 或数据负责人报告。图片由蒙特卡洛提供。****

****![](img/a687524cbeb3984a99dc0c8f2bf1e96e.png)****

****集中式数据团队直接向 CDO 或数据负责人报告，同时处理来自不同业务部门的数据的查询和事件。除非另有说明，否则多个业务部门都是他们的利益相关者。图片由蒙特卡洛提供。****

****在响应数据事件时，数据组织的构建方式将影响您的事件管理工作流，并最终影响事件指挥官流程。****

****如果您是嵌入式数据团队的一员，那么委派事件响应就容易得多(例如，营销分析和数据工程团队拥有所有营销分析渠道)。如果您在一个集中的数据团队中，将这些事件警报发送给适当的所有者需要一些远见和规划。****

****无论哪种方式，我们建议您为数据团队的特定成员拥有和维护的数据管道建立专用的备用通道，邀请相关的利益相关者，以便他们知道他们所依赖的关键数据是否出现故障。我们合作的许多团队建立了[page duty](https://www.montecarlodata.com/how-pagerduty-applies-devops-best-practices-to-achieve-reliable-data-at-scale/)或 Opsgenie 工作流程，以确保不遗漏任何基础。****

****![](img/23ba276eb7db4680a7d64b4b752fa68d.png)****

****作为数据事件指挥官，正确发送通知并在错误向下游传播之前迅速将它们发送给正确的人是非常重要的。图片由蒙特卡洛提供。****

# ****2.评估事故的严重性****

****![](img/cadef7df6ac9d862bcd1e4fac3f9e1ca.png)****

****获得上述通知使您和您的团队能够评估事件的严重性，并决定是否应该优先响应事件。图片由蒙特卡洛提供。****

****一旦通知管道所有者数据有问题，他们应该采取的第一步是评估事件的严重性。因为数据生态系统在不断发展，所以在任何给定的时间都会有大量的变化引入到您的数据管道中。虽然有些是无害的(例如，预期的模式更改)，但有些是致命的，会对下游的利益相关者造成影响(例如，关键表中的行数从 10，000 减少到 1，000)。****

****一旦您的团队开始对问题进行故障诊断，最佳做法是根据其状态标记问题，无论是已修复、预期、正在调查、不需要采取措施还是误报。标记问题有助于用户评估事件的严重程度，并在向特定于受影响数据的渠道中的相关利益相关方传达更新方面发挥关键作用，以便他们可以采取适当的措施。****

****如果对您的公司不重要的数据资产损坏了，该怎么办？事实上，如果这些数据被弃用了呢？****

****即使是最好的数据团队也会受到幻像数据的困扰，我也不知道有多少次我收到了一个数据问题的警报，尽管已经解决了所有的事件，但它对业务来说并不重要。因此，我没有解决高优先级的问题，而是花了几个小时甚至几天的时间来处理损坏的数据，结果却发现这是在浪费时间。*自 2019 年以来，我们没有使用过那张桌子。*****

****![](img/a93a933cc79f0b86bd518d1a1b10b3d0.png)****

****就像在软件工程和 DevOps 中一样，端到端谱系映射关键数据依赖关系是数据事件指挥官工具包的一个关键组件。图片由蒙特卡洛提供。****

****那么，您如何确定哪些数据对您的组织最重要呢？团队能够发现他们最关键的数据集的一个越来越常见的方法是利用工具来帮助他们可视化他们的血统。这使他们能够在发生事故时了解其所有数据集之间的关系，并能够跟踪数据所有权，以提醒可能受到该问题影响的相关人员。****

****一旦您的团队能够确定影响的严重性，他们将会更好地理解错误的优先级。如果是数据直接驱动财务洞察力，甚至是你的产品表现如何，这可能是一个超级高优先级的问题，你的团队应该尽快停止他们正在做的事情来解决它。如果不是，是时候继续前进了。****

# ****3.尽可能经常地交流状态更新****

****![](img/f886cc2eeb2e947e90e8880b502da684.png)****

****为您的事件响应任务组的所有成员提供一个关于给定事件的集中状态页面，在响应数据事件时发挥着关键作用。图片由蒙特卡洛提供。****

****在响应数据事件的过程中，良好的沟通会起到很大的作用，这就是为什么我们已经讨论了数据团队应该如何以及为什么[创建一个操作手册](https://www.montecarlodata.com/automatic-detection-and-alerting-for-data-incidents-with-monte-carlo/#:~:text=At%20a%20bare%20minimum%2C%20I%20recommend%20your%20runbook%20address%20the%20following%3A%C2%A0)来指导(逐步)如何处理给定类型的事件。遵循操作手册对于保持正确的责任线和减少重复劳动至关重要。****

****一旦你确定了“谁做什么”,你的团队就可以开始更新一个状态页面，利益相关者可以实时跟踪更新。中央状态页面还允许团队成员查看其他人正在进行的工作以及这些事件的当前状态。****

****在与客户的交谈中，我看到事故指挥授权有两种处理方式:****

1.  *******指定一名团队成员在指定时间段内待命处理任何事件:*** 在待命期间，该人负责处理所有类型的数据事件。一些团队有专人专职处理他们团队管理的所有事件，而其他团队则有一个每周轮换团队成员的时间表。****
2.  *******负责覆盖某些表的团队成员:*** 这是我们看到的最常见的结构。通过这种结构，团队成员在进行日常活动的同时，可以处理与分配给他们的表或报告相关的所有事件。表分配通常基于给定成员最密切使用的数据或管道进行调整。****

****要记住的一件重要事情是，这里没有对错之分。最终，这只是一个确保你致力于一个过程并坚持下去的问题。****

# ****4.定义并协调数据 SLA 和 sli，以防止将来发生事故和停机****

****虽然事故指挥官不对 [**设置 SLA**](/how-to-make-your-data-pipelines-more-reliable-with-slas-b5eec928e906)负责，但他们通常负责满足这些要求。****

****简而言之，服务水平协议(SLA)是许多公司用来定义和衡量给定供应商、产品或内部团队将提供的服务水平的一种方法，以及如果他们未能提供的潜在补救措施。****

****例如， [Slack 面向客户的 SLA](https://slack.com/terms/service-level-agreement) 承诺，对于 Plus 计划及以上的客户，每个财政季度的正常运行时间为 99.99%，计划停机时间不超过 10 小时。如果他们达不到要求，受影响的客户将在他们的帐户上获得服务积分以供将来使用。****

****您的**服务级别指标(SLIs)**(SLA 的量化指标)将取决于您的具体用例，但这里有一些用于量化事件响应和数据质量的指标:****

*   ******特定数据资产的数据事件数量(N)** :尽管这可能超出了您的控制范围，但鉴于您可能依赖外部数据源，这仍然是数据停机的重要驱动因素，通常值得衡量。****
*   ******检测时间(TTD):** 当问题出现时，此指标量化您的团队收到警报的速度。如果您没有适当的检测和警报方法，这可能需要几周甚至几个月的时间。由不良数据造成的“无声错误”会导致代价高昂的决策，对您的公司和客户都有影响。****
*   ******解决问题的时间(TTR):** 当您的团队收到问题警报时，这将衡量您解决问题的速度。****

****通过跟踪这些，数据团队可以努力降低 TTD 和 TTR，进而构建更可靠的数据系统。****

# ****为什么数据事件指挥官很重要****

****在应对数据事件时，时间至关重要，作为事件指挥官，时间既是您的敌人，也是您最好的朋友。****

****在理想情况下，公司希望数据问题尽快得到解决。然而，情况并不总是这样，一些团队经常发现他们比他们希望的更频繁地调查数据问题。事实上，尽管数据团队投入大量时间编写和更新 [**自定义数据测试**](https://www.montecarlodata.com/what-is-data-testing/) ，他们仍然会经历管道中断。****

****一名事故指挥官，配备正确的流程、少量自动化和适当的组织支持，可以为您的数据管道的可靠性创造奇迹。****

****你的 CEO 以后会感谢你的。****

*******有兴趣了解有关为您的数据团队建立可靠的事件管理流程的更多信息吗？向格伦伸出手***[](https://www.montecarlodata.com/request-a-demo/)****！********