# åœ¨ Python ä¸­è¿›è¡Œåº“å­˜æ¨¡æ‹Ÿ

> åŽŸæ–‡ï¼š<https://towardsdatascience.com/make-your-inventory-simulation-in-python-9cb950da8cf3?source=collection_archive---------3----------------------->

## åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†åœ¨ Python ä¸­åˆ›å»ºä¸€ä¸ªå®šæœŸè¡¥è´§ç­–ç•¥çš„æ¨¡æ‹Ÿã€‚ä¸åˆ° 30 è¡Œã€‚

*æœ¬æ–‡æ‘˜è‡ªæˆ‘çš„è‘—ä½œ* [*åº“å­˜ä¼˜åŒ–:æ¨¡åž‹ä¸Žæ¨¡æ‹Ÿ*](https://www.degruyter.com/document/doi/10.1515/9783110673944/html) *ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œ* *é˜…è¯»æˆ‘çš„å…¶ä»–æ–‡ç« * [*ï¼Œåœ¨è¿™é‡Œ*](https://nicolas-vandeput.medium.com/) *è®¢é˜…æˆ‘çš„åšå®¢* [ã€‚æˆ‘ä¹Ÿæ´»è·ƒåœ¨](https://nicolas-vandeput.medium.com/subscribe)[*LinkedIn*](https://www.linkedin.com/in/vandeputnicolas/)*ä¸Šã€‚*

![](img/84b990452ad7765d451dd6218eae62d6.png)

è¥¿å¥¥å¤šÂ·åŠ å‹’(1571-1633)å¤§çº¦åœ¨ 1600 å¹´(åŽæ¥ç€è‰²)é›•åˆ»çš„â€œæ–°å‘çŽ°â€çš„å·é¦–ã€‚[æ¥æº](https://www.wikigallery.org/wiki/painting_234811/%28after%29-Straet%2C-Jan-van-der-%28Giovanni-Stradano%29/Frontispiece-to-Nova-Reperta-New-Discoveries-engraved-by-Theodor-Galle-1571-1633-c.1600)

åœ¨ä½¿ç”¨ Python ç¼–å†™åº“å­˜æ¨¡æ‹Ÿä»£ç ä¹‹å‰ï¼Œè®©æˆ‘ä»¬èŠ±ç‚¹æ—¶é—´æ¥å®šä¹‰æˆ‘ä»¬å°†è¦æ¨¡æ‹Ÿçš„åº“å­˜ç­–ç•¥:ä¸€ä¸ªå®šæœŸè¡¥è´§çš„åº“å­˜ç­–ç•¥ã€‚

# åº“å­˜æ”¿ç­–:å®šæœŸè¡¥è´§

éµå¾ªå®šæœŸè¡¥è´§æ”¿ç­–çš„äº§å“ä¼šæ ¹æ®å›ºå®šçš„æ—¶é—´è¡¨å’Œæœ€é«˜æ°´å¹³å®šæœŸè®¢è´­ã€‚

![](img/adb693bad0e2fcdcd7adc8f714d9a865.png)

å®šæœŸè¡¥å……ã€‚[æ¥æº:æˆ‘çš„åº“å­˜åŸ¹è®­](https://supchains.com/)

åœ¨ä»»ä½•è¯„ä¼°æœŸçš„å¼€å§‹ï¼Œæˆ‘ä»¬éœ€è¦è®¢è´­è¶³å¤Ÿçš„äº§å“ï¼Œä»¥ä½¿æˆ‘ä»¬çš„å‡€åº“å­˜è¾¾åˆ°æ°´å¹³ *S* ã€‚ä»Žä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œè®¢å•æ•°é‡å–å†³äºŽæˆ‘ä»¬ä¸‹å•æ—¶çš„åº“å­˜æ•°é‡ï¼Œå› æ­¤æ˜¯å¯å˜çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œè®¢å•æ˜¯æŒ‰ç…§å›ºå®šçš„æ—¶é—´è¡¨ç”Ÿæˆçš„:ä¸¤ä¸ªè¿žç»­è®¢å•ä¹‹é—´ç»è¿‡çš„æ—¶é—´æ€»æ˜¯ç›¸åŒçš„ã€‚

è¿™ç§å®šæœŸè¡¥è´§ç­–ç•¥å®žé™…ä¸Šæ˜¯ä¾›åº”é“¾ä¸­æœ€å¸¸è§çš„ï¼Œå› ä¸ºå®ƒç»å¸¸è¢« MRP/DRP çš„å¹¿æ³›ä½¿ç”¨å¼ºåŠ åˆ°ä¾›åº”é“¾ä¸Šã€‚è¿™äº›å·¥å…·éµå¾ªé¢„å®šä¹‰çš„æ—¶é—´è¡¨â€”é€šå¸¸æ˜¯æ¯å¤©æˆ–æ¯å‘¨â€”è¿™å¯¼è‡´äº†å®šæœŸå®¡æŸ¥ç­–ç•¥çš„éšå«ä½¿ç”¨ã€‚

> å›ºå®šè¯„å®¡æœŸæ”¿ç­–é€šå¸¸è¢«ç§°ä¸º(Rï¼ŒS)ï¼Œå…¶ä¸­ *R* æ˜¯å›ºå®šè¯„å®¡æœŸï¼Œ *S* æ˜¯ up-to-levelã€‚

## ä¼˜åŠ¿

å®šæœŸè¡¥å……å…è®¸ä¼ä¸šå°†ä»–ä»¬çš„è®¢å•åˆ†ç»„ç»™ä»–ä»¬çš„æ¯ä¸ªä¾›åº”å•†ã€‚è¿™æœ‰åŠ©äºŽå®¢æˆ·å’Œä¾›åº”å•†ç®€åŒ–ä»–ä»¬çš„æ“ä½œï¼Œå› ä¸ºä»–ä»¬å¯ä»¥æå‰è®¡åˆ’è®¢å•å’Œå·¥ä½œé‡ã€‚

## é™åˆ¶

*   ðŸ›¡ï¸ **é£Žé™©**ã€‚è¿™ç§å®šæœŸç­–ç•¥æ¯”è¿žç»­ç­–ç•¥(æ‚¨å¯ä»¥åœ¨ä»»ä½•æ—¶é—´ç‚¹ä¸‹è®¢å•)é£Žé™©æ›´å¤§ï¼Œå› ä¸ºå®ƒä¼šäº§ç”Ÿç›²ç‚¹:æ‚¨ä¸èƒ½åœ¨ä¸¤ä¸ªå®¡æ ¸æœŸä¹‹é—´ä¸‹è®¢å•ã€‚å¦‚æžœä½ æ¯å‘¨äº”å‘ä¾›åº”å•†ä¸‹è®¢å•ï¼Œä½†åœ¨å‘¨ä¸€æ™šä¸Šç¼ºè´§ï¼Œä½ å°†ä¸å¾—ä¸å†ç­‰å››å¤©æ‰èƒ½ä¸‹æ–°è®¢å•ã€‚åŒæ—¶ï¼Œä½ å¯èƒ½ä¼šå› ä¸ºç¼ºè´§è€ŒæŸå¤±é”€å”®é¢ã€‚è¿™æ¯”å›ºå®šå†è®¢è´­ç‚¹æ”¿ç­–é£Žé™©æ›´å¤§ï¼Œåœ¨å›ºå®šå†è®¢è´­ç‚¹æ”¿ç­–ä¸‹ï¼Œä½ ä¼šåœ¨å‘¨ä¸€æ™šä¸Šç›´æŽ¥ä¸‹æ–°è®¢å•ã€‚
*   ï¸ðŸ“¦**å¯å˜è®¢è´§é‡** y .å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ¯ä»½è®¢å•çš„è®¢è´§é‡ä¼šæœ‰æ‰€ä¸åŒã€‚è¿™å¯èƒ½ä¼šç ´åå¹³ç¨³çš„æ“ä½œæµç¨‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœæ‚¨æœ‰ä¸€ä¸ªè´§ç›˜åŒ–çš„äº§å“ï¼Œæ‚¨å¯èƒ½ä¸æƒ³ç§»é™¤æ•´ä¸ªè´§ç›˜å‘¨å›´çš„åŒ…è£…æ¥è¿è¾“ä¸€ä¸ªå•å…ƒã€‚

## è¿žç»­ä¿å•å‘¢ï¼Ÿ

åœ¨æŒç»­ç­–ç•¥ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®å›ºå®šçš„é˜ˆå€¼è®¢è´­äº§å“ã€‚ä¸€æ—¦å‡€åº“å­˜è¾¾åˆ°é˜ˆå€¼(æˆ–ä½ŽäºŽé˜ˆå€¼)ï¼Œæˆ‘ä»¬å°±å‘ä¾›åº”å•†è¦æ±‚é¢„å®šæ•°é‡çš„å•ä½(æˆ–å¯åŠ¨ç”Ÿäº§æ‰¹æ¬¡)ã€‚è¿™ä¸ªé˜ˆå€¼ç§°ä¸ºå†è®¢è´­ç‚¹æˆ– ROPã€‚

è¿žç»­ä¿å•å‡è®¾å®¢æˆ·å¯ä»¥éšæ—¶å‘å…¶ä¾›åº”å•†è®¢è´­ã€‚å®žé™…ä¸Šï¼Œæƒ…å†µå¯èƒ½å¹¶éžå¦‚æ­¤ã€‚ä¾‹å¦‚ï¼Œä¾›åº”å•†å¯èƒ½ä¸€ä¸ªæœˆåªæŽ¥å—ä¸€æ¬¡è®¢å•(æˆ–è€…ä¸€ä¸ªæœˆåªå‘ä¸€æ¬¡è´§â€”â€”è¿™æ˜¯ä¸€æ ·çš„)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®¤ä¸ºæ‚¨ä¼šéµå¾ªå›ºå®šçš„å†è®¢è´­ç‚¹æ”¿ç­–æ˜¯ä¸åˆç†çš„ï¼Œå› ä¸ºä¾›åº”å•†å®žé™…ä¸Šæ˜¯åœ¨éµå¾ªè‡ªå·±çš„æ—¥åŽ†ã€‚å› æ­¤ï¼Œåœ¨å®žè·µä¸­ï¼ŒçœŸæ­£çš„è¿žç»­ç­–ç•¥æ˜¯ä¾‹å¤–çš„(ä¸€äº›å®Œå…¨è‡ªåŠ¨åŒ–çš„ç”Ÿäº§æµç¨‹æˆ–å†…éƒ¨æµç¨‹å¯èƒ½éµå¾ªè¿™äº›å‡è®¾)ã€‚

![](img/d42ca6ebb545d37bc3909816c749d6f0.png)

å®šæœŸå®¡æŸ¥ä¸ŽæŒç»­æ”¿ç­–ã€‚æ¥æº:æˆ‘çš„åº“å­˜åŸ¹è®­:ã€https://supchains.com/live-training/ 

åœ¨å¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ªåº“å­˜æ¨¡æ‹Ÿä¹‹å‰ï¼Œä½ å¯èƒ½æƒ³é˜…è¯»æˆ‘ä»¥å‰çš„æ–‡ç« ï¼Œ*åº“å­˜ä¼˜åŒ–ï¼Œå®ƒä¸ºä¼˜åŒ–ç­–ç•¥å¥ å®šäº†åŸºç¡€ã€‚*

[](/a-framework-for-inventory-optimization-71d4496aec75) [## åº“å­˜ä¼˜åŒ–æ¡†æž¶

### åº“å­˜ä¼˜åŒ–ä¹‹æ—…:åˆ©æ¶¦æœ€å¤§åŒ–ï¼Œåº“å­˜æ”¿ç­–ä¼˜åŒ–ï¼Œéœ€æ±‚å’Œä¾›åº”â€¦

towardsdatascience.com](/a-framework-for-inventory-optimization-71d4496aec75) 

# æ¨¡æ‹Ÿè®¾ç½®

## éœ€æ±‚å’Œä¾›åº”é“¾

è®©æˆ‘ä»¬ä»Žå®šä¹‰å˜é‡ *time â€”* å¼€å§‹ï¼Œå®ƒå°†è®¾ç½®æˆ‘ä»¬æ¨¡æ‹Ÿçš„æŒç»­æ—¶é—´ã€‚ç„¶åŽï¼Œæˆ‘ä»¬å¯ä»¥å¡«å……éµå¾ªæ­£æ€åˆ†å¸ƒçš„éœ€æ±‚æ•°ç»„ã€‚

```
import numpy as np
time = 200
d_mu = 100
d_std = 25
d = np.maximum(np.random.normal(d_mu, d_std, time).round(0).astype(int),0)
```

> åœ¨è¿™ä¸ªæ¨¡æ‹Ÿä¸­ï¼Œæˆ‘ä»¬å‡è®¾æˆ‘ä»¬çš„éœ€æ±‚æ˜¯æ­£æ€åˆ†å¸ƒä¸”ä¸¥æ ¼ä¸ºæ­£ã€‚é€šè¿‡æ”¹å˜ä½ è®¾ç½®å®ƒçš„æ–¹å¼ï¼Œä½ å¯ä»¥éšæ„æ”¹å˜è¿™ä¸ªå‡è®¾ã€‚

ç„¶åŽï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ç­–ç•¥çš„å…¶ä½™è¾“å…¥ï¼Œå¹¶è®¡ç®—å„ç§å‚æ•°ã€‚

```
from scipy.stats import norm
L, R, alpha = 4, 1, 0.95 
z = norm.ppf(alpha) 
x_std = np.sqrt(L+R)*d_std
```

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å°† *x_std* è®¡ç®—ä¸ºè¶…è¿‡*é£Žé™©èŒƒå›´çš„éœ€æ±‚åå·®ï¼Œ*é£Žé™©èŒƒå›´æ˜¯æˆ‘åœ¨ä¹¦ä¸­è™šæž„çš„ã€‚

> *æŽ¥æ”¶è®¢å•éœ€è¦ç­‰å¾…çš„æœ€é•¿æ—¶é—´ã€‚åœ¨æ­¤æœŸé—´ï¼Œæ‚¨çš„åº“å­˜æœ‰è¢«è€—å°½çš„é£Žé™©ã€‚*

*[](https://nicolas-vandeput.medium.com/inventory-optimization-5-ways-to-set-service-level-and-safety-stock-targets-cc3a9a5f44b) [## åº“å­˜ä¼˜åŒ–:è®¾å®šæœåŠ¡æ°´å¹³å’Œå®‰å…¨åº“å­˜ç›®æ ‡çš„ 5 ç§æ–¹æ³•

### åœ¨ä¾›åº”é“¾ä¸­è®¾ç½®å®‰å…¨åº“å­˜ç›®æ ‡çš„æœ€ä½³å®žè·µæ˜¯ä»€ä¹ˆï¼Ÿ

nicolas-vandeput.medium.com](https://nicolas-vandeput.medium.com/inventory-optimization-5-ways-to-set-service-level-and-safety-stock-targets-cc3a9a5f44b) 

æ‚¨å¯ä»¥åœ¨ä¸‹å›¾ä¸­çœ‹åˆ°æˆ‘ä»¬çš„ç­–ç•¥(å’Œæ¨¡æ‹Ÿ)åœ¨ç¬¬ä¸€ä¸ªæ—¶é—´æ­¥ä¸­çš„è¡¨çŽ°ã€‚åœ¨æ—¶é—´æ­¥é•¿ 0 ç»“æŸæ—¶åšå‡ºçš„è®¢å•å°†åœ¨æ—¶é—´æ­¥é•¿ 5 æœŸé—´å¯ç”¨ã€‚

![](img/25913fadaca9594419a7b5c86a8aea1e.png)

æ¨¡æ‹Ÿå’Œåº“å­˜ç­–ç•¥çš„å·¥ä½œåŽŸç†ã€‚æ¥æº:[åº“å­˜ä¼˜åŒ–:æ¨¡åž‹å’Œæ¨¡æ‹Ÿ](https://www.amazon.com/gp/product/3110673916)

## åº“å­˜æ°´å¹³

è®©æˆ‘ä»¬ä½¿ç”¨å¸¸ç”¨çš„å®‰å…¨åº“å­˜å…¬å¼æ¥è®¾ç½®ä¸åŒçš„åº“å­˜æ°´å¹³ã€‚

*   ðŸ“¦**å‘¨æœŸè‚¡ *Cs* ã€‚**åœ¨ä¸€ä¸ªè¡¥è´§å‘¨æœŸå†…æ»¡è¶³é¢„æœŸéœ€æ±‚(æˆ–é¢„æµ‹)æ‰€éœ€çš„åº“å­˜ã€‚
*   ðŸ›¡ï¸ **å®‰å…¨åº“å­˜*ä¸é”ˆé’¢*ã€‚**ä¿æŠ¤ä¾›åº”é“¾å…å—éœ€æ±‚å˜åŒ–(æˆ–é¢„æµ‹é”™è¯¯)å’Œä¾›åº”ç¼ºä¹å¯é æ€§å½±å“çš„åº“å­˜ã€‚
*   ðŸšš**åœ¨é€”åº“å­˜*ä¸º*ã€‚**ä¸åŒåœ°ç‚¹ä¹‹é—´çš„åœ¨é€”åº“å­˜ã€‚é€šå¸¸ï¼Œè¿™äº›æ˜¯ä»Žä¾›åº”å•†å¤„è®¢è´­çš„è´§ç‰©ï¼Œä½†è¿˜æ²¡æœ‰åœ¨æˆ‘ä»¬çš„ä»“åº“ä¸­æä¾›ç»™æˆ‘ä»¬çš„å®¢æˆ·è´­ä¹°ã€‚

```
Ss = np.round(x_std*z).astype(int) 
Cs = 1/2 * d_mu * R 
Is = d_mu * L 
S = Ss + 2*Cs + Is
```

[](https://nicolas-vandeput.medium.com/the-4-biggest-mistakes-when-using-the-safety-stock-formula-1f3cc93bcb1) [## ä½¿ç”¨å®‰å…¨åº“å­˜å…¬å¼æ—¶çš„ 4 ä¸ªæœ€å¤§é”™è¯¯

### é€šå¸¸çš„å®‰å…¨åº“å­˜å…¬å¼ Ss = z sigma sqrt(L)åŸºäºŽå¤šç§å‡è®¾å’Œæ·å¾„ï¼Œè€Œè¿™äº›å‡è®¾å’Œæ·å¾„å¾€å¾€ä¸å—é‡è§†â€¦

nicolas-vandeput.medium.com](https://nicolas-vandeput.medium.com/the-4-biggest-mistakes-when-using-the-safety-stock-formula-1f3cc93bcb1) 

ç”±äºŽæˆ‘ä»¬çš„ä¼ å…¥è®¢å•å¯ä»¥åœ¨è¿è¾“é€”ä¸­åœç•™å¤šä¸ªå‘¨æœŸ(åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæœ‰ 4 ä¸ªå‘¨æœŸ)ï¼Œæˆ‘ä»¬å°†æŠŠ *transit* å®šä¹‰ä¸ºä¸€ä¸ªäºŒç»´æ•°ç»„ã€‚

```
hand = np.zeros(time, dtype=int) 
transit = np.zeros((time,L+1), dtype=int)
```

æ­£å¦‚æ‚¨åœ¨ä¸‹è¡¨ä¸­çœ‹åˆ°çš„ï¼Œæ–°è®¢å•å°†ä»Žç¬¬äºŒç»´ç»“æŸæ—¶å¼€å§‹( *transit[timeï¼Œ-1]* )ï¼Œç„¶åŽé€šè¿‡ç¬¬äºŒç»´ä¹…è€Œä¹…ä¹‹(æ¯å‘¨æœŸä¸€å±‚)ï¼Œç›´åˆ°åˆ°è¾¾æœ€åŽä¸€ä¸ªæ§½( *transit[timeï¼Œ0]* )ã€‚æœ€åŽä¸€ä¸ªæ—¶æ®µæ„å‘³ç€æ­¤åœ¨é€”åº“å­˜å°†åœ¨æœ¬æœŸæœŸæœ«æ”¶åˆ°(æ¢å¥è¯è¯´ï¼Œä»Žä¸‹ä¸€æœŸå¼€å§‹å¯ç”¨)ã€‚

![](img/3bc8bf85ed292778c9b1dfa9600c066e.png)

æ¥æº:[åº“å­˜ä¼˜åŒ–:æ¨¡åž‹å’Œæ¨¡æ‹Ÿ](https://www.amazon.com/gp/product/3110673916)

## æœåŠ¡æ°´å¹³

æˆ‘ä»¬è¿˜å¿…é¡»åˆ›å»ºä¸¤ä¸ªå¯¹è±¡æ¥è·Ÿè¸ªç­–ç•¥çš„æœåŠ¡çº§åˆ«:

*   *stock-out_period* å°†åŒ…å«ä¸€ä¸ª Boolean å€¼ï¼Œç”¨äºŽæ ‡è®°æŸä¸€æœŸé—´æ˜¯å¦ç¼ºè´§ã€‚
*   *stock-out_cycle* å°†ä¸ºæ¯ä¸ªè®¢å•å‘¨æœŸ(å³å®¡æ ¸å‘¨æœŸ)åŒ…å«ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨äºŽæ ‡è®°æˆ‘ä»¬åœ¨ä¸Šä¸€ä¸ªå‘¨æœŸçš„ä»»ä½•æ—¶å€™æ˜¯å¦ç¼ºè´§ã€‚

```
stockâˆ’out_period = np.full(time, False, dtype=bool)
stockâˆ’out_cycle = []
```

## æ¨¡æ‹Ÿåˆå§‹åŒ–

æˆ‘ä»¬çŽ°åœ¨å¿…é¡»ä¸ºç¬¬ä¸€ä¸ªæ—¶é—´æ­¥é•¿åˆå§‹åŒ–è¿™äº›æ•°ç»„ã€‚åˆå§‹çŽ°æœ‰åº“å­˜å’Œå‡€åº“å­˜æ˜¯ S å‡åŽ»ç¬¬ä¸€ä¸ªæœŸé—´çš„éœ€æ±‚ã€‚ç¬¬äºŒä¸ªæœŸé—´çš„åœ¨é€”åº“å­˜åˆå§‹åŒ–ä¸ºç¬¬ä¸€ä¸ªæœŸé—´çš„éœ€æ±‚ã€‚

```
hand[0] = S âˆ’ d[0]
transit[1,âˆ’1] = d[0]
```

# å¦‚ä½•æ¨¡æ‹Ÿåº“å­˜ç­–ç•¥

æˆ‘ä»¬çŽ°åœ¨å¯ä»¥å¼€å§‹æ¨¡æ‹Ÿäº†ã€‚ä»¥ä¸‹æ˜¯åœ¨æ¯ä¸ªæ—¶é—´æ­¥ *t* æ‰§è¡Œçš„ä¸»è¦æ­¥éª¤:

1.  æ£€æŸ¥æˆ‘ä»¬åœ¨æœŸåˆæ˜¯å¦æ”¶åˆ°è®¢å•( *transit[ t-1ï¼Œ0] > 0* )ã€‚å¦‚æžœæ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æ£€æŸ¥ä¸Šä¸€æœŸé—´æ˜¯å¦æœ‰ç¼ºè´§æ¥è®¡ç®—å‘¨æœŸæœåŠ¡æ°´å¹³ã€‚
2.  é€šè¿‡å‡åŽ»éœ€æ±‚ *d[t]* å¹¶åŠ ä¸ŠæŽ¥æ”¶åº“å­˜*è¿è¾“[t-1ï¼Œ0]* æ¥æ›´æ–°çŽ°æœ‰åº“å­˜
3.  åœ¨ *stockout_period[t]* ä¸­æŒ‡å‡ºæˆ‘ä»¬æ˜¯å¦ç¼ºè´§ã€‚
4.  æ›´æ–°å‡€åº“å­˜å¤´å¯¸ *net[t]* ã€‚
    è®°ä½æ˜¯æ€»åœ¨é€”åº“å­˜ *transit[t]ã€‚sum()* åŠ ä¸ŠçŽ°æœ‰åº“å­˜*æ‰‹ã€tã€‘*
5.  é€šè¿‡å°†å…ˆå‰æ—¶é—´æ­¥é•¿çš„å€¼åç§» 1 æ¥æ›´æ–°åœ¨é€”æ•°ç»„: *transit[tï¼Œ:-1] = transit[t-1ï¼Œ1:]* ã€‚è¿™ä»£è¡¨äº†è®¢å•åœ¨ä¾›åº”é“¾ä¸­ç§»åŠ¨çš„äº‹å®žã€‚
6.  å¦‚æžœæˆ‘ä»¬å¤„äºŽè¯„å®¡æœŸ( *t%R==0* )ï¼Œæˆ‘ä»¬æ ¹æ®å½“å‰å‡€åº“å­˜å¤´å¯¸*netã€tã€‘*å’Œåˆæ ¼æ°´å¹³ *S* è¿›è¡Œè®¢è´­ã€‚ç„¶åŽï¼Œè®¢å•è¢«å­˜å‚¨åœ¨åœ¨é€”æ•°ç»„ *transit[tï¼ŒL]* çš„æœ«ç«¯ã€‚

```
for t in range(1,time): 
  if transit[tâˆ’1,0]>0: 
    stockout_cycle.append(stockout_period[tâˆ’1]) 
  hand[t] = hand[tâˆ’1] âˆ’ d[t] + transit[tâˆ’1,0] 
  stockout_period[t] = hand[t] < 0
  transit[t,:âˆ’1] = transit[tâˆ’1,1:]
  if 0==t%R: 
    net = hand[t] + transit[t].sum() 
    transit[t,L] = S âˆ’ net
```

![](img/c41de08f0cf4d975881aee57c407363c.png)

ä½ å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½æˆ‘çš„ä¹¦çš„æ‘˜å½•(å…± 100 é¡µ):[https://supchains.com/books/](https://supchains.com/books/)

# æŠ¥å‘Š

æœ€åŽï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°æ®æ¡†æž¶ df æ¥ä¿å­˜æˆ‘ä»¬çš„æ¨¡æ‹Ÿç»“æžœï¼Œå¹¶å°†å®ƒä»¬ç»˜åˆ¶åœ¨ç±»ä¼¼ä¸‹å›¾çš„å›¾è¡¨ä¸Šã€‚

```
df = pd.DataFrame(data= {'Demand':d, 'Onâˆ’hand':hand, 'Inâˆ’transit':list(transit)}) 
df = df.iloc[R+L:,:] #Remove initialization periods 
print(df)
df['Onâˆ’hand'].plot(title='Inventory Policy (%d,%d)' %(R,S), ylim=(0,S), legend=True)
```

![](img/93864e8a54a9af254cb03a17cf8cf53d.png)

æˆ‘ä»¬è¿˜å¯ä»¥æ‰“å°å‘¨æœŸå’ŒæœŸé—´æœåŠ¡æ°´å¹³ã€‚

```
print('Alpha:',alphaâˆ—100)
SL_alpha = 1âˆ’sum(stockout_cycle)/len(stockout_cycle)
print('Cycle Service Level:', round(SL_alphaâˆ—100,1))
SL_period = 1âˆ’sum(stockout_period)/time
print('Period Service Level:', round(SL_periodâˆ—100,1))
```

# ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ

æ¨¡æ‹Ÿå¯¹äºŽä¼˜åŒ–ä¸ç¬¦åˆé€šå¸¸å‡è®¾(å¸¸æ€ã€å›ºå®šäº¤ä»˜å‘¨æœŸã€æ— é”€å”®æŸå¤±ç­‰)çš„ç­–ç•¥æ˜¯æœ‰è¯´æœåŠ›çš„ã€‚).ä¸Šé¢çš„ä»£ç åªæ˜¯æ¨¡æ‹Ÿé©±åŠ¨åº“å­˜ä¼˜åŒ–çš„ç¬¬ä¸€æ­¥ã€‚

å¦‚æžœä½ æƒ³çŽ©è¿™ä¸ªæ–°å·¥å…·ï¼Œ

*   æŸ¥çœ‹ä¸åŒçš„å®‰å…¨åº“å­˜æ°´å¹³å’Œæå‰æœŸå¯ä»¥å¸¦æ¥å¤šå¤§çš„åº“å­˜å˜åŒ–å’ŒæœåŠ¡æ°´å¹³ã€‚
*   å°è¯•ä¸åŒçš„éœ€æ±‚æ¦‚çŽ‡å‡½æ•°(å¦‚æ³Šæ¾æˆ–ä¼½çŽ›),çœ‹çœ‹å®ƒä»¬ä¸Žæ­£å¸¸å‡è®¾æœ‰ä½•ä¸åŒã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å‘è¡Œç‰ˆã€‚*