# 提高 Python 代码速度的 6 种方法

> 原文：<https://towardsdatascience.com/6-approaches-to-speed-up-your-python-code-37a6da14fca?source=collection_archive---------16----------------------->

## 快速编码的简单步骤

![](img/aa24d1c1e7dc0245357f5582926f7c7c.png)

照片由 [Guillaume Jaillet](https://unsplash.com/@i_am_g?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

在过去的几年里，Python 已经证明了自己是一种简单易学、多才多艺、功能强大的编程语言。如果你是编程世界的新手，或者你对科学编程、数据科学或普通计算机科学感兴趣，它成为学习的首选之一。

由于这种受欢迎程度的提高，开发人员和公司在日常工作中使用 Python 来构建应用程序、进行研究和开发供他人使用的包。现在，有超过 200，000 个 Python 包，涵盖了从简单的字符串操作到完整的机器学习和人工智能包的广泛应用。

</how-to-learn-programming-the-right-way-d7f87bdc7d6a>  

Python 是一个完整的框架，适合任何想进入编程领域，尤其是任何数据科学分支的人。Python 提供了许多优势来帮助人们建立他们的投资组合和职业生涯。毕竟，一旦你掌握了一门编程语言，学习另一门就不是那么复杂的任务了。

虽然 Python 的优点大于缺点，但当有人反对 Python 时，一个缺点似乎是许多讨论的中心，“ *Python 太慢了。*“如今，速度对我们所有人都至关重要；科技让我们变得不耐烦；如果一个应用程序需要多一秒钟才能打开，或者一个网页需要几秒钟才能加载，我们会感到沮丧，因为它太慢了。

事实是，与其他编程语言相比，Python 相对较慢。Python 速度慢有各种原因，但最主要的原因是它作为一种解释型语言的特性。这是我们无法改变的。那么如何才能加快 Python 的速度呢？

在编写代码时，我们可以采取一些简单的步骤来提高执行速度。也许没有 C、C++或 Java 那么快，但足够让 Python 代码做得更好。

</7-tips-for-data-science-newbies-d95d979add54>  

# 方法 1:保持最新

Python 开发人员正在努力保持 Python 的相关性、功能性，并在未来的版本中以更有效的方式实现其核心功能。通过使用最新的 Python 版本来保持您的代码是最新的，这将确保您使用在该版本中实现的新的优化技术。

因此，只要这个版本与您所有的依赖项兼容，使用最新的版本来规划您的下一步总是一个好主意。

保持最新也适用于您正在使用的软件包和库。库提供者总是致力于修复错误、添加新特性和优化现有特性。

# 方法 2:有效地使用数据结构

数据结构是计算机科学的基本构件。Python 中实现了很多不同的数据结构，比如列表、元组、字典、集合等等。但是，通常，人们倾向于继续使用列表来完成他们所有的可迭代任务。

知道正确的数据结构用于您的应用程序可以使它更快。例如，在搜索应用中使用字典和集合比列表更有效，因为它们是基于哈希表构建的，并且总是需要`O(1)`时间来查找任何项目。

确保使用正确的数据结构是一项技能，它要求您更多地了解不同类型的数据结构以及每种数据结构的最佳应用。

</complexity-theory-101-introduction-to-big-o-bab99152ad44>  

# 方法 3:仅在绝对需要时循环

循环是任何编程语言的重要组成部分；没有没有循环的代码。但是，循环通常在执行中占用最多的时间。有时，我们在使用循环时会使它过期，这最终会使我们的代码明显变慢。

因此，我们需要减少代码中的循环次数。这可以通过使用不同的变量对列表进行排序来实现，而不是遍历列表或使用像交集和联合这样的重构技术来优化我们的代码。

更有效地使用循环的另一种方法是尽可能使用列表理解；例如，创建和填充列表通过理解比使用 append 方法更好。最后，`while`循环比`for`循环更加静态和高效，如果可能的话，用 while 循环替换 for 循环。

# 方法 4:不要建造已经存在的东西

Python 提供了如此多的内置函数，那些没有提供的函数通常是使用 Python 开发人员或任何其他公司开发的包来提供的。所以，使用提供的东西，而不是重建它。

我看到许多人喜欢自己实现函数，如果你正在学习语言或者只是为了扩展你的编程知识，这没什么不好。但是，如果您正在使用 Python 构建一个大型应用程序，那么实现现有的大部分功能可能会浪费时间，并导致您的代码变得更大、更慢。

像`sum`、`max`、`any`、`filter`、`map`这样的内置函数都是用 C 实现的，速度快，效率高。此外，Python 集合模块提供了各种各样的数据结构，您可以立即使用这些数据结构来优化您的代码。在你开始建造它之前，一定要先看看那里有什么。

# 方法 5:使用节省内存的技术

占用大量执行时间的事情之一是内存交互。因此，使用一些节省内存的技术可以显著提高代码的速度。您可以使用不同的方法来节省内存时间，包括:

*   使用发生器生成范围值，因为它们需要较少的内存使用。
*   使用`sort()`而不是`sorted()`，因为 sorted 创建了 iterable 的新副本。在大型数据集的情况下，使用排序更有效。
*   使用插槽。 `__slots__`是声明变量的一种特殊方式，它采用变量的实例，并且只保留足够的空间来存放变量的值。
*   使用 math 和 Numpy 处理和执行大数和矩阵运算。这些库的构建是为了提高内存效率。
*   使用`format`或`join`方法连接字符串，而不是使用`+`操作符。

</a-guide-to-everything-string-formatting-in-python-e724f101eac5>  

# 方法 6:使用加速应用程序

可以使用各种应用程序来加速 Python 代码。然而，这些应用程序要求您重写部分代码以提高效率。

例如，您可以使用`Cython`用 C 语言编写部分代码，或者使用 C 函数。Cython 生成的代码被编译成机器语言，执行起来更快。另一种选择是使用`Numba`，它是一个即时编译器。Numba 基本上是把 Python 代码变成更快的机器码，实现更快的执行。

`PyPy`也是一个加速代码的选项。它为 Cython 提供了一个很好的替代品。PyPy 唯一的缺点是它不能与所有 Python 包兼容，所以在决定使用 PyPy 之前，要确保所有的依赖项都得到支持。

# 外卖食品

Python 是最流行的编程语言之一；对于初学者和专业人士来说，它更容易学习，易于阅读和理解，并且几乎可以用在你能想到的所有应用程序中。2019 年， [SlashData](https://www.slashdata.co/) 估计使用 Python 作为主要编程语言的开发者数量达到 820 万，数字每天都在上升。

Python 的许多优势使它这些年来一直保持活力，并鼓励许多开发人员和公司构建和开发许多包，任何人都可以使用这些包来构建和部署来自广泛领域的应用程序。

</5-data-science-programming-languages-not-including-python-or-r-3ad111134771>  

尽管 Python 很成功，但它总是有一个缺点，那就是速度慢。由于 Python 是一种基于解释器的语言，它默认比编译语言慢，因为它逐行执行和运行代码。

我们不能改变 Python 的本质，但是我们可以在相对更快更有效地编写代码时实现简单的步骤。在本文中，我们介绍了 6 种可以提高 Python 代码速度的方法。这并不是说这些是加速代码的唯一方法，但它们是开始优化代码库的好方法。