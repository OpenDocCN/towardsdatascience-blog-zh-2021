# 谈论丢失的数据

> 原文：<https://towardsdatascience.com/talking-about-missing-data-a74b47f9aeed?source=collection_archive---------40----------------------->

## 技术面试需要的词汇

![](img/a37839dab443d7099169ae1719f12a76.png)

缺失数据。图片作者。

如果您曾经处理过真实数据，那么您可能已经处理过丢失数据的情况。(我想知道在任何给定的自然数据中，缺失数据的概率是多少。我想这是你能得到的最确定的了。)

> 我们应该怀疑任何看起来完美的数据集(无论大小)。
> 
> 戴维·汉得

你是怎么处理的？按行删除？按列删除？归罪？你认为是什么？如果是连续的，你是否使用了平均值、基线或 KNN 导出值？如果是分类的，您是否创建了一个新的分类值或将其分配给一个预先存在的值？

但最重要的是，为什么？你为什么选择你做的方法？

我认为，在了解丢失数据的早期，重点通常是什么工具可用于处理它——参见上面的整个问题列表——每个问题的理由通常取决于直觉。我，至少，没有一个严格的框架来定义丢失的数据，我怀疑我不是唯一一个在那条船上的人；但是 ***两次*** 现在这个话题已经出现在技术面试的场景中。“您如何处理丢失的数据？”这两次，问题最重要的部分是将数据分为三类:完全随机缺失( **MCAR** )、随机缺失(**三月**)和非随机缺失( **MNAR** )。这些定义要归功于唐纳德·鲁宾(Donald b . Rubin)1976 年的论文《推断和缺失数据》。(如果想直接跳到白皮书，可以在这里阅读[。)](http://math.wsu.edu/faculty/xchen/stat115/lectureNotes3/Rubin%20Inference%20and%20Missing%20Data.pdf)

如果你过去曾深思熟虑地处理过丢失的数据，你可能已经对每一个都有了直觉，但我可以保证将直觉与统计术语联系起来的重要性。如果你想走自己的路，就要说到做到。

giphy.com[上克里斯汀·韦格的 Gif 图](https://giphy.com/gifs/zoolander-zoolander-2-no-movie-l3nWfrgmCz2dXnQwo)

# 完全随机失踪(MCAR)

> 如果丢失的概率在所有情况下都是一样的，那么就说数据是完全随机丢失的(MCAR)。这实际上意味着丢失数据的原因与数据无关。因此，除了明显的信息丢失之外，我们可能会忽略许多因为数据丢失而产生的复杂性……虽然方便，但对于手头的数据来说，MCAR 通常是不现实的。
> 
> ––Stef van buu ren， [*缺失数据的灵活插补*](https://stefvanbuuren.name/fimd/sec-MCAR.html)

MCAR 数据正是它听起来的样子:真正随机丢失的数据。没有模式，它的丢失并不表明任何关于丢失的数据。想象一下，打印出你完美的数据库/电子表格/数据框架，贴在远处的墙上，用 BB 枪射击它。蒙住眼睛。现在你必须对这些空洞的数据进行数据分析。你的数据是 MCAR。对于缺失数据，这在很多方面是理想的，但不现实的情况。

对于处理这种 MCAR 数据，行删除是公平的，因为它产生了均值、方差和回归权重的无偏估计；均值插补也是公平的游戏，在温和的指导下，缺失的值可能应该很少；回归和随机回归插补是公平的游戏[ [1](https://stefvanbuuren.name/fimd/sec-simplesolutions.html) ]。

# **随机失踪(3 月)**

> 如果丢失的概率仅在由*观察到的*数据定义的组内是相同的，那么数据是随机丢失的(MAR)… MAR 比 MCAR 更普遍，更现实。现代缺失数据方法一般从 MAR 假设出发。
> 
> — Stef van Buuren， [*缺失数据的灵活插补*](https://stefvanbuuren.name/fimd/sec-MCAR.html)

从名字上看，MCAR 和马尔之间的区别有点模糊——随机和完全随机之间有区别吗？不是最高级的吗？––但是根据这些定义，实际上有两种类型的随机缺失数据。回到之前的类比，我们把整张桌子贴在墙上，对吗？对于 MAR 来说，这更像是我们少年行刑队只在墙上贴了一列数据。数据会丢失，而且是随机丢失，*但只针对一个特征。*

在某种程度上，这是一种过度简化。多个列中的数据可能会丢失，但是如果您查看单个列，丢失的数据是随机丢失的。也许 A 列中丢失的数据比 b 列中的多。在这种情况下，A 列中丢失的数据更有可能，但在 A 列中，数据仍然随机丢失。

使得这个有趣的陈述成为可能。仔细想想，因为这听起来很矛盾。如果出现了一条缺失的数据，而您不知道它来自表中的哪个位置，那么它更有可能属于列 A；然而，在 A 列中，所有数据都是随机丢失的。这样就区分了完全遗漏*和随机遗漏*的区别。对于 MCAR 来说，你真的不能对丢失的数据说什么，不能说它来自哪一列，不能说它可能有什么值。对于 MAR，也许您可以说丢失的数据更可能来自某一列，但是您仍然不能说它保存了什么值。

对于处理 MAR 数据，删除不是一种选择，因为它会严重影响均值、回归系数和相关性的估计；然而，回归插补和随机回归插补是公平的游戏[ [1](https://stefvanbuuren.name/fimd/sec-simplesolutions.html) ]。

# 非随机缺失(MNAR)

> 如果 MCAR 和马尔都不成立，那么我们称之为非随机缺失(MNAR)… MNAR 意味着缺失的概率因我们未知的原因而变化…处理 MNAR 的策略是找到更多关于缺失原因的数据，或执行假设分析，以了解结果在各种情况下的敏感度。
> 
> —斯特夫·范·布仁， [*缺失数据的灵活插补*](https://stefvanbuuren.name/fimd/sec-MCAR.html)

听起来确实如此。工资较低的人不太可能在调查中报告他们的工资，因此缺失的数据是有意义的，而不是随机的，缺失的数据使数据集的平均工资比实际工资偏高。

# 来源，引用，进一步阅读

布尤伦，斯特夫·范(2018)。*缺失数据的灵活插补*。博卡拉顿:CRC 出版社。[https://stefvanbuuren.name/fimd/](https://stefvanbuuren.name/fimd/)

鲁宾博士(1976 年 12 月)。推断和缺失数据。 *Biometrika，* *63* (3)，581–592。[http://math . wsu . edu/faculty/xchen/stat 115/lesten notes 3/Rubin % 20 inference % 20 和%20Missing%20Data.pdf](http://math.wsu.edu/faculty/xchen/stat115/lectureNotes3/Rubin%20Inference%20and%20Missing%20Data.pdf)

关于 KNN 插补的一个很酷的例子，请查看 [Kyaw Saw Htoot 关于泰坦尼克号数据集的示例文章](https://medium.com/@kyawsawhtoon/a-guide-to-knn-imputation-95e2dc496e)。