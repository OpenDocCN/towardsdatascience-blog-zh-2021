# å¤„ç†æ•°æ®é›†ä¸­ç¼ºå¤±å€¼çš„æ›´å¥½æ–¹æ³•:ä½¿ç”¨è¿­ä»£ä¼°ç®—å™¨(ç¬¬ä¸€éƒ¨åˆ†)

> åŸæ–‡ï¼š<https://towardsdatascience.com/a-better-way-to-handle-missing-values-in-your-dataset-using-iterativeimputer-9e6e84857d98?source=collection_archive---------8----------------------->

## [åŠ¨æ‰‹æ•™ç¨‹](https://towardsdatascience.com/tagged/hands-on-tutorials) / [æ•°æ®æ¸…ç†](https://towardsdatascience.com/tagged/data-cleaning)

## å¦‚ä½•ä½¿ç”¨å¤šå…ƒä¼°ç®—å™¨å¤„ç†ç¼ºå¤±æ•°æ®

![](img/4ebffc5c683ab2ad43aa181c5b38470c.png)

ç…§ç‰‡ç”± [R.D. Smith](https://unsplash.com/@rd421) åœ¨ [Unsplash](https://unsplash.com/photos/gqzeSQu056g) ä¸Šæ‹æ‘„

# ç›®å½•

1.  [**ç®€ä»‹**](#4b7a)
2.  [**æ¨ç†æœ‰é—æ¼**](#e606)
3.  [**å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ**](#fa9b)
    - [å•å˜é‡æ’è¡¥](#34be)
    - [å¤šå˜é‡æ’è¡¥](#8303)
4.  [**è¿­ä»£æ’è¡¥**](#f326)
    - [å¦‚ä½•æˆä¸ºâ€œå¤©é€‰ä¹‹äººâ€](#05b9)
    - [è¿­ä»£èƒŒåçš„è¿‡ç¨‹](#1baf)
5.  [**å…¥é—¨**](#77d6)- [å•ä¸€æ’è¡¥æ–¹æ³•çš„é—®é¢˜](#5d0d)
6.  [**å•ä¸€æ’è¡¥ä¸è¿­ä»£æ’è¡¥å¦‚ä½•å½±å“æ•°æ®é›†çš„åˆ†å¸ƒ**](#3be8)
7.  [**ç»“è®º**](#1211)
    - [å‚è€ƒæ–‡çŒ®](#a775)-
    -[ç»“æŸè¯­](#5ec9)

# ä»‹ç»

åœ¨åˆ¶å®šæœ‰åˆ©å¯å›¾çš„å•†ä¸šå†³ç­–ã€è§£å†³å¥åº·é—®é¢˜ã€æ›´å¥½åœ°äº†è§£äººç¾¤ç­‰æ–¹é¢ï¼Œç¼ºå¤±æ•°æ®æ˜¯ä¸€ä¸ªä¸»è¦é—®é¢˜ã€‚ä¸¢å¤±æ•°æ®ä¸ä»…å¯¹äººç±»æ¥è¯´æ˜¯ä¸ªé—®é¢˜ï¼Œå¯¹æˆ‘ä»¬æ¥æ”¶æ•°æ®é›†çš„æœºå™¨æ¥è¯´ä¹Ÿæ˜¯ä¸ªå¤§é—®é¢˜ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªå‡è®¾çš„æƒ…å†µ:æƒ³è±¡ä½ çš„è€æ¿é€’ç»™ä½ ä¸€æœ¬ä¹¦ï¼Œæ¯éš”å‡ é¡µå°±å°‘äº†å‡ é¡µã€‚ç°åœ¨æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å¿…é¡»é˜…è¯»è¿™æœ¬ä¹¦ï¼Œå¯¹æ¯ä¸€ç« è¿›è¡Œåˆ†æï¼Œå¹¶å¯¹æ•´æœ¬ä¹¦è¿›è¡Œæœ€ç»ˆåˆ†æï¼Œå¦åˆ™ä½ ä¼šè¢«è§£é›‡ã€‚ç°åœ¨ï¼Œè¿™å¯èƒ½å¯¹ä½ ä»¬ä¸­çš„ä¸€äº›äººæ¥è¯´å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºä½ ä»¬ä¸­çš„ä¸€äº›äººå¯èƒ½æœ‰è€æ¿å®é™…ä¸Šè®©ä½ åšç±»ä¼¼çš„äº‹æƒ…ï¼Œä½†æ˜¯ä½ ä¼šå¦‚ä½•å¤„ç†è¿™ç§æƒ…å†µå‘¢ï¼Ÿæ²¡æœ‰é—®ä»»ä½•é—®é¢˜ï¼Œä½ æ¥å—äº†ä»»åŠ¡å¹¶ç»§ç»­ã€‚æˆ‘çŸ¥é“ï¼Œç°åœ¨ä½ åœ¨æƒ³ï¼Œâ€œæˆ‘ä¼šåœ¨ç½‘ä¸Šæœç´¢è¿™æœ¬ä¹¦ï¼Œâ€ä½ åšåˆ°äº†ã€‚ä½ åˆ°å¤„å¯»æ‰¾ï¼Œå´å‘ç°è¿™æœ¬ä¹¦é™¤äº†åœ¨ä½ èº«æ—çš„ä¹¦æ¡Œä¸Šï¼Œå…¶ä»–åœ°æ–¹éƒ½ä¸å­˜åœ¨ã€‚

ä½ åªå‰©ä¸‹ä¸€ä¸ªé€‰æ‹©ï¼Œæ‰€ä»¥ï¼Œä½ å¼€å§‹é˜…è¯»ã€‚å½“ä½ åœ¨ä¹¦çš„ä¸­é—´çœ‹åˆ°ä¸€é¡µç ´æŸçš„æ—¶å€™ï¼Œä½ çœ‹åˆ°äº†ç¬¬ä¸€é¡µä¸¢å¤±çš„å†…å®¹ã€‚è¿™æœ¬ä¹¦ä»ç¬¬ 14 é¡µè·³åˆ°ç¬¬ 17 é¡µã€‚ä½ è€¸è€¸è‚©ï¼Œç»§ç»­çœ‹è¿™æœ¬ä¹¦ï¼ŒåŒæ—¶å¯¹ç¬¬ 15-16 é¡µå¯èƒ½å‘ç”Ÿçš„äº‹æƒ…åšå‡º*å‡è®¾*ã€‚ä½ ç»§ç»­è¯»è¿™æœ¬ä¹¦ï¼Œä½ ä¼šé‡åˆ°æ›´å¤šçš„ç¼ºé¡µï¼Œé™¤äº†ç°åœ¨ï¼Œè¿™æœ¬ä¹¦ä» 38 é¡µè·³åˆ° 45 é¡µã€‚å½“ä½ å¼€å§‹é˜…è¯»ç¬¬ 45 é¡µæ—¶ï¼Œä½ ç®€ç›´ä¸æ•¢ç›¸ä¿¡è‡ªå·±çš„çœ¼ç›ã€‚è¿™ä¸ªæ•…äº‹ä¸å†æœ‰æ„ä¹‰äº†â€¦

ä½ æœ€ç»ˆåˆ°è¾¾äº†è¿™æœ¬ä¹¦çš„ç»“å°¾ï¼Œä½ å‘ç°ç»“å°¾å¹¶ä¸æ˜¯*å®é™…ä¸Šæ˜¯*ç»“å°¾ã€‚æ²¡é”™ï¼Œæœ€åè¿˜å°‘äº†å‡ é¡µã€‚â€œè¯»å®Œâ€è¿™æœ¬ä¹¦åï¼Œä½ å›å¤´çœ‹çœ‹ä½ å¯¹æ¯ä¸€ç« æ‰€åšçš„åˆ†æï¼Œè¯•å›¾ä¸ºè¿™æœ¬ä¹¦åšå‡ºä½ è‡ªå·±çš„ç»“è®ºã€‚

ä½ çš„æ•°æ®é›†å°±åƒä½ ç»™ä½ çš„æœºå™¨å­¦ä¹ æ¨¡å‹è¯»çš„ä¸€ä¸ªæ•…äº‹ï¼Œæ¯ä¸€è¡Œå°±åƒä¸€ä¸ªç« èŠ‚ã€‚å¦‚æœæ•°æ®é›†æœ‰ç¼ºå¤±å€¼ï¼Œæ‚¨çš„æ¨¡å‹å°†æ— æ³•å®Œå…¨ç†è§£æ­£åœ¨å‘ç”Ÿçš„æƒ…å†µï¼Œå¹¶å¯èƒ½åšå‡ºé”™è¯¯çš„é¢„æµ‹ã€‚

# æœ‰é—æ¼çš„æ¨ç†

æœ‰å‡ ç§å¤„ç†ç¼ºå¤±æ•°æ®çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº:å¿½ç•¥ç¼ºå¤±æ•°æ®ï¼Œæ ¹æ®è¡Œ/åˆ—ä¸­*ç¼ºå¤±*çš„è´¨é‡ç§»é™¤è¡Œ/åˆ—**ï¼Œç”¨å•ä¸ªæ•°å­—(0ã€1ã€ä»»ä½•å…¶ä»–æ•°å­—ã€å¹³å‡å€¼ã€ä¸­å€¼)æ›¿æ¢ï¼Œåˆ†ç»„æ›¿æ¢ç­‰ã€‚**

æ›´å¥½åœ°ç†è§£æ•°æ®ç¼ºå¤±çš„åŸå› æœ‰åŠ©äºæ‚¨ç¡®å®šå¯ä»¥ä½¿ç”¨å“ªç§æ’è¡¥æ–¹æ³•ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæœ‰ä¸‰ç§ç±»å‹çš„ç¼ºå¤±æ•°æ® [](#a775) :

*   **å®Œå…¨éšæœºç¼ºå¤±(MCAR):** æ•°æ®é›†ä¸­çš„å€¼å®Œå…¨éšæœºç¼ºå¤±ã€‚è¿™æ˜¯å› ä¸ºæ²¡æœ‰æ˜ç¡®çš„ç†ç”±æ¥è§£é‡Šä¸ºä»€ä¹ˆæ•°æ®é›†ä¸­çš„æŸä¸ªå€¼ä¼šä¸¢å¤±ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¢«è°ƒæŸ¥è€…å¿˜è®°å›ç­”è‡ªæ„¿è°ƒæŸ¥ä¸­çš„é—®é¢˜ã€‚å¤„ç†è¿™ç§æƒ…å†µç›¸å¯¹ç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å‡å€¼/ä¸­å€¼æ›¿æ¢æ¥æ›¿æ¢ä¸¢å¤±çš„æ•°æ®â€”â€”ä¸¢å¤±çš„æ•°æ®æ˜¯å¯æ¢å¤çš„ã€‚
*   **éšæœºç¼ºå¤±(MAR):** æ•°æ®é›†ä¸­çš„å€¼éšæœºç¼ºå¤±ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šæ•°æ®å€¼ä¸¢å¤±çš„åŸå› ã€‚è¿™ç§æƒ…å†µçš„ä¸€ä¸ªä¾‹å­æ˜¯ï¼Œå¯¹äºç›¸åŒæ€§åˆ«çš„å¤šä¸ªè¢«è°ƒæŸ¥è€…ï¼Œè°ƒæŸ¥ä¸­çš„æŸä¸ªé—®é¢˜æ˜¯ç©ºç™½çš„ã€‚æˆ‘ä»¬å¯ä»¥å¤„ç†è¿™ç§æƒ…å†µçš„ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ä½¿ç”¨å…¶ä»–ç‰¹å¾è¿›è¡Œåˆ†ç»„å‡å€¼/ä¸­å€¼æ›¿æ¢çš„*â€”â€”ä¸¢å¤±çš„æ•°æ®ä»ç„¶æ˜¯å¯æ¢å¤çš„ã€‚*
*   **ééšæœºç¼ºå¤±(MNAR):** æ•°æ®é›†ä¸­çš„å€¼ä¸æ˜¯éšæœºç¼ºå¤±çš„ã€‚è¿™æ—¶æˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ç¼ºå¤±å€¼çš„æ¨¡å¼ã€‚ä¸€ä¸ªä¾‹å­æ˜¯ï¼Œå¦‚æœè°ƒæŸ¥ä¸­çš„æŸä¸ªé—®é¢˜ç±»åˆ«ç”±äºé—®é¢˜æœ¬èº«è€Œè¢«è°ƒæŸ¥è€…ç•™ç©ºï¼Œå› ä¸ºå®ƒå¯èƒ½æ˜¯è¢«è°ƒæŸ¥è€…çš„æ•æ„Ÿé—®é¢˜(ç¼ºå¤±å–å†³äºç¼ºå¤±çš„æ•°æ®)â€”â€”ç¼ºå¤±çš„æ•°æ®å°†å¾ˆéš¾æ¢å¤ï¼Œé™¤éè¿›è¡Œè¿›ä¸€æ­¥çš„ç ”ç©¶ã€‚ä¸å…¶ä»–ä¸¤ç±»ç¼ºå¤±æ•°æ®ä¸åŒï¼ŒMNAR æ˜¯ [*ä¸å¯å¿½ç•¥çš„*](https://stefvanbuuren.name/fimd/sec-nonignorable.html) ã€‚

# å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

åœ¨æˆ‘å¼€å§‹æœ‰è¶£çš„äº‹æƒ…ä¹‹å‰ï¼Œæˆ‘å¿…é¡»åšæ›´å¤šçš„è§£é‡Šï¼Œæ‰€ä»¥å–æ¯å’–å•¡æˆ–åšä¸€å‹ºè¿åŠ¨å‰é¥®æ–™(æˆ–ä¸¤æ¯ğŸ˜)æˆ–è€…ä»»ä½•ä½ æ„Ÿå…´è¶£çš„äº‹æƒ…ï¼Œå› ä¸ºæ˜¯æ—¶å€™é›†ä¸­æ³¨æ„åŠ›äº†ã€‚

ä»[Giphy.com](https://giphy.com/gifs/colbertlateshow-l3vRnDqWdyY2wFJ7y)è·å¾—çš„[å²è’‚èŠ¬Â·ç§‘æ‹œå°”æ™šé—´ç§€](https://www.cbs.com/shows/the-late-show-with-stephen-colbert/)çš„ GIFï¼Œç”± [DJ å“ˆç«‹å¾·](https://en.wikipedia.org/wiki/DJ_Khaled)å¼ºæœ‰åŠ›åœ°è¯´æœä½ ä¿æŒä¸“æ³¨ã€‚

è®©æˆ‘ä»¬ä»åŸºç¡€å¼€å§‹ã€‚

ç¼ºå¤±çš„æ•°æ®ä¼šå¯¼è‡´ç ”ç©¶æˆ–å®éªŒå‡ºç°åå·®ï¼Œä¼šä½¿æ•°æ®åˆ†ææ›´åŠ å¯æ€•ï¼Œä¼šé™ä½å‡è®¾æ£€éªŒå’Œç»“æœçš„è´¨é‡ã€‚åšæ›´å¤šçš„ç ”ç©¶æ¥å‡å°‘ä½ çš„æ•°æ®åå·®æ€»æ¯”åªæ˜¯è¯´â€œéšä¾¿â€ç„¶åç»§ç»­ä½ çš„åˆ†æè¦å¥½ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™è¿èƒŒäº†ä½ æœ€åˆå¼€å§‹å®éªŒçš„ç›®çš„ã€‚æœ€ç»ˆï¼Œä¸ä»…ä½ çš„ç»“æœè´¨é‡ä¸å¥½ï¼Œä½ ç”šè‡³å¯èƒ½ä¼šè¯¯å¯¼ä»–äººã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä»Šå¤©çœ‹åˆ°å¾ˆå¤šâ€œç¥è¯â€çš„åŸå› ã€‚åˆ›å»ºä¸€ä¸ªâ€œç‚¹å‡»è¯±é¥µâ€æ ‡é¢˜æ˜¯ä¸€å›äº‹ï¼Œä½†åˆ›å»ºä¸€ä¸ªç‚¹å‡»è¯±é¥µæ ‡é¢˜å’Œæ•£å¸ƒç¥è¯æ˜¯å®Œå…¨ä¸åŒçš„æ°´å¹³ã€‚

ç°åœ¨è®©æˆ‘ä»¬è¯´ä½ ä¸èƒ½å†åšä»»ä½•ç ”ç©¶äº†ï¼Œå› ä¸ºè¿™è¶…å‡ºäº†ä½ çš„èƒ½åŠ›èŒƒå›´ã€‚å¯¹äºæ•°æ®é›†ä¸­ä¸¢å¤±çš„æ•°æ®ï¼Œæ‚¨èƒ½åšäº›ä»€ä¹ˆï¼Ÿæ‚¨å¯ä»¥åˆ é™¤ä¸€äº›å¯èƒ½å¯¼è‡´åè§çš„æ•°æ®ï¼Œä½†æ˜¯å¦‚æœæ‚¨æ²¡æœ‰å¤ªå¤šçš„æ•°æ®å¯ä»¥å¤„ç†ï¼Œå› æ­¤æ‚¨æ²¡æœ‰èƒ½åŠ›åˆ é™¤æ•°æ®ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°å…¶ä»–æ–¹æ³•å¹¶ç ”ç©¶è¾“å…¥å€¼æ¥æ›¿æ¢ä¸¢å¤±çš„æ•°æ®ã€‚

ä»€ä¹ˆæ˜¯*æ’è¡¥*ï¼Ÿæ ¹æ®[ç»´åŸºç™¾ç§‘](https://en.wikipedia.org/wiki/Imputation_(statistics)#:~:text=In%20statistics%2C%20imputation%20is%20the%20process%20of%20replacing%20missing%20data%20with%20substituted%20values.)çš„å®šä¹‰ï¼Œ

> åœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œæ’è¡¥æ˜¯ç”¨æ›¿ä»£å€¼æ›¿æ¢ç¼ºå¤±æ•°æ®çš„è¿‡ç¨‹ã€‚

å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡ ç§ä¸åŒçš„æ–¹æ³•æ›¿æ¢(ä¼°ç®—)ç¼ºå¤±å€¼ã€‚è¿™äº›æ–¹æ³•å½’ç»“ä¸ºä¸¤ç§ä¸åŒçš„æ’è¡¥ç®—æ³•:å•å˜é‡æ’è¡¥å’Œå¤šå˜é‡æ’è¡¥ [](#a775) ã€‚

## å•å˜é‡æ’è¡¥

å•ä¸€æ’è¡¥æ–¹æ³•è¢«ç§°ä¸ºå•å˜é‡æ’è¡¥ã€‚å¦‚ scikit-learn çš„[æ–‡æ¡£](https://scikit-learn.org/stable/modules/impute.html#:~:text=entry%20on%20imputation.-,6.4.1.%20Univariate%20vs.%20Multivariate%20Imputation,-%C2%B6)æ‰€è¿°:

> ä¸€ç§ç±»å‹çš„æ’è¡¥ç®—æ³•æ˜¯å•å˜é‡ç®—æ³•ï¼Œå…¶ä»…ä½¿ç”¨ç¬¬ I ä¸ªç‰¹å¾ç»´åº¦ä¸­çš„éç¼ºå¤±å€¼æ¥æ’è¡¥è¯¥ç‰¹å¾ç»´åº¦ä¸­çš„å€¼ã€‚

è¿™æ„å‘³ç€å•å˜é‡æ’è¡¥æ–¹æ³•ä»…ä½¿ç”¨æ‰€é€‰ç‰¹å¾(ç”±æ‚¨é€‰æ‹©)ä¸­çš„éç¼ºå¤±å€¼ï¼Œå¹¶ä½¿ç”¨æ‚¨æä¾›çš„å¸¸æ•°æˆ–æ‰€é€‰ç‰¹å¾çš„ç»Ÿè®¡æµ‹é‡å€¼(å¹³å‡å€¼/ä¸­å€¼/ä¼—æ•°)æ¥æ’è¡¥åŒä¸€ç‰¹å¾ä¸­çš„ç¼ºå¤±å€¼ã€‚

ä¾‹å¦‚ï¼Œåœ¨ Python ä¸­ï¼Œä¸€ä¸ªç®€å•çš„ä¸€è¡Œç¨‹åºå°±èƒ½è§£å†³é—®é¢˜:

```
>>> data['chosenFeature'].fillna(data['chosenFeature'].mean(), inplace = True)"""
Where `data` is your dataset and `chosenFeature` is the column that you choose to replace the missing NaN values for by using the current mean of the non-missing values in the column.
"""
```

è¿˜å¯ä»¥ä½¿ç”¨ scikit-learn çš„ SimpleImputer ç±»æ¥ä¼°ç®—ç¼ºå¤±å€¼ã€‚è¦äº†è§£æœ‰å…³è¯¥è¯¾ç¨‹çš„æ›´å¤šä¿¡æ¯ï¼Œ[è¯·ç‚¹å‡»æ­¤å¤„](https://scikit-learn.org/stable/modules/generated/sklearn.impute.SimpleImputer.html)ã€‚

## å¤šå…ƒæ’è¡¥

åœ¨æ•°æ®ä¸º MCARã€é©¬å°”å’Œ[çš„æƒ…å†µä¸‹ï¼Œå³ä½¿æ•°æ®ä¸º MNAR](https://en.wikipedia.org/wiki/Imputation_(statistics)#:~:text=Multiple%20imputation%20can%20be%20used%20in%20cases%20where%20the%20data%20are%20missing%20completely%20at%20random%2C%20missing%20at%20random%2C%20and%20even%20when%20the%20data%20are%20missing%20not%20at%20random.) ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤šé‡æ’è¡¥ã€‚å¤šé‡æ’è¡¥æ–¹æ³•è¢«ç§°ä¸ºå¤šå…ƒæ’è¡¥ã€‚

> å¤šå…ƒæ’è¡¥ç®—æ³•ä½¿ç”¨æ•´å¥—å¯ç”¨çš„ç‰¹å¾ç»´åº¦æ¥ä¼°è®¡ç¼ºå¤±å€¼ã€‚

åŸºæœ¬ä¸Šï¼Œå¤šå˜é‡æ’è¡¥çš„ç›®çš„æ˜¯ä½¿ç”¨æ•°æ®é›†ä¸­çš„å…¶ä»–ç‰¹å¾(åˆ—)æ¥é¢„æµ‹å½“å‰ç‰¹å¾ä¸­ç¼ºå¤±çš„å€¼ã€‚

æ‚¨å¯èƒ½ä¼šæƒ³â€œGifariï¼Œæ‚¨å‘Šè¯‰æˆ‘å¤šé‡æ’è¡¥ç®—æ³•ä½¿ç”¨å…¶ä»–åˆ—ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªç¼ºå¤±å€¼çš„ç‰¹å¾(åˆ—)ï¼Œç®—æ³•å¦‚ä½•çŸ¥é“é¦–å…ˆé€‰æ‹©å“ªä¸ªç‰¹å¾æ¥æ’è¡¥å€¼ï¼Ÿâ€åˆ«æ€¥ï¼Œæ¯”åˆ©(æ— æ„å†’çŠ¯æ‰€æœ‰åœ¨åœºçš„æ¯”åˆ©)ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç« è®¨è®ºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¼šè°ˆåˆ°ä½ å¦‚ä½•æˆä¸ºè¢«é€‰ä¸­çš„é‚£ä¸ªäººã€‚

æ­£å¦‚ä½ å¯èƒ½å·²ç»çŒœåˆ°çš„ï¼Œå•ä¸€æ’è¡¥æ–¹æ³•æ²¡æœ‰è€ƒè™‘*ä¸ç¡®å®šæ€§*ã€‚å•ä¸€çš„æ’è¡¥æ–¹æ³•ä¸å…³å¿ƒâ€œå¦‚æœæ€æ ·â€ï¼›å®ƒåªæœ‰ä¸€ä¸ªç›®æ ‡:æ¶ˆé™¤ç¼ºå¤±çš„ä»·å€¼è§‚ã€‚å½“æˆ‘ä»¬ä½¿ç”¨å¤šé‡æ’è¡¥æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬ä¸ä»…è¦å‰”é™¤ç¼ºå¤±å€¼ï¼Œè¿˜è¦è€ƒè™‘â€œå¦‚æœâ€ã€‚

è™½ç„¶å¤šé‡æ’è¡¥çš„æ–¹æ³•å¬èµ·æ¥å¾ˆéš¾å®ç°ï¼Œä½†è¿™æ˜¯ 21Ë¢áµ—ä¸–çºªï¼Œæˆ‘ä»¬çš„ç”Ÿæ´»æ˜¯æœ‰å²ä»¥æ¥æŠ€æœ¯æœ€å…ˆè¿›çš„æ—¶ä»£ã€‚å¦‚æœä½ æ˜¯ä» 22â¿áµˆè¯»åˆ°è¿™ç¯‡æ–‡ç« çš„ï¼Œå¸Œæœ› Medium é‚£æ—¶å·²ç»å¼€å§‹æ”¯æŒå­—æ¯ä¸Šæ ‡å’Œä¸‹æ ‡ï¼Œæ„Ÿè°¢ä½ èŠ±æ—¶é—´é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œä½†æ˜¯æˆ‘ä¸è®¤ä¸ºä½ åº”è¯¥åœ¨è¿™é‡Œã€‚æˆ‘å¾ˆç¡®å®šåœ¨ä½ é‚£ä¸ªä¸–çºªæœ‰æ›´å…ˆè¿›çš„ä¼°ç®—æ–¹æ³•ã€‚

æœ‰å‡ ä¸ªç»Ÿè®¡è½¯ä»¶åŒ…å¯ä»¥è®©ä½ è½»æ¾åœ°è¿›è¡Œå¤šé‡æ’è¡¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ç”¨ R è¯­è¨€ç¼–ç¨‹ï¼Œé‚£ä¹ˆä½ æœ‰[é¼ æ ‡](https://cran.r-project.org/web/packages/mice/mice.pdf)(é“¾å¼æ–¹ç¨‹å¤šå…ƒæ’è¡¥)æˆ– [missForest](https://cran.r-project.org/web/packages/missForest/missForest.pdf) è½¯ä»¶åŒ…å¯ä¾›ä½ ä½¿ç”¨ã€‚å¦‚æœä½ ç”¨ Python ç¼–ç¨‹ï¼Œä½ æœ‰ scikit-learn çš„[iterative imputr](https://scikit-learn.org/stable/modules/generated/sklearn.impute.IterativeImputer.html)åŒ…ï¼Œå®ƒæœ€åˆæ˜¯å— r ä¸­çš„ MICE åŒ…çš„å¯å‘ã€‚

# è¿­ä»£ä¼°ç®—å™¨

è¿­ä»£æ’è¡¥æ˜¯ä¸€ç§å¤šå˜é‡æ’è¡¥ç­–ç•¥ï¼Œå®ƒä»¥[å¾ªç¯æ–¹å¼](https://scikit-learn.org/stable/modules/impute.html#:~:text=It%20does%20so%20in%20an%20iterated%20round-robin%20fashion)å°†ç¼ºå¤±å€¼(ç›®æ ‡å˜é‡)çš„åˆ—ä½œä¸ºå…¶ä»–ç‰¹å¾(é¢„æµ‹å˜é‡)çš„å‡½æ•°è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶ä½¿ç”¨è¯¥ä¼°è®¡å€¼è¿›è¡Œæ’è¡¥ã€‚æºä»£ç å¯ä»¥é€šè¿‡[ç‚¹å‡»è¿™é‡Œ](https://github.com/scikit-learn/scikit-learn/blob/844b4be24/sklearn/impute/_iterative.py)åœ¨ GitHub ä¸Šæ‰¾åˆ°ã€‚

> [**æ³¨æ„**](https://scikit-learn.org/stable/modules/generated/sklearn.impute.IterativeImputer.html#:~:text=in%20version%200.21.-,Note,-This%20estimator%20is) **:** è¿™ä¸ªä¼°è®¡å™¨ç°åœ¨ä»ç„¶æ˜¯**å®éªŒæ€§çš„**:é¢„æµ‹å’Œ API å¯èƒ½ä¼šåœ¨æ²¡æœ‰ä»»ä½•æŠ˜æ—§å‘¨æœŸçš„æƒ…å†µä¸‹æ”¹å˜ã€‚è¦ä½¿ç”¨å®ƒï¼Œæ‚¨éœ€è¦æ˜¾å¼å¯¼å…¥`enable_iterative_imputer`:

```
**>>>** *# explicitly require this experimental feature*
**>>> from** **sklearn.experimental** **import** enable_iterative_imputer *# noqa*
**>>>** *# now you can import normally from sklearn.impute*
**>>> from** **sklearn.impute** **import** IterativeImputer
```

ä½ å¯ä»¥åœ¨[è¿­ä»£è¾“å…¥å™¨çš„æ–‡æ¡£](https://scikit-learn.org/stable/modules/generated/sklearn.impute.IterativeImputer.html#:~:text=impute%20import%20IterativeImputer-,Parameters,-estimatorestimator%20object%2C%20default)ä¸­çœ‹åˆ°è®¸å¤šå‚æ•°ã€‚å®ƒä¸éœ€è¦å‚æ•°è¾“å…¥ï¼Œå› ä¸ºé»˜è®¤å‚æ•°å·²ç»ä¸ºæ‚¨è®¾ç½®å¥½äº†ï¼Œè¿™æ„å‘³ç€ï¼Œåœ¨æ‚¨å®Œæˆå¯¼å…¥å¿…è¦çš„åŒ…ä¹‹åï¼Œæ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ç®€å•åœ°å¼•å…¥ä¸€ä¸ªè¿­ä»£ä¼°ç®—å™¨:

```
imp = IterativeImputer()
```

## å¦‚ä½•æˆä¸ºâ€œå¤©é€‰ä¹‹äººâ€

â€œå½“å‰ç‰¹å¾â€æ˜¯æ ¹æ®ç»™å®šçš„`imputation_order`é€‰æ‹©çš„ï¼Œé»˜è®¤é¡ºåºæ˜¯â€œå‡åºâ€è¿™æ„å‘³ç€é¦–å…ˆé€‰æ‹©çš„ç‰¹å¾*å°†æ˜¯åŒ…å«æœ€å°‘ç¼ºå¤±å€¼çš„ç‰¹å¾ã€‚åœ¨è¾“å…¥æ‰€é€‰ç‰¹å¾ä¸­çš„æ‰€æœ‰ç¼ºå¤±å€¼åï¼Œè¯¥ç‰¹å¾ä¸å†åŒ…å«ç¼ºå¤±å€¼ï¼Œå› æ­¤å®ƒä¸å†æ˜¯å…·æœ‰æœ€å°‘*ç¼ºå¤±å€¼çš„ç‰¹å¾ï¼Œå› æ­¤ä¼°ç®—å™¨å°†ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…·æœ‰æœ€å°‘ç¼ºå¤±å€¼çš„ç‰¹å¾ã€‚**

å…¶ä»–è®¢å•åŒ…æ‹¬:

*   â€œé™åºâ€:ç¼ºå¤±å€¼æœ€å¤šåˆ°æœ€å°‘çš„ç‰¹å¾
*   â€œç½—é©¬â€:å·¦ç‰¹å¾åˆ°å³ç‰¹å¾
*   â€œé˜¿æ‹‰ä¼¯è¯­â€:å³ç‰¹å¾åˆ°å·¦ç‰¹å¾
*   â€œéšæœºâ€:æ¯è½®éšæœºä¸‹å•

## è¿­ä»£èƒŒåçš„è¿‡ç¨‹

æ—¢ç„¶ä½ çŸ¥é“äº†å¦‚ä½•æˆä¸ºâ€œè¢«é€‰ä¸­çš„äººâ€ï¼Œé‚£ä¹ˆè®©æˆ‘ä»¬æ¥ç†è§£è¿­ä»£èƒŒåçš„è¿‡ç¨‹ã€‚

è¿­ä»£ä¼°ç®—å™¨æœ€åˆç”¨ä¼ é€’ç»™`initial_strategy`çš„å€¼åˆå§‹åŒ–ç¼ºå¤±å€¼ï¼Œå…¶ä¸­åˆå§‹ç­–ç•¥æ˜¯æ¯ä¸ªç‰¹å¾çš„â€œå¹³å‡å€¼â€ã€‚ç„¶åï¼Œä¼°ç®—è€…åœ¨å¾ªç¯æ’è¡¥çš„æ¯ä¸€æ­¥ä½¿ç”¨ä¸€ä¸ªä¼°ç®—å™¨(å…¶ä¸­ä½¿ç”¨çš„é»˜è®¤ä¼°ç®—å™¨æ˜¯[è´å¶æ–¯å²­](https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.BayesianRidge.html))ã€‚åœ¨æ¯ä¸€æ­¥ï¼Œé€‰æ‹©ä¸€ä¸ªç‰¹å¾åˆ—ä½œä¸ºç›®æ ‡å˜é‡`y`ï¼Œå…¶ä»–ç‰¹å¾åˆ—ä½œä¸ºé¢„æµ‹å˜é‡`X`ã€‚ç„¶åä¸ºæ¯ä¸ªè¦ç´ é¢„æµ‹ç¼ºå¤±å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹æœ€å¤šé‡å¤â€œ`max_iter`æ¬¡ï¼Œé»˜è®¤ä¸º 10 æ¬¡(è½®)ã€‚æˆ‘è¯´â€œæœ€å¤šâ€è€Œä¸æ˜¯â€œæ­£å¥½â€çš„åŸå› æ˜¯å› ä¸º`sample_posterior=False`çš„é»˜è®¤å‚æ•°åŒ–å¯ç”¨äº†æå‰åœæ­¢ã€‚

> [åœæ­¢å‡†åˆ™](https://scikit-learn.org/stable/modules/generated/sklearn.impute.IterativeImputer.html#:~:text=for%20multiple%20imputations.-,max_iter,-int%2C%20default%3D10)æ»¡è¶³ä¸€æ¬¡`max(abs(X_t-X_{t-1}))/max(abs(X[known_vals])) < tol`ï¼Œå…¶ä¸­`X_t`ä¸ºè¿­ä»£`t`æ—¶çš„`X`ã€‚

è¿™å®è´¨ä¸Šæ„å‘³ç€å¯¹äºå•ä¸ªç¼ºå¤±å€¼ï¼Œæœ€å¤šæœ‰`max_iter`ä¸ªé¢„æµ‹ï¼Œå¹¶ä¸”ä¸€æ—¦æŸä¸ªå€¼çš„å‰ä¸€æ¬¡è¿­ä»£é¢„æµ‹å’Œå½“å‰è¿­ä»£é¢„æµ‹ä¹‹é—´çš„å·®å€¼å°äºç»™å®šçš„`tol`å€¼(é»˜è®¤å€¼= 1e-3)ï¼Œè¿­ä»£å°±ä¼šåœæ­¢ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨å…¶ä»–å‡ ä¸ªå‚æ•°ï¼Œæ‰€ä»¥ä¸€å®šè¦åœ¨æ‚¨è‡ªå·±çš„æ•°æ®é›†ä¸Šå°è¯•å®ƒä»¬ï¼ç°åœ¨è¿™äº›æ— èŠçš„ä¸œè¥¿å·²ç»å¤Ÿå¤šäº†ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€äº›è¡ŒåŠ¨ã€‚

# å…¥é—¨æŒ‡å—

ç°åœ¨æ‚¨å¯¹ IterativeImputer æœ‰äº†ä¸€äº›äº†è§£ï¼Œè®©æˆ‘å‘æ‚¨ä»‹ç»ä¸¤ä¸ªä¸åŒçš„æ•°æ®é›†ï¼Œæˆ‘å°†ç”¨å®ƒä»¬ä½œä¸ºä¾‹å­:

*   **çš®é©¬å°ç¬¬å®‰äººç³–å°¿ç—…æ•°æ®åº“**:ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘å°†ä½¿ç”¨ç³–å°¿ç—…æ•°æ®é›†ï¼Œç‚¹å‡»[æ­¤å¤„](https://www.kaggle.com/uciml/pima-indians-diabetes-database)å¯åœ¨ Kaggle ä¸Šæ‰¾åˆ°è¯¥æ•°æ®é›†ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ Kaggle ä¸ŠæŸ¥çœ‹æˆ‘çš„ç¬”è®°æœ¬ï¼Œå®ƒå¯ä»¥å’Œè¿™ä¸ªä¾‹å­ä¸€èµ·ä½¿ç”¨ã€‚æ‚¨å¯ä»¥é€šè¿‡[ç‚¹å‡»æ­¤å¤„](https://www.kaggle.com/gifarihoque/pidd-missing-data-ml-iterimputer-tut-86)æŸ¥çœ‹/ç¼–è¾‘ç¬”è®°æœ¬ã€‚

> ç¬”è®°æœ¬æ›´å…³æ³¨ä¸åŒçš„ä¼°ç®—æ–¹æ³•ï¼Œä»¥åŠæˆ‘æ‰€è¯´çš„ä¼°ç®—ç¼ºå¤±å€¼çš„â€œæ··åˆæ–¹æ³•â€ã€‚æœ€åï¼Œæ¯”è¾ƒäº†ä¸åŒæ’è¡¥æ–¹æ³•å¾—åˆ°çš„ä¸åŒæ•°æ®é›†ä¸Šå¤šæ¨¡å‹è®­ç»ƒçš„å‡†ç¡®ç‡ã€‚è¿™æ˜¯ä¸€ä¸ªå†—é•¿çš„ç¬”è®°æœ¬ï¼Œä½†æˆ‘å¯¹è¿™ä¸ªé¡¹ç›®éå¸¸æ„Ÿå…´è¶£ã€‚å®ƒæ˜¯ä½œä¸ºæœºå™¨å­¦ä¹ å’Œè¿­ä»£è¾“å…¥æ•™ç¨‹è€Œåˆ›å»ºçš„ã€‚

*   **è‚¡ç¥¨å¸‚åœºæ•°æ®**:å¯¹äºç¬¬äºŒä¸ªä¾‹å­ï¼Œæˆ‘å°†å¯¹è‚¡ç¥¨å¸‚åœºæ•°æ®ä½¿ç”¨è¿­ä»£ä¼°ç®—ã€‚ä¸å¹¸çš„æ˜¯ï¼Œç”±äºä¿¡æ¯é‡å¤ªå¤§ï¼Œè¿™ä¸ªä¾‹å­å¿…é¡»æœ‰è‡ªå·±çš„æ–‡ç« ã€‚æˆ‘è¿˜ä¸æƒ³ç ´åè¿™ä¸ªï¼Œå› ä¸ºæˆ‘å‘ç°è¿™ä¸ª*éå¸¸æœ‰è¶£ã€‚å†™å®Œè¿™ç¯‡æ–‡ç« åï¼Œæˆ‘è¿˜åœ¨ Kaggle ä¸Šä¸ºè¿™ä¸ªä¾‹å­åšäº†ä¸€ä¸ªç¬”è®°æœ¬ï¼Œå®ƒä½¿ç”¨å‡½æ•°æ¥ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘å°†åœ¨ç¬¬äºŒç¯‡æ–‡ç« ä¸­ä»‹ç»è¿™ä¸ªè¿‡ç¨‹ã€‚ä½ å¯ä»¥é€šè¿‡[ç‚¹å‡»è¿™é‡Œ](https://www.kaggle.com/gifarihoque/predict-missing-stock-prices-with-iterativeimputer)æ¥ç©ç¬”è®°æœ¬ã€‚*

[ç‚¹å‡»è¿™é‡Œ](https://gifari.medium.com/a-better-way-to-handle-missing-values-in-your-dataset-using-iterativeimputer-on-the-stock-market-dbbb5d4ef458)é˜…è¯»ç¬¬äºŒç¯‡æ–‡ç« ã€‚æˆ‘çœŸçš„å¾ˆå¸Œæœ›ä½ çœ‹å®Œè¿™ç¯‡æ–‡ç« åèƒ½çœ‹çœ‹ï¼

## å•ä¸€æ’è¡¥æ–¹æ³•çš„é—®é¢˜

å½“æˆ‘è¯´æˆ‘ä¸å†åšé‚£äº›æ— èŠçš„äº‹æƒ…æ—¶ï¼Œæˆ‘æ’’è°äº†ã€‚æˆ‘æœ‰æ—¶å€™æ§åˆ¶ä¸ä½ã€‚åœ¨å¼€å§‹æˆ‘çš„ç¬¬ä¸€ä¸ªä¾‹å­ä¹‹å‰ï¼Œå…ˆç©ä¸€ä¼šå„¿æ€ä¹ˆæ ·ï¼Ÿ

å½“æ‚¨å°†å•ä¸ªæ•°å­—å½’å…¥æŸä¸ªè¦ç´ ä¸­çš„ç¼ºå¤±å€¼æ—¶ï¼Œæ ¹æ®æ‚¨çš„æ•°æ®åœ¨ç‰¹å®šè¦ç´ ä¸­ç¼ºå¤±çš„æ•°é‡ï¼Œæ‚¨ä¼šå¢åŠ å¯¼è‡´æ‚¨çš„æ•°æ®å…·æœ‰æ›´å¤š*å³°åº¦*çš„å¯èƒ½æ€§ã€‚å³°åº¦æ˜¯å¯¹åˆ†å¸ƒâ€œå°¾éƒ¨â€çš„åº¦é‡ã€‚åƒååº¦ä¸€æ ·ï¼Œå³°åº¦æ˜¯å¦ä¸€ç§ç”¨äºæè¿°æ•°æ®åˆ†å¸ƒå½¢çŠ¶çš„åº¦é‡ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œå½“ä¸€ä¸ªäººæƒ³åˆ°åˆ†å¸ƒæœ‰å¤šâ€œå¯¹ç§°â€æ—¶ï¼Œä»–ä»¬é€šå¸¸ä¼šæƒ³åˆ°æ•°æ®çš„åæ–œåº¦ã€‚å½“äººä»¬æƒ³åˆ°åˆ†å¸ƒæœ‰å¤šâ€œå¼¯æ›²â€æˆ–â€œå°–é”â€æ—¶ï¼Œä»–ä»¬é€šå¸¸ä¼šæƒ³åˆ°æ•°æ®çš„å³°åº¦ã€‚è¿™æ˜¯ä¸€ä¸ªæˆ‘ç¼–ç çš„åˆ†å¸ƒçš„åæ–œåº¦/å³°åº¦å·®å¼‚çš„å¯è§†åŒ–ä¾‹å­(å¥‡æ€ªçš„ä¼¸ç¼©ï¼Œä½†è¿˜å¯ä»¥):

![](img/0cf1bd02619625aaa9ff580d0f1c29da.png)![](img/5dacb5c0259afa880378fe8ee3a55416.png)

**(å·¦)**â€œååº¦ä¾‹å­â€(å›¾ç‰‡ä½œè€…)| **(å³)**â€œå³°åº¦ä¾‹å­â€(å›¾ç‰‡ä½œè€…)

ä»»ä½•ä¸€å…ƒæ­£æ€åˆ†å¸ƒçš„å³°åº¦éƒ½æ˜¯ä¸‰(ä¸ä½¿ç”¨[è´¹é›ª](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kurtosis.html#:~:text=If%20Fisher%E2%80%99s%20definition%20is%20used,%20then%203.0%20is%20subtracted%20from%20the%20result%20to%20give%200.0%20for%20a%20normal%20distribution.)å®šä¹‰) [](#a775) æ—¶)ã€‚
è¦äº†è§£æ›´å¤šå…³äºååº¦å’Œå³°åº¦çš„çŸ¥è¯†ï¼Œ[ç‚¹å‡»è¿™é‡Œ](https://www.itl.nist.gov/div898/handbook/eda/section3/eda35b.htm)ã€‚

ç°åœ¨ä½ å·²ç»å‡†å¤‡å¥½å»å‚åŠ æ´¾å¯¹äº†ã€‚

# å•ä¸€æ’è¡¥ä¸è¿­ä»£æ’è¡¥å¦‚ä½•å½±å“æ•°æ®é›†çš„åˆ†å¸ƒ

å¯¹äºæˆ‘çš„ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘å°†ä½¿ç”¨çš®é©¬å°ç¬¬å®‰äººç³–å°¿ç—…æ•°æ®åº“ï¼Œå®ƒå¯ä»¥åœ¨ [Kaggle](https://www.kaggle.com/uciml/pima-indians-diabetes-database) ä¸Šå…è´¹æ‰¾åˆ°ã€‚è¯¥æ•°æ®é›†åœ¨æ•´ä¸ªæ•°æ®é›†ä¸­åŒ…å«å‡ ä¸ªç¼ºå¤±å€¼(è¢«é›¶å±è”½)ã€‚æˆ‘æ›´æ–°çš„æ•°æ®é›†ç”¨ nan æ›¿æ¢äº†é›¶ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘å°†åªå¤„ç†æœ€ç¼ºå°‘å€¼çš„ä¸¤ä¸ªç‰¹å¾:â€œçš®è‚¤åšåº¦â€å’Œâ€œèƒ°å²›ç´ â€ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œåœ¨è¯¥æ•°æ®é›†ä¸­çš„ 768 è¡Œä¸­ï¼Œâ€œçš®è‚¤åšåº¦â€æœ‰ 227 ä¸ªç¼ºå¤±å€¼ï¼Œâ€œèƒ°å²›ç´ â€æœ‰ 374 ä¸ªç¼ºå¤±å€¼ã€‚æ˜¯ä¸æ˜¯å¾ˆç–¯ç‹‚ï¼Ÿ

> **æ³¨æ„** :
> å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œä½ ä¸éœ€è¦çŸ¥é“è¿™ä¸¤ä¸ªç‰¹æ€§çš„é‡è¦æ€§ã€‚
> 
> æˆ‘åœ¨ Kaggle ä¸Šåˆ›å»ºäº†ä¸€ä¸ªç¬”è®°æœ¬ï¼Œå¯ä»¥å’Œè¿™ç¯‡æ–‡ç« ä¸€èµ·ä½¿ç”¨ã€‚è¿™æœ¬ç¬”è®°æœ¬æ·±å…¥æ¢è®¨äº†ä¸åŒçš„ä¼°ç®—æ–¹æ³•ï¼ŒåŒ…æ‹¬æˆ‘å–œæ¬¢ç§°ä¹‹ä¸ºâ€œæ··åˆæ–¹æ³•â€çš„æ–¹æ³•ã€‚ç¬”è®°æœ¬æ˜¯ä½œä¸ºæœºå™¨å­¦ä¹ å’Œè¿­ä»£è¾“å…¥æ•™ç¨‹åˆ›å»ºçš„ï¼Œæ‚¨å¯ä»¥é€šè¿‡[ç‚¹å‡»æ­¤å¤„](https://www.kaggle.com/gifarihoque/pidd-missing-data-ml-iterimputer-tut-86)æŸ¥çœ‹/ç¼–è¾‘ç¬”è®°æœ¬ã€‚

ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸¤ä¸ªç‰¹æ€§çš„åˆ†å¸ƒæƒ…å†µ:

![](img/0411c1bc7bbcfa358cd8a44de42f1878.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›|è¯¥åˆ†å¸ƒå›¾ä½¿ç”¨äº† 541 ä¸ªâ€œçš®è‚¤åšåº¦â€å€¼å’Œ 394 ä¸ªâ€œèƒ°å²›ç´ â€å€¼ã€‚è¿™ä¸ªå›¾æ˜¯é€šè¿‡ä½¿ç”¨ Seaborn çš„ distplot()å‡½æ•°è·å¾—çš„ã€‚

è¿™ä¸¤ç§åˆ†å¸ƒçš„åæ–œåº¦å’Œå³°åº¦å¦‚ä¸‹:

*   â€œçš®è‚¤åšåº¦â€çš„åæ–œåº¦:0.690619
*   â€œèƒ°å²›ç´ â€çš„åæ–œåº¦:2.166464
*   â€œçš®è‚¤åšåº¦â€çš„å³°åº¦:2.935491
*   â€œèƒ°å²›ç´ â€çš„å³°åº¦:6.370522

ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹åœ¨å¯¹ç¼ºå¤±å€¼è¿›è¡Œå‡å€¼æ’è¡¥åï¼Œæˆ‘ä»¬çš„åˆ†å¸ƒå›¾ã€ååº¦å’Œå³°åº¦æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚ç”šè‡³ä¸ç”¨æ€è€ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥æƒ³è±¡æˆ‘ä»¬çš„ä¸¤ä¸ªç‰¹å¾çš„åˆ†å¸ƒå›¾æœ‰æ›´å¤šçš„å³°åº¦ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ºâ€œçš®è‚¤åšåº¦â€è¾“å…¥äº†ä¸€ä¸ªå•ä¸€çš„å€¼ 227 æ¬¡ï¼Œä¸ºâ€œèƒ°å²›ç´ â€è¾“å…¥äº†ä¸€ä¸ªä¸åŒçš„å€¼ 374 æ¬¡(å½“æˆ‘ä»¬åªæœ‰ 768 è¡Œè¦å¤„ç†æ—¶)ã€‚

> æ³¨:â€œçš®è‚¤åšåº¦â€çš„å¹³å‡å€¼ä¸º 29.153420ï¼Œâ€œèƒ°å²›ç´ â€çš„å¹³å‡å€¼ä¸º 155.548223ã€‚
> è¿™æ˜¯æˆ‘ä»¬ç”¨ NaNs åšçš„æ•°æ®é›†ã€‚

![](img/9a4802d7ae026657d3d030b4be5eee85.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›|è¿™æ˜¯å‡å€¼æ’è¡¥åçš„åˆ†å¸ƒå›¾ï¼Œå¯¹â€œçš®è‚¤åšåº¦â€å’Œâ€œèƒ°å²›ç´ â€ä½¿ç”¨äº† 768 ä¸ªå€¼ã€‚

è¿™ä¸¤ç§åˆ†å¸ƒçš„åæ–œåº¦å’Œå³°åº¦å¦‚ä¸‹:

*   â€œçš®è‚¤åšåº¦â€çš„åæ–œåº¦:0.837608
*   â€œèƒ°å²›ç´ â€çš„åæ–œåº¦:3.380019
*   â€œçš®è‚¤åšåº¦â€çš„å³°åº¦:5.430987
*   â€œèƒ°å²›ç´ â€çš„å³°åº¦:16.232455

æ¯«ä¸å¥‡æ€ªï¼Œæˆ‘ä»¬çœ‹åˆ° SÌ¶OÌ¶MÌ¶EÌ¶çš„å³°åº¦æ€¥å‰§ä¸Šå‡ï¼Œå°¤å…¶æ˜¯å¯¹â€œèƒ°å²›ç´ â€è€Œè¨€ã€‚

ç°åœ¨è®©æˆ‘ä»¬ä½¿ç”¨ IterativeImputer æ¥ä¼°ç®—åŒ…å« nan çš„æ•°æ®é›†ä¸­è¿™ä¸¤ä¸ªè¦ç´ çš„ç¼ºå¤±å€¼ã€‚æˆ‘å°†ä½¿ç”¨`RandomForestRegressor()`ä½œä¸ºè¿­ä»£è¾“å…¥çš„ä¼°ç®—å™¨ã€‚

```
# Introduce IterativeImputer with an estimator
>>> imp = IterativeImputer(estimator=RandomForestRegressor())# Fit to the dataset containing missing values
>>> imp.fit(ndf)# Transform the dataset containing missing values
>>> df = pd.DataFrame(imp.transform(ndf), columns = ndf.columns)"""
Where `ndf` is the dataset containing missing values
"""
```

ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹æ’è¡¥åä¸¤ä¸ªç‰¹å¾çš„åˆ†å¸ƒã€‚

![](img/0ce5c2d3e3d95bde985a653a8f0cc319.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›|è¿™æ˜¯ä½¿ç”¨ RandomForestRegressor()ä½œä¸ºä¼°è®¡é‡è¿­ä»£è¾“å…¥ç¼ºå¤±å€¼åä¸¤ä¸ªç‰¹å¾çš„ 768 ä¸ªå€¼çš„åˆ†å¸ƒå›¾ã€‚

è¿™ä¸¤ç§åˆ†å¸ƒçš„åæ–œåº¦å’Œå³°åº¦å¦‚ä¸‹:

*   â€œçš®è‚¤åšåº¦â€çš„åæ–œåº¦:0.679155
*   â€œèƒ°å²›ç´ â€çš„åæ–œåº¦:2.052863
*   â€œçš®è‚¤åšåº¦â€çš„å³°åº¦:3.039844
*   â€œèƒ°å²›ç´ â€çš„å³°åº¦:6.778861

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ä¸ªç‰¹å¾çš„å³°åº¦å¹¶ä¸åƒæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªç‰¹å¾çš„å¹³å‡å€¼ä¼°ç®—åˆ°å®ƒä»¬ç›¸åº”çš„ç¼ºå¤±å€¼æ—¶é‚£æ ·ç–¯ç‹‚ã€‚ä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªç‰¹å¾çš„ååº¦å’Œå³°åº¦æ°´å¹³ä¸åŒ…å« nan çš„æ•°æ®é›†çš„æ°´å¹³ç›¸å¯¹ç›¸ä¼¼ã€‚

# ç»“è®º

ä¸€èˆ¬æ¥è¯´ï¼Œå¤šå˜é‡æ–¹æ³•æ¯”å•å˜é‡æ–¹æ³•æ›´å—æ¬¢è¿ï¼Œä½†æˆ‘ä¸ªäººè®¤ä¸ºè¿™å–å†³äºæ‚¨è‡ªå·±çš„éœ€æ±‚å’Œæ‚¨é¡¹ç›®çš„ç›®æ ‡ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ PIMA å°ç¬¬å®‰äººç³–å°¿ç—…æ•°æ®åº“çœ‹åˆ°äº†å‡å€¼æ’è¡¥å’Œè¿­ä»£æ’è¡¥ä¹‹é—´çš„å·®å¼‚ã€‚åœ¨ç¬¬äºŒç¯‡æ–‡ç« ä¸­ï¼Œæ‚¨å°†èƒ½å¤Ÿçœ‹åˆ°å¦‚ä½•é€šè¿‡ä½¿ç”¨è‚¡ç¥¨å¸‚åœºæ•°æ®æ¥ä½¿ç”¨ IterativeImputer çš„å¦ä¸€ç§æ–¹æ³•ã€‚

æˆ‘çœŸçš„å¸Œæœ›é˜…è¯»è¿™ç¯‡æ–‡ç« æ˜¯å€¼å¾—çš„ã€‚è¿™æ˜¯æˆ‘åœ¨ Medium ä¸Šå†™çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œä½†å°±æˆ‘çœ‹æ¥ï¼Œè¿™ä¸ä¼šæ˜¯æˆ‘çš„æœ€åä¸€ç¯‡ã€‚æˆ‘**é«˜åº¦**é¼“åŠ±ä½ ç‚¹å‡»ä¸‹é¢çš„[é“¾æ¥æ¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« çš„ç¬¬äºŒéƒ¨åˆ†ã€‚æˆ‘å¸Œæœ›ä½ èƒ½ä½¿ç”¨ IterativeImputerï¼Œå¹¶ä¸”æˆ‘å¸Œæœ›ä½ èƒ½å‘ç°æˆ‘çš„ä¸¤ä¸ªä¾‹å­ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯æœ‰ç”¨çš„ã€‚](https://gifari.medium.com/a-better-way-to-handle-missing-values-in-your-dataset-using-iterativeimputer-on-the-stock-market-dbbb5d4ef458)

[](https://gifari.medium.com/a-better-way-to-handle-missing-values-in-your-dataset-using-iterativeimputer-on-the-stock-market-dbbb5d4ef458) [## å¤„ç†æ•°æ®é›†ä¸­ç¼ºå¤±å€¼çš„æ›´å¥½æ–¹æ³•æ˜¯:åœ¨è‚¡ç¥¨å¸‚åœºä¸Šä½¿ç”¨è¿­ä»£ä¼°ç®—å™¨â€¦

### ç”¨å¤šå˜é‡ä¼°ç®—å™¨å¤„ç†å†å²è‚¡ç¥¨å¸‚åœºæ•°æ®ï¼Œè¿™æ˜¯è¿™ä¸ªä¸¤éƒ¨åˆ†ç³»åˆ—çš„ç¬¬äºŒéƒ¨åˆ†

gifari.medium.com](https://gifari.medium.com/a-better-way-to-handle-missing-values-in-your-dataset-using-iterativeimputer-on-the-stock-market-dbbb5d4ef458) 

è¯·éšæ„æŸ¥çœ‹æˆ‘å†™åœ¨ Kaggle ä¸Šçš„ç¬”è®°æœ¬ï¼Œåœ¨é‚£é‡Œæˆ‘å¯ä»¥æ›´æ·±å…¥åœ°äº†è§£ PIMA Indians ç³–å°¿ç—…æ•°æ®åº“ä¸Šçš„ IterativeImputerã€‚

[](https://www.kaggle.com/gifarihoque/pidd-missing-data-ml-iterimputer-tut-86/comments) [## PIDD:ç¼ºå°‘æ•°æ®ï¼ï¼Ÿ+ML & ITER inputr å•§å•§(~86%)

### ä½¿ç”¨ Kaggle ç¬”è®°æœ¬æ¢ç´¢å’Œè¿è¡Œæœºå™¨å­¦ä¹ ä»£ç |ä½¿ç”¨æ¥è‡ªçš®é©¬å°ç¬¬å®‰äººç³–å°¿ç—…æ•°æ®åº“çš„æ•°æ®

www.kaggle.com](https://www.kaggle.com/gifarihoque/pidd-missing-data-ml-iterimputer-tut-86/comments) 

## å‚è€ƒ

[1]:ç»´åŸºç™¾ç§‘ã€‚[ç¼ºå¤±æ•°æ®](https://en.wikipedia.org/wiki/Missing_data#:~:text=Software-,Types,-%5Bedit%5D) ( [ç‚¹å‡»è¿”å›](#26ab))

[2]: Scikit-learnã€‚[ç¼ºå¤±å€¼æ’è¡¥](https://scikit-learn.org/stable/modules/impute.html) ( [ç‚¹å‡»è¿”å›](#af59))

[3]:ç»´åŸºç™¾ç§‘ã€‚[å³°åº¦](https://en.wikipedia.org/wiki/Kurtosis#:~:text=The%20kurtosis%20of%20any%20univariate%20normal%20distribution%20is%C2%A03) ( [ç‚¹å‡»è¿”å›](#490d))

## æœ€åçš„è¯

å¦‚æœä½ æ³¨æ„åˆ°æˆ‘çš„æ–‡ç« ä¸­æœ‰ä»»ä½•é”™è¯¯ï¼Œè¯·ç•™ä¸‹è¯„è®ºå¹¶è”ç³»æˆ‘ï¼Œè¿™æ ·æˆ‘å¯ä»¥å°½å¿«ä¿®å¤å®ƒï¼æˆ‘ä¸æƒ³è¯¯å¯¼ä»»ä½•äººï¼Œä¹Ÿä¸æƒ³æ•™ä»»ä½•äººé”™è¯¯çš„ä¸œè¥¿ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œä»»ä½•æ‰¹è¯„éƒ½æ˜¯ç§¯æçš„æ‰¹è¯„ï¼Œè¿™æ˜¯æˆ‘å­¦ä¹ çš„æœ€å¥½æ–¹æ³•ä¹‹ä¸€ã€‚æˆ‘ä¹Ÿæ€»æ˜¯ä¹äºæ¥å—æç¤ºå’Œå»ºè®®ã€‚

*å¦‚æœä½ å–œæ¬¢é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œè¯·å…³æ³¨æˆ‘çš„* [***ä¸­å‹***](https://gifari.medium.com/) *å’Œ*[***Kaggle***](https://www.kaggle.com/gifarihoque)*æˆ‘ä¼šä¸æ—¶åœ¨è¿™é‡Œå‘å¸ƒæ›´å¤šå†…å®¹ã€‚è¿˜æœ‰ï¼Œéšæ—¶å’Œæˆ‘è”ç³»*[***LinkedIn***](https://www.linkedin.com/in/gifari/)*ã€‚å¦‚æœä½ è®¤ä¸ºæˆ‘çš„å·¥ä½œåº”è¯¥å¾—åˆ°ä¸€æ¯å’–å•¡ï¼Œè¯·ç»™æˆ‘ä¹°ä¸€æ¯* *ï¼ä»»ä½•æ”¯æŒéƒ½å¸®åŠ©æˆ‘åšæŒä¸‹å»ã€‚*

ä¸€å¦‚æ—¢å¾€ï¼Œå†æ¬¡æ„Ÿè°¢ä½ çš„æ¥è®¿ã€‚