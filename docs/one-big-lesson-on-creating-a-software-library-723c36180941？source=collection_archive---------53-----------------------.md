# 创建软件库的一大教训

> 原文：<https://towardsdatascience.com/one-big-lesson-on-creating-a-software-library-723c36180941?source=collection_archive---------53----------------------->

## 近两年的数据科学软件库的故事

![](img/1042157319a93d380c8011b7ff174469.png)

图片来自[在](https://unsplash.com/@thecreative_exchange) [Unsplash](https://unsplash.com/) 上的创意交流

2019 年开始工作，我和另一名开发人员一起进入团队，清理代码库并稳定它。前三个月由规划阶段组成，在此阶段我们阅读代码，确定前进的架构，并建立我们团队现在运行的基础设施。回想起来，这是一项巨大的事业，教会了我很多关于自动化、代码开发和协作的知识。*但是从这次经历中得到的最大教训是干净代码的重要性。*

在这个项目中，我大量使用的一个资源是我经常参考的一本软件书。如果你还没有读过，罗伯特·c·马丁的《干净的代码:敏捷软件工艺手册》是一本很棒的书。我之前在一篇讨论我对数据科学家的三大建议的[文章](/top-3-books-for-every-data-science-engineer-e1180ab041f1)中谈到过这本书，我仍然袖手旁观它。《干净的代码》对于任何写代码的人来说都是一本完美的书。这本书帮助我理解了可以做得更好的代码库领域，因为我与我的队友一起将 30 多个存储库重构为一个软件库。我们的目标是创建一个可读的可维护的软件库，允许团队中的任何数据科学家捡起代码并理解它。

在第一个三个月之后，项目开始起步，并开始吸引不同的利益相关者，他们注意到了我们正在做的事情。随着团队的成熟，一些人开始看到他们的愿景成为现实，而另一些人则认为我们只是在一开始让他们的工作变得更加困难。我们需要说服的团队是专注于面向客户的应用程序的软件工程师。当我们开始向我们的团队发布这个库时，我们向软件团队明确表示，我们不再支持 30 多个库，并且停止了开发。这意味着他们需要开始消化我们的新库。

可靠性和可读性成为这项工作相当重要的一部分，尤其是软件工程师开始消化我们的代码库。我们必须教会他们从我们的代码中摄取、运行和开发结果。这意味着我们在小事上花费了额外的时间。我们专注于可靠性和可读性，以使其他数据科学家更容易获得代码并添加到代码中，并向软件工程师保证代码是稳定的。当时，大多数数据科学团队都不熟悉面向对象编程，也不知道如何编写简洁实用的函数。了解这一点后，我们重点关注的领域是:

*   编写详细易读的变量、函数和类名。
*   记录库中的每个函数、参数和 return 语句，并详细描述项目的用途。对于需要它的函数或类，我们添加了如何使用代码的详细示例。
*   编写能够减少具体分析时间的函数和类。如果团队通常执行特定的任务，我们会花时间理解这些任务，并在库中创建适合它们的代码。
*   开发一个托管的文档网站与团队共享。该网页由库文档、入职文档、操作指南和平稳团队运营所必需的架构图组成。
*   以 CI/CD 管道的形式引入自动化，以测试代码中可能由拉请求引起的任何问题。从而产生一个稳定的代码库，该代码库只有在打开、检查并通过所有测试的拉请求之后才会被修改。

当我们完成代码库的重构，软件团队开始消化它时，拥有更干净、更可靠的代码变得显而易见。我们不再试图通过电子邮件来更改密码，或者很好地了解谁在何时进行了更改。相反，我们有流程来查看代码是如何随时间发展的，以便在需要时进行恢复。

通过这些更新，我们开发了一个平稳的入职流程，有助于将新员工的入职时间从一个多月缩短到不到一周。这是因为文档和教程引导他们完成了完成工作所需的所有步骤。当我们开始与软件团队更紧密地集成时，我们向他们展示了我们的架构图和详细的文档过程。这有助于他们确定如何最好地将他们的工作与我们的工作相结合，并计划出消费我们的分析所需的下一步。最后，数据科学家可以很容易地选择代码库的不同部分，并相对快速地了解它的功能。如果不清楚，他们与最初的开发人员或团队的高级成员合作，使下一个人的代码更清晰。

# 最后的想法

在打开一个 pull 请求之前，重构和清理您的代码可能需要更长的时间，但是从这次经历中得到的最大教训是清理代码的重要性。干净的代码和文档有助于新员工的入职，有助于重大的流程变更，新团队与您的团队整合，或者开发人员希望开始使用与他们习惯的代码库不同的部分。干净的代码不适合你，无论是现在还是将来。干净的代码是给下一个需要它的人看的，当他们开始看代码的时候。干净的代码是为未来的你准备的，你将需要做一些你永远都没有看过的事情，并且需要复习。所以下一次你在做一些代码，并准备打开一个 PR 的时候，想想— ***我怎样才能把它清理干净并记录下来给下一个人呢？以后回头看这个会有什么帮助？不要把烂摊子留给别人收拾。***

如果你想阅读更多，看看我下面的其他文章吧！

[](/7-lessons-learned-from-7-months-of-remote-mentoring-b9cebf0cf222) [## 7 个月远程辅导的 7 个经验教训

### 为什么您应该接受数据科学领域的学员

towardsdatascience.com](/7-lessons-learned-from-7-months-of-remote-mentoring-b9cebf0cf222) [](/top-3-challenges-with-starting-out-as-a-data-scientist-705757a6fc09) [## 作为数据科学家起步的三大挑战

### 我作为一名年轻的数据科学家所面临的问题以及我是如何克服这些问题的

towardsdatascience.com](/top-3-challenges-with-starting-out-as-a-data-scientist-705757a6fc09) [](/what-makes-you-a-senior-data-scientist-79cdcabea38f) [## 是什么让你成为高级数据科学家？

### 讨论高级数据科学家角色的技能和期望

towardsdatascience.com](/what-makes-you-a-senior-data-scientist-79cdcabea38f)