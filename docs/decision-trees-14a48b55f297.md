# å†³ç­–æ ‘

> åŸæ–‡ï¼š<https://towardsdatascience.com/decision-trees-14a48b55f297?source=collection_archive---------22----------------------->

## æœºå™¨å­¦ä¹ ä¸­çš„åˆ†ç±»æ ‘å’Œå›å½’æ ‘ç»¼è¿°

![](img/5a7da82e1f02cb9c625ab7b02bd274b1.png)

è¥¿è’™Â·ç‘åœ¨ [Unsplash](https://unsplash.com/s/photos/decision-trees?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

è¿™ç¯‡æ–‡ç« å°†ä½œä¸ºå†³ç­–æ ‘çš„é«˜çº§æ¦‚è¿°ã€‚å®ƒå°†æ¶µç›–å†³ç­–æ ‘å¦‚ä½•ä½¿ç”¨é€’å½’äºŒè¿›åˆ¶åˆ†è£‚è¿›è¡Œè®­ç»ƒï¼Œä»¥åŠä½¿ç”¨**[**ä¿¡æ¯å¢ç›Š**](https://homes.cs.washington.edu/~shapiro/EE596/notes/InfoGain.pdf)****[**åŸºå°¼æŒ‡æ•°**](http://www.learnbymarketing.com/481/decision-tree-flavors-gini-info-gain/)**è¿›è¡Œç‰¹å¾é€‰æ‹©ã€‚æˆ‘è¿˜å°†è°ƒæ•´è¶…å‚æ•°å’Œä¿®å‰ªå†³ç­–æ ‘è¿›è¡Œä¼˜åŒ–ã€‚è¿™ç¯‡æ–‡ç« ä¸­æ¶‰åŠçš„ä¸¤ä¸ªå†³ç­–æ ‘ç®—æ³•æ˜¯ **CART(åˆ†ç±»å’Œå›å½’æ ‘)**å’Œ **ID3** **(è¿­ä»£äºŒåˆ†æ³• 3)ã€‚**********

****å†³ç­–æ ‘åœ¨é¢„æµ‹å»ºæ¨¡æ–¹é¢éå¸¸æµè¡Œï¼Œå¹¶ä¸”æ‰§è¡Œåˆ†ç±»å’Œå›å½’ã€‚å†³ç­–æ ‘æ˜¯é«˜åº¦å¯è§£é‡Šçš„ï¼Œå¹¶ä¸”ä¸ºæ›´å¤æ‚çš„ç®—æ³•æä¾›äº†åŸºç¡€ï¼Œä¾‹å¦‚éšæœºæ£®æ—ã€‚****

****![](img/a1fe49153a28b304354d7fc4355be0be.png)****

****ä½œè€…å›¾ç‰‡****

****å†³ç­–æ ‘çš„ç»“æ„å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ª [**æœ‰å‘æ— ç¯å›¾**](https://www.statisticshowto.com/directed-acyclic-graph/)**ä¸€ç³»åˆ—èŠ‚ç‚¹ï¼Œå…¶ä¸­æ¯æ¡è¾¹éƒ½æ˜¯ä»å‰é¢æŒ‡å‘åé¢çš„ã€‚è¿™ä¸ªå›¾æ˜¯å•å‘æµåŠ¨çš„ï¼Œä»»ä½•å¯¹è±¡éƒ½ä¸èƒ½æ˜¯è‡ªèº«çš„å­å¯¹è±¡ã€‚çœ‹ä¸€ä¸‹ä¸Šé¢çš„ DAGï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒä»ä¸€ä¸ªæ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæœ€ä½³å±æ€§æˆä¸ºå†…éƒ¨èŠ‚ç‚¹ï¼Œå³å†³ç­–èŠ‚ç‚¹ã€‚ç„¶åï¼Œå†…éƒ¨èŠ‚ç‚¹æ£€æŸ¥æ¡ä»¶å¹¶æ‰§è¡Œå†³ç­–ï¼Œå°†æ ·æœ¬ç©ºé—´ä¸€åˆ†ä¸ºäºŒã€‚å¶å­èŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªåˆ†ç±»ï¼Œå½“è®°å½•åˆ°è¾¾å¶å­èŠ‚ç‚¹æ—¶ï¼Œç®—æ³•å°†åˆ†é…ç›¸åº”å¶å­çš„æ ‡ç­¾ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºæ ·æœ¬ç©ºé—´ çš„é€’å½’ [**åˆ’åˆ†ã€‚ä½¿ç”¨å†³ç­–æ ‘æ—¶çš„æœ¯è¯­:**](https://online.stat.psu.edu/stat555/node/100/)******

```
****Parent Node** - a node divided into sub-nodes**Child Node** - sub-nodes from a parent node**Root Node** - represents the sample space/population that will be split into two or more sets (sub-nodes)**Decision Node** - sub-node that splits into more sub-nodes

**Leaf Node** - nodes without splits (children)**Branch** - a subsection of a decision tree**Pruning** - reducing the size of a decision tree by removing nodes**
```

## ****åˆ†å‰²æ ‡å‡†****

****![](img/6eab5a67d572148511b838a10556d386.png)****

****å‡¯æ–‡åœ¨ [Unsplash](https://unsplash.com/s/photos/split-tree?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Š[æ‚²ä¼¤](https://unsplash.com/@grievek1610begur?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)çš„ç…§ç‰‡****

****å†³ç­–æ ‘ä½¿ç”¨ä¸€äº›æˆæœ¬å‡½æ•°æ¥é€‰æ‹©æœ€ä½³åˆ†å‰²ã€‚æˆ‘ä»¬è¯•å›¾æ‰¾åˆ°åœ¨åˆ†ç±»è®­ç»ƒæ•°æ®æ–¹é¢è¡¨ç°æœ€ä½³çš„æœ€ä½³å±æ€§/ç‰¹å¾ã€‚é‡å¤è¯¥è¿‡ç¨‹ï¼Œç›´åˆ°åˆ°è¾¾å¶èŠ‚ç‚¹ï¼Œå› æ­¤ï¼Œè¢«ç§°ä¸º [**é€’å½’äºŒè¿›åˆ¶åˆ†å‰²**](https://daviddalpiaz.github.io/stat432sp18/slides/isl/trees.pdf) ã€‚å½“æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹æ—¶ï¼Œæ‰€æœ‰çš„å€¼è¢«æ’åˆ—èµ·æ¥ï¼Œæ ‘å°†æµ‹è¯•ä¸åŒçš„åˆ†å‰²ï¼Œå¹¶é€‰æ‹©è¿”å›æœ€ä½æˆæœ¬çš„ä¸€ä¸ªï¼Œä½¿è¿™æˆä¸ºä¸€ä¸ªè´ªå©ªçš„æ–¹æ³•ã€‚****

****éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºç®—æ³•é‡å¤åœ°å°†æ•°æ®åˆ’åˆ†æˆæ›´å°çš„å­é›†ï¼Œæœ€ç»ˆçš„å­é›†(å¶èŠ‚ç‚¹)ç”±å¾ˆå°‘æˆ–åªæœ‰ä¸€ä¸ªæ•°æ®ç‚¹ç»„æˆã€‚è¿™å¯¼è‡´ç®—æ³•å…·æœ‰ [**ä½åå·®å’Œé«˜æ–¹å·®**](https://www.listendata.com/2017/02/bias-variance-tradeoff.html) ã€‚****

## ****ç†µå’Œä¿¡æ¯å¢ç›Š****

****å†³ç­–æ ‘çš„ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„åº¦é‡æ˜¯ç†µã€‚ä»¥å…‹åŠ³å¾·Â·é¦™å†œå‘½åçš„é¦™å†œç†µä¸ºæˆ‘ä»¬æä¾›äº†æµ‹é‡ä¸ç¡®å®šæ€§çš„æ–¹æ³•ã€‚è¯´åˆ°æ•°æ®ï¼Œç†µå‘Šè¯‰æˆ‘ä»¬æˆ‘ä»¬çš„æ•°æ®æœ‰å¤šä¹±ã€‚é«˜ç†µå€¼è¡¨ç¤ºé¢„æµ‹èƒ½åŠ›è¾ƒä½ï¼Œå¯ä»¥å°†ç‰¹å¾çš„ç†µè§†ä¸ºè¯¥ç‰¹å¾ä¸­çš„ä¿¡æ¯é‡ã€‚å†³ç­–æ ‘åœ¨è¿›è¡Œåˆ†å‰²æ—¶æœ€å¤§åŒ–ç±»çš„çº¯åº¦ï¼Œåœ¨å¶èŠ‚ç‚¹ä¸­æä¾›æ›´æ¸…æ™°çš„ç±»ã€‚ç†µæ˜¯åœ¨æ¯æ¬¡åˆ†å‰²å‰åè®¡ç®—çš„ã€‚å¦‚æœç†µå¢åŠ ï¼Œå°†å°è¯•å¦ä¸€ä¸ªåˆ†è£‚ï¼Œæˆ–è€…æ ‘çš„åˆ†æ”¯å°†åœæ­¢ï¼Œå³ï¼Œå½“å‰æ ‘å…·æœ‰æœ€ä½çš„ç†µã€‚å¦‚æœç†µå‡å°ï¼Œåˆ†è£‚å°†è¢«ä¿æŒã€‚è®¡ç®—æ•´ä¸ªæ•°æ®é›†ç†µçš„å…¬å¼:****

****![](img/5c7ec399bb0faf9c5a46124cfab3658b.png)****

****å…¶ä¸­ **ğ‘›** æ˜¯ç»„çš„æ•°é‡ï¼Œ( **ğ‘ğ‘–** )æ˜¯å±äºç¬¬ ***i*** ç»„çš„æ¦‚ç‡ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å« 462 ä¸ªæ­£(1)æ ‡ç­¾å’Œ 438 ä¸ªè´Ÿ(0)æ ‡ç­¾çš„æ•°æ®é›†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¡ç®—æ•°æ®é›†çš„ç†µ:****

****ä¿¡æ¯å¢ç›Šä½¿ç”¨ç†µä½œä¸ºæ‚è´¨çš„åº¦é‡ã€‚è¿™æ˜¯åˆ†è£‚å‰åç†µçš„å·®å¼‚ï¼Œå®ƒä¼šç»™æˆ‘ä»¬ä¸€ä¸ªä¸ç¡®å®šæ€§å‡å°‘äº†å¤šå°‘çš„æ•°å­—ã€‚å®ƒä¹Ÿæ˜¯ ID3 åˆ†ç±»æ ‘ç®—æ³•ä¸­ä½¿ç”¨çš„å…³é”®æ ‡å‡†ã€‚è¦è®¡ç®—ä¿¡æ¯å¢ç›Š:****

****![](img/b33cf7c8f9f20f00406f0c02e8f8f1ca.png)****

## ****åŸºå°¼æ‚è´¨****

****å½“æ‰§è¡Œåˆ†ç±»ä»»åŠ¡æ—¶ï¼Œä½¿ç”¨åŸºå°¼æŒ‡æ•°å‡½æ•°ã€‚æ¥è‡ª [**ç§‘æ‹‰å¤šåŸºå°¼**](https://en.wikipedia.org/wiki/Corrado_Gini) è¿™ä¸ªå‡½æ•°å‘Šè¯‰æˆ‘ä»¬æ ‘ä¸­çš„å¶èŠ‚ç‚¹æœ‰å¤šâ€œçº¯â€ã€‚åŸºå°¼ç³»æ•°æ°¸è¿œæ˜¯ä¸€ä¸ªä» 0 åˆ° 0.5 çš„å€¼ï¼Œè¿™ä¸ªå€¼è¶Šé«˜ï¼Œè¿™ä¸ªç¾¤ä½“å°±è¶Šæ··ä¹±ã€‚ä¸ºäº†è®¡ç®—åŸºå°¼ç³»æ•°:****

****![](img/15dca73b8a71d43c8abf18b94f0ed39a.png)****

****å…¶ä¸­( **ğ‘ğ‘–** )æ˜¯å±äºç¬¬ ***i*** ç»„çš„æ¦‚ç‡ã€‚ä¸Šé¢çš„ç­‰å¼è¡¨æ˜ï¼ŒåŸºå°¼ç³»æ•°ç­‰äº 1 å‡å»æ¯æ¬¡åˆ†å‰²ä¸­ä¸åŒæ¦‚ç‡çš„æ€»å’Œã€‚****

## ****ä¿®å‰ªå†³ç­–æ ‘****

****![](img/0b8cf3f3494a3cbe70e92e4d70806e60.png)****

****å›¾ç‰‡ç”± Shutterstock ä¸Šçš„ [ueuaphoto](https://www.shutterstock.com/g/ueuaphoto) æä¾›****

****å½“å†³ç­–æ ‘é€šè¿‡æ‰§è¡Œé€’å½’äºŒåˆ†åˆ†è£‚æ¥è®­ç»ƒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®¾ç½®åœæ­¢æ ‘çš„å‚æ•°ã€‚å†³ç­–æ ‘è¶Šå¤æ‚ï¼Œå°±è¶Šå®¹æ˜“è¿‡åº¦æ‹Ÿåˆã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨è¶…å‚æ•°ä¿®å‰ªæ¥ä¿®å‰ªæ ‘:****

*   ******æœ€å¤§æ·±åº¦** -å†³å®šæˆ‘ä»¬å¸Œæœ›æ ‘æœ‰å¤šæ·±****
*   ******min_samples_leaf** -æ¯ä¸ªå¶èŠ‚ç‚¹ä¸­è®­ç»ƒæ ·æœ¬çš„æœ€å°æ•°é‡****
*   ******æœ€å¤§å¶èŠ‚ç‚¹æ•°** -æœ€å¤§å¶èŠ‚ç‚¹æ•°****
*   ******æœ€å° _ æ‚è´¨ _ å‡å°‘**-**-**é˜ˆå€¼ç¡®å®šä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¼šåˆ†è£‚æˆ–å˜æˆä¸€ç‰‡å¶å­****

****è¿˜æœ‰æ›´å¤šå¯ä»¥æ›´æ”¹çš„å‚æ•°ï¼Œå¦‚éœ€åˆ—è¡¨å’Œæ›´è¯¦ç»†çš„è§£é‡Šï¼Œè¯·æŸ¥çœ‹ [**æ–‡æ¡£**](https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html) ã€‚****

## ******å¸¦ Scikit çš„å†³ç­–æ ‘-å­¦ä¹ ******

****æˆ‘ä»¬ç”¨ sklearn æ­å»ºä¸€ä¸ªå†³ç­–æ ‘åˆ†ç±»å™¨ã€‚æˆ‘å°†ä½¿ç”¨ [**æ³°å¦å°¼å…‹å·æ•°æ®é›†**](https://www.kaggle.com/c/titanic) ï¼Œç›®æ ‡æ˜¯`Survived`ç‰¹å¾ã€‚æˆ‘æ­£åœ¨åŠ è½½çš„æ•°æ®é›†ä¹‹å‰å·²ç»æ¸…ç†è¿‡äº†ã€‚æœ‰å…³æ•°æ®é›†ä¸­è¦ç´ çš„æè¿°ï¼Œè¯·å‚é˜…ä¸‹é¢çš„æ•°æ®å­—å…¸ã€‚****

****![](img/1ca1a3562ea016a0e86a783b564b09c2.png)****

****ä½œè€…å›¾ç‰‡****

******å¯¼å…¥å¿…è¦çš„åº“******

******è½½å…¥å¹¶é¢„è§ˆæ•°æ®é›†******

****![](img/97038e257d886021188bbdaa924292ce.png)****

******å®šä¹‰é¢„æµ‹å™¨å’Œç›®æ ‡ç‰¹å¾ï¼Œæ‰§è¡Œè®­ç»ƒæµ‹è¯•åˆ†å‰²ï¼Œé¢„å¤„ç†æ•°æ®******

******è®­ç»ƒå†³ç­–æ ‘åˆ†ç±»å™¨******

****![](img/cbb0b08ec6cff2fe65aa8fbf3c79024d.png)****

****å†³ç­–æ ‘åˆ†ç±»å™¨åœ¨è®­ç»ƒé›†ä¸Šçš„è¡¨ç°ä¼˜äºæµ‹è¯•é›†ï¼Œè¡¨æ˜æ¨¡å‹è¿‡æ‹Ÿåˆã€‚å†³ç­–æ ‘æ˜“äºè¿‡åº¦æ‹Ÿåˆï¼Œå› ä¸ºé€’å½’äºŒè¿›åˆ¶åˆ†è£‚è¿‡ç¨‹å°†æŒç»­åˆ°åˆ°è¾¾å¶èŠ‚ç‚¹ï¼Œå¯¼è‡´æ¨¡å‹è¿‡äºå¤æ‚ã€‚è¿™æ˜¯æˆ‘ä»¬æ‰§è¡Œè¶…å‚æ•°è°ƒæ•´å’Œä¿®å‰ªæ¥ä¼˜åŒ–åˆ†ç±»å™¨çš„åœ°æ–¹ã€‚****

******æ ‡å›¾æ ‘******

****ä¸ºäº†ç›´è§‚åœ°çœ‹åˆ°åˆ†å‰²ï¼Œç»˜åˆ¶æ ‘å¯èƒ½æ˜¯æœ‰å¸®åŠ©çš„ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€äº›é¢å¤–çš„åº“æ¥ç»˜åˆ¶æ ‘ã€‚****

****![](img/6522d7f9491f315f01d2bc746109ce15.png)****

******ç‰¹å¾é‡è¦æ€§******

****å¦‚æœæˆ‘ä»¬æƒ³è¦æ£€æŸ¥æ¨¡å‹çš„ [**ç‰¹å¾é‡è¦æ€§**](/the-mathematics-of-decision-trees-random-forest-and-feature-importance-in-scikit-learn-and-spark-f2861df67e3) ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†³ç­–æ ‘åˆ†ç±»å™¨ä¸­çš„`.feature_importances_`å±æ€§ã€‚ä½¿ç”¨åŸºå°¼ç³»æ•°è®¡ç®—ç‰¹å¾é‡è¦æ€§ã€‚****

****![](img/d96f40c5dd998c232205860a52b16c60.png)****

******ç”¨ç½‘æ ¼æœç´¢ cv ä¼˜åŒ–å†³ç­–æ ‘åˆ†ç±»å™¨******

****é€šè¿‡è¿è¡Œäº¤å‰éªŒè¯çš„ç½‘æ ¼æœç´¢ï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥åŒ…å«å†³ç­–æ ‘è¶…å‚æ•°çš„ä¸åŒå€¼çš„å‚æ•°å­—å…¸ã€‚æˆ‘å·²ç»ä½¿ç”¨äº†ä¸Šé¢æåˆ°çš„å‰ªæè¶…å‚æ•°å’Œé»˜è®¤çš„ 5 æŠ˜äº¤å‰éªŒè¯ã€‚****

****![](img/28a09b28957148a79921fd8441513622.png)********![](img/0c784717739c86972dc75b2ef44761e2.png)****

****é€šè¿‡è¿è¡Œäº¤å‰éªŒè¯çš„ç½‘æ ¼æœç´¢ï¼Œæœ€ä½³å‚æ•°æ”¹å–„äº†æˆ‘ä»¬çš„åå·®-æ–¹å·®æƒè¡¡ã€‚å…·æœ‰é»˜è®¤å‚æ•°çš„ç¬¬ä¸€ä¸ªæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šçš„è¡¨ç°æ¯”æµ‹è¯•é›†å¥½ 20%ï¼Œè¡¨æ˜æ ‘ä¸­çš„ä½åå·®å’Œé«˜æ–¹å·®ã€‚å…·æœ‰æ¥è‡ªç½‘æ ¼æœç´¢çš„è¶…å‚æ•°é›†çš„å†³ç­–æ ‘æ˜¾ç¤ºï¼Œä»è®­ç»ƒå’Œæµ‹è¯•é›†æ¥çœ‹ï¼Œæ–¹å·®é™ä½äº† 5%ã€‚****

## ******ç”¨æ¨è½¦å›å½’******

****æ‰§è¡Œå›å½’ä»»åŠ¡çš„å†³ç­–æ ‘ä¹Ÿåƒåˆ†ç±»ä¸€æ ·å°†æ ·æœ¬åˆ’åˆ†æˆæ›´å°çš„é›†åˆã€‚å›å½’æ ‘çš„ç›®æ ‡æ˜¯é€’å½’åœ°åˆ’åˆ†æ ·æœ¬ç©ºé—´ï¼Œç›´åˆ°ä¸€ä¸ªç®€å•çš„å›å½’æ¨¡å‹èƒ½å¤Ÿé€‚åˆå•å…ƒã€‚å›å½’æ ‘ä¸­çš„å¶èŠ‚ç‚¹æ˜¯åˆ†åŒºçš„å•å…ƒã€‚é€‚åˆæ¯ä¸ªåˆ†åŒºçš„ç®€å•å›å½’æ¨¡å‹å–è¯¥åˆ†åŒºå› å˜é‡çš„å¹³å‡å€¼ï¼Œå³æ ·æœ¬å¹³å‡å€¼ç”¨äºè¿›è¡Œé¢„æµ‹ã€‚****

****æˆ‘ä»¬ä½¿ç”¨ä¸Šé¢çš„ç†µä½œä¸ºæ‚è´¨çš„é‡åº¦æ¥è¿›è¡Œåˆ†ç±»ã€‚å¯¹äºå›å½’ï¼ŒCART ç®—æ³•åˆ©ç”¨ [**å‡æ–¹è¯¯å·®**](https://www.statisticshowto.com/mean-squared-error/) ä½œä¸ºæ‚è´¨çš„åº¦é‡ã€‚****

****![](img/75d064ea3f86c560711d0db3e2b04916.png)****

*   ******ğ·ğ‘š** æ˜¯èŠ‚ç‚¹ **ğ‘š** ä¸­çš„è®­ç»ƒå­é›†****
*   ******ğ‘›ğ‘š** æ˜¯èŠ‚ç‚¹ **ğ‘š** çš„è®­ç»ƒæ ·æœ¬æ•°****
*   ******ğ‘¦ğ‘–** æ˜¯ç¬¬ ***i*** ä¸ªæ ·æœ¬çš„ç›®æ ‡å€¼****
*   ******ğ‘¦Ì‚ğ‘š** æ˜¯é¢„æµ‹çš„ç›®æ ‡å€¼ï¼Œæ ·æœ¬çš„å¹³å‡å€¼****

****![](img/cf6e1bc3fa6fea4d6b79a3f497086dcc.png)****

****åœ¨è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½æ—¶ï¼Œæˆ‘ä»¬ä¼šç€çœ¼äº[**ã€RMSEã€‘**](https://www.statisticshowto.com/probability-and-statistics/regression-analysis/rmse-root-mean-square-error/)ã€‚è¿™å°±æ˜¯è¯¯å·®å¹³æ–¹å¹³å‡å€¼çš„å¹³æ–¹æ ¹ã€‚é€šè¿‡æ±‚å¹³æ–¹æ ¹ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹é‡è¯¯å·®çš„å¤§å°ï¼Œå¤§è¯¯å·®çš„æƒé‡å¤§äºå¹³å‡å€¼ã€‚æˆ‘ä»¬å°†ç”¨äºè¯„ä¼°æ¨¡å‹æ‹Ÿåˆä¼˜åº¦çš„æŒ‡æ ‡æ˜¯ [**R å¹³æ–¹**](https://statisticsbyjim.com/regression/interpret-r-squared-regression/) å€¼ã€‚r å¹³æ–¹å‘Šè¯‰æˆ‘ä»¬å› å˜é‡ä¸­æ–¹å·®çš„ç™¾åˆ†æ¯”ï¼Œå…±åŒè§£é‡Š *(Frost ç­‰äººï¼Œ2020)* ã€‚****

****CART ä¸ä»…å¯ä»¥ç”¨äºå›å½’ã€‚[è¿™é‡Œæœ‰ä¸€ç¯‡](https://neptune.ai/blog/anomaly-detection-in-time-series)æ¥è‡ª [Neptune.ai](https://neptune.ai/blog) çš„æœ‰è¶£æ–‡ç« ï¼Œå…¶ä¸­å†³ç­–æ ‘ç”¨äºæ£€æµ‹æ—¶é—´åºåˆ—æ•°æ®ä¸­çš„å¼‚å¸¸å€¼/å¼‚å¸¸ã€‚****

## ****ä½¿ç”¨ Scikit-Learn çš„å›å½’æ ‘****

****è®©æˆ‘ä»¬ç»§ç»­ç”¨ sklearn æ„å»ºä¸€ä¸ª [**å†³ç­–æ ‘å›å½’å™¨ã€‚æˆ‘å°†ä½¿ç”¨ä» kaggle ä¸­æ£€ç´¢åˆ°çš„**](https://scikit-learn.org/stable/modules/tree.html#regression) **[**Ames æˆ¿å±‹æ•°æ®é›†**](https://www.kaggle.com/c/ames-housing-data-summer-2018/data) ã€‚å‡ºäºæœ¬æ•™ç¨‹çš„ç›®çš„ï¼Œæˆ‘å°†åªä½¿ç”¨ 3 ä¸ªè¿ç»­ç‰¹å¾å’Œç›®æ ‡ç‰¹å¾ã€‚******

**![](img/7bba21d6ca846bc46959949cd302137a.png)**

****åŠ è½½æ•°æ®é›†ï¼Œå®šä¹‰é¢„æµ‹å™¨å’Œç›®æ ‡ç‰¹å¾ï¼Œå¹¶æ‰§è¡Œè®­ç»ƒæµ‹è¯•åˆ†å‰²****

****è®­ç»ƒå†³ç­–æ ‘å›å½’å™¨****

**![](img/fd2b5ee6dff0ca802097935baa4f1551.png)**

**å†³ç­–æ ‘å†æ¬¡è¿‡åº¦é€‚åº”è®­ç»ƒé›†ã€‚ä¸åˆ†ç±»ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œäº¤å‰éªŒè¯çš„ç½‘æ ¼æœç´¢æ¥ä¼˜åŒ–å†³ç­–æ ‘ã€‚**

****ç”¨ç½‘æ ¼æœç´¢ cv ä¼˜åŒ–å†³ç­–æ ‘å›å½’å™¨****

**![](img/ab65c6b457667438b784eb69b8c95836.png)****![](img/1780e3df151f82d5f5cb6d0ea6d3dab5.png)**

**é€šè¿‡ä½¿ç”¨å†³ç­–æ ‘å›å½’å™¨è¿è¡Œäº¤å‰éªŒè¯çš„ç½‘æ ¼æœç´¢ï¼Œæˆ‘ä»¬æé«˜äº†æµ‹è¯•é›†çš„æ€§èƒ½ã€‚ä½¿ç”¨ r å¹³æ–¹å¾—åˆ†ä¸º`.9998`çš„é»˜è®¤å‚æ•°ï¼Œr å¹³æ–¹ä¸åŸºçº¿å†³ç­–æ ‘å›å½’å™¨çš„æ•°æ®è¿‡åº¦æ‹Ÿåˆã€‚ä½¿ç”¨ç½‘æ ¼æœç´¢çš„å‚æ•°ï¼Œæˆ‘ä»¬å°†æµ‹è¯•é›†çš„ r å¹³æ–¹ä»`.42`å¢åŠ åˆ°`.56`ã€‚è®­ç»ƒ r å¹³æ–¹ä¸º`.58`å‘Šè¯‰æˆ‘ä»¬ï¼Œæ¨¡å‹ä¸ä¼šè¿‡åº¦æ‹Ÿåˆè®­ç»ƒæ•°æ®ï¼Œå¹¶å°†åœ¨çœ‹ä¸è§çš„æµ‹è¯•é›†ä¸Šç±»ä¼¼åœ°æ‰§è¡Œã€‚**

## **ç»“è®º**

**å†³ç­–æ ‘æ˜¯å¾ˆå¥½çš„é¢„æµ‹æ¨¡å‹ï¼Œå¯ç”¨äºåˆ†ç±»å’Œå›å½’ã€‚å¯¹äºè¿‡å¤šçš„æœºå™¨å­¦ä¹ é—®é¢˜ï¼Œå®ƒä»¬å…·æœ‰é«˜åº¦çš„å¯è§£é‡Šæ€§å’Œå¼ºå¤§çš„åŠŸèƒ½ã€‚è™½ç„¶åˆ†ç±»å’Œå›å½’ä»»åŠ¡ä¹‹é—´æœ‰è®¸å¤šç›¸ä¼¼ä¹‹å¤„ï¼Œä½†ç†è§£æ¯ç§ä»»åŠ¡ä½¿ç”¨çš„ä¸åŒåº¦é‡æ ‡å‡†æ˜¯å¾ˆé‡è¦çš„ã€‚å†³ç­–æ ‘çš„è¶…å‚æ•°æœ‰åŠ©äºé˜²æ­¢å®ƒä»¬è¿‡åº¦é€‚åº”è®­ç»ƒæ•°æ®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶æ‰§è¡Œç½‘æ ¼æœç´¢æœ‰åŠ©äºæ‰¾åˆ°å†³ç­–æ ‘çš„æœ€ä½³è¶…å‚æ•°ï¼Œä½†æ˜¯å®ƒä»¬çš„è®¡ç®—å¼€é”€ä¹Ÿå¾ˆå¤§ã€‚æ ¹æ®æ‰€é€‰çš„å¯èƒ½å‚æ•°ï¼Œæ‚¨å¯èƒ½éœ€è¦è¿è¡Œæ•°å°æ—¶ç”šè‡³æ•°å¤©çš„ç½‘æ ¼æœç´¢ã€‚**

**æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« æœ‰åŠ©äºæ›´å¥½åœ°ç†è§£å›å½’å’Œåˆ†ç±»æ ‘ã€‚å¦‚æœæœ‰ä»»ä½•é—æ¼æˆ–æˆ‘å¯ä»¥è§£é‡Šå¾—æ›´æ¸…æ¥šçš„åœ°æ–¹ï¼Œè¯·éšæ—¶ç•™ä¸‹åé¦ˆï¼éå¸¸æ„Ÿè°¢ä½ èŠ±æ—¶é—´æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ã€‚**

## **èµ„æº**

*   ***1.10ã€‚å†³ç­–æ ‘ã€‚(æœªæ³¨æ˜)ã€‚æ£€ç´¢è‡ª*[*https://scikit-learn.org/stable/modules/tree.html#*](https://scikit-learn.org/stable/modules/tree.html#)**
*   ***sk learn . tree . decision tree classifier .(æœªæ ‡æ˜)ã€‚æ£€ç´¢è‡ª*[*https://sci kit-learn . org/stable/modules/generated/sk learn . tree . decision tree classifier . html*](https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html)**
*   ***sk learn . tree . decision tree regressor .(æœªæ ‡æ˜)ã€‚æ£€ç´¢è‡ª*[*https://scikit-learn . org/stable/modules/generated/sk learn . tree . decisiontreeregressor . html*](https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeRegressor.html)**
*   **Ronaghanï¼ŒS. (2019 å¹´ 11 æœˆ 01 æ—¥)ã€‚å†³ç­–æ ‘çš„æ•°å­¦ï¼Œéšæœºæ£®æ—å’Œ Scikit-learn å’Œ Spark ä¸­çš„ç‰¹å¾é‡è¦æ€§ã€‚æ£€ç´¢è‡ª[*https://towards data science . com/the-mathematics-of-decision-trees-random-forest-feature-importance-in-scikit-learn-and-spark-f 2861 df 67 e 3*](/the-mathematics-of-decision-trees-random-forest-and-feature-importance-in-scikit-learn-and-spark-f2861df67e3)**
*   ***14.2 â€”é€’å½’åˆ†åŒºã€‚(æœªæ³¨æ˜)ã€‚æ£€ç´¢è‡ª*[*https://online.stat.psu.edu/stat555/node/100/*](https://online.stat.psu.edu/stat555/node/100/)**
*   **å¸ƒæœ—åˆ©ï¼ŒJ. (2020 å¹´ 8 æœˆ 14 æ—¥)ã€‚æœºå™¨å­¦ä¹ çš„åˆ†ç±»å’Œå›å½’æ ‘ã€‚æ£€ç´¢è‡ª[*https://machine learning mastery . com/class ification-and-regression-trees-for-machine-learning/*](https://machinelearningmastery.com/classification-and-regression-trees-for-machine-learning/)**
*   **å¼—ç½—æ–¯ç‰¹ï¼Œä¼¦å·´ç¬¬ï¼Œå“ˆå¾—ç½—ï¼Œç±³ï¼Œé˜¿å…‹è¨ç±³æ‰˜å¨ƒï¼Œæ‹‰æ¢…è¨ï¼ŒåŠ³é‡Œã€‚ã€‚ã€‚æœè´åšå£«(2020 å¹´ 11 æœˆ 03 æ—¥)ã€‚å›å½’åˆ†æä¸­å¦‚ä½•è§£é‡Š R å¹³æ–¹ï¼Ÿæ£€ç´¢è‡ª[*https://statisticsbyjim . com/regression/interpret-r-squared-regression/*](https://statisticsbyjim.com/regression/interpret-r-squared-regression/)**
*   ***RMSE:å‡æ–¹æ ¹è¯¯å·®ã€‚(2020 å¹´ 7 æœˆ 06 æ—¥)ã€‚æ£€ç´¢è‡ª*[*https://www . statisticshowto . com/probability-and-statistics/regression-analysis/RMSE-root-mean-square-error/*](https://www.statisticshowto.com/probability-and-statistics/regression-analysis/rmse-root-mean-square-error/)**
*   ***sk learn . metrics . mean _ squared _ errorã€‚(æœªæ³¨æ˜)ã€‚æ£€ç´¢è‡ª*[*https://scikit-learn . org/stable/modules/generated/sk learn . metrics . mean _ squared _ error . html*](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_error.html)**
*   ***æ³°å¦å°¼å…‹å·â€”â€”æœºå™¨ä»ç¾éš¾ä¸­å­¦ä¹ ã€‚(æœªæ³¨æ˜)ã€‚æ£€ç´¢è‡ª*[*https://www.kaggle.com/c/titanic*](https://www.kaggle.com/c/titanic)**
*   ***2018 å¹´å¤å­£è‰¾å§†æ–¯ä½æˆ¿æ•°æ®ã€‚(æœªæ³¨æ˜)ã€‚æ£€ç´¢è‡ª*[*https://www.kaggle.com/c/ames-housing-data-summer-2018/data*](https://www.kaggle.com/c/ames-housing-data-summer-2018/data)**