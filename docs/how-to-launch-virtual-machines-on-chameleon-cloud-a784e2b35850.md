# 如何在变色龙云上启动虚拟机

> 原文：<https://towardsdatascience.com/how-to-launch-virtual-machines-on-chameleon-cloud-a784e2b35850?source=collection_archive---------38----------------------->

## 在变色龙云上启动虚拟机的分步指南

![](img/9e9612a63f9646d0f83995e9079d18fd.png)

凯西·霍纳在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

在本文中，我将解释如何在变色龙云上启动一个虚拟机实例。在我的情况下，我的机器是 Nvidia K80 GPU。

## 什么是变色龙云？

变色龙云是和 IBM、阿里巴巴、Google、AWS、Azure Cloud 一样的云计算平台。与变色龙的主要区别在于，如果你有使用许可，它是免费使用的。

与传统的云计算平台不同，变色龙主要用于研究目的，它由美国国家科学基金会资助。所有有权使用变色龙的会员都可以免费使用它的机器。只有学术机构的教师，联邦机构如 R&D 国家实验室中心和研究所，以及国际研究机构才有资格创建关于变色龙的项目。这并不意味着只有低于这个标准的人才能使用变色龙。这意味着任何符合该标准的人都可以创建一个项目，并且可以将任何其他人添加到该项目中。因此，如果你在一个符合上述任何标准的人的指导下做研究，那么你可以要求他们创建一个变色龙项目，你可以加入到那个项目中，并且你可以开始免费使用变色龙机器。

## 入门指南

当你加入一个项目后，你就可以开始使用变色龙上的机器了。chameleon 上的机器实际上分布在两个主要位置:德克萨斯高级计算中心(TACC)和芝加哥大学(加州大学)。您可以在任一位置探索和使用机器。在本文中，我将使用 TACC 的 Nvidia K80。

要选择地点，登录你的账户，进入 chameleoncloud.org 的，然后进入实验- > CHI@TACC(或 CHI@UC，以你正在使用的为准)。

![](img/a6f1542e8ef781339461c0d52c6bdfda.png)

作者图片

一旦你在那里，它应该看起来像这样:

![](img/cc3cdfd44c23b8fd2f434e906bfb618a.png)

作者图片

## 保留

与传统的云计算平台不同，您不能随时启动实例。变色龙使用预订系统，用户必须事先预订机器。您可以通过转到预订->租赁，然后选择主机日历来查看主机日历(基本上是一个显示谁在何时使用实例的日历)。您必须查看主机日历，以了解哪些资源何时可用。它看起来会像这样。

![](img/10c4fde41ff737805d26b65d9e24103c.png)

作者图片

要查看哪些特定机器可用，请选择节点类型并选择您的机器类型，在我的例子中是 Nvidia K80 GPU。

![](img/b294bb77783e9040e639e24f19a6a342.png)

作者图片

您可以查看每台机器何时可用，或者某台机器当前是否可用。需要记住的重要一点是，如果一个节点当前已经被使用，您就不能保留它，或者当其他人已经保留它时，您也不能提前保留它。

您可以通过转到预订->租赁并选择创建租赁来预订机器。将弹出一个窗口，看起来像这样

![](img/9146604ad1c75df0d15d480b70697071.png)

作者图片

租赁名称可以是您想要的任何名称。如果您希望尽快开始租赁，您可以将开始时间留空，变色龙将尝试保留您的节点，默认租赁持续时间为 1 天。租期限于 7 天。但是，如果资源可用，活动租赁在其结束时间 48 小时内最多可以从请求之时起延长 7 天。变色龙会在你租期结束前 48 小时给你发邮件提醒。

## 创建密钥对并关联 IP 地址

在启动实例之前/之时，您必须创建一个密钥对并关联一个 IP 地址，以便正确启动您的机器。要创建密钥对，请转到计算->密钥对，然后选择创建密钥对。将弹出一个类似这样的窗口。

![](img/19989bbda56e5f702f18f47fa7ba8761.png)

作者图片

您的密钥对名称可以是任何名称，并将您的密钥类型选择为 SSH 密钥。创建完密钥对后，应该会生成并下载一个名为 <key pair="" name="">.pem 的密钥文件。</key>

在启动一个实例之前/之后(什么时候启动并不重要)，您应该创建一个浮动 IP 地址，并且需要在启动实例之后将它分配给实例。

要创建浮动 IP 地址，请转到“网络”->“浮动 IP”并选择“将 IP 分配给项目”。将弹出一个如下所示的窗口:

![](img/2435548c9e14a45603cef69e46a4e1f7.png)

作者图片

描述是可选的，可以是您想要的任何内容。选择分配 IP。在您启动实例之后，我将展示如何为您的实例分配 IP。

## 启动实例

预订开始后，您可以在租赁给您的节点上启动一个裸机实例。

转到计算->实例并选择启动实例。将弹出一个窗口，看起来像这样:

![](img/075caf1e5fa329719a6331ab5780781d.png)

作者图片

实例名可以是您想要的任何名称，同样的事情也适用于描述。对于预订，选择您创建的预订。

启动实例之前的下一步是转到源代码。

![](img/fc1644df3c7c79af0d72b570fe6d66cf.png)

作者图片

此时，您必须选择您想要的图像。您必须向下滚动图像列表，选择您想要的图像。我使用的是 Nvidia K80 GPU，所以我会选择 CC-Ubuntu18.04-CUDA10。

![](img/b7add90b15fa129c48f7a2ed5468efb9.png)

作者图片

下一步是转到 Flavor 并选择您想要的节点/实例的类型。选择裸机。

![](img/a1bb7fcb8128e844286d6eb5872bf240.png)

作者图片

下一步是转到密钥对并选择您在上一节中创建的密钥对。转到密钥对，找到您在上一步中创建的密钥对并选择它。我把我的密钥对命名为 i_extraction，所以这就是我的窗口的样子

![](img/466b8c03d7e3f7808d71ab7814df3a08.png)

作者图片

一旦完成了所有这些，您就可以启动您的实例了。单击窗口右下角的“启动实例”。您的实例大约需要 10 分钟来加载。您可以通过查看 Compute -> Instance 选项卡来查看它是否已经完成加载并正在运行。

一旦装载了实例，就必须关联前面创建的浮动 IP 地址。转到网络->浮动 IPs。在面板右侧的操作下，选择关联。将弹出一个窗口，并将您的 IP 地址与您的实例相关联。

## 访问您的实例

我使用的是 Windows 10，因此本指南将介绍如何在 Windows 10 上访问您的实例。对于任何其他系统，请遵循[本](https://chameleoncloud.readthedocs.io/en/latest/getting-started/index.html#accessing-your-instance)指南来访问您的实例。注意，对于 windows 用户，你也可以跟随[这个](https://www.youtube.com/watch?v=MDK5D2ptJiQ)视频通过 SSH 登录并访问你的实例。

如果您在没有安装 Linux 子系统的 Windows 上，您必须使用 SSH 客户端。我个人认为这种方法相对容易通过 SSH 登录到您的实例。下载一个像 Bitvise 或者 Putty 这样的 SSH 客户端(我用的是 Bitvise)，你的屏幕应该是这样的。

![](img/74e376028e3581347f644481d023c11f.png)

作者图片

转到客户端密钥管理器->导入，并导入下载的密钥对 pem 文件。为此，您必须将文件类型更改为所有文件。在主机旁边的空白处，键入与您的实例相关联的 12 位 IP 地址。在端口旁边，键入 22。在用户名旁边的空白处，键入 cc。这是大多数变色龙实例的默认用户名。在 Initial method 旁边的下拉列表中，选择 public key。一旦你这样做了，一个新的名为 Client Key 的下拉菜单就会出现。在此下拉列表中，选择您刚刚附加的客户端密钥，对于我来说，这是 Global 1。选择登录。现在，您已经通过 SSH 登录到您的实例。此时，您可能会遇到几种不同类型的错误。如果是这样，请检查您的实例是否已经实际启动，您的密钥对是否正确，以及您是否填写了正确的 IP 地址。在某些情况下，您可能已经做了所有正确的事情，但是 chameleon 只是没有将密钥对与实例相关联，它可能无法启动实例。在这种情况下，我建议您删除实例并重新启动它。您可以通过转至“计算”->“实例”并在“实例的操作”下的下拉列表中选择“删除实例”来终止实例。

在 bitvise 中，如果您已经成功登录到您的实例，在窗口的左侧，您将会看到如下内容:

![](img/35a9ca5615f9de78094ac7b777d941e1.png)

作者图片

新的终端控制台是你可以访问你的终端和运行代码，新的 SFTP 窗口是你可以从你的电脑上传文件。

我希望你觉得这篇文章简单易懂，内容丰富。如果你有任何问题，请在下面的评论中提出。