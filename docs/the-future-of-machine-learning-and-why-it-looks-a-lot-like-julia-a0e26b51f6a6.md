# æœºå™¨å­¦ä¹ çš„æœªæ¥ä»¥åŠä¸ºä»€ä¹ˆå®ƒçœ‹èµ·æ¥å¾ˆåƒæœ±è‰å¨…ğŸ¤–

> åŸæ–‡ï¼š<https://towardsdatascience.com/the-future-of-machine-learning-and-why-it-looks-a-lot-like-julia-a0e26b51f6a6?source=collection_archive---------3----------------------->

![](img/3c2445fb6e6d572c70a4e0a9488178a6.png)

ä½œè€…å›¾ç‰‡

TLDRï¼›ML çš„æœªæ¥æ˜¯[æœ±è‰å¨…](https://julialang.org)ã€‚å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªå¿«é€Ÿçš„ç­”æ¡ˆï¼Œä½ æœ‰å®ƒã€‚å¦‚æœä½ æƒ³è¦ä¸€ä¸ªåˆç†çš„è§£é‡Šï¼Œç•™ä¸‹æ¥ã€‚ä¸è¦åªç›¸ä¿¡æˆ‘çš„è¯:

[](https://dev-discuss.pytorch.org/t/where-we-are-headed-and-why-it-looks-a-lot-like-julia-but-not-exactly-like-julia/276) [## æˆ‘ä»¬è¦å»å“ªé‡Œï¼Œä¸ºä»€ä¹ˆå®ƒçœ‹èµ·æ¥å¾ˆåƒæœ±è‰å¨…(ä½†ä¸å®Œå…¨åƒæœ±è‰å¨…)

### å½“è¯•å›¾é¢„æµ‹ PyTorch æœ¬èº«å°†å¦‚ä½•è¢«ç ´åæ—¶ï¼Œæˆ‘ä»¬è¿‡å»å¸¸å¸¸æ‹¿ PyTorch çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬å¼€ç©ç¬‘â€¦

dev-discuss.pytorch.org](https://dev-discuss.pytorch.org/t/where-we-are-headed-and-why-it-looks-a-lot-like-julia-but-not-exactly-like-julia/276) 

*(ä¸Šé¢çš„å¸–å­æ€»ç»“é“:PyTorch å¼€å‘è€…æƒ³è¦ Julia æä¾›çš„æ‰€æœ‰åŠŸèƒ½ï¼Œä½†ä»–ä»¬è¿˜ä¸æƒ³åœ¨ Julia ä¸­é‡å†™ PyTorchï¼Œå› ä¸ºç”Ÿæ€ç³»ç»Ÿè¿˜ä¸å¤Ÿæˆç†Ÿ)*

*ç¼–è¾‘:æˆ‘å’Œæˆ‘çš„åˆè‘—è€…å¾ˆé«˜å…´åœ°å‘Šè¯‰å¤§å®¶ï¼Œæˆ‘ä»¬çš„æ–°ä¹¦ã€ŠèŒ±è‰äºšé€Ÿæˆç­ã€‹å·²ç»å¼€å§‹é¢„å”®äº†:*

[](https://logankilpatrick.gumroad.com/l/juliacrashcourse) [## æœ±è‰å¨…é€Ÿæˆç­(ç”µå­ä¹¦é¢„è´­)

### Julia é€Ÿæˆè¯¾ç¨‹æ˜¯ä½¿ç”¨ Julia ç¼–ç¨‹è¯­è¨€çš„å®è·µæŒ‡å—ï¼Œæ˜¯ä¸ºåˆå­¦è€…ç¼–å†™çš„ã€‚æˆ‘ä»¬æ¥å—â€¦

logankilpatrick.gumroad.com](https://logankilpatrick.gumroad.com/l/juliacrashcourse) 

# æ¦‚è§‚ğŸŒ„

é¦–å…ˆï¼Œè®©æˆ‘æŒ‡å‡ºæˆ¿é—´é‡Œçš„å¤§è±¡:Julia ç”Ÿæ€ç³»ç»Ÿè¿˜æ²¡æœ‰ Python ç”Ÿæ€ç³»ç»Ÿæˆç†Ÿã€‚è¿™æ˜¯ç›®å‰çš„ç°å®ï¼Œä½†æ­£å¦‚ä½ å¯èƒ½åœ¨è¿™ç¯‡æ–‡ç« ä¸­å‘ç°çš„é‚£æ ·ï¼Œè¿™å¹¶ä¸æ„å‘³ç€ä½ ä¸èƒ½åœ¨ä½ çš„æœºå™¨å­¦ä¹ å·¥ä½œæµä¸­æˆåŠŸåœ°ä½¿ç”¨ Juliaã€‚

ä¸‹é¢ï¼Œæˆ‘å°†ç®€è¦æ¦‚è¿° Julia æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ ç”Ÿæ€ç³»ç»Ÿï¼Œç„¶åè°ˆè°ˆä¸ºä»€ä¹ˆæ‚¨å¯èƒ½å¸Œæœ›ä¸ºæ‚¨çš„ ML å’Œ DL å·¥ä½œæµå­¦ä¹  Juliaã€‚æˆ‘ä»¬å°†æ¢è®¨ä»¥ä¸‹æƒ³æ³•ï¼Œæˆ‘è®¤ä¸ºè¿™äº›æƒ³æ³•ä½¿ Julia æˆä¸º ML é¢†åŸŸçš„ä¸»è¦å€™é€‰äºº:

*   ä½ å¯ä»¥åˆ©ç”¨æœ±è‰å¨…ï¼Œæ‰€ä»¥ä½ å¯ä»¥äº«å—æœ±è‰å¨…ä¸ºğŸ§‘â€æä¾›çš„æ‰€æœ‰å¥½å¤„ğŸ¤â€ğŸ§‘
*   çµæ´»ä¸”å¯æ‰©å±•ğŸ’ª
*   å®ƒ(å®é™…ä¸Š)æ˜¯å¼€æºçš„ğŸ‘
*   æ˜“äºä½¿ç”¨çš„å†…éƒ¨æ„ä»¶ğŸ³
*   ML +ç§‘å­¦=çªç ´æ€§æˆæœğŸ§¬ğŸ§ª
*   è¿˜æœ‰æ›´å¤šï¼

å¦‚æœä½ æƒ³åœ¨ Julia åšæœºå™¨å­¦ä¹ ï¼Œæœ‰å‡ ä¸ªåœ°æ–¹ä½ åº”è¯¥çœ‹çœ‹:

*   Flux.jlï¼Œæ·±åº¦å­¦ä¹ ([ç”Ÿæ€ç³»ç»Ÿæ¦‚è¿°](https://fluxml.ai/ecosystem.html))
*   MLJ.jlï¼Œ[é€šç”¨æœºå™¨å­¦ä¹ ](https://github.com/alan-turing-institute/MLJ.jl)
*   Knet.jlï¼Œ[æ·±åº¦å­¦ä¹ ](https://github.com/denizyuret/Knet.jl)
*   JuliaMLï¼Œ [GitHub org](https://github.com/JuliaML) æ‰˜ç®¡é€šç”¨ ML åŒ…
*   JuliaAI ä¸»æŒ [MLJ ç”Ÿæ€ç³»ç»Ÿ](https://github.com/JuliaAI)çš„å›è´­
*   FastAI.jlï¼Œ[Julia æ·±åº¦å­¦ä¹ æœ€ä½³å®è·µåº“](https://github.com/FluxML/FastAI.jl)

æ€»çš„æ¥è¯´ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨ä½œä¸ºæ·±åº¦å­¦ä¹ æ¡†æ¶çš„ Flux.jlï¼Œä½†è¿™å¹¶ä¸æ˜¯è¯´ Knet å’Œ MLJ ä¸æ˜¯åˆ¶ä½œè‰¯å¥½æˆ–æœ‰ç”¨çš„è½¯ä»¶åŒ…ã€‚æˆ‘åªæ˜¯æ²¡æœ‰ä½¿ç”¨å®ƒä»¬çš„ç»éªŒï¼Œæ‰€ä»¥æˆ‘å°†æŠŠæˆ‘çš„å°è±¡ç•™åˆ°ä»¥åçš„æ–‡ç« ä¸­ã€‚

# ç”¨èŒ±è‰äºšä»£è¡¨æ›¼æ¢¯Â·é‡Œï¼Œå› ä¸ºï¼Œä½ å¯ä»¥ç”¨èŒ±è‰äºš

ä½œä¸ºä¸€ç§è¯­è¨€ï¼ŒJulia æ—¨åœ¨æé«˜å¼€å‘äººå‘˜çš„å·¥ä½œæ•ˆç‡ã€‚ä»[åŒ…ç®¡ç†å™¨](https://medium.com/@logankilpatrick/the-most-underrated-feature-of-the-julia-programming-language-the-package-manager-652065f45a3a)ï¼Œåˆ°è¿è¡Œä»£ç çš„é€Ÿåº¦ï¼Œæ‰€æœ‰è¿™äº›ç‰¹æ€§å¸¦æ¥äº†ä¸€ç§å¼€å‘è€…ä½“éªŒï¼Œè¿™ç§ä½“éªŒå¸¦æ¥äº†[å¤§æ‰¹æ–°çš„å¼€å‘è€…](https://juliacomputing.com/blog/2021/01/newsletter-january/)ã€‚

æˆ‘åœ¨æˆ‘çš„å¸–å­ä¸­æåˆ°äº†è¿™ä¸€ç‚¹:

[](https://medium.com/@logankilpatrick/why-you-should-invest-in-julia-now-as-a-data-scientist-30dc346d62e4) [## ä½œä¸ºä¸€åæ•°æ®ç§‘å­¦å®¶ï¼Œæ‚¨ç°åœ¨ä¸ºä»€ä¹ˆåº”è¯¥æŠ•èµ„ Julia

### Julia æ˜¯ä¸€ç§é«˜çº§çš„åŠ¨æ€ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒçš„é€Ÿåº¦å’Œ C æˆ– C++ä¸€æ ·å¿«ï¼ŒåŒæ—¶åˆåƒâ€¦â€¦

medium.com](https://medium.com/@logankilpatrick/why-you-should-invest-in-julia-now-as-a-data-scientist-30dc346d62e4) 

ä½†æ˜¯ç”±äº Julia å¤„ç†ç±»ä¼¼[å¤šç»´æ•°ç»„](https://docs.julialang.org/en/v1/manual/arrays/)çš„æ–¹å¼ï¼Œæ‚¨å¯ä»¥é¿å…ä½¿ç”¨ç±»ä¼¼ Numpy(æœ‰æ—¶ä¼šåœ¨ Tensorflow ä¸­çœ‹åˆ°)å’Œ Tensors(åœ¨ PyTorch ä¸­ä½¿ç”¨ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªé‡æ–°å‘½åçš„ Numpy æ•°ç»„)çš„åŒ…ã€‚

è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä½¿ç”¨ Julia çš„å¥½å¤„æ˜¯å‡å°‘äº†ç²¾ç¥è´Ÿæ‹…ã€‚å¯¹äº Pythonï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ°:

```
import tensorflow as tf
tf.ones([3, 4], tf.int32)<tf.Tensor: shape=(3, 4), dtype=int32, numpy=
array([[1, 1, 1, 1],
       [1, 1, 1, 1],
       [1, 1, 1, 1]], dtype=int32)>
```

ç„¶ååœ¨ Julia ä¸­æˆ‘ä»¬ä¼šåšè¿™æ ·çš„äº‹æƒ…:

```
julia> using Flux
julia> ones(Float32, 1, 2, 3)
1Ã—2Ã—3 Array{Float32, 3}:
[:, :, 1] =
 1.0  1.0[:, :, 2] =
 1.0  1.0[:, :, 3] =
 1.0  1.0
```

åœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªå¤„ç†åŸºæœ¬çš„æ•°ç»„ï¼Œè‡³å°‘åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä½¿å¾—ä»£ç æ›´ç›´è§‚ä¸€äº›ã€‚

åœ¨ä¸Šé¢çš„å¸–å­ä¸­æåˆ°çš„å¦ä¸€ç‚¹å€¼å¾—é‡å¤çš„æ˜¯ï¼Œä½ åœ¨æ•°æ®ç§‘å­¦/æœºå™¨å­¦ä¹ å·¥ä½œæµä¸­ä½¿ç”¨çš„å…¶ä»–åŒ…åœ¨ Julia ä¸­è¿è¡Œå¾—éå¸¸å¿«ã€‚åŠ è½½ CSV çš„é€Ÿåº¦æ¯” Python å’Œ DataFrames å¿« 10-20 å€ã€‚jl(ç±»ä¼¼äº Pandas)çš„é€Ÿåº¦å’Œæ€§èƒ½ä¹Ÿæ˜¯åŒç±»ä¸­æœ€å¥½çš„(ç‰¹åˆ«æ˜¯å¯¹äºä¸€ä¸ªç›¸å½“â€œå¹´è½»â€çš„åŒ…ï¼Œå®ƒåœ¨ 2021 å¹´æ‰å‘å¸ƒ 1.0 ç‰ˆæœ¬)ã€‚

å¦‚æœä½ è¿˜ä¸ç›¸ä¿¡æœ±è‰å¨…çš„åŠ›é‡ï¼Œå®ƒä¼šè®©ä½ æ›´æœ‰æ•ˆç‡ï¼Œå¿«é€Ÿæœç´¢â€œä¸ºä»€ä¹ˆæˆ‘åº”è¯¥è½¬å‘æœ±è‰å¨…â€ï¼Œä½ ä¼šå‘ç°è®¸å¤šå…¶ä»–(å¸Œæœ›ä»¤äººä¿¡æœ)çš„æ–‡å­¦ä½œå“ï¼Œæ¯”æˆ‘åœ¨è¿™é‡Œæƒ³çš„æ›´æ·±å…¥ã€‚

# ä¸ºä»€ä¹ˆæ˜¯ Fluxï¼ŸğŸ¤”

æˆ‘è¯•å›¾åœ¨è¿™æ®µ 1 åˆ†é’Ÿçš„è§†é¢‘ä¸­å›ç­”è¿™ä¸ªé—®é¢˜:

æˆ‘ä¹Ÿé¼“åŠ±ä½ æŸ¥çœ‹ [https://fluxml.ai](https://fluxml.ai) ä»¥è·å¾—æ›´é«˜å±‚æ¬¡çš„æ¦‚è¿°ã€‚

# ç®€å•ã€çµæ´»ä¸”å¯æ‰©å±•ğŸ’ª

> å¯æ‰©å±•ç³»ç»Ÿæ˜¯æŒ‡å…¶å†…éƒ¨ç»“æ„å’Œ[æ•°æ®æµ](https://en.wikipedia.org/wiki/Dataflow)å—æ–°çš„æˆ–ä¿®æ”¹çš„åŠŸèƒ½å½±å“æœ€å°æˆ–ä¸å—å½±å“çš„ç³»ç»Ÿâ€¦â€¦(é€šè¿‡ç»´åŸºç™¾ç§‘)

åœ¨ Flux çš„è®¾è®¡ä¸­ï¼Œçµæ´»æ€§å’Œå¯æ‰©å±•æ€§æ˜¯æœ€é‡è¦çš„ã€‚å¯¹äºåˆå­¦è€…æ¥è¯´ï¼ŒFlux å¯ä»¥ç”¨æ¥ç›´æ¥ç¼–å†™æ¨¡å‹ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨ä½œ FastAI.jl ç­‰è½¯ä»¶åŒ…çš„åç«¯ã€‚æ­¤å¤–ï¼ŒFlux è¯•å›¾ä¿æŒä¸€ä¸ªæœ€å°ä½†æœ‰ç”¨çš„ APIï¼Œä»¥ä¾¿å¼€å‘äººå‘˜å¯ä»¥è‡ªç”±åœ°ä½¿ç”¨æ‰€æä¾›çš„å†…å®¹ï¼Œæˆ–åœ¨å…¶ä¸Šæ„å»ºè‡ªå·±çš„è‡ªå®šä¹‰åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å¯ä»¥è‡ªåŠ¨é›†æˆåˆ° Flux ç”Ÿæ€ç³»ç»Ÿä¸­ã€‚

å¦‚æœä½ æ›¾ç»èŠ±äº†å¤§é‡çš„æ—¶é—´æ¢ç´¢è¿‡[https://www.tensorflow.org/api_docs/python/tf](https://www.tensorflow.org/api_docs/python/tf)ï¼Œä½ ä¼šåƒæˆ‘ä¸€æ ·å‘ç°æœ‰å¾ˆå¤šäº‹æƒ…æ­£åœ¨å‘ç”Ÿ(åªè¦çœ‹ä¸€çœ‹å·¦ä¾§çš„æ‰€æœ‰æ¨¡å—)ã€‚ç›¸åï¼ŒFlux ä¸“æ³¨äºä¿æŒ Flux æœ¬èº«çš„ä»£ç å’Œæ–‡æ¡£æ•°é‡æœ€å°‘ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡è¿™äº›æ–‡ä»¶ï¼Œé‚£å°±å¿«é€Ÿæµè§ˆä¸€ä¸‹:[https://fluxml.ai/Flux.jl/stable/](https://fluxml.ai/Flux.jl/stable/)

ä½¿ç”¨ Flux æ˜¯å¤šä¹ˆç®€å•çš„ä¸€ä¸ªä¾‹å­:

```
using Flux
model = Chain(Dense(10, 5, Ïƒ), Dense(5, 2), softmax)
```

è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç®€å•çš„æ¨¡å‹ï¼Œæœ‰ 3 å±‚:2 ä¸ªå¯†é›†å±‚(ä¸€ä¸ªä½¿ç”¨ sigmoid æ¿€æ´»å‡½æ•°)å’Œä¸€ä¸ª softmax å±‚ã€‚

åœ¨ Tensorflow ä¸­ï¼Œè¿™å°†çœ‹èµ·æ¥åƒ:

```
from keras.models import *                                                       
from keras.layers import *                                                       

model = Sequential([Dense(10, 'sigmoid'), Dense(5), Dense(2, 'softmax')])# Thanks to StanisÅ‚aw Pitucha for the updated Keras / TF code
```

åœ¨ Tensorflow çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†`Sequential()`æ¨¡å‹ï¼Œæˆ‘ä»¬å®é™…ä¸Šå¹¶æ²¡æœ‰æŒ‡å®šå±‚çš„è¾“å‡ºå¤§å°ã€‚æ¨¡å‹çš„é¡ºåºæ€§è´¨å°†ä¸€å±‚çš„è¾“å‡ºè®¾ç½®ä¸ºä¸‹ä¸€å±‚çš„è¾“å…¥ã€‚

è™½ç„¶åƒ PyTorch è¿™æ ·çš„åº“ç¡®å®ç»™å‡ºäº†å¦‚ä½•æ‰©å±•åº“çš„è¯´æ˜ï¼Œæ­£å¦‚æ–‡æ¡£ä¸­æåˆ°çš„:[https://pytorch.org/docs/stable/notes/extending.html](https://pytorch.org/docs/stable/notes/extending.html)æ¯”èµ· Flux æœ‰æ›´å¤šçš„é™åˆ¶ã€‚

# å®ƒ(å®é™…ä¸Š)æ˜¯å¼€æºçš„ğŸ‘

æˆ‘ä¸æƒ³åœ¨è¿™ä¸ªè¯é¢˜ä¸Šå–‹å–‹ä¸ä¼‘å¤ªä¹…ï¼Œä½†æ˜¯å½“å¤§å¤šæ•°è´¡çŒ®è€…éƒ½é›†ä¸­åœ¨ä¸€ä¸ªæœºæ„çš„æ—¶å€™ï¼Œé‚£äº›å£°ç§°â€œå¼€æ”¾â€çš„é¡¹ç›®æ€»æ˜¯è®©æˆ‘æ‹…å¿ƒã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨[è¯„ä¼°åŠ å…¥ NumFOCUS](https://numfocus.org/projects-overview)(Jupyterï¼ŒPandasï¼ŒNumpyï¼ŒJuliaï¼ŒFlux ç­‰èƒŒåçš„éè¥åˆ©ç»„ç»‡)çš„æ–°é¡¹ç›®æ—¶è¦çœ‹çš„ä¸œè¥¿ä¹‹ä¸€ã€‚å¯¹æˆ‘æ¥è¯´ï¼ŒFlux çš„ä¸€ä¸ªæ ¸å¿ƒç‰¹å¾æ˜¯å®ƒä¸æ˜¯ç”±è°·æ­Œ(Jax å’Œ Tensorflow)æˆ–è„¸ä¹¦(PyTorch)å¼€å‘çš„ã€‚è™½ç„¶æœ‰è¿™ç§æ”¯æŒè‚¯å®šæœ‰ä¸€å¤§å †å¥½å¤„(æ¯”å¦‚ä»˜ç»™å‘˜å·¥å¾ˆå¤šé’±ğŸ˜„)ï¼Œå¦‚æœæˆ‘æ˜¯ä¸€ä¸ªç”¨æˆ·ï¼Œæ­£åœ¨å†³å®šæˆ‘æƒ³å›´ç»•ä»€ä¹ˆæ¡†æ¶æ¥å»ºç«‹æˆ‘çš„å…¬å¸æˆ–é¡¹ç›®ï¼Œæˆ‘çš„åå¥½å°†æ˜¯ä¸€ä¸ªæˆ‘å¯ä»¥æˆä¸ºå®é™…åˆ©ç›Šç›¸å…³è€…çš„æ¡†æ¶ã€‚å°± Flux è€Œè¨€ï¼Œå¦‚æœä½ æƒ³å¼€å§‹åšå‡ºè´¡çŒ®å¹¶æˆä¸ºä¸€ååˆ©ç›Šç›¸å…³è€…ï¼Œæˆ‘ä»¬æ¬¢è¿ä½ çš„åŠ å…¥ã€‚ä½ å¯ä»¥åŠ å…¥å¹¶å¼€å§‹ä¸ºç”Ÿæ€ç³»ç»Ÿåšå‡ºè´¡çŒ®:ã€https://julialang.org/community/#eventsã€‘https://github . com/FluxML/flux . JL/blob/master/contributing . MD æˆ–è€…å‚åŠ ä¸¤å‘¨ä¸€æ¬¡çš„å¼€å‘äººå‘˜ç”µè¯ä¼šè®®:ã€‚æˆ‘å°†å†æ¬¡æŒ‡å‡ºï¼Œè¿™å¹¶ä¸æ„å‘³ç€å¯¹ Tensorflow æˆ– PyTorch ç¤¾åŒºçš„è½»è§†ï¼Œå› ä¸ºæˆ‘çŸ¥é“è®¸å¤šæœ‰ä»·å€¼çš„è´¡çŒ®æ¥è‡ªä¸»åŠæœºæ„ä¹‹å¤–ï¼Œä½†ä»é«˜å±‚æ¬¡æ¥è¯´ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªæƒ³æ³•å€¼å¾—è®°ä½ã€‚

# æ˜“äºä½¿ç”¨çš„å†…éƒ¨æ„ä»¶ğŸ³

å¦‚æœä½ æƒ³çŸ¥é“è¿™é‡Œçš„è¡¨æƒ…ç¬¦å·é€‰æ‹©ï¼Œé‚£æ˜¯å› ä¸ºç…®é¸¡è›‹å¾ˆå®¹æ˜“ï¼Œå‡ ä¹å’Œä½¿ç”¨ Flux çš„å†…éƒ¨ä¸€æ ·å®¹æ˜“ã€‚æ—¢ç„¶æˆ‘ä»¬å·²ç»è§£å†³äº†è¿™ä¸ªè°œï¼Œè®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶ä¸€ä¸‹ä¸ºä»€ä¹ˆ Flux çš„å†…éƒ¨å¦‚æ­¤æ˜“äºä½¿ç”¨ã€‚

å‰§é€ä¸€ä¸‹ï¼Œå°±æ˜¯å› ä¸ºä»–ä»¬æ˜¯ç”¨æœ±ä¸½äºšå†™çš„ã€‚å½“æˆ‘è¯´ç”¨æœ±è‰å¨…å†™çš„æ—¶å€™ï¼Œæˆ‘çš„æ„æ€æ˜¯ 100%ç”¨æœ±è‰å¨…å†™çš„ã€‚å¦‚æœä½ ä¸ç›¸ä¿¡æˆ‘ï¼Œå°±æ¥çœ‹çœ‹:[https://github.com/FluxML/Flux.jl](https://github.com/FluxML/Flux.jl)ã€‚

![](img/65fe548ffd73976fc9fef27d599bc62c.png)

å›¾ç‰‡ç”±ä½œè€…ä» Flux.jl GitHub è·å–

ä¸Šå›¾ä¸ Tensorflow å’Œ PyTorch å½¢æˆé²œæ˜å¯¹æ¯”:

![](img/e86051ef029914d54ae7f985931e1309.png)

å›¾ç‰‡ç”±ä½œè€…ä» Tensorflow GitHub è·å–

![](img/0bd85b87d431f006a11304feee47e2e2.png)

å›¾ç‰‡ç”±ä½œè€…ä» PyTorch GitHub è·å–

ä½ çš„çœ¼ç›æ²¡æœ‰æ¬ºéª—ä½ ï¼ŒPyTorch å’Œ Tensorflowï¼Œå¦‚æœä½ ä¸çŸ¥é“çš„è¯ï¼Œéƒ½ä¸»è¦æ˜¯ç”¨ C++ç¼–å†™çš„ï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›äº† Python åŒ…è£…ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœä½ æƒ³ä¸€çª¥ç©¶ç«Ÿï¼Œä½ ä¸ä»…è¦ç†Ÿæ‚‰ C++å’Œ Pythonï¼Œè¿˜è¦ç†Ÿæ‚‰å®ƒä»¬çš„äº¤äº’æ–¹å¼ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œæˆ‘ä»ç„¶å®³æ€•åœ¨å¤§å­¦ç¬¬ä¸€å¹´ä½¿ç”¨æŒ‡é’ˆï¼Œæ‰€ä»¥å¦‚æœæˆ‘èƒ½é¿å… C++ï¼Œæˆ‘ä¼šè¿™æ ·åšã€‚å¦‚æœæˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­çš„ä¸€äº›å†…éƒ¨çš„é€šé‡ï¼Œå¦‚å‰æ‰€è¿°ï¼Œè¿™æ˜¯æœ±è‰å¨…ï¼Œåªæ˜¯æ™®é€šçš„è€æœ±è‰å¨…:

```
function onehot(x, labels, default)
  i = something(findfirst(isequal(x), labels), 0)
  i > 0 || return onehot(default, labels)
  OneHotVector{UInt32, length(labels)}(i)
end
```

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯[çš„ä¸€ä¸ªå®šä¹‰ï¼Œä¸€ä¸ªä¸æ–­å˜åŒ–çš„çƒ­ç‚¹ç¼–ç ](https://github.com/FluxML/Flux.jl/blob/master/src/onehot.jl)ã€‚æˆ‘æ²¡æœ‰çœ‹åˆ°ä»»ä½•æŒ‡ç¤ºï¼Œè¿™æ˜¯ä¸€ç§è§£è„±ã€‚æˆ‘å°†é¿å…åœ¨è¿™é‡Œå±•ç¤ºä»»ä½• C++ä»£ç ï¼Œå› ä¸ºæˆ‘ä¸æƒ³å“è·‘ä½ ï¼Œä½†æ˜¯å¦‚æœä½ å¤Ÿå¤§èƒ†ï¼Œå»çœ‹çœ‹ä¸€äº›å†…éƒ¨çš„ä¸œè¥¿ã€‚

æ˜“äºä½¿ç”¨çš„å†…éƒ¨ä»£ç å’Œ 100% Julia ä»£ç çš„å‰¯ä½œç”¨ä¹‹ä¸€æ˜¯ï¼Œè½¯ä»¶åŒ…çš„ç”¨æˆ·å¯ä»¥å¾ˆå¿«æˆä¸ºå¼€å‘è€…å’Œå…³é”®è´¡çŒ®è€…ã€‚åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œï¼Œå½“æˆ‘ä½¿ç”¨ Flux æ—¶ï¼Œæˆ‘äº²çœ¼ç›®ç¹äº†è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚è™½ç„¶åšå‡ºè´¡çŒ®ä»ç„¶å¾ˆå›°éš¾ï¼Œä½†æ¯«æ— ç–‘é—®ï¼Œè¿™æ¯”ä½¿ç”¨å…¶ä»–æ¡†æ¶è¦å®¹æ˜“å¾—å¤šã€‚

ä¸€ä¸ªåŸºæœ¬çš„ä¾‹å­æ˜¯:[https://github.com/FluxML/Flux.jl/pull/1801](https://github.com/FluxML/Flux.jl/pull/1801)ï¼Œæˆ‘å‘ç°åœ¨ä¸€äº›ä»£ç ä¸Šè°ƒç”¨`gpu`å‡½æ•°å¹¶æ²¡æœ‰æä¾›ä»»ä½•è­¦å‘Šæˆ–æŒ‡ç¤ºä»£ç å®é™…ä¸Šæ²¡æœ‰åœ¨ GPU ä¸Šè¿è¡Œï¼Œè¿™å¾ˆå¥‡æ€ªã€‚

# ML +ç§‘å­¦=çªç ´æ€§æˆæœğŸ§¬ğŸ§ª

Flux æ“…é•¿çš„ä¸€ä¸ªé¢†åŸŸæ˜¯å°†å®ƒå’Œå…¶ä»–è½¯ä»¶åŒ…ç»“åˆèµ·æ¥ï¼Œåˆ›é€ å‡ºæœ€å…ˆè¿›çš„ç»“æœã€‚è¿™æ–¹é¢çš„ä¸€ä¸ªä¾‹å­æ˜¯[https://github.com/SciML/DiffEqFlux.jl](https://github.com/SciML/DiffEqFlux.jl)ï¼Œå®ƒæä¾›:

> å…·æœ‰ O(1)åå‘æŠ•å½±ã€GPU å’Œåˆšæ€§+éåˆšæ€§ DE è§£ç®—å™¨çš„é€šç”¨ç¥ç»å¾®åˆ†æ–¹ç¨‹ï¼Œå±•ç¤ºäº†ç§‘å­¦æœºå™¨å­¦ä¹ (SciML)å’Œç‰©ç†å­¦ä¿¡æ¯æœºå™¨å­¦ä¹ æ–¹æ³•

ç°åœ¨ï¼Œé™¤éä½ æ˜¯å…‹é‡Œæ–¯Â·æ‹‰è€ƒå¡æ–¯ï¼Œå¦åˆ™ä½ å¯èƒ½ä¼šé—®è‡ªå·±è¿™åˆ°åº•æ„å‘³ç€ä»€ä¹ˆã€‚ä½ å¹¶ä¸å­¤å•ï¼Œæœ‹å‹ã€‚å½“æˆ‘ç¬¬ä¸€æ¬¡è¯»åˆ°è¿™æœ¬ä¹¦æ—¶ï¼Œæˆ‘çš„å¤§è„‘å‡ ä¹æ°¸è¿œå…³é—­äº†ã€‚åœ¨é«˜å±‚æ¬¡ä¸Šï¼Œå¸¸å¾®åˆ†æ–¹ç¨‹ç”¨äºæ¨¡æ‹Ÿè‡ªç„¶è¿‡ç¨‹ï¼Œå¦‚äººå£å¢é•¿å’Œè¡°é€€ï¼Œèº«ä½“å¯¹è‘¡è„ç³–çš„å¸æ”¶ï¼Œç”šè‡³æµè¡Œç—…çš„ä¼ æ’­ã€‚ç¥ç» ODE å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ›´å¥å£®çš„ç³»ç»Ÿï¼Œå®ƒä¸ä¾èµ–äºæ¨¡å‹ä¸­å›ºå®šæ•°é‡çš„é¢„è®¾å±‚ã€‚è™½ç„¶è¿™å¯èƒ½å¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œä½†åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œç»“æœæ˜¯é€Ÿåº¦æé«˜ã€‚ä½ å¯ä»¥é˜…è¯»è¿™ç¯‡è®ºæ–‡çš„è¯¦ç»†å†…å®¹:[https://arxiv.org/abs/1806.07366](https://arxiv.org/abs/1806.07366)æˆ–è€…è¿™ç¯‡ä¸­ç¯‡æ–‡ç« :[https://towardsdatascience . com/differential-equations-as-a-neural-network-layer-AC 3092632255](/differential-equations-as-a-neural-network-layer-ac3092632255)

DiffEqFlux.jl æä¾›ä»¥ä¸‹åŠŸèƒ½:

> -å¯ä»¥å®šä¹‰ç¥ç»ç½‘ç»œï¼Œå…¶ä¸­â€œæ¿€æ´»â€æ˜¯ç”±å¾®åˆ†æ–¹ç¨‹æè¿°çš„éçº¿æ€§å‡½æ•°
> 
> -å¯ä»¥å®šä¹‰ç¥ç»ç½‘ç»œï¼Œå…¶ä¸­ä¸€äº›å±‚æ˜¯ ODE æ±‚è§£çš„
> 
> -å¯ä»¥å®šä¹‰ ODEsï¼Œå…¶ä¸­ä¸€äº›æœ¯è¯­æ˜¯ç¥ç»ç½‘ç»œ
> 
> -å¸¸å¾®åˆ†æ–¹ç¨‹ä¸Šçš„æˆæœ¬å‡½æ•°å¯ä»¥å®šä¹‰ç¥ç»ç½‘ç»œ

å¦ä¸€ä¸ªå¾ˆå¥½çš„å‚è€ƒèµ„æ–™æ˜¯å‘å¸ƒåšå®¢:[https://julialang.org/blog/2019/01/fluxdiffeq/](https://julialang.org/blog/2019/01/fluxdiffeq/)

æˆ‘å°†è¯šå®åœ°è¯´ï¼Œæˆ‘è¿˜æ²¡æœ‰ç”¨ DiffEqFlux å¼„è„æˆ‘çš„æ‰‹ã€‚è¿™æ˜¯æˆ‘çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ä¸­çš„ä¸€ä»¶äº‹ï¼Œå¯¹æˆ‘æ¥è¯´æœ€é‡è¦çš„æ˜¯ï¼ŒFlux æ­£åœ¨æ¨åŠ¨è¿™ç§åˆ›æ–°ï¼Œæˆ‘è§‰å¾—è¿™å¾ˆæœ‰è¶£ã€‚

æˆ‘å»ºè®®ä½ å»çœ‹çœ‹å…‹é‡Œæ–¯å°±è¿™ä¸ªè¯é¢˜åšè¿‡çš„å¾ˆå¤šç²¾å½©æ¼”è®²ä¸­çš„ä¸€ä¸ª:

æˆ‘è¿˜å»ºè®®æŸ¥çœ‹:

åœ¨é‚£é‡Œ[è¾¾é‡ŒäºšÂ·ç”˜åœ°](https://github.com/DhairyaLGandhi)ç»è¿‡äº†è®¸å¤šåœ¨ç§‘å­¦ç•Œ/ç”Ÿæ€ç³»ç»Ÿä¸­ä½¿ç”¨ Flux çš„åœ°æ–¹ã€‚

# åˆ†å¸ƒå¼å’Œè¶…çº§è®¡ç®—ğŸ”€

æ­£åœ¨ç§¯æå¼€å‘çš„æ˜¯ [DaggerFlux.jl](https://github.com/FluxML/DaggerFlux.jl) ï¼Œå®ƒå°†æä¾›æ¨¡å‹å¹¶è¡Œæ€§(åœ¨ä¸åŒè®¾å¤‡/èŠ‚ç‚¹ä¸Šå¹¶è¡Œè®­ç»ƒæ¨¡å‹çš„èƒ½åŠ›)ï¼Œè¿™å¯¹äºç¡®ä¿ Flux åœ¨ ML å†›å¤‡ç«èµ›ä¸­ä¿æŒç«äº‰åŠ›è‡³å…³é‡è¦ã€‚

ä¹Ÿæœ‰å¾ˆå¤šç§¯æçš„å·¥ä½œï¼Œè®©æœ±è‰å¨…è®¾ç½®å·¥ä½œåœ¨ TPU çš„(è°·æ­Œå®šåˆ¶ ML ç¡¬ä»¶):[https://github.com/JuliaTPU/XLA.jl](https://github.com/JuliaTPU/XLA.jl)è™½ç„¶è¯¥é¡¹ç›®ç›®å‰ä¼¼ä¹å¤„äºåœæ»çŠ¶æ€ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå®ƒä»ç„¶æ˜¯ä¸€ä¸ªå¯ä»¥ä½¿ç”¨æœ±è‰å¨…çš„é¢†åŸŸã€‚

# åŸºå‡†é€šé‡å’Œå¼ é‡æµğŸª‘

åªæ˜¯ä½œä¸ºä¸€ä¸ªç®€å•çš„æ¯”è¾ƒç‚¹ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åšä¸€ä¸ªé€šé‡ vs å¼ é‡æµçš„åŸºæœ¬æ¢¯åº¦éœ€è¦å¤šé•¿æ—¶é—´ã€‚åœ¨ Flux ä¸­ï¼Œæˆ‘ä»¬å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œ:

```
**julia>** using Flux**julia>** f(x) = 3x^2 + 2x + 1; # define our function**julia>** @time df(x) = gradient(f, x)[1]; 0.006222 seconds (995 allocations: 73.773 KiB, 44.35% compilation time) # longer time on the first run, Julia is compiled**julia>** @time df(x) = gradient(f, x)[1];0.000241 seconds (20 allocations: 1.234 KiB)**julia>** @time df(2)0.000001 seconds14.0**julia>** @time df(2)0.000000 seconds14.0
```

ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ Tensorflow [ä¸­ä½¿ç”¨æ¢¯åº¦èƒ¶å¸¦](https://www.tensorflow.org/guide/autodiff)çš„ä¸€ä¸ªä¾‹å­:

```
import tensorflow as tf
import timestart = time.time()
x = tf.Variable(3.0)with tf.GradientTape() as tape:
  y = x**2# dy = 2x * dx
dy_dx = tape.gradient(y, x)
dy_dx.numpy()
end = time.time() - start
print(end) # 0.002371072769165039
```

æˆ‘è¦æŒ‡å‡ºçš„æ˜¯ï¼Œæˆ‘å¿…é¡»åœ¨ Google Colab ä¸Šè¿è¡Œ Python ç¤ºä¾‹ï¼Œå› ä¸ºæˆ‘çš„ Tensorflow å®‰è£…åœ¨æœ¬æ•™ç¨‹ä¸­é€”ä¸­æ–­ï¼Œå¹¶ä¸”æˆ‘åœ¨ M1 ä¸Šå®‰è£…å®ƒçš„æ­£å¸¸æ“ä½œå¯¼è‡´æ•´ä¸ªç»ˆç«¯ç¼“å†²åŒºå……æ»¡çº¢è‰²æ–‡æœ¬å’Œé”™è¯¯ã€‚æåˆ° Julia åœ¨ M1 mac å’Œè®¸å¤šå…¶ä»–å¹³å°ä¸Šè¿è¡Œçš„æœ€ä½³æ—¶æœº:[https://julialang.org/downloads/#current_stable_release](https://julialang.org/downloads/#current_stable_release)

å†æ¬¡åœ¨é«˜å±‚æ¬¡ä¸Šï¼Œæœ¬æ•™ç¨‹ä¼¼ä¹æ˜¯ç›¸å…³çš„ï¼Œå› ä¸ºåœ¨å¼•æ“ç›–ä¸‹ï¼Œæœºå™¨å­¦ä¹ åªæ˜¯é‡‡å–æ¢¯åº¦ã€‚

# Flux éœ€è¦æ”¹è¿›çš„åœ°æ–¹(ä»¥åŠå¦‚ä½•æä¾›å¸®åŠ©)ğŸ†˜

Flux è½åäºå…¶ä»– ML åº“çš„æœ€å¤§é¢†åŸŸä¹‹ä¸€æ˜¯ç¤¾åŒºä¹¦é¢å†…å®¹ã€‚å¦‚æœæˆ‘æƒ³åœ¨ TF æˆ– PyTorch ä¸­åšä¸€äº›äº‹æƒ…ï¼Œé€šå¸¸åªéœ€è¦ä¸€æ¬¡æœç´¢ã€‚è¿™æ˜¯æˆ‘ä»¬åœ¨ Flux ç¤¾åŒºä¸­æ­£åœ¨åŠªåŠ›çš„äº‹æƒ…ã€‚å¦‚æœä½ æœ‰å…´è¶£ä¸ºè¿™éƒ¨å€¼å¾—æ³¨æ„çš„å½±å“åŠ›æé«˜çš„ä½œå“åšå‡ºè´¡çŒ®ï¼Œè¯·æŸ¥çœ‹:[https://github.com/FluxML/fluxml.github.io/issues/107](https://github.com/FluxML/fluxml.github.io/issues/107)

å¦‚æœä½ æƒ³å‚ä¸ç¼–å†™æ•™ç¨‹ä»¥å¤–çš„å†…å®¹ï¼Œè¿™é‡Œçš„æŠ•ç¨¿æŒ‡å—:[https://github . com/flux ml/flux . JL/blob/master/contributing . MD](https://github.com/FluxML/Flux.jl/blob/master/CONTRIBUTING.md)æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚

# æ¯”è¾ƒ:è¿ç§»å­¦ä¹ ğŸ§ 

è¿ç§»å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ ä¸­æœ€é…·çš„äº‹æƒ…ä¹‹ä¸€ã€‚æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸ºç‰¹å®šç”¨ä¾‹æ„å»ºçš„æ¨¡å‹ï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡Œå¾®è°ƒä»¥é€‚åº”æ–°çš„ç”¨ä¾‹ã€‚æˆ‘ä»¬æ¥å¯¹æ¯”ä¸€ä¸‹ Tensorflow å’Œ Julia çš„è¿ç§»å­¦ä¹ çš„ä»£ç ã€‚ä½ å¯ä»¥åœ¨ GitHub ä¸Šæ‰¾åˆ° Julia ä»£ç :

[](https://github.com/logankilpatrick/DeepLearningWithJulia) [## GitHub-logankilpatrick/Deep Learning with Julia:ä¸ Julia æ·±åº¦å­¦ä¹ ä¸€ä¹¦ï¼Œä½¿ç”¨ Flux.jlã€‚

### DL with Julia æ˜¯ä¸€æœ¬å…³äºå¦‚ä½•ä½¿ç”¨ Julia ç¼–ç¨‹è¯­è¨€å®Œæˆå„ç§æ·±åº¦å­¦ä¹ ä»»åŠ¡çš„ä¹¦

github.com](https://github.com/logankilpatrick/DeepLearningWithJulia) 

åœ¨:[https://github . com/logankilpatrick/DeepLearningWithJulia/blob/main/src/transfer _ learning . ipynb](https://github.com/logankilpatrick/DeepLearningWithJulia/blob/main/src/transfer_learning.ipynb)ä¸‹é¢è¿˜æœ‰ä¸€ä¸ª Tensorflow çš„ä¾‹å­:[https://www . tensor flow . org/tutorials/images/transfer _ learning](https://www.tensorflow.org/tutorials/images/transfer_learning)

å€¼å¾—ä¸€æçš„æœ€å¤§åŒºåˆ«ä¹‹ä¸€æ˜¯æ¯ä¸ªæ¡†æ¶ä¸­å¤„ç†æ•°æ®(å°¤å…¶æ˜¯å›¾åƒ)çš„æ–¹å¼ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå®é™…çš„æœºå™¨å­¦ä¹ å¾ˆå®¹æ˜“ï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹ç›¸å½“çç¢ã€‚ä»ç¼–ç¨‹çš„è§’åº¦æ¥è¯´ï¼ŒæŒ‘æˆ˜åœ¨äºå°†æ•°æ®è½¬æ¢æˆå¯ä»¥è¾“å…¥åˆ°æœºå™¨å­¦ä¹ æ¨¡å‹çš„å½¢å¼(å¹¶è¿›è¡Œæ¸…ç†)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹å¼ é‡æµ:

```
train_dataset = tf.keras.utils.image_dataset_from_directory(train_dir, shuffle=True, batch_size=BATCH_SIZE, image_size=IMG_SIZE)
```

å¯¹æˆ‘æ¥è¯´ï¼Œåƒè¿™æ ·çš„å‡½æ•°ä½¿å¾—ä½¿ç”¨ Tensorflow è¿™æ ·çš„æ¡†æ¶å˜å¾—å¦‚æ­¤å®¹æ˜“ã€‚PyTorch ä¹Ÿæœ‰è®¸å¤šç±»ä¼¼çš„å‡½æ•°ï¼Œä½¿å¾—å¤„ç†æ•°æ®å˜å¾—ç®€å•ã€‚æˆ‘è®¤ä¸º Flux å¯ä»¥ä»åŠ è½½ ML ä¸­çš„å›¾åƒå’Œå…¶ä»–å¸¸è§æ•°æ®å½¢å¼çš„ç»Ÿä¸€æ¥å£ä¸­å—ç›ŠåŒªæµ…ã€‚

å¦‚æœæˆ‘ä»¬çœ‹ä¸€ä¸‹ Julia çš„ä¾‹å­ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯ä»é›¶å¼€å§‹ç¼–å†™åŠ è½½ä»£ç ï¼Œæˆ‘å·²ç»è®°å½•ä¸‹æ¥äº†ã€‚åŒæ ·ï¼Œè¿™å®é™…ä¸Šæ¯”è¿ç§»å­¦ä¹ ç¤ºä¾‹ä¸­ä½¿ç”¨çš„å¤§å¤šæ•°å…¶ä»–ä»£ç æ›´éš¾ã€‚

```
const DOGS = filter(x -> occursin("dog", x), FILES)
const CATS = filter(x -> occursin("cat", x), FILES)function load_batch(batchsize = 10, imagesize = (224,224); path = PATH)
    if ((batchsize % 2) != 0)
      print("Batch size must be an even number")
    end imgs_paths = shuffle(vcat(sample(DOGS, Int(batchsize/2)), sample(CATS, Int(batchsize/2))))

    labels = map(x -> occursin("dog.", x) ? 1 : 2, imgs_paths)
    labels = Flux.onehotbatch(labels, [1, 2]) imgs = Images.load.(imgs_paths)
    imgs = map(img -> Images.imresize(img, imagesize...), imgs) imgs = map(img -> permutedims(channelview(img), (3, 2, 1)), imgs)
    imgs = cat(imgs..., dims = 4) Float32.(imgs), labels
end
```

æˆ‘ä»¬çœ‹åˆ°çš„ä»£ç ä¸­çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯å›¾åƒæ”¾å¤§:

```
data_augmentation = tf.keras.Sequential([
  tf.keras.layers.RandomFlip('horizontal'),
  tf.keras.layers.RandomRotation(0.2),
])
```

è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° TF ä»£ç åšéšæœºç¿»è½¬å’Œæ—‹è½¬ã€‚åœ¨èŒ±è‰äºšçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨:[https://github.com/Evizero/Augmentor.jl](https://github.com/Evizero/Augmentor.jl)

```
julia> pl = FlipX(0.5) |>
            Rotate(0:20) |>julia> img_new = augment(img, pl) # here we apply the augmentation
```

å†æ¬¡ï¼Œä»å¯ç”¨æ€§çš„è§’åº¦æ¥çœ‹ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå°†å›¾åƒå¢å¼ºä½œä¸ºæ ¸å¿ƒåŒ…çš„ä¸€éƒ¨åˆ†æ˜¯æœ‰å¥½å¤„çš„ï¼Œä½†æ˜¯å°†å®ƒæå–å‡ºæ¥ä»¥ä¿æŒæœ€å°åŒ–çš„æƒ³æ³•æ˜¯å¯ä»¥ç†è§£çš„ã€‚

æœ€åï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ Julia ä¸­çš„æ¨¡å‹å®šä¹‰æœ¬èº«:

```
model = Chain(
  resnet[1:end-2],
  Dense(2048, 1000, Ïƒ),  
  Dense(1000, 256, Ïƒ),
  Dense(256, 2),
  softmax        
);
```

è¿™é‡Œï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸€ä¸ªé¢„è®­ç»ƒçš„ Resnetï¼Œå¹¶æŠ“å–å®ƒçš„æ‰€æœ‰å±‚ï¼Œé™¤äº†æœ€åä¸¤å±‚ï¼Œæˆ‘ä»¬å°†ç”¨æˆ‘ä»¬æ–°çš„å¾®è°ƒå±‚æ¥æ›¿æ¢ã€‚åœ¨ Tensorflow ä¸­ï¼Œæˆ‘ä»¬ä¼šåšä¸€äº›äº‹æƒ…ï¼Œæ•ˆæœå¦‚ä¸‹:

```
base_model = tf.keras.applications.MobileNetV2(input_shape=IMG_SHAPE,
                                               include_top=False,
                                               weights='imagenet')
inputs = tf.keras.Input(shape=(160, 160, 3))
x = data_augmentation(inputs)
x = preprocess_input(x)
x = base_model(x, training=False)
x = global_average_layer(x)
x = tf.keras.layers.Dropout(0.2)(x)
outputs = prediction_layer(x)
model = tf.keras.Model(inputs, outputs)
```

è¿™æ˜¯åœ¨ TF ä¸­åˆ›å»ºæ¨¡å‹çš„æ–¹æ³•ä¹‹ä¸€(Flux ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•),å…¶ä¸­å®šä¹‰è¾“å…¥å’Œè¾“å‡ºï¼Œè€Œä¸æ˜¯æ¨¡å‹å±‚ï¼Œä½†æˆ‘æ›´å–œæ¬¢ä½¿ç”¨æˆ‘ä»¬çœ‹åˆ°çš„ Julia `chain`å‡½æ•°çš„æ ¼å¼æ¥åˆ›å»ºæ¨¡å‹ã€‚

# å°† Tensorflow æˆ– PyTorch é›†æˆåˆ° Julia ä¸­ğŸ¤¯

è™½ç„¶ [Tensorflow.jl ä¸å†è¢«ç§¯æå¼€å‘](https://github.com/malmaud/TensorFlow.jl)ï¼Œä½†ä½ ä»ç„¶å¯ä»¥åœ¨ Julia ä¸­ä½¿ç”¨ Tensorflow(ä»¥åŠä»»ä½•ç›¸å…³çš„ python ä»£ç )ã€‚Torch.jl ä¹Ÿè¢«ç§¯æç»´æŠ¤:[https://github.com/FluxML/Torch.jl](https://github.com/FluxML/Torch.jl)å®ƒæä¾›äº† PyTorch çš„ C++ä»£ç åœ¨ Julia ä¸­çš„åŒ…è£…ã€‚

å¦‚æœæ‚¨æœ‰å…´è¶£é˜…è¯»æ›´å¤šå…³äºå°† Python å’Œ Julia é›†æˆåœ¨ä¸€èµ·çš„å†…å®¹ï¼Œè¯·æŸ¥çœ‹:

[](/working-with-flux-jl-models-on-the-hugging-face-hub-b95af2b80a47) [## åœ¨æ‹¥æŠ±é¢ä¸­æ¢ä¸Šä½¿ç”¨ Flux.jl æ¨¡å‹ğŸ¤—

### å¦‚ä½•ä½¿ç”¨ Julia æ·±åº¦å­¦ä¹ åº“ä¸æ‹¥æŠ±è„¸æ¨¡å‹è¿›è¡Œäº¤äº’

towardsdatascience.com](/working-with-flux-jl-models-on-the-hugging-face-hub-b95af2b80a47) 

# æ€»ç»“æƒ³æ³•ğŸ¬

æˆ‘è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡æ˜¯è¯´æœé‚£äº›ä¸ç¡®å®šæ˜¯å¦ä½¿ç”¨ Julia è¿›è¡Œæœºå™¨å­¦ä¹ çš„äººï¼Œè®©ä»–ä»¬ç›¸ä¿¡å°è¯•ä¸€ä¸‹æ˜¯å€¼å¾—çš„ã€‚æˆ‘è¿˜å¸Œæœ›æˆ‘æåˆ°çš„ Flux ç”Ÿæ€ç³»ç»Ÿéœ€è¦è¿›ä¸€æ­¥å‘å±•çš„é¢†åŸŸè®¾å®šäº†æ­£ç¡®çš„é¢„æœŸï¼Œå³äº‹æƒ…å¹¶ä¸å®Œç¾ï¼Œä½†å®ƒä»¬è‚¯å®šæ˜¯åœ¨ä½ å¯ä»¥è¿›è¡Œä¸¥è‚ƒç§‘å­¦å’Œ ML çš„ç‚¹ä¸Šã€‚

å¦‚æœä½ å¯¹è¿™ç¯‡æ–‡ç« æœ‰ä»€ä¹ˆæ„è§ï¼Œè¯·è”ç³»æˆ‘:[https://twitter.com/OfficialLoganK](https://twitter.com/OfficialLoganK)æˆ–è€…å¦‚æœä½ æƒ³åœ¨ Flux ä¸Šæœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘ä»¬éå¸¸æ¬¢è¿ä½ ï¼