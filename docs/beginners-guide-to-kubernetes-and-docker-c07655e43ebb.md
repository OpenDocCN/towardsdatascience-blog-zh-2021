# Kubernetes 和 Docker 初学者指南

> 原文：<https://towardsdatascience.com/beginners-guide-to-kubernetes-and-docker-c07655e43ebb?source=collection_archive---------29----------------------->

## 你需要知道的关于 Kubernetes 及其应用的一切

![](img/6bd14b5208cce7f53ffbe522f1f6b92d.png)

照片由 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的 [Ihor Dvoretskyi](https://unsplash.com/@ihor_dvoretskyi?utm_source=medium&utm_medium=referral) 拍摄

Kubernetes 是一个容器编排系统。这意味着应用程序可以在不同的容器之间拆分，从而运行得更快更有效。它是一个开源项目，于 2014 年首次发布。Kubernetes 非常强大，可以管理分布在数千台计算机上的系统。

# 为什么 Kubernetes 也叫 k8s？

顺便说一下，希腊语 Kubernetes 的意思是舵手，这正是程序所做的，它控制。在本文中，我们将主要使用 Kubernetes k8s 的缩写。这是因为 Kubernetes 这个词以 k 开头，以 s 结尾，中间有 8 个字母。

# 什么是容器，我们为什么需要它们？

[大数据](https://databasecamp.de/en/data/big-data-basics)或[机器学习](https://databasecamp.de/en/machine-learning)的一个定义特征是，在许多情况下，一台计算机不足以处理大量的计算负载。因此，有必要使用多台可以分担工作的计算机。此外，群集还可以弥补单个计算机的故障，从而确保应用程序可以连续访问。我们将这种计算机排列称为并行计算的计算集群或分布式系统。

现在我们知道什么是集群，但是我们还不知道容器是什么。

容器来自 [**Docker**](https://databasecamp.de/en/data/docker-basics) 软件环境。现在，只是这样:我们实际上可以认为 Docker 容器是相对实用的，就像一个运输容器。让我们假设三个人在这个容器中从事某项任务(我知道这很可能违反了每一个适用的职业健康和安全法，但它非常符合我们的例子)。

在这个容器中，他们找到了完成任务所需的所有资源和机器。他们通过容器中的某个舱口接收所需的原材料，并通过另一个舱口释放成品。因此，我们的集装箱可以相对不受干扰地运行，并在很大程度上自给自足。里面的人不会注意到包括集装箱在内的船现在是在巴西的汉堡港，还是在平静的海面上。只要有源源不断的原料供应，不管他们在哪里，他们都会执行任务。

软件环境中的 Docker 容器也是如此。它们是精确定义的、独立的应用程序，可以在不同的机器上运行。只要它们持续接收规定的输入，它们也可以持续工作。

# 我们要 Kubernetes 做什么？

到目前为止，我们已经讨论过:我们使用计算集群在多台计算机上可靠、高效地运行计算密集型项目，如机器学习模型。反过来，在容器中，我们编写子任务，这些子任务可以是独立的，并且总是以相同的方式运行，不管它们是在计算机 1 上运行还是在计算机 2 上运行。这听起来足够了，不是吗？

分布式系统提供了优于单个计算机的优势，但也带来了额外的挑战，例如，在集群内的计算机之间共享数据或通信。Kubernetes 接管将容器分发到集群的工作，并确保程序顺利运行。这使我们能够专注于实际问题，即我们的特定用例。

# Kubernetes 集群是如何构建的？

Kubernetes 通常安装在一组计算机上。该集群中的每台计算机被称为一个**节点**。反过来，几个所谓的**吊舱**在一台计算机或节点上运行。最后，带有较小应用程序的容器在 pod 上运行，并且可以在本地系统中通信。

为了让 pod 和其中的容器运行起来不复杂，Kubernetes 集群中有一些辅助功能和组件来确保所有系统都在运行。

*   **控制面板**:这是监控整个集群的电脑。它不为应用程序运行任何 pod。取而代之的是，单独的 pod 被分配了在其上运行的容器。
*   Sched :调度器在集群中留意新创建的 pod，并将它们分配给现有的节点。
*   **ETCD** :集群中积累的需要保存的所有信息的存储库，例如配置元数据。
*   **云控制器管理器(CCM)** :当系统的一部分运行在云资源上时，这个组件开始发挥作用，处理与云的通信和协调。
*   **控制器管理器(CM)**:Kubernetes 集群中最重要的组件监控集群，寻找故障节点，然后重新分配容器和 pod。
*   **API** :该接口实现节点与控制平面之间的通信。

节点的设计比控制面板更薄，除了 pod 之外，还包含两个用于监控的基本组件:

*   **Kubelet** :它是一个节点内的控制平面，保证所有吊舱正常运行。
*   **Kube proxy (k-proxy)** :该组件通过在节点内部创建网络，将传入的节点流量分发到 pods。

# 用 k8s 有什么好处？

计算机集群的原理是计算机科学的一个真正突破，因为它允许管理密集的计算任务，并且由于可伸缩性，还可以以比强大的机器相对更低的成本提供。然而，直到 k8s 的引入，管理这样的集群是非常昂贵的，并且实际上是不可管理的。这也是 Kubernetes 现在成为真正的行业标准的原因之一。

其他优势包括:

*   **自动扩展**:根据需求，(云)资源可以增加或减少。这样可以节省成本，因为这样可以避免基础架构被设置为处理高峰，而在其他时间保持闲置状态。比如某票务平台，可以在知名艺人卖演唱会门票的时候，响应抢购。但是，由于这些版本是例外，因此他们可以缩减其基础架构。
*   **负载平衡**:控制器管理器可以将单个计算机的负载转移到其他机器上。这可以防止系统故障并减少组件的负载。
*   **开发者友好性**:对于应用开发者来说，Kubernetes 提供的优势是它已经可以集成到许多工具中，程序员可以完全专注于实际任务。
*   **本地和云的兼容性** : Kubernetes 也用于构建混合基础设施，部分运行在云中，部分运行在本地服务器上。通过 Kubernetes，这些组件之间的通信和协作变得很容易。
    清晰:K8s 为整个集群提供了一个清晰的仪表板，提供了一个初步的概览，并使问题区域很快显现出来。

# Kubernetes 支持哪些应用程序？

*   **网站**:网站上的负载并不总是一样的。高峰时段网站上的用户比晚上多。在 Kubernetes 的帮助下，可以有针对性地控制负载。
*   **微服务架构**:如今许多应用都采用所谓的微服务架构。这意味着复杂的应用程序，如一个网站，被分成小的，可管理的微服务。这样，它们就比“困”在一个单一的大型应用程序中更容易改进或更新。在这样的安排中，微服务可以部署在单独的容器中，这些容器又由 Kubernetes 进行编排。
*   **软件即服务——产品**:在这个领域，一家公司提供客户使用的特定软件。因为客户代表一系列应用程序场景，所以集群上的负载必须相应地分布和平衡。

今天，Kubernetes 被用在任何有分布式系统的地方。此外，在投入使用之前的不同阶段工作时，它简化了开发工作。Kubernetes 的应用领域包括:

*   由不同计算机组成的网络称为集群。反过来，容器可以自主执行某项任务，而不管它在什么系统上执行。
*   Kubernetes 为我们处理计算集群中容器的管理。
*   Kubernetes 集群具有各种组件，可确保所有 pod 都在运行，系统继续运行。

# 这是你应该带走的东西

*   由不同计算机组成的网络称为集群。反过来，容器可以自主执行某项任务，而不管它在什么系统上执行。
*   Kubernetes 为我们处理计算集群中容器的管理。
*   Kubernetes 集群具有各种组件，可确保所有 pod 都在运行，系统继续运行。

*如果你喜欢我的作品，请在这里订阅*<https://medium.com/subscribe/@niklas_lang>**或者查看我的网站* [*数据大本营*](http://www.databasecamp.de/en/homepage) *！此外，媒体允许你每月免费阅读三篇文章***。如果你想让***无限制地访问我的文章和数以千计的精彩文章，不要犹豫，通过点击我的推荐链接:*[【https://medium.com/@niklas_lang/membership】](https://medium.com/@niklas_lang/membership)每月花$ ***5*** 获得会员资格***

**</understanding-mapreduce-with-the-help-of-harry-potter-5b0ae89cc88>  </introduction-to-random-forest-algorithm-fed4b8c8e848>  </beginners-guide-extract-transform-load-etl-49104a8f9294> **