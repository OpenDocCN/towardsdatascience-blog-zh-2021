# 运行机器学习项目:需要知道的事情

> 原文：<https://towardsdatascience.com/running-machine-learning-projects-things-to-know-316775338eab?source=collection_archive---------22----------------------->

## [行业笔记](https://towardsdatascience.com/tagged/notes-from-industry)

## 机器学习和数据科学项目的生命周期

根据我的经验，ML 项目有各种各样的形状和大小，并且在复杂性上有很大的不同。在最初的 2000/10 年，重点是以模型为中心的方法，我总是觉得有点奇怪，因为我听到无数次关于更好的模型而不是结果(嗯，这是一个不同的时代，人们习惯于在听到 ML、AI、DS 等时感到敬畏)；慢慢地，焦点逐渐转移到以结果为中心的方法上，也就是说，使用你能使用的任何模型，但是要利用数据并产生有方向性的、适用的和一致的结果。

尽管重心转移，该领域的知识水平不断提高，但 ML 方面的努力往往以失败告终。没有成功的蓝图，但有一些步骤可以确保你走在正确的方向上。

下面的文章只不过是我过去 10 年在埃森哲、Evalueserve、BCG、Intent HQ 和 Quantplex 领导 ML 团队并解决一些有趣问题的经历的一个简要要点。

![](img/68037549df7c811f16f7ca0cf651e92c.png)

图片来源: [Unsplash](https://unsplash.com/photos/In4XVKhYaiI)

## 先决条件

1.  在你迈出这一步之前，你应该清楚你试图解决的问题陈述是什么，解决方案的界限是什么，即什么可以解决，什么不能解决，什么数据可用，你将与什么团队打交道，你的工作时间表是什么。
2.  一个好主意是在会议室坐 2 个小时，在白板上列出所有内容，尝试向您的团队成员解释问题陈述(此外，与客户的 SOW/合同应该包含所有信息，否则会造成很大的麻烦，至少问题陈述、解决问题所需的时间以及财务状况应该在合同中有所体现)。请你的团队列出 100%解决问题所需的所有数据和因素(在理想情况下)，然后找出你有哪些数据和信息来解决问题。是否足以解决问题？你能进行二次调查以补充数据来源吗？你能向客户询问相关信息吗？
3.  你能把问题陈述模块化，并对模块进行优先排序，首先处理最重要的模块吗？你能使用帕累托原则吗，即什么样的模块可以解决 80%的问题？
4.  根据团队规模和时间表，花 2-4 天时间研究重要模块的可能解决方案。阅读研究论文或寻找对他人有效的解决方案。在你使用的任何平台上保持一些沟通渠道 Slack，teams 等，请保持无意识的聊天一分钟(为这种恶作剧保持一个单独的渠道)。
5.  你团队中的每个人都应该清楚正在解决的问题，以及可能的解决方法。选择一个简单且能产生最大影响的方法。

## 从头算

1.  你知道项目的目标，你能量化它吗？如果你正在处理多个目标，那么你能根据重要性将它们堆叠起来吗？
2.  验收标准或成功标准是什么？(为此，你必须与客户或利益相关者合作，这是一项咨询工作)。
3.  您能定义用于衡量项目目标/成功的指标吗？就像正指标一样，你应该创造一个负指标，你的结果应该同时满足正指标和负指标*,例如，在设计推荐系统时，正指标可以是你推荐的购买产品的百分比，负指标可以是你没有推荐给用户的购买产品的百分比。这里负指标的百分比应该很小。*
4.  您在上述步骤中定义的指标应该与现实世界相关，而不仅仅是满足数据团队的欲望。是的，模型应该具有统计显著性结果，您应该使用 R、似然性、对数似然性、敏感性、特异性、混淆矩阵变量、准确性、MAPE、MSE 等，但只能用于评估模型的性能，而不能用于向有业务利益相关者和非技术人员的受众传达结果。确保你使用的东西对他们的世界有意义。如果你找不到其他任何东西，就创建更有现实内涵的代理指标。
5.  你会做什么来不让你的模型误入歧途，并继承世界的偏见，如种族，文化，亚文化，性别，年龄，地理等)？你能给你的微观世界带来平衡吗？

## 下文

基础架构往往被搁置一旁，被忽视，成为一个瓶颈。如果您的机器无法运行繁重的解决方案，那么就寻找替代方案或基于云的解决方案。

1.  您的团队或您是否可以访问以不同于您的模型可能需要的格式存储的数据？很多时候，数据馈送被推送到 HDFS 生态系统中的 S3 桶，用户必须运行 apache spark 查询来访问相关的片。不要给你的团队配备过多的数据科学家，确保你也有数据工程师，他们是紧急情况下上帝派来的，让你的团队多才多艺。
2.  你的产品在现实生活中不会是一个 jupyter 内核，它将是一组文件，这些文件将通过一个 cron 作业通过一个调度程序运行，该作业将结果发布在一个仪表板上或将结果推送到另一个 S3 桶中。如果你认为所有这些都是胡言乱语，那么确保你有可以帮助你的人(工程师)。ML 项目通常不是个人的追求，需要广泛的技能才能成功。
3.  后端基础架构设计将限制您可以开发的模型和支持的输出，以及您刷新模型和更新结果的频率。在团队开始开发一个结果无法使用的笨重复杂的模型之前，应该先弄清楚后端基础设施。

## 数据

1.  您已经有了数据，但是您需要进行数据完整性检查。它将检查提供给你的数据的完整性。
2.  数据有多新鲜，使用它有意义吗？它能捕捉到你希望用模型捕捉到的情感吗？
3.  刷新率是多少？多久会变味？它符合 GDPR 标准吗？它有固有的偏见吗？
4.  为数据中的所有要素准备一个术语表和定义。数据的来源是什么？是否依赖于上游数据？如果是，那么刷新率是多少？SLA 是什么？是谁定义的？
5.  最重要的部分之一是你有你想要的格式的信息吗？最常见的是 int 类型转换为 object，DateTime 对象转换为 strings。您需要对这些特性进行预处理，以减少后期的痛苦。

## 基线狼

我假设你已经进行了一次令人满意的探索性数据分析，不要花费数周时间试图对每一个可能的特性进行各种统计测试；在重要的事情上运用你的常识。异常值分析是一项重要的任务。当您拥有增量模型，并且正在评估模型的性能并试图证明某些错误分类时，离群点分析会有所帮助。

重要的是要确定一个你在未来几天要努力超越的底线。

1.  花一周时间想出一个基线模型，最好是不太复杂的东西，只是使用基于语义的方法来解决问题，而不是涉及任何机器学习。基线模型还将帮助您测试模型的健全性，并测试一些简单的情况，例如，如果您正在设计一个贷款审批系统，信用评分低于 400 的每个人都应该被标记出来。这种简单的初始设计有助于您从一开始就测试严格性。
2.  确保基线模型能够产生与您在上面的步骤中定义的相同的指标。记录下你离目标有多远，以及你需要做些什么来一点点接近你定义的成功标准或目标。
3.  尽快部署/发布您的第一批模型，以便进行一些准备工作，并测试端到端系统。拥有 Streamlit/Heroku 技能是一件好事，这样你就可以向更多的观众展示间歇甚至最终的结果。

## 增量备份

一旦你有了一个基线集，你需要通过各种特征工程、数据建模努力来改进系统。

1.  您的后续迭代应该是增量的，使用您的经验、客户和业务人员的输入，以及您从二次研究中收集的信息来衡量增量模型中应该使用什么信号和特性。构建您的模型，并尝试超越基线。
2.  确保你的取样方法没有偏差。他们不应该在你的增量模型的结果中带来偏见，并弄脏图片。
3.  总是回到基础，看看你是否能在模型的可解释性和复杂性之间找到平衡。如果你的模型越来越复杂，那么你会在解释上失败。主成分分析是一种很好的降维方法，也是一种很好的可视化数据的方式，但尝试向 100 个人解释它，你会得到冷眼旁观。
4.  假设您创建了一些复杂的特征或选择了一个神经网络的隐藏层，并在您的模型中使用它，基本上这样做是可以的，但这些特征通常是非凸的，这意味着您的模型的内部优化引擎将很难收敛，因此您很可能会陷入局部最大值或最小值，因此每次运行的结果可能会有所不同。如果您正在使用这样的特性，那么在引入它们之后测试系统的健壮性。
5.  借助你创造的积极和消极的度量标准，不断检查你的增量模型做得如何。

## 大脑和机器——最后一英里

ML 模型不会孤立地工作(至少在它们通过图灵测试和我们得到 AGI 之前)，所以人类方面暂时是最重要的。

1.  制定一个体面的策略，在数据失败时帮助你，例如，你如何对那些在贷款审批系统中没有信用评分的用户进行分类，或者在后端系统出现故障时，你会给出什么建议。
2.  你的模型会有目标函数和损失函数。如果你认为有一个令人毛骨悚然的特征是一个麻烦制造者，那么把它推进损失函数。那是它的归属。
3.  你能对你的产品/系统进行用户试用吗？如果是，那么接受这个结果，因为你和你的团队已经很好地融入了 ML 的世界，并且理解了系统的本质，但是最终用户可能会有不同的想法。你知道西红柿是一种水果，但最终用户认为它是一种蔬菜，那就这样吧。不要固执地改变世界的看法。
4.  根据你制定的标准来衡量你的系统的表现。你的系统离他们太远了吗？是否需要重新定义指标？
5.  通常被掩盖的一个重要因素是模型更新和模型老化。刷新模型将是一项艰巨的任务吗？它会像皮诺葡萄酿造的葡萄酒一样老化吗？还是会像一个摔倒在楼梯上的稻草人一样无法控制？

## 更大的计划

在机器学习项目的整个生命周期中，你需要不断地问一些问题。

1.  系统或产品是随着时间变好还是停滞不前？
2.  你能做些什么来简化系统，降低复杂性吗？
3.  你有信心回答你开始要回答的问题吗？

## 端到端咨询

1.  从结果中抽取一部分进行 A/B 测试总是一个好主意；关注你(或企业)认为相关的用户群、地理位置、产品。不要运行测试太长时间，因为 A/B 测试运行起来很昂贵；这就是为什么你应该仔细选择你的项目/产品会产生影响的群体。如果结果没有开始向有利于你的方向倾斜，这可能意味着很多事情——不要突然下结论。寻找线索。完全有可能这个模型很糟糕，但也有可能它从来没有到达它应该到达的最终用户那里。

根据最终用户的结果，看看你是否能吸收反馈并改进模型。

## 收场白

我故意没有涉及一些部分，例如选择工具集、IDE 等，还有一些部分我可能没有意识到。因此，如果你碰巧看到这篇文章，请提供你的想法，以及你如何组织你的 ML 团队和项目。

享受:)