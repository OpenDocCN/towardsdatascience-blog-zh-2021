# å¦‚ä½•åœ¨ Kubernetes ä¸Šç®€å•éƒ¨ç½²

> åŸæ–‡ï¼š<https://towardsdatascience.com/how-to-deploy-on-kubernetes-in-simple-words-aba6f42cc888?source=collection_archive---------42----------------------->

## [è¡Œä¸šç¬”è®°](https://pedram-ataee.medium.com/list/notes-from-industry-265207a5d024)

## åœ¨ Kubernetes é›†ç¾¤ä¸Šéƒ¨ç½² web åº”ç”¨ç¨‹åºçš„è¡ŒåŠ¨æ‰‹å†Œ

![](img/5349dafcc70f71bfd56391a4a054124c.png)

ç”±[ä¹”å°”Â·é‡Œç»´æ‹‰-å¡é©¬ä¹”](https://unsplash.com/@actuallyjoel?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

æˆ‘æœ€è¿‘åœ¨ RapidAPI ä¸Šå¼€å‘äº†ä¸€ä¸ªåä¸º [Owl](https://rapidapi.com/pedram.ataee/api/word-similarity/) çš„*ä¸Šä¸‹æ–‡åŒ–çš„æœ€ç›¸ä¼¼å•è¯* API æœåŠ¡ã€‚è¿™å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„æ—…ç¨‹ï¼Œæ‰€ä»¥æˆ‘å†³å®šä¸ä½ åˆ†äº«å®ƒå‘å±•çš„å„ä¸ªé˜¶æ®µã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³åˆ†äº«**ä¸€ä¸ªå…³äº**å¦‚ä½•ä½¿ç”¨ Kubernetes** éƒ¨ç½²å®¹å™¨åŒ– web åº”ç”¨ç¨‹åºçš„åˆ†æ­¥æŒ‡å—(åˆ›å»ºã€è¿æ¥ã€éƒ¨ç½²å’Œå…¬å¼€)**ã€‚æ‚¨å¯ä»¥åœ¨æ‚¨çš„æ•°æ®ç§‘å­¦é¡¹ç›®ä»¥åŠæ‚¨æ­£åœ¨å¼€å‘çš„ä»»ä½•å…¶ä»– web åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è¯¥æŒ‡å—ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº OWL API çš„å†…å®¹ï¼Œä½ å¯ä»¥é˜…è¯»è¿™ç¯‡æ–‡ç« :[å¦‚ä½•è®¡ç®—å•è¯ç›¸ä¼¼åº¦â€”â€”æ¯”è¾ƒåˆ†æ](/how-to-compute-word-similarity-a-comparative-analysis-e9d9d3cb3080)ã€‚

> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³åˆ†äº«å…³äºå¦‚ä½•ä½¿ç”¨ Kubernetes éƒ¨ç½²å®¹å™¨åŒ– web åº”ç”¨ç¨‹åºçš„åˆ†æ­¥æŒ‡å—(åˆ›å»ºã€è¿æ¥ã€éƒ¨ç½²å’Œå…¬å¼€)ã€‚

[](https://www.amazon.com/gp/product/B08D2M2KV1/ref=dbs_a_def_rwt_hsch_vapi_tkin_p1_i0) [## äººå·¥æ™ºèƒ½:éæ­£ç»Ÿçš„æ•™è®­:å¦‚ä½•è·å¾—æ´å¯ŸåŠ›å’Œå»ºç«‹åˆ›æ–°çš„è§£å†³æ–¹æ¡ˆ

### äºšé©¬é€Šç½‘ç«™:äººå·¥æ™ºèƒ½:éæ­£ç»Ÿè¯¾ç¨‹:å¦‚ä½•è·å¾—æ´å¯ŸåŠ›å’Œå»ºç«‹åˆ›æ–°çš„è§£å†³æ–¹æ¡ˆç”µå­ä¹¦â€¦

www.amazon.com](https://www.amazon.com/gp/product/B08D2M2KV1/ref=dbs_a_def_rwt_hsch_vapi_tkin_p1_i0) 

# ç¬¬ 0 æ­¥â€”ä¸ºä»€ä¹ˆé€‰æ‹© Kubernetesï¼Ÿ->å¯æ‰©å±•æ€§ğŸ”‘

åœ¨æˆ‘æ„å»º OWL API çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†æ„å»ºä¸€ä¸ªæ¯”å½“å‰è§£å†³æ–¹æ¡ˆæ›´å¥½çš„â€œæœ€ç›¸ä¼¼å•è¯â€æœåŠ¡ï¼Œæˆ‘é¢ä¸´äº†è®¸å¤š NLP æŒ‘æˆ˜ã€‚é™¤äº†è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘è¿˜éœ€è¦éƒ¨ç½² [OWL API](https://rapidapi.com/pedram.ataee/api/word-similarity/) ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥**ç®¡ç†** **å¤§é‡çš„ API è¯·æ±‚ã€‚æˆ‘æœ¬å¯ä»¥ä½¿ç”¨ç®€å•çš„ VPS(è™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨)è¿›è¡Œéƒ¨ç½²ï¼Œä½†æˆ‘ç¡®ä¿¡æˆ‘å¾ˆå¿«å°±ä¼šé¢ä¸´å¯æ‰©å±•æ€§é—®é¢˜ã€‚è¿™å°±æ˜¯æˆ‘å†³å®šä½¿ç”¨ Kubernetes æŠ€æœ¯çš„åŸå› ã€‚**

> Kubernetes æ˜¯ä¸€ä¸ªå¼€æºå®¹å™¨ç¼–æ’å™¨ï¼Œç”¨äºå®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„å¯ä¼¸ç¼©éƒ¨ç½²ã€‚

æ‰€ä»¥ï¼Œæˆ‘å‡è®¾æ‚¨å·²ç»å‡†å¤‡å¥½éƒ¨ç½²ä¸€ä¸ªå®¹å™¨åŒ–çš„åº”ç”¨ç¨‹åºã€‚æ‚¨é¢ä¸´çš„é—®é¢˜æ˜¯**å¦‚ä½•éƒ¨ç½²å®ƒï¼Œä»¥ä¾¿å®ƒå¯ä»¥åœ¨éœ€è¦æ—¶ä»¥æœ€å°‘çš„å‚ä¸è¿›è¡Œæ‰©å±•ã€‚**

# æ­¥éª¤ 1â€”å¦‚ä½•â€œåˆ›å»ºâ€Kubernetes é›†ç¾¤ï¼Ÿ

## â€”æˆ‘åº”è¯¥ä½¿ç”¨å“ªç§äº‘åŸºç¡€æ¶æ„ï¼Ÿâ˜

æ‚¨å¿…é¡»ä½¿ç”¨æ‚¨æ‰€ä½¿ç”¨çš„äº‘åŸºç¡€è®¾æ–½çš„æ§åˆ¶é¢æ¿æ¥åˆ›å»º Kubernetes é›†ç¾¤ã€‚æˆ‘æœ€è¿‘å’Œ [OVH äº‘](https://www.ovhcloud.com/en-ca/)å’Œè°·æ­Œäº‘åˆä½œè¿‡ã€‚åœ¨è¿™ä¸¤ä¸ªé›†ç¾¤ä¸Šåˆ›å»º Kubernetes é›†ç¾¤çš„è¿‡ç¨‹å¾ˆç®€å•ï¼Œä½†æ˜¯æœ‰æ‰€ä¸åŒã€‚ä½ åº”è¯¥æ‰¾åˆ°ä»–ä»¬è‡ªå·±çš„æŒ‡å—ï¼Œåœ¨é‚£é‡Œä»–ä»¬æè¿°å¾—å¾ˆé€å½»ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨ä¸‹é¢çš„é“¾æ¥ä¸­æ‰¾åˆ°åˆ›å»ºé›†ç¾¤çš„ OVH æŒ‡å—ã€‚

[](https://docs.ovh.com/ca/en/kubernetes/creating-a-cluster/) [## åˆ›å»ºé›†ç¾¤

### OVHcloud Managed Kubernetes æœåŠ¡ä¸ºæ‚¨æä¾› Kubernetes é›†ç¾¤ï¼Œæ— éœ€å®‰è£…æˆ–æ“ä½œâ€¦

docs.ovh.com](https://docs.ovh.com/ca/en/kubernetes/creating-a-cluster/) 

OVH æ˜¯ä¸€å®¶æ³•å›½äº‘è®¡ç®—å…¬å¸ï¼Œæä¾› VPSã€ä¸“ç”¨æœåŠ¡å™¨å’Œå…¶ä»–ç½‘ç»œæœåŠ¡ã€‚ä»–ä»¬æ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„äº‘æä¾›å•†ä¹‹ä¸€ï¼Œä½†ä¸å¦‚ GCP æˆ– AWS æœ‰åã€‚æˆ‘ä¹Ÿä¸çŸ¥é“ä»–ä»¬ç›´åˆ°å‡ ä¸ªæœˆå‰ï¼Œä½†æˆ‘å¼ºçƒˆæ¨èä»–ä»¬ï¼Œå› ä¸º OVH çš„ç•Œé¢æ˜¯ç”¨æˆ·å‹å¥½çš„ï¼Œå…¶æˆæœ¬æ›´åˆç†çš„ç«äº‰å¯¹æ‰‹ï¼Œå¦‚ AWS æˆ– GCPã€‚å¦‚æœä½ æ²¡æœ‰å……åˆ†çš„ç†ç”±ä½¿ç”¨ AWS æˆ– GCPï¼Œæˆ‘å¼ºçƒˆæ¨è OVH äº‘ã€‚

## â€”åœ¨å“ªé‡ŒğŸ„é­”æ³•ğŸ„ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ->è´Ÿè½½å¹³è¡¡å™¨

ä¸ºäº†ç¡®ä¿æ‚¨çš„ Kubernetes é›†ç¾¤å¯ä»¥åœ¨éœ€è¦æ—¶æ‰©å±•ï¼Œè¯·ç¡®ä¿åœ¨æ­¤æ­¥éª¤ä¸­å¯ç”¨è‡ªåŠ¨æ‰©å±•é€‰é¡¹ã€‚å¦å¤–ï¼Œé€‰æ‹©æ‚¨å¸Œæœ›åœ¨é›†ç¾¤ä¸­è¿è¡Œçš„èŠ‚ç‚¹çš„æ­£ç¡®æ•°é‡ã€‚éšç€æ‚¨å‘ç¾¤é›†ä¸­æ·»åŠ çš„èŠ‚ç‚¹æ•°é‡çš„å¢åŠ ï¼Œæ¯æœˆæˆæœ¬ä¹Ÿä¼šå¢åŠ ã€‚

ä½ å¯ä»¥åœ¨ OVH è·å¾—çš„ Kubernetes æœåŠ¡æ˜¯ä¸€ç§**æ‰˜ç®¡çš„ Kubernetes æœåŠ¡**ï¼Œè¿™ä¸»è¦æ„å‘³ç€åœ¨éœ€è¦æ—¶è‡ªåŠ¨ç®¡ç†æ‰©å±•ã€‚ç¥å¥‡çš„æ˜¯ç”±ä¸€ä¸ªåä¸º**è´Ÿè½½å¹³è¡¡å™¨**çš„èŠ‚ç‚¹å®Œæˆçš„ï¼Œè¿™ä¸ªèŠ‚ç‚¹å°†æ‰€æœ‰åˆ°è¾¾çš„ä»»åŠ¡åˆ†é…åˆ°ä¸€ç»„èµ„æºä¸Šï¼Œä»¥ä½¿æ•´ä¸ªè¿‡ç¨‹æ›´æœ‰æ•ˆåœ°å·¥ä½œã€‚è´Ÿè½½å¹³è¡¡æœ‰ä¸åŒçš„ç­–ç•¥ï¼Œè¿™ä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œä¸å¤šæè¿°äº†ã€‚

# æ­¥éª¤ 2â€”å¦‚ä½•â€œè¿æ¥â€åˆ° Kubernetes é›†ç¾¤ï¼Ÿ

## â€”â€œkube configâ€å°±æ˜¯ä½ æ‰€éœ€è¦çš„ï¼(å‡ ä¹æ‰€æœ‰ğŸ˜ƒ)

åˆ›å»º Kubernetes é›†ç¾¤åï¼Œæ‚¨å¿…é¡»èƒ½å¤Ÿä»æ§åˆ¶é¢æ¿ä¸‹è½½ä¸€ä¸ª**ã€keyã€‘**æ¥ä»è¿œç¨‹æœºå™¨è¿æ¥åˆ°é›†ç¾¤ã€‚å¯†é’¥ä¸»è¦æ˜¯ä¸€ä¸ª`YAML`æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«è¿æ¥åˆ° Kubernetes é›†ç¾¤æ‰€éœ€çš„ä¸€åˆ‡(ä¾‹å¦‚ï¼Œé›†ç¾¤åœ°å€å’Œæ‰€éœ€çš„å‡­è¯)ã€‚æ‚¨ä¸èƒ½æ›´æ”¹æˆ–ä¿®æ”¹è¯¥æ–‡ä»¶ä¸­çš„ä»»ä½•å€¼ã€‚æ‰€ä»¥ï¼Œä½ åªéœ€è¦ä»æ§åˆ¶é¢æ¿ä¸­æ‰¾å‡ºå¿…é¡»ä¸‹è½½çš„åœ°æ–¹ã€‚

ä¸ºäº†åœ¨è¿œç¨‹æœºå™¨å’Œ Kubernetes é›†ç¾¤ä¹‹é—´å»ºç«‹ä¸€ä¸ªç»è¿‡éªŒè¯çš„è¿æ¥ï¼Œæ‚¨éœ€è¦è¿™ä¸ªæ–‡ä»¶ã€‚æ­¤å¯†é’¥çš„æ ¼å¼åœ¨ GCP æˆ– OVH ç­‰äº‘åŸºç¡€æ¶æ„ä¸­æœ‰æ‰€ä¸åŒï¼Œè¿™åœ¨ç°é˜¶æ®µå¹¶ä¸é‡è¦ã€‚**å”¯ä¸€é‡è¦çš„äº‹æƒ…**æ˜¯æ‚¨å¿…é¡»å°†è¯¥æ–‡ä»¶ä¿å­˜åœ¨ä¸€ä¸ªå®‰å…¨çš„åœ°æ–¹ï¼Œå¹¶å°†`KUBECONFIG`ç¯å¢ƒå˜é‡çš„å€¼è®¾ç½®ä¸ºè¯¥æ–‡ä»¶çš„åœ°å€ã€‚å¦‚æœä½¿ç”¨ Linux ç»ˆç«¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç è®¾ç½®`KUBECONFIG`çš„å€¼ã€‚

```
export KUBECONFIG=\\path\\to\\config\\kubeconfig.yml
```

## â€”è¿˜éœ€è¦ä¸€æ ·ä¸œè¥¿:â€œKUBECTLâ€ğŸ‘

ä¸€æ—¦å°†`KUBECONFIG`ç¯å¢ƒå˜é‡çš„å€¼è®¾ç½®ä¸ºç›¸åº”æ–‡ä»¶çš„åœ°å€ï¼Œå°±å¯ä»¥å¼€å§‹ä½¿ç”¨ Kubernetes é›†ç¾¤äº†ã€‚Kubernetes å‘½ä»¤è¡Œå·¥å…·æˆ–`kubectl`æ˜¯æ‚¨å¼€å§‹ä½¿ç”¨é›†ç¾¤æ‰€éœ€çš„å…¨éƒ¨å·¥å…·ã€‚`kubectl`å…è®¸æ‚¨å¯¹ Kubernetes é›†ç¾¤è¿è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚ï¼Œéƒ¨ç½²åº”ç”¨ç¨‹åºæˆ–æ£€æŸ¥é›†ç¾¤èµ„æºã€‚**ä¸è¿‡å¦‚ä½•å®‰è£…** `**kubectl**` **ï¼Ÿ**ä½ å¯ä»¥é˜…è¯»[è¿™ç¯‡æ–‡ç« çš„ä½œè€…å†™çš„](https://kubernetes.io/docs/tasks/tools/)ã€‚

> `kubectl`(å³ Kubernetes å‘½ä»¤è¡Œå·¥å…·)å…è®¸æ‚¨å¯¹ Kubernetes é›†ç¾¤è¿è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚éƒ¨ç½²åº”ç”¨ç¨‹åºæˆ–æ£€æŸ¥é›†ç¾¤èµ„æºã€‚

# æ­¥éª¤ 3â€”å¦‚ä½•åœ¨ Kubernetes é›†ç¾¤ä¸Šâ€œéƒ¨ç½²â€ï¼Ÿ

åœ¨å‰é¢çš„æ­¥éª¤ä¸­ï¼Œæ‚¨åˆ›å»ºäº†ä¸€ä¸ª Kubernetes é›†ç¾¤ï¼Œå¹¶æ„å»ºäº†ä¸€ä¸ªç»è¿‡èº«ä»½éªŒè¯çš„è¿æ¥æ¥ä½¿ç”¨å®ƒã€‚ç°åœ¨ï¼Œæ‚¨å¿…é¡»åœ¨é›†ç¾¤ä¸Šéƒ¨ç½²å®¹å™¨åŒ–çš„åº”ç”¨ç¨‹åºã€‚

## â€”åˆ›å»ºéƒ¨ç½²æ¸…å•ğŸ˜®

*è¯·ä¸è¦æ··æ·†ï¼*â€œmanifestâ€åªæ˜¯ä¸€ä¸ª`YAML`æ–‡ä»¶ï¼Œå…¶ä¸­çš„éƒ¨ç½²ç»†èŠ‚å¦‚â€œ**å¦‚ä½•æ˜ å°„å¤–éƒ¨ç«¯å£ï¼Ÿ**æˆ–**å¦‚ä½•è®¾ç½®ç¯å¢ƒå˜é‡**ï¼Ÿâ€å†³å¿ƒå·²å®šã€‚æ‚¨å¯ä»¥å°†ä¸‹é¢çš„ä»£ç ç”¨ä½œéƒ¨ç½²æ¸…å•çš„æ¨¡æ¿ã€‚

```
apiVersion: v1
kind: Service
metadata:  
  name: MY-SERVICE  
  labels:    
    app: MY-APP
spec:  
  type: LoadBalancer
  ports:
  - port: 80
    targetPort: 80
    protocol: TCP
    name: http
  - port: 443
    targetport: 443
    protocol: TCP
    name: https
  selector:
    app: MY-APPapiVersion: apps/v1
kind: Deployment
metadata:  
  name: MY-DEPLOYMENT
  labels:
    app: MY-APP
spec:  
  replicas: 1
  selector:
    matchLabels:
      app: MY-APP
  template:
    metadata:
      labels:
        app: MY-APP
    spec:
      containers:
      - name: MY-APP
        image: IMAGE-NAME
        ports:
        - containerPort: 80
```

å…³äºä¸Šè¿°éƒ¨ç½²æ¸…å•çš„å‡ ç‚¹è¯´æ˜å¦‚ä¸‹ã€‚

*   ç«¯å£ 80 å’Œ 443 åœ¨`LoadBalanacer`èŠ‚ç‚¹ä¸Šæ‰“å¼€ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨æƒ³åœ¨`https`ä¸Šè¿è¡Œ web åº”ç”¨ç¨‹åºï¼Œç›¸åº”çš„ç«¯å£(å³ 443)æ˜¯æ‰“å¼€çš„ã€‚
*   `MY-SERVICE`ã€`MY-APP`å’Œ`MY-DEPLOYMENT`å¿…é¡»æ›¿æ¢ä¸ºæ‚¨æƒ³è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„åç§°ã€‚æ‚¨åœ¨æ­¤å¤„åˆ†é…çš„å†…å®¹å°†åœ¨æ­¥éª¤ 4 ä¸­ä½¿ç”¨ï¼Œåœ¨è¯¥æ­¥éª¤ä¸­ï¼Œæ‚¨è¦å°†ç¾¤é›†å…¬å¼€åˆ° internetã€‚
*   å¿…é¡»ç”¨æ‚¨æƒ³è¦éƒ¨ç½²çš„å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„å®Œæ•´åç§°/åœ°å€æ¥æ›¿æ¢`IMAGE-NAME`ã€‚å¦‚æœä½ éœ€è¦åŠ¨æ€åœ°æ”¹å˜è¿™ä¸ªå˜é‡çš„å€¼ï¼ŒæŠŠå®ƒå£°æ˜ä¸ºä¸€ä¸ªç¯å¢ƒå˜é‡(å³`$IMAGE-NAME`)å¹¶ä½¿ç”¨`[envsubst](https://www.gnu.org/software/gettext/manual/html_node/envsubst-Invocation.html)`åº“ã€‚

## â€”æäº¤éƒ¨ç½² ManifestğŸ§¨

è¦è¿›è¡Œéƒ¨ç½²ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨`kubectl`å‘ Kubernetes é›†ç¾¤æäº¤éƒ¨ç½²æ¸…å•æ–‡ä»¶ï¼Œå¦‚ä¸Šæ‰€è¿°ã€‚å¯¹äºç¬¬ä¸€è½®éƒ¨ç½²ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨`kubectl apply`å‘½ä»¤ï¼Œè€Œåœ¨ä¸‹ä¸€è½®éƒ¨ç½²ä¸­ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨`kubectl replace`å‘½ä»¤ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºæ‚¨åŸºæœ¬ä¸Šæ˜¯ç”¨é›†ç¾¤ä¸Šå·²ç»å­˜åœ¨çš„ç‰ˆæœ¬æ›¿æ¢ä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç æäº¤ä¸€ä¸ª`replace`å‘½ä»¤ã€‚

```
kubectl replace -f path/to/manifest/manifest.yml
```

å®Œæˆè¿™ä¸€æ­¥åï¼Œè¿è¡Œ`kubectl get services`ã€‚å¦‚æœæœåŠ¡éƒ¨ç½²æ­£ç¡®ï¼Œæ‚¨å°†ä¼šçœ‹åˆ°å¦‚ä¸‹ç»“æœã€‚

```
NAME         TYPE         CLUSTER-IP   EXTERNAL-IP  PORT(S)     AGE kubernetes   ClusterIP     X.X.X.X     <none>       443/TCP      X
MY-SERVICE   LoadBalancer  X.X.X.X     <none>          X         X
```

# æ­¥éª¤ 4â€”å¦‚ä½•å‘äº’è”ç½‘â€œå…¬å¼€â€Kubernetes é›†ç¾¤ï¼ŸğŸ”¥

**ç¥è´ºä½ ï¼ä½ å·®ä¸å¤šå®Œæˆäº†ã€‚**åœ¨æ­¥éª¤ 3 ä¸­ï¼Œæ‚¨éƒ¨ç½²äº†åº”ç”¨ç¨‹åºã€‚å”¯ä¸€å‰©ä¸‹çš„äº‹æƒ…å°±æ˜¯å°†è´Ÿè½½å¹³è¡¡å™¨èŠ‚ç‚¹æš´éœ²ç»™äº’è”ç½‘ã€‚æ¢å¥è¯è¯´ï¼Œæ‚¨åº”è¯¥ä¸º LoadBalancer èŠ‚ç‚¹è·å–ä¸€ä¸ªå…¬å…± IPï¼Œè®©æµé‡é€šè¿‡å®ƒã€‚å°è¯•ä½¿ç”¨ä¸‹é¢çš„ä»£ç å°† internet æµé‡æ‰“å¼€åˆ° LoadBalancer èŠ‚ç‚¹ã€‚

```
kubectl expose deployment MY-DEPLOYMENT --type=LoadBalancer --name=MY-SERVICE
```

è·å–å…¬å…± IP éœ€è¦å‡ ç§’é’Ÿã€‚ç„¶åï¼Œå°è¯•`kubectl get services`æ‰¾å‡ºæœåŠ¡å¯ç”¨çš„å¤–éƒ¨ IPï¼ç°åœ¨ï¼Œæ‚¨å·²ç»å®Œå…¨å®Œæˆäº†éƒ¨ç½²è¿‡ç¨‹ï¼ğŸ‰

# é—è¨€

åœ¨å„ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½éœ€è¦åˆ é™¤ Kubernetes é›†ç¾¤ã€‚ä¾‹å¦‚ï¼Œæ‚¨æƒ³è¦éƒ¨ç½²æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå¹¶ä¸”æ‚¨æŒ‰ç…§ä¹¦ä¸Šè¯´çš„åšæ¯ä»¶äº‹ã€‚ç„¶è€Œï¼Œéƒ¨ç½²æ²¡æœ‰é€šè¿‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé›†ç¾¤å¾ˆæœ‰å¯èƒ½è¢«é”å®šåœ¨ä¸å¥åº·çš„çŠ¶æ€ï¼Œæ— æ³•æ­£ç¡®å“åº”æ‚¨çš„å‘½ä»¤ã€‚æ‚¨å¿…é¡»åˆ é™¤é›†ç¾¤ã€‚è¦åˆ é™¤ Kubernetes é›†ç¾¤ï¼Œæ‚¨å¿…é¡»åˆ é™¤`Service`å’Œ`Deployment`å¯¹è±¡ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤`kubectl delete deployments MY-DEPLOYMENT`æˆ–`kubectk delete services MY-SERVICE`ã€‚

> è¯·æ³¨æ„ï¼Œåˆ é™¤è¿‡ç¨‹æ€»æ˜¯ä¼šäº§ç”Ÿä¸€äº›ä¸å¿…è¦çš„åæœï¼Œä¾‹å¦‚è´Ÿè½½å¹³è¡¡å™¨èŠ‚ç‚¹çš„å¤–éƒ¨ IP å‘ç”Ÿå˜åŒ–ã€‚å› æ­¤ï¼Œåœ¨å†³å®šåˆ é™¤é›†ç¾¤æ—¶ï¼Œä¸€å®šè¦å°å¿ƒè°¨æ…ã€‚

æœ€åä¸€ä»¶äº‹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æ—¨åœ¨å¸®åŠ©æ‚¨å°½å¿«åœ¨ Kubernetes é›†ç¾¤ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œä½ å¯ä»¥åœ¨ Kubernetes çš„å®˜æ–¹[æ–‡æ¡£](https://kubernetes.io/docs/tutorials/kubernetes-basics/)ä¸­æ‰¾åˆ°æ›´å¤šå…³äº Kubernetes çš„ä¿¡æ¯ã€‚å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼

# æ„Ÿè°¢é˜…è¯»ï¼â¤ï¸

å¦‚æœä½ å–œæ¬¢è¿™ä¸ªå¸–å­ï¼Œæƒ³æ”¯æŒæˆ‘â€¦

*   *è·Ÿæˆ‘ä¸Š* [*ä¸­*](https://medium.com/@pedram-ataee) *ï¼*
*   *åœ¨* [*äºšé©¬é€Š*](https://www.amazon.com/Pedram-Ataee/e/B08D6J3WNW) *ä¸ŠæŸ¥çœ‹æˆ‘çš„ä¹¦ï¼*
*   *æˆä¸º* [*ä¸­çš„ä¸€å‘˜*](https://pedram-ataee.medium.com/membership) *ï¼*
*   *è¿æ¥ä¸Š*[*Linkedin*](https://www.linkedin.com/in/pedrama/)*ï¼*
*   *å…³æ³¨æˆ‘çš„* [*æ¨ç‰¹*](https://twitter.com/pedram_ataee) *ï¼*

[](https://pedram-ataee.medium.com/membership) [## é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥ Medium-Pedram Ataee åšå£«

### ä½œä¸ºä¸€ä¸ªåª’ä½“ä¼šå‘˜ï¼Œä½ çš„ä¼šå‘˜è´¹çš„ä¸€éƒ¨åˆ†ä¼šç»™ä½ é˜…è¯»çš„ä½œå®¶ï¼Œä½ å¯ä»¥å®Œå…¨æ¥è§¦åˆ°æ¯ä¸€ä¸ªæ•…äº‹â€¦

pedram-ataee.medium.com](https://pedram-ataee.medium.com/membership)