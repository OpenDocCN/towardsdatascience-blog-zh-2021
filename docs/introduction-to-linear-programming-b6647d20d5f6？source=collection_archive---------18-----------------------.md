# çº¿æ€§è§„åˆ’å¯¼è®º

> åŸæ–‡ï¼š<https://towardsdatascience.com/introduction-to-linear-programming-b6647d20d5f6?source=collection_archive---------18----------------------->

## è¯†åˆ«çº¿æ€§ç¨‹åºé—®é¢˜å¹¶ä½¿ç”¨ CVXPY åœ¨ Python ä¸­è§£å†³å®ƒä»¬

![](img/52215bc76913999256d1ff6fb1022485.png)

ç”± [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ [Karoline Stk](https://unsplash.com/@kstock?utm_source=medium&utm_medium=referral) æ‹æ‘„çš„ç…§ç‰‡

# åŠ¨æœº

æƒ³è±¡ä¸€ä¸‹ï¼Œä¸ç®¡å‡ºäºä»€ä¹ˆåŸå› ï¼Œä½ æƒ³åªåƒè‹¹æœå’Œè‰è“ã€‚ä½ å¹¶ä¸çœŸçš„åçˆ±ä¸€ç§æ°´æœï¼Œä½†ä½ æƒ³ç¡®ä¿ä½ â€¦

1.  æ‘„å…¥è¶³å¤Ÿçš„ç»´ç”Ÿç´  C å’Œ
2.  æ‘„å…¥è¶³å¤Ÿçš„çƒ­é‡ã€‚

é™¤äº†ç»´ç”Ÿç´  C å’Œå¡è·¯é‡Œå«é‡ä¸åŒï¼Œè‹¹æœå’Œè‰è“çš„ä»·æ ¼ä¹Ÿä¸åŒã€‚æ‰€ä»¥ï¼Œå¾ˆè‡ªç„¶åœ°ï¼Œä½ ä¼šè¦æ±‚æœ€ä¾¿å®œçš„**é¥®é£Ÿï¼ŒåŒæ—¶æ»¡è¶³ä½ çš„ä¸¤ä¸ª*çº¦æŸ*ã€‚**

# æ•°ä¾‹

å‡è®¾ä½ æƒ³æ¯å¤©è‡³å°‘æ‘„å…¥ 300 æ¯«å…‹çš„ç»´ç”Ÿç´  C(è¿™å¤ªå¤šäº†ï¼Œä½†æ˜¯è¿™è®©é—®é¢˜å˜å¾—æ›´å¥½)ï¼Œä»¥åŠè‡³å°‘ 2000 å¡è·¯é‡Œçš„çƒ­é‡ã€‚æ°´æœæ•°æ®å¦‚ä¸‹æ‰€ç¤º:

![](img/f2664baa3838b0b761c3014a0da9c302.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚

ç°åœ¨æ€ä¹ˆæ‰èƒ½æ‰¾åˆ°è‹¹æœå’Œè‰è“çš„æœ€ä½³ç»„åˆå‘¢ï¼Ÿä»å˜é‡å¼€å§‹æ€»æ˜¯å¥½çš„:æˆ‘ä»¬å°†ä½ æ¯å¤©æ¶ˆè€—çš„è‹¹æœè´¨é‡è®°ä¸º *A* ï¼Œè‰è“è´¨é‡è®°ä¸º *S* (éƒ½ä»¥ 100 å…‹ä¸ºå•ä½)*ã€‚*ç”±äº *A* å’Œ *S* éƒ½æ˜¯é‡ï¼Œ**åº”è¯¥éƒ½å¤§äºç­‰äºé›¶**ã€‚

æœ‰äº†è¿™äº›å®šä¹‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ *A* ã€ *S* å’Œä»·æ ¼:***c*= 0.3 **A*+0.4 **S***æ¥å†™æˆæœ¬ã€‚ *c* åº”è¯¥æ˜¯æœ€å°åŒ–äº†ï¼Œä¸è¿‡è¿™ä¸ªåˆ°ç›®å‰ä¸ºæ­¢å¾ˆå®¹æ˜“:*ä»€ä¹ˆéƒ½ä¸åƒï¼ŒèŠ± 0â‚¬ã€‚*ç„¶è€Œï¼Œæˆ‘ä»¬ç›®å‰æ²¡æœ‰çº³å…¥æˆ‘ä»¬çš„è¥å…»é™åˆ¶ã€‚åˆ†åˆ«æ˜¯**4.6 **A*+58.8 **S*â‰¥300**å’Œ**52 **A*+33 **S*â‰¥2000**ã€‚é¥®é£Ÿ *A* = 0ï¼Œ *S* = 0 è¿åäº†è¿™äº›çº¦æŸï¼Œå› æ­¤ä¸æ˜¯è§£å†³æ–¹æ¡ˆã€‚

> ä¸Šé¢çš„é—®é¢˜æ˜¯ä¸€ä¸ªç®€å•çš„å¸¦æœ‰ä¸¤ä¸ªå˜é‡å’Œå››ä¸ªçº¦æŸçš„*çº¿æ€§è§„åˆ’*çš„æƒ…å†µï¼Œå¯ä»¥é€šè¿‡*çº¿æ€§è§„åˆ’*æ¥è§£å†³ã€‚

ç”¨ä¸€ç§æ›´ç®€æ´çš„è¡¨ç¤ºæ³•ï¼Œæˆ‘ä»¬å¿…é¡»è§£å†³ä»¥ä¸‹é—®é¢˜:

![](img/c396b1198cdd232305adfcee1368ff9b.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚

ä½ å¯ä»¥åœ¨ç»´åŸºç™¾ç§‘ä¸Šæ‰¾åˆ°[çš„ç¡®åˆ‡å®šä¹‰ã€‚](https://en.wikipedia.org/wiki/Linear_programming)

> æ³¨:*ç§°ä¹‹ä¸ºçº¿æ€§è§„åˆ’æ˜¯å› ä¸ºæœ€å°åŒ–é¡¹æ˜¯çº¿æ€§çš„ï¼Œ* ***ä¸æ˜¯*** *æ˜¯å› ä¸ºçº¦æŸæ˜¯çº¿æ€§çš„ã€‚*

æœ‰å‡ ç§æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸ºäº†è·å¾—ä¸€äº›ç›´è§‰ï¼Œæˆ‘ä»¬å°†é¦–å…ˆé€šè¿‡ä¸€ä¸ªå›¾è§£æ–¹æ³•ã€‚è¿™æ˜¯å”¯ä¸€å¯èƒ½çš„ï¼Œå› ä¸ºæˆ‘ä»¬åªæœ‰ä¸¤ä¸ªå˜é‡ï¼Œå¯ä»¥ç”»åœ¨å¹³é¢ä¸Šã€‚åœ¨æ›´é«˜çš„ç»´åº¦ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸åŒçš„ç®—æ³•æ¥è§£å†³é—®é¢˜ã€‚

# å›¾è§£æ³•

æˆ‘ä»¬èƒ½å¤Ÿç”»å‡ºæˆ‘ä»¬æ‰€æ‹¥æœ‰çš„çº¦æŸã€‚ä¾‹å¦‚ï¼Œçº¦æŸ 4.6 **A*+58.8 **S*â‰¥300**å¯ä»¥è¢«å¯è§†åŒ–å¦‚ä¸‹:**

**![](img/48b9f09551644e9e74f944dabc1ba3d1.png)**

**å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚**

**ç²—æ©™çº¿æ­£å¥½æ˜¯ç­‰å¼ 4.6 **A*+58.8 **S*= 300ã€‚å› ä¸ºæˆ‘ä»¬æœ‰æ›´å¤§çš„ç­‰å·ï¼Œæ‰€ä»¥ä¸ä»…çº¿ä¸Šçš„ç‚¹ï¼Œè€Œä¸”çº¿ä¸Šçš„æ¯ä¸ªç‚¹ä¹Ÿéµå®ˆè¿™ä¸ªçº¦æŸã€‚**

**è®©æˆ‘ä»¬åŠ ä¸Šå¡è·¯é‡Œé™åˆ¶:**

**![](img/2eac91f34b7a687d230e460b003bf8f6.png)**

**å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚**

**æ­¤å¤–ï¼Œæˆ‘ä»¬æœ‰çº¦æŸæ¡ä»¶ï¼ŒA*å’Œ S*å’Œ *S* åº”è¯¥æ˜¯æ­£æ•°ï¼Œä½†æˆ‘å°±æ˜¯è¿™æ ·é™åˆ¶æƒ…èŠ‚çš„ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬æœç´¢çš„è§£å†³æ–¹æ¡ˆ**å¿…é¡»åœ¨å³ä¸ŠåŒºåŸŸ**å¸¦æœ‰äº¤å‰é˜´å½±å›¾æ¡ˆçš„æŸå¤„ï¼Œå› ä¸ºåªæœ‰è¿™äº›ç‚¹è€ƒè™‘æ‰€æœ‰çº¦æŸã€‚æˆ‘ä»¬ç§°è¿™ä¸ªåŒºåŸŸä¸º*å¯è¡ŒåŒºåŸŸ*ã€‚**

**å¥½çš„ï¼Œæˆ‘ä»¬çŸ¥é“ç°åœ¨è¦å»å“ªé‡Œæ‰¾ï¼Œä½†æ˜¯ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ**æœ€å°åŒ– 0.3* *A* + 0.4* *S* ï¼****

**æˆ‘ä»¬ç°åœ¨å¯ä»¥ä»å¯è¡ŒåŸŸä¸­ç›²ç›®åœ°æ’å…¥ä¸€äº›å€¼ï¼Œä½†æ˜¯ç”±äºæœ‰æ— é™å¤šçš„ç‚¹ï¼Œæˆ‘ä»¬ä¸èƒ½æœŸæœ›å¾—åˆ°æ­£ç¡®çš„è§£ã€‚æ¯”å¦‚ *A* = 60ï¼Œ *S* = 3 å°±æ˜¯å€™é€‰ã€‚è¿™ç§å‡è‚¥æ³•çš„æˆæœ¬æ˜¯ 0.3*60 + 0.4*3 = 19.2 â‚¬ï¼Œç”± 6 å…¬æ–¤è‹¹æœå’Œ 300 å…‹è‰è“ç»„æˆã€‚**

> **ä¸€å¤© 6 æ–¤è‹¹æœï¼Œè®©æ¯ä¸ªåŒ»ç”Ÿæ°¸è¿œè¿œç¦»ã€‚**

**![](img/dce93c0a698a82c6c1eb6e480117e10e.png)**

**å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚**

**ä½ èƒ½æƒ³åˆ°æ›´å¥½çš„å€™é€‰äººå—ï¼Ÿä¸ºäº†æœ€å°åŒ–æˆæœ¬ï¼Œå°å€¼çš„ *A* å’Œ *S* æ˜¯æœ‰åˆ©çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ä»âœ–ç§»åŠ¨åˆ°åº•éƒ¨å’Œå·¦ä¾§å‘¢ï¼Ÿ**

**![](img/5d69822f42e52a642ad0f32260af1c37.png)**

**å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚**

**æˆ‘ä»¬æ’ä¸Šï¼Œç‚¹åœ¨ *A* = 37ï¼Œ *S* = 2.2 å·¦å³ã€‚è¿™ç§å‡è‚¥æ³•çš„è´¹ç”¨æ˜¯ 0.3*37 + 0.4*2.2 â‰ˆ 12 â‚¬ï¼Œæ¯”ç¬¬ä¸€ç§å‡è‚¥æ³•ä¾¿å®œ 7 â‚¬å·¦å³ï¼ä½œä¸ºä¸€ä¸ªå¾ˆå¥½çš„å‰¯ä½œç”¨ï¼Œæˆ‘ä»¬æ¯å¤©åªéœ€è¦åƒ 3.7 å…¬æ–¤çš„è‹¹æœã€‚æ„¿è¿™æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ¡ˆï¼Ÿ**

**å—¯ï¼Œæ˜¯çš„ï¼ç°åœ¨æœ‰ä¸€äº›å¾ˆå¥½çš„ç†è®ºè¯´:**

> **æœ€ä¼˜è§£æ€»æ˜¯åœ¨å¯è¡ŒåŸŸçš„æŸä¸ªè§’è½ã€‚**

**è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹å¦ä¸€ä¸ªè§’ï¼Œå¤§çº¦åœ¨ *A* â‰ˆ 65ï¼Œ *S* = 0ã€‚è¿™é‡Œçš„æˆæœ¬å¤§çº¦æ˜¯ 0.3*65 = 19.5 â‚¬ï¼Œå†æ¬¡é«˜äºå…¶ä»–è§’è½çš„æˆæœ¬ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç”¨å›¾è§£æ³•æ‰¾åˆ°äº†æœ€ä¼˜è§£ã€‚ç”šè‡³æ²¡æœ‰é‚£ä¹ˆéš¾ã€‚**

# **ä½¿ç”¨ CVXPY è§£å†³é—®é¢˜**

**æ­£å¦‚æˆ‘ä¹‹å‰æ‰€è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è§£å†³å®ƒï¼Œå› ä¸ºæˆ‘ä»¬æœ‰ä¸¤ä¸ªå˜é‡ã€‚åœ¨æ›´é«˜ç»´åº¦ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½ç”»ä¸€äº›çº¿å’Œæ£€æŸ¥è§’è½ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¾é ç®—æ³•æ¥è§£å†³è¿™ç±»é—®é¢˜ã€‚å…¶ä¸­ä¸€äº›æ˜¯ Dantzig çš„[å•çº¯å½¢ç®—æ³•æˆ–](https://en.wikipedia.org/wiki/Linear_programming#Simplex_algorithm_of_Dantzig)[å†…ç‚¹æ–¹æ³•](https://en.wikipedia.org/wiki/Linear_programming#Interior_point)æ—ï¼Œæˆ‘åœ¨æ­¤ä¸å†æè¿°ã€‚ç›¸åï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ Python åº“ [**CVXPY**](https://www.cvxpy.org/) æ¥å®Œæˆç¹é‡çš„å·¥ä½œã€‚**

**ä¹‹åï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢å‡ è¡Œæ¥è§£å†³ä¸Šé¢çš„é¥®é£Ÿé—®é¢˜:**

```
import cvxpy as cp

A = cp.Variable()
S = cp.Variable()

objective = cp.Minimize(0.3*A + 0.4*S)

constraints = [
    4.6*A + 58.8*S >= 300,
    52*A + 33*S >= 2000,
    A >= 0,
    S >= 0
]

linear_program = cp.Problem(objective, constraints)

result = linear_program.solve()

print(f'A = {A.value:.2f}, S = {S.value:.2f}, costs = {result:.2f}')
```

**è¿™ä¸ªçŸ­ç¨‹åºè¾“å‡º *A* = 37.06ï¼Œ *S* = 2.20ï¼Œcosts = 12.00ï¼Œè¿™è¯å®äº†æˆ‘ä»¬çš„å›¾å½¢è§£å†³æ–¹æ¡ˆç¡®å®æ˜¯æ­£ç¡®çš„ï¼**

**çœ‹çœ‹ CVXPY åº“çš„ç•Œé¢æœ‰å¤šæ¼‚äº®ã€‚æ²¡æœ‰æ¯”è¿™æ›´ç˜¦çš„äº†ã€‚ä½ å‘Šè¯‰å®ƒæœ€å°åŒ–ï¼Œå¹¶ç»™å‡ºå…¬å¼ï¼Œä½ æä¾›ä¸€ä¸ªç®€å•çš„çº¦æŸåˆ—è¡¨ï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°å†™ï¼Œä½ åˆ›å»ºä¸€ä¸ªé—®é¢˜å®ä¾‹ï¼Œç„¶åä½ è§£å†³å®ƒã€‚ä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°æˆ‘ä»¬ä¹‹å‰ç”¨è¿‡çš„æ‰€æœ‰å…¬å¼ã€‚**

**è¿˜æœ‰å…¶ä»–å¾ˆæ£’çš„åŒ…è£…ï¼Œå¦ä¸€ä¸ªè‘—åçš„æ˜¯[æœè‚‰](https://coin-or.github.io/pulp/)ã€‚ç„¶è€Œï¼Œæˆ‘è®¤ä¸º CVXPY è¯­æ³•ä»ç„¶æ˜¯æœ€å¥½çš„ã€‚**

# **ç»“è®º**

**åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œçº¿æ€§ç¨‹åºä¸æ˜¯ä¸€ç§ç‰¹æ®Šé£æ ¼çš„è®¡ç®—æœºç¨‹åºï¼Œè€Œæ˜¯ä¸€ä¸ªä¼˜åŒ–é—®é¢˜ã€‚æˆ‘ä»¬åˆ¶å®šäº†ä¸€ä¸ªç®€å•çš„ç©å…·é—®é¢˜ï¼Œå¹¶ç”¨ä¸¤ç§ä¸åŒçš„æ–¹æ³•è§£å†³äº†å®ƒã€‚**

1.  **æœ€å¤šåªèƒ½å¤„ç†ä¸¤ä¸ªå˜é‡çš„å›¾è§£æ³•ï¼Œä½†æ˜“äºç†è§£å’Œæ‰‹åŠ¨åº”ç”¨ã€‚**
2.  **éšè—åœ¨ CVXPY ç­‰ä»¤äººæ•¬ç•çš„é«˜çº§çº¿æ€§ç¨‹åºåº“ä¸­çš„é«˜çº§ç®—æ³•ã€‚**

**CVXPY ç”šè‡³å¯ä»¥è§£å†³æ¯”çº¿æ€§è§„åˆ’æ›´ä¸€èˆ¬çš„é—®é¢˜ï¼Œæ¯”å¦‚æœ€å°åŒ–å…¬å¼ä¸ºäºŒæ¬¡çš„[äºŒæ¬¡è§„åˆ’](https://en.wikipedia.org/wiki/Quadratic_programming)ã€‚å®ƒè¿˜å¯ä»¥è§£å†³å¸¦æœ‰æŸäº›çº¦æŸçš„çº¿æ€§ç¨‹åºï¼Œè¿™äº›çº¦æŸä½¿æ±‚è§£å˜å¾—æ›´åŠ å›°éš¾ï¼Œä¾‹å¦‚å˜é‡å¿…é¡»æ˜¯**æ•´æ•°**ï¼Œæˆ–è€…åªèƒ½æ˜¯ **0/1** ã€‚è¿™äº›é—®é¢˜ç”šè‡³æ˜¯ [NP-complete](https://en.wikipedia.org/wiki/NP-completeness) ï¼Œè¿™é€šå¸¸æ„å‘³ç€è§£å†³å¤§å‹å®ä¾‹å˜å¾—ä¸å¯è¡Œã€‚ä½†æ˜¯ [CVXPY](https://www.cvxpy.org/) è¿˜æ˜¯å°½åŠ›äº†ã€‚**

**æœ€åä¸€ç‚¹ï¼Œå½“ç„¶ï¼Œè¿˜æœ‰æ¯”æˆ‘ä»¬è®¨è®ºçš„æ›´æœ‰è¶£çš„çº¿æ€§ç¨‹åºã€‚ä¾‹å¦‚ï¼Œæ£€æŸ¥ä¸€ä¸‹[æ–¯è’‚æ ¼å‹’é¥®é£Ÿ](https://en.wikipedia.org/wiki/Stigler_diet)ï¼Œè¿™æ˜¯ä¸€ä¸ªç±»ä¼¼çš„é—®é¢˜ï¼Œä½†æ˜¯æœ‰æ›´å¤šçš„é£Ÿç‰©å’Œè¥å…»ã€‚æ— è®ºå¦‚ä½•ï¼Œä½ ç°åœ¨èƒ½å¤Ÿå‘ç°çº¿æ€§è§„åˆ’ï¼Œå¹¶ç›¸åº”åœ°é‡‡å–è¡ŒåŠ¨è§£å†³å®ƒä»¬ï¼**

**æˆ‘å¸Œæœ›ä½ ä»Šå¤©å­¦åˆ°äº†æ–°çš„ã€æœ‰è¶£çš„ã€æœ‰ç”¨çš„ä¸œè¥¿ã€‚æ„Ÿè°¢é˜…è¯»ï¼**

****ä½œä¸ºæœ€åä¸€ç‚¹ï¼Œå¦‚æœä½ ****

1.  ****æƒ³æ”¯æŒæˆ‘å¤šå†™ç‚¹æœºå™¨å­¦ä¹ å’Œ****
2.  ****æ— è®ºå¦‚ä½•éƒ½è¦è®¡åˆ’è·å¾—ä¸­ç­‰è®¢é˜…é‡ï¼Œ****

****ä¸ºä»€ä¹ˆä¸åš** [**é€šè¿‡è¿™ä¸ªç¯èŠ‚**](https://dr-robert-kuebler.medium.com/membership) **ï¼Ÿè¿™å°†å¯¹æˆ‘å¸®åŠ©å¾ˆå¤§ï¼ğŸ˜Š****

**é€æ˜åœ°è¯´ï¼Œç»™ä½ çš„ä»·æ ¼ä¸å˜ï¼Œä½†å¤§çº¦ä¸€åŠçš„è®¢é˜…è´¹ç›´æ¥å½’æˆ‘ã€‚**

**éå¸¸æ„Ÿè°¢ï¼Œå¦‚æœä½ è€ƒè™‘æ”¯æŒæˆ‘çš„è¯ï¼**

> ***æœ‰é—®é¢˜å°±åœ¨*[*LinkedIn*](https://www.linkedin.com/in/dr-robert-k%C3%BCbler-983859150/)*ä¸Šå†™æˆ‘ï¼***