# å¤„ç†æ•°æ®é›†ä¸­ç¼ºå¤±æ•°æ®çš„ 4 ç§æŠ€æœ¯

> åŸæ–‡ï¼š<https://towardsdatascience.com/4-techniques-to-deal-with-missing-data-in-datasets-841f8a303395?source=collection_archive---------4----------------------->

## å¯ä»¥æ¶ˆé™¤ç¼ºå¤±å€¼å½±å“çš„ç®€å•æ–¹æ³•

![](img/412795ec04156a264374cf9ff13ad4d7.png)

å…°è¿ªÂ·æ³•ç‰¹åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

å¯¹äºæ¯ä¸ªæ•°æ®ç§‘å­¦å®¶æ¥è¯´ï¼Œç¼ºå¤±æ•°æ®éƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬å¯èƒ½æ— æ³•æ‰§è¡Œæˆ‘ä»¬æƒ³è¦çš„åˆ†æï¼Œæˆ–è€…æ— æ³•è¿è¡ŒæŸä¸ªæ¨¡å‹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è®¨è®ºå¤„ç†ç¼ºå¤±å€¼çš„ç®€å•æ–¹æ³•ã€‚ç„¶è€Œï¼Œé¦–å…ˆï¼Œæ²¡æœ‰å¤„ç†ç©ºæ•°æ®çš„â€œå®˜æ–¹â€æœ€ä½³æ–¹æ³•ã€‚é€šå¸¸ï¼Œå¤„ç†è¿™ç§æƒ…å†µçš„æœ€ä½³æ–¹å¼æ˜¯ç†è§£æ•°æ®æ¥è‡ªå“ªé‡Œä»¥åŠå®ƒæ„å‘³ç€ä»€ä¹ˆã€‚è¿™è¢«ç§°ä¸ºé¢†åŸŸçŸ¥è¯†ã€‚ä¸ç®¡æ€æ ·ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„å’ŒæƒŠäººçš„[æ³°å¦å°¼å…‹å·æ•°æ®é›†](https://www.kaggle.com/c/titanic) (CC0 è®¸å¯è¯)ã€‚æˆ‘ç›¸ä¿¡ä½ ä»¬éƒ½å¬è¯´è¿‡ã€‚æ•°æ®é›†å¦‚ä¸‹æ‰€ç¤º:

```
**import** **pandas** **as** **pd** data = pd.read_csv('test.csv')
data.info()
```

![](img/3074771aa8a5c7bb1f589a6dda49cba6.png)

å›¾ç‰‡ä½œè€…ã€‚

```
data.isnull().sum()
```

![](img/d8b3bf169d99ed997c5cdfc5ebd8d035.png)

å›¾ç‰‡ä½œè€…ã€‚

æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œä¸¢å¤±çš„æ•°æ®åªåœ¨â€œå¹´é¾„â€å’Œâ€œèˆ¹èˆ±â€æ ä¸­ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯æµ®ç‚¹å’Œåˆ†ç±»æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»ä¸åŒåœ°å¤„ç†è¿™ä¸¤åˆ—ã€‚

# 1.åˆ é™¤æ•°æ®

æœ€ç®€å•çš„æ–¹æ³•æ˜¯åˆ é™¤ä¸€åˆ—æˆ–å‡ åˆ—åŒ…å«ç©ºæ¡ç›®çš„æ•´ä¸ªè®­ç»ƒç¤ºä¾‹ã€‚

```
data = data.dropna()
data.isnull().sum()
```

![](img/997c65f8c9f1f76f7bdddef2f93728e3.png)

å›¾ç‰‡ä½œè€…ã€‚

ç°åœ¨æ²¡æœ‰ç©ºæ¡ç›®äº†ï¼ç„¶è€Œï¼Œå¤©ä¸‹æ²¡æœ‰å…è´¹çš„åˆé¤ã€‚çœ‹çœ‹è¿˜å‰©ä¸‹å¤šå°‘è®­ç»ƒæ ·æœ¬:

![](img/1293f7b016e308008f1320326b336273.png)

å›¾ç‰‡ä½œè€…ã€‚

åªå‰©ä¸‹ 87 ä¸ªä¾‹å­äº†ï¼æœ€åˆæœ‰ 418 ä¸ªï¼Œå› æ­¤æˆ‘ä»¬å°†æ•°æ®é›†å‡å°‘äº†å¤§çº¦ 80%ã€‚è¿™è¿œéç†æƒ³ï¼Œä½†å¯¹äºå…¶ä»–æ•°æ®é›†ï¼Œè¿™ç§æ–¹æ³•å¯èƒ½éå¸¸åˆç†ã€‚æˆ‘è®¤ä¸ºæœ€å¤šå‡å°‘ 5%å°±å¯ä»¥äº†ï¼Œå¦åˆ™æ‚¨å¯èƒ½ä¼šä¸¢å¤±æœ‰ä»·å€¼çš„æ•°æ®ï¼Œä»è€Œå½±å“æ¨¡å‹çš„è®­ç»ƒã€‚

# 2.ä¼°ç®—å¹³å‡å€¼

ä¸‹ä¸€ä¸ªæ–¹æ³•æ˜¯ç»™ç©ºæ¡ç›®åˆ†é…ä¸€äº›å¹³å‡å€¼(å‡å€¼ã€ä¸­å€¼æˆ–ä¼—æ•°)ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹æ•°æ®ä¸­çš„ä»¥ä¸‹ç‰‡æ®µ:

```
data[100:110]
```

![](img/8c437d9c0707d9513a96aff3c548db95.png)

å›¾ç‰‡æ¥è‡ªä½œè€…ã€‚

å¯¹äºâ€œå¹´é¾„â€åˆ—ï¼Œå¹³å‡å€¼å¯è®¡ç®—å¦‚ä¸‹:

```
data.fillna(data.mean(), inplace=**True**)
```

![](img/e5a668b6ba151ce5e096b035674b2d95.png)

å›¾ç‰‡æ¥è‡ªä½œè€…ã€‚

30 å²çš„å¹³å‡å¹´é¾„ç°åœ¨å·²ç»è¢«æ·»åŠ åˆ°ç©ºæ¡ç›®ä¸­ã€‚æ³¨æ„ï¼Œå¯¹äºâ€œCabinâ€åˆ—ï¼Œæ¡ç›®ä»ç„¶æ˜¯ NaNï¼Œå› ä¸ºæ‚¨ä¸èƒ½è®¡ç®—å¯¹è±¡æ•°æ®ç±»å‹çš„å¹³å‡å€¼ï¼Œå› ä¸ºå®ƒæ˜¯åˆ†ç±»çš„ã€‚è¿™å¯ä»¥é€šè¿‡è®¡ç®—å…¶æ¨¡å¼æ¥è§£å†³:

```
data = data.fillna(data['Cabin'].value_counts().index[0])
```

![](img/c73a0f99dc847ca81624e63e3ffe23ad.png)

å›¾ç‰‡ä½œè€…ã€‚

# 3.åˆ†é…æ–°ç±»åˆ«

å…³äºâ€œCabinâ€ç‰¹å¾ï¼Œå®ƒåªæœ‰ 91 ä¸ªæ¡ç›®ï¼Œçº¦å æ€»ç¤ºä¾‹çš„ 25%ã€‚æ‰€ä»¥æˆ‘ä»¬ä¹‹å‰ç®—å‡ºæ¥çš„æ¨¡å€¼ä¸æ˜¯å¾ˆé è°±ã€‚æ›´å¥½çš„æ–¹æ³•æ˜¯ç»™è¿™äº› NaN å€¼åˆ†é…å®ƒä»¬è‡ªå·±çš„ç±»åˆ«:

```
data['Cabin'] = data['Cabin'].fillna('Unkown')
```

![](img/419ff5d1c1047725add90a16e9e232c4.png)

å›¾ç‰‡ä½œè€…ã€‚

ç”±äºæˆ‘ä»¬ä¸å†æœ‰ä»»ä½• NaN å€¼ï¼Œæœºå™¨å­¦ä¹ ç®—æ³•ç°åœ¨å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ•°æ®é›†ã€‚ç„¶è€Œï¼Œå®ƒå°†åœ¨â€œèˆ¹èˆ±â€ä¸€æ ä¸­ä½¿ç”¨â€œæœªçŸ¥â€çš„ç‹¬ç‰¹å€¼ä½œä¸ºè‡ªå·±çš„ç±»åˆ«ï¼Œå°½ç®¡å®ƒåœ¨æ³°å¦å°¼å…‹å·ä¸Šä»æœªå­˜åœ¨è¿‡ã€‚

# 4.æŸäº›ç®—æ³•

æœ€åä¸€ä¸ªæŠ€å·§æ˜¯ä»€ä¹ˆéƒ½ä¸åšã€‚å¤§å¤šæ•°æœºå™¨å­¦ä¹ ç®—æ³•ä¸å¤„ç†ç¼ºå¤±æ•°æ®ã€‚å¦ä¸€æ–¹é¢ï¼ŒK è¿‘é‚»ã€æœ´ç´ è´å¶æ–¯å’Œ XGBoost ç­‰ç®—æ³•éƒ½å¯ä»¥å¤„ç†ç¼ºå¤±æ•°æ®ã€‚ç½‘ä¸Šæœ‰å¾ˆå¤šå…³äºè¿™äº›ç®—æ³•åŠå…¶å®ç°çš„æ–‡çŒ®ã€‚

# ç»“è®º

æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥å¤„ç†ç¼ºå¤±æ•°æ®ã€‚æŸäº›æ–¹æ³•æ¯”å…¶ä»–æ–¹æ³•æ›´å¥½ï¼Œè¿™å–å†³äºæ•°æ®çš„ç±»å‹å’Œä¸¢å¤±çš„æ•°é‡ã€‚è¿˜æœ‰æ›´å¤æ‚çš„è¾“å…¥ç¼ºå¤±æ•°æ®çš„æ–¹æ³•ï¼Œæˆ‘æ²¡æœ‰åœ¨è¿™é‡Œä»‹ç»ï¼Œä½†æ˜¯è¿™äº›é€‰é¡¹æ˜¯å¸®åŠ©æ‚¨å¼€å§‹çš„å¾ˆå¥½çš„é€‰æ‹©ã€‚

å®Œæ•´ä»£ç è¯·è§æˆ‘çš„ GitHub:

[](https://github.com/egorhowell/Medium-Articles/blob/main/Data%20Science%20Basics/Dealing%20With%20Missing%20Data.ipynb) [## ä¸­å‹æ–‡ç« /å¤„ç†ç¼ºå¤±æ•°æ®ã€‚ipynb at main egorhowell/ä¸­å‹æ–‡ç« 

### æˆ‘åœ¨æˆ‘çš„åª’ä½“åšå®¢/æ–‡ç« ä¸­ä½¿ç”¨çš„ä»£ç ã€‚é€šè¿‡åˆ›å»ºä¸€ä¸ªå…³äºâ€¦çš„å¸æˆ·ï¼Œä¸º egorhowell/Medium-Articles çš„å¼€å‘åšå‡ºè´¡çŒ®

github.com](https://github.com/egorhowell/Medium-Articles/blob/main/Data%20Science%20Basics/Dealing%20With%20Missing%20Data.ipynb) 

# å’Œæˆ‘è”ç³»ï¼

*   è¦åœ¨åª’ä½“ä¸Šé˜…è¯»æ— é™çš„æ•…äº‹ï¼Œè¯·åŠ¡å¿…åœ¨æ­¤æ³¨å†Œï¼T3*ğŸ’œ*
*   [*å½“æˆ‘åœ¨è¿™é‡Œå‘å¸ƒæ³¨å†Œé‚®ä»¶é€šçŸ¥æ—¶ï¼Œå¯ä»¥è·å¾—æ›´æ–°ï¼*](/subscribe/@egorhowell) ğŸ˜€
*   [*é¢†è‹±*](https://www.linkedin.com/in/egor-howell-092a721b3/) ğŸ‘”
*   [*æ¨ç‰¹*](https://twitter.com/EgorHowell) ğŸ–Š
*   [*github*](https://github.com/egorhowell)*ğŸ–¥*
*   *[](https://www.kaggle.com/egorphysics)**ğŸ…***

> ***(æ‰€æœ‰è¡¨æƒ…ç¬¦å·ç”± [OpenMoji](https://openmoji.org/) è®¾è®¡â€”â€”å¼€æºè¡¨æƒ…ç¬¦å·å’Œå›¾æ ‡é¡¹ç›®ã€‚è®¸å¯è¯: [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/#)***