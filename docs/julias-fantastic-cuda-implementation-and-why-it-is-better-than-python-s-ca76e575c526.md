# Julia 神奇的 CUDA 实现

> 原文：<https://towardsdatascience.com/julias-fantastic-cuda-implementation-and-why-it-is-better-than-python-s-ca76e575c526?source=collection_archive---------21----------------------->

## 使用 CUDA.jl 包探索简单并行计算的真正力量。

![](img/aef0d959ee3a0c6978a8dec4dc8d0fcd.png)

[https://unsplash.com/photos/0F2tAwBmBjo](https://unsplash.com/photos/0F2tAwBmBjo)

# 介绍

由于许多不同的原因，包括速度、科学的语法和易用性，Julia 语言已经进入了数据科学领域的前沿。然而，Julia 语言的一个被大大低估的特性是它在并行计算方面的非凡能力。Julia 的设计初衷是并行计算。这与 Python 之类的语言有很大的不同，在 Python 中，这些实现是后来才添加到语言中的，在很多情况下都没有很好地实现。

当然，总的来说，Julia 也是一种速度较快的语言。因此，将这两种属性结合在一起，肯定能让朱莉娅站在一些最快计算的前沿。我认为这非常令人兴奋，因为 Julia 真的是第一个以这种方式构建的科学计算语言。这个实现的另一个优点是使用起来非常简单。

# CUDA.jl

在今天的文章中，我将重点介绍 CUDA.jl 包，因为我没有太多使用 AMD 卡和并行计算的经验。然而，在生态系统中确实有一些包是为那些拥有红队卡片的人持续维护的。不管你有什么样的卡，你都不太可能在 Julia 的并行计算中被蒙在鼓里，除非你使用的是 I-GPU。

CUDA.jl 包是一个相对简单的包，它充满了对各种不同包的调度。我们将在后面更多地讨论这个调度意味着什么。我们当然可以使用 Pkg 添加这个包，就像我们添加任何其他的 Julia 包一样:

```
julia > ]
pkg > add CUDA
```

> 或者

```
using Pkg
Pkg.add("CUDA")
```

这个包的使用实际上非常简单，我们会解释为什么会这样——但是现在，我想说明一下它实际上有多简单。考虑添加这两个数组:

```
x = [5, 10, 15, 20]
y = [5, 10, 15, 20]x .+ y
```

使用 CUDA 包，我们可以简单地将 CuArray 类型转换为两个数组。这将使它们成为 CuArray 类型，这意味着当它们被添加时，算法将在 GPU 和 CPU 之间分割。很酷，对吧？

```
using CUDA
x = CuArray([5, 10, 15, 20])
y = CuArray([5, 10, 15, 20])x .+ y
```

# CUDA 调度

和大多数 Julia 程序员可用的包一样，这个包利用了 Julia 的多重调度。如果您想了解更多关于多重分派的一般知识，以及为什么多重分派是我最喜欢的计算机编程方式，我写了一整篇文章，都是关于它在 Julia 编程语言中的实现，您可以在这里查看:

</why-multiple-dispatch-is-my-favorite-way-to-program-786bf78f4878>  

对 Julia 来说，这个 CUDA.jl 包最酷的地方在于，它真正利用了多分派的概念，通过扩展基本函数来产生许多调用，这些调用实际上与它们的常规内存和处理器对应部分相同，同时仍然利用了 CUDA 的优势。这意味着在很多情况下，算法可以像没有 CUDA 时一样正常执行。换句话说，我们获得了 CUDA 的好处，而没有这种努力通常会引起的任何头痛。我认为这真的很酷，因为我真的从未使用过如此强大的并行处理平台的如此易用的实现。对于任何热爱技术和寻求更快编译时间的人，我当然会推荐看看这个实现，这样你就可以看到在 Julia 中使用 CuArrays 实际上是多么容易！

# 结论

在能够利用 CUDA 并行处理技术的一长串编程语言中，我认为 Julia 无疑是最无缝实现的佼佼者。这个实现真正酷的地方在于它没有使用任何 Julia 语言独有的东西。事实上，Julia 最酷的一点是，函数经常在整个包的范围内简单地循环使用，只是为了保存不同的类型而被分派。

不管语言本身的编译速度有多快，尽管这也令人印象深刻，但 CUDA 在 Julia 语言中的实现将为这些程序的编程过程节省大量时间。非常感谢您阅读我的文章，我真的希望它点燃了您对并行计算的内心之火。我想说的是，这个 CUDA 实现也是非常容易实现的，所以没有理由不去尝试一下！