# 确保在任何公司成为成功的新数据工程师的 3 个步骤

> 原文：<https://towardsdatascience.com/3-steps-to-ensure-success-as-a-new-hire-data-engineer-at-any-company-e28ad470e914?source=collection_archive---------26----------------------->

## [办公时间](https://towardsdatascience.com/tagged/office-hours)

## 祝贺你获得了数据工程师的职位！现在怎么办？

*TL；文末博士。*

![](img/e399bf2cd943a9b2f76027aec5554a65.png)

照片由[拉兹万·苏驰](https://unsplash.com/@nullplus?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

我从事数据工程已经四年了，很高兴看到这股浪潮已经兴起。有影响力的人(从 YouTube 到 LinkedIn top voices)和公司已经开始认识到，如果他们认真对待扩大分析并让数据为他们服务，而不是相反，那么在聘用数据工程师之前聘用数据科学家的重要性(* *插入存储神秘数据的预算，并在基础架构迁移之间关心它们*)。

就像现在这样，数据工程技术栈似乎已经尘埃落定，Hadoop/Cloud 用于数据存储(和仓储)，Spark/Databricks 用于数据处理，Airflow 用于数据管道编排(虽然如果您的管道封装在微服务中，可以与生产中的其他微服务一起使用，这可以扩展到 Kubernetes)，最后但同样重要的是，Python/SQL/Scala 用于编写管道和数据模型本身。

但是，谁知道呢，随着 [dbt](https://www.getdbt.com/) 的出现，向 ELT 的[范式转变日益成为现实，以及](https://www.guru99.com/etl-vs-elt.html)[分析工程师](https://www.kdnuggets.com/2019/02/analytics-engineer-data-team.html#:~:text=The%20analytics%20engineer%20sits%20at,%2C%20analysts%2C%20and%20data%20engineers.&text=It's%20their%20job%20to%20build,data%20team%20as%20a%20whole.)这一新兴角色的出现，也许这一切会在下一个 5 年内再次改变？

那你会怎么做？立志成为一名数据工程师有什么意义？

![](img/8ba3743392ed89561992f28aa61bbb16.png)

对塞巴斯蒂安·拉米雷斯的礼貌

在这四年中，我看到了对技术要求的过度强调，以及不切实际的、期望的多年经验。

虽然我理解在寻找合格候选人时查看技能清单的简单性，但这种清单应该更加轻松，因为即使是招聘经理也可能不知道高级管理层希望在下个季度“试用”什么工具，或者现有的数据基础设施是否正在恶化，以至于很快就要迁移到新的技术体系。(关于这一点，你如何积累 5 年以上的*或*特定技术？)

在这篇文章中，我希望我们所有人都从紧张的技术要求和“我如何去学习所有这些”的无限循环中休息一下。我喜欢从商业角度来探讨对数据工程师的需求，而不是一头扎进辩论哪种编程语言最适合分析，或者密集地编写一个传输没人需要的数据的高性能管道，所以**我将向你展示三个关键步骤，当你加入任何规模的公司时，作为一名数据工程师，你应该专注于这三个步骤**。

*注意:下面提到的“系统”可以指微服务，可以是也可以不是数据管道，没错，电子表格，虽然技术上不正确，也算。*

# 这一切都是通过业务密钥联系在一起的！

在数据建模领域，业务键有一个更严肃的名字，叫做“主键”。这些主键可以是足以标识表中唯一记录的单个字段，也可以是基本上只是多个重要字段组合起来标识唯一记录的组合键，或者是基于多个重要字段的唯一组合的无意义、编号或散列字段的代理键。

您可能已经猜到了——这些重要的字段是您的业务密钥。

业务关键字可以是上游系统(例如，跟踪订单的应用程序或电子表格)决定的递增整数、订单日期、具有某种约定的客户 id(例如，您可以判断出 CAN001 是来自加拿大的客户)，或者散列登录会话 ID。

不管是什么，理解业务关键通常是理解系统集成、报告准确性和使世界(公司)运转的关键组件的一半。

如果已经有主题专家可以指导您浏览表，那么识别业务键可能是轻而易举的事情，但是如果数据集非常新颖，有一些确定的方法可以识别它们，方法是计算表(如果存在分区的话)中的行数，以及如果您`SELECT DISTINCT`它们(或者如果您仍然想查看其余的数据，请尝试`row_number()`)具有相同行数的字段。这些业务关键字中的 NULL 值或空值会使这些记录无效，如果它们数量很大，您需要与系统管理员联系以进行补救。

![](img/a415dddb00aae38817429bd3c10d69a1.png)

在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上由 [Aniyora J](https://unsplash.com/@yora_dreams?utm_source=medium&utm_medium=referral) 拍摄的照片

为了更进一步，您可以尝试将数据集 A 与包含相同字段的数据集 B 连接起来，比如说，业务关键字 Y。如果您成功地将它们连接起来，因为业务关键字 Y 下的所有值都可以在数据集 B 中找到，那么您就知道您已经确定了两个相关的表，这两个表很可能是由两个不同的系统或报表生成的。如果你还没有成功加入他们(部分没有找到任何价值)，那么，这就是你被雇用的原因！是时候深入挖掘所生成的值的逻辑了，并确定是否有一种由业务逻辑支持的方法来重新生成您在数据集 a 的业务键 Y 中看到的值。

也许如果一个业务键被称为“业务胶”，它会更容易被炒作，而“胶”无疑更能描述业务键的作用。它们识别每个真实的记录，并用于清除重复的记录。它们支持“join”操作和查找，因此它们间接地向您展示了两个业务键是 1:1 还是 1:N 关系(请不要是疯狂的 N:M 关系。这意味着该表需要一些重构)。他们的转换逻辑很少被干涉，因为这可能意味着对生成它们的系统或报告进行重大的修改。

因此，第一步，一旦你获准访问新公司的数据基础设施，就开始浏览你的团队定期维护的表格，最重要的是，确定它们之间的联系。准备好记笔记，因为你的大脑可能只能记下三个商业关键词之间的关系。

# 高粒度有利于消化

![](img/8bd44e821cfe01309fb07d22aafc0e25.png)

照片由[本·怀特](https://unsplash.com/@benwhitephotography?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

我相信这不是你第一次听到将数据与食物进行比较，因为 Cassie Kozyrkov 的微波类比对我们理解整个数据科学学科有很大帮助。

前 5 分钟进行微波类比

你如何知道你面前的数据集是否是原始的(最细粒度的)？

如果你没有跳过这一节之前的部分，你已经有一半的答案了。也就是说，如果您的数据集有业务关键字，那么这几乎总是您可以获得的最细粒度的数据，除非有另一个系统来进一步细分它(例如，因为一个订单可以拆分为多个发货，所以一个发货编号可以汇总为一个订单编号)。

使用业务关键字深入了解最细粒度的数据以及在一个时间窗口内预期有多少真实记录，可以让您对数据质量进行强大的控制，并灵活地更改您的数据策略或业务模型。您将知道您的基线，比如当前被跟踪的指标或指标的每日行数，并从那里开始比较。

以装运号与订单号为例，假设您的公司只与一家运输公司合作(运输 A ),当装运号=订单号时，事情就简单多了。但是，随着业务的增长和疫情的出现，运输 A 不再能够完成所有订单，您开始与第二家运输公司(运输 B)合作。高级管理人员协商了一笔交易，这一切都很好，直到你不能非常准确地向高级管理人员报告装运 B 已经完成了多少次装运，因为你仍然在忙着将装运数量从一个公司分割到另一个公司。

谨慎的方法是了解在一个时间窗口内(每小时/每天/每周)装运 A 通常履行了多少订单，影响决策者同意一个可扩展的装运号约定，该约定可以很容易地将不同的装运公司识别为更新的业务关键字，并且随着装运 B 履行更多订单，通过监控一个时间窗口内每个订单号+装运号的记录计数来跟踪“新常态”。

假设运输 A 通常每周装运 100，000 个订单(您的基线)，在运输 B 开始后，似乎运输 B 现在完成了 40，000 个订单，而运输 A 完成了其余的 60–70，000 个订单。现在，下游汇总报告甚至有了一个新的指标，您可以跟踪每个订单，有多少发货是通过发货 A 与发货 B 完成的(例如，一个 5 件商品的订单，3 件由 A 发货，2 件由 B 发货)，而无需对原始表进行任何结构性更改。

![](img/96333a196f463cc413f21f8267e846e4.png)

马库斯·考夫曼在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

让我们试着加入一两个“数据灾难”。想象一下，shipping A 的服务器出现故障，因此他们报告他们的订单完成量为 50K。如果您没有深入了解交易装运表和装运 A 的装运编号惯例来进行行计数，最初可能不会明显看出装运 A 的数据不准确，并会让指挥链中的某个人标记此“数据问题”。想象一下，再过一个月，您的订单数量猛增到每周 30 万，您的老板虽然很兴奋，但考虑到数据灾难的最后一幕，他还是小心翼翼地让您检查这 30 万订单是否是一笔真实的交易。记住基线数字，并且能够根据业务键进行查询(让我们希望业务键也全部正确生成)，那么您很快就可以与您的老板确认 30 万订单不是由于重复记录，而可能是疫情的影响。

第二步，熟悉广为流传的商业智能报告，但更熟悉汇总或汇总到这些报告中的底层原始数据。你可以以后再感谢自己。

# 我明天能拿到数据吗？

如果这是你在工作中最喜欢的问题，请在下面评论。

有多少次你在脑海中回应道:“嗯，那真的不取决于我…”？

事实上，它并不真正依赖于一个数据工程师或分析师来完成一份报告，因为底层原始数据可能来自不同的数据源，这些数据源以不同的频率刷新数据。最重要的是，每次在数据人员准备交付某些东西之前，他们都必须花一些时间来检查所请求的时间窗口中的可用数据，根据前面提到的业务关键字验证数据，确认最近没有对数据进行更改，或者某个更改是否会影响报告。

销售报告可能看起来很惊人，但结果是产品维度表已经过时半年了，因此在此期间发生的新产品发布没有包括在该报告中，导致严重的漏报。

更新生成成本报告所需的三个表的批处理作业发生在不同的时间，坦率地说，顺序是错误的，因此当您连接这三个表时，您看到的记录数量比应该看到的要少(两个表提供了一整天的记录，但一个表由于更新顺序错误，只提供了当天最后两个小时的记录)。实际上，即使您知道这个表中的业务键，以及它的粒度类型，您也不会注意到这一点。您只需注意批处理作业的顺序是否合理。

我可以一直举这些例子，但是我在这里要强调的是“时间”是数据工程中最棘手的变量。

[https://www . Reddit . com/r/perfect loops/comments/9lg tid/a _ synchronized _ passes/](https://www.reddit.com/r/perfectloops/comments/9lgtid/a_synchronized_passes/)

“时间”作为一个变量可以以多种方式表现出来，一种是字面上的定义，如作业运行的时间窗口，无论是批处理还是实时流，另一种是作业运行的频率，还有一种是作业在不同系统上运行的顺序(如果您立即想到 DAG，就向您致敬)。

第三步，熟悉数据到达每个表的速度，这将使您能够告知数据消费者，数据的新鲜程度取决于其后台更新频率和您最后一次查询数据的时间，这确实是一项将您与其他数据专业人员区分开来的专业技能。

# 结束语

四年前，我几乎不知道“数据工程”这个术语，但我更感兴趣的是获得一致、可信的数据，而不是从口头传播的“好”数据中获得商业见解。四年后，尽管我获得了处理大数据的最先进技术堆栈的全面实践经验，但我仍然需要努力工作，以确保数据准确反映业务现实。然而，旅程仍在继续，每年都有新的支持软件解决现有设置无法解决的挑战或业务差距。

没有应用的技术在帮助企业利用数据达到新的高度方面有什么用？

无论哪种“it”技术现在对大数据处理来说是流行的，我都坚信这三个主题将会继续存在，因为我已经看到它们是所有公司的永恒主题，这些公司只依赖于电子表格、电子表格加半生不熟的内部关系数据库，甚至是本地 Hadoop 或云中的复杂数据仓库。

他们都在试图解决同一个问题——理解他们自己的数据并加以利用。您从这三个步骤中获得的知识将使您能够很好地面对运营火灾(例如，崩溃的服务器导致数据丢失)、未来项目(例如，从以前认为不相关的数据源到仪表板的新聚合管道)和不断变化的数据策略(例如，您认为不必要的新数据收集应用程序，因为类似的数据源已经存在)。

TL；博士，

**第一步。每个表都有一个业务键。识别它(或它们)，理解它们包含什么值，并使用它们将表粘合在一起。**

**第二步。最细粒度的表(原始表)总是有业务键。非常了解他们的结构，尤其是指标(计数、$$、评级)。获得一个基线数字。**

**第三步。时间是至关重要的。数据源可以在不同的时间、频率或以错误的顺序更新。前两步不能完全帮助您保持数据的新鲜。**

祝你好运，带路吧！