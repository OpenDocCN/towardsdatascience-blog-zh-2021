# 为什么数据建模这么难？

> 原文：<https://towardsdatascience.com/why-is-data-modeling-so-difficult-bc03b661cad0?source=collection_archive---------25----------------------->

## 数据库规范化入门

![](img/da7e57ca5247ad5a9cbcb61b9c853248.png)

格伦·卡斯滕斯-彼得斯在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

数据建模是所有数据工程师工具集中的一项基本技能。然而，在我职业生涯的早期，我发现数据建模极其困难:一部分是因为没有一种公式化的方法来建模数据，另一部分是因为可用的信息是基于集合论的，这是我从来没有过的乐趣(不悦？)的学习。然而，随着经验的积累，我发现数据建模变得越来越容易。虽然它永远不可能是一门精确的科学，但考虑到业务的相互依赖性，我发现了一种多年来一直对我有效的方法。

## 让我们设计一个关系数据模型…我该怎么做呢？

设计数据模型不是一件容易的事情。在创建模型之前，数据工程师必须考虑许多因素，例如业务需求、单个业务流程、读/写比率等。然而，由于许多这些都是视情况而定的，所以让我们假设我们已经做了必要的准备工作，并准备开始数据模型设计。设计步骤如下:

***第一步:选择主要实体，或者表格*** *。*

***第二步:确定实体关系类型。***

***第三步:确定哪些属性属于哪些实体。***

***第四步:确定主键和外键约束。***

***第五步:根据业务逻辑设置属性约束。***

***第六步:正常化***

很简单，对吧？创建几个表格，用几个键把它们连接起来，瞧！数据建模完毕，准备就绪！

可惜，事情没这么简单。您可能能够快速完成步骤 1-5，但是步骤 6 可能是一个挑战，它通常需要大量的迭代。让我们关注第 6 步。

## 标准化数据

简单地说，规范化数据意味着采用一个结构不良的表集，易于创建、更新和删除异常，并将其塑造成一个定义良好的表集。要做到这一点，您需要完成上面的步骤 1-5，根据标准形式测试模型，如果通过，您就成功地定义了您的数据模型！否则，修改现有的数据模型并重复。但是什么是范式呢？

## 范式

范式可以被认为是规范化的“层次”;也就是说，每个表单都有一个定义，如果数据模型通过，您就可以进入下一个级别。这就像一个电子游戏:你不能跳到第二级而不先在第一级打败老板。三种主要范式是:

***第一范式(1NF)*** *:如果一个关系有唯一的属性名，属性值不是多值的，属性在整个关系中不变，关系有主键属性，数据的排序无关紧要，则该关系在 1NF 中。*

***第二范式(2NF)*** *:一个关系在 2NF 中如果它在 1NF 中* ***和*** *每个非主键属性在功能上都依赖于主键。例如，如果我们有一个具有三个属性(id、car_make、price)的实体，其中 id 是主键属性，那么属性 car_make 和 price 应该只依赖于属性 id。如果价格取决于汽车制造商(很可能是这样)，那么这将违反 2NF。2NF 的目的是去除部分依赖，减少冗余。*

***第三范式(3NF)*** *:一个关系在 3NF 中若在 2NF 中***所有非素数属性都不具有传递依赖。这一点比较难理解(至少对我来说)。假设我们有三个属性(A，B，C ),其中 A 是主键属性。从数学的角度来看，如果 A-B 和 B-C 为真，则关系式 3NF 不成立，因为 C 传递地依赖于 A (A-C)。在现实世界的例子中，如果在一个具有附加属性的实体中有“State”和“Country”属性，您可能会看到这种情况，因为“Country”在传递上依赖于主键属性。**

*如果一个数据模型通过了 3NF，那么它就被认为是充分规范化的。有更多的正常形式，但那些最好是在非常特殊的情况下使用。在大多数应用中，一旦你的模型达到 3NF，你就可以停下来庆祝了！*

## *最后的想法*

*标准化通常需要相当多的迭代。对数据模型的某些更改会破坏您可能已经准备好的其他修复。规范化一个数据库并不容易，但是如果你想要有弹性的数据结构，那就没有办法了。*

*在我职业生涯的早期，我发现规范化相当困难，可能是因为我缺乏经验。要完全理解正常化，练习，练习，再练习。它最终成为第二天性，随着您避免常见的陷阱并认识到具有某些类型属性的模式，迭代的数量会减少。*

*祝你好运！*