# Python 中的命名元组是什么

> 原文：<https://towardsdatascience.com/what-are-named-tuples-in-python-59dc7bd15680?source=collection_archive---------17----------------------->

## Python 中被忽略的扩展数据类型

![](img/89f0ddf3b76ce2114a97b29604e0a22e.png)

Sebastian Pociecha 在 [Unsplash](https://unsplash.com/s/photos/name?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

## 介绍

元组是 Python 中最基本和最广泛使用的数据结构之一。大多数人不知道或者通常忘记的是，该语言附带了一个名为 Tuple 的扩展类型，它构建在核心 Tuple 类型之上。

在本文中，我们将探索命名元组——一个很少使用的集合，它增强了标准元组。我们将讨论它们的语法，如何在你的代码中使用它们，最重要的是何时使用。

## 什么是命名元组以及何时使用它们

字典提供键查找，非常适合我们需要使用助记键名称创建键值数据结构的情况。另一方面，列表和元组是任意对象的有序和可索引的集合。

命名元组位于字典和元组(甚至类！)因为它们便于位置和属性查找。这意味着集合中的对象可以通过它们的键或索引来访问。

> “用于创建具有命名字段的元组子类的工厂函数”— [Python 文档](https://docs.python.org/3/library/collections.html#collections.namedtuple)

命名元组容器数据类型是内置 `[**tuple**](https://docs.python.org/3/library/stdtypes.html#tuple)`的**替代。这种扩展类型增强了标准元组，因此它们的元素可以通过它们的属性名和位置索引来访问。**

在`namedtuple`实用程序下的 Python 标准库`collections`模块中可以获得命名元组。该类型接受 *typename* 的名称和与之相关的字段名称作为参数。然后，该实用程序将返回一个新的元组子类，该子类用给定的 typename 命名。

在下面的代码片段中，我们创建了一个名为`Employee`的`namedtuple` typename，它包含 4 个不同的字段。

为员工创建命名元组

现在我们可以使用生成的`namedtuple` typename 来创建对应于雇员的命名元组记录。

使用命名元组类型名创建雇员

注意，只要使用关键字参数，就可以通过以任意顺序传递参数来创建新的 typename 对象，如下所示。

使用关键字参数创建另一个雇员

现在我们可以通过属性或位置来访问命名元组中的元素

通过索引或命名属性访问命名元组中的元素

正如我们所见，命名元组结合了内置元组和字典的特征，甚至结合了 Python 类的特征。在幕后，这是通过创建一个从内置元组类型继承的新类(typename)来实现的。对于每个命名字段，添加一个`@property`访问器，将属性名映射到相应的位置。

命名元组是一种扩展和自定义数据类型，它用额外的实用程序丰富了内置元组。在我们需要创建一个可以被元素的位置索引和命名属性访问的数据结构时，它们非常有用。

## 使用命名元组的更多操作

当转换为字典时，命名元组也可以支持键查找。`_as_dict()`方法将返回一个`OrderedDict()`，其中键是命名元组的属性。因此，通常的基于键的操作可以在返回的字典上执行。

将命名元组解析为有序字典

此外，命名元组支持解包元组赋值。这意味着可以使用元组赋值将`namedtuple`的命名属性解包到相应的变量中。下面显示的代码片段演示了如何将命名属性解包到一个元组中。

解包命名元组的属性

除了可索引，命名元组也是可迭代的。Pyhton 中的 Iterables 实现了`__iter__`并返回一个*迭代器*，该迭代器能够一次返回其成员的一个元素。

遍历命名元组的属性

默认情况下，命名元组还提供了一个可读的`__repr__`，它表示元组的类型名及其键值属性:

最后，`[typing](https://docs.python.org/3/library/typing.html)`包提供的`typing.NamedTuple`是`collections.namedtuple`的类型化版本。

namedtuple 的类型化版本

上面显示的类型化版本相当于下面的代码片段:

带有类型提示的完整示例:

## 最后一句话

尽管命名元组很少使用，但仍然非常强大。这种特殊的扩展数据类型共享来自内置元组、字典甚至类的特征。当我们需要构建可以通过位置索引或属性名访问的数据结构时，命名元组通常很有用。

在本文中，我们讨论了名称元组的用途，并探索了如何创建和访问它们。此外，我们讨论了命名元组的一些操作和特性，如迭代和基于键的查找(当转换为字典时)。

最后要注意的是，命名元组是不可变的，这意味着它们的元素不能就地改变。在下面的文章中，你可以读到更多关于可变和不可变对象类型之间的区别，以及两者如何服务于 Python 的动态类型模型。

</dynamic-typing-in-python-307f7c22b24e> 