# ä½¿ç”¨ Python ä¼˜åŒ–ç”µå­å•†åŠ¡çš„æœ€åä¸€è‹±é‡Œäº¤ä»˜

> åŸæ–‡ï¼š<https://towardsdatascience.com/optimize-e-commerce-last-mile-delivery-with-python-ab9ba37d214c?source=collection_archive---------11----------------------->

## ä½¿ç”¨ python ä¼˜åŒ–æ¨¡å‹ç»„ç»‡è·¯å¾„ï¼Œä»¥æœ€å°‘çš„é©¾é©¶å‘˜æ•°é‡äº¤ä»˜åŒ…è£¹

![](img/f4ad724884346735f1df0acfb2acf871.png)

è¨å§†Â·å·´è€¶åœ¨ [Unsplash](https://unsplash.com/s/photos/express-delivery?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

If you travel to first and second-tier cities of China, you will find on the street many delivery drivers (Chinese: å¿«é€’).

They take the parcels from small warehouses called customer service centres (Chinese:å®¢æˆ·æœåŠ¡ä¸­å¿ƒ) located in each neighbourhood and deliver them to the final customers.

è¿™äº›ä¸­å¿ƒæ˜¯ä¸­å›½ä¸»è¦å¿«é€’å…¬å¸ç‰©æµç½‘ç»œçš„å…³é”®è¦ç´ ã€‚å®ƒä»¬ä¸ºæœ€åä¸€è‹±é‡Œçš„äº¤ä»˜æä¾›äº†å¹¿é˜”çš„åœ°ç†è¦†ç›–èŒƒå›´ï¼Œå¹¶é€šè¿‡æä¾›å¸‚åœºä¸Šæœ€ä½³çš„æœåŠ¡æ°´å¹³å’Œäº¤ä»˜æå‰æœŸï¼Œæä¾›äº†å·¨å¤§çš„ç«äº‰ä¼˜åŠ¿ã€‚

åœ¨åˆ°è¾¾æ‚¨çš„å®¶é—¨å£ä¹‹å‰ï¼Œæ‚¨çš„åŒ…è£¹å°†ä»ä¾›åº”å•†çš„ä»“åº“ä¸­å–å‡ºï¼Œç»è¿‡å‡ ä¸ªåœ°åŒºé…é€ä¸­å¿ƒï¼Œæœ€ç»ˆåˆ°è¾¾æ‚¨æ‰€åœ¨ç¤¾åŒºçš„æœåŠ¡ä¸­å¿ƒã€‚

å½“æ‚¨çš„åŒ…è£¹åˆ°è¾¾ä¸­å¿ƒæ—¶ï¼Œæ‚¨ä¼šåœ¨æ‰‹æœºä¸Šæ”¶åˆ°é€šçŸ¥ï¼Œå‘ŠçŸ¥æ‚¨å¿«é€’å‘˜å°†åœ¨å½“å¤©ä¸ºæ‚¨é€’é€åŒ…è£¹ã€‚

æœ¬æ–‡å°†æå‡ºä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œä¼˜åŒ–ä»è¿™äº›ä¸­å¿ƒçš„æœ€åä¸€è‹±é‡Œäº¤ä»˜ï¼Œä»¥é™ä½æˆæœ¬ï¼Œå¹¶ç¡®ä¿æ¯ä¸ªå¸æœºçš„å·¥ä½œé‡å‡åŒ€åˆ†å¸ƒã€‚

ğŸ’Œæ–°æ–‡ç« å…è´¹ç›´å…¥ä½ çš„æ”¶ä»¶ç®±:[æ—¶äº‹é€šè®¯](https://www.samirsaci.com/#/portal/signup)

# ä¸€ã€å¦‚ä½•ç”¨ python ä¼˜åŒ–æœ€åä¸€å…¬é‡Œäº¤ä»˜ï¼Ÿ

## é—®é¢˜é™ˆè¿°

ä½ æ˜¯å½“åœ°æœåŠ¡ä¸­å¿ƒçš„ç»ç†ï¼Œè´Ÿè´£

*   **æ‚¨å›¢é˜Ÿä¸­çš„ 4 åè½¦æ‰‹**
*   **æ¯è¾†è½¦ 15 åŒ…**å®¹é‡
*   **16 ä¸ªç›®çš„åœ°**ä»¥è¦†ç›–åä¸º D *j* çš„è¡—åŒºï¼Œj åœ¨[1ï¼Œ16]ä¸­
*   **D0** æ˜¯ä¸­å¿ƒ
*   **æ¯ä½é©¾é©¶å‘˜ 1 æ¡è·¯çº¿**

![](img/1dc76efbd32951563cc122a88285c299.png)

ç¤ºä¾‹ 0:æ‚¨çš„æœåŠ¡ä¸­å¿ƒ| 1 â€¦ 16:å®¢æˆ·çš„ç›®çš„åœ°â€”(å›¾ç‰‡ç”±ä½œè€…æä¾›)

## è·ç¦»çŸ©é˜µ

è¦æ„å»ºæ‚¨çš„æ¨¡å‹ï¼Œæ‚¨éœ€è¦æä¾›ä¸€ä¸ªè·ç¦»çŸ©é˜µ M ä½œä¸ºè¾“å…¥ï¼Œå®šä¹‰å¦‚ä¸‹

*   M(iï¼Œj)ä¸ Iï¼Œj åœ¨[0ï¼Œ16]ä¸­
*   M(iï¼Œj)= D*I*å’Œ D *j* ä¹‹é—´çš„è·ç¦»

è¯¥è·ç¦»çŸ©é˜µå°†ä» Excel æ–‡ä»¶ä¸­åŠ è½½ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°è¿™ä¸ªåœºæ™¯çš„ä¾‹å­:[é“¾æ¥](https://gist.github.com/samirsaci/4e42fa275fc2533a22699b75f9765615)

è·ç¦»çŸ©é˜µ(m)â€”â€”(ä½œè€…)

## éœ€æ±‚:è¦é€’é€åˆ°æ¯ä¸ªåœ°ç‚¹çš„åŒ…è£¹æ•°é‡

æˆ‘ä»¬å°†åœ¨è¿™é‡Œä½¿ç”¨ä¸€ä¸ªç¬¬ä¸€ä¸ªå€¼ä¸ºé›¶çš„ python åˆ—è¡¨(å› ä¸ºä½ ä¸éœ€è¦åœ¨ä¸­é—´ä¼ é€’ä»»ä½•ä¸œè¥¿)

*   éœ€æ±‚= [0ï¼Œ1ï¼Œ1ï¼Œ2ï¼Œ4ï¼Œ2ï¼Œ4ï¼Œ8ï¼Œ8ï¼Œ1ï¼Œ2ï¼Œ1ï¼Œ2ï¼Œ4ï¼Œ4ï¼Œ8ï¼Œ8]

## ç›®æ ‡

*   **ç”¨æœ€å°‘æ•°é‡çš„å¸æœºè¿é€æ‰€æœ‰åŒ…è£¹**
*   **ä¼˜åŒ–è·¯çº¿ä»¥æœ€å°åŒ–æ¯æ¡è·¯çº¿è¦†ç›–çš„è·ç¦»**

**ç»“æœ**

```
**Route for driver 0**
 0 Parcels(0) ->  4 Parcels(4) ->  3 Parcels(6) ->  1 Parcels(7) ->  7 Parcels(15) ->  0 Parcels(15)
Distance of the route: 1552 (m)
Parcels Delivered: 15 (parcels)

**Route for driver 1**
 0 Parcels(0) ->  14 Parcels(4) ->  16 Parcels(12) ->  10 Parcels(14) ->  9 Parcels(15) ->  0 Parcels(15)
Distance of the route: 1552 (m)
Parcels Delivered: 15 (parcels)

**Route for driver 2**
 0 Parcels(0) ->  12 Parcels(2) ->  11 Parcels(3) ->  15 Parcels(11) ->  13 Parcels(15) ->  0 Parcels(15)
Distance of the route: 1552 (m)
Parcels Delivered: 15 (parcels)

**Route for driver 3**
 0 Parcels(0) ->  8 Parcels(8) ->  2 Parcels(9) ->  6 Parcels(13) ->  5 Parcels(15) ->  0 Parcels(15)
Distance of the route: 1552 (m)
Parcels Delivered: 15 (parcels)

Total distance of all routes: 6,208 (m)
Parcels Delivered: 60/60
```

æ ¹æ®è¿™äº›ç»“æœï¼Œæ‚¨å¯ä»¥ä¸ºå››ä½é©¾é©¶å‘˜ä¸­çš„æ¯ä¸€ä½åˆ†é…ä¸€æ¡æ€»è·ç¦»ç›¸åŒçš„è·¯çº¿

*   100%çš„åŒ…è£¹åœ¨æœ€çŸ­è·ç¦»å†…é€è¾¾
*   å¸æœºçš„è½¦è¾†å·²æ»¡è½½(15/15)

ä½¿ç”¨è¿™ç§æ¨¡å‹æœ‰åŠ©äºç¡®ä¿é€šè¿‡é€è´§è·å¾—å›ºå®šæŠ¥é…¬çš„å¸æœºèƒ½å¤Ÿè¢«å…¬å¹³åœ°åˆ†é…åˆ°ä¸€æ¡è·¯çº¿ä¸Šã€‚

ä½ å°†é¿å…å¸æœºæŠ±æ€¨çš„é—®é¢˜ï¼Œå› ä¸ºä»–ä»¬çš„è·¯çº¿æ¯”ä»–ä»¬çš„åŒäº‹æ›´é•¿ã€‚

æ­¤å¤–ï¼Œä½ æ­£åœ¨æœ€å¤§é™åº¦åœ°åˆ©ç”¨ä½ çš„èµ„æºã€‚

[](http://samirsaci.com) [## è¨ç±³å°” Samir ä¾›åº”é“¾ç»„åˆçš„æ•°æ®ç§‘å­¦

### ğŸ­ä½¿ç”¨é«˜çº§æ•°å­¦æ¦‚å¿µçš„ä¾›åº”é“¾ç½‘ç»œä¼˜åŒ–ğŸ‘¨â€ğŸ­ä»“å‚¨çš„æŒç»­æ”¹è¿›â€¦

samirsaci.com](http://samirsaci.com) 

# äºŒã€‚æ„å»ºæ‚¨çš„æ¨¡å‹

ç”¨è°·æ­Œå·¥å…·è§£å†³æœ‰å®¹é‡é™åˆ¶çš„è½¦è¾†è·¯å¾„é—®é¢˜(CVRP)

OR-Tools æ˜¯ Google çš„ä¸€ä¸ªå¼€æºé›†åˆï¼Œæä¾›äº†ç”¨äºç»„åˆä¼˜åŒ–çš„å·¥å…·ã€‚ç›®æ ‡æ˜¯ä»å¤§é‡å¯èƒ½çš„è§£å†³æ–¹æ¡ˆä¸­æ‰¾åˆ°æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚

è®©æˆ‘ä»¬å°è¯•ä½¿ç”¨è¿™ä¸ªåº“æ¥æ„å»ºæœ€ä½³è·¯çº¿ã€‚

> ä½ å¯ä»¥åœ¨è¿™ä¸ª Github èµ„æºåº“ä¸­æ‰¾åˆ°å®Œæ•´çš„ä»£ç :[é“¾æ¥](https://github.com/samirsaci/last-mile)
> æˆ‘çš„ä½œå“é›†ä¸å…¶ä»–é¡¹ç›®:[è¨ç±³å°”è¨å¥‡](https://samirsaci.com/)

## 1.å¯¼å…¥è·ç¦»çŸ©é˜µå’Œåˆå§‹å‚æ•°

## 2.åˆ›å»ºè®¡ç®—è·ç¦»å’Œè®¢è´­æ•°é‡çš„å‡½æ•°

## 3.ç”¨çº¦æŸæ¡ä»¶æ„å»ºæ¨¡å‹

## 4.å±•ç¤ºè§£å†³æ–¹æ¡ˆ

# ä¸‰ã€‚ç»“è®º

*å…³æ³¨æˆ‘çš„ mediumï¼Œäº†è§£æ›´å¤šä¸ä¾›åº”é“¾æ•°æ®ç§‘å­¦ç›¸å…³çš„è§è§£ã€‚*

è¯¥æ¨¡å‹å¯ä»¥å¸®åŠ©ä¸­å¿ƒç»ç†

*   å……åˆ†åˆ©ç”¨å¸æœºå’Œè½¦è¾†ï¼Œä¼˜åŒ–è½¦é˜Ÿ
*   ç¡®ä¿å·¥ä½œé‡åœ¨æ¯ä¸ªé©±åŠ¨ç¨‹åºä¹‹é—´å¹³å‡åˆ†é…

**é—®é¢˜:**

*   æé«˜æ¯ä¸ªé©±åŠ¨ç¨‹åºçš„å®¹é‡(ç®±æ•°)ä¼šå¸¦æ¥ä»€ä¹ˆç»“æœï¼Ÿ
*   å¦‚æœæˆ‘ä»¬æœ‰é‡é‡æˆ–ä½“ç§¯é™åˆ¶ï¼Œä¼šæœ‰ä»€ä¹ˆç»“æœï¼Ÿ

æˆ‘è®©ä½ æµ‹è¯•å®ƒï¼Œå¹¶åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»“æœ(æˆ–é—®é¢˜)ã€‚

## ç”¨ Digital Twin æ¨¡æ‹Ÿå‡ ä¸ªåœºæ™¯

æ•°å­—å­ªç”Ÿæ˜¯ç‰©ç†å¯¹è±¡æˆ–ç³»ç»Ÿçš„æ•°å­—å¤åˆ¶å“ã€‚

ä¾›åº”é“¾æ•°å­—æ¨¡å‹æ˜¯ä¸€ç§è®¡ç®—æœºæ¨¡å‹ï¼Œä»£è¡¨ä¾›åº”é“¾ä¸­æ¶‰åŠçš„å„ç§ç»„ä»¶å’Œæµç¨‹ï¼Œå¦‚[ä»“åº“](https://youtu.be/XejgbF2m_8g)ã€[è¿è¾“ç½‘ç»œ](https://youtu.be/aJnrEElPvvs)å’Œ[ç”Ÿäº§](https://youtu.be/130AKb2DejM)è®¾æ–½ã€‚

åœ¨è¿™ä¸ªæ•°å­—æ¨¡å‹ä¸­ï¼Œæ‚¨å¯ä»¥ç”¨æˆæœ¬ã€èƒ½æºã€æ’æ”¾å’Œäº¤ä»˜å‘¨æœŸå‚æ•°æ¥æ¨¡æ‹Ÿç«¯åˆ°ç«¯ä¾›åº”é“¾çš„æ¯ä¸ªå…ƒç´ ã€‚

![](img/893cda1523542d64ad74b63a6c8e427a.png)

(å›¾ç‰‡ç”±ä½œè€…æä¾›)

å½“ä½ å¤´è„‘é£æš´æ½œåœ¨çš„è·¯çº¿åˆ†é…ç­–ç•¥æ—¶ï¼Œä½ å¯ä»¥æ¨¡æ‹Ÿå®ƒä»¬å¯¹æ•´ä¸ªé…é€ç½‘ç»œçš„å½±å“ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œ

*   å¦‚æœæˆ‘ä»¬å¢åŠ æ¯è¾†è¿è¾“è½¦è¾†çš„å­˜å‚¨å®¹é‡ï¼Œä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ
*   å¦‚æœæˆ‘ä»¬ä½¿ç”¨è´§è½¦è€Œä¸æ˜¯ç”µåŠ¨è‡ªè¡Œè½¦ï¼Œä¼šå¯¹[äºŒæ°§åŒ–ç¢³æ’æ”¾é‡](https://youtu.be/ddthuvFQdGY)äº§ç”Ÿä»€ä¹ˆå½±å“ï¼Ÿ
*   ä½¿æ€»æˆæœ¬æœ€å°åŒ–çš„[æœ€ä½³åˆ†é”€ç½‘ç»œ](https://youtu.be/gF9ds3CH3N4)(ä½ çš„æœ€åä¸€è‹±é‡Œåˆ†é”€ä¸­å¿ƒçš„ä½ç½®)æ˜¯ä»€ä¹ˆï¼Ÿ

æ¬²çŸ¥è¯¦æƒ…ï¼Œ

[](https://www.samirsaci.com/what-is-a-supply-chain-digital-twin/) [## ä»€ä¹ˆæ˜¯ä¾›åº”é“¾æ•°å­—å­ªç”Ÿï¼Ÿ

### ä¾›åº”é“¾ä¼˜åŒ–ä½¿ç”¨ python åˆ›å»ºä¸€ä¸ªä»£è¡¨ä¾›åº”é“¾ç½‘ç»œçš„æ¨¡å‹ï¼Œä»¥ä¼˜åŒ–æ‚¨çš„â€¦

www.samirsaci.com](https://www.samirsaci.com/what-is-a-supply-chain-digital-twin/) 

## å¯æŒç»­çš„æ•°å­—å­ªç”Ÿæ¨¡å‹

![](img/18ea6f33049d1a4e7545031fa6d30f5d.png)

(å›¾ç‰‡ç”±ä½œè€…æä¾›)

å‡è®¾ä½ ä½¿ç”¨æ’æ”¾äºŒæ°§åŒ–ç¢³çš„è½¦è¾†ï¼Œä½ å¯ä»¥ä¿®æ”¹è¿™ä¸ªæ¨¡å‹æ¥è€ƒè™‘æœ€åä¸€è‹±é‡Œé…é€ç½‘ç»œçš„æ€»æ’æ”¾é‡ã€‚

ç»¿è‰²åº“å­˜ç®¡ç†å¯ä»¥å®šä¹‰ä¸ºä»¥ç¯å¢ƒå¯æŒç»­çš„æ–¹å¼ç®¡ç†åº“å­˜ã€‚

![](img/da930026c31c06b4d127fa996df518e6.png)

(å›¾ç‰‡ç”±ä½œè€…æä¾›)

å¯¹äºåˆ†é”€ç½‘ç»œè€Œè¨€ï¼Œè¿™å¯èƒ½æ¶‰åŠä¸€ç³»åˆ—æ—¨åœ¨å‡å°‘è®¢å•ä¼ è¾“ã€å‡†å¤‡å’Œäº¤ä»˜çš„ç¯å¢ƒå½±å“çš„æµç¨‹å’Œè§„åˆ™ã€‚

> *å¦‚æœæˆ‘ä»¬é™ä½å•†åœºè¡¥è´§çš„é¢‘ç‡ï¼Œå¯¹äºŒæ°§åŒ–ç¢³æ’æ”¾ä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ*

åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°æ®åˆ†ææ¥æ¨¡æ‹Ÿå•†åº—è¡¥è´§é¢‘ç‡çš„å˜åŒ–ï¼Œå¹¶è¡¡é‡å¯¹æ•´ä½“ç¯å¢ƒçš„å½±å“ã€‚

[](https://www.samirsaci.com/green-inventory-management-case-study/) [## ç»¿è‰²åº“å­˜ç®¡ç†-æ¡ˆä¾‹ç ”ç©¶

### å¯æŒç»­å‘å±•å¦‚ä½•å‡å°‘æ—¶å°šé›¶å”®ç‰©æµè¿ä½œçš„äºŒæ°§åŒ–ç¢³æ’æ”¾é‡ï¼Ÿ

www.samirsaci.com](https://www.samirsaci.com/green-inventory-management-case-study/) 

# å…³äºæˆ‘

è®©æˆ‘ä»¬åœ¨ [Linkedin](https://www.linkedin.com/in/samir-saci/) å’Œ [Twitter](https://twitter.com/Samir_Saci_) ä¸Šè¿çº¿ï¼Œæˆ‘æ˜¯ä¸€åä¾›åº”é“¾å·¥ç¨‹å¸ˆï¼Œæ­£åœ¨ä½¿ç”¨æ•°æ®åˆ†ææ¥æ”¹å–„ç‰©æµè¿è¥å’Œé™ä½æˆæœ¬ã€‚

å¦‚æœä½ å¯¹æ•°æ®åˆ†æå’Œä¾›åº”é“¾æ„Ÿå…´è¶£ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘çš„ç½‘ç«™

[](https://samirsaci.com) [## Samir Saci |æ•°æ®ç§‘å­¦ä¸ç”Ÿäº§åŠ›

### ä¸“æ³¨äºæ•°æ®ç§‘å­¦ã€ä¸ªäººç”Ÿäº§åŠ›ã€è‡ªåŠ¨åŒ–ã€è¿ç­¹å­¦å’Œå¯æŒç»­å‘å±•çš„æŠ€æœ¯åšå®¢

samirsaci.com](https://samirsaci.com) 

# å‚è€ƒ

[1] Google AIï¼ŒGoogle OR-Tools åº“ï¼Œ[é“¾æ¥](https://developers.google.com/optimization)