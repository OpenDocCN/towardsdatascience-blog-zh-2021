# ä½¿ç”¨ IBM çš„è¯­éŸ³åˆ°æ–‡æœ¬ API çš„è¯­éŸ³è¯†åˆ«

> åŸæ–‡ï¼š<https://towardsdatascience.com/speech-recognition-using-ibms-speech-to-text-api-9956254c46d4?source=collection_archive---------39----------------------->

## ä½¿ç”¨ Python ä»éŸ³é¢‘è®°å½•ä¸­è½»æ¾æå–å¯¹è¯

![](img/72b24315a8453d19b9238161a1e71fb9.png)

Avel Chuklanov åœ¨ [Unsplash](https://unsplash.com/s/photos/video-editing?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ IBM çš„è¯­éŸ³è½¬æ–‡æœ¬ API ä»éŸ³é¢‘è®°å½•æ–‡ä»¶ä¸­è¯†åˆ«è¯­éŸ³ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ API çš„å…è´¹ç‰ˆæœ¬ï¼Œå®ƒå¯èƒ½æœ‰ä¸€äº›é™åˆ¶ï¼Œä¾‹å¦‚éŸ³é¢‘é•¿åº¦é™åˆ¶ã€‚æˆ‘å°†åœ¨æœ¬æ–‡åé¢åˆ†äº«æ›´å¤šå…³äº API çš„ç»†èŠ‚ã€‚è®©æˆ‘å…ˆç»™ä½ ä¸€äº›å…³äºè¯­éŸ³è¯†åˆ«åœ¨æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­ä½¿ç”¨çš„èƒŒæ™¯ä¿¡æ¯ã€‚

## èƒŒæ™¯

å¦‚æœä½ æ­£åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘è‚¯å®šä½ å¬è¯´è¿‡â€œ*äººå·¥æ™ºèƒ½*â€è¿™ä¸ªæœ¯è¯­åŠå…¶é‡è¦æ€§ã€‚æˆ‘å¯ä»¥å¾ˆå®¹æ˜“åœ°çœ‹å‡ºï¼Œäººå·¥æ™ºèƒ½åœ¨ç°å®ç”Ÿæ´»ä¸­çš„è‰¯å¥½åº”ç”¨æ˜¯è¯­éŸ³è¯†åˆ«ã€‚

ä»éŸ³é¢‘ä¸­è¯†åˆ«è¯­éŸ³åŸºæœ¬ä¸Šå…è®¸æˆ‘ä»¬é€šè¿‡è¯´è¯è€Œä¸æ˜¯æ‰“å­—æ¥èŠ‚çœæ—¶é—´ã€‚è¿™ä½¿å¾—ä½¿ç”¨æˆ‘ä»¬çš„ç§‘æŠ€äº§å“å˜å¾—æ›´åŠ æœ‰è¶£å’Œå®¹æ˜“ã€‚è¿™é¡¹æŠ€æœ¯è¿˜å¸®åŠ©æˆ‘ä»¬æ— éœ€ç¼–å†™ä¸€è¡Œä»£ç å°±èƒ½ä¸è¿™äº›è®¾å¤‡è¿›è¡Œäº¤äº’ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œäººä»¬å¿…é¡»çŸ¥é“ç¼–ç¨‹æ‰èƒ½å‘ Alexa æˆ– Siri å‘å‡ºå‘½ä»¤ã€‚é‚£å¤ªç–¯ç‹‚äº†ã€‚ğŸ˜Š

![](img/5002e0743a56fa473aaf3e7f5245357b.png)

ä½œè€…è®¾è®¡

æˆ‘è¿«ä¸åŠå¾…åœ°æƒ³å‘æ‚¨å±•ç¤ºå®é™…è¿è¡Œçš„è¯­éŸ³è¯†åˆ«å™¨ã€‚æˆ‘ä»¬å¼€å§‹å·¥ä½œå§ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬åœ¨è¿™ä¸ªè¯­éŸ³è¯†åˆ«é¡¹ç›®ä¸­å°†éµå¾ªçš„æ­¥éª¤ã€‚

## ç›®å½•:

*   è¯­éŸ³è¯†åˆ«äº‘æœåŠ¡
*   æ­¥éª¤ 1 â€”å›¾ä¹¦é¦†
*   æ­¥éª¤ 2-å¯¼å…¥éŸ³é¢‘å‰ªè¾‘
*   æ­¥éª¤ 3 â€”å®šä¹‰è¯†åˆ«å™¨
*   æ­¥éª¤ 4 â€”è¯­éŸ³è¯†åˆ«å™¨çš„ä½œç”¨
*   æœ€åä¸€æ­¥â€”å¯¼å‡ºç»“æœ

# è¯­éŸ³è¯†åˆ«äº‘æœåŠ¡

è®¸å¤šå¤§å‹ç§‘æŠ€å…¬å¸éƒ½æœ‰è‡ªå·±çš„è®¤å¯æ¨¡å¼ã€‚æˆ‘å°†åœ¨è¿™é‡Œåˆ†äº«å…¶ä¸­çš„ä¸€äº›ç»™ä½ çœ‹å¤§å›¾ã€‚è¿™äº› API é€šè¿‡äº‘å·¥ä½œï¼Œåªè¦æœ‰äº’è”ç½‘è¿æ¥ï¼Œå°±å¯ä»¥ä»å…¨çƒä»»ä½•åœ°æ–¹è®¿é—®ã€‚æ­¤å¤–ï¼Œå®ƒä»¬å¤§å¤šæ•°æ˜¯ä»˜è´¹æœåŠ¡ï¼Œä½†å¯ä»¥å…è´¹æµ‹è¯•ã€‚ä¾‹å¦‚ï¼Œå¾®è½¯é€šè¿‡ Azure äº‘è´¦æˆ·æä¾›ä¸ºæœŸä¸€å¹´çš„å…è´¹è®¿é—®ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›æœ€å—æ¬¢è¿çš„è¯­éŸ³è½¬æ–‡æœ¬äº‘æœåŠ¡:

*   [è°·æ­Œäº‘](https://cloud.google.com/speech-to-text)
*   [IBM æ²ƒæ£®](https://www.ibm.com/cloud/watson-speech-to-text)
*   [å¾®è½¯ Azure](https://azure.microsoft.com/en-us/services/cognitive-services/speech-services/)
*   [äºšé©¬é€Šè½¬å½•](https://aws.amazon.com/transcribe/)

# æ­¥éª¤ 1 â€”å›¾ä¹¦é¦†

å¯¹äºè¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å°†åªéœ€è¦ä¸€ä¸ªåº“ã€‚è¿™å°±æ˜¯æ¼”è®²è®¤çŸ¥ã€‚SpeechRecognition æ˜¯å…è´¹å’Œå¼€æºçš„ã€‚å®ƒæ”¯æŒå¤šç§è¯­éŸ³è¯†åˆ«å¼•æ“å’Œ APIã€‚å¦‚ï¼›å¾®è½¯ Azure è¯­éŸ³ã€è°·æ­Œäº‘è¯­éŸ³ã€IBM Watson è¯­éŸ³è½¬æ–‡æœ¬ API ç­‰ç­‰ã€‚å¯¹äºè¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å°†æµ‹è¯• IBM Watson è¯­éŸ³è½¬æ–‡æœ¬ APIã€‚æ‚¨å¯ä»¥ä»[è¿™é‡Œ](https://github.com/Uberi/speech_recognition)éšæ„æŸ¥çœ‹ SpeechRecognition è½¯ä»¶åŒ…çš„æºä»£ç å’Œæ–‡æ¡£ã€‚

è®©æˆ‘ä»¬ä»å®‰è£…åŒ…å¼€å§‹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ pipï¼Œå®ƒæ˜¯ä¸€ä¸ª Python åº“ç®¡ç†å™¨ã€‚

```
pip install SpeechRecognition
```

å®‰è£…è¿‡ç¨‹å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€ä»£ç ç¼–è¾‘å™¨ã€‚ä¹Ÿå¯ä»¥ç”¨ Jupyter ç¬”è®°æœ¬ã€‚

```
import speech_recognition as s_r
```

# æ­¥éª¤ 2-å¯¼å…¥éŸ³é¢‘å‰ªè¾‘

æˆ‘ç”¨ç”µè„‘å½•äº†ä¸€ä»½è¯­éŸ³å¤‡å¿˜å½•ã€‚å®ƒæ˜¯ *m4a* æ ¼å¼çš„ï¼Œä½†æ˜¯è¯†åˆ«å™¨ä¸èƒ½è¯†åˆ« *m4a* æ ¼å¼çš„ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘å¿…é¡»æŠŠå®ƒè½¬æ¢æˆ *wav* æ ¼å¼ã€‚

```
audio_file = s_r.AudioFile('my_clip.wav')
```

![](img/8c9e6edbea7f98a46ed4370c5cd1e0c8.png)

ä½œè€…å›¾ç‰‡

# æ­¥éª¤ 3 â€”å®šä¹‰è¯†åˆ«å™¨

åœ¨è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å®šä¹‰è¯­éŸ³è¯†åˆ«å™¨ã€‚å‰é¢ï¼Œæˆ‘ä»¬å·²ç»å¯¼å…¥äº†åº“ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å°†è¯†åˆ«å±æ€§èµ‹ç»™å®ƒã€‚

```
rcgnzr = s_r.Recognizer()
```

# æ­¥éª¤ 4 â€”è¯­éŸ³è¯†åˆ«å™¨çš„ä½œç”¨

è¡¨æ¼”æ—¶é—´åˆ°äº†ï¼æˆ‘ä»¬å°†åœ¨éŸ³é¢‘æ–‡ä»¶ä¸­è¿è¡Œ IBM çš„è¯­éŸ³è½¬æ–‡æœ¬ã€‚åœ¨è¿è¡Œè¯†åˆ«å™¨ä¹‹å‰ï¼Œæˆ‘å°†ç»§ç»­è¿è¡Œåä¸ºâ€œ *adjust_for_ambient_noise* â€å’Œâ€œ *record* â€çš„å…¶ä»–å‡½æ•°ï¼Œè¿™å°†æ¸…é™¤ä¸€äº›å™ªå£°å¹¶ä¼˜åŒ–éŸ³é¢‘ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬çš„è¯†åˆ«å™¨å°†èƒ½å¤Ÿè¿”å›æ›´å‡†ç¡®çš„ç»“æœã€‚

```
with audio_file as source: 
   rcgnzr.adjust_for_ambient_noise(source) 
   clean_audio = rcgnzr.record(source)
```

å¤ªå¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬æœ‰æ›´æ¸…æ™°çš„å½•éŸ³äº†ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç»§ç»­è¿è¡Œ IBM çš„è¯­éŸ³è¯†åˆ«å™¨ã€‚(æˆ‘èŠ±äº†å‡ ä¸ªå°æ—¶æ‰å¼„æ˜ç™½ IBM è¯­éŸ³è½¬æ–‡æœ¬ API æ˜¯å¦‚ä½•ä¸ SpeechRecogniton python åº“é›†æˆçš„)ã€‚ä¸‹é¢æ˜¯ä» API è°ƒç”¨è¯†åˆ«å™¨çš„æœ€ä½³æ–¹å¼:

```
recognized_speech_ibm = rcgnzr.recognize_ibm(clean_audio, username="apkikey", password= "your API Key")
```

**æ³¨æ„:**æ²¡æœ‰ API é”®ï¼ŒIBM çš„ API å°±æ— æ³•å·¥ä½œã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä» IBM Watson é¡µé¢è·å–ä¸€ä¸ªã€‚æˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ªå¸æˆ·æ¥æµ‹è¯•è¿™ä¸ªè¯­éŸ³åˆ°æ–‡æœ¬çš„æ¨¡å‹ã€‚æˆ‘å–œæ¬¢ IBM æ¨¡å‹çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»ç„¶å¯ä»¥ä½¿ç”¨ lite å¸æˆ·æ¯æœˆå½•åˆ¶ 500 åˆ†é’Ÿï¼Œè¿™å¯¹å­¦ä¹ æ¥è¯´ç»°ç»°æœ‰ä½™ã€‚

# æœ€åä¸€æ­¥â€”å¯¼å‡ºç»“æœ

æˆ‘ä»¬å·®ä¸å¤šå®Œæˆäº†ã€‚æ˜¯æ—¶å€™æ£€æŸ¥ç»“æœäº†ã€‚æˆ‘ä»¬çš„è¯†åˆ«å™¨åœ¨ä¸Šä¸€æ­¥ä¸­æ£€æµ‹åˆ°äº†éŸ³é¢‘æ–‡ä»¶ä¸­çš„è¯­éŸ³ã€‚æˆ‘ä»¬å°†ç»§ç»­æ£€æŸ¥å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å¦‚æœæˆ‘ä»¬å¯¹ç»“æœæ»¡æ„ï¼Œæˆ‘ä»¬å°†æŠŠç»“æœå¯¼å‡ºåˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡æ¡£ä¸­ã€‚

ä¸ºäº†æ£€æŸ¥è¯†åˆ«çš„è¯­éŸ³ï¼Œè®©æˆ‘ä»¬æ‰“å°å‡ºè¯†åˆ«çš„å˜é‡:

```
print(recognized_speech_ibm)
```

![](img/e7cf24b7bb658f36416f4029f25b4868.png)

ä½œè€…å›¾ç‰‡

çœ‹èµ·æ¥ä¸é”™ã€‚å®ƒå¯¹æˆ‘çš„å½•éŸ³åšäº†å¾ˆå¤§çš„è®¤å¯ã€‚æˆ‘åœ¨è¯»è¿™ç¯‡æ–‡ç« ä¸­çš„ä¸€æ®µã€‚å¦‚æœæ‚¨å¯¹ç»“æœä¸æ»¡æ„ï¼Œæœ‰è®¸å¤šæ–¹æ³•å¯ä»¥é¢„å¤„ç†éŸ³é¢‘æ–‡ä»¶ä»¥è·å¾—æ›´å¥½çš„ç»“æœã€‚[è¿™æ˜¯ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç« ï¼Œå‘](/speech-recognition-in-python-the-complete-beginners-guide-de1dd7f00726)å±•ç¤ºäº†å…³äºè¯­éŸ³è¯†åˆ«ä»¥åŠå¦‚ä½•æé«˜è¯†åˆ«å™¨é¢„æµ‹èƒ½åŠ›çš„æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚

ç°åœ¨ï¼Œæˆ‘å°†æŠŠè¯†åˆ«çš„è¯­éŸ³å¯¼å‡ºåˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡æ¡£ä¸­ã€‚æˆ‘ä»¬å°†çœ‹åˆ°æ¶ˆæ¯â€œ*å‡†å¤‡å¥½äº†ï¼*â€œå‡ºå£å®Œæˆåï¼Œåœ¨æˆ‘ä»¬çš„ç å¤´ã€‚

```
with open('recognized_speech.txt',mode ='w') as file:    
   file.write("Recognized Speech:") 
   file.write("\n") 
   file.write(recognized) 
   print("ready!")
```

æ­å–œä½ ã€‚ï¼å¦‚æœæ‚¨æ­£åœ¨é˜…è¯»è¿™ä¸€æ®µï¼Œé‚£ä¹ˆæ‚¨å·²ç»å®Œæˆäº†è¯­éŸ³è¯†åˆ«å™¨çš„æ„å»ºã€‚å¸Œæœ›ä½ å–œæ¬¢è¿™ä¸ªå®è·µæ•™ç¨‹ï¼Œå¹¶åœ¨ä»Šå¤©å­¦åˆ°ä¸€äº›æ–°ä¸œè¥¿ã€‚ç»ƒä¹ ç¼–ç¨‹æŠ€èƒ½çš„æœ€å¥½æ–¹æ³•æ˜¯åšæœ‰è¶£çš„é¡¹ç›®ã€‚æˆ‘å·²ç»åˆ†äº«äº†å¾ˆå¤šåƒè¿™æ ·çš„å®è·µé¡¹ç›®ã€‚å¦‚æœæ‚¨åœ¨å®æ–½è¯¥è®¡åˆ’æ—¶æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶[è”ç³»æˆ‘](https://sonsuzdesign.blog)ã€‚

> æˆ‘ä»¬æ¥è¿çº¿ã€‚æŸ¥çœ‹æˆ‘çš„[åšå®¢](https://medium.com/@lifexplorer)å’Œ [youtube](https://www.youtube.com/behicguven) ä»¥è·å¾—çµæ„Ÿã€‚è°¢è°¢ä½ ï¼Œ

## ä¸ºæ‚¨æä¾›æ›´å¤šåŠ¨æ‰‹é¡¹ç›®:

</building-a-chatbot-in-python-the-beginners-guide-2743ad2b4851>  </adding-text-on-image-using-python-2f5bf61bf448> 