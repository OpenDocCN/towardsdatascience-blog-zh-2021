# 如何对异常 KPI 变化进行故障排除

> 原文：<https://towardsdatascience.com/how-to-troubleshoot-an-abnormal-kpi-change-b9eb0c3d46a1?source=collection_archive---------29----------------------->

## 调查 DAU 下降的案例研究

![](img/691a1c454a3183f76642b7ee2c6c0deb.png)

来自 [Pexels](https://www.pexels.com/photo/woman-in-white-shirt-showing-frustration-3807738/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) 的 Andrea Piacquadio 的照片

如果你从事数据分析工作，有时你会被要求调查公司 KPI 的异常变化。根本原因可能有很多种，但是如何进行故障诊断可能会占用您一天的大量时间，或者根本没有时间。作为一名数据分析师，我有过许多类似的问题，我想介绍一下我研究问题的步骤和最常见的原因，以帮助您更快地找到答案。

## 方案

让我们假设一个常见的 KPI，如贵公司仪表盘中的 [DAU](https://baremetrics.com/academy/daily-active-user#:~:text=Daily%20Active%20Users%2C%20or%20%E2%80%9CDAU,product%20in%20a%20given%20day.) ，与之前的历史趋势相比，在 3 月 15 日出现了异常下降。

## 1.数据管道

使用此排除过程来确认 DAU 下降是否是由数据管道问题引起的。

*   找到生成仪表板使用的数据的 ETL 过程，并确定用于计算 DAU 的数据源。在这种情况下，DAU 由注册帐户的新用户和今天登录该帐户的现有用户组成。
*   确认 3 月 15 日新增和现有用户数据已成功加载到数据库中。
*   检查新的和现有的用户原始数据文件的记录计数是否与数据库匹配。如果某个 KPI 有多个数据源，则可能缺少一部分数据。新的用户数据加载可能不完整，这导致了 DAU 的下降。重新运行 ETL 来处理所有新的用户数据将会修复 DAU 下降。
*   如果原始数据和数据库之间的记录计数匹配，则按小时检查数据，以确认所有 24 小时都在 3 月 15 日完成。如果文件不是按小时划分的，可以找到一个时间戳字段，比如注册时间或登录时间。有时这是问题的根源，发送登录事件的服务在几个小时内失败，并且当天有部分数据。如果没有办法恢复数据，你能做的最好的事情就是通知利益相关者 DAU 下跌不是真的。
*   如果到目前为止所有检查都是好的，请检查仪表板是否使用了来自数据库的计划提取，并确认提取成功运行。我遇到过提取失败的情况，这导致仪表板上有错误的数据。

## 2.数据

如果数据管道没有问题，下一步就是检查数据本身。虽然数据可以成功加载到数据库中，但这并不意味着数据值是好的。

*   校验表字段已填充，并且没有不应该缺少的值。例如，DAU 应该填充用户 ID 和日期。如果 SQL 代码按日期计算用户 ID 和分组，则缺少的值将影响查询结果。
*   检查表格字段的值是否正确。运行按降序排序的每个字段分组的计数，以检查是否有任何包含大量记录的意外值。我曾经有一个包含错误值的表，该表打乱了用于计算 KPI 的 SQL 逻辑。运行频率检查发现了这个问题。
*   检查控制面板中的筛选器和计算字段，以确认没有需要包含的新值。我曾经让一个供应商在没有任何通知的情况下添加新的事件值来替换现有的事件值，并且不得不更改仪表板逻辑来获得正确的数字。

## 3.外部因素

如果不是数据管道或数据问题，第三项检查是寻找任何可能导致 DAU 下降的外部因素。

*   检查 3 月 15 日是否有用户无法登录或注册账户的技术问题。
*   向产品经理核实是否有任何 3 月 15 日开始的实验会影响 DAU。我们曾经做过一个实验，导致应用程序在打开时立即崩溃，一旦产品团队意识到这个问题，他们就会恢复控制。崩溃导致 DAU 下降，因为用户几个小时内无法登录。
*   3 月 15 日，确认将用户导向网站的电子邮件或发送用户进入应用程序的推送通知已成功发出。我曾经看到 DAU 下降时，推送通知提醒打破，用户停止进入应用程序。
*   3 月 15 日，与工程部门确认网站是否有任何更改或应用程序是否有新版本。可能是网站或应用程序发布导致事件停止发送到后端，工程人员修复了它，但在此期间导致 DAU 数据下降。

对异常 KPI 变化进行故障排除可能是一个耗时的过程。我发现以上三个原因占了我调查的大部分案例。你的公司会有特定的边缘案例，但是现在你知道去哪里找了，我希望你尽快找到答案。

## 你可能也会喜欢…

[](/my-experience-as-a-product-data-analyst-3d01748bc6ea) [## 我作为产品数据分析师的经历

### 支持产品如何让我成为更好的数据分析师

towardsdatascience.com](/my-experience-as-a-product-data-analyst-3d01748bc6ea) [](/what-you-should-know-before-becoming-a-marketing-data-analyst-c35109be773e) [## 成为营销数据分析师之前你应该知道什么

### 从我的营销分析经验来看利弊

towardsdatascience.com](/what-you-should-know-before-becoming-a-marketing-data-analyst-c35109be773e)