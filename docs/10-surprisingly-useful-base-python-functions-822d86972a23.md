# 10 个非常有用的基本 Python 函数

> 原文：<https://towardsdatascience.com/10-surprisingly-useful-base-python-functions-822d86972a23?source=collection_archive---------3----------------------->

## 用这个令人兴奋的列表来复习你的标准模块库吧！

![](img/3bdd54a7e18e63d1c3ef904af049ff4b.png)

(图片由作者提供)

# 介绍

那些从事 Python 工作的人经常认为 Python 可能不是这里的主角——而是它辉煌的生态系统。通常，每当我们使用 Python 应用程序时，我们都会使用许多依赖项。Python 本身并不擅长任何事情，但是它出色的包为基础带来了功能。

每当我有这个讨论的时候，我经常会想到 NumPy 这个例子。虽然矩阵数学在普通 Python 中可能是可行的，但是使用 NumPy 会使它变得更好——甚至更快。也就是说，虽然 Python 开发人员似乎经常依赖外部工具来处理某些数据类型，尤其是数学上的工作，但 Python 语言确实有一些非常酷的技巧，使其对科学编程观众有吸引力。使用这些技巧，您可以减少依赖性，节省时间，并且通常会使 Python 编程语言的编程变得更加容易！下一次你想用 Pip 安装什么的时候，你也可以考虑一下标准库中可用的选项！

# 1:λ

不久前，我写了一篇文章，阐述了为什么我认为 Python 的 lambda 使其成为统计计算更可行的编程语言。此外，由于 Python 违反了一些更具限制性的面向对象规则，所以它能够非常函数化和声明性地进行操作——将对话引入 lambda，通过使用表达式求值而不是整个函数，可以将数学运算应用于任何数据类型。这可以用于编程更简单的东西，可能不需要一个完整的函数来命名。你甚至可以在全局范围内定义它们，因为它是 Python，通过在一种仍然具有类结构的语言中利用类似函数的语法和方法，将 Python 带到另一个科学层次。

虽然这个概念对某些人来说可能看起来有点小问题，但是利用它可以节省时间和内存，并且可以使您的代码看起来更加简洁。除了 lambda，由于返回是 Pythonic 表达式，我们还可以使用 apply()之类的方法在整个数据子集上快速应用表达式。不用说，对于一个数据科学家来说，这些操作非常方便，能够在一行中非常有效地完成它们使得我们在 Python 中的全局一切风格的编程变得容易得多！语法是这样的:我们首先设置一个等于 lambda 返回的值，后面是我们希望作为位置参数提供的变量。然后，我们使用提供参数作为变量来执行操作，例如平均值:

```
mean = lambda x : sum(x) / len(x)
```

现在我们可以像调用 Python 编程语言中的任何方法一样调用它:

```
x = [5, 10, 15, 20]
print(mean(x))
```

如果你想阅读更多关于 Lambda 的内容，为什么我喜欢它，以及如何使用它，我也写了另一篇关于它的文章。这篇文章的伟大之处在于，它深入地展示了 Lambda 可以在 Python 中使用的各种技巧。看看吧！：

[](/scientific-python-with-lambda-b207b1ddfcd1) [## 带 Lambda 的科学 Python

### Python Lambda 函数的正确用法:Python 科学编程的最佳语法。

towardsdatascience.com](/scientific-python-with-lambda-b207b1ddfcd1) 

# №2:舒蒂尔

Pythonic 武库中最被低估的工具之一是 Shutil 模块。像这个列表中的其他模块一样，它包含在标准库中，可以像导入语言中的任何模块一样导入:

```
import shutil
```

那么舒蒂尔是做什么的呢？shutil 模块是 Python 编程语言的高级接口，用于操作系统上的文件系统。虽然这些调用通常是使用 os 模块进行的，但是 shutil 模块不太为人所知，我认为应该更多地使用它。您是否经常需要使用脚本将文件从一个目录快速移动到另一个目录，并且不得不做大量繁琐的工作来完成它？

Shutil 通过对一个常见问题的高级解决方案来解决文件和分配表的这些经典问题。即使与许多其他高级的、有时是戏剧性的声明式编程语言相比，这个解决方案也让它们相形见绌。对于您的所有开发-操作实现，这无疑是节省大量时间并使文件操作比其他方式快得多的关键。下面是 shutil 模块为一些基本文件操作提供的高级调用的一些示例:

```
**import** **shutil**
shutil.copyfile('mydatabase.db', 'archive.db')
shutil.move('/src/High.py', '/packages/High')
```

# №3:全球

虽然 glob 模块可能不像 shutil 那样酷，或者在一般意义上不像 Lambda 那样对编程有用，但该模块在某些情况下仍然非常有用。glob 模块用于在目录中搜索通配符。这意味着它可以用来聚集关于存储在您的机器上的文件和文件扩展名的数据。当然，这个模块是按照您可能期望的方式导入的:

```
import glob
```

老实说，我不确定这个模块是否包含了一个以上的函数，但是这个函数非常常用于模块的确切用途。这个函数是 glob()函数。这个功能将采取任何典型的文件搜索。这包括使用 Unix 语法的文件搜索，例如*、/等。看看这个:

```
glob.glob('*.ipynb')
```

这将返回与 glob 搜索找到的文件相对应的文件名列表。这也可以用于聚合数据，或者用于处理存储数据的文件！

# №4: argparse

argparse 模块提供了一种更健壮、更深入的方法来解析命令行参数。许多开发-操作工具利用了这一概念，因此可以从 Unix 命令行与它们进行交互。这对 Python 开发人员和数据科学家常用的许多开发-操作工具非常有用。一个很好的例子是 Python 模块 Gunicorn，它可以处理传递给 workers 的命令行参数和各种其他参数。和以前一样，必须导入该模块才能使用:

```
import argparse
```

为了使用这个模块，我们将构建一个新的类型，它将是一个参数解析器:

```
parser = argparse.ArgumentParser(prog = 'top',
description = 'Show top lines from the file')
```

现在我们使用 add an argument to 这个新的 reader 向解析器添加参数。对于这种情况，我们将创建一个参数，可以传递该参数来确定我们希望从每个文件中打印的行数:

```
parser.add_argument('-l', '--lines', type=int, default=10)
```

我添加了几个关键字参数，其中一个将提供我们期望为该参数传递的数据类型，另一个是在没有该参数的情况下调用文件时的默认值。现在，我们可以通过在新的参数解析器类型上调用 parse_args()函数来获取参数:

```
args = parser.parse_args()
```

现在我们可以调用这个 Python 文件进行编译，同时还可以从 Bash 轻松提供必要的参数。

```
python top.py --lines=5 examplefile.txt
```

不用说，这肯定会派上用场。我使用这个模块的一些值得注意的情况是在使用 Crontab 时，它可以在特定的 Unix 时间戳运行脚本。此外，这个脚本还可以用于管理员，管理员在没有用户作为工作人员在场的情况下运行 Bash 命令。如果您想了解更多关于 crontab 的信息，我有一整篇文章在这里讲述我为什么喜欢它:

[](/why-crontab-is-the-ultimate-data-science-back-end-tool-e3f212f2b13d) [## 为什么 CronTab 是终极数据科学后端工具

### 为什么 CronJobs 被低估为简单自动化的支柱。

towardsdatascience.com](/why-crontab-is-the-ultimate-data-science-back-end-tool-e3f212f2b13d) 

此外，如果您想了解更多关于我用来部署 Pythonic 端点和网站的其他一些应用程序，我有一整篇文章详细介绍了 A-Z 部署，其中有一个自我训练的机器学习模型，您可以在这里查看:

[](https://medium.com/chifi-media/build-a-beautiful-model-that-trains-itself-the-easy-way-a0d31b611cee) [## 建立一个自我训练的美丽模型！(简单的方法)

### 结合开发运营和数据科学的元素，在 Ubuntu 上部署可扩展的自我训练模型。

medium.com](https://medium.com/chifi-media/build-a-beautiful-model-that-trains-itself-the-easy-way-a0d31b611cee) 

# №5: **导入** **回复**

到目前为止，在我今天讨论的所有工具中，re 模块是最被严重低估的。re 中的“R”和“E”是正则表达式的简称。re 模块用于解析带有正则表达式的字符串，并提供更多在 Python 中处理字符串的选项。你遇到过多少次基于 string 类拥有的函数(如 str.split())做出算法决策的情况？因为正则表达式要简单得多，也更容易使用！

```
import re
```

re 模块，不像列表中的其他模块，提供了许多非常有用的函数；特别是像科学家通常做的那样处理大量数据。也就是说，sub()和 findall()函数是两个可以帮助您入门的例子。

```
**import** **re**
re.findall(r'\bf[a-z]*', 'which foot or hand fell fastest')
['foot', 'fell', 'fastest']
re.sub(r'(\b[a-z]+) \1', r'\1', 'cat in the the hat')
'cat in the hat'
```

不用说，这对于处理这个世界上经常遇到的数据非常有用。

# 第六名:数学

好吧——听我说完。数学可能不是标准库历史上最伟大的模块，但它确实经常派上用场。对于科学计算来说，更是如此。数学模块可以访问从正弦和余弦到对数的所有内容。不用说，在处理算法时，所有这些都可以派上用场，而且许多包确实依赖于这个基本模块来完成许多事情。

```
import math
```

该模块通过使数学运算变得容易而不依赖，当然可以节省一些时间。在这个例子中，我将演示 log()函数，但是您可以更深入地研究这个模块，并发现一个数学能力的世界！

```
import math
math.log(1024, 2)
```

# №7:统计学

对于科学计算来说，另一个几乎可以确定无疑的软件包是统计模块。这个模块提供了一些基本的统计数据，可能没有像 SciPy 这样深入，但是对于数据分析来说仍然足够了。虽然推理和贝叶斯统计可能不是本软件包的重点，但数学值(如平均值或标准偏差)可以告诉您许多有关您可能正在处理的数据的信息。我经常将这个模块别名为 st，但是我也看到它别名为 stc 或 sts，不要与 Scipy.stats 的常见别名 scs 混淆。

```
import statistics as st
```

这个模块提供了大量有用的功能，当然值得一试！这个包的伟大之处在于，无论您是否需要，它都将一直存在，并且不需要任何依赖。让我们来看一些基本的通用统计操作，这些操作很容易通过这个包提供:

```
import statistics as st
st.mean(data)
st.median(data)

st.variance(data)
```

# №8: urllib

虽然这些包中有许多可能并不那么出名，但 urllib 模块肯定是这个规则的一个例外。该模块可用于处理许多常见的 web 相关任务，如请求。还是导入吧！

```
import urllib
```

通常，请求是数据科学家在依赖关系下做的事情。Flask 的请求模块也符合这一描述。这个模块是另一个常用的请求解决方案，比 urllib 提供了更多的功能，比如从 http 请求中请求查询参数的能力。也就是说，只要项目不需要这些额外的特性，使用标准库会很方便，对依赖性的担心也会少很多。

```
**from** **urllib.request** **import** urlopen**data = null
with** urlopen('http://example_url/') **as** response: data = response
```

虽然 urlopen 函数肯定是 urllib 的一个常见用法的很好的例子，但是在这个相对较小的包中有很多功能，在我看来，它绝对是一个值得学习的工具。

# №9:日期

科学计算中另一个很常见的工具是日期-时间类型。数据通常会有时间戳，有时时间戳甚至是训练我们模型的预测特征。也就是说，对于数据科学家来说，处理日期和时间可能是一个相对重要的概念。我们可以完全按照您的预期导入日期-时间模块；看到这个模块别名为 dt 是很常见的，所以在这个例子中，我要做的就是:

```
import datetime as dt
```

现在，我们可以构造日期-时间类型，并使用典型的日期-时间语法处理年、月和日等属性。这对于重新格式化、解析和处理数据中的单个日期部分非常有用。让我们来看看这个包的一些基本功能:

```
import datetime as dt
now = dt.date.today()
print(now.year)
print(now.month)
```

# №10: zlib

这个列表的最后一个竞争者是 zlib 模块。zlib 模块是一个使用 Python 编程语言压缩数据的全方位解决方案。这对于包分发来说很方便，特别是如果包分发是完全自动化的。Python 的一个优点是它可以被用作一个奇妙的自动化工具。也就是说，能够自动压缩一个 tarball，然后甚至将它发送到其他地方是一个非常有价值的资产。

```
import zlib
```

在 zlib 模块中，最重要的函数可能是 compress()和 decompress()。使用这些函数，我们实际上可以看到数据类型的压缩，使用下面的代码:

```
h = " Hello, it is me, you're friend Emmett!"print(len(h))
t = zlib.compress(h)
print(len(t))
z = decompress(t)
print(len(z))
```

# 结论

虽然在 Python 编程中经常看起来高度依赖依赖于依赖项，但是 Python 标准库中也有一些非常好的工具！通过为复杂的任务创建一个高级接口，这些工具中的许多可以很快地被用来节省大量的时间，这个接口是用编程语言本身打包的。这可以用来最小化服务器周围的依赖包、虚拟环境和一般混乱。此外，不需要 pip 安装任何软件包，因此这一举措节省了大量时间。

这些只是标准库中我最喜欢的模块中的一部分，然而还有更多！虽然这些模块肯定会派上用场，但我确信还有很多其他可用的软件包，它们会使许多编程操作变得更加容易。