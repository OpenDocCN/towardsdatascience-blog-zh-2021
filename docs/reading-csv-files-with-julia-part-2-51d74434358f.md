# ä¸ Julia ä¸€èµ·é˜…è¯» CSV æ–‡ä»¶â€”ç¬¬ 2 éƒ¨åˆ†

> åŸæ–‡ï¼š<https://towardsdatascience.com/reading-csv-files-with-julia-part-2-51d74434358f?source=collection_archive---------45----------------------->

## è´§å¸ã€å¸ƒå°”å€¼ç­‰çš„è‡ªå®šä¹‰æ ¼å¼

![](img/4bbb69a79ca11622ad73a2437007d627.png)

è®©Â·å¥¥è¯ºé›·Â·å¼—æ‹‰æˆˆçº³ï¼Œå…¬å…±é¢†åŸŸï¼Œé€šè¿‡ç»´åŸºå…±äº«

ä¹‹å‰ï¼Œæˆ‘å·²ç»å±•ç¤ºäº†å¦‚ä½•è¯»å–åŸºæœ¬çš„åˆ†éš”æ–‡ä»¶â€”â€”å³æ–‡ä»¶ä¸­çš„å€¼ç”±å¸¸ç”¨å­—ç¬¦(å¦‚é€—å·ã€åˆ†å·æˆ–åˆ¶è¡¨ç¬¦)åˆ†éš”ã€‚ç°åœ¨æ˜¯æ—¶å€™å‡çº§æˆ‘ä»¬çš„æ¸¸æˆï¼Œä½¿ç”¨`CSV.jl`å¤„ç†ä¸€äº›æ›´å¥‡ç‰¹çš„è¾¹ç¼˜æƒ…å†µäº†ã€‚

> æˆ‘ä»¬å°†é‡ç‚¹äº†è§£å¦‚ä½•æ­£ç¡®è§£ææ•°æ®ç±»å‹ï¼Œä»¥ä¾¿æˆ‘ä»¬çš„æ•°æ®å¸§ä»ä¸€å¼€å§‹å°±å°½å¯èƒ½å¹²å‡€ã€‚

è¿™æ˜¯ä¸ Julia ä¸€èµ·é˜…è¯» CSV æ–‡ç« çš„ç¬¬ 2 éƒ¨åˆ†ï¼Œæ‰€ä»¥å¦‚æœæ‚¨æ˜¯æ–°æ¥çš„ï¼Œè¯·æŸ¥çœ‹ç¬¬ 1 éƒ¨åˆ†:

[](/reading-csv-files-with-julia-e2623fb62938) [## ä¸ Julia ä¸€èµ·é˜…è¯» CSV æ–‡ä»¶

### äº†è§£å¦‚ä½•ä½¿ç”¨ CSV.jl è¯»å–å„ç§é€—å·åˆ†éš”çš„æ–‡ä»¶

towardsdatascience.com](/reading-csv-files-with-julia-e2623fb62938) 

å’Œä»¥å‰ä¸€æ ·ï¼Œæˆ‘ä»¬ä»å¯¼å…¥åŒ…å’Œæ¨¡æ‹Ÿä¸€äº›è™šæ‹Ÿæ•°æ®å¼€å§‹ã€‚æˆ‘å°†é‡ç”¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­çš„`write_string`å‡½æ•°ã€‚

# è¯»å–å¸ƒå°”å€¼

æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæŒ‘æˆ˜å°†æ˜¯å¤„ç†å¸ƒå°”å€¼ã€‚**å¸ƒå°”å€¼ä¸ºçœŸæˆ–å‡ï¼Œé€šå¸¸ç”¨äºä»æ•°æ®æ¡†ä¸­é€‰æ‹©è¡Œçš„å­é›†ã€‚**ä¸ºäº†å¢åŠ éš¾åº¦ï¼Œæˆ‘ä»¬å°†åœ¨ csv æ–‡ä»¶ä¸­ä½¿ç”¨`Y/N`ä½œä¸ºå¸ƒå°”å€¼:

è¿™ç»™å‡ºäº†ä»¥ä¸‹å†…å®¹:

```
julia> animals_table = CSV.read("animals_like.csv", DataFrame)
5Ã—4 DataFrame
â”‚ Row â”‚ Animal  â”‚ Colour â”‚ Cover        â”‚ Liked  â”‚
â”‚     â”‚ String  â”‚ String â”‚ String       â”‚ String â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ bunny   â”‚ white  â”‚ fur          â”‚ Y      â”‚
â”‚ 2   â”‚ dragon  â”‚ green  â”‚ scales       â”‚ Y      â”‚
â”‚ 3   â”‚ cow     â”‚ brown  â”‚ fur          â”‚ N      â”‚
â”‚ 4   â”‚ pigeon  â”‚ grey   â”‚ feathers     â”‚ N      â”‚
â”‚ 5   â”‚ pegasus â”‚ white  â”‚ feathers,fur â”‚ Y      â”‚
```

æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬çš„`Liked`åˆ—çš„æ•°æ®ç±»å‹ä¸º`String`ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è‡´ç”µ`eltypes(animals_table)`æ¥ç¡®è®¤è¿™ä¸€ç‚¹ã€‚

å› ä¸ºæˆ‘ä»¬å¸Œæœ›å°†`Y/N`çš„å€¼è½¬æ¢æˆå¸ƒå°”å€¼ä»¥ä¾¿äºç´¢å¼•ï¼Œæ‰€ä»¥è®©`CSV.jl`é€šè¿‡ä½¿ç”¨`truestrings`å’Œ`falsestrings`å‚æ•°å°†å®ƒä»¬è§£æä¸ºå¸ƒå°”å€¼â€”â€”æ³¨æ„**è¿™äº›å¿…é¡»æ˜¯æ•°ç»„**:

ç°åœ¨ï¼Œæˆ‘ä»¬çš„æœ€åä¸€ç¯‡ä¸“æ æ–‡ç« å°†æŠŠ`Bool`è¯»ä¸ºæ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åšä¸€äº›æœ‰è¶£çš„ç´¢å¼•:

```
julia> animals_table2[animals_table2[:Liked], :]
3Ã—4 DataFrame
â”‚ Row â”‚ Animal  â”‚ Colour â”‚ Cover        â”‚ Liked â”‚
â”‚     â”‚ String  â”‚ String â”‚ String       â”‚ Bool  â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ bunny   â”‚ white  â”‚ fur          â”‚ 1     â”‚
â”‚ 2   â”‚ dragon  â”‚ green  â”‚ scales       â”‚ 1     â”‚
â”‚ 3   â”‚ pegasus â”‚ white  â”‚ feathers,fur â”‚ 1     â”‚
```

# è´§å¸å’Œå°æ•°

æˆ‘å·²ç»å—å¤Ÿäº†æˆ‘ä»¬å¿ƒçˆ±çš„åŠ¨ç‰©ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬çš„å‚¨è“„è´¦æˆ·:

ç°åœ¨ï¼Œå¦‚æœä½ æ³¨æ„çš„è¯ï¼Œä½ ä¼šæ³¨æ„åˆ°`Amount`åˆ—ä½¿ç”¨çš„æ˜¯`,`è€Œä¸æ˜¯å°æ•°ç‚¹ã€‚è¿™åœ¨ä¸–ç•Œçš„æŸäº›åœ°æ–¹å¾ˆå¸¸è§ï¼Œæ‰€ä»¥å¦‚æœä½ æ­£åœ¨å¤„ç†æ¥è‡ªä¸œæ¬§çš„æ•°æ®ï¼Œä½ å¾ˆå¯èƒ½ä¼šçœ‹åˆ°ç±»ä¼¼ä¸Šé¢çš„ä¸œè¥¿ã€‚å¤šä¹ˆå¿«ä¹ï¼ğŸ™Œ
å¦‚æœæˆ‘ä»¬è¯•ç€æ­£å¸¸è¯»å–ï¼Œå¾—åˆ°çš„`Amount`åˆ—å°†ä¼šå˜æˆ`String`:

ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ³•æ˜¯æŒ‡å®šç”¨äºè¡¨ç¤ºå°æ•°çš„å­—ç¬¦:

ç°åœ¨æˆ‘ä»¬å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°åŠ å‡äº†ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ¯ä¸ªæœˆå­˜äº†å¤šå°‘é’±:

å¦å¤–ï¼Œè¯·æ³¨æ„ï¼Œæˆ‘ä»¬çš„è§£æå™¨æˆåŠŸåœ°åˆ¤æ–­å‡ºç¬¬ä¸€åˆ—æ˜¯ä¸€ä¸ªæ—¥æœŸã€‚å¦‚æœæ‚¨çš„æ—¥æœŸåˆ—æœ‰å…¶ä»–æ ¼å¼ï¼Œæ‚¨å¯ä»¥é€šè¿‡è®¾ç½®(surpriseï¼Œsurpriseâ€¦) `dateformat`å‚æ•°:`CSV.read("my_file.csv", DataFrame, dateformat="Y-m-d")`æ¥æ‰‹åŠ¨æŒ‡å®šæ—¥æœŸæ ¼å¼**ã€‚**

# æ›´å¤šçš„é’±ï¼Œæ›´å¤šçš„é—®é¢˜

![](img/65c58a20c3f77c1b88d1b6ce9b18c062.png)

ç…§ç‰‡ç”±[è¾¾é‡Œå¥¥Â·é©¬ä¸å†…æ–¯-å·´ç‰¹åˆ—](https://unsplash.com/@dariomartinezb?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)åœ¨ [Unsplash](/s/photos/money-problems?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šæ‹æ‘„

çº¯ç²¹å‡ºäºè¿æ°”ï¼Œæˆ‘ä»¬åˆšåˆšä¸­äº†å½©ç¥¨ğŸ’¸ã€‚è®©æˆ‘ä»¬å°†æ–°çš„æ€»æ•°æ·»åŠ åˆ°ç”µå­è¡¨æ ¼ä¸­:

ç°åœ¨æˆ‘ä»¬çš„åè¿›åˆ¶å­—ç¬¦ä¸²ä¸å†èƒ½å¸®åŠ©æˆ‘ä»¬:

```
4Ã—3 DataFrame
â”‚ Row â”‚ DateTime   â”‚ Amount       â”‚ Currency â”‚
â”‚     â”‚ Dates.Date â”‚ String       â”‚ String   â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ 2001-01-01 â”‚ 10,56        â”‚ â‚¬        â”‚
â”‚ 2   â”‚ 2001-02-01 â”‚ 12,40        â”‚ â‚¬        â”‚
â”‚ 3   â”‚ 2001-03-01 â”‚ 6,50         â”‚ â‚¬        â”‚
â”‚ 4   â”‚ 2001-04-01 â”‚ 1.000.006,57 â”‚ â‚¬        â”‚
```

è¿™æ˜¯å› ä¸ºç”¨ä½œåƒä½åˆ†éš”ç¬¦çš„`.`æ··æ·†äº†`CSV.jl`ï¼Œä½¿å…¶è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—ã€‚

åœ¨æ—©æœŸç‰ˆæœ¬çš„`CSV.jl`ä¸­ï¼Œæ‚¨å¯ä»¥åœ¨è¯»å–æ—¶é€šè¿‡æŒ‡å®šä¸€ä¸ª`transforms`å‚æ•°æ¥ç›´æ¥ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªå‚æ•°ä¼¼ä¹å·²ç»è¢«ç§»é™¤äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»åœ¨æ•°æ®è¢«è¯»å…¥åæ”¹å˜å®ƒã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°:

1.  æ¥å—å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ã€‚
2.  å°†å­—ç¬¦ä¸²ä¸­çš„`.`æ›¿æ¢ä¸ºç©ºã€‚
3.  å°†`,`æ›¿æ¢ä¸º`.`ã€‚
4.  ç„¶åå°†å­—ç¬¦ä¸²è§£æä¸ºæµ®ç‚¹æ•°ã€‚

è®©æˆ‘ä»¬ä¸ºæ­¤åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå¹¶å°†å…¶æ˜ å°„(æŒ‰å…ƒç´ æ–¹å¼åº”ç”¨)åˆ°è¯¥ç‰¹å®šåˆ—:

è¿™å°†ä¸ºæˆ‘ä»¬æä¾›é¢„æœŸçš„æ­£ç¡®æ•°æ®ç±»å‹:

```
4Ã—3 DataFrame
â”‚ Row â”‚ DateTime   â”‚ Amount    â”‚ Currency â”‚
â”‚     â”‚ Dates.Date â”‚ Float64   â”‚ String   â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ 2001-01-01 â”‚ 10.56     â”‚ â‚¬        â”‚
â”‚ 2   â”‚ 2001-02-01 â”‚ 12.4      â”‚ â‚¬        â”‚
â”‚ 3   â”‚ 2001-03-01 â”‚ 6.5       â”‚ â‚¬        â”‚
â”‚ 4   â”‚ 2001-04-01 â”‚ 1.00001e6 â”‚ â‚¬        â”‚
```

# ğŸ’°ç»ˆäºï¼Œæˆ‘ä»¬å‘è´¢äº†â€¦

å¥½å§ï¼Œä¹Ÿè®¸ä¸æ˜¯ï¼Œä½†è‡³å°‘æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°é˜…è¯»å„ç§ç–¯ç‹‚ï¼Œè¿™éƒ½è¦æ„Ÿè°¢æœ±è‰å¨…å’Œ`CSV.jl`ã€‚ç°åœ¨ï¼Œæ‚¨çŸ¥é“å¦‚ä½•å°†å­—ç¬¦ä¸²è§£é‡Šä¸ºå¸ƒå°”å€¼ï¼Œè¯»å–ä»¥`,`ä¸ºå°æ•°çš„æ•°å­—ï¼Œç”šè‡³å¯ä»¥æŒ‰åˆ—åº”ç”¨ä»»æ„å‡½æ•°æ¥æ•´ç†æ‚¨å–œæ¬¢çš„ä»»ä½•å†…å®¹ã€‚

> æœ€åä¸€ä¸ªæç¤º:å¦‚æœä½ ä¸ç¡®å®šæ•°æ®çš„ç»“æ„ï¼Œä½ å¯ä»¥è®¾ç½®`CSV.read()`çš„`limit`å‚æ•°ï¼Œåªè¯»å–æ–‡ä»¶çš„å‰`n`è¡Œã€‚ğŸ‘€

å¦‚æœä½ æ­£åœ¨å¯»æ‰¾æ›´å¤šçš„æœ±è‰å¨…æ–‡ç« ï¼Œçœ‹çœ‹è¿™äº›:

[](/vectorize-everything-with-julia-ad04a1696944) [## å‘é‡åŒ–æœ±è‰å¨…çš„ä¸€åˆ‡

### å‘Šåˆ« for loopsï¼Œå¹¿æ’­æ‰€æœ‰çš„ä¸œè¥¿

towardsdatascience.com](/vectorize-everything-with-julia-ad04a1696944) [](/control-flow-basics-with-julia-c4c10abf4dc2) [## Julia çš„æ§åˆ¶æµåŸºç¡€çŸ¥è¯†

### ä¼‘æ¯ï¼Œç»§ç»­å’Œæ‰€æœ‰å…¶ä»–æœ‰è¶£çš„äº‹æƒ…

towardsdatascience.com](/control-flow-basics-with-julia-c4c10abf4dc2)