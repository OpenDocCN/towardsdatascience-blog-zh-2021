# ä½¿ç”¨ Matplotlib æ¸²æŸ“äº¤äº’å¼ç»˜å›¾

> åŸæ–‡ï¼š<https://towardsdatascience.com/render-interactive-plots-with-matplotlib-2cf0918d89c9?source=collection_archive---------3----------------------->

## [å®è·µæ•™ç¨‹](https://towardsdatascience.com/tagged/hands-on-tutorials)

## æ”¯æŒäº¤äº’æ€§çš„ matplotlib åç«¯ç ”ç©¶

![](img/d47450ae20acde0c24fe4d1b1f3101f4.png)

ä½œè€…å›¾ç‰‡

> å¥½çš„å›¾è¡¨æœ‰æ•ˆåœ°ä¼ è¾¾ä¿¡æ¯ã€‚å¥½çš„å›¾è¡¨å¯ä»¥å¸®åŠ©ã€é€šçŸ¥å’Œæ”¹è¿›å†³ç­–ã€‚â€â€”ä½†ä¸Â·ç»´å¡”åˆ©äºšè¯º

äº’åŠ¨å›¾è¡¨å—åˆ°æ‰€æœ‰äººçš„å–œçˆ±ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥æ›´æœ‰æ•ˆåœ°è®²è¿°ä¸€ä¸ªæ•…äº‹ã€‚åœ¨æ•°æ®ç§‘å­¦å’Œç›¸å…³é¢†åŸŸä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¢ç´¢æ€§æ•°æ®åˆ†ææ˜¯æ•°æ®é¢„å¤„ç†ç®¡é“ä¸­çš„ä¸€ä¸ªé‡è¦æ­¥éª¤ï¼Œç”Ÿæ€ç³»ç»Ÿä¸­æœ‰å¾ˆå¤šåº“å¯ä»¥å®ç°è¿™ä¸€ç‚¹ã€‚ä¸‹å›¾å¾ˆå¥½åœ°æ¦‚æ‹¬äº†è¿™ä¸ªæƒ³æ³•ã€‚

![](img/e59f27f7b250ac749e5efb12b9a926ad.png)

æ¥æº:[çš®å…¹(å°¼å¤æ‹‰æ–¯Â·pÂ·ç½—æ°å°”)](https://pyviz.org/overviews/index.html)æ”¹ç¼–è‡ªæ°å…‹Â·èŒƒå¾·æ™®æ‹‰æ–¯çš„åŸå›¾

å³ä½¿æœ‰è¿™ä¹ˆå¤šé€‰æ‹©ï¼Œè¢«äº²åˆ‡åœ°ç§°ä¸º python å¯è§†åŒ–åŒ…çš„**ç¥–çˆ¶çš„ Matplotlib ä»ç„¶æ˜¯è®¸å¤šäººçš„æœ€çˆ±ã€‚ç„¶è€Œï¼Œç¼ºä¹äº¤äº’æ€§ä»ç„¶æ˜¯ä¸€ä¸ªç“¶é¢ˆã€‚å› æ­¤ï¼Œäººä»¬è®¾è®¡äº†ä¸€äº›å˜é€šæ–¹æ³•ï¼Œé€šè¿‡ä¸€äº›ç¬¬ä¸‰æ–¹åº“æ¥å®ç°äº¤äº’æ€§ã€‚ä½†æ˜¯æ‚¨çŸ¥é“å—ï¼Œå¦‚æœæ‚¨ä½¿ç”¨äº¤äº’å¼åç«¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ matplotlib åˆ›å»ºäº¤äº’å¼ç»˜å›¾ã€‚æœ¬æ–‡å°†åªä½¿ç”¨ matplotlib æ¥ç ”ç©¶ä¸¤ä¸ªè¿™æ ·çš„åç«¯ï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•åœ¨ç¬”è®°æœ¬ä¸­å‘ˆç°äº¤äº’æ€§ã€‚**

# Matplotlib åç«¯

Matplotlib è¿åˆä¸åŒçš„ç”¨æˆ·ï¼Œå› æ­¤æ”¯æŒå„ç§åç«¯ã€‚æ ¹æ®[æ–‡ä»¶](https://matplotlib.org/stable/tutorials/introductory/usage.html#what-is-a-backend):

> â€œå‰ç«¯â€æ˜¯é¢å‘ç”¨æˆ·çš„ä»£ç ï¼Œå³ç»˜å›¾ä»£ç ï¼Œè€Œâ€œåç«¯â€åœ¨å¹•ååšæ‰€æœ‰çš„è‰°è‹¦å·¥ä½œæ¥åˆ¶ä½œå›¾å½¢ã€‚

è¿™æ„å‘³ç€äº¤äº’æ€§çš„å…ˆå†³æ¡ä»¶æ˜¯æ‹¥æœ‰ä¸€ä¸ªäº¤äº’å¼åç«¯ã€‚Jupyter ç¬”è®°æœ¬çš„é»˜è®¤åç«¯æ˜¯å†…åµŒåç«¯ï¼Œç”± `%matplotlib inline.`å¯ç”¨ï¼Œå®ƒæ“…é•¿æ¸²æŸ“é™æ€å›¾åƒï¼Œä½†ä¸æä¾›äº¤äº’å¼åŠŸèƒ½ï¼Œå¦‚å¹³ç§»ã€ç¼©æ”¾æˆ–è‡ªåŠ¨æ›´æ–°å…¶ä»–å•å…ƒæ ¼ä¸­çš„æ•°å­—ã€‚

ç›¸åï¼Œæœ‰åç«¯ï¼Œå½“å¯ç”¨æ—¶ï¼Œå‘ˆç°äº¤äº’å¼å›¾åƒã€‚æœ¬æ–‡å°†ä»‹ç»ä¸¤ç§å¸¸è§çš„æ–¹æ³•ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥åœ¨æ•°æ®å¯è§†åŒ–ä»»åŠ¡ä¸­ä½¿ç”¨å®ƒä»¬ã€‚

# `1\.` NBA gg åç«¯

`[backend_nbagg](https://matplotlib.org/stable/api/backend_nbagg_api.html#module-matplotlib.backends.backend_nbagg)`åœ¨ç¬”è®°æœ¬ä¸­æ¸²æŸ“äº¤äº’å¼å›¾å½¢ã€‚å®ƒåˆ©ç”¨äº†ä¸º webagg åç«¯å¼€å‘çš„[åŸºç¡€è®¾æ–½ã€‚](https://matplotlib.org/stable/users/prev_whats_new/whats_new_1.4.html#the-nbagg-backend)

**å¯ç”¨åç«¯**

è¦åœ¨ Jupyter ç¬”è®°æœ¬ä¸­å¯ç”¨åç«¯ï¼Œè¯·é”®å…¥ä»¥ä¸‹å†…å®¹

```
%**matplotlib** notebook
```

**ç”¨æ³•**

è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥å±•ç¤º`nbagg`åç«¯çš„ç”¨æ³•ã€‚

```
# The code is to be run in a Jupyter Notebook
import matplotlib.pyplot as plt
%matplotlib notebookplt.plot([1,2,3,4,5,6,7], [10, 50, 100, 23,15,28,45], linewidth = 3, c = 'g')
```

![](img/2e214faee95db1b992a3f2fade46e700.png)

å¸¦æœ‰ nbagg åç«¯çš„äº¤äº’å¼ matplotlib ç»˜å›¾|å›¾ç‰‡ç”±ä½œè€…æä¾›

ä¹Ÿå¯ä»¥ä»å…¶ä»–å•å…ƒæ ¼è‡ªåŠ¨æ›´æ–°æ•°å­—ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡ä¸‹å›¾ä¸­åç»­å•å…ƒæ ¼ä¸­æ‰§è¡Œçš„ä»£ç æ¥æ›´æ–°æŠ˜çº¿å›¾ã€‚

![](img/bd9b451d70c678d42fc1f20b65694c34.png)

æ ¹æ®ä½œè€…ä» Matploltib | Image ä¸­çš„å…¶ä»–å•å…ƒæ ¼è‡ªåŠ¨æ›´æ–°å›¾å½¢

ä½¿ç”¨`blue button`å¯ä»¥è½»æ¾å…³é—­è¯¥åŠŸèƒ½ğŸ”µä½äºå³ä¾§è§’è½ã€‚ç‚¹å‡»åï¼Œäº¤äº’ä¼šåœæ­¢ï¼Œä¸‹ä¸€ä¸ªå•å…ƒæ ¼ä¼šç”Ÿæˆæ–°çš„åœ°å—ã€‚å°±è¿™ä¹ˆç®€å•ã€‚

![](img/203a88bd2c0a1018252939e85106bd9d.png)

å…³é—­äº¤äº’æ€§|ä½œè€…å›¾ç‰‡

äº¤äº’æ€§ä¸ä»…é™äº **2D** å›¾ï¼Œè¿˜å¯ä»¥åœ¨ **3D** å›¾ä¸­è§‚å¯Ÿåˆ°ã€‚ä»£ç æ‘˜è‡ª matplotlib çš„å®˜æ–¹æ–‡æ¡£ã€‚

```
# The code is to be run in a Jupyter Notebook or Jupyter Labimport matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import axes3d
%matplotlib notebook
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')# Grab some test data.
X, Y, Z = axes3d.get_test_data(0.05)# Plot a surface plot.
ax.plot_surface(X, Y, Z, rstride=10, cstride=10, )plt.show()
```

![](img/202d7d0237442268bc5033fb62beac7b.png)

ä½¿ç”¨ Matplotlib(nbagg åç«¯)åˆ›å»ºçš„ 3D äº¤äº’å¼ç»˜å›¾|å›¾ç‰‡ç”±ä½œè€…æä¾›

## ä¸è¶³ä¹‹å¤„

è¿™ä¸ªé€‰é¡¹å·¥ä½œå¾—å¾ˆå¥½ï¼Œå¯ä»¥å®Œæˆæˆ‘ä»¬çš„å·¥ä½œï¼Œä½†æ˜¯å®ƒä¸ Jupyter å®éªŒå®¤ä¸å…¼å®¹ã€‚å› æ­¤ï¼Œå¯¹äº Jupyter å®éªŒå®¤çš„ç”¨æˆ·æ¥è¯´ï¼Œå®ƒæ²¡æœ‰å¤šå¤§ç”¨å¤„ã€‚æ­¤å¤–ï¼Œä¿å­˜é€‰é¡¹ä¼¼ä¹å¯¹æˆ‘ä¸èµ·ä½œç”¨ã€‚æœ‰ä¸€ä¸ªæ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆå¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œå°½ç®¡åç«¯ä¸åŒã€‚

# 2.Ipyml åç«¯â€”â€”æ›´å¥½çš„é€‰æ‹©

ipyml åç«¯å‘ˆç°â€œç»å…¸â€ç¬”è®°æœ¬å’Œ Jupyter å®éªŒå®¤ä¸­çš„äº¤äº’å¼å›¾å½¢ã€‚ipyml åç«¯ä½¿ç”¨ [ipywidget](https://ipywidgets.readthedocs.io/en/latest/) æ¡†æ¶ï¼Œéœ€è¦å•ç‹¬å®‰è£…ã€‚å°éƒ¨ä»¶ç”¨äºåœ¨ç¬”è®°æœ¬ç¯å¢ƒä¸­æ„å»ºäº¤äº’å¼å›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚åœ¨æ»‘å—ã€æ–‡æœ¬æ¡†ç­‰æ§ä»¶çš„å¸®åŠ©ä¸‹ã€‚ï¼Œç”¨æˆ·å¯ä»¥ä¸ä»–ä»¬çš„å¯è§†åŒ–æ— ç¼äº¤äº’ã€‚

## è£…ç½®

ä½¿ç”¨`pip`æˆ–`conda`å¯ä»¥è½»æ¾å®‰è£… Ipymplã€‚æ›´å¤šç»†èŠ‚è¯·å‚è€ƒ[æ–‡æ¡£](https://github.com/matplotlib/ipympl)ã€‚

```
pip install ipymplor conda install -c conda-forge ipympl
```

å¯¹äº Jupyter å®éªŒå®¤ç”¨æˆ·ï¼Œè¿˜éœ€è¦`node js`å’Œ`jupyterLab`æ‰©å±•ç®¡ç†å™¨ã€‚ä¸ºäº†æ›´å¥½çš„ä½“éªŒï¼Œå»ºè®®ä½¿ç”¨ JupyterLab > = 3ã€‚

```
conda install -c conda-forge nodejs
jupyter labextension install [@jupyter](http://twitter.com/jupyter)-widgets/jupyterlab-manager jupyter-matplotlib
```

**å¯ç”¨åç«¯**

ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨`ipyml`åç«¯ï¼Œéœ€è¦è¾“å…¥ä»¥ä¸‹å†…å®¹:

```
%matplotlib widget
```

ç°åœ¨æˆ‘ä»¬å·²ç»æ»¡è¶³äº†æ‰€æœ‰çš„è¦æ±‚ï¼Œæ˜¯æ—¶å€™è¿›è¡Œæ¼”ç¤ºäº†ã€‚

## ä½¿ç”¨

æˆ‘ä»¬å°†ä½¿ç”¨ä¸ä¸Šä¸€èŠ‚ç›¸åŒçš„ä¾‹å­ã€‚è¿™ä¹Ÿæœ‰åŠ©äºæˆ‘ä»¬æ¯”è¾ƒè¿™ä¸¤ç§åŠŸèƒ½ã€‚

```
# The code is to be run in a Jupyter Notebook or Jupyter Lab
import matplotlib.pyplot as plt
%matplotlib widgetplt.plot([1,2,3,4,5,6,7], [10, 50, 100, 23,15,28,45])
```

![](img/34b34d642919a9b0c51b9da95cfae740.png)

å¸¦æœ‰ Ipyml åç«¯çš„äº¤äº’å¼ matplotlib ç»˜å›¾|å›¾ç‰‡ç”±ä½œè€…æä¾›

ipyml åç«¯ä¹Ÿé€‚ç”¨äº 3D å¯è§†åŒ–ã€‚

![](img/49560655f7fe628f8adfb4a404f81c3c.png)

ä½¿ç”¨ Matplotlib(ipyml åç«¯)åˆ›å»ºçš„ 3D äº¤äº’å¼ç»˜å›¾|å›¾ç‰‡ç”±ä½œè€…æä¾›

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ§ä»¶ä½äºå›¾çš„å³ä¾§ï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒä¸ä¸Šä¸€èŠ‚ä¸­è·å¾—çš„å›¾éå¸¸ç›¸ä¼¼ã€‚è¿™æ˜¯çœŸçš„ï¼Œä½†æ˜¯æœ‰ä¸€äº›å¾®å¦™çš„åŒºåˆ«ï¼Œå¦‚æœä½ å·²ç»æ³¨æ„åˆ°:

*   **å›¾å¯ä»¥ä¿å­˜ä¸ºé™æ€å›¾åƒã€‚**

![](img/cf82f323e81d6e4fd350ad65134285c7.png)

å°†å›¾ä¿å­˜ä¸ºé™æ€å›¾åƒ|æŒ‰ä½œè€…æ’åºçš„å›¾åƒ

*   **ç»˜å›¾å°å·¥å…·å¯ä»¥é€šè¿‡ç”¨æˆ·ç•Œé¢è°ƒæ•´å¤§å°ã€‚**

è¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„ç‰¹æ€§ï¼Œæˆ‘åœ¨å¤§å¤šæ•°å…¶ä»–å¯è§†åŒ–åº“ä¸­éƒ½æ²¡æœ‰è§è¿‡ã€‚

![](img/fdc3d0af582f2261325bd2a058b1ab7c.png)

æŒ‰ä½œè€…ä½¿ç”¨ UI |å›¾åƒè°ƒæ•´ç»˜å›¾å¤§å°

*   ipyml åç«¯æ”¯æŒ matplotlib å’Œæ‰€æœ‰åŸºäº matplotlib æ„å»ºçš„åº“(å¦‚ Pandasã€Geopandasã€Seaborn ç­‰)ä¹‹é—´çš„äº¤äº’ã€‚

# ç»“è®º

ä»¥ä¸‹æ˜¯æˆ‘ä»¬åœ¨æœ¬æ–‡ä¸­æ‰€æ¶‰åŠå†…å®¹çš„æ€»ç»“ã€‚æˆ‘ä»¬äº†è§£äº†ä¸€äº› matplotlib çš„åç«¯ï¼Œä»¥åŠæ”¯æŒäº¤äº’æ€§çš„åç«¯ã€‚`nbagg`å’Œ`ipyml`çœ‹èµ·æ¥éƒ½å¾ˆæ£’ï¼Œä½†æ˜¯`ipyml`æœ‰æ›´å¤šæ›´å¥½çš„ç‰¹æ€§ã€‚æˆ‘ç›¸ä¿¡æ‚¨ä¼šå–œæ¬¢è¯•éªŒè¿™äº›åç«¯ï¼Œå¹¶äº²è‡ªçœ‹çœ‹äº¤äº’ç‰¹æ€§ã€‚å¦‚æœæ‚¨å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ç›¸ä¿¡æ‚¨ä¹Ÿä¼šå–œæ¬¢æˆ‘å†™çš„å…¶ä»–å‡ ç¯‡ç›´æ¥æˆ–é—´æ¥æ¶‰åŠ matplotlib çš„æ–‡ç« ã€‚

*   å¦‚æœæ‚¨æƒ³ä½¿ç”¨ matplotlib åº“æ¥åˆ›å»ºä¸€äº›å¼•äººå…¥èƒœçš„åŠ¨ç”»ã€‚

[](/animations-with-matplotlib-d96375c5442c) [## Matplotlib åŠ¨ç”»

### åŠ¨ç”»æ˜¯å±•ç¤ºä¸€ç§ç°è±¡çš„æœ‰è¶£æ–¹å¼ã€‚æˆ‘ä»¬äººç±»æ€»æ˜¯è¢«åŠ¨ç”»å’Œâ€¦

towardsdatascience.com](/animations-with-matplotlib-d96375c5442c) 

*   ä½¿ç”¨ Pandas ç»˜å›¾è¯­æ³•ç›´æ¥åˆ›å»º Plotly å’Œ Bokeh ç»˜å›¾çš„æ•™ç¨‹

[](/get-interactive-plots-directly-with-pandas-13a311ebf426) [## ç›´æ¥å’Œç†ŠçŒ«è·å–äº’åŠ¨å‰§æƒ…ã€‚

### ä½¿ç”¨ Pandas ç»˜å›¾è¯­æ³•ç›´æ¥åˆ›å»º Plotly å’Œ Bokeh ç»˜å›¾çš„æ•™ç¨‹

towardsdatascience.com](/get-interactive-plots-directly-with-pandas-13a311ebf426) 

*   matplotlib ä¸­çš„ä¸€äº›é«˜çº§å›¾ï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„åˆ†ææ›´ä¸Šä¸€å±‚æ¥¼ã€‚

[](/advanced-plots-in-matplotlib-part-1-30dbb02b09ae) [## Matplotlib ä¸­çš„é«˜çº§ç»˜å›¾â€”ç¬¬ 1 å’Œç¬¬ 2 éƒ¨åˆ†

### python å¯è§†åŒ–ç¯å¢ƒç”±å‡ ä¸ªæœ‰ç”¨çš„ Python åº“ç»„æˆã€‚æ¯ä¸ªå›¾ä¹¦é¦†éƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„äº®ç‚¹â€¦

towardsdatascience.com](/advanced-plots-in-matplotlib-part-1-30dbb02b09ae)