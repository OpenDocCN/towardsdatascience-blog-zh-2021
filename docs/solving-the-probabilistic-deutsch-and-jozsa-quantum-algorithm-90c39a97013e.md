# 求解概率 Deutsch 和 Jozsa 量子算法

> 原文：<https://towardsdatascience.com/solving-the-probabilistic-deutsch-and-jozsa-quantum-algorithm-90c39a97013e?source=collection_archive---------38----------------------->

## 总结了一系列关于著名的 Deutsch 和 Jozsa 量子算法的文章

量子机器学习要不要入门？看看 [**动手量子机器学习用 Python**](https://www.pyqml.com/page?ref=medium_solving&dest=/) **。**

在[之前的](/the-probabilistic-deutsch-jozsa-quantum-algorithm-b01a6c7c4b31)文章中，我们开发了一个概率版本的 Deutsch 和 Jozsa 的量子算法。

![](img/f25a2ca93e38b6acf267d952a992c757.png)

作者图片

[Deutsch 和 Jozsa 的原始算法](/an-illustrative-case-of-quantum-advantage-6dd1a0168a73)告诉你一个给定的函数是产生恒定输出(总是相同)还是平衡输出(0 和 1 的数量相等)。但是它假设平衡函数在特定的边界内是平衡的。例如，如果边界是两个(如在 Deutsch 的第一个算法中)，那么该算法假设一个游程的结果是 0，另一个游程的结果是 1。

当观察现实世界的概率系统时，比如扔硬币，这个假设显得不切实际。你可以连续掷三次或更多次硬币，结果都一样。当然，你可能会怀疑这枚硬币是否公平。每次掷硬币产生相同的结果，得到公平硬币的可能性就会降低。然而，你不能断定这枚硬币肯定被骗了。

我们的概率版本去除了这个假设。当硬币确实是公平的时，算法产生输出 0。如果硬币可能被欺骗，算法产生两个输出，0 和 1。输出为 1 的概率代表硬币是公平的概率。

然而，算法还不完整。虽然它对公平硬币和欺骗硬币产生不同的输出，但是这些输出是不明确的。如果你有一个公平的硬币，那么算法总是返回 0。我们在 100%的情况下测量为 0。因此，测量 0 的概率代表拥有公平硬币的概率— 100%。但是当你有一枚被骗的硬币时，测得的概率 1 代表有一枚公平硬币的概率。

这意味着，当我们在 25%的情况下测量 1 时，获得公平硬币的机会是 25%。当公平硬币的机会几乎为零时，这就成了问题。然后，我们会**几乎总是**测量 0。这意味着一枚被骗的硬币。但是，如果我们**总是**测量 0，这将意味着一个公平的硬币。

所以，我们需要调整我们的量子电路。在开始之前，让我们先简单看一下第一个版本。

下图描绘了三次平视投掷的电路。

![](img/3377088358eb6d413a39a0f81fe602bc.png)

作者图片

相比之下，下一条赛道显示了两次正面朝上投掷和一次反面朝上投掷的赛道。两个电路之间的唯一区别是代表各自 toss 的甲骨文部分。

![](img/434684657f760c5eb0262972df7bcc80.png)

作者图片

该电路有五个部分。首先，我们将代表投掷的量子位放入叠加态。第二，一位神谕将哈达玛门应用在代表朝上投掷的量子位元上。此外，它在代表正面投掷的量子位上应用受控非门。

第三，我们将辅助量子位带回|0⟩状态，一个三重受控非门计算出所有量子位都代表正面投掷的公平硬币的概率。第四，一系列的 Z 和 Hadamard 门，然后是另一个三重控制的 NOT 门，计算所有量子位都代表朝上投掷的公平硬币的概率。

第五，我们测量辅助量子位。

如果一些量子位代表正面朝上，而另一些代表反面朝上，那么三控制非门都不适用，因此，辅助量子位停留在|0⟩.状态

这就是我们想要改变的。它不应该留在|0⟩.它应该变成|1⟩。

这听起来不太难吧？然而，问题是，我们决不能干扰三个受控非门中的任何一个。这是一个真正的问题。

让我们从简单的开始。如果我们想要|1⟩态的辅助量子位，为什么不在三个受控非门之前去掉辅助量子位上的非门呢？

当我们有一枚公平的硬币时，这种方法非常有效。然后，辅助量子位处于|1⟩.状态

![](img/fb64b6694d18ab689e3e0c33b04c7ee3.png)

作者图片

但是，当所有三次投掷都相同时，例如正面朝上，如下图所示，那么我们以错误的概率将辅助量子位测量为 1。而不是 12.5%，现在是 87.5%。

请注意，不准确是由于我们使用的模拟的经验性质。

![](img/bb62f8bca0ecf353cd4dcd11545dc6e2.png)

作者图片

显然，解决方案必须考虑代表投掷的量子位元。只有当三次投掷都处于相同的状态时，我们才必须在辅助量子位上应用非门。

因此，当所有三个量子位都代表正面投掷时，它们都处于|−⟩状态，因为我们在甲骨文中应用的受控非门对它们执行相位反冲。我们可以在他们每个人身上安装哈达玛门，把他们带进|1⟩.然后，我们应用另一个三控制非门。接下来的哈达玛门把他们带回了|−⟩.

![](img/2c27aef874d21af1b06cb43f525fb8ac.png)

作者图片

当所有三个量子位都代表正面投掷(表示被骗的硬币)时，这种方法非常有效。现在，测量 1 的概率代表公平硬币的概率。

![](img/8008b5be83ce363cb9dd3d81b05feb72.png)

作者图片

但是一旦掷硬币时，它就失败了。然后，我们只在大约 50%的时候，不把量子位测量为 1。

![](img/b356ad600e011a6023b2b48438d5b6a2.png)

作者图片

这是因为我们新增加的三控制非门也适用于这种情况。当你看电路时，你会看到我们在一个量子位上应用了三个哈达玛门，代表一次抛尾。由于哈达玛门会自行回复，前两者会互相抵消。但是第三个哈达玛门将量子位放入|+⟩.状态我们也知道这种状态为:

![](img/dea956c01543e41770a53b7cc27547ed.png)

这个州是基础州|0⟩和|1⟩.的组合因此，三控制非门适用于|1⟩部分。

好吧，也许我们需要应用不同的门序列？我们可以试试。但不会成功。问题出在我们的先知身上。当我们把代表正面朝上的量子位放入|−⟩状态时，我们把代表反面朝上的量子位放入|1⟩.状态

这两种状态相互正交。看看布洛赫球会有所帮助。

![](img/21988124d0180dff1495e0f8b0c8dc4c.png)

作者图片

我们故意让代表正面朝上和反面朝上投掷的量子位元互相正交。它允许我们安排量子位的状态，使三控制非门按照我们想要的方式工作。我们使用一个三重控制-不考虑正面朝上的投掷，一个考虑反面朝上的投掷。

诀窍是将代表正确一侧(正面或反面)的量子位置于一种状态，在这种状态下，它有 50%的概率被测量为 1。结果，每一个三重受控非门只把辅助量子位的 1/2 放入|1⟩.状态这是在三次投掷结果相同的情况下，公平硬币的总体概率。但是一旦单个量子位代表另一面，三重控制不再适用，因为我们已经把相应的量子位放入|0⟩.态

我们将量子位表示为彼此正交的两边，因为|0⟩状态与量子位状态正交，量子位状态表现出 50%的概率来测量量子位为 1(例如|+⟩).状态

因此，虽然正交性有助于我们在一个计算中取得成功，但它会阻止我们进行另一个计算。我们不能轻易地重新排列量子位指向相反的方向。这就需要我们考虑每一种正面朝上和反面朝上投掷的特定组合。这将非常麻烦。

相反，我们增加另一个量子位来代表每一次投掷。在我们的神谕中，我们应用了将量子比特放在相反方向的门。例如，我们把代表正面的量子位留在|0⟩，把代表反面的量子位留在|1⟩.

然后，我们应用另一个三重控制——如果所有三个量子位都代表正面朝上或反面朝上，就不是这样。所以我们用拥有公平币的概率来衡量辅助量子位为 1。

下图描绘了代表一枚(据称是被骗的)硬币的最终电路，该硬币连续三次产生正面朝上。

![](img/df4d1d8b6ed6e311334005830455ba47.png)

作者图片

结果表明，通过将量子位测量为 1 来表示公平硬币的概率约为 0.125。

![](img/f3c8cdfd05ca2fc168b893b418f9726f.png)

作者图片

下图显示了代表两次正面朝上投掷和一次反面朝上投掷的电路。

![](img/db9116c5eed2cff275d0bda2413a4bac.png)

作者图片

我们总是将这个电路测量为 1——表明拥有一枚公平硬币的确定性。

![](img/fb64b6694d18ab689e3e0c33b04c7ee3.png)

作者图片

# 结论

在这篇文章中，我们完成了 Deutsch 和 Jozsa 量子算法的改进版本。

这个最后的电路通过测量辅助量子位 1 来产生似是而非的结果，1 代表一个公平的硬币。

此外，这篇文章阐述了解决给定问题的不同方法——包括那些没有解决问题的方法。通常，我们关注的是有效的事情。但我相信，看到失败也有一定的价值。它说明了解决问题的整个过程，这个过程通常不像我们希望的那样简单。看到那些不起作用的方法可能会防止你犯同样的“错误”和浪费时间去做一些不起作用的事情。

量子机器学习要不要入门？看看 [**动手量子机器学习用 Python**](https://www.pyqml.com/page?ref=medium_solving&dest=/) **。**

![](img/c3892c668b9d47f57e47f1e6d80af7b6.png)

在这里免费获得前三章。