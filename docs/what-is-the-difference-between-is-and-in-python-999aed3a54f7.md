# Python 中的“是”和“==”有什么区别

> 原文：<https://towardsdatascience.com/what-is-the-difference-between-is-and-in-python-999aed3a54f7?source=collection_archive---------25----------------------->

## 如何比较两个变量是否指向内存中的同一个对象

![](img/b1ea72ce9291f7637e359b3ceed53b60.png)

马库斯·温克勒在 [Unsplash](https://unsplash.com/s/photos/object?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

Python 附带了两个可用于检查相等性的操作符，即`==`(这在大多数现代编程语言中相当常见)和`is`。有时可能很难区分应该使用两者中的哪一个，尤其是如果您不熟悉 Python 的动态类型模型。

在今天的文章中，我们将讨论 Python 中的`==`和`is`操作符在比较两个变量或对象时的用途。此外，我们将通过一个示例来展示何时使用其中一个。

## Python 中的对象、变量和引用

每次我们将对象值赋给一个变量时，都会执行以下操作:

1.  保存该值的对象被创建并存储在内存中
2.  变量名被创建(如果它还不存在)
3.  对保存已创建对象的内存位置的引用被赋给变量

Python 变量并不真正保存对象。相反，它们实际上持有对对象的引用。换句话说，变量**指向**内存中已经被分配来存储相应对象的位置。

有时我们可能需要检查两个对象是否具有相同的值，而在其他场合我们可能需要检查两个对象是否完全相同。在下一节中，我们将探讨如何实现这两者。

## “是”和“==”的区别

现在，如果你想执行两个变量之间的相等性检查，很可能你真的想检查两个变量是否指向具有相等值的对象。在其他情况下，您可能也需要检查两个变量是否指向同一个对象。

*   `==`运算符用于检查两个变量是否引用具有相同值的对象。
*   `is`运算符用于检查两个变量是否指向内存中的同一个对象

现在假设我们有两个列表，如下所示。

```
a = [1, 2, 3]
b = [1, 2, 3]
```

*   `==`将返回`True`，因为`a`和`b`指向具有相等值的对象。

```
>>> a == b
True
```

*   另一方面，`is`将返回`False`，因为`a`和`b`没有指向同一个对象。尽管两个对象的值相等，但它们并不相同，因为 Python 将它们存储在内存中的不同位置。

```
>>> a is b
False
```

`a`和`b`的存储位置不同:

```
>>> id(a)
4444232832
>>> id(b)
4445118624
```

现在，如果我们将`a`赋给变量`b`，那么`is`将返回`True`，因为两个变量都指向内存中完全相同的对象:

```
>>> a = [1, 2, 3]
>>> b = a
>>> a is b
True
```

现在，内存地址应该完全相同:

```
>>> id(a)
4444232832
>>> id(b)
4444232832
```

## 重要说明

`is`如果与指向小整数的变量一起使用，即使两个变量是独立初始化的，操作符也可能返回`True`。

```
>>> a = 1
>>> b = 1
>>> a is b
True
```

这是 Python 的一个*实现细节*，出于性能目的**缓存小的整数值或字符串文字**。

请注意，对于较大的整数值或字符串，`is`运算符应该表现正常:

```
>>> a = 10**5
>>> b = 10**5
>>> a is b
False
```

## 最后的想法

在今天的文章中，我们讨论了如何在 Python 中检查对象相等性。我们简要讨论了 Python 中如何处理对象、引用和值。此外，我们探索了`is`和`==`操作符之间的根本区别。前者可用于检查两个变量是否保存对存储在特定内存位置的同一对象的引用。另一方面，`==`用于检查两个变量是否指向具有相同值的对象引用。

在文章的开始，我们快速讨论了 Python 中对象、引用和值是如何处理的。如果您想了解更多关于这些概念和 Python 实现的动态类型范例，请务必阅读文章**Python 中的动态类型。**

</dynamic-typing-in-python-307f7c22b24e> 