# 掌握 Python f-strings 的 4 个技巧！

> 原文：<https://towardsdatascience.com/4-tips-to-master-python-f-strings-a70ca896faa4?source=collection_archive---------13----------------------->

## 使用这些有趣的提示和技巧来更好地利用 f 弦

Python 在 Python 3.6 中引入了 f 字符串(格式化的字符串文字)。这些字符串类型使得字符串插值更容易阅读(和编写！).

![](img/d218f493ed6076f5035e10402d07ce5d.png)

由[克莱门特·赫拉尔多](https://unsplash.com/@clemhlrdt?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 拍摄的照片

我在我的[帖子](https://datagy.io/python-f-strings/)中深入讨论了 f 弦，但在这篇帖子中，我将探索一些要点和一些有趣的地方。让我们开始吧！

# Python 的 f 串是什么？

Python 的 f 字符串是一种计算格式化字符串表达式的简洁方法。这听起来可能类似于 Python 中的其他字符串格式化方法。

但是，f 字符串真正的优点是它们是在运行时计算的。这使得它们特别强大，可以让你在字符串中包含表达式、条件、格式和对齐方式。

查看我的视频，了解本教程中未涉及的 f 字符串的更多信息，包括如何使用 f 字符串的条件以及如何更容易地调试:

# Python f-strings 怎么写？

要在 Python 中编写 F 字符串，只需在字符串前面加上 F(或 F)即可。您可以使用单引号、双引号甚至三引号来创建字符串。

任何要计算的表达式都放在大括号“{}”中。放入这些花括号中的内容由您决定——它可以是一个变量名、一个表达式，或者如您稍后将看到的，甚至是条件！

让我们从一个简单的例子开始:

我们可以看到花括号内的所有内容都被求值。这一点的巧妙之处在于，评估是在运行时进行的。

我在下面的 YouTube 视频中详细介绍了 f 弦——如果你订阅的话，我会很高兴的！

# 1 —更改字符串的对齐方式

F-strings 可以很容易地对齐字符串，使您的输出更容易阅读。

与其他格式化方法类似，这是使用冒号后跟某些字符来完成的。具体来说，这使用了以下约定:`variable:{alignment}{width}`。

在本例中，您要插入的变量后跟一个冒号、对齐类型和宽度。宽度将是要占用的总宽度。例如，如果变量的长度为 5 个字符，宽度设置为 20，那么将插入 15 个字符。

可以使用以下对齐类型:

*   *右对齐* : <
*   *左对齐* : >
*   *居中对齐* : ^

让我们来看一个例子:

# 2-使用 f 字符串创建熊猫列

你也可以使用 f-string 在 Pandas 中创建新的列，以使它们的命名看起来更简洁。例如，假设我们想要通过向新列追加某个字符串来创建新列。你可以写:

您也可以通过连接字符串来实现这一点，但这是一种更干净、可读性更好的方式。

# 3 —用零填充数字

f 字符串使得用任何字符填充数字变得非常容易，比如零。例如，当您处理 id 并希望它们长度相同时，这可能会很有帮助。

让我们来看一个例子:

假设我们希望所有的值都像这样:013453466 和 00000044。为了用 f 字符串做到这一点，我们可以使用`{var:0w}`来完成，其中`var`是要填充的变量，`w`是要填充的值的宽度。

我将展示一个如何用列表理解或`.apply()`方法做到这一点的例子:

# 04-将值格式化为货币

当您准备好便于查看的报表时，将值设置为货币格式会很有帮助。例如，你不想给你的老板或客户看价值 125435673.76，而不是 125，435，673.76 美元，这要容易读得多。

对于 f 字符串，我们可以通过使用`,:2f`来应用带两位小数的逗号分隔。这真是太方便了。让我们看另一个例子。我们将使用与之前相同的两种方法来创建新列:

# 结论:继续多学习！

我希望你从这篇教程中学到了很多。如果你想了解更多关于 f 弦的知识，点击这里查看我的教程。我还有一本电子书，介绍了如何利用熊猫进行数据科学的简单易懂的介绍。