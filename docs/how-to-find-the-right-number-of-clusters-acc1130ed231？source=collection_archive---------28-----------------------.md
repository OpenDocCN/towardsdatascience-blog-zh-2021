# 如何找到正确的集群数量

> 原文：<https://towardsdatascience.com/how-to-find-the-right-number-of-clusters-acc1130ed231?source=collection_archive---------28----------------------->

## 了解课本上没有教的技术

当运行一个聚类/分段项目时，最具挑战性的任务之一是确定存在多少个聚类。

**好消息**是有很多统计技术可以尝试回答这个问题，从[肘法](https://medium.com/analytics-vidhya/how-to-determine-the-optimal-k-for-k-means-708505d204eb)到 [t-SNE 可视化](https://medium.com/@violante.andre/an-introduction-to-t-sne-with-python-example-47e6ae7dc58f)到[差距统计](https://web.stanford.edu/~hastie/Papers/gap.pdf)。

坏消息是这些技术很少是决定性的。机器学习课程使用诸如 [Iris flower 数据集](https://en.wikipedia.org/wiki/Iris_flower_data_set)之类的例子的原因是，聚类的数量是预先知道的，并且它们相当容易找到。

当你完成学习并开始作为一名数据科学家工作时，你会很快意识到真实的数据更混乱，当数据不能给你一个清晰的画面时，你必须使用艺术和科学的混合。

![](img/541fa5d546beaf87af01576e8dd8c4bc.png)

肘法举例。教科书上的例子有一个清晰的信号，4 个集群就可以很好地工作。然而，现实世界的例子并不那么确定。图片作者。

因此，当你下一次被要求进行细分时，不要扔掉统计分析，只需使用下面的技术来创建一个在实践中有效的聚类，而不仅仅是在理论上。

# 谁在问？

开始之前不要失败；深入思考是谁要求进行细分，以及他们打算用它来做什么。

如果是营销团队试图更好地了解他们的客户，那么你可能会将搜索重点放在 3 到 10 之间。为什么？因为你不能指望人们脑子里带着超过 10 个集群和他们的轮廓。

如果团队必须为提议提出新的想法，你可能不需要太关心有多少集群描述了整个客户群。相反，你只需要找到尽可能多的有趣的群体，这些群体定义明确，足以激发一些新的想法，但又足够大，足以代表一个有价值的机会。

不要遇到第一个障碍，确保您只考虑适合您的用例的集群范围。GIF via [GIPHY](http://gph.is/1Qp9yLf) 。

或者，你的细分可能会直接进入产品，让顾客获得更个性化的体验。在这种情况下，你不太关心有没有一个人类能记住的数字，你只是想找到尽可能多的对个性化有用的数字，这可能有几千个！

# 并非所有的先入之见都是不好的

对于您的数据科学团队来说，这可能不是一条很好的原则，但是您不需要为所有事情都使用数据。

利益相关者将非常好地理解客户群中可能存在的集群类型的业务和期望。

虽然让数据说话很重要，而不是简单地产生一个给利益相关者他们想听的聚类，但提前了解他们的期望是一个有用的练习，原因有三:

1.  **验证**。如果每个人都相信之前的分析表明有客户只在周末使用你的服务，那么一旦你超过一定数量的集群，这个群体开始出现，这应该会给你信心，你正朝着正确的方向前进。
2.  **惊喜**。单个利益相关者不太可能描述您将在数据中发现的所有聚类，因此当您可以展示超出他们已知范围的新见解时，它就成为了数据科学的强大广告。
3.  **特色工程**。如果您对存在的聚类有假设，您可以重新访问您的要素，并确保您将足够丰富的数据输入到您的算法中。如果没有捕捉一周中某一天的特征，您怎么能期望找到仅周末的聚类呢？

在执行分析之前，与利益相关者谈论他们期望看到的群体。GIF via [GIPHY](http://gph.is/Vx95Pv) 。

# 你的集群稳定吗？

假设您的分析和用例表明适当的集群数量在 5 到 8 之间。与任何机器学习模型一样，您希望对您的数据进行有意义的反映，而不是在它接受训练的数据中出现异常。

考虑到这一点，根据不同时间点的数据来查看您的聚类会产生什么结果是一个有用的练习。您可能会发现，随着时间的推移，所生成的 5 个集群具有相当一致的大小和轮廓(通过检查它们的质心)，而 8 个集群的粒度太细，一些集群会从一个月到下一个月消失或呈现不同的含义。

在这种情况下，您应该倾向于更加一致和稳定的集群。

# 你的客户稳定吗？

就像你希望集群稳定一样，你也希望它们之间的移动有意义。

要做出决定，使用上一步的相同输出，但是这次检查段之间的迁移级别。例如，当您使用一月份的数据运行聚类分析时，如果 90%的客户属于不同的细分市场，那么二月份和三月份的数据就应该敲响警钟。

如果客户的行为是相同的，或者如果他们已经搬家，那么这是因为他们的构成发生了变化，那么你希望找到许多属于同一细分市场的客户群。因此，再次检查有多少客户搬家，以及这些客户是如何改变的，看看你是否对他们重新分类的原因感到满意。

如果客户迁移到一个新的集群，那应该是因为他们的行为发生了变化。GIF via [GIPHY](http://gph.is/1qGHKgD) 。

# 用三个字告诉我

最后，了解你的集群。如果您能够理解属于每一个客户的客户以及为什么算法将他们分组在一起，您就有信心拥有一个合适的数量。

如果你的集群太宽泛，很难定义，或者有一个群体看起来是“其他所有人”的混杂集群，那么你可能没有足够的集群。相反，您可能有一些属于极少数客户的集群，这可能意味着您有太多的客户。

![](img/d0ddb8ccf9ac21c36e45199e12341d51.png)

由[布雷特·乔丹](https://unsplash.com/@brett_jordan?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

一个经常被引用的经验法则是[三形容词法则](https://www.linkedin.com/pulse/20141030142318-539588-5-tips-on-market-segmentation/)；如果你能用三个形容词来描述你的集群，那么它们是定义明确的，易于交流，如果你需要更多，那么它们可能太细或难以解释。这只是一个指导原则，但是如果您希望集群在整个企业中为人所知，这是一个有用的检查。

# 总结

请记住以下问题，以补充您的分析并增强您对聚类的信心:

1.  **谁在要求细分，他们将如何使用细分？**
2.  **利益相关者期望提前发现什么？**
3.  **即使您在一个月后再次运行您的算法，这些聚类仍然相同吗？**
4.  **随着时间的推移，客户通常会出现在同一个细分市场中，还是因为正确的原因而转移？**
5.  **您能用三个形容词描述每个集群吗？**

快乐聚类！

# 当你在这里的时候

请随意查看我的其他文章:

*   [避免内存耗尽的简单技巧](/a-simple-trick-to-avoid-running-out-of-memory-d45b0a014ceb)
*   [如何管理初级数据科学家](/how-to-manage-a-junior-data-scientist-2a5b023eda37)
*   [计算损失函数](/making-your-loss-function-count-8659cf65feb1)
*   [排列测试的威力](/the-power-of-permutation-testing-c2ac66f2d166)