# 居民如何减少 90%的数据问题

> 原文：<https://towardsdatascience.com/how-resident-reduced-their-data-issues-by-90-64c4fc9f2658?source=collection_archive---------27----------------------->

## 行业笔记

## 一家初创公司获得更可靠数据的旅程，从 BigQuery 到 Looker

![](img/63ad8a1c41295fcb5ea7653d6c95690a.png)

图片由作者购买的 Shutterstock 根据标准许可条款提供给 [WindAwake](https://www.shutterstock.com/g/Blueguy) 。

*许多数据领导者告诉我们，他们的数据科学家和工程师花费 40%或更多的时间*</what-is-data-reliability-66ec88578950>***来解决数据问题，而不是从事那些真正有意义的项目。***

**不一定非要这样。下面是直接面向消费者的家具品牌 Resident 的数据工程团队如何利用 [***大规模数据可观察性***](/data-observability-the-next-frontier-of-data-engineering-f780feb874b) *将数据事件减少 90%。***

**在讨论数据驱动型公司时，直接面向消费者的床垫品牌可能不是第一个想到的类别。但是[Resident](https://www.linkedin.com/in/daniel-rimon-73ab7678/)的数据工程主管 Daniel Rimon 将他们在技术、数据和营销方面的投资归功于他们最近的成功:2020 年，Resident 实现了 100%的增长，总销售额超过 5 亿美元，并获得了 1.3 亿美元的新一轮融资。**

**“当你听到床垫时，它不一定会告诉你数据或技术，但这就是我们公司的全部，”丹尼尔说。她目前是一个数据团队的成员，该团队有四名分析师和三名工程师，由一名数据副总裁领导。**

**Resident 依靠数据来推动营销决策和支出，20 多个营销连接支持线索和客户跟踪、细分和零售分析。Daniel 和她的团队现在管理 BigQuery 中的 30，000 多个表，并利用包括 Google 云平台、Airflow 和 Rivery 在内的数据技术堆栈，进行实验并使企业能够实时根据数据做出决策。**

> **“我们有很多数据，”丹尼尔说。“这让事情变得非常复杂，很难追踪。如果支持我们运营的任何数据丢失或损坏，或者这些管道中的某些东西损坏，都会给整个业务带来非常严重的问题。”**

****挑战:连接不同的数据源并理解数据资产之间的关系****

**2019 年，当丹尼尔加入公司时，Resident 一直在使用 BigQuery 分析有关广告绩效的数据，跟踪营销支出，商品成本和销售额。**

**“我们有复杂的查询，许多重复，不一致的逻辑——这是相当混乱，”丹尼尔说。“我们知道我们丢失了很多数据，希望通过谷歌分析和谷歌标签管理器更好地跟踪我们的网站。我们没有任何监控，没有关于客户成功的信息，并且发现我们与许多营销来源没有联系。”**

**该公司饱受不可靠数据和团队间紧张关系的困扰。**

> **“利益相关者和高管无法访问他们做出决策所需的最新数据，”Daniel 说。“它还对业务部门之间的关系产生了负面影响。例如，如果你从事数据工程，这可能会让你与商业智能或分析团队的关系变得紧张。”**

**除了公司的内部关系，客户体验也受到了伤害，糟糕的数据导致客户收到与他们无关的电子邮件。**

**当时，丹尼尔和她的团队试图手动处理数据问题。**

**她说:“我们将把我们的战略建立在记忆、一些基本工具以及来自分析师或同事的很多希望和帮助的基础上。”手工工作导致了重复的视图和流程，并且团队对哪些字段或表会影响下游数据消费者没有清晰的了解。他们设置的唯一通知是基本的故障警报。**

**丹尼尔说:“我的早晨，或者我老板的早晨，会从打开每个主要仪表板开始，寻找错误或没有意义的东西。”"它非常原始，非常低效，令人沮丧."**

**丹尼尔回忆道，有时候，在将数据注入到团队的大型查询中的后端过程中，会出现一些问题。除非她手动检查仪表板，否则她不会知道。“但有时公司的首席执行官会让我和我的老板放松一下，然后问，‘这是怎么回事？“我们没有销售额吗，”这就是我的噩梦——收到一条“数据已关闭”的消息。数据坏了。”没有上下文，我不知道从哪里开始，所以你必须调查并了解它的核心…这令人沮丧。当你刚到公司时，就没那么有趣了。“以色列的数据团队和他们在美国的同事之间的时差对事情没有帮助。**

**Daniel 的老板知道情况必须改变，因此要求 Daniel 从头开始构建一个完整的数据性能流程。现有的平台没有得到很好的维护，并且很难调试，这是一项具有挑战性的工作。**

**“我告诉我的老板，‘我希望有一个地方，我可以拿一张桌子，看看它连接的一切，”丹尼尔说。我可以知道，它影响这个和这个，但不是这里，这是它最终到达的仪表板。我需要一张很大的地图。肯定有这样的东西！"**

# **解决方案:数据可观察性**

**随着 Daniel 和她的团队开始了解他们需要什么，而不是建立一个定制的系统，Resident 开始使用数据可观测性来处理实时监控和警报，以及 lineage-Daniel 告诉她的老板她需要的大数据关系图。**

## **结果:通过实时监控和警报，在数据问题影响到数据消费者之前将其解决**

**![](img/1ece48ac6c22b0ba5735bef0e7031d18.png)**

**图片由作者提供。**

**Data Observability 使用机器学习来自动设置表的警报参数，捕捉所有居民表的新鲜度或量的异常，Daniel 估计这些表约占其警报的 90%。**

**现在，Daniel 和她的团队不再收到 CEO 发来的惊慌失措的消息，而是在 Slack 中收到诸如表更新行数少于预期，或者没有在预期时间更新等问题的警报。他们是第一个知道问题的人，工程师可以轻松更新问题状态以跟踪进度。**

**Daniel 还可以定义自定义警报，例如她为一组特别敏感的流程设置的警报，这些流程依赖于 Google Analytics 在每天的特定时间向他们的仓库交付数据。“它通常在以色列时间晚上 7 点左右到达，但并不一致。而且我必须安排特定的过程在之后发生，但是如果我错过了，我必须从头再来。我在晚上 8 点开始我的过程，第一步是知道谷歌分析更新发生了。如果它丢失了，我会收到一条松弛警告消息，这样我就可以停下来，找出发生了什么，并修复它。我不得不在 MC 之前手动检查这个，这真的很烦人。我花了 20 秒钟就设置好了这个提醒，而且非常简单。”**

## **结果:通过自动化沿袭防止“数据灾难”**

**![](img/b25c20f66ab5e3735419ad98e62874ea.png)**

**图片由蒙特卡洛提供。**

**自动化血统对丹尼尔和她的团队来说是一个巨大的优势。**

> **“保持这种血统不需要我付出任何代价。如果我想要一些高级监控，我可以定义它，但是我不需要任何东西来获得这种级别的血统。这是我的梦想。”**

**为了创建沿袭图，Data Observability 自动从 BigQuery 的查询日志中解析出 SQL，并通过一个连接器将沿袭扩展到 Looker 和 Github。随着数据的发展，谱系会自动更新。**

**![](img/dcad00b1aae259dbeacb8006ac7beda1.png)**

**图片由蒙特卡洛提供。**

**Daniel 最喜欢的用例是一个名为“Admin Orders”的表，其中包含了关于订单的所有信息。**

**“这是我最喜欢的表，我可以看到许多关于它的行为的信息，就像为它提供信息的其他表和视图一样。”**

**她能理解过去发生了什么变化。她还可以看到将受到管理订单更改影响的下游视图，以及哪些 Looker 仪表板最终连接到她的表，因此她可以与她的分析师和工程师合作，以了解任何更改的影响。**

> **“因为是他们建立了那些观点——而不是我，”丹尼尔说。“我们可以共同协作，确保在数据灾难发生之前就预防它们。”**

## **结果:在管道的每个阶段信任数据**

**自从实施数据可观察性以来，Resident 的数据团队发现数据问题减少了 90%。随着管理层和利益相关方对数据信任的恢复，居民计划构建越来越多的数据产品，并进一步丰富他们的数据。丹尼尔的团队是公司未来不可或缺的一部分:**

**“公司的任何流程都离不开我们。人们信任和相信我们的数据，因为它可靠而且很好。即使它很复杂，我们也有工具来实时监控它，并使它更加可靠。”**

# **驻地的数据信任**

**除其他优势外，数据可观察性还通过以下方式对居民产生了积极影响:**

*   ****自动化手动流程**以便数据团队可以将时间和精力集中在创新和改进上，而不是救火**
*   ****通过自动和定制的警报缩短数据问题出现时的检测时间****
*   ****通过自动化传承和改进的协作防止下游中断****
*   ****通过确保高管拥有推动业务发展所需的准确信息，实现更好的决策****

**“在数据可观察性出现之前，我一直在观察，担心自己遗漏了什么，”丹尼尔说。“我现在无法想象没有它的工作。我们有 10%的事故发生在一年前。我们的团队超级可靠，人们都依赖我们。我认为每个数据工程师都必须有这种级别的监控，才能高效地完成这项工作。”**

***有兴趣了解数据可观察性如何帮助您恢复信任并回收宝贵的时间吗？伸手* [*蒙特卡洛*](http://www.montecarlodata.com/) *！***

## ****对数据的可观测性感到好奇，但不确定从哪里开始？报名参加** [**我们的现场演示**](https://bit.ly/montecarlodemo)**2021 年 4 月 28 日星期三。****