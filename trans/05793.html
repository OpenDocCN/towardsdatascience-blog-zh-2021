<html>
<head>
<title>Faster Notes with Python and Deep Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python和深度学习加快笔记速度</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/faster-notes-with-python-and-deep-learning-b713bbb3c186?source=collection_archive---------9-----------------------#2021-05-24">https://towardsdatascience.com/faster-notes-with-python-and-deep-learning-b713bbb3c186?source=collection_archive---------9-----------------------#2021-05-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/05a89812b2a2f4289d48e2e8bdfe3a51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QYKzJjx24NNsDOQ_"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">格伦·卡斯滕斯-彼得斯在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><div class=""/><div class=""><h2 id="5a6d" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">使用基于深度学习的OCR转录pdf幻灯片</h2></div><h2 id="97b9" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">做笔记的管道</h2><p id="3fd9" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">传统的讲座通常附带一套pdf幻灯片。传统上，记录这类讲座的过程包括从pdf中复制或转录大量内容。</p><p id="d801" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">最近，我一直在尝试通过使用OCR(对象字符识别)来自动转录pdf幻灯片，以在markdown文件中直接操作它们的内容，从而避免手动复制和粘贴pdf的内容，从而实现这一过程的自动化。</p><p id="5a1f" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated"><strong class="lw jk"> <em class="ms">在本文中，我将向您展示如何使用基于深度学习的OCR自动将pdf幻灯片转换为文本。</em> </strong></p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="9cff" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">为什么不使用传统的pdf转文本工具？</h2><p id="42e8" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">我之所以不选择使用传统的pdf文本工具，是因为我发现它们往往会带来更多的问题，而不是解决它们。我尝试使用传统的python包，但是它们带来了一些问题，比如必须用复杂的正则表达式模式解析最终输出，所以我决定尝试一下对象检测和OCR，看看是否可以做得更好。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="6673" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">步伐</h2><p id="fd5e" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">接下来的步骤是:</p><ol class=""><li id="2f04" class="na nb jj lw b lx mn ma mo lh nc ll nd lp ne mm nf ng nh ni bi translated"><strong class="lw jk">将pdf转换成图像</strong></li><li id="54e6" class="na nb jj lw b lx nj ma nk lh nl ll nm lp nn mm nf ng nh ni bi translated"><strong class="lw jk">检测并识别图像中的文字</strong></li><li id="ccfa" class="na nb jj lw b lx nj ma nk lh nl ll nm lp nn mm nf ng nh ni bi translated"><strong class="lw jk">展示示例输出</strong></li></ol><p id="8a68" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">在这种情况下，我主要修改了这个<a class="ae jg" href="https://github.com/courao/ocr.pytorch" rel="noopener ugc nofollow" target="_blank">库</a>中的代码，它使用了对<a class="ae jg" href="https://arxiv.org/abs/1609.03605" rel="noopener ugc nofollow" target="_blank"> CTPN模型</a>的pytorch修改，以及来自<a class="ae jg" href="https://github.com/opconty/pytorch_ctpn" rel="noopener ugc nofollow" target="_blank"> pytorch_ctpn </a>的代码用于文本检测，以及来自<a class="ae jg" href="https://arxiv.org/abs/1507.05717" rel="noopener ugc nofollow" target="_blank"> CRNN模型</a>的代码用于文本识别。</p><p id="acf5" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">现在，让我们来看一下每一步。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="248e" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">1.<strong class="ak">将pdf转换成图像</strong></h2><p id="cbec" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">我将使用David Silver 的《强化学习导论》中的pdf幻灯片。让我们首先编写一些代码，使用<code class="fe no np nq nr b">pdf2image</code>包将每张幻灯片转换成png格式。</p><figure class="ns nt nu nv gt iv"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="f283" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">现在我有了所有的图像，</p><figure class="ns nt nu nv gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ny"><img src="../Images/5f8536ef2192b3df9b1921623b18138d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u3oc4MZZvQjY6j1HRZyUlQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片作者。pdf中的所有幻灯片。</p></figure><p id="b025" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">让我们在每张幻灯片上运行文本检测和识别。</p><h2 id="5b3a" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">2.检测和识别图像中的文本</h2><p id="b0fa" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">为此，我们将使用来自<a class="ae jg" href="https://github.com/courao/ocr.pytorch" rel="noopener ugc nofollow" target="_blank"> ocr.pytorch </a>资源库的文本检测器。按照那里的说明下载模型，并将它们保存在<code class="fe no np nq nr b">checkpoints</code>文件夹中。</p><figure class="ns nt nu nv gt iv"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="99d2" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">在这里，我们设置输入和输出文件夹，然后对所有输入图像(转换后的pdf幻灯片)运行一个循环，然后通过运行位于<code class="fe no np nq nr b">ocr</code>模块中的检测和识别模型的<code class="fe no np nq nr b">single_pic_proc()</code>函数。然后，我们将输出保存到输出文件夹。</p><p id="84a5" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">检测继承自Pytorch的<a class="ae jg" href="https://github.com/opconty/pytorch_ctpn" rel="noopener ugc nofollow" target="_blank"> CTPN模型</a>，识别模型继承自<a class="ae jg" href="https://github.com/meijieru/crnn.pytorch" rel="noopener ugc nofollow" target="_blank"> Pytorch的CRNN </a>模型，两者都存在于<code class="fe no np nq nr b">ocr</code>模块中。</p><h2 id="2747" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">3.展示示例输出</h2><figure class="ns nt nu nv gt iv"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="aed4" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">检测输出示例:</p><figure class="ns nt nu nv gt iv gh gi paragraph-image"><div class="ab gu cl nz"><img src="../Images/e88457006e9b54b1bafdb3a0ef2497e2.png" data-original-src="https://miro.medium.com/v2/format:webp/1*rmUaUURK4XODFqW87UcFvw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片作者。文本检测输出的示例。</p></figure><figure class="ns nt nu nv gt iv"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="c642" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">文本识别输出:</p><pre class="ns nt nu nv gt oa nr ob oc aw od bi"><span id="5ef2" class="ky kz jj nr b gy oe of l og oh">- AboutRL<br/>Characteristics of Reinforcement Learning<br/>What makes reinforcement learningdifferent from other machine<br/>learning paradigms?<br/>There isnosupervisor,only areward signal<br/>Feedback is delavyed,not instantaneous<br/>Time really matters(sequential,non ii.d data)<br/>Agent sactions affectthe subseauent datait receives</span></pre></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="0321" class="oi kz jj bd la oj ok ol ld om on oo lg kp op kq lk ks oq kt lo kv or kw ls os bi translated">不再复制和粘贴</h1><p id="df3e" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">我喜欢这种方法的原因是，你最终可以拥有一个真正强大的工具来转录各种类型的文档，从检测和识别手写笔记到检测和识别照片中的随机文本。</p><p id="37fa" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">拥有自己的OCR工具来处理您经常交互的内容，比依赖外部软件来处理您想要转录的每个文档要好。</p><p id="302b" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">对我来说，这是一个有趣的机会，可以探索OCR，并建立一个管道来快速转录pdf幻灯片附带的讲座。</p><p id="26f7" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">你可以在这里查看源代码<a class="ae jg" href="https://github.com/EnkrateiaLucca/ocr_for_transcribing_pdf_slides" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="abfd" class="pw-post-body-paragraph lu lv jj lw b lx mn kk lz ma mo kn mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">如果你喜欢这篇文章，请在<a class="ae jg" href="https://twitter.com/LucasEnkrateia" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae jg" href="https://www.linkedin.com/in/lucas-soares-969044167/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系我，并在<a class="ae jg" href="https://lucas-soares.medium.com" rel="noopener"> Medium </a>上关注我。谢谢，下次再见！:)</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="1abd" class="oi kz jj bd la oj ok ol ld om on oo lg kp op kq lk ks oq kt lo kv or kw ls os bi translated">参考</h1><ul class=""><li id="b800" class="na nb jj lw b lx ly ma mb lh ot ll ou lp ov mm ow ng nh ni bi translated"><a class="ae jg" href="https://github.com/courao/ocr.pytorch" rel="noopener ugc nofollow" target="_blank"> ocr.pytorch知识库</a></li><li id="403b" class="na nb jj lw b lx nj ma nk lh nl ll nm lp nn mm ow ng nh ni bi translated">pytorch.ctpn </li><li id="3f04" class="na nb jj lw b lx nj ma nk lh nl ll nm lp nn mm ow ng nh ni bi translated"><a class="ae jg" href="https://arxiv.org/abs/1507.05717" rel="noopener ugc nofollow" target="_blank"> CRNN </a></li><li id="8596" class="na nb jj lw b lx nj ma nk lh nl ll nm lp nn mm ow ng nh ni bi translated"><a class="ae jg" href="https://arxiv.org/abs/1609.03605" rel="noopener ugc nofollow" target="_blank"> CTPN </a></li><li id="256c" class="na nb jj lw b lx nj ma nk lh nl ll nm lp nn mm ow ng nh ni bi translated"><a class="ae jg" href="https://www.davidsilver.uk/wp-content/uploads/2020/03/intro_RL.pdf" rel="noopener ugc nofollow" target="_blank">大卫·西尔弗关于强化学习的讲座</a></li></ul></div></div>    
</body>
</html>