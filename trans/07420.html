<html>
<head>
<title>Why the CLI is Essential for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么CLI对数据科学家至关重要</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-the-cli-is-essential-for-data-scientists-cd7016f86d49?source=collection_archive---------21-----------------------#2021-07-06">https://towardsdatascience.com/why-the-cli-is-essential-for-data-scientists-cd7016f86d49?source=collection_archive---------21-----------------------#2021-07-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="49e5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建更高效的机器学习工作流的CLI示例和使用案例</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9a8580ed5d4cdb4032926e0cd5ef0a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VMWLmSQthCjLV3Cj"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://unsplash.com/photos/EaB4Ml7C7fE" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="6181" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我第一次学习数据科学时，我并没有特别强调理解诸如Unix/Linux和Bash之类的术语。对于一个没有计算机科学背景的人来说，这似乎很陌生，很难理解，但我很快意识到<strong class="lb iu">命令行界面(CLI) </strong>在管理您的数据科学工作负载中是多么重要。要成为一名强大的数据科学家/MLE或仅仅使用一般的软件，您需要能够在您的机器上轻松地导航和使用CLI。除了舒适的Jupyter笔记本设置之外，数据科学中还有很多使用CLI的用例。例如，当运行计算机视觉工作负载时，人们经常使用名为<a class="ae ky" href="https://docs.python.org/3/library/argparse.html" rel="noopener ugc nofollow" target="_blank"> argparse </a>的Python CLI接口库向ML脚本传递参数。如果您正在迁移到AWS、Azure或其他ML云提供商，则需要CLI来适当地供应和移动您的资源。甚至在我们熟悉的Jupyter笔记本的数据科学狩猎场中，也有可能编写包含Bash脚本的单元格，我们将深入研究这些脚本。在这篇文章中，我将从整体上介绍如何开始使用CLI、Bash的常见用例/技巧以及数据科学和编程。</p><p id="88d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong>我用的是Mac，所以我所有的命令都是基于Unix/Linux的，对于Windows机器上的命令，我还附上了一些额外的资源，你可以跟着看。</p><h1 id="fe10" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">目录</h1><ol class=""><li id="c787" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated">基本Bash命令</li><li id="eea2" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">编写您的第一个Bash脚本</li><li id="89a5" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">Jupyter笔记本中的Shell脚本</li><li id="2bf9" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">Argparse</li><li id="7834" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">结论</li></ol><h1 id="97e1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.基本Bash命令</h1><p id="6bff" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在我们开始创建实际的Bash/shell脚本之前，我们将介绍一些日常使用的更基本的命令。</p><h2 id="367b" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated">印刷工作目录</h2><p id="bd0a" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">你几乎要把你的机器当成一个目的地。CLI是您导航目的地的地图，您向它发出命令/指示，告诉它您想去哪里。<a class="ae ky" href="https://www.geeksforgeeks.org/pwd-command-in-linux-with-examples/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> pwd </strong> <strong class="lb iu">命令</strong> </a>有助于告诉您当前在地图上的位置，或者您是否想知道您在机器中的位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/0739265e302a41e53b69dd488dab5471.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*NiU84l1oSy6tQuI8kEydFQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="9b1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，我们得到了当前的位置。</p><h2 id="5cb8" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated">创建目录</h2><p id="abc7" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">作为一名开发人员，文件夹和目录这个词在你的字典中应该是同义词。设置项目时，您可能需要创建各种目录来管理数据或将文件移动到适当的位置。要通过CLI创建目录，我们使用<a class="ae ky" href="https://www.geeksforgeeks.org/mkdir-command-in-linux-with-examples/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> mkdir命令</strong> </a>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建名为MediumExample的目录</p></figure><p id="9a7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行这个命令后，我现在可以在桌面上看到一个目录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/c2eb668e3512f32308252dc2eff6ba66.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*T2rY9y3s3IZKQ63rBt-MEg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><h2 id="c970" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated">光盘(更改目录)</h2><p id="3565" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">现在您已经创建了一个目录，您可能希望在该目录中工作，以便能够完成项目所需的工作。要更改目录，我们使用<a class="ae ky" href="https://www.geeksforgeeks.org/cd-cmd-command/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> cd命令</strong> </a> <strong class="lb iu"> </strong>，它现在会将你的机器指向你想要的目录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/a2307e8c7cd7dbef253c622bef2ff8fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Od4IGUCSLFYv2l8M0Pp2Qw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="72c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所知，我现在位于我们创建的MediumExample目录中。</p><h2 id="562b" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated">触控</h2><p id="802f" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">现在假设我们在我们的工作目录中，我们想要创建一个python文件，我们可以开始工作了。<a class="ae ky" href="https://www.geeksforgeeks.org/touch-command-in-linux-with-examples/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">触摸命令</strong> </a>允许我们创建所需类型的新文件。如果我们运行<strong class="lb iu"> touch test.py </strong>，那么我们会在我们的目录中看到一个python文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/2ea31bef1bc86fe460aa8cb5220276ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*4y9XBjr5GkiukJH-gEXeMQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><h2 id="889d" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated"><strong class="ak"> ls(列表文件)</strong></h2><p id="8f2e" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">如果我们想要一个我们正在处理的所有文件或目录的列表，使用<a class="ae ky" href="https://www.geeksforgeeks.org/practical-applications-ls-command-linux/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> ls命令</strong> </a>可以让你看到目录的内容。如果我们在我们创建的目录中运行ls，我们将看到我们刚刚创建的python文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/12d5bf3d2501406000b905757c55763a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*dsvA2JJ-jNf76QVtJs-RkQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="dde8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些只是帮助您开始使用CLI的一些基本命令。如需更多导航CLI的基本命令，请点击此<a class="ae ky" href="https://www.hostinger.com/tutorials/linux-commands" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><h1 id="d0ca" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.编写您的第一个Bash脚本</h1><p id="a8c5" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">既然我们已经介绍了一些基本的shell命令，那么通常可以将其中的几个命令结合在一起，在CLI中编排更复杂的操作来管理您的工作流。一个<strong class="lb iu"> Bash脚本</strong>允许我们创建一个文件，该文件将执行您试图构建的命令和逻辑。Bash有自己的语法，我们不会深入研究，但是如果你想快速入门，点击下面的<a class="ae ky" href="https://devhints.io/bash" rel="noopener ugc nofollow" target="_blank">链接</a>。Bash脚本由。我们将使用触摸命令创建一个<strong class="lb iu"> example.sh </strong>文件，在我们到目前为止一直使用的目录中创建这个文件。每个bash文件都以下面一行开始。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在所有bash脚本中</p></figure><p id="6867" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们可以添加我们想要的任何命令，并根据工作流的需要操作我们的文件。我们可以首先添加一个命令来创建一个新的子目录，并向我们的终端返回一条消息“Hello World”。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建目录并返回“Hello World”</p></figure><p id="26b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Echo </strong>是一个命令，本质上相当于Python中的print语句。现在要运行bash脚本，运行<strong class="lb iu"> bash example.sh </strong>，example是您为文件命名的任何内容。如果您在之后运行<strong class="lb iu"> ls </strong>命令，您应该会看到一条“Hello World”消息和一个创建的子目录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/f3bda5965598a2e36e8fcb5c23fd3154.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RDbyiHiDVKAMtSLBt4hyCw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="0734" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个例子很简单，但是在将来，bash脚本经常被用来与各种服务/工具(如Docker或云提供商，如AWS)协调工作流，以便能够与您的本地机器和资源进行交互/对话。</p><h1 id="ed86" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.Jupyter笔记本中的Shell脚本</h1><p id="c6f7" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">对于所有的Jupyter Notebook stans来说，也有一个很好的特性，可以创建Bash单元来执行。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在朱庇特笔记本里狂欢</p></figure><p id="4d6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过在单元顶部添加<strong class="lb iu"> %%sh </strong>，您已经将该单元变成了一个可以执行传统bash脚本的代码块。如果您不在Jupyter实验室类型的环境中，无法启动终端来处理您的资源，那么使用这个特性非常方便。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/31c9e08facdcbc079b73ffd6d4c6c515.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*QK68H4xOpl1S5l4s525VVQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><h1 id="69fd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.Argparse</h1><p id="e659" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在ML、Cloud和一般编程中，你会看到一个常见的Python库是Argparse。Argparse允许你在<strong class="lb iu">命令行</strong> <strong class="lb iu">中<strong class="lb iu">传递</strong>参数</strong>给你的脚本。当你为云中的服务提供ML脚本时，你会看到它在<a class="ae ky" href="https://www.pyimagesearch.com/2018/03/12/python-argparse-command-line-arguments/" rel="noopener ugc nofollow" target="_blank">计算机视觉</a>项目以及<a class="ae ky" href="https://sagemaker.readthedocs.io/en/v1.24.0/using_tf.html" rel="noopener ugc nofollow" target="_blank"> AWS </a>中被频繁使用。为了理解argparse，我们可以制作一个简单的计算器应用程序<strong class="lb iu">,我们可以从CLI使用它。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">导入解析器</p></figure><p id="7b48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们导入argparse并创建一个解析器。下一步是添加我们可以从CLI传入的参数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">计算器的参数:Num1，Num2，Operation</p></figure><p id="04b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经添加了数字参数和一个操作符，我们需要能够处理这些操作符并应用必要的逻辑来创建一个基本的计算器应用程序。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">传递的解析参数</p></figure><p id="2e03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在参数已经被解析并传递到我们创建的基本计算器逻辑中。要查看argparse提供的计算器的运行情况，我们可以进入CLI。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/87bf2c44482c5f87fbbf9fd9487fbbbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aI1xknThJrbdbc_d1SecGw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="60a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将该结构中的<strong class="lb iu"> python filename.py args </strong>以及我们创建的任何参数传递给我们的CLI，并看到我们的应用程序正在工作。Argparse非常容易使用，并且有很棒的<a class="ae ky" href="https://docs.python.org/3/library/argparse.html" rel="noopener ugc nofollow" target="_blank">文档</a>，可以帮助你创建非常强大的应用程序，并通过CLI将项目中的各种服务缝合在一起。</p><h1 id="087f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="c7f2" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">我希望这篇文章能够很好地介绍如何使用CLI。在学习数据科学的过程中，非CS或技术背景的人常常会跳过掌握CLI等步骤。我不能强调CLI在管理您的资源以及与其他服务和提供商进行交互时是多么重要，因为您只需从Jupyter笔记本电脑升级您的应用程序。</p><p id="1186" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请随时在LinkedIn上与我联系，或者在Medium上关注我。分享任何想法或反馈，谢谢阅读！</p></div></div>    
</body>
</html>