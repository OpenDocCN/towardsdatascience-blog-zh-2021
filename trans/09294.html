<html>
<head>
<title>Python for Art: Design Personalized Quote Images using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">艺术Python:使用Python设计个性化报价图像</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-for-art-design-personalized-quote-images-using-python-44ef4d8876d8?source=collection_archive---------26-----------------------#2021-08-28">https://towardsdatascience.com/python-for-art-design-personalized-quote-images-using-python-44ef4d8876d8?source=collection_archive---------26-----------------------#2021-08-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cb33" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过机器学习自动生成报价图像</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/518135ca5fed79296f16fd4802ce46fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZaGDaQmPeN33GglGvoMULg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://www.pexels.com/photo/yellow-petaled-flower-in-white-mug-2228585/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae ky" href="https://www.pexels.com/@thought-catalog-317580?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">思想目录</a></p></figure><p id="89a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将向您展示如何创建报价图像，而不使用任何图形设计软件或程序。还有，你不用花时间找报价；机器会为你选择一个。自动化应用的领域很多，平面设计也是其中之一。随着超级强大的GPU的发展，计算机科学家开始使用这种能力来获得乐趣。我相信你已经听说过OpenAI，以及如何用一句话来描述它就能设计出东西。机器的智能会完成剩下的工作。这个项目叫做DALL-E。</p><p id="03fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在今天的文章中，我们将创建一个在图片上添加引号的程序，我们所要做的就是选择一张图片并选择一个关键字。如果你准备好了，让我们开始吧！</p><h2 id="ce8b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">目录</h2><ul class=""><li id="a63e" class="mo mp it lb b lc mq lf mr li ms lm mt lq mu lu mv mw mx my bi translated"><strong class="lb iu"> <em class="mz">第一步——库</em> </strong></li><li id="2ea9" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><strong class="lb iu"> <em class="mz">第二步—报价生成</em> </strong></li><li id="314e" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><strong class="lb iu"> <em class="mz">步骤3 —选择一幅图像</em> </strong></li><li id="5ecc" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><strong class="lb iu"> <em class="mz">步骤4 —在图像上渲染报价</em> </strong></li><li id="75db" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><strong class="lb iu"> <em class="mz">最后一步——导出结果</em> </strong></li></ul></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="57d0" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">步骤1 —库</h1><p id="aded" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">首先，让我们谈谈图书馆。我们将在这个项目中使用两个主要的库，它们被称为:<em class="mz"> Pillow和</em>T26】Quote。Pillow是一个知名的图像编辑/处理库。Quote是Goodreads Quote API的python包装器。以下是这两个库的官方文档链接:</p><ul class=""><li id="953b" class="mo mp it lb b lc ld lf lg li oa lm ob lq oc lu mv mw mx my bi translated"><a class="ae ky" href="https://pypi.org/project/Pillow/" rel="noopener ugc nofollow" target="_blank">枕头</a></li><li id="d649" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><a class="ae ky" href="https://pypi.org/project/quote/" rel="noopener ugc nofollow" target="_blank">引用</a></li></ul><p id="0580" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，我们如何安装它们呢？简单。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="355b" class="lv lw it oe b gy oi oj l ok ol">pip install pillow quote</span></pre><p id="3814" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们准备好了包裹。现在，让我们开始编程。我将使用Jupyter笔记本作为我的编码环境。更容易在步骤内来回移动。</p><p id="449d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想进一步了解枕头库和一些实际应用，这里有一篇我为你找到的颇有见地的文章:<a class="ae ky" rel="noopener" target="_blank" href="/image-processing-with-python-5b35320a4f3c">用Python进行图像处理</a>作者是<a class="om on ep" href="https://medium.com/u/b9d77a4ca1d1?source=post_page-----44ef4d8876d8--------------------------------" rel="noopener" target="_blank">詹姆斯·布里格斯</a>。</p></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="76fd" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">第2步—报价生成</h1><p id="8972" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">让我们从将报价模块导入我们的程序开始。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="7c3e" class="lv lw it oe b gy oi oj l ok ol">from quote import quote</span></pre><p id="757f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用报价模块从API获取随机报价。我们甚至可以传递关键字；这将返回符合我们请求的报价选择。决定权在你。</p><p id="e5d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我会把我的关键词设为生活。让我们看看会得到什么样的报价。顺便说一下，limit参数是我们选择想要得到多少报价的地方。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="1770" class="lv lw it oe b gy oi oj l ok ol">keyword = 'Life'</span><span id="b9df" class="lv lw it oe b gy oo oj l ok ol">result = quote(keyword, limit=1)</span><span id="b223" class="lv lw it oe b gy oo oj l ok ol">print(result)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/031bc59d8a9a9469c838d771a18abc3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TLo4OBwIw3-GdxOr1woPBQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由作者提供。</p></figure><p id="4707" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，返回的列表项是一个字典。我们有几个键和值。关键词是作者、书和引用。我们可以分别访问它们，如下所示:</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="b295" class="lv lw it oe b gy oi oj l ok ol">result[0]['quote']</span><span id="43e1" class="lv lw it oe b gy oo oj l ok ol">result[0]['author']</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/da7aba6b8bf86ec311d2697e44bdc133.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6QeQK4ntMzPsoSURcLvOPA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="7a5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的报价准备好了！是时候选择一张我们想要添加引用的图片了。</p></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="419c" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">步骤3 —选择一幅图像</h1><p id="2eb6" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">这将是最容易的一步。我们要做的就是选择一个图像。你可以在Pexel上找到很棒的股票图片。确保选择一张合适的图片。否则，对于图像来说，文本可能看起来很大。我在这个项目中使用的价值观可能不是对每个人都是最好的。请随意相应地调整它们。</p><p id="6eff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我挑选的图片，一个干净的背景图片:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/19c55eb3c7e136c4bac8384f1d2b89d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYg7CLA1cndQ3PZSTR-wtw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/photo/green-leaves-1072179/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae ky" href="https://www.pexels.com/@catiamatos?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Cátia Matos </a>拍摄</p></figure></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="1306" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">第4步—在图像上呈现报价</h1><p id="8591" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">这一步我们会做很多事情。对于这一步，我们必须从之前安装的Pillow库中导入几个模块。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="ef52" class="lv lw it oe b gy oi oj l ok ol">from PIL import Image, ImageFont, ImageDraw</span></pre><h2 id="c241" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">背景图像</h2><p id="c09f" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">酷！现在让我们继续导入我们选择的图像。ImageDraw方法将图像转换为可编辑的格式。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="3a97" class="lv lw it oe b gy oi oj l ok ol">bg_image = Image.open("image_leaves.jpg")</span><span id="2313" class="lv lw it oe b gy oo oj l ok ol">quote_image = ImageDraw.Draw(bg_image)</span></pre><h2 id="beaf" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">文本属性</h2><p id="da71" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">现在，让我们定义想要使用的文本字体。我用Roboto字体，字体大小为52。我已经从谷歌字体网站下载了这种字体。我们还将报价和作者值赋给新的变量。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="3d50" class="lv lw it oe b gy oi oj l ok ol">quote_font = ImageFont.truetype('Roboto_Slab/RobotoSlab-VariableFont_wght.ttf', 52)</span><span id="b8d5" class="lv lw it oe b gy oo oj l ok ol">quote_text = result[0]['quote']</span></pre><h2 id="e470" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">图像上的文本</h2><p id="1631" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">棘手的部分来了，就是将引用的文本放入图像中。因为完整的报价在一行中，所以我们需要把它分成不同的行来更好地工作。我尝试在不使用任何库的情况下进行这种拆分，下面是我所做的。</p><p id="5f92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要做的第一件事是用逗号分隔完整的引号。但是你看下面，有一条线还是那么长。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/211710797de83c67f18bcff5899c4228.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6VqNXuQhTp7hDjl6-_OjQ.png"/></div></div></figure><p id="9921" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我决定运行一个for循环来按句点进行拆分。在进行拆分的同时，另一个循环是在图像上呈现文本。所以2合1解决方案适合长行和逐行呈现文本。Offset用于在行之间添加一些空白像素。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="0f07" class="lv lw it oe b gy oi oj l ok ol">offset = 0<br/>for i in quote_text:<br/>    i = i.split(".")<br/>    for ix in i:<br/>        quote_image.text((15,15+offset), ix, (216, 233, 237), font=quote_font)<br/>        offset += 100</span></pre><p id="9b12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我带您看一下这段代码的核心部分，它将文本呈现在图像上:</p><ul class=""><li id="668c" class="mo mp it lb b lc ld lf lg li oa lm ob lq oc lu mv mw mx my bi translated">(15，15+offset):文本开始的x和y点。在枕头中，轴系统是笛卡尔轴系统。所以，左上角是(0，0)点。</li><li id="c6ff" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated">ix:是文本行。</li><li id="35b9" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated">(216，233，237):文本的颜色。如果想改变每行的文本颜色，也可以给这些可更新的变量。</li><li id="ab18" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated">font=quote_font:传递我们之前导入的字体信息。</li></ul><p id="aa4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，让我们在底部加上作者的名字。这条线不在循环内。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="30c5" class="lv lw it oe b gy oi oj l ok ol">quote_image.text((15,15+offset), quote_author, (216, 233, 237), font=quote_font)</span></pre></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="0b28" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">最后一步—导出结果</h1><p id="6f71" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">最后一步来了！你准备好看到结果了吗？让我向你展示它的样子:</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="abb3" class="lv lw it oe b gy oi oj l ok ol">bg_image.save("marilyn_quote_on_image.jpg")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/50020e3e0a449d7bbaf902c6cd21d427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SV14jFxxrYQYohpyn1Nm1g.jpeg"/></div></div></figure></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><p id="e6fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完美！我觉得这个很有意思！我们已经创建了一个程序，可以生成个性化的报价图像，而无需进行任何报价搜索或使用图形设计软件。所有这些都是由几行代码组成的。感谢Goodreads的报价API和Pillow python图像处理库。在这个项目中，我演示了一个例子；您甚至可以在几秒钟内自动创建数百个报价图像。让我知道你的想法！</p><p id="83b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你今天学到了新东西。如果您喜欢这篇文章，请随意查看我的其他动手编程文章。快乐编码，保持创造力！</p><blockquote class="ot ou ov"><p id="21f3" class="kz la mz lb b lc ld ju le lf lg jx lh ow lj lk ll ox ln lo lp oy lr ls lt lu im bi translated">我们来连线。查看我的<a class="ae ky" href="https://medium.com/@lifexplorer" rel="noopener">博客</a>和<a class="ae ky" href="https://www.youtube.com/watch?v=7I9eg3G1mnE&amp;list=PLudLCLvpppAJ7OsgrQxqY-n8Ok9Nt-Rtr" rel="noopener ugc nofollow" target="_blank"> youtube </a>来获得灵感。谢谢你，</p></blockquote></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h2 id="d2cf" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">为您的艺术项目提供Python实践</h2><div class="oz pa gp gr pb pc"><a rel="noopener follow" target="_blank" href="/building-an-image-color-analyzer-using-python-12de6b0acf74"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">使用Python构建图像颜色分析器</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">使用Scikit-learn和OpenCV的机器学习项目</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="pm l pn po pp pl pq ks pc"/></div></div></a></div><div class="oz pa gp gr pb pc"><a rel="noopener follow" target="_blank" href="/python-for-art-fast-neural-style-transfer-using-tensorflow-2-d5e7662061be"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">Python for Art使用TensorFlow 2进行快速神经风格转换</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">用神经网络在几毫秒内创建迷人的照片</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="pr l pn po pp pl pq ks pc"/></div></div></a></div></div></div>    
</body>
</html>