<html>
<head>
<title>Bayesian A/B Testing Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">贝叶斯A/B测试解释</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/bayesian-a-b-testing-explained-344a6df88c1a?source=collection_archive---------10-----------------------#2021-05-11">https://towardsdatascience.com/bayesian-a-b-testing-explained-344a6df88c1a?source=collection_archive---------10-----------------------#2021-05-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="85b1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用Python实现解释贝叶斯A/B测试</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0532f7c394b837788d6ff6e815c10b6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RdlmaytihJlzl2RcINKySg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://unsplash.com/photos/Tq39UmwQ6U8" rel="noopener ugc nofollow" target="_blank">水花</a>的图片由<a class="ae ky" href="https://unsplash.com/@alecros" rel="noopener ugc nofollow" target="_blank">亚历山德罗·克罗斯托</a></p></figure><p id="d768" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">A/B测试在各个行业都有很多应用。从试图确定最佳市场群体到医疗药物测试，它有各种应用，并允许企业根据结果做出决策。有两种常用的方法来进行A/B测试，频率主义方法和贝叶斯方法，这两种方法都是从假设测试的基础开始的。在本文中，我将介绍贝叶斯方法在A/B测试中的解释和实现。这篇文章假设你对实践中的A/B测试有一个很好的理解，如果没有，你可以在这里了解更多关于它和频率主义方法<a class="ae ky" rel="noopener" target="_blank" href="/frequentist-a-b-testing-explained-90b9ce8c28b9">。</a></p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/frequentist-a-b-testing-explained-90b9ce8c28b9"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">Frequentist A/B测试说明</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">本文将解释A/B测试的frequentist方法，并提供一个何时以及如何…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="27b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">目录</strong></p><ul class=""><li id="e286" class="mn mo it lb b lc ld lf lg li mp lm mq lq mr lu ms mt mu mv bi translated">贝叶斯方法<br/> -贝叶斯机器学习</li><li id="ea77" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">贝叶斯A/B测试<br/> -探索漏洞利用困境</li><li id="4a6c" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">问题陈述</li><li id="c81e" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">贝叶斯班迪特/汤普森采样<br/> -贝叶斯定理<br/> -贝塔分布</li><li id="4108" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">履行</li><li id="669c" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">结束语</li><li id="9da4" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">资源</li></ul><h1 id="a641" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated"><strong class="ak">贝叶斯方法</strong></h1><p id="1a38" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">贝叶斯方法源于一个主要规则，即一切都是随机变量。例如，如果给定某个数据集，并要求您查找数据的平均值和方差，您的输出将只是一个映射到平均值的数值和一个映射到方差的数值。然而，在贝叶斯方法中，你不再寻找一个数字，而是一个分布。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="4944" class="od nc it nz b gy oe of l og oh">When trying to identify the mean, you can see the difference of approaches below : <br/>Frequentist : ῦ<br/>Bayesian    : p(ῦ | data)</span></pre><p id="8af5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">贝叶斯机器学习</strong></p><p id="0036" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你从机器学习的角度来考虑这个问题，那么你可以看到A/B测试在直觉上与强化学习非常相似。强化学习指的是允许代理在一个环境中采取行动，以最大化奖励的概念。A/B测试可以被视为一组随机实验，随机划分用户，以最大化某些回报。</p><p id="a27b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果我们要用A/B测试对网站上两个按钮的点击率进行建模，不同按钮的不同布局可以被定义为一个动作，点击率的增加可以作为一种奖励。我们想选择一个布局，将最大限度地提高点击率。</p><h1 id="7318" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">贝叶斯A/B测试</h1><p id="c7dd" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">给定一些数据，贝叶斯程序可以概述为以下步骤[1]:</p><ol class=""><li id="7f9e" class="mn mo it lb b lc ld lf lg li mp lm mq lq mr lu oi mt mu mv bi translated">确定先验分布(高斯、泊松、贝塔等。)，这表达了我们在看到任何数据之前对参数(例如ῦ)的初步理解</li><li id="1468" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu oi mt mu mv bi translated">选择一个统计模型(马尔可夫链，贝叶斯土匪等。)这反映了我们对给定ῦ的x的信念</li><li id="5c10" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu oi mt mu mv bi translated">在观察一些数据后，更新我们的信念并计算后验分布p(ῦ | x)。后验分布是一种概率分布，它描绘了在观察数据后您对参数的更新信念。</li></ol><p id="80c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以想象，观察次数(N)越大，你的后验分布的近似值就越好。然而，如果你的观察次数太多，你会失去很多可以为你的网站带来收入的印象。例如，如果你正在为你的网站运行A/B测试，以确定哪个(两个)登陆页面产生非常高的点击率，那么你做的样本越多，你接触到的登陆页面的人就越多，这将减少你可能获得的点击次数。因此，样本大小既不太大也不太小是理想的。</p><p id="1d2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">探索漏洞利用困境</strong></p><p id="4fff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在强化学习中，当代理通过评估可能导致积极结果的场景来收集信息时，被称为<strong class="lb iu">探索。</strong>在探索之后，人们学习在给定当前已知信息的情况下具有最高可能结果的最优决策，这被称为<strong class="lb iu">开发。</strong>最好是平衡剥削，和剥削。</p><h1 id="0818" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">问题陈述</h1><p id="d470" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">假设您想要测试在您的平台上创建用户的两个不同的位置。你的位置1位于网站的左上角，而位置2位于右上角。两个登录页面之间唯一的区别是注册按钮在两个不同的位置，其他都是一样的，我们的实验是<a class="ae ky" href="https://en.wikipedia.org/wiki/Independent_and_identically_distributed_random_variables" rel="noopener ugc nofollow" target="_blank"> <em class="oj"> iid </em> </a> <em class="oj">。</em></p><h1 id="0233" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">贝叶斯土匪/汤普森抽样</h1><p id="bae6" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">在我们探索贝叶斯强盗算法之前，我们需要对贝叶斯定理和贝塔分布做一点回顾。</p><p id="d31d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">贝叶斯定理</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/ef2d3445660b5e6101cceae73428f4c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VLgerAEwLoHrPddz.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://medium.com/@tirthajyoti" rel="noopener"> Tirthajyoti Sarkar </a>提供从<a class="ae ky" rel="noopener" target="_blank" href="/bayes-rule-with-a-simple-and-practical-example-2bce3d0f4ad0">这里</a></p></figure><p id="bd9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本质上，后验~似然*先验</p><p id="2a95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">贝塔分布</strong></p><p id="c176" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个以区间[0，1]为界的连续概率分布，取决于两个参数<em class="oj"> α </em>和<em class="oj"> β。</em>两个<em class="oj"> α </em>和<em class="oj"> β </em>都必须为正。在不涉及算法的情况下，贝塔分布的概率密度函数可以用下面的公式来模拟:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/e7325840bd5de60fe3a279224b362d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*zPQQZFhaAGhtWb8RipJCmA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由作者提供</p></figure><p id="fd8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要获得更详细的解释和推导，请访问维基百科的测试版页面<a class="ae ky" href="https://en.wikipedia.org/wiki/Beta_distribution" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/efd75b056fd063eba88c5f838de78615.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/0*et3yjqEXGd-HDvux.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">该动画展示了β分布如何随着其参数α和β的不同值而变化。来源:<a class="ae ky" href="https://commons.wikimedia.org/w/index.php?title=User:Pabloparsil&amp;action=edit&amp;redlink=1" rel="noopener ugc nofollow" target="_blank"> Pabloparsil </a>来自<a class="ae ky" href="https://en.wikipedia.org/wiki/Beta_distribution" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><p id="49cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以探索贝叶斯土匪/汤普森采样算法。为了这个实验的目的，让我们假设我们知道位置1和位置2的点击率概率。当然，在现实世界的例子中，这不会发生，但为了评估我们的算法在这种情况下的表现，让我们说<code class="fe on oo op nz b">p(pos1) = 0.1</code>和<code class="fe on oo op nz b">p(pos2) = 0.55</code></p><p id="7895" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然我们没有任何现存的观察，我们就不可能有任何先验的信念。为了模拟我们的先验概率，我们可以使用α = 1和β=1的β分布。这将是[0，1]域上的均匀分布。我们选择均匀分布，因为我们不知道结果可能是什么，因此我们给每一个可能的值相等的概率。注意，对于行业场景，如果您有可用的先验知识，那么您应该在您的实现中使用这些先验知识。</p><p id="4b20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这种方法，一步中的后验成为下一步中的先验，我们的后验和先验都可以通过beta建模。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="a791" class="od nc it nz b gy oe of l og oh">                         <strong class="nz iu"> Beta * Data = Beta</strong><br/>                         |____|        |____|<br/>                         prior         posterior</span></pre><h1 id="6d35" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated"><strong class="ak">实施</strong></h1><p id="4ef7" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">请注意，由于分布的随机抽样，您的实现可能会有稍微不同的结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/311dd1062c8c112ca36984adfffc23ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ravCasPdvX1m9xqf_53U2Q.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/d11f8936bb89a5294384a1862a0e2dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xAUgWnGvlmc9B9EYMT3MEA.png"/></div></div></figure><p id="5ada" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，该算法很快收敛到最佳分布。根据这个实验的结果，很明显位置2比位置1更好，应该是你网站上注册按钮的位置。</p><h1 id="1a5e" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">结束语</h1><p id="8008" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">频率主义者和贝叶斯方法的主要区别在于贝叶斯认为参数是随机变量。进行A/B测试的步骤贝叶斯方法是确定你的先验分布，选择一个统计模型，并计算和更新你的后验分布。一般来说，贝叶斯方法比其他传统的A/B测试收敛得更快。这意味着需要更小的样本才能得出结论。</p><h1 id="503c" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated"><strong class="ak">资源</strong></h1><ul class=""><li id="c43b" class="mn mo it lb b lc nt lf nu li ot lm ou lq ov lu ms mt mu mv bi translated">[1]http://www.stat.cmu.edu/~larry/=sml/Bayes.pdf<a class="ae ky" href="http://www.stat.cmu.edu/~larry/=sml/Bayes.pdf" rel="noopener ugc nofollow" target="_blank"/></li><li id="53c7" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">[2]<a class="ae ky" href="https://jamesmccaffrey.wordpress.com/2017/11/30/the-epsilon-greedy-algorithm/#:~:text=In%20short%2C%20epsilon%2Dgreedy%20means,the%20multi%2Darmed%20bandit%20problem" rel="noopener ugc nofollow" target="_blank">https://jamesmccaffrey . WordPress . com/2017/11/30/the-epsilon-greedy-algorithm/#:~:text = In % 20 short % 2C % 20 epsilon % 2d greedy % 20 means，the % 20 multi % 2d armed % 20 bandit % 20 problem</a>。</li><li id="6bf0" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">[3]<a class="ae ky" href="https://www.dynamicyield.com/lesson/bayesian-approach-to-ab-testing/" rel="noopener ugc nofollow" target="_blank">https://www . dynamic field . com/lesson/Bayesian-approach-to-ab-testing/</a></li><li id="f568" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">[4]<a class="ae ky" rel="noopener" target="_blank" href="/intro-to-reinforcement-learning-the-explore-exploit-dilemma-463ceb004989">https://towards data science . com/intro-to-reinforcement-learning-the-explore-exploit-dilemma-463 CEB 004989</a></li><li id="bbc7" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated"><a class="ae ky" href="https://web.stanford.edu/~bvr/pubs/TS_Tutorial.pdf" rel="noopener ugc nofollow" target="_blank">https://web.stanford.edu/~bvr/pubs/TS_Tutorial.pdf</a></li><li id="b646" class="mn mo it lb b lc mw lf mx li my lm mz lq na lu ms mt mu mv bi translated">[6]<a class="ae ky" href="https://github.com/lazyprogrammer/machine_learning_examples/tree/master/ab_testing" rel="noopener ugc nofollow" target="_blank">https://github . com/lazy programmer/machine _ learning _ examples/tree/master/ab _ testing</a></li></ul></div><div class="ab cl ow ox hx oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="im in io ip iq"><p id="55fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您喜欢这篇文章，您可能也会感兴趣:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/monte-carlo-method-explained-8635edf2cf58"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">蒙特卡罗方法解释</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">在这篇文章中，我将向你介绍、解释和实现蒙特卡罗方法。这种模拟方法是一种…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="pd l mj mk ml mh mm ks ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/markov-chain-explained-210581d7a4a9"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">马尔可夫链解释道</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">在本文中，我将解释并提供马尔可夫链的python实现。这篇文章不会是一篇深刻的…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="pe l mj mk ml mh mm ks ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/random-walks-with-restart-explained-77c3fe216bca"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">带重启的随机漫步解释</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">理解带重启的随机游走算法及其在Python中的相关实现</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="pf l mj mk ml mh mm ks ly"/></div></div></a></div></div></div>    
</body>
</html>