<html>
<head>
<title>Python Now Supports Switch Statements — Here’s How to Get Started</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python现在支持Switch语句——下面是入门方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-now-supports-switch-statements-heres-how-to-get-started-fe7da830236a?source=collection_archive---------3-----------------------#2021-06-02">https://towardsdatascience.com/python-now-supports-switch-statements-heres-how-to-get-started-fe7da830236a?source=collection_archive---------3-----------------------#2021-06-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4c21" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何在Python 3.10中使用结构化模式匹配实现Switch语句</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4f439120254d7857c2c8143db4d4e624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aJIh-tCN0S4XaDuhyzsktg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@antilumen?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">罗伯特·威德曼</a>在<a class="ae ky" href="https://unsplash.com/s/photos/bulb?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="8a4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python 3.10 仍处于alpha阶段，但会带来一些令人兴奋的新特性。我们今天将看看其中的一个——switch语句——正式名称为<em class="lv">结构模式匹配</em>。</p><p id="0946" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Switch语句在大多数编程语言中都很常见，它提供了一种更简洁的实现条件逻辑的方式。当有很多条件需要评估时，它们就派上用场了。</p><p id="605c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我们将看看如何使用它们，并比较与更传统的方法的代码差异。</p><p id="c81a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章的结构如下:</p><ul class=""><li id="d43a" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">实现条件运算的旧方法</li><li id="1ea1" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">python 3.10 Way-Switch语句</li><li id="4658" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">最后的想法</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="43ab" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">实现条件运算的旧方法</h1><p id="c17a" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我们会掩护两个。第一个是标准的if-elif-else语句，另一个将使用字典键值映射来完全避免if语句。</p><p id="7729" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们需要一些代码。我们将声明一个名为<code class="fe no np nq nr b">get_mood(day: str) -&gt; str</code>的函数，它返回一个值取决于输入参数的字符串。随着周末的临近，返回值变得更加令人兴奋。愚蠢的小功能，但将做演示的目的。</p><p id="615d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用经典的<code class="fe no np nq nr b">if</code>方法来实现它。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="4559" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有什么新的或开创性的。代码很容易理解，但是太冗长，尤其是当多个值可以满足一个条件时。</p><p id="bee6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以通过完全避免if语句并以键值映射的形式编写函数来“改进”或混合一些东西。这还包括一个用于设置默认返回值的<code class="fe no np nq nr b">try except</code>块。</p><p id="1a31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是代码片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="de5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，结果是相同的，但是我们没有使用条件运算符。这两种方法都可以很好地工作，但是Python一直缺少的是一个专用的<code class="fe no np nq nr b">switch</code>语句。</p><p id="cc22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.10版本解决了这个问题。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="a28b" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">python 3.10 Way-Switch语句</h1><p id="ba48" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">根据<a class="ae ky" href="https://docs.python.org/3.10/whatsnew/3.10.html" rel="noopener ugc nofollow" target="_blank">官方文件</a>:</p><blockquote class="nu"><p id="01c6" class="nv nw it bd nx ny nz oa ob oc od lu dk translated">增加了结构模式匹配，形式为带有关联动作的模式的<em class="oe">匹配语句</em>和<em class="oe"> case语句</em>。模式由序列、映射、原始数据类型以及类实例组成。模式匹配使程序能够从复杂的数据类型中提取信息，对数据结构进行分支，并基于不同形式的数据应用特定的操作。</p></blockquote><p id="cd49" class="pw-post-body-paragraph kz la it lb b lc of ju le lf og jx lh li oh lk ll lm oi lo lp lq oj ls lt lu im bi translated">我们今天将坚持基础知识，并在其他时间探索结构模式匹配必须提供的一切。</p><p id="42c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们回到我们的<code class="fe no np nq nr b">get_mood()</code>函数，用类似于<code class="fe no np nq nr b">switch</code>语句的语法重写它。与许多其他编程语言不同，Python使用了<code class="fe no np nq nr b">match</code>关键字，而不是<code class="fe no np nq nr b">switch</code>。<code class="fe no np nq nr b">case</code>关键字是相同的。</p><p id="f263" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是代码片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="7d08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">概括一下:</p><ul class=""><li id="7d4f" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">使用<code class="fe no np nq nr b">case</code>关键字评估条件(<code class="fe no np nq nr b">case ‘Monday’</code>与<code class="fe no np nq nr b">if day == ‘Monday’</code>相同)</li><li id="c76c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">使用管道运算符<code class="fe no np nq nr b">|</code>分隔多个条件，例如，如果两个输入值应该产生相同的返回值</li><li id="030c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">使用下划线运算符— <code class="fe no np nq nr b">_</code> —指定默认大小写。</li></ul><p id="e42d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是你的结构模式匹配——至少是最基本的。这只是Python 3.10即将推出的令人兴奋的新特性之一。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="a4fb" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">最后的想法</h1><p id="2f0d" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">Python 3.10将带来许多令人兴奋的特性，但它仍处于alpha阶段。因为它还不能用于生产，所以将其作为默认Python版本安装可能不是一个好主意。</p><p id="406e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天我们已经介绍了可能是最激动人心的新特性，但是其他的也将在接下来的文章中介绍。请继续关注博客，了解更多信息。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="d214" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">喜欢这篇文章吗？成为</em> <a class="ae ky" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="lv">中等会员</em> </a> <em class="lv">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="ok ol gp gr om on"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd iu gy z fp os fr fs ot fu fw is bi translated">通过我的推荐链接加入Medium-Dario rade ci</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">medium.com</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb ks on"/></div></div></a></div></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="f442" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">了解更多信息</h1><ul class=""><li id="84ef" class="lw lx it lb b lc nj lf nk li pc lm pd lq pe lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/top-3-reasons-why-i-sold-my-m1-macbook-pro-as-a-data-scientist-abad1226f52a">我作为数据科学家卖掉我的M1 Macbook Pro的三大理由</a></li><li id="defb" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/how-to-schedule-python-scripts-with-cron-the-only-guide-youll-ever-need-deea2df63b4e">如何用Cron调度Python脚本——你需要的唯一指南</a></li><li id="2863" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/dask-delayed-how-to-parallelize-your-python-code-with-ease-19382e159849"> Dask延迟—如何轻松并行化您的Python代码</a></li><li id="9f09" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/how-to-create-pdf-reports-with-python-the-essential-guide-c08dd3ebf2ee">如何用Python创建PDF报告——基本指南</a></li><li id="0f79" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/become-a-data-scientist-in-2021-even-without-a-college-degree-e43fa934e55">2021年即使没有大学文凭也能成为数据科学家</a></li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="7719" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">保持联系</h1><ul class=""><li id="eda3" class="lw lx it lb b lc nj lf nk li pc lm pd lq pe lu mb mc md me bi translated">在<a class="ae ky" href="https://medium.com/@radecicdario" rel="noopener"> Medium </a>上关注我，了解更多类似的故事</li><li id="53af" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">注册我的<a class="ae ky" href="https://mailchi.mp/46a3d2989d9b/bdssubscribe" rel="noopener ugc nofollow" target="_blank">简讯</a></li><li id="504d" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">在<a class="ae ky" href="https://www.linkedin.com/in/darioradecic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上连接</li></ul></div></div>    
</body>
</html>