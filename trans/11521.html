<html>
<head>
<title>Air pollution analytics using PAMI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 PAMI 的空气污染分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-periodic-frequent-pattern-mining-using-pami-python-library-49a6e9dbc2e5?source=collection_archive---------20-----------------------#2021-11-13">https://towardsdatascience.com/introduction-to-periodic-frequent-pattern-mining-using-pami-python-library-49a6e9dbc2e5?source=collection_archive---------20-----------------------#2021-11-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b67e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过周期-频繁模式识别日本的污染热点</h2></div><p id="890c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">信息和通信技术领域的技术进步使各组织能够收集大数据。这些数据库中隐藏着能够使最终用户实现社会经济发展的有用信息。模式挖掘领域的出现是为了发现大数据中可能存在的有趣模式(或项目集)。本教程涵盖以下主题:</p><ul class=""><li id="71f4" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">什么是周期性频繁模式？</li><li id="f2bd" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">如何在时态大数据中发现周期-频繁模式？</li><li id="60d0" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">通过使用 PAMI 软件包中可用的算法寻找周期-频繁模式。</li><li id="1c13" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">周期-频繁模式挖掘的优点和局限性是什么？</li></ul><p id="c4bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">什么是周期-频繁模式？</p><p id="5a52" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">周期频繁模式[1]是存在于时态数据库中的一类重要的规则。在现实世界的应用程序中找到这些模式具有很高的价值，因为它们代表了数据库可以预测的东西。<em class="lp">周期-频繁模式挖掘的目标是发现数据库中定期出现的所有频繁模式。</em></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lq"><img src="../Images/2e6c7edc38c00b60bc8e0e300473520f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cl4lF-wA2VbMjHEMQ32nfQ.jpeg"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">图一。确定日本人们经常暴露于有害水平的 PM2.5 的地点[图片由作者提供]</p></figure><p id="7379" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">例如:</strong>空气污染是日本许多心血管疾病的主要原因。日本平均每年有 4.26 万人因污染而死亡。为了解决这个问题，日本环境省建立了一个名为<a class="ae mg" href="https://soramame.env.go.jp/" rel="noopener ugc nofollow" target="_blank"> SORAMAME </a>(大气环境区域观测系统:AEROS) [3]的全国性传感器网络来监测污染。图 1a 显示了这些传感器在日本的空间位置。该系统每小时生成的空气污染物的原始数据(见图 1b)可以表示为时间数据库(见图 1c)。对该数据库的周期性-频繁模式挖掘(见图 1c)为环境学家和决策者提供了关于人们经常暴露于有害空气污染水平的区域的有用信息(见图 1d &amp; 1e)。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mh"><img src="../Images/12a4ed286f4150b93c74abac114c1f31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CmJpLjRQDpDg7im_Q4UkSw.jpeg"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">表 1:一个样本时态数据库[图片由作者提供]</p></figure><p id="d573" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设<em class="lp"> {S1，S2，S3，S4，S5，S6} </em>为一组空气污染测量传感器。表 1 显示了由这些传感器产生的假设的空气污染时间数据库。该数据库包含 12 个事务。该数据库的<strong class="kh ir">初始时间戳</strong>，即<em class="lp"> ts_initial=0 </em>。该数据库的<strong class="kh ir">最终时间戳</strong>，即<em class="lp"> ts_final=15 </em>。该数据库中的第一个事务提供了传感器<em class="lp"> S1、S2、</em>和<em class="lp"> S5 </em>记录了 PM2.5 的危险水平的信息。该数据库中的其他事务可以用类似的方式解释。传感器的集合，<em class="lp"> S1 </em>和<em class="lp"> S2 </em>，即<em class="lp"> {S1，S2} </em>，称为一个模式(或一个项集)。在表 1 中，这种模式出现在时间戳 1、3、6、8、9、12 和 14。因此，{S1，S2}的<em class="lp">支持度</em>(或<em class="lp">频率</em>)为 7。如果用户指定的<em class="lp">最小支持度</em>，记为<em class="lp"> minSup </em>为 5，则<em class="lp"> {S1，S2} </em>称为<strong class="kh ir">频繁模式</strong>。此模式的<em class="lp">周期</em>为:1 (=1-ts_initial)、2(= 3–1)、3(= 6–3)、2(= 8–6)、1(= 9–8)、3(= 12–9)、2(= 14–12)、1 (=ts_final-14)。该模式的最大<em class="lp">周期</em>被认为是其<em class="lp">周期</em>。于是，<em class="lp"> {S1，S2} </em>的<em class="lp">周期性</em>，即<em class="lp"> per({S1，S2})=max(1，2，3，2，1，3，2，1) = 3 </em>。这意味着传感器<em class="lp"> S1 </em>和<em class="lp"> S2 </em>至少每 3 小时同时记录一次 PM2.5 的危险水平。如果用户指定的<em class="lp">最大周期</em> ( <em class="lp"> maxPer </em>)为 3，那么频繁模式<em class="lp"> {S1，S2} </em>就称为周期-频繁模式。这种模式表示如下:</p><p id="ff64" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">{S1，S2 }[支持度=7，周期=3]</p><p id="6056" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">如何在时态大数据中发现周期-频繁模式？</strong></p><p id="0ee1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">项目集格中项目的空间表示周期频繁模式挖掘的搜索空间。因此，周期-频繁模式挖掘的搜索空间是<em class="lp"> 2^n-1 </em>，其中<em class="lp"> n </em>表示数据库中的项目总数。挖掘算法通过使用<strong class="kh ir">先验/反单调/向下闭包性质</strong>来减少这个巨大的搜索空间。这个性质表示"<em class="lp">周期-频繁模式的所有非空子集也是周期-频繁模式</em>"这一特性使得模式挖掘在现实世界的大型数据库中变得可行。发现周期性频繁模式的算法有:</p><ul class=""><li id="555d" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">PFP-增长</li><li id="1b59" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">PFP-增长++版</li><li id="ed8c" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">PS-增长和</li><li id="a3c3" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">PFP-ECLAT。</li></ul><p id="7f48" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">什么是 PAMI？怎么安装？如何实现在 PAMI 可用的周期-频繁模式挖掘算法？</p><p id="e2ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae mg" href="https://github.com/udayRage/PAMI" rel="noopener ugc nofollow" target="_blank"> PAMI </a>代表模式挖掘。它是一个 Python 库，包含几个模式挖掘算法。这个库是在 GPL V3 许可下提供的。用户只需执行以下命令即可安装该库:</p><pre class="lr ls lt lu gt mi mj mk ml aw mm bi"><span id="e864" class="mn mo iq mj b gy mp mq l mr ms">pip install pami</span></pre><p id="22b8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PAMI 库的好处是数据库中的条目可以是整数或字符串。为了便于说明，我们使用空气污染数据库作为测试案例。<a class="ae mg" href="https://www.u-aizu.ac.jp/~udayrage/datasets/temporalDatabases/temporal_pol_pm2_16.csv" rel="noopener ugc nofollow" target="_blank">点击这里</a>下载数据库。用户可以尝试使用其他数据集。但是，请记住，时态数据库必须以以下格式存在:</p><pre class="lr ls lt lu gt mi mj mk ml aw mm bi"><span id="b4b5" class="mn mo iq mj b gy mp mq l mr ms">timestamp&lt;sep&gt;item1&lt;sep&gt;item2&lt;sep&gt;...&lt;sep&gt;itemN</span></pre><p id="4674" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PAMI 算法使用的默认分隔符是制表符(默认)。然而，用户可以使用其他分隔符，如逗号和空格。如上所述，PAMI 包含几个算法来寻找周期频繁模式。然而，为了简洁起见，我们在本教程中使用 PS-growth 算法[4]。</p><p id="2486" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PS-growth 算法的逐步含义如下:</p><p id="c3d4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">步骤 1:从 PAMI 库中导入 PS-growth 算法</p><pre class="lr ls lt lu gt mi mj mk ml aw mm bi"><span id="44b3" class="mn mo iq mj b gy mp mq l mr ms">from PAMI.periodicFrequentPattern.basic import PSGrowth as alg</span></pre><p id="d6bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">步骤 2:通过提供 data、minSup 和 maxPer 参数来初始化和执行挖掘算法。请注意，数据可以是 HTTP 链接、文件或数据帧。<a class="ae mg" href="https://www.u-aizu.ac.jp/~udayrage/datasets/temporalDatabases/temporal_pol_pm2_16.csv" rel="noopener ugc nofollow" target="_blank">点击此处</a>下载数据集。</p><pre class="lr ls lt lu gt mi mj mk ml aw mm bi"><span id="e37b" class="mn mo iq mj b gy mp mq l mr ms">URL="https://www.u-aizu.ac.jp/~udayrage/datasets/temporalDatabases/<!-- -->temporal_pol_pm2_16.csv<!-- -->"<br/>obj = alg.PSGrowth(iFile=URL,minSup=100,maxPer=24)   #initialization<br/>obj.startMine()                                      #execution </span></pre><p id="b6de" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">步骤 3:将模式存储在文件中</p><pre class="lr ls lt lu gt mi mj mk ml aw mm bi"><span id="bea6" class="mn mo iq mj b gy mp mq l mr ms">obj.savePatterns('patterns.txt')</span></pre><p id="d805" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第四步:印刷图案</p><pre class="lr ls lt lu gt mi mj mk ml aw mm bi"><span id="60c5" class="mn mo iq mj b gy mp mq l mr ms">df = obj.getPatternsAsDataFrame()<br/>df</span></pre><p id="c007" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">步骤 5:计算模式、内存和运行时间的数量</p><pre class="lr ls lt lu gt mi mj mk ml aw mm bi"><span id="05c8" class="mn mo iq mj b gy mp mq l mr ms">print(len(df))<br/>print(obj.getMemoryRSS())<br/>print(obj.getRuntime())</span></pre><p id="6761" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">周期-频繁模式挖掘算法的优缺点是什么？</strong></p><p id="057d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">优点:</p><ul class=""><li id="04b9" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">向下封闭性使得挖掘算法可以部署在大规模数据库上</li><li id="f202" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">几个用户指定的(或超级)参数</li></ul><p id="191e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">缺点:</p><ul class=""><li id="912d" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">仅查找完全/完美出现的周期模式。因此，丢失了部分周期性出现的周期性模式。</li><li id="441b" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">数据库中可能生成了太多模式。</li></ul><h1 id="8ae7" class="mt mo iq bd mu mv mw mx my mz na nb nc jw nd jx ne jz nf ka ng kc nh kd ni nj bi translated"><strong class="ak">结论</strong></h1><p id="2a34" class="pw-post-body-paragraph kf kg iq kh b ki nk jr kk kl nl ju kn ko nm kq kr ks nn ku kv kw no ky kz la ij bi translated">在这篇博客中，我们介绍了可能存在于时态数据库中的周期-频繁模式模型。这些模式的重要性也通过一个例子得到了证明。最后，我们描述了如何利用我们的 PAMI Python 库来发现空气污染数据中的隐藏模式。</p><p id="a690" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">参考文献:</strong></p><p id="0ec7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[1] Syed Khairuzzaman Tanbeer，Chowdhury Farhan Ahmed，Byeong-Soo Jeong，Young-Koo Lee:在事务数据库中发现周期-频繁模式。pak DD 2009:242–253</p><p id="fdc1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[2]Statista:<a class="ae mg" href="https://www.statista.com/statistics/935022/number-deaths-air-pollution-japan/#:~:text=In%202019%2C%20the%20number%20of,attributable%20to%20air%20pollution%20exposure" rel="noopener ugc nofollow" target="_blank">https://www . Statista . com/statistics/935022/number-deaths-air-pollution-Japan/#:~:text = In % 202019% 2C % 20 the % 20 number % 20of，attribute % 20 to % 20 air % 20 pollution % 20 exposure</a>。</p><p id="53a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[3]SORAMAME:【https://soramame.env.go.jp/ T2】(2021 年 11 月 14 日访问)</p><p id="a991" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[4] R. Uday Kiran，Alampally Anirudh，Chennupati Saideep，Masashi Toyoda，P. Krishna Reddy，Masaru Kitsuregawa:使用周期摘要在时态数据库中寻找周期-频繁模式。《数据科学与模式识别》第 3 卷第 2 期第 24–46 页(2019 年)</p></div></div>    
</body>
</html>