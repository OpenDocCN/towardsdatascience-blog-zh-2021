<html>
<head>
<title>5 Tips to Customize the Display of Your Pandas Data Frame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自定义熊猫数据框显示的5个技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/6-tips-to-customize-the-display-of-your-pandas-data-frame-ce5a8caa7783?source=collection_archive---------17-----------------------#2021-07-08">https://towardsdatascience.com/6-tips-to-customize-the-display-of-your-pandas-data-frame-ce5a8caa7783?source=collection_archive---------17-----------------------#2021-07-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4b05" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使Jupyter笔记本中的数据框更加直观</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ba11ef4c2a24e512ba376a9247f838d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hK3VNC_RuFH13Bb6lhfBsA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=314153" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae ky" href="https://pixabay.com/users/mocho-156870/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=314153" rel="noopener ugc nofollow" target="_blank"> Mocho </a></p></figure><p id="cf5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas是数据科学社区中最受欢迎的Python库之一，因为它为数据探索和可视化提供了灵活的数据结构和庞大的API。数据科学家花费大部分时间探索数据和执行探索性数据分析。Jupyter Notebook提供了一个交互式平台来执行探索性数据分析，最受数据科学家和数据分析师的青睐。</p><p id="9865" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b"><strong class="lb iu">dataframe.head()</strong></code> <strong class="lb iu"> </strong>是来自Pandas包的一个函数，用来显示数据帧的前5行。Pandas使用预定义的HTML+CSS命令在笔记本上以格式化的方式显示数据框。默认情况下，我们受到笔记本中熊猫数据框显示的行数和列数的限制。有时，有必要改变显示格式，使EDA更加直观和格式化。使用<code class="fe lv lw lx ly b"><strong class="lb iu">pandas.options.display</strong></code> <strong class="lb iu"> </strong>选项可以改变数据框的格式。</p><p id="1217" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">30+显示选项可以改变，以自定义显示格式；在本文中，我们将讨论5个流行的自定义数据框显示格式的技巧，以使其更加直观。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="2cd7" class="md me it ly b gy mf mg l mh mi"><strong class="ly iu"><em class="mj">Checklist:</em></strong><br/><strong class="ly iu">1. Display of Columns<br/>2. Display of Rows<br/>3. Width of the cell<br/>4. Decimal value formatting<br/>5. Data frame info</strong></span></pre><p id="a5b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在开始之前，我使用<code class="fe lv lw lx ly b"><strong class="lb iu">pd</strong></code>作为熊猫库的别名，<code class="fe lv lw lx ly b"><strong class="lb iu">import pandas as pd</strong></code> <strong class="lb iu"> </strong>，<code class="fe lv lw lx ly b"><strong class="lb iu">df</strong></code>是指向数据集的变量。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="6071" class="mr me it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated"><strong class="ak"> 1。改变列的显示:</strong></h1><p id="9f75" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">使用Pandas加载数据集后，我们会受到输出显示单元格中列数的限制。<code class="fe lv lw lx ly b">df.head()</code>Pandas库中的函数对于获得数据帧前5行的第一次切割概览至关重要。列的数量是有限的，这使得很难可视化整个列集。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/87da4211eed0033e1de9d9e43c076475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tqt3yOtM91MfLkcEb69xsw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)，默认max_columns的数据框显示</p></figure><p id="a80d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，输出显示限制为20列，前10列和后10列由三个点分隔显示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/78b6dbefedc90babf5245701fa8cbc44.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*oZ111JxbkZJGMZVR5HLNAA.png"/></div></figure><p id="e96c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以选择改变输出单元格中显示的列数。使用<code class="fe lv lw lx ly b"><strong class="lb iu">pd.set_option(“display.max_columns”, x)</strong></code>，显示的列数将变为<code class="fe lv lw lx ly b"><strong class="lb iu">x</strong></code>。如果代替x传递的是<strong class="lb iu"> None </strong>，那么所有的列都将显示在输出单元格中。</p><div class="kj kk kl km gt ab cb"><figure class="np kn nq nr ns nt nu paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/1b0a1b0b5a12d6994583151a863e1257.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*ObOjtx5dINEWycJDnnNxKQ.png"/></div></figure><figure class="np kn nv nr ns nt nu paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/b58758ec090852b39914bf7edccce58e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*lCIoqh-Ouomrql9HDUaJng.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk nw di nx ny translated">(图片由作者提供)，<strong class="bd nz">左:</strong>显示max_columns设置为10，<strong class="bd nz">右:</strong>显示max_columns设置为None</p></figure></div><p id="234d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过改变列数的显示选项，可以非常直观地得到数据框的第一次切割可视化。</p><h1 id="a6ae" class="mr me it bd ms mt oa mv mw mx ob mz na jz oc ka nc kc od kd ne kf oe kg ng nh bi translated">2.改变行的显示:</h1><p id="4ab1" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">Pandas还提供更改数据框行的显示选项。默认情况下，Pandas将截断超过60行的行，并在输出单元格中只显示顶部和底部的5行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/ccc53e49b1134b0112ac09ad8727960e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r3Bs-tL-empr4k6RyaVZYg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(按作者排序的图像)，默认max_rows的示例数据集显示</p></figure><p id="5320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用户可以使用<code class="fe lv lw lx ly b">pd.set_option(“display.max_rows”, x)</code>改变输出单元格中显示的行数，当用x替换None时，显示数据框中的所有行。用户可以向下滚动并可视化数据框的值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/2ee2d91a45ebde9e9343754fe765a3af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-DaqhlmS_uwJ_Rw42eTkkQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(按作者排序的图像)，max_rows = None的示例数据集显示</p></figure><h1 id="335e" class="mr me it bd ms mt oa mv mw mx ob mz na jz oc ka nc kc od kd ne kf oe kg ng nh bi translated">3.改变单元格的宽度:</h1><p id="9930" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">Pandas显示选项不仅可以改变输出像元中显示的行数和列数，还可以改变数据框像元的宽度。默认情况下，单元格的最大宽度可以是50。超过50个字符的单元格，剩余的字符将被截断。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/38b7f9f3c26b925cb3288d93810f8a39.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*AM99uwEBgDNw04PGrI4lPA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者图片)，显示默认列宽</p></figure><p id="2d8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的示例数据集中，review列中的文本值在50个字符后被截断。<code class="fe lv lw lx ly b"><strong class="lb iu">pandas.display.options</strong></code>提供使用<code class="fe lv lw lx ly b"><strong class="lb iu">pd.set_option(“display.max_colwidth”, x)</strong></code>改变输出单元格中显示的字符数的功能，其中x是字符数。</p><div class="kj kk kl km gt ab cb"><figure class="np kn oh nr ns nt nu paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/7ad2afbf60c08f9dfa8a554578763fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*fjuHDkmGsAnuV1Cu7OdDgQ.png"/></div></figure><figure class="np kn oi nr ns nt nu paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/db71292e336eab218f7a3e4bdfe1c471.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*JKG97h_AYQPQfZPgJw2OrQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk oj di ok ny translated">(图片由作者提供)，<strong class="bd nz">左:</strong>显示max_colwidth = 100，<strong class="bd nz">右:</strong>显示max_colwidth = 200</p></figure></div><h1 id="4835" class="mr me it bd ms mt oa mv mw mx ob mz na jz oc ka nc kc od kd ne kf oe kg ng nh bi translated">4.十进制数值格式:</h1><p id="d0b4" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">默认情况下，Pandas将数据框中的浮点值格式化为6位小数，对于小数点后超过6位的值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/5636d8306dbeaf05f8a33fdce7c2b8fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*gG9CvTnoZy33Yvr0zA2eXQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(按作者分类的图像)，具有默认精度的样本数据集</p></figure><p id="2001" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您打印第一行<code class="fe lv lw lx ly b">V1</code>列的值，我们会得到小数点后有13位的真实特征值<code class="fe lv lw lx ly b"><em class="mj">-1.3598071336738</em></code> <em class="mj">。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/eb958d1b17b6f162e0dd60f2b4525b04.png" data-original-src="https://miro.medium.com/v2/resize:fit:346/format:webp/1*15iMFcNzvyOnwejZTa4chw.png"/></div></figure><p id="58dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">pandas.display.options</code>提供改变浮点数精度的能力，使用<code class="fe lv lw lx ly b">pd.set_option(“display.precision”, x)</code>其中x是精度。</p><div class="kj kk kl km gt ab cb"><figure class="np kn on nr ns nt nu paragraph-image"><img src="../Images/b7d1a9bac1aea7d0cff526c25647b75b.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*8kVF8JSfmEs_j5czzzHBqA.png"/></figure><figure class="np kn oo nr ns nt nu paragraph-image"><img src="../Images/209b6ff246f1d7e7c6cac9e0f2f57e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*MnV21obEVzto2iHs_22twQ.png"/><p class="ku kv gj gh gi kw kx bd b be z dk op di oq ny translated">(图片由作者提供)，<strong class="bd nz">左:</strong>样本数据集显示精度= 3，<strong class="bd nz">右:</strong>样本数据集显示精度= 10</p></figure></div><p id="9db2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更改要素值的精度实际上不会影响数据集，但会限制笔记本输出像元中的显示。</p><h1 id="e47f" class="mr me it bd ms mt oa mv mw mx ob mz na jz oc ka nc kc od kd ne kf oe kg ng nh bi translated">5.数据帧信息:</h1><p id="3e60" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated"><code class="fe lv lw lx ly b">dataframe.info()</code>是Pandas中的一个常用功能，用于获取数据框的概况。这将显示数据框的列名、非空值计数、列的数据类型。</p><p id="22f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">info()函数将其约束限制在包含100个要素或列的数据框内。下图显示了info()函数为只有两个要素的数据集返回的内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/49ee1032dbacdaef8df6ea2cb5664db7.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*tA4TUpMWy2yewW7kCiChew.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)，IMDB数据集的数据框剖面图</p></figure><p id="3b6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于具有超过100个特征的数据集，<code class="fe lv lw lx ly b"><strong class="lb iu">info()</strong></code>函数不返回列名、非空值计数和每个列的数据类型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/47a7d07a2d98d4c8b013a2f753a4ab2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*8D5sVClcTB56x2PjMJMYKg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(按作者分类的图片)，列数大于100的数据集的数据框剖面</p></figure><p id="7346" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用户可以改变<code class="fe lv lw lx ly b"><strong class="lb iu">max_info_columns</strong></code>的默认约束，以获得数据框的整个轮廓概览。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/298d248775850084cbefae1c41b4597c.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*W17Zt4OdtPzE4TcL118z4A.png"/></div></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="e064" class="mr me it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论:</h1><p id="6c4b" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在本文中，我们讨论了如何改变熊猫数据框中的显示选项。文章中提到的6个技巧在执行数据理解和数据探索任务时非常有用。通过改变上面讨论的显示选项，可以更好地可视化笔记本中的数据框。</p><h1 id="3cf1" class="mr me it bd ms mt oa mv mw mx ob mz na jz oc ka nc kc od kd ne kf oe kg ng nh bi translated">参考资料:</h1><p id="a13d" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">[1]熊猫文档:<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/options.html" rel="noopener ugc nofollow" target="_blank">https://Pandas . pydata . org/Pandas-docs/stable/user _ guide/options . html</a></p><blockquote class="ou"><p id="be91" class="ov ow it bd ox oy oz pa pb pc pd lu dk translated">感谢您的阅读</p></blockquote></div></div>    
</body>
</html>