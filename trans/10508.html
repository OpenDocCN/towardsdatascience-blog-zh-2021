<html>
<head>
<title>Discover Insights from Your Instagram Business Account with Facebook Graph API and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">借助脸书图形API和Python，从您的Instagram商业账户中发现真知灼见</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/discover-insights-from-your-instagram-business-account-with-facebook-graph-api-and-python-81d20ee2e751?source=collection_archive---------2-----------------------#2021-10-07">https://towardsdatascience.com/discover-insights-from-your-instagram-business-account-with-facebook-graph-api-and-python-81d20ee2e751?source=collection_archive---------2-----------------------#2021-10-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="85d5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用Python从Instagram业务中获得洞察力的分步指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fbbbe10634385c708dec37044e0e6c8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cMjlbHkIdqxnyrHw"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Instagram上发布产品照片是社交媒体驱动的商业世界不可或缺的一部分</p></figure><p id="6d60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi ls translated"><span class="l lt lu lv bm lw lx ly lz ma di"> I </span> nstagram。多功能社交媒体，在这里你可以发布你最喜欢的食物，捕捉你最喜欢的消遣，在这里你可以看到你的朋友或家人在做什么，在这里你可以获得你的每日新闻摘要，在这里你可以获得你有趣的宠物视频，在这里你可以获得你每日的迷因，在这里你可以研究一些产品，服务，甚至“研究”你喜欢的人。基本上是社交媒体的瑞士军刀。</p><p id="0a3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2021年，每月超过10亿人使用insta gram<a class="ae kv" href="https://sproutsocial.com/insights/instagram-stats/" rel="noopener ugc nofollow" target="_blank">【1】</a>。我每天打开我的Instagram。我的朋友也是，我的家人也是，我想，你也是。</p><p id="0139" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Instagram拥有大量的活跃用户，加上他们中的一些人拥有高水平的可支配收入，当然，insta gram仍然是你的企业销售或推广你的产品或服务的最热门的地方之一。</p><p id="b6e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">毫无疑问，在Instagram上在线展示很重要。有些人甚至认为这比线下的存在更重要。世界上的疫情状况只会强化这种情绪。</p><p id="eb10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，你想创业。或者，可能已经有了生意，然后你想从Instagram那里分一杯羹。</p><p id="e791" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你如何在Instagram上为你的企业树立形象？首先，你可以注册你的Instagram商业账户，然后，定期在Instagram上发布内容/帖子，以建立你的社区，增加你的粉丝数量，或创造知名度。</p><p id="f59e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设你发表了一系列不同的帖子或内容，但你很好奇你的内容被人们接受的程度。你想知道哪些人对你的产品感兴趣，你的帖子到达了哪些城市，等等。你可以从你的Instagram个人资料中看到这些见解。但老实说，这个观点本身是非常有限的。</p><p id="3821" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你想从你的Instagram上看到更全面的洞察数据吗？或者从这些见解中构建自己的数据表或仪表板？下面跟我一起深入挖掘<em class="mb"> Instagram Graph API </em>！</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="86ec" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">Instagram商业账户</h1><p id="c113" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在深入探讨代码或者Instagram Graph API之前，对于不熟悉Instagram商业账号的人，我们先退一步。</p><p id="7322" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Instagram上大多数人用的是Instagram个人账号。默认情况下，每次新用户在Instagram上创建账户，都是个人账户。但是如果你打算将Instagram用于商业目的，你应该将你的个人账户转换成商业账户。</p><p id="df85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过转换为企业帐户，您可以获得更多功能来帮助您的业务增长，例如获得洞察力来帮助您了解谁在使用您的内容，通过广告触及未知的潜在市场，以及在您的个人资料中添加更多联系信息。</p><p id="6680" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过阅读这份<a class="ae kv" href="https://www.facebook.com/business/learn/lessons/personal-instagram-vs-business-instagram" rel="noopener ugc nofollow" target="_blank">脸书蓝图</a>，你可以了解更多关于如何建立你的商业账户的信息。这是一个很短的过程，你可以在10分钟内完成。</p><h1 id="0c96" class="mj mk iq bd ml mm ng mo mp mq nh ms mt jw ni jx mv jz nj ka mx kc nk kd mz na bi translated">脸书开发者帐户</h1><p id="7bbd" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">一旦你创建了一个Instagram商业账户，让我们前往<a class="ae kv" href="https://developers.facebook.com/" rel="noopener ugc nofollow" target="_blank">脸书开发者页面</a>为你创建一个开发者账户。</p><p id="ef79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，你需要先做一个应用程序来访问脸书的insight数据。您的应用程序类型将决定哪些API可供您使用。</p><h2 id="d49a" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">制作您的第一个脸书应用程序</h2><ol class=""><li id="5363" class="nx ny iq ky b kz nb lc nc lf nz lj oa ln ob lr oc od oe of bi translated">进入<em class="mb">我的应用</em>，然后点击<em class="mb">创建应用。</em></li><li id="436c" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">为您的应用程序类型选择<strong class="ky ir">业务</strong>，因为您稍后将使用<em class="mb"> Instagram Graph API </em>。</li><li id="aaeb" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">写下你的显示名和联系邮箱。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/1f22b0cb72647c2f6575da224a71800c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ch3cUCJxi9CV0f291UAoew.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">我在脸书的开发者应用页面|作者图片</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/e50b95092947d6c7f9880a6b4d2273ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*llqx78xv_wUvLv4r8ezYfA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建应用程序前的最后一步|作者图片</p></figure><p id="be49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你的应用成功创建，你可以进入基本设置来检查你的<strong class="ky ir">应用ID </strong>和<strong class="ky ir">应用密码</strong>。<strong class="ky ir">应用ID </strong>是你的应用的唯一标识符，因此脸书可以识别是谁从应用发出数据请求。而<strong class="ky ir"> App Secret </strong>将用于解码来自脸书的加密信息。这两个是你app特有的，以后会用到。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/4e7ddd284447c604a6d5d8672b443e5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yPIWm1E3lpvScLQo8vMv0A.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">基本设置包含应用ID和应用机密|作者图片</p></figure><h2 id="d15a" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">其他关键信息</h2><p id="73f3" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在继续探索<em class="mb"> Instagram Graph API </em>之前，让我们稍微离开一点，收集我们将用于挖掘洞察力的另一个关键信息:<strong class="ky ir">脸书页面ID。</strong></p><p id="9bc4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以通过查看您的<em class="mb">脸书业务</em>页面并查看<em class="mb">“关于”</em>选项卡的底部，轻松获得您的<strong class="ky ir">脸书页面ID </strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/2c41c9c0875902fbc5acac5f7c5f5949.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z4Yat0VqBPdQKI9uDcwHiQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">脸书商业页面—页面ID |作者图片</p></figure><h1 id="8d1d" class="mj mk iq bd ml mm ng mo mp mq nh ms mt jw ni jx mv jz nj ka mx kc nk kd mz na bi translated">Instagram图形API</h1><p id="b933" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">现在，让我们将<em class="mb"> Instagram Graph API </em>添加到您的应用程序中。您可以轻松选择<em class="mb"> Instagram Graph API </em>，然后点击<em class="mb">设置</em>。你可以在这里阅读更多关于<em class="mb"> Instagram Graph API </em> <a class="ae kv" href="https://developers.facebook.com/docs/instagram-api/" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/4e7ddd284447c604a6d5d8672b443e5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yPIWm1E3lpvScLQo8vMv0A.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">脸书应用提供的产品选择|作者图片</p></figure><h2 id="2d16" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">图形API浏览器</h2><p id="da15" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">一旦您添加了<em class="mb"> Instagram Graph API </em>，您就可以转到<em class="mb">“工具”</em>选项卡，使用<em class="mb"> Graph API </em> Explorer来定义您需要或想要的权限类型，并生成访问令牌。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/f6da4f060152159dfa820976b35aafdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OrWhkY_pN3LJ8UpqQggsyA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图形API浏览器主页|作者图片</p></figure><p id="93d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有一个很大的权限列表可供我们选择，您可以在这里查阅它们<a class="ae kv" href="https://developers.facebook.com/docs/permissions/reference" rel="noopener ugc nofollow" target="_blank">。显然，当构建一个应用程序或从脸书请求数据时，我们只需要少量数据，而不是全部。</a></p><p id="f857" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">存在仅访问基本信息、访问见解、发布评论、发布内容等的权限。你可以在上面的链接中深入阅读。</p><p id="c9cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于我们的目标是利用Instagram Insights的力量，我们将要求提供一个具体的权限列表。我们现在要做的是向脸书/Instagram询问这些见解:</p><ol class=""><li id="1331" class="nx ny iq ky b kz la lc ld lf on lj oo ln op lr oc od oe of bi translated">来自每个Instagram帖子的基本见解(赞和评论)</li><li id="71ea" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">来自每个Instagram帖子的更深入的见解(印象、触及范围等。)</li><li id="441b" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">来自Instagram账户的受众和人口统计洞察</li></ol><p id="c63f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你看过上面的权限链接，你就会知道，要获取那些数据，我们必须要有这些权限:<strong class="ky ir"> instagram_basic </strong>，<strong class="ky ir">insta gram _ manage _ insights</strong>，<strong class="ky ir"> pages_show_list </strong>，<strong class="ky ir"> pages_read_engagement </strong>，以及<strong class="ky ir"> pages_read_user_content。</strong></p><p id="4b49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你选择了所有的权限，点击<em class="mb">生成访问令牌</em>，会弹出一个小窗口。在确认后续流程之前，脸书还会通知我们的<strong class="ky ir"> Instagram商业账号ID </strong>。把这个复制到你的记事本上，以后会很方便。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/2c08caa8c0f260d7e628e51cde36f257.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*Mh9yhBe8zBkKd3J5XeSXwA.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Instagram商业账户ID |作者图片</p></figure><p id="9f00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确认随后的窗口，将您的应用链接到脸书，然后您将最终获得一个<strong class="ky ir">访问令牌</strong>。请记住，该令牌只是一个<strong class="ky ir">短期访问令牌</strong>，仅在<strong class="ky ir">一小时</strong>内有效。我们将生成一个<strong class="ky ir">长期访问令牌</strong>，其有效期为<strong class="ky ir"> 60天</strong>。系好安全带，因为我们现在要使用Python了！</p><h1 id="da63" class="mj mk iq bd ml mm ng mo mp mq nh ms mt jw ni jx mv jz nj ka mx kc nk kd mz na bi translated">从脸书图形API中获得洞察力</h1><h2 id="7800" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">准备</h2><p id="aed8" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">打开你的<em class="mb"> Jupyter笔记本</em>、<em class="mb"> Google Colab </em>或任何其他Python IDE，然后我们将首先从导入所需的库开始。</p><p id="71c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我们将使用<em class="mb"> GET请求</em>到脸书，我们必须根据我们需要请求的数据遵守特定的语法。为了让我们更容易使用各种<em class="mb"> GET </em>语法，让我们在一个名为<em class="mb">‘params’</em>的<em class="mb">字典</em>中编译我们需要的细节。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="3e1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可能会对代码中显示了多少<strong class="ky ir">屏蔽的</strong>细节感到惊讶，但实际上，我们已经在之前的过程中收集了这些细节！让我解释一下:</p><ol class=""><li id="6a7f" class="nx ny iq ky b kz la lc ld lf on lj oo ln op lr oc od oe of bi translated"><em class="mb"> access_token </em> : <strong class="ky ir">我们在开始编写代码之前直接获得的短期访问令牌</strong></li><li id="54d6" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><em class="mb">client _ ID</em>:<strong class="ky ir">App ID</strong>来自<em class="mb">设置</em></li><li id="4b02" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><em class="mb">client _ Secret</em>:<strong class="ky ir">App Secret</strong>来自<em class="mb">设置</em></li><li id="20d4" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><em class="mb"> page_id </em> : <strong class="ky ir">脸书页面ID </strong>来自您的业务页面的“<em class="mb">关于”</em>选项卡</li><li id="c73d" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><em class="mb"> instagram_account_id </em>:确认生成令牌过程中显示</li></ol><p id="b8c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于<em class="mb">‘graph _ version’</em>，我使用的是<strong class="ky ir"> v12.0 </strong>，因为那是我目前可用的版本。如果您使用API的另一个版本，只需相应地更新它。</p><h2 id="f372" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">检查访问令牌</h2><p id="47e8" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在继续请求洞察之前，让我们先检查一下我们的访问令牌和应用范围。我们可以通过编写这段代码来做到这一点。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="8d3e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行这些代码将导致以下结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/264b1265f49605a28fd083d460030c62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*fpetI3psqFGrBdqPFLsPng.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">访问令牌检查结果|按作者排序的图像</p></figure><p id="1df9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以确认我们的应用范围，更重要的是，知道我们的<strong class="ky ir">令牌将于何时到期</strong>。为了将那个<em class="mb">‘expires _ at’</em>数字转换成适当的时间戳格式，让我们做一个简单的重新格式化。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="8735" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们确切地知道了我们的令牌实际上有多短暂:)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/336e1a6a6d37a93ee1c73150f14a1609.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/1*te-uII27vHUbGjB2HsAhAQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">短期访问令牌过期时间|作者图片</p></figure><h2 id="f1a9" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">将短期访问令牌更改为长期访问令牌</h2><p id="631b" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">由于1小时的到期时间可能会干扰我们学习从Instagram请求insights数据的过程，因此让我们将这个短期令牌转换为一个长期访问令牌。</p><pre class="kg kh ki kj gt ov ow ox oy aw oz bi"><span id="aa27" class="nl mk iq ow b gy pa pb l pc pd">API Endpoint:</span><span id="fb2e" class="nl mk iq ow b gy pe pb l pc pd">https://graph.facebook.com/{graph-api-version}/oauth/access_token?grant_type=fb_exchange_token&amp;client_id={app-id}&amp;client_secret={app-secret}&amp;fb_exchange_token={your-access-token}</span></pre><p id="dac9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基于来自脸书的API端点，让我们编写一些代码来获得<strong class="ky ir">长期访问令牌</strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pf"><img src="../Images/35980f6b848866c9a0301c817e196cdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OgjfbAQQs9tV9BxcFuI1dg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">长期访问令牌|作者图片</p></figure><p id="ddf9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们得到了一个<strong class="ky ir">长期访问令牌</strong>，让我们通过将它放回我们的参数字典(<em class="mb"> params['access_token'] </em>)来检查我们的最新令牌到期时间，然后重新运行<strong class="ky ir">检查访问令牌</strong>代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/32497b33c9c656eb071f0f951111449a.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*_DOHDwldMTO4qx6WY1sfGQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">长期访问令牌过期时间|作者图片</p></figure><p id="1787" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们已经成功地将访问令牌的到期时间从2021年10月转换为2021年12月！现在我们能够更灵活地执行数据请求，因为我们有了更多的时间。</p><h2 id="901a" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">Instagram帖子——基本观点</h2><p id="42d3" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">让我们先从基本的见解开始，比如来自你的Instagram商业帖子的基本元数据，以及它们的<em class="mb">喜欢数</em>和<em class="mb">评论数</em>。</p><pre class="kg kh ki kj gt ov ow ox oy aw oz bi"><span id="9116" class="nl mk iq ow b gy pa pb l pc pd">API Endpoint:</span><span id="015b" class="nl mk iq ow b gy pe pb l pc pd">https://graph.facebook.com/{graph-api-version}/{ig-user-id}/media?fields={fields}</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="e32f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过运行这些代码，我们可以获得从你<strong class="ky ir">注册商业账户</strong>开始的任何帖子的元数据和基本信息。请记住，如果您的帐户最初是个人帐户，那么您将只能从您更改为企业帐户后发布的<strong class="ky ir">帖子中获得见解。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ph"><img src="../Images/bd3f14c7fa3a2d225c5b8b8692196826.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D2wFx0p2dQj1_6zRAdAQAg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">基本见解结果|作者图片</p></figure><p id="889a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，您将收到JSON字典形式的数据。所有这些数据都非常重要，所以让我们简单地将它们转换成熊猫数据帧。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pi"><img src="../Images/c87c9158aa32c3041979b67057d19429.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZgPvYVPZOOuTxrSNnPZ9XQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">基本见解—数据框架结果|作者图片</p></figure><h2 id="525d" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">Instagram帖子——更多见解</h2><p id="78ee" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">我们可以通过使用上面不同的API端点来更深入地研究每篇文章。</p><pre class="kg kh ki kj gt ov ow ox oy aw oz bi"><span id="4b42" class="nl mk iq ow b gy pa pb l pc pd">API Endpoint:</span><span id="882d" class="nl mk iq ow b gy pe pb l pc pd">https://graph.facebook.com/{graph-api-version}/{ig-media-id}/insights?metric={metric}</span></pre><p id="80bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一次，我们将遍历从以前的代码中获得的<em class="mb">‘媒体id’</em>，以请求更深入的洞察指标。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/2cf592fd9689cde6e456ec7b67fd762e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*Qk38Fv4hVTKvPXAm9tSwTQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">更多见解—结果</p></figure><p id="5f4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并非上述所有数据都重要，我们只想获得<em class="mb">‘name’</em>和<em class="mb">‘value’</em>，因此我们必须正确解析它，然后将其转换为<em class="mb"> Pandas DataFrame </em>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pk"><img src="../Images/8c3d14f87b48d496830fb9df34c719e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*QT0u6mIaWaOKtW6PX7AqYg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">更多见解—数据框架结果| |作者图片</p></figure><p id="7daa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们已经成功地为我们的帖子收集了更深入的见解。不仅是<em class="mb">订婚</em> ( <em class="mb">喜欢</em> + <em class="mb">评论</em>)，我们还可以看到<em class="mb">印象</em>、<em class="mb">达成</em>、<em class="mb">保存</em>，这些都是Instagram的算法中越来越重要的指标。我们甚至可以通过将这种更深入洞察的<em class="mb">数据框架</em>与基本洞察的<em class="mb">数据框架</em>结合起来，进一步整理我们的数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><h2 id="e888" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">Instagram账户——受众洞察</h2><p id="5500" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">我们可能从我们的个人帖子中获得了见解，但我们也可以从我们的Instagram商业帐户中请求见解，例如，<em class="mb">观众见解</em>。</p><pre class="kg kh ki kj gt ov ow ox oy aw oz bi"><span id="aa1f" class="nl mk iq ow b gy pa pb l pc pd">API Endpoint:</span><span id="9e13" class="nl mk iq ow b gy pe pb l pc pd">https://graph.facebook.com/{graph-api-version}/{ig-media-id}/insights?metric={metric}</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/1ad8f114b0555b9d4d95e287df102bd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*qncLzvROVN0o2mQA2ihwvw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">受众观察结果|作者图片</p></figure><p id="0f2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在有不同层次的观众人口统计洞察:按国家的<em class="mb">、</em>、按城市的<em class="mb">、<em class="mb">和按性别-年龄的</em>。有了这些数据，我们可以看到我们的帖子到达了哪些城市，哪个城市最喜欢我们的内容，我们的内容吸引了哪些人群。</em></p><p id="baab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以通过简单的编码来制作<em class="mb">熊猫数据框</em>，例如，我们按城市创建<em class="mb">观众的<em class="mb">数据框</em>，按性别-年龄</em>创建<em class="mb">观众的<em class="mb">数据框。</em></em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/814d7375061d40fc2ab18f5e13938596.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*pj6gqkDX_Rm0p2wRiOHZsg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">城市受众—数据框架结果|作者图片</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/9f52eee3a2b633bfb8c31fc4056ec10b.png" data-original-src="https://miro.medium.com/v2/resize:fit:338/format:webp/1*G7hrd3SxxZqHo0xQCaqfrQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">按性别-年龄划分的受众—数据框架结果|按作者划分的图片</p></figure><p id="323d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">利用上述信息，我们可以制定更好的内容创作或营销策略。我们对用户了解得越多，我们就能更好地为他们量身定制活动或广告。</p><h1 id="4413" class="mj mk iq bd ml mm ng mo mp mq nh ms mt jw ni jx mv jz nj ka mx kc nk kd mz na bi translated">结论</h1><p id="3974" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">现在，您可以从您的Instagram商业帐户中提取几个insights数据，如<em class="mb">喜欢数、评论数、印象数、已保存数、</em>和<em class="mb">观众见解</em>，您可以更好地分析您的Instagram帐户的表现。</p><p id="c908" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这只是一个开始，因为你可以为上面的数据制作你的仪表板或数据可视化，或者你可以通过寻找更多的见解进行更深入的研究。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="200d" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">感谢阅读</h1><p id="80cf" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">我希望你喜欢这篇文章！我希望你能从中学到一些新的有用的东西。如果你有，请在下面鼓掌，如果你有任何反馈，请在下面留下你的想法！</p><h2 id="aa1b" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">保持联系</h2><ul class=""><li id="8d54" class="nx ny iq ky b kz nb lc nc lf nz lj oa ln ob lr po od oe of bi translated">在<a class="ae kv" href="https://medium.com/@rizqiekamaulana" rel="noopener">媒体</a>上关注我的下一篇文章</li><li id="0389" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr po od oe of bi translated">想讨论还是想合作？我们上<a class="ae kv" href="https://www.linkedin.com/in/rizqiekamaulana/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>连线吧</li></ul></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h2 id="74bf" class="nl mk iq bd ml nm nn dn mp no np dp mt lf nq nr mv lj ns nt mx ln nu nv mz nw bi translated">参考</h2><p id="6f80" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">[1]sproutsocial.com，巴恩哈特，b .<a class="ae kv" href="https://sproutsocial.com/insights/instagram-stats/" rel="noopener ugc nofollow" target="_blank">2021年你需要知道的最重要的Instagram统计数据</a></p><p id="4da5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[2] Gotter，a .，<a class="ae kv" href="https://adespresso.com/blog/instagram-statistics/" rel="noopener ugc nofollow" target="_blank">2021年你需要知道的29个Instagram统计数据</a> (2021)，adespresso.com</p></div></div>    
</body>
</html>