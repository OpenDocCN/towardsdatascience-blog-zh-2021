<html>
<head>
<title>Visualize Your Pandas Data Transformation Using PandasTutor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 PandasTutor 可视化您的熊猫数据转换</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualize-data-transformation-using-pandastutor-6126627dd225?source=collection_archive---------23-----------------------#2021-12-08">https://towardsdatascience.com/visualize-data-transformation-using-pandastutor-6126627dd225?source=collection_archive---------23-----------------------#2021-12-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="d402" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">工具</h2><div class=""/><div class=""><h2 id="07ad" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">在浏览器中可视化您的 Python 熊猫代码，并查看您的数据如何逐步转换</h2></div><p id="72ae" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Pandas 是一个强大的 Python 库，可用于任何探索性数据分析。有时，您可能难以可视化数据转换。PandasTutor 来了，这是一个网络应用程序，可以让你看到你的 pandas 代码如何一步一步地转换数据。</p><p id="eea9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果您有复杂的转换，并且想要可视化您的步骤或者向其他人解释它，这可能会很方便。</p><p id="2bac" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">PandasTutor 可以让你可视化不同的熊猫变换，从<a class="ae ln" href="https://pandastutor.com/vis.html#trace=example-code/py_sort_values.json" rel="noopener ugc nofollow" target="_blank">排序</a>到<a class="ae ln" href="https://pandastutor.com/vis.html#trace=example-code/py_groupby_multi.json" rel="noopener ugc nofollow" target="_blank">按多列分组</a>，甚至按列分组和<a class="ae ln" href="https://pandastutor.com/vis.html#trace=example-code/py_sort_groupby_agg.json" rel="noopener ugc nofollow" target="_blank">执行多重聚合</a> [1]。</p><h1 id="28d5" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">PandasTutor 创建者</h1><p id="2361" class="pw-post-body-paragraph kr ks it kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm im bi translated">熊猫导师是由加州大学圣地亚哥分校的 Sam Lau 和 Philip Guo 创建的。该工具主要用于教学目的，正如其创建者在此处<a class="ae ln" href="https://docs.google.com/document/d/1kvY8baGjaMbg8ucMTjXlmLeYJXVQKQr09AttwUu3F_k/edit#heading=h.3xhjglvrau6z" rel="noopener ugc nofollow" target="_blank">所述</a>。这解释了这个工具的一些局限性(我将在后面的文章中讨论这些局限性)。</p><p id="bbb3" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Sean Kross 和 Philip Guo 为 R 用户开发了一个类似的工具，叫做 Tidy Data Tutor。</p><h1 id="4443" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">个案研究</h1><p id="c1fe" class="pw-post-body-paragraph kr ks it kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm im bi translated">在本文中，我们将研究一个示例，其中我们对一些值进行排序，然后按多个列进行分组，最后我们将对多个列执行不同的聚合！</p><h1 id="ee7b" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">资料组</h1><p id="ab6a" class="pw-post-body-paragraph kr ks it kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm im bi translated">让我们使用来自<em class="ml"> Kaggle 数据集【2】的心力衰竭预测数据集。</em>你可以在下面找到数据。数据在<a class="ae ln" href="https://opendatacommons.org/licenses/odbl/1-0/" rel="noopener ugc nofollow" target="_blank">开放数据库(ODbl)许可</a>下可用，允许<em class="ml">用户自由共享、修改和使用该数据库，同时为其他人保持同样的自由。</em>【3】</p><div class="mm mn gp gr mo mp"><a href="https://www.kaggle.com/fedesoriano/heart-failure-prediction" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd jd gy z fp mu fr fs mv fu fw jc bi translated">心力衰竭预测数据集</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">预测心脏病事件的 11 个临床特征。</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">www.kaggle.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd ne mp"/></div></div></a></div><p id="11fa" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">由于熊猫导师只对小数据起作用，我就取前 50 行红心数据)。</p><h1 id="0ca6" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">密码</h1><p id="e429" class="pw-post-body-paragraph kr ks it kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm im bi translated">下面是这篇文章中用于可视化的代码。您可能会注意到，CSV 数据在这里被编码，这是该工具的当前限制。</p><figure class="nf ng nh ni gt nj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="286e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">所以我们的转换只是最后几行(第 63–69 行)。</p><h1 id="cbbb" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">结果</h1><h1 id="17e9" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">步骤 1:对数据帧进行排序</h1><figure class="nf ng nh ni gt nj gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nm"><img src="../Images/28ce885b18ab8ce1d55227efebbe3d28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qQr_u6gBJ081JE_h3XAcUQ.gif"/></div></div><p class="ns nt gj gh gi nu nv bd b be z dk translated"><code class="fe nw nx ny nz b">sort_values()</code>结果的可视化(步骤 1)(使用<a class="ae ln" href="https://pandastutor.com/vis.html" rel="noopener ugc nofollow" target="_blank"> PandasTutor </a>生成)</p></figure><h1 id="0f80" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">第二步:可视化熊猫分组操作</h1><p id="988b" class="pw-post-body-paragraph kr ks it kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm im bi translated">对步骤 1 中的结果进行排序并可视化后，我们可以可视化 groupby()操作。</p><figure class="nf ng nh ni gt nj gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi oa"><img src="../Images/454ada16490cd37d4edb4ef8346aeb9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lV1XU0nT6jOP6lCo2ljA1g.png"/></div></div><p class="ns nt gj gh gi nu nv bd b be z dk translated"><code class="fe nw nx ny nz b">groupby()</code>结果的可视化(步骤 1 和 2)(使用<a class="ae ln" href="https://pandastutor.com/vis.html" rel="noopener ugc nofollow" target="_blank"> PandasTutor </a>生成)</p></figure><h1 id="19a1" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">步骤 3:计算多个列的不同聚合</h1><p id="fd60" class="pw-post-body-paragraph kr ks it kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm im bi translated">在这里，我将计算“RestingBP”和“胆固醇”两列的平均值和标准差，并提供每个组的计数(这里我使用“性别”列来获得该信息。)</p><figure class="nf ng nh ni gt nj gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi ob"><img src="../Images/aa6c56067e84fc610d09e5e7b39940dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ayWrFoN7MduDd-fgE-J8gg.png"/></div></div><p class="ns nt gj gh gi nu nv bd b be z dk translated">最终结果的可视化，即聚合(步骤 1-3)(使用<a class="ae ln" href="https://pandastutor.com/vis.html" rel="noopener ugc nofollow" target="_blank"> PandasTutor </a>生成)</p></figure><h1 id="f18b" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">有趣的分享功能</h1><p id="8b7d" class="pw-post-body-paragraph kr ks it kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm im bi translated">Pandas Tutor 还为您提供了一个可共享的 URL，其中甚至包括转换中使用的 CSV 数据。例如，你可以在这里或者通过下面的链接查看我的转换代码和结果<a class="ae ln" href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20io%0A%0Acsv%20%3D%20'''%0AAge,Sex,ChestPainType,RestingBP,Cholesterol,FastingBS,RestingECG,MaxHR,ExerciseAngina,Oldpeak,ST_Slope,HeartDisease%0A40,M,ATA,140,289,0,Normal,172,N,0,Up,0%0A49,F,NAP,160,180,0,Normal,156,N,1,Flat,1%0A37,M,ATA,130,283,0,ST,98,N,0,Up,0%0A48,F,ASY,138,214,0,Normal,108,Y,1.5,Flat,1%0A54,M,NAP,150,195,0,Normal,122,N,0,Up,0%0A39,M,NAP,120,339,0,Normal,170,N,0,Up,0%0A45,F,ATA,130,237,0,Normal,170,N,0,Up,0%0A54,M,ATA,110,208,0,Normal,142,N,0,Up,0%0A37,M,ASY,140,207,0,Normal,130,Y,1.5,Flat,1%0A48,F,ATA,120,284,0,Normal,120,N,0,Up,0%0A37,F,NAP,130,211,0,Normal,142,N,0,Up,0%0A58,M,ATA,136,164,0,ST,99,Y,2,Flat,1%0A39,M,ATA,120,204,0,Normal,145,N,0,Up,0%0A49,M,ASY,140,234,0,Normal,140,Y,1,Flat,1%0A42,F,NAP,115,211,0,ST,137,N,0,Up,0%0A54,F,ATA,120,273,0,Normal,150,N,1.5,Flat,0%0A38,M,ASY,110,196,0,Normal,166,N,0,Flat,1%0A43,F,ATA,120,201,0,Normal,165,N,0,Up,0%0A60,M,ASY,100,248,0,Normal,125,N,1,Flat,1%0A36,M,ATA,120,267,0,Normal,160,N,3,Flat,1%0A43,F,TA,100,223,0,Normal,142,N,0,Up,0%0A44,M,ATA,120,184,0,Normal,142,N,1,Flat,0%0A49,F,ATA,124,201,0,Normal,164,N,0,Up,0%0A44,M,ATA,150,288,0,Normal,150,Y,3,Flat,1%0A40,M,NAP,130,215,0,Normal,138,N,0,Up,0%0A36,M,NAP,130,209,0,Normal,178,N,0,Up,0%0A53,M,ASY,124,260,0,ST,112,Y,3,Flat,0%0A52,M,ATA,120,284,0,Normal,118,N,0,Up,0%0A53,F,ATA,113,468,0,Normal,127,N,0,Up,0%0A51,M,ATA,125,188,0,Normal,145,N,0,Up,0%0A53,M,NAP,145,518,0,Normal,130,N,0,Flat,1%0A56,M,NAP,130,167,0,Normal,114,N,0,Up,0%0A54,M,ASY,125,224,0,Normal,122,N,2,Flat,1%0A41,M,ASY,130,172,0,ST,130,N,2,Flat,1%0A43,F,ATA,150,186,0,Normal,154,N,0,Up,0%0A32,M,ATA,125,254,0,Normal,155,N,0,Up,0%0A65,M,ASY,140,306,1,Normal,87,Y,1.5,Flat,1%0A41,F,ATA,110,250,0,ST,142,N,0,Up,0%0A48,F,ATA,120,177,1,ST,148,N,0,Up,0%0A48,F,ASY,150,227,0,Normal,130,Y,1,Flat,0%0A54,F,ATA,150,230,0,Normal,130,N,0,Up,0%0A54,F,NAP,130,294,0,ST,100,Y,0,Flat,1%0A35,M,ATA,150,264,0,Normal,168,N,0,Up,0%0A52,M,NAP,140,259,0,ST,170,N,0,Up,0%0A43,M,ASY,120,175,0,Normal,120,Y,1,Flat,1%0A59,M,NAP,130,318,0,Normal,120,Y,1,Flat,0%0A37,M,ASY,120,223,0,Normal,168,N,0,Up,0%0A50,M,ATA,140,216,0,Normal,170,N,0,Up,0%0A36,M,NAP,112,340,0,Normal,184,N,1,Flat,0%0A41,M,ASY,110,289,0,Normal,170,N,0,Flat,1%0A'''%0A%0Adf_hearts%20%3D%20pd.read_csv%28io.StringIO%28csv%29%29%0Adf_hearts%20%3D%20df_hearts%5B%0A%20%20%20%20%5B%22Age%22,%20%22Sex%22,%20%22RestingBP%22,%20%22ChestPainType%22,%20%22Cholesterol%22,%20%22HeartDisease%22%5D%0A%5D%0A%0A%28df_hearts.sort_values%28%22Age%22%29%0A.groupby%28%5B%22Sex%22,%20%22HeartDisease%22%5D%29%0A.agg%28%7B%22RestingBP%22%3A%20%5B%22mean%22,%20%22std%22%5D,%20%0A%20%20%20%20%20%20%22Cholesterol%22%3A%20%5B%22mean%22,%20%22std%22%5D,%0A%20%20%20%20%20%20%22Sex%22%3A%20%5B%22count%22%5D%0A%20%20%20%20%20%20%7D%29%0A%29&amp;d=2021-12-08&amp;lang=py&amp;v=v1" rel="noopener ugc nofollow" target="_blank">！</a></p><figure class="nf ng nh ni gt nj"><div class="bz fp l di"><div class="nk nl l"/></div></figure></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><h1 id="09d2" class="lo lp it bd lq lr oj lt lu lv ok lx ly ki ol kj ma kl om km mc ko on kp me mf bi translated">优点:</h1><ul class=""><li id="efee" class="oo op it kt b ku mg kx mh la oq le or li os lm ot ou ov ow bi translated">逐步可视化</li><li id="d922" class="oo op it kt b ku ox kx oy la oz le pa li pb lm ot ou ov ow bi translated">交互式绘图(您可以跟踪转换前后的数据行)</li><li id="a2f1" class="oo op it kt b ku ox kx oy la oz le pa li pb lm ot ou ov ow bi translated">可共享的 URL</li></ul><h1 id="45de" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">缺点(当前限制):</h1><ul class=""><li id="f1d6" class="oo op it kt b ku mg kx mh la oq le or li os lm ot ou ov ow bi translated">仅适用于小代码(代码应为 5000 字节)。由于数据也是编码的，而不是从文件中读取的，因此，您只能可视化小型数据集。</li><li id="02c2" class="oo op it kt b ku ox kx oy la oz le pa li pb lm ot ou ov ow bi translated">如前一步所述，您必须将数据和代码一起编码，因为不支持从外部资源(文件或链接)读取。</li><li id="682c" class="oo op it kt b ku ox kx oy la oz le pa li pb lm ot ou ov ow bi translated">有限的熊猫方法支持。</li><li id="7372" class="oo op it kt b ku ox kx oy la oz le pa li pb lm ot ou ov ow bi translated">你只能在最后一行想象熊猫的表情。您可能需要将多个步骤放在一起，或者单独运行可视化。</li></ul><p id="6645" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ml">关于不支持的功能或其他常见问题的完整列表，您可以在这里</em>  <em class="ml">查看</em> <a class="ae ln" href="https://docs.google.com/document/d/1kvY8baGjaMbg8ucMTjXlmLeYJXVQKQr09AttwUu3F_k/edit#heading=h.3xhjglvrau6z" rel="noopener ugc nofollow" target="_blank"> <em class="ml">。</em></a></p></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><h1 id="652b" class="lo lp it bd lq lr oj lt lu lv ok lx ly ki ol kj ma kl om km mc ko on kp me mf bi translated">结论</h1><p id="8030" class="pw-post-body-paragraph kr ks it kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm im bi translated">在本文中，我们检查了一个很好的工具，它可以一步一步地可视化 Pandas 数据转换，生成交互式图表来比较每次转换前后的数据。这对于那些想要巩固自己对熊猫转型的理解，或者想要与他人分享那些转型的人(熊猫导师甚至提供了一个可分享的网址)来说，非常有用。</p><p id="50c4" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">感谢阅读🙏</p><blockquote class="pc"><p id="b4d9" class="pd pe it bd pf pg ph pi pj pk pl lm dk translated"><a class="ae ln" href="https://www.ealizadeh.com/subscribe/" rel="noopener ugc nofollow" target="_blank">加入我的邮件列表，接收类似的帖子</a>。也可以在<a class="ae ln" href="https://medium.com/@ealizadeh" rel="noopener">中</a>、<a class="ae ln" href="https://www.linkedin.com/in/alizadehesmaeil/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae ln" href="https://twitter.com/intent/follow?screen_name=es_alizadeh&amp;tw_p=followbutton" rel="noopener ugc nofollow" target="_blank"> Twitter </a>关注我。</p></blockquote><p id="8a2c" class="pw-post-body-paragraph kr ks it kt b ku pm kd kw kx pn kg kz la po lc ld le pp lg lh li pq lk ll lm im bi translated">👉<em class="ml">如果你喜欢阅读这样的故事(以及媒体上的其他故事)，并且也想支持我成为一名作家，可以考虑注册</em><a class="ae ln" href="https://medium.ealizadeh.com/membership" rel="noopener ugc nofollow" target="_blank"><em class="ml">【https://medium.ealizadeh.com/membership】</em></a><em class="ml">来获得所有故事的全部信息(免责声明:如果你使用我的链接注册，我将免费为你赚取一小笔佣金。)</em></p><div class="mm mn gp gr mo mp"><a href="https://medium.ealizadeh.com/membership" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd jd gy z fp mu fr fs mv fu fw jc bi translated">通过我的推荐链接加入媒体</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">medium.ealizadeh.com</p></div></div><div class="my l"><div class="pr l na nb nc my nd ne mp"/></div></div></a></div></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><h1 id="6470" class="lo lp it bd lq lr oj lt lu lv ok lx ly ki ol kj ma kl om km mc ko on kp me mf bi translated">参考</h1><p id="fbfc" class="pw-post-body-paragraph kr ks it kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm im bi translated">[1]<a class="ae ln" href="https://pandastutor.com/" rel="noopener ugc nofollow" target="_blank">https://pandastutor.com/</a></p><p id="e9b4" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><a class="ae ln" href="https://www.kaggle.com/fedesoriano/heart-failure-prediction" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/fedesoriano/heart-failure-prediction</a></p><p id="4a50" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">[3]<a class="ae ln" href="https://opendatacommons.org/licenses/odbl/1-0/" rel="noopener ugc nofollow" target="_blank">https://opendatacommons.org/licenses/odbl/1-0/</a></p></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><p id="5c3f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ml">原载于</em>【https://ealizadeh.com】<em class="ml"/></p></div></div>    
</body>
</html>