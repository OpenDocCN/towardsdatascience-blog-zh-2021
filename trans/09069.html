<html>
<head>
<title>Developing SQL tables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开发SQL表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/developing-sql-tables-3f9b96bc21e1?source=collection_archive---------26-----------------------#2021-08-21">https://towardsdatascience.com/developing-sql-tables-3f9b96bc21e1?source=collection_archive---------26-----------------------#2021-08-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4916" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只有通过创建和开发SQL表，我们才能理解如何最好地使用可用内存。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/520bf7881b4951253ae844bf247157e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KJtD-pQAdfalciO9"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">彼得·赫尔曼在<a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="676f" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">介绍</h1><p id="22e7" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">本文旨在解决维护SQL表时所需的四个核心步骤。我们正在讨论的是四种运算；创建、读取、更新和删除，通常称为CRUD。使用CRUD，我们能够从数据库中当前可用的任何信息或者我们在最初创建数据库之后添加的任何信息构建SQL表。</p><p id="8f37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lb" href="https://www.sqlite.org/index.html" rel="noopener ugc nofollow" target="_blank"> SQLite </a>用于完成以下分析。正在审查的示例将着眼于创建一个包含足球运动员详细信息的简单数据集。</p><h2 id="ae00" class="mf ld iq bd le mg mh dn li mi mj dp lm jy mk ml lq kc mm mn lu kg mo mp ly mq bi translated">创建和读取</h2><p id="9137" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">创建表的操作有助于创建一个空壳。有了一个空的外壳，用户就能够用适当的数据填充它。理解正确的数据格式是创建这个空表的关键。有许多不同的变量格式可用，字符串和数字构成了变量值的大部分。因此，能够为所需的作业正确分配正确的格式确实需要一些规划。</p><p id="090c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而对表的读取可以被认为是查看包含在表中的数据。通过拍摄变量的快照，我们能够了解当前值的范围。此外，它还为开发人员提供了探索信息的机会，这些信息可以通过以不同方式查询数据来获得。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><p id="7abe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在表的初始开发过程中，很可能会涉及一些试错。特别是，如果要输入到表中的数据在计划阶段没有全部可用。我们将通过一些例子来了解如何克服这种未知的品质。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="my mz l"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">SQL代码1.1使用不同的变量名和格式创建初始表</p></figure><p id="0fc9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在SQL代码1.1中，我们用四个不同的变量创建了player_details表。通过使用字符串格式VARCHAR()，它允许我们为数据集中的每一行提供不同长度的字符值。需要强调的一点是，对于SQLite数据库，括号中包含的值将被忽略，并且没有长度限制。下面的示例细节有助于读者理解在括号中赋值的概念。这个值最常见的情况是对许多其他具有更严格数据结构的SQL语言产生影响。第一个括号(100)中包含的值与可用于变量数据输入的100个唯一值相关。</p><p id="a9bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们为player_name包含的值只包含4个字符，则还会包含96个空字符。因此，这可能被视为内存使用效率低下，因为与填充的值相比，空值更多。但是，如果这个变量的最大值是3，并且我们已经提供了值“Mark”，那么字符串将被截断以显示“Mar”，因为变量中没有足够的可用值。在SQL表中开发字符变量时，我们必须意识到这个未知的量。通过了解所有潜在输入值的最大长度，我们可以有效地为字符变量分配一个合适的最大值。</p><p id="fb31" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于表中的前三个变量是字符串格式，因此在为输入值适当分配足够的空间方面，每个变量都面临着上述相同的挑战。第四个变量与表中唯一的数字变量有关。在这个实例中，整数格式值(INT)作为变量类型提供。由于所有要分配的值都是整数，没有球员会被分配半场出场，即使他们只打了半场比赛，整数格式也是最有意义的。如果数值变量需要十进制值，那么使用的格式应该是float。了解将要使用的数值范围有助于分配有效的变量格式。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="my mz l"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">SQL代码1.2从创建的表player_details中读取值</p></figure><p id="e91a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了从创建的SQL表中读取值，我们尝试了SELECT语句。然而，当执行该查询时，没有返回任何结果。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi na"><img src="../Images/7f149e3bcfb3f9eb94c622682ab3ce13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*0X0cEzmDVb-ljAoWmcsSfg.jpeg"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">输出1.1产生初始的player_details表</p></figure><p id="e715" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以通过浏览数据库中可用的表来查看上面显示的输出值。在player_details表中，显示了变量名，但没有要查看的值。在接下来的部分中，我们将了解如何在这个新表中插入和删除数据行。</p><h2 id="1f95" class="mf ld iq bd le mg mh dn li mi mj dp lm jy mk ml lq kc mm mn lu kg mo mp ly mq bi translated">插入</h2><p id="ddce" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">有了这个表，我们现在可以插入值并开始执行数据分析。插入值时，我们总是希望确保正确的值与正确的变量对齐。这就是变量名与初始表设计顺序相同有助于避免混淆的地方。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="my mz l"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">SQL代码1.3将值插入表变量</p></figure><p id="7663" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用上面的SQL代码插入的值已经被分配给正确的变量。为了更好地理解这一点，我们突出显示了要插入数据的表。下面的括号中提供了需要填充的变量。变量顺序与表设计对齐后，可以更新括号中的值并将其插入到表中。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/1ad88c161a7af1d72bba78d66665bab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*lO53Cqqdg6lpOR5L0pP7Jw.jpeg"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">输出1.2插入新值后查看表格结果</p></figure><p id="4e4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行insert SQL查询后，我们可以执行select语句来读取表中的值，并查看所有内容是否都已正确添加。这个简短的insert语句强调了如何将一行值插入到表中。此外，可以使用相同的方法提供和插入多行值。但是，随着行数的增加，使用这种方法可能会出现数据输入错误。因此，执行select语句从其他导入的表中检索数据并将这些数据插入表中有助于减少发生错误的可能性。</p><h2 id="2ea7" class="mf ld iq bd le mg mh dn li mi mj dp lm jy mk ml lq kc mm mn lu kg mo mp ly mq bi translated">更新</h2><p id="f620" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">随着数据插入到表中，有时开发人员需要调整已经分配的值。我们可以重新开始创建和插入过程。但是，如果表是使用已经被删除的数据创建的，那么这可能不是一个可行的选择。存在一个替代解决方案，这就是使用update语句。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="my mz l"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">SQL代码1.4更新初始值以调整其中一个变量值</p></figure><p id="a32a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如我们在SQL代码中看到的，使用了一个update语句将团队名称从最初的缩写调整为长名称格式。我们首先请求将update语句应用于适当的表。在这里，我们使用set语句来突出显示我们希望更新的变量，并提供相应的值。为了确保只更新需要更新的行值，我们使用where filter语句来选择行。因为这个表中只有一个值需要更新，所以添加这一行额外的代码可能没有意义。但是，习惯于过滤所需的适当行值是一个很好的实践。除了在一个变量上使用set语句之外，我们还可以提供多个变量名并更新值，如果这些都需要更改的话。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/6c2786033905b6333d895949013150a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*qR12-kku6PsswH8gQeVMVg.jpeg"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">输出1.3确认新变量值已被正确更新</p></figure><p id="d428" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的输出结果显示，表中的更改已经按照预期进行了更新。如果需要更新变量但保留原始变量值的记录，可以向表中添加一个额外的变量。这种维护表格变化记录的过程可以被记录下来以供将来参考。</p><h2 id="3a36" class="mf ld iq bd le mg mh dn li mi mj dp lm jy mk ml lq kc mm mn lu kg mo mp ly mq bi translated">删除</h2><p id="6268" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">最后，在创建、读取、插入和更新表中的值并执行适当的数据分析之后，我们可能必须删除不再需要的值。一种常见的做法是执行数据分析以产生与业务利益相关者共享的管理信息(MI)或商业智能(BI ),然后必须删除数据以供存储。我们能够维护使用所有SQL语句创建分析所需的流程步骤，但是可能需要删除信息才能执行其他分析。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="my mz l"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">SQL代码1.5删除表中与where筛选器子句相关的值</p></figure><p id="2e9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">类似于insert和update语句，对于delete语句，我们必须概述要执行查询的表。此外，我们还提供了where filter子句，以确保只删除需要删除的数据。如果没有指定where子句，则附加数据可能会被删除。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/59ed749c0037e0844ed5fadaaee64f21.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*qTBMt_APBhiRBiidU1_7Zw.jpeg"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">输出1.4删除值后的表格摘要</p></figure><p id="e19d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的输出表显示数据已从表中成功删除。在执行任何delete语句时，我们必须非常小心，确保所执行的操作是必需的。此外，我们可能需要更高级别的授权来执行该语句，因为应该始终谨慎处理数据的永久删除。在这个例子中，我们概述了可以用来确保只删除某些数据值的语句。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="d717" class="lc ld iq bd le lf ne lh li lj nf ll lm ln ng lp lq lr nh lt lu lv ni lx ly lz bi translated">结论</h1><p id="970e" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">在本文中，我们发现了作为SQL开发人员在使用表时的无限可能性。我们从创建一个初始表的过程开始，该表用于存储未来的值。在这里，我们展示了如何将值插入到表中，然后读取这些值以查看它们是否被正确插入。与任何表一样，有些值可能需要调整，这就是使用update语句更改变量值的地方。最后，我们看到了在执行所有数据分析后，我们如何能够删除数据集。正是这个删除步骤可以由数据库自动执行以节省内存。但是，如果我们有能力永久删除任何数据，我们应该始终保持谨慎。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><p id="b27c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nj">非常感谢您阅读</em></p></div></div>    
</body>
</html>