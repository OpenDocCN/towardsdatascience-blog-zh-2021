<html>
<head>
<title>Avoid these Gotchas/Errors related to parameters and arguments in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">避免这些与Python中的参数和自变量相关的陷阱/错误</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/avoid-these-gotchas-errors-related-to-parameters-and-arguments-in-python-6bf4dbec9183?source=collection_archive---------27-----------------------#2021-05-02">https://towardsdatascience.com/avoid-these-gotchas-errors-related-to-parameters-and-arguments-in-python-6bf4dbec9183?source=collection_archive---------27-----------------------#2021-05-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ab89" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我们将讨论几个错误和一个与Python参数相关的问题。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/020f7f4420da6d89e2cf23f7da26c679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kz77FG4Q5qsjOUMvAS7IeA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">麦克斯韦·尼尔森在T2的照片</p></figure><p id="2602" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在继续之前，让我们讨论几个术语。查看下面的代码片段。这是一个简单的函数，打印其参数的总和。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/527a83e8bf5d8d8341d43252f9e4daec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RNLzpLb7LkTmr0XqQgmD9A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码片段</p></figure><ul class=""><li id="5b87" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><strong class="lb iu">参数</strong> -它们是函数定义中列出的名称。例:在上面的代码片段中，<strong class="lb iu"> num1 </strong>和<strong class="lb iu"> num2 </strong>是参数</li><li id="3d21" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">参数</strong>——它们是我们在调用函数时传递的值。例如:在上面的代码片段中，在对函数<strong class="lb iu"> 10 </strong>和<strong class="lb iu"> 12 </strong>的两次调用中，参数都被传递给了函数</li><li id="fc59" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">位置实参</strong>——当我们将实参传递给一个函数而没有显式地将它们赋给参数时。在上面的代码片段中，我们在第一次调用<strong class="lb iu"> func </strong>时使用了位置参数</li><li id="e589" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">关键字参数 -当我们通过显式地将参数赋值给形参来传递参数给函数时。在上面的代码片段中，我们在第二次调用<strong class="lb iu"> func </strong>时使用了关键字参数</li><li id="e5f5" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">默认值</strong> -在功能定义期间分配给参数的值。例:在上面的代码片段中，<strong class="lb iu"> 20 </strong>是赋给参数<strong class="lb iu"> num2 </strong>的默认值</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="1182" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">默认参数的顺序</h1><blockquote class="nj"><p id="4a0a" class="nk nl it bd nm nn no np nq nr ns lu dk translated">规则:如果在定义函数时有一个带默认值的参数，那么它后面的所有参数也必须有默认值</p></blockquote><h2 id="0b9b" class="nt ms it bd mt nu nv dn mx nw nx dp nb li ny nz nd lm oa ob nf lq oc od nh oe bi translated">错误的</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/c4c3cc86f36be411c1ec540f02be4e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wdUYo9lnc2l84fMxTTcNPw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码片段</p></figure><p id="e15e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的<strong class="lb iu"> func </strong>的函数定义中，一对没有默认值的参数(<strong class="lb iu"> num3，num4 </strong>)跟在一个有默认值的参数(<strong class="lb iu"> num2 </strong>)后面。这将导致语法错误。</p><h2 id="b1c5" class="nt ms it bd mt nu og dn mx nw oh dp nb li oi nz nd lm oj ob nf lq ok od nh oe bi translated">正确的</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/898430aa224d8ae059c3e944dc06e95a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f_d3g1PzmBIQYWqXDL3g3w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码片段</p></figure><p id="22d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不会导致任何错误，因为我们已经为变量<strong class="lb iu"> num3 </strong>和<strong class="lb iu"> num4 </strong>指定了默认值</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="8efc" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">关键字参数的顺序</h1><blockquote class="nj"><p id="ee41" class="nk nl it bd nm nn no np nq nr ns lu dk translated">ULE:当调用一个函数时，一个关键字参数必须跟在一个关键字参数之后。因此，位置参数不能跟在关键字参数后面。</p></blockquote><h2 id="3e76" class="nt ms it bd mt nu nv dn mx nw nx dp nb li ny nz nd lm oa ob nf lq oc od nh oe bi translated">错误的</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/0ec544dee228ee127c589ee34c9c67ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tvlooDuaEbdhjmj2Cd4Xbw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码片段</p></figure><p id="dfde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 12 </strong>作为关键字参数传递。然而，它后面的自变量(<strong class="lb iu"> 20 </strong>和<strong class="lb iu"> 30 </strong>)作为位置自变量被传递。这将导致语法错误。</p><h2 id="4b4a" class="nt ms it bd mt nu og dn mx nw oh dp nb li oi nz nd lm oj ob nf lq ok od nh oe bi translated">正确的</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/3b73a95665a7160f20e3241a222de02c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ua-iMnaLkQQSIDt-jxpnuQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码片段</p></figure><p id="78df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这次，我们将参数(<strong class="lb iu"> 20 </strong>和<strong class="lb iu"> 30 </strong>)作为关键字参数进行传递。因此，不会引发任何错误。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="e1c2" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">默认参数值</h1><blockquote class="nj"><p id="7376" class="nk nl it bd nm nn no np nq nr ns lu dk translated">误解:在每个函数调用期间，默认值被分配给参数</p><p id="7f3e" class="nk nl it bd nm nn no np nq nr ns lu dk translated">正确:默认值只分配一次。在将来的函数调用中，使用以前的值</p></blockquote><p id="9f33" class="pw-post-body-paragraph kz la it lb b lc on ju le lf oo jx lh li op lk ll lm oq lo lp lq or ls lt lu im bi translated">当你遵循下面的例子时，这将更有意义</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/798a35942421439e0ac051eb72e87734.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZNWUIzjRO5lN4Y4NPwEU7w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码片段</p></figure><p id="bd7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该函数有两个参数<strong class="lb iu"> num </strong>和<strong class="lb iu"> arr </strong>。<strong class="lb iu"> arr </strong>有一个空列表的默认值。该函数不做任何花哨的事情。它只是将参数<strong class="lb iu"> num </strong>插入到数组<strong class="lb iu"> arr </strong>中，然后打印该数组。</p><h2 id="a775" class="nt ms it bd mt nu og dn mx nw oh dp nb li oi nz nd lm oj ob nf lq ok od nh oe bi translated">预期</h2><pre class="kj kk kl km gt ot ou ov ow aw ox bi"><span id="1801" class="nt ms it ou b gy oy oz l pa pb">'''</span><span id="5b7c" class="nt ms it ou b gy pc oz l pa pb">OUTPUT</span><span id="2f0b" class="nt ms it ou b gy pc oz l pa pb">[10]</span><span id="d7bd" class="nt ms it ou b gy pc oz l pa pb">[20]</span><span id="f943" class="nt ms it ou b gy pc oz l pa pb">[30]</span><span id="2b06" class="nt ms it ou b gy pc oz l pa pb">'''</span></pre><p id="eb9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以基本上每次我们调用函数的时候，<strong class="lb iu"> arr </strong>都被设置为一个空列表的默认值，并且<strong class="lb iu"> num </strong>被插入其中。</p><blockquote class="pd pe pf"><p id="09ac" class="kz la pg lb b lc ld ju le lf lg jx lh ph lj lk ll pi ln lo lp pj lr ls lt lu im bi translated"><strong class="lb iu">但这不是正确的输出</strong></p></blockquote><h2 id="55f3" class="nt ms it bd mt nu og dn mx nw oh dp nb li oi nz nd lm oj ob nf lq ok od nh oe bi translated">实际的</h2><pre class="kj kk kl km gt ot ou ov ow aw ox bi"><span id="60e6" class="nt ms it ou b gy oy oz l pa pb">'''</span><span id="b84d" class="nt ms it ou b gy pc oz l pa pb">OUTPUT</span><span id="68ac" class="nt ms it ou b gy pc oz l pa pb">[10]</span><span id="f235" class="nt ms it ou b gy pc oz l pa pb">[10, 20]</span><span id="b18f" class="nt ms it ou b gy pc oz l pa pb">[10, 20, 30]</span><span id="3ae5" class="nt ms it ou b gy pc oz l pa pb">'''</span></pre><p id="dff7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，很奇怪吧？🤯</p><p id="9e35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基本上，默认值是在第一次函数调用时设置的。在下面的函数调用过程中，不会再次分配默认值。而是使用以前的值。</p><h2 id="03d7" class="nt ms it bd mt nu og dn mx nw oh dp nb li oi nz nd lm oj ob nf lq ok od nh oe bi translated">解决办法</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/7f71dfea060ede024b900e27736fc5ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hMmbawVnSoAZsqof7CPXYA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码片段</p></figure><p id="8d63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不将空列表指定为默认参数，而是将<strong class="lb iu"> None </strong>指定为默认值，并在函数内指定空列表。</p><h1 id="202f" class="mr ms it bd mt mu pk mw mx my pl na nb jz pm ka nd kc pn kd nf kf po kg nh ni bi translated">结论</h1><p id="27b4" class="pw-post-body-paragraph kz la it lb b lc pp ju le lf pq jx lh li pr lk ll lm ps lo lp lq pt ls lt lu im bi translated">我希望你今天学到了新东西。参数和实参看起来是简单的概念，但实际上，它们比你想象的要稍微复杂一些。现在你知道要避免的错误和误解。</p><blockquote class="nj"><p id="fd1c" class="nk nl it bd nm nn no np nq nr ns lu dk translated"><em class="pu">在</em><a class="ae ky" href="https://www.linkedin.com/in/rahulbanerjee2699/" rel="noopener ugc nofollow" target="_blank"><em class="pu">LinkedIn</em></a><em class="pu">，</em> <a class="ae ky" href="https://twitter.com/rahulbanerjee99" rel="noopener ugc nofollow" target="_blank"> <em class="pu"> Twitter </em> </a>上跟我连线</p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="ee43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="pg">原载于2021年5月2日https://www.realpythonproject.com</em><a class="ae ky" href="https://www.realpythonproject.com/avoid-these-gotchas-errors-related-to-parameters-and-arguments-in-python/" rel="noopener ugc nofollow" target="_blank"><em class="pg"/></a><em class="pg">。</em></p></div></div>    
</body>
</html>