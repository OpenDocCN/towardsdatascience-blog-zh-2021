<html>
<head>
<title>MoleculeNet Part 1: Datasets for Deep Learning in the Chemical and Life Sciences</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分子网络第1部分:化学和生命科学中深度学习的数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/moleculenet-part-1-datasets-for-deep-learning-in-the-chemical-and-life-sciences-b86960d1ee22?source=collection_archive---------21-----------------------#2021-05-17">https://towardsdatascience.com/moleculenet-part-1-datasets-for-deep-learning-in-the-chemical-and-life-sciences-b86960d1ee22?source=collection_archive---------21-----------------------#2021-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/0e39660baff4d0a977aa59b2b478a6e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hQG_y2xkkj4cjexx"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">从<a class="ae jd" href="https://unsplash.com/photos/RflgrtzU3Cw" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h2 id="fae6" class="je jf jg bd b dl jh ji jj jk jl jm dk jn translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/thoughts-and-theory" rel="noopener" target="_blank">思想和理论</a></h2><div class=""/><div class=""><h2 id="2ea3" class="pw-subtitle-paragraph km jp jg bd b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dk translated"><em class="le">迈向分子机器学习的“图像网络时刻”</em></h2></div><p id="1169" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">本文由DeepChem的Bharath Ramsundar共同撰写。</em></p><p id="99f6" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">基准数据集是机器学习进步的重要驱动力。与计算机视觉和自然语言处理不同，化学和生命科学中数据集的多样性和复杂性使这些领域在很大程度上抵制了制定社区广泛接受的基准的尝试。在这篇文章中，我们将展示如何向分子机器学习的</em><a class="ae jd" href="http://moleculenet.ai/" rel="noopener ugc nofollow" target="_blank"><em class="mb">MoleculeNet</em></a><em class="mb">基准添加数据集，并通过</em><a class="ae jd" href="https://deepchem.io/" rel="noopener ugc nofollow" target="_blank"><em class="mb">deep chem</em></a><em class="mb">API以编程方式访问它们。</em></p><figure class="md me mf mg gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mc"><img src="../Images/83c4e089220dddd338f76bbd5a6c8e6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KgC7lws7rpVkiUah"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图片来自<a class="ae jd" href="http://moleculenet.ai/" rel="noopener ugc nofollow" target="_blank"> moleculenet.ai </a>。</p></figure><p id="b0a9" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh jq">分子ML数据集策展</strong></p><p id="cc4a" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">MoleculeNet[1]收集六个主要类别的数据集:量子力学、物理化学、蛋白质、生物物理学、生理学和材料科学。MoleculeNet 的<a class="ae jd" href="https://pubs.rsc.org/--/content/articlehtml/2018/sc/c7sc02664a" rel="noopener ugc nofollow" target="_blank">“第一代”展示了分子ML基准可能的样子，并揭示了一些有趣的趋势，这些趋势涉及数据稀缺、类不平衡以及物理感知特征在一些数据集的模型架构上的力量。</a></p><p id="0949" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">涵盖分子ML的整个广度和深度并不容易，因此MoleculeNet正在发展成为一个灵活的框架，以标准化的方式贡献数据集和基准模型性能，由<a class="ae jd" href="https://github.com/deepchem/deepchem" rel="noopener ugc nofollow" target="_blank"> DeepChem </a>提供支持。</p><p id="1f7e" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh jq">我们为什么要关注性能指标评测？</strong></p><p id="b524" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">图像和语音识别<em class="mb">看起来</em>像是巨大的任务，但与我们在物理、化学和生物中看到的问题相比，它们真的非常简单。这就是为什么相对来说很少看到有人声称物理或生命科学中的问题已经被机器学习“解决”了。更好的数据集、数据集生成方法和稳健的基准是分子机器学习进展的必要因素，甚至可能比发明新的深度学习技巧或架构更重要。</p><p id="c327" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在深度学习的许多子领域，标准的进展途径是这样的</p><p id="813d" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">1.选择一个广泛使用的基准数据集<strong class="lh jq"> ( </strong>例如<strong class="lh jq"> </strong> <a class="ae jd" href="http://www.image-net.org/" rel="noopener ugc nofollow" target="_blank"> ImageNet </a>，<a class="ae jd" href="https://www.cs.toronto.edu/~kriz/cifar.html" rel="noopener ugc nofollow" target="_blank"> CIFAR-10 </a>，或者<a class="ae jd" href="http://yann.lecun.com/exdb/mnist/" rel="noopener ugc nofollow" target="_blank"> MNIST </a>)。</p><p id="f394" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">2.开发并测试一个模型架构，该架构在基准测试的某些方面达到“最先进”的性能。</p><p id="8955" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">3.想出一个特别的“理论”解释，来解释为什么你的特定架构优于其他架构。</p><p id="e8b4" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">4.在顶级会议上发布您的结果。</p><p id="4cdc" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你幸运的话，在下一个SOTA建筑问世之前，其他研究人员甚至可能会使用你的模型或在此基础上进行他们自己的研究。这种范式存在明显的问题，包括数据集中的<a class="ae jd" href="https://arxiv.org/pdf/1908.09635.pdf" rel="noopener ugc nofollow" target="_blank">偏差</a>、<a class="ae jd" href="http://d2l.ai/chapter_multilayer-perceptrons/environment.html#types-of-distribution-shift" rel="noopener ugc nofollow" target="_blank">分布偏移</a>，以及<a class="ae jd" href="https://en.wikipedia.org/wiki/Goodhart%27s_law" rel="noopener ugc nofollow" target="_blank">古德哈特-斯特拉森定律</a> —当一个指标成为目标时，它就不再是一个好的指标。尽管如此，毫无疑问，基准测试提供了一种明确的目的，并激发了其他领域所缺乏的对机器学习研究的兴趣。</p><p id="7336" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">也许更重要的是，基准测试鼓励和奖励研究人员创建高质量的数据集，这在许多领域一直没有得到应有的重视。基准数据集能够实现惊人的突破，如DeepMind的AlphaFold(阿尔法折叠)通过几十年的努力组装高分辨率蛋白质结构(T7)而成为可能。AlphaFold代表了蛋白质折叠中的一种“<a class="ae jd" href="https://ruder.io/nlp-imagenet/" rel="noopener ugc nofollow" target="_blank"> ImageNet moment </a>”，这意味着一个问题在某种意义上被“解决”了。</p><p id="3212" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ae jd" href="http://moleculenet.ai/" rel="noopener ugc nofollow" target="_blank"> MoleculeNet </a>包含数十万种化合物和测量/计算的特性，所有这些都可以通过<a class="ae jd" href="https://deepchem.readthedocs.io/en/latest/api_reference/moleculenet.html" rel="noopener ugc nofollow" target="_blank"> DeepChem API </a>访问。它带来了ML会议中流行的传统评估框架的味道，但也提供了贡献和访问新数据集的标准化方法。</p><p id="dfad" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh jq">向MoleculeNet提供数据集</strong></p><p id="6d28" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">数据集贡献已得到显著简化，并且<a class="ae jd" href="https://deepchem.readthedocs.io/en/latest/api_reference/moleculenet.html" rel="noopener ugc nofollow" target="_blank">已记录</a>。第一步是在DeepChem repo中的GitHub上打开一个<a class="ae jd" href="https://github.com/deepchem/deepchem/issues" rel="noopener ugc nofollow" target="_blank">问题</a>来讨论您想要添加的数据集，强调该数据集涵盖哪些独特的分子ML任务，这些任务尚未成为MolNet的一部分。如果您自己创建或管理了一个数据集，这是一个与molecular ML社区共享它的好方法！接下来，您需要</p><ul class=""><li id="5041" class="mh mi jg lh b li lj ll lm lo mj ls mk lw ml ma mm mn mo mp bi translated">写一个继承自<code class="fe mq mr ms mt b"><a class="ae jd" href="https://github.com/deepchem/deepchem/blob/master/deepchem/molnet/load_function/molnet_loader.py#L82" rel="noopener ugc nofollow" target="_blank">deepchem.molnet.load_function.molnet_loader._MolnetLoader</a></code>的<code class="fe mq mr ms mt b">DatasetLoader</code>类。这包括记录数据集的任何特殊选项和ML的目标或“任务”。</li><li id="8c4a" class="mh mi jg lh b li mu ll mv lo mw ls mx lw my ma mm mn mo mp bi translated">实现一个<code class="fe mq mr ms mt b">create_dataset</code>函数，通过应用可接受的特征、拆分器和转换来创建一个DeepChem <code class="fe mq mr ms mt b">Dataset</code>。</li><li id="5e41" class="mh mi jg lh b li mu ll mv lo mw ls mx lw my ma mm mn mo mp bi translated">编写一个<code class="fe mq mr ms mt b">load_dataset</code>函数来记录数据集，并为用户加载数据集提供一个简单的方法。</li></ul><p id="4a96" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">QM9 MolNet加载器源代码是编写自己的MolNet加载器的一个很好的、简单的起点。</p><p id="e99b" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">该框架允许数据集直接在ML管道中使用任何合理的特征组合(将SMILES字符串之类的原始输入转换为机器可读格式)、拆分器(控制如何构建训练/验证/测试集)和转换(<em class="mb">，例如</em>，如果目标需要在训练之前被规范化)。</p><p id="f338" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ae jd" href="https://deepchem.readthedocs.io/en/latest/api_reference/splitters.html" rel="noopener ugc nofollow" target="_blank">分割线</a>在这里尤为重要。在比较不同模型在相同任务上的表现时，每个模型“看到”相同的训练数据并根据相同的数据进行评估是至关重要的。我们还想知道一个模型在相似的样本上的表现如何(使用随机训练/val/测试分割)，以及在不同的样本上的表现如何(<em class="mb">例如</em>，使用基于化学子结构的分割)。</p><p id="c03b" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh jq">使用DeepChem API访问数据集</strong></p><p id="3000" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">MolNet加载器使访问数据集<em class="mb">和为ML </em>预处理数据集成为可能，只需一行Python代码:</p><pre class="md me mf mg gt mz mt na nb aw nc bi"><span id="37b3" class="nd ne jg mt b gy nf ng l nh ni">from deepchem.molnet.load_function.qm9_datasets import load_qm9</span><span id="779b" class="nd ne jg mt b gy nj ng l nh ni">tasks, (train, val, test), transforms = load_qm9()</span></pre><p id="fb5c" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">要通过DeepChem API实际使用数据集，您只需向DeepChem开发人员提供一个tarball或压缩文件夹，他们会将其添加到DeepChem AWS S3存储桶中。最后，<a class="ae jd" href="https://deepchem.readthedocs.io/en/latest/api_reference/moleculenet.html" rel="noopener ugc nofollow" target="_blank">为您的加载器和数据集添加文档</a>。</p><p id="eece" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh jq">我们需要您的数据集！</strong></p><p id="87be" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在看了MoleculeNet 中长长的数据集列表后，你可能会发现缺少了一些关键的东西。好消息是你(对，就是你！)可以贡献新的数据集！如果你对Python编程不太熟悉，你可以在GitHub上打开一个<a class="ae jd" href="https://github.com/deepchem/deepchem/issues" rel="noopener ugc nofollow" target="_blank">问题</a>，包括为什么要将数据集添加到MolNet的信息，并向DeepChem开发人员寻求帮助。如果你喜欢编程，那就更好了——你可以按照上面概述的步骤做点贡献。</p><p id="7a27" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">开源基准的真正力量在于任何人都可以做出贡献；这使得MolNet的发展和扩展超出了单个研究小组所能支持的范围。</p><p id="0793" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh jq">下一步:分子ML模型性能</strong></p><p id="7c19" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在下一篇文章中，我们将讨论如何使用DeepChem和MolNet脚本为ML模型添加性能指标。</p><p id="1781" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh jq">取得联系</strong></p><p id="c10e" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">如果你喜欢这个教程或者有任何问题，请随时通过</em> <a class="ae jd" href="mailto:n.frey@seas.upenn.edu" rel="noopener ugc nofollow" target="_blank"> <em class="mb">电子邮件</em> </a> <em class="mb">联系内森，或者连接上</em><a class="ae jd" href="https://www.linkedin.com/in/ncfrey" rel="noopener ugc nofollow" target="_blank"><em class="mb">LinkedIn</em></a><em class="mb">和</em><a class="ae jd" href="https://twitter.com/nc_frey" rel="noopener ugc nofollow" target="_blank"><em class="mb">Twitter</em></a><em class="mb">。</em></p><p id="5f1d" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">你可以在他的</em> <a class="ae jd" href="https://ncfrey.github.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mb">网站</em> </a> <em class="mb">上找到更多关于内森的项目和出版物。</em></p><p id="6fdf" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">感谢吴对本文的反馈。</em></p><p id="1cf6" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh jq">参考文献</strong></p><p id="a9b1" class="pw-post-body-paragraph lf lg jg lh b li lj kq lk ll lm kt ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">[1] DOI: 10.1039/C7SC02664A(边缘文章)化学。Sci。, 2018, 9, 513–530</p></div></div>    
</body>
</html>