<html>
<head>
<title>Predict Euro Cup Matches with Simple Statistics: how to rise the ranks (pt. 4)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用简单的统计数据预测欧洲杯比赛:如何提高排名(pt。4)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/predict-euro-cup-matches-with-simple-statistics-how-to-rise-the-ranks-pt-4-d076f3dbf763?source=collection_archive---------36-----------------------#2021-07-08">https://towardsdatascience.com/predict-euro-cup-matches-with-simple-statistics-how-to-rise-the-ranks-pt-4-d076f3dbf763?source=collection_archive---------36-----------------------#2021-07-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3345" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">足球不是单人游戏</h2></div><p id="1f5c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们已经讨论了<a class="ae lb" rel="noopener" target="_blank" href="/predict-euro-cup-matches-with-simple-statistics-but-better-pt-2-b48687a6d579">如何找到一场比赛最有可能的结果</a>和<a class="ae lb" href="https://sijmenvdw.medium.com/predict-euro-cup-matches-with-simple-statistics-should-i-take-that-bet-part-3-22df3d2ad882" rel="noopener">如何计算每个预测结果</a>的预期分数。</p><p id="a762" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在锦标赛接近尾声的时候，我们还有一件事要弄清楚。</p><blockquote class="lc"><p id="ad3c" class="ld le iq bd lf lg lh li lj lk ll la dk translated">落后了怎么赢？</p></blockquote><h1 id="8a7d" class="lm ln iq bd lo lp lq lr ls lt lu lv lw jw lx jx ly jz lz ka ma kc mb kd mc md bi translated">为什么期望值不再起作用</h1><p id="1bad" class="pw-post-body-paragraph kf kg iq kh b ki me jr kk kl mf ju kn ko mg kq kr ks mh ku kv kw mi ky kz la ij bi translated">在真正的锦标赛中，比赛的次数是有限的。由于还有无限多的比赛要打，用最高期望值预测结果总是能得到最好的结果。没有例外，这是大数定律。</p><p id="9397" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在匹配数量有限的情况下，这种方式会有所不同。请考虑以下情况:</p><p id="a1ac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在还剩1场比赛的情况下，你和你的对手打成平手，你们都有两个相同的选择:<br/> —预测2–2作为比赛结果，如果正确，提供10000分<br/> —预测非2–2作为比赛结果，如果正确，提供1分</p><p id="7e13" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个选项的期望值会更高。对于实力相当的球队，使用中性热图，2-2的概率约为0.04%或4%。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mj"><img src="../Images/24bc5e7cc7cbba6b3d53518a2b0ce5c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5zAPcVW9lTEx6e2p5UYm3w.png"/></div></div><p class="mv mw gj gh gi mx my bd b be z dk translated">中立竞争环境下不同结果可能性的热图。[图片由作者提供]</p></figure><p id="1311" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个选项的期望值:</p><p id="3b00" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mz na nb nc b">E = 0.04 * 10000 + 0.96 * 0 = 400</code></p><p id="75ee" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个选项的期望值:</p><p id="baaa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mz na nb nc b">E = 0.04 * 0 + 0.96 * 1 = 0.96</code></p><p id="60d5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">显然，第一种选择更好，对吗？</p><p id="35e8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你只是想打败你的对手就不会。如果我们的对手选择第一个选项，你有96%的机会用第二个选项打败他。你只会领先他一分，但这可能是最重要的。</p><h1 id="ed71" class="lm ln iq bd lo lp lq lr ls lt lu lv lw jw nd jx ly jz ne ka ma kc nf kd mc md bi translated">形势</h1><p id="a6f1" class="pw-post-body-paragraph kf kg iq kh b ki me jr kk kl mf ju kn ko mg kq kr ks mh ku kv kw mi ky kz la ij bi translated">有几个因素会影响超越对手的最佳策略:</p><ol class=""><li id="a0c7" class="ng nh iq kh b ki kj kl km ko ni ks nj kw nk la nl nm nn no bi translated">得分差距</li><li id="094d" class="ng nh iq kh b ki np kl nq ko nr ks ns kw nt la nl nm nn no bi translated">剩余的匹配数</li><li id="65da" class="ng nh iq kh b ki np kl nq ko nr ks ns kw nt la nl nm nn no bi translated">计分系统</li><li id="9279" class="ng nh iq kh b ki np kl nq ko nr ks ns kw nt la nl nm nn no bi translated">可能结果的可能性</li><li id="7f6f" class="ng nh iq kh b ki np kl nq ko nr ks ns kw nt la nl nm nn no bi translated">对手预测的结果</li></ol><p id="92a5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是我们需要考虑的五个因素，以提高我们赢得奖金的机会。您可能还想考虑为poule中不同的结束位置授予的任何奖励。</p><h1 id="18fd" class="lm ln iq bd lo lp lq lr ls lt lu lv lw jw nd jx ly jz ne ka ma kc nf kd mc md bi translated">真实的例子</h1><p id="66dc" class="pw-post-body-paragraph kf kg iq kh b ki me jr kk kl mf ju kn ko mg kq kr ks mh ku kv kw mi ky kz la ij bi translated">假设，我的对手领先我6分，只剩下一场比赛，使用与<a class="ae lb" href="https://sijmenvdw.medium.com/predict-euro-cup-matches-with-simple-statistics-should-i-take-that-bet-part-3-22df3d2ad882" rel="noopener">之前博客</a>相同的计分系统，一国优势较小，我们的对手使用最大期望值策略。我们做什么呢</p><p id="7bf4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们看看我们的对手在每种结果下会得到多少分。小优势最高EV的结果是1–0，所以这将是我们对手的预测。下表列出了每项成果的得分:</p><pre class="mk ml mm mn gt nu nc nv nw aw nx bi"><span id="c6d2" class="ny ln iq nc b gy nz oa l ob oc">+---------------+---------+<br/>| Match outcome |  points |<br/>+---------------+---------+<br/>| 1-0           | +10     |<br/>| 2-0           | +7      |<br/>| 3-0           | +7      |<br/>| 4-0           | +7      |<br/>| 2-1           | +5      |<br/>| 3-1           | +5      |<br/>| 3-2           | +5      |<br/>| 1-1           | +2      |<br/>| 0-0           | +2      |<br/>| 1-2           | +2      |<br/>| 1-3           | +2      |<br/>| 0-1           | +0      |<br/>| 0-2           | +0      |<br/>| 2-2           | +0      |<br/>| 0-3           | +0      |<br/>+---------------+---------+</span></pre><p id="7a0c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们至少需要比对手多得6分。我们无法预测任何会给我们的对手5分或更多分的结果。毕竟，如果我们的对手得到5分或更多，我们至少需要得到11分，这是不可能的。</p><p id="cd7d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们需要另一个专栏来添加我们自己的分数，并将其与我们对手的分数进行比较。让我们看看如果我们预测1-1会发生什么。</p><pre class="mk ml mm mn gt nu nc nv nw aw nx bi"><span id="a56d" class="ny ln iq nc b gy nz oa l ob oc">+---------------+-----------+-----+------+--------+<br/>| Match outcome |  opponent |  me |  net |  beat? |<br/>+---------------+-----------+-----+------+--------+<br/>| 1-0           | +10       | +2  | -8   |        |<br/>| 2-0           | +7        | +0  | -7   |        |<br/>| 3-0           | +7        | +0  | -7   |        |<br/>| 4-0           | +7        | +0  | -7   |        |<br/>| 2-1           | +5        | +2  | -3   |        |<br/>| 3-1           | +5        | +2  | -3   |        |<br/>| 3-2           | +5        | +0  | -5   |        |<br/>| 1-1           | +2        | +10 | +8   | Yes    |<br/>| 0-0           | +2        | +7  | +5   |        |<br/>| 1-2           | +2        | +2  | +0   |        |<br/>| 1-3           | +2        | +2  | +0   |        |<br/>| 0-1           | +0        | +2  | +2   |        |<br/>| 0-2           | +0        | +0  | +0   |        |<br/>| 2-2           | +0        | +7  | +7   | Yes    |<br/>| 0-3           | +0        | +0  | +0   |        |<br/>+---------------+-----------+-----+------+--------+</span></pre><p id="6197" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从上表中，我们发现如果我们预测1-1，只有两种可能的结果会导致接管我们的对手。</p><p id="f61b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了计算发生这种情况的可能性，我们在上面的热图中查找相应的值，并将它们相加。</p><p id="14f2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">1–1和2–2的几率分别为0.14和0.08。</p><p id="f015" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着我们有22%的机会以1:1的预测击败我们的对手。顺便说一下，p代表概率。</p><blockquote class="lc"><p id="4d04" class="ld le iq bd lf lg lh li lj lk ll la dk translated">我们能做得更好吗？</p></blockquote><h1 id="de8f" class="lm ln iq bd lo lp lq lr ls lt lu lv lw jw lx jx ly jz lz ka ma kc mb kd mc md bi translated">更多计算</h1><p id="4c1c" class="pw-post-body-paragraph kf kg iq kh b ki me jr kk kl mf ju kn ko mg kq kr ks mh ku kv kw mi ky kz la ij bi translated">当然，只要计算所有合理的选项，然后选择最好的。</p><p id="903b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们已经知道我们的对手在每个结果中得到的分数。接下来，我们计算每一个结果，每一个预测的分数。这导致了下表:</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi od"><img src="../Images/cfa84948f09fd89d5d22352db1f29d59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qtT0lX9p0fOpEjYOpvNPBg.png"/></div></div><p class="mv mw gj gh gi mx my bd b be z dk translated">热图显示了每个预测结果的得分。[图片由作者提供]</p></figure><p id="d255" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们根据我们的对手将获得的分数来调整这些值，从而生成一个热图，其中包含与对手相比所获得的分数值。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi oe"><img src="../Images/b50e87eaa811dc9416cb3e474badbe14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i15XYRc9u7m9JErvuOCBlg.png"/></div></div><p class="mv mw gj gh gi mx my bd b be z dk translated">热图显示了与我们的对手相比，在每个预测结果中的每个结果所获得的分数。[图片由作者提供]</p></figure><p id="e545" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们仍然需要增加可能性来计算哪个预测最有可能为我们赢得胜利。但是，我们已经可以看到，一些预测从来没有为我们赢得足够的分数。例如，1–0总是与我们的对手得分相同，3–0最多比我们的对手多得3分，2–1最多多得5分。</p><p id="485a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们把可能性加起来，决定我们的最佳预测。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi of"><img src="../Images/2af3fdc2c682693fae2fc07520da9c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jqsxNlVFpdEov4kasZFhdA.png"/></div></div><p class="mv mw gj gh gi mx my bd b be z dk translated">热图显示了在每种预测结果下击败对手的几率。[图片由作者提供]</p></figure><p id="3cb1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的热图显示了击败对手的几率，将一列中的所有值相加显示了在特定预测下击败对手的总几率。绿色表示我们击败了对手，红色表示我们不会击败对手。</p><p id="cf6f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们看到预测0–0:</p><p id="2f15" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mz na nb nc b">P(win) = P(0-0) + P(2-2) = 0.13 + 0.08 = 0.21</code></p><p id="8dfb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于0–1、0–2和0–3:</p><p id="1ac3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mz na nb nc b">P(win) = P(0-1) + P(0-2) + P(0-3)= 0.1 + 0.07 + 0.01 = 0.18</code></p><p id="c217" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于1–1:</p><p id="95aa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mz na nb nc b">P(win) = P(1-1) + P(2-2) = 0.14 + 0.08 = 0.22</code></p><p id="aa91" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其他选择击败我们对手的可能性要低得多。我们的第一次猜测是1-1，实际上是正确的，尽管0-0是非常接近的第二次猜测。</p><h1 id="702a" class="lm ln iq bd lo lp lq lr ls lt lu lv lw jw nd jx ly jz ne ka ma kc nf kd mc md bi translated">如果不止有一场比赛要打呢？</h1><p id="9c15" class="pw-post-body-paragraph kf kg iq kh b ki me jr kk kl mf ju kn ko mg kq kr ks mh ku kv kw mi ky kz la ij bi translated">要计算多个匹配的几率，您必须找到得分足够多的可能组合。这将变得太复杂，无法放入热图，你可能更适合模拟比赛，即使用<a class="ae lb" href="https://en.wikipedia.org/wiki/Monte_Carlo_method" rel="noopener ugc nofollow" target="_blank">蒙特卡洛模拟</a>。</p><p id="9ea1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那是以后的事了！</p></div><div class="ab cl og oh hu oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="ij ik il im in"><h1 id="6ad2" class="lm ln iq bd lo lp on lr ls lt oo lv lw jw op jx ly jz oq ka ma kc or kd mc md bi translated">结束了</h1><p id="d6c5" class="pw-post-body-paragraph kf kg iq kh b ki me jr kk kl mf ju kn ko mg kq kr ks mh ku kv kw mi ky kz la ij bi translated">感谢您的阅读。</p><p id="552c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你喜欢这个，这里还有更多:</p><ul class=""><li id="10ed" class="ng nh iq kh b ki kj kl km ko ni ks nj kw nk la os nm nn no bi translated"><a class="ae lb" href="https://sijmenvdw.medium.com/" rel="noopener">中</a> — sijmenvdw</li><li id="4dbf" class="ng nh iq kh b ki np kl nq ko nr ks ns kw nt la os nm nn no bi translated"><a class="ae lb" href="https://www.linkedin.com/in/sijmen-van-der-willik/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>—Sijmen van der Willik</li><li id="e8be" class="ng nh iq kh b ki np kl nq ko nr ks ns kw nt la os nm nn no bi translated"><a class="ae lb" href="https://github.com/sijmenw?tab=repositories" rel="noopener ugc nofollow" target="_blank"> GitHub </a> — sijmenw</li></ul></div></div>    
</body>
</html>