<html>
<head>
<title>Amazon Redshift vs Google BigQuery: Battle of the Biggest OLAP Data Warehouses</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">亚马逊红移vs谷歌大查询:最大的OLAP数据仓库之战</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/amazon-redshift-vs-google-bigquery-battle-of-the-biggest-olap-data-warehouses-8311241b2c91?source=collection_archive---------47-----------------------#2021-04-13">https://towardsdatascience.com/amazon-redshift-vs-google-bigquery-battle-of-the-biggest-olap-data-warehouses-8311241b2c91?source=collection_archive---------47-----------------------#2021-04-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="684d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">会是亚马逊吗？还是谷歌会拿走蛋糕？让我们找出答案</h2></div><p id="aea9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于大数据领域的企业来说，拥有灵活、可扩展、同时经济高效的数据仓库势在必行。鉴于现代企业越来越多地将大数据视为在所有领域提升的解决方案；从客户支持到生产进度，分析数据仓库对大多数业务需求都变得至关重要。</p><p id="096a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然数据分析的世界仍在蓬勃发展，但大型企业已经通过自己的数据仓库成功地在市场上站稳了脚跟。处于大数据热潮核心的行业巨头亚马逊和谷歌提供了备受追捧的数据仓库Redshift和BigQuery。我将在今天的博客中分析这两个最大的在线分析处理(OLAP)数据仓库，以帮助您选择更好的解决方案来满足您的数据需求。但是在我们深入研究这两个数据仓库哪一个更好之前，我将带您简单了解一下什么是数据仓库。请继续阅读。</p><p id="f85f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">这是一个大数据仓库！</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/1e08c20e9d5ac12e26e61426a49e55ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*va25T8JGUKRw4DlT"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated"><a class="ae lu" href="https://unsplash.com/@nananadolgo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">娜娜·斯米尔诺娃</a>在<a class="ae lu" href="https://unsplash.com/s/photos/data-warehouse?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="2a86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据仓库可以简单地认为是一个存储容器或存储大量数据以供处理的地方。现在，从这个仓库获取某些信息的过程，或者处理数据查询的方式，在体系结构方面从一个仓库到另一个仓库是不同的。此外，与存储容器的大小以及其中可以存储或处理的内容量类似，数据仓库也有其自身的限制和功能，企业可以根据这些限制和功能找到自己的最佳选择。现在，让我们详细看看两个强大的OLAP数据仓库。</p><h1 id="ff88" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">AWS红移</h1><p id="1d71" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">亚马逊红移是一个数据仓库，是电子商务巨头亚马逊网络服务(AWS)云计算平台的一部分。Redshift于8年前首次发布，它允许企业用户从少量数据(几百千兆字节)开始，直到高达数千兆字节的数据，所有这些都借助云的力量实现。</p><h2 id="0dbd" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">它是如何工作的？</h2><p id="c988" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">Redshift是一款快速且经济高效的BI工具，使用标准SQL存储所有数据，以集群或块的形式存储数据，与传统或本地数据仓库相比，可以实现更快的无缝查询。聚类格式最大限度地减少了信息输入或输出的实例，以便只关注相关的信息提取。</p><p id="a2fc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与传统的数据仓库不同，Redshift允许您对TB级到Pb级的结构化和半结构化数据进行复杂的分析查询。它使用复杂的查询优化、列存储和跨多个物理资源的并行查询执行。</p><p id="63f7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过使用熟悉的基于SQL的客户端和使用标准开放式数据库连接(ODBC)和Java数据库连接(JDBC)的BI工具，Redshift承诺了令人印象深刻的快速查询功能，大多数在几秒钟内返回。</p><p id="b079" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在定价方面，Redshift允许您以每小时0.25美元的价格从几千兆字节的数据开始，以每年1，000美元的价格扩展到千兆字节和千兆字节，成本不到传统内部解决方案的十分之一。它还包括亚马逊红移光谱，以帮助您直接对亚马逊S3数据湖中的非结构化数据运行SQL查询。</p><p id="41a3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">即使数据量很大，Redshift Spectrum也会根据检索到的数据自动扩展计算能力，以便针对亚马逊简单存储服务或S3进行更快的查询。更何况不需要加载，也不需要改造。可以使用开放数据格式，包括Avro、CSV、Grok、Amazon Ion、JSON、ORC、Parquet、RCFile、RegexSerDe、Sequence、Text、胡迪、Delta和TSV。</p><h2 id="e7fb" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">红移一览:</h2><ul class=""><li id="f4a3" class="ne nf it kk b kl mn ko mo kr ng kv nh kz ni ld nj nk nl nm bi translated">快速且经济高效</li><li id="955a" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">以分栏格式存储数据</li><li id="7b61" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">成本不到传统内部解决方案的十分之一</li><li id="6ffa" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">并行查询执行</li><li id="8400" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">直接允许SQL查询</li><li id="1d7e" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">通过AWS IAM集成、列级访问控制、VPC、加密等实现安全。</li><li id="5fff" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">使用复制和连续备份来提高性能</li></ul><h2 id="6835" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">最佳使用案例</h2><p id="2277" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">Redshift非常适合处理需要实时分析的<a class="ae lu" href="https://www.xplenty.com/blog/redshift-vs-bigquery-comprehensive-guide/#performance" rel="noopener ugc nofollow" target="_blank">时间敏感型工作负载</a>的企业。例如，每日股市指数报告、广告竞价或实时仪表板。Redshift上的预测模型允许近乎实时的广告竞价。需要通过刷新进行连续查询的实时数据流用例也处理得令人印象深刻。</p><h1 id="8e7b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">谷歌大查询</h1><p id="9f0c" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated"><a class="ae lu" href="https://cloud.google.com/bigquery/" rel="noopener ugc nofollow" target="_blank"> Google BigQuery </a>是搜索巨头自有云基础设施Google Cloud下的另一个受欢迎的数据仓库。无服务器的多云数据仓库旨在处理海量数据，同时保证灵活性和可伸缩性。</p><h2 id="3906" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">它是如何工作的？</h2><p id="d928" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">BigQuery的核心是<a class="ae lu" href="https://cloud.google.com/files/BigQueryTechnicalWP.pdf" rel="noopener ugc nofollow" target="_blank"> Dremel </a> —谷歌的查询服务，允许你对庞大的数据集运行SQL查询，并在几秒钟内获得准确的结果！因此，BigQuery是Dremel的外部化，使用Rest API、命令行界面、web UI和访问控制向第三方开发人员提供其核心特性集。为了估计它的潜力，Dremel可以在几十秒内扫描350亿行而不用索引。通过共享谷歌自己的云基础设施，它可以将每个查询并行化，并同时在数万台服务器上运行。</p><p id="aca6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">回到BigQuery，它与Dremel共享相同的架构和性能特征。通过利用谷歌的计算和云基础设施，好处包括跨区域的多次复制和高数据中心可扩展性，而不需要开发者的任何管理。</p><p id="cf8a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">BigQuery还以一种称为Capacitor的列格式存储数据。表中的每一列都存储在单独的文件块中，所有列都存储在单个电容器文件中，然后对该文件进行压缩和加密。</p><p id="c0a7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它允许使用标准SQL跨云进行数据分析。它是完全管理的，针对企业的大规模数据处理。BigQuery的一个关键的与众不同的特性是它更加兼容AI和ML。它允许您使用自然语言处理(NLP)获得数据洞察力，提供内置的ML和AI集成，提供ODBC和JDBC驱动程序，并使用谷歌的工具提供无缝数据集成。</p><h2 id="9604" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">BigQuery概览:</h2><ul class=""><li id="9444" class="ne nf it kk b kl mn ko mo kr ng kv nh kz ni ld nj nk nl nm bi translated">与大型数据集兼容</li><li id="62b8" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">支持人工智能、人工智能集成</li><li id="0280" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">非程序员的易用性</li><li id="155f" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">依赖于谷歌自己的云基础设施</li><li id="18b1" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">使用文件系统存储数据</li><li id="bbdf" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">快速且自我管理</li></ul><h2 id="6dd3" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">最佳使用案例</h2><p id="c26e" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">顾名思义，当数据查询高峰且空闲时间很长时，BigQuery处于最佳状态。一些例子包括每天运行一次的电子商务网站上的推荐、偶尔需要复杂查询的季度报告、团队通过自定义数据分析进行特别发现的销售智能，以及最重要的用于发现和分析数据模式(如消费者行为)的机器学习。</p><h1 id="a17a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">共性</h1><p id="980f" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">考虑到这两个数据仓库都有满足BI需求的潜力，很明显它们提供了一些共同的特性。以下是其中一些例子:</p><ul class=""><li id="2d69" class="ne nf it kk b kl km ko kp kr ns kv nt kz nu ld nj nk nl nm bi translated">SQL标准:BigQuery和Redshift都支持标准的SQL数据类型。但是，前者适用于一些标准的SQL数据类型。</li><li id="2b21" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">更新和删除:这两个工具都是仅追加的，但是如果查询出错，它们可以处理更新和删除。</li><li id="fd60" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">安全性:Redshift使用Amazon IAM，而BigQuery使用Google Cloud IAM，允许安全的身份管理。</li></ul><h1 id="2769" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">竞争优势</h1><ul class=""><li id="66bf" class="ne nf it kk b kl mn ko mo kr ng kv nh kz ni ld nj nk nl nm bi translated">集成:Redshift和BigQuery都提供了大量的集成。然而，Google的BigQuery因其ML集成而脱颖而出，使数据科学家能够在结构化或半结构化数据上构建和操作ML模型。</li><li id="7c41" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">可扩展性:借助Redshift，企业无法独立扩展资源，因为存储和计算不是分开的。任何微调都需要集群重新配置，这是一个耗时的过程。另一方面，BigQuery将存储和计算分开，提供了更大的灵活性和更多的可伸缩性。</li><li id="dfd5" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">维护:红移需要定期清空或表分析。你可能会花费数小时做简单的维护，如更新。BigQuery维护性低；它没有索引或列约束，并且不允许性能调优功能。这是一个完全由谷歌管理的服务，处理所有的后端配置和调整。</li><li id="9fdd" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">定价:使用Redshift，您可以从每小时0.25美元开始，扩展到数Pb的数据和数千个并发用户，总计每年每TB 1000美元。您还可以选择按需定价，根据集群中节点的类型和数量按小时付费。Redshift还提供基于频谱、扩展、存储和部署ML模型的现收现付定价模式。另一方面，BigQuery对数据存储、流插入和查询数据收费，但加载和导出数据是免费的。有两种订阅模式—每TB 5美元的现收现付价格和100个保留插槽每月1，700美元起或100个灵活插槽每小时4美元起的统一价格。</li></ul><h1 id="b021" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">谁拿了蛋糕？</h1><p id="f404" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">如果您是一家处理数据的企业，并希望赶上新时代的数字化转型，Redshift和BigQuery都是非常有前途的数据仓库解决方案。由于处理大型数据查询和提供快速准确结果的潜力相似，在这两种服务之间做出决定可以归结为工作流的性质和BI需求。</p><p id="066b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我看来，谷歌的BigQuery是一个比Redshift更健壮的解决方案，因为它提供了额外的功能，如ML集成。以谷歌自己的云基础设施为核心，它是一个更具性价比的工具。它是完全受管理的，这减少了部署系统工程师在使用Redshift时根据需要不断进行微调的需要。对于更大的数据量和不同的查询负载，BigQuery非常适合。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><p id="3a0f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="oc">最初发表于</em><a class="ae lu" href="https://anujsyal.com/amazon-redshift-vs-google-bigquery-battle-of-the-biggest-olap-data-warehouses" rel="noopener ugc nofollow" target="_blank"><em class="oc">【https://anujsyal.com】</em></a><em class="oc">。</em></p></div></div>    
</body>
</html>