<html>
<head>
<title>Quantifying the value of an A/B test</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">量化A/B测试的价值</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/quantifying-the-value-of-an-a-b-test-821aecfd2ef?source=collection_archive---------26-----------------------#2021-07-12">https://towardsdatascience.com/quantifying-the-value-of-an-a-b-test-821aecfd2ef?source=collection_archive---------26-----------------------#2021-07-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b2d8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在做决定之前，你应该付多少钱来获得更多的信息？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/219b72cb3abd322711b569a2b860a33d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bZlcDDGT77URlUw7"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奈杰尔·塔迪亚恩多在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="750e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="81fa" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">数据科学的主要产品是信息。但是，这个产品是有成本的；收集、存储和分析数据需要时间和资源。那么，值得吗？</p><p id="edb6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">信息的<a class="ae ky" href="https://en.wikipedia.org/wiki/Value_of_information" rel="noopener ugc nofollow" target="_blank">价值(VOI) </a>的概念可以说为这个问题提供了最好的答案。根据维基百科，VOI是决策者在做出决定之前愿意为信息支付的金额。</p><p id="d7d8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">人类的经验是由众多的决定形成的。决策的范围从相对琐碎的——比如某一天在哪里吃午饭——到非常重要的——比如如何应对气候变化的威胁。</p><p id="f309" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">决策的一个主要障碍是不确定性。当我们选择一个特定的<em class="ms">选项</em>(一系列行动)时，我们通常不知道会发生什么。相反，我们继承了一个结果<em class="ms">的<em class="ms">彩票</em>。有些结果比其他结果更好，因此有些彩票比其他彩票更有价值。当信息提供了一种可操作的手段来改善我们所面临的决策结果时，它就提供了价值。</em></p><p id="a9a6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">想了解更多关于VOI的信息，我强烈推荐埃里克·比克尔教授的演讲。计算VOI通常包括计算:</p><ol class=""><li id="8b3b" class="mt mu it lt b lu mn lx mo ma mv me mw mi mx mm my mz na nb bi translated"><strong class="lt iu">当前决定情况的值</strong> <em class="ms">。</em>如果您不得不在没有额外信息的情况下做出决定，最佳行动方案是什么？结果抽签的价值是什么？</li><li id="2c28" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated"><strong class="lt iu">免费信息彩票的价值。</strong>如果你可以免费收集这些信息，那么结果彩票的价值会是多少？</li></ol><blockquote class="nh ni nj"><p id="ad64" class="lr ls ms lt b lu mn ju lw lx mo jx lz nk mp mc md nl mq mg mh nm mr mk ml mm im bi translated">在大多数情况下，VOI是具有自由信息的彩票的<strong class="lt iu">值</strong>和当前决策情况的<strong class="lt iu">值</strong>之间的差值。</p></blockquote><h1 id="2861" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">A/B测试的背景</h1><p id="9858" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">A/B检验本质上是<a class="ae ky" href="https://en.wikipedia.org/wiki/Two-sample_hypothesis_testing" rel="noopener ugc nofollow" target="_blank">双样本假设检验</a>的别称。决策者(一家公司)必须选择推出一种产品的两种变体中的一种。这个产品可以是一个网站登录页面或广告。A和B这两个变量都有一个未知参数θ，它描述了每个变量的功效。例如，θ可以是广告的转换率或点击率。为了了解哪个选项的θ更理想，决策者进行了一次控制实验。向一些用户显示变体A，向一些用户显示变体b。然后，实验的结果告知是否启动变体A或b的决定。</p><p id="49ec" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">A/B测试有频率主义和贝叶斯风格。布莱克·阿诺德的<a class="ae ky" rel="noopener" target="_blank" href="/exploring-bayesian-a-b-testing-with-simulations-7500b4fc55bc">博客文章</a>很好地概括了这些方法之间的差异。我在这篇文章中提出的方法本质上是贝叶斯A/B测试的扩展，它使用VOI而不是显式损失函数。</p><h1 id="29d7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">方法学</h1><p id="6ef4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们想象一下，我们正面临一个可能从A/B测试中受益的决定。例如，我们有两个不同版本的网站登录页面——A和B，我们希望选择转化率更高的选项。</p><h2 id="b688" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">详细说明前科</h2><p id="7713" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，我们需要考虑我们之前对A和b的转化率的信念。</p><p id="370f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">例如，我们知道转换率必须在0到100%之间，这表明<a class="ae ky" href="https://en.wikipedia.org/wiki/Beta_distribution" rel="noopener ugc nofollow" target="_blank"> beta分布</a>适合表达我们对两个登录页面转换率的先验信念。此外，我们知道转换率通常是个位数，因此我们可以将此信息纳入我们之前的分布规范中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/929bda99ee0774a10bddbd956674618e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*8Qdy4CPrAKHFQFyg2aVloA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">两个重叠的Beta分布，描述了我们对变量A和b的转换率的先验信念。</p></figure><h2 id="c264" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">把它和$$$联系起来</h2><p id="a30a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一个必要的步骤是定义<em class="ms">一个特定的转换率对我们的业务价值有多少</em>。这种规格可能取决于各种因素，如产品成本和网站流量。最终，我们必须回答这个问题，“我们的企业愿意支付多少来提高1%的转化率？”为简单起见，我们假设转换率和价值之间存在线性关系。</p><p id="2de7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">假设转换率每增加1 %,对我们的业务来说就值10，000美元。从那里，我们可以将先前的分布表示为货币彩票，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/5ef7cd83e70bd226c8298076fd54d49e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*YGB9iGuAvQF8e0opZxxY1Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在指定了转换率和价值之间的关系之后，我们基于Beta先验获得了两个重叠的货币彩票。</p></figure><p id="1f71" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">货币彩票值多少钱？这个问题的答案归结为决策者的<a class="ae ky" href="https://en.wikipedia.org/wiki/Risk_aversion" rel="noopener ugc nofollow" target="_blank">风险态度</a>。在这篇博文中，我们假设风险中性，这意味着货币彩票的价值等于彩票的预期价值或均值。当一个给定决策的风险金额相对于决策者的总财富较小时，风险中性是一个很好的工作假设。我想在使用A/B测试的决策中通常是这种情况。</p><p id="f5be" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">另一个有用的概念是<em class="ms">当前</em> <em class="ms">决策情况</em>的值，这是在没有额外信息的情况下，如果我们必须选择A或B，我们会选择的彩票值。在这种情况下，我们选择哪个选项并不重要；两种货币彩票的期望值约为38，500美元，这也是当前决策情况下的值。</p><p id="fae4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">换句话说，对我们的企业来说，部署其中一个变体而不进行任何测试的价值是38，500美元。</p><h2 id="fef9" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">模拟A/B测试</h2><p id="1037" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">既然我们已经指定了我们的先验信念，我们可以在收集任何数据之前模拟A/B测试的结果。为了模拟样本大小为<em class="ms"> n </em>的A/B测试的结果(对于每个变量)，我们</p><ol class=""><li id="1678" class="mt mu it lt b lu mn lx mo ma mv me mw mi mx mm my mz na nb bi translated">从先前的分布中提取转换率。</li><li id="451d" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">给定绘制的转换率，使用二项式分布从模拟A/B测试中为每个变量绘制转换率。</li></ol><p id="e7ed" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">使用这种方法，我们获得了以下结果:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="f4ba" class="nn la it oc b gy og oh l oi oj">Variant A: 11 conversions out of 100<br/>Variant B: 2 conversions out of 100</span></pre><h2 id="bafe" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">用结果更新我们的信念</h2><p id="db89" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">基于这些测试结果，变体A看起来比变体B好得多。最初，我们不知道是A还是B更好，但这个结果无疑更新了我们的信念。</p><p id="4948" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">利用贝叶斯法则，我们可以推导出A和B的转换率的<em class="ms">后验分布</em>，即贝塔分布。关于贝叶斯更新过程如何工作的更多信息，我强烈推荐Shaw Lu的<a class="ae ky" rel="noopener" target="_blank" href="/visualizing-beta-distribution-7391c18031f1">优秀博文</a>。使用带有Beta先验的二项式似然的分析结果，我们得到如下所示的后验Beta分布:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/a161da4b7f7070fe09025773cd75292c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*_7kL5uxIQbuSoQEqYjL0Hg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如果我们获得了前面提到的测试结果，我们将更新我们对变量A和b的转换率的信念。</p></figure><p id="3ce5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">相应的后验货币彩票是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/e3bb9d2aec830c80b35c733139de436f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*B_4buZn3L-xkxIkvLhVnqg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在观察测试结果和更新我们先前的信念后，更新的货币彩票。</p></figure><p id="a173" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在收集了这些假设的测试结果后，我们将选择选项A，其更新的彩票的期望值约为73，500美元。</p><p id="8255" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">简而言之，这代表了A/B测试的可能结果之一——一个价值73500美元的决策情境。</p><h2 id="5097" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">模拟另一个测试</h2><p id="4b68" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这次我们随机抽取这些结果:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="f9d9" class="nn la it oc b gy og oh l oi oj">Variant A: 4 conversions out of 100<br/>Variant B: 5 conversions out of 100</span></pre><p id="cf03" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然后，在更新我们的信念之后，我们将面临一个价值44，100美元的决策情况:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/10b2cc70944949748010409a41a7df11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*PezHKZBWMuQ6NlGQosO0HA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">运行A/B测试可能会产生另一组可能的货币彩票。</p></figure><p id="f455" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">请注意，这种“更新”的决策情况不如我们最初的决策情况有价值。这一发现并不令人惊讶，因为A/B测试可以告诉我们A和B的表现都很差。</p><h2 id="90a2" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">模拟10，000次测试</h2><p id="0e85" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">所以我们随机抽取了两个可能的A/B测试结果——一个会给我们一个价值73，500美元的决策情境，另一个会给我们一个价值44，100美元的决策情境。接下来，让我们看看当我们以蒙特卡洛方式模拟10，000次A/B测试时会发生什么。下面显示了10，000个随机生成的A/B测试的决策情况值的直方图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/2ae7631bcbc6cb0e1ecd993b9df0d077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*VCeBcpaLWKBg2jCvnd_eJA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从A/B测试的10，000次模拟中得出的决策情况值(浅蓝色)的直方图。在每个模拟测试中，我们获得测试结果，更新我们的信念，并继承A和b之间更好的彩票。绿色虚线表示这次彩票的价值(期望值)。黑色虚线是我们当前决策情况的值。VOI是经过测试的彩票价值和当前决策情况下的价值之间的差值。</p></figure><p id="edf3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">上面的图表明A/B测试给了我们一个决策情况的抽签。</p><p id="8f67" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这张彩票的价值(平均值)大于我们当前决策情况的价值。为什么？因为我们可以收集数据并<em class="ms">然后</em>选择看起来更好的选项，而不是现在就选择A或B(当前的决策情况)。</p><blockquote class="nh ni nj"><p id="b322" class="lr ls ms lt b lu mn ju lw lx mo jx lz nk mp mc md nl mq mg mh nm mr mk ml mm im bi translated">如果我们是风险中性的<strong class="lt iu">，测试的价值就是有测试的彩票价值和没有测试的彩票价值之差。</strong></p></blockquote><p id="94e8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">有可能在执行A/B测试后，我们将面临一个价值低于我们当前决策情况的决策情况。这并不意味着测试有负价值。<strong class="lt iu">事实上，VOI不能消极。</strong></p><h2 id="c9bf" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">VOI作为样本量的函数</h2><p id="5dc0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">之前，我们计算了一个A/B测试的值，每个变量有100个参与者。但是测试的价值是如何依赖于参与人数的呢？为了回答这个问题，我用不同的样本量进行了多次蒙特卡罗模拟，每个变量的样本量从0人到500人不等。我还对蒙特卡洛结果应用了一个LOWESS平滑器，以使趋势更加清晰。</p><p id="6029" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">据推测，参与者越多的测试越昂贵。因此，我假设每个参与者的成本为25美元，以在测试产生的价值和执行测试所需的成本之间建立权衡。测试的成本因各种因素而异，如数据收集服务的成本和推迟产品发布的成本。</p><p id="8233" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">结果如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/08c8a101095f13693ad9740eb1961ba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*JeyplF-dXOcPKFXJYG2hXw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用蒙特卡罗技术计算的具有不同数量参与者的voi图。黑点是原始结果。绿线是拟合原始结果的平滑线。红线是假设的测试成本，随着参与者的增加而增加。当VOI大于测试成本时，测试是有利可图的(绿色区域)。当测试的成本超过它所提供的信息时，就会产生亏损(红色区域)。随着参与者数量的增加，随机误差趋近于零，使得VOI接近千里眼的数值。</p></figure><p id="7c01" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">正如所料，增加参与者的数量会增加测试的价值。这种趋势的存在是因为许多参与者的测试强烈地将我们的先验拉向真实的转换率值。因此，当我们对更多的参与者进行测试时，我们更有信心选择更好的变体。</p><p id="d1c8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">请注意，测试的值似乎“变平”并收敛到一个特定的值。这个值被称为千里眼的<em class="ms">值，</em>本质上是完美测试的值。想象一下，去拜访一个透视者，他会看着水晶球，非常自信地告诉你变体A和B的转化率。在你拜访之前，你不知道透视者会告诉你什么，但是你知道在你拜访之后你一定会选择更好的变体。虽然计算千里眼的值超出了这篇博客的范围，但是我在我的存储库中的一个测试案例中使用了它。</p><p id="0a2e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">透视的价值是数据科学中的一个重要概念，因为它建立了信息价值的上限。任何花费超过千里眼价值的分析或测试都不值得做。</p><p id="8d25" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后，该图显示了使测试净值最大化的参与者数量，即VOI减去成本。</p><h2 id="268e" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">我们应该早点停止测试吗？</h2><p id="114a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">假设我们看了前面的图表，决定100个参与者的A/B测试使测试的价值最大化。在仅向30名参与者展示每个变体后，我们看到了以下结果:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="364e" class="nn la it oc b gy og oh l oi oj">Variant A: 2 conversions out of 30 <br/>Variant B: 4 conversions out of 30</span></pre><p id="7046" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">变体B看起来很有希望。因此，我们想知道我们是应该继续测试还是尽早停止测试并部署B。在频繁的A/B测试中，尽早停止测试被认为是一种不好的做法。这是因为frequentist测试是以实现统计显著性为导向的，早于计划停止测试会增加假阳性率。</p><p id="569b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里我们不关心假阳性；我们关心价值。因此，我们没有理由不能用目前收集的结果来更新我们的信念，给出如下所示的分布。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/6e55db864512cdb58cb83bc1fe69ff27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*D-6qMUOM4V6fMNlJUiDbWQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">货币彩票在更新我们的信念后，每个变体有30个参与者。我们想知道继续测试是否有价值，或者我们是否应该只部署变体b。</p></figure><p id="ad74" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">更新我们的信念后，我们可以像以前一样绘制VOI与参与者数量的关系图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/c30c78edf580400678d9ca80af481e1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*h8Z5vkQkZGec0USHVWWX0Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用蒙特卡罗技术计算的voi图，从更知情的先验开始改变参与者的数量。在这种情况下，无论我们获得多少参与者，测试都是无利可图的。</p></figure><p id="0d5c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在这里，我们可以看到，对于任何数量的参与者来说，成本都大于测试的价值。<strong class="lt iu">因此，继续测试没有净值。</strong>此时，最佳行动方案是部署B，即使A和B之间的差异可能没有统计学意义。注意，这个结论取决于测试的成本。如果测试更便宜，继续测试以获取信息价值是值得的。</p><h1 id="31ce" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="5c77" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这篇博文概述了量化A/B测试的经济价值的蒙特卡罗方法。一般方法如下:</p><ol class=""><li id="984b" class="mt mu it lt b lu mn lx mo ma mv me mw mi mx mm my mz na nb bi translated">使用统计分布指定关于变量品质因数的先验信念。</li><li id="9c75" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">量化当前决策情况的值，这是我们在没有获得额外信息的情况下选择一个变体时所继承的彩票的期望值。</li><li id="ed90" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">使用先验分布，随机生成潜在A/B测试的结果。计算每个模拟测试得出的决策情况的值。</li><li id="0bdb" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">取蒙特卡洛抽奖的决策情况值的平均值。将该平均值与当前决策情况的值进行比较(步骤2 ),以获得测试值。</li></ol><p id="0299" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我希望这篇文章能提供信息，并展示如何通过价值创造的视角来看待统计测试。与其他只关注统计能力或显著性的方法相比，这种方法更符合A/B测试的实际目标。我认为A/B测试的目标不是<em class="ms">确定更好的选择，而是产生价值。虽然这些目标通常是同义的，但在有些情况下，人们很容易投入过多的资源来检测两个变量之间的微小差异。质疑我们的假设并优化最重要的东西总是好的。</em></p></div></div>    
</body>
</html>