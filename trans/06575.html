<html>
<head>
<title>Building a Real-Time Speech to Text React Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建实时语音到文本反应应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-real-time-speech-to-text-react-application-using-aws-amplify-8befac6aca2c?source=collection_archive---------17-----------------------#2021-06-13">https://towardsdatascience.com/building-a-real-time-speech-to-text-react-application-using-aws-amplify-8befac6aca2c?source=collection_archive---------17-----------------------#2021-06-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="acf5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用AWS Amplify为ML/AI应用供电的演示</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3ea8324c805f1ed785667aae8ec27ae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HZsdhRatJQJPODSl"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://unsplash.com/photos/1HCb2gPk3ik" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="8bc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">亚马逊网络服务(AWS)正在不断扩展其在应用开发、机器学习/人工智能和物联网等各个领域的产品。它的一些服务甚至在更高的层次上融合了不同的领域。<a class="ae ky" href="https://aws.amazon.com/amplify/" rel="noopener ugc nofollow" target="_blank"> AWS Amplify </a>是一项服务，它提供了使用流行框架(如React)构建移动/网络应用的能力。最近，Amplify集成了各种<strong class="lb iu">高级ML服务</strong>，如转录、翻译、理解和重新识别，使开发人员能够轻松地用人工智能驱动他们的应用程序。对于本文，我们将构建一个React应用程序，展示Amplify通过与AWS Transcribe集成提供的<strong class="lb iu">语音转文本</strong>功能。</p><p id="a083" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong>对于刚接触AWS的人来说，如果你想继续学习，请确保在下面的<a class="ae ky" href="https://aws.amazon.com/console/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">链接</strong> </a>中注册账户。然而，要完全理解这篇文章，你需要一些初步的AWS知识。我还将提供一个我们将使用的服务列表，以及更深入的定义。如果您已经熟悉了这些服务，可以直接跳到代码演示。</p><h1 id="99d0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">目录</h1><ol class=""><li id="9bb4" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated">AWS服务</li><li id="f8c8" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">设置AWS放大器</li><li id="5090" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">安装人工智能服务/预测资源</li><li id="7884" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">构建语音转文本应用程序</li><li id="ec7e" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">整个代码和结论</li></ol><h1 id="1a6b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.AWS服务</h1><p id="3ce2" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated"><a class="ae ky" href="https://aws.amazon.com/amplify/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> AWS Amplify </strong> </a>:帮助你构建基于AWS的web和移动应用。支持React、Angular、Vue等各种web框架，以及Android、iOS等移动平台。</p><p id="f8fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://aws.amazon.com/transcribe/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> AWS转录</strong> </a> : Auto-AI服务，允许没有ML经验的开发者在后端集成语音到文本的功能。</p><p id="2942" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://aws.amazon.com/iam/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">身份访问和管理(IAM) </strong> </a>:允许您通过权限和角色管理对AWS服务的访问。我们将为我们的Amplify用户创建一个与各种AWS服务合作的角色。</p><h1 id="91ce" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.设置AWS放大器</h1><p id="0f2c" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在我们探索应用程序的ML方面之前，我们需要一个传统的React应用程序启动并运行。幸运的是，AWS通过一个叫做<a class="ae ky" href="https://docs.amplify.aws/cli" rel="noopener ugc nofollow" target="_blank"> Amplify CLI </a>的东西让使用Amplify变得简单。CLI将作为我们进入AWS的主要界面，并管理我们在应用程序中使用的服务/资源。我们将很快浏览一下具体的安装命令，但是如果你想自己浏览文档进行设置，这里有<a class="ae ky" href="https://docs.amplify.aws/start/q/integration/react" rel="noopener ugc nofollow" target="_blank">链接</a>。在安装CLI之前，确保您已经安装了Node.js、npm和git，我们将在本教程的后面使用所有这些。要安装Amplify CLI，请根据您的机器使用以下命令。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">放大CLI安装</p></figure><p id="049f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们需要用我们特定的AWS帐户配置CLI。为此，您需要创建一个<a class="ae ky" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html" rel="noopener ugc nofollow" target="_blank"> IAM用户</a>，它代表使用该帐户的人。为此，运行以下命令，指定您所在的地区，创建用户名，并确保保存/输入AWS提供的<strong class="lb iu">访问密钥ID </strong>和<strong class="lb iu">秘密访问密钥</strong>，以将CLI连接到您的AWS帐户。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用AWS连接Amplify CLI</p></figure><p id="4171" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">填写完以下所有问题后，您应该会在您的<strong class="lb iu">命令行</strong>中看到如下<strong class="lb iu">所示的图像，以确保您的CLI已正确连接到您的帐户。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/9e003fb8277c51b0c6dfaaa43ab12861.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*P7bYl22PP9BSUI1mRPphyQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="ae97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然已经正确设置了命令行，我们就可以开始创建React应用程序了。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建和启动React应用程序</p></figure><p id="758a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着传统React应用程序的运行，我们现在需要初始化Amplify，这样我们就可以创建我们的后端来与ML服务(如转录)进行交互。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">初始化放大器</p></figure><p id="f3c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Amplify init命令将创建一个CloudFormation模板(作为代码的基础设施),以便为AWS上的应用程序<strong class="lb iu">供应和部署</strong>所有<strong class="lb iu">资源</strong>。</p><h1 id="ba72" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.安装人工智能服务/预测资源</h1><p id="899a" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">现在我们已经用Amplify库设置了一般的React应用程序，我们可以添加Amplify提供的<a class="ae ky" href="https://docs.amplify.aws/lib/predictions/getting-started/q/platform/ios" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">预测</strong> </a>特性。该类别具有各种功能和扩展，您可以添加从图像检测、转录、翻译到情感分析的内容。要添加语音到文本和文本到语音功能，运行以下命令并选择<strong class="lb iu">转换</strong>以选择这两个ML选项。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">向React应用程序添加预测类别</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/ce3a03967e8f090aecb6eeb0fb46776e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nSoW3j-vtwRoIAFsvI5qQQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="f3f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">选择转换后，您将获得一个选项来添加转录和文本到语音功能。确保对这两个选项重复该过程，或者如果您愿意，进行翻译。对于转录，您将被要求填写一个<strong class="lb iu">源语言</strong>(我们的应用程序为美国英语)，对于文本到语音，您将填写一个<strong class="lb iu">说话者声音</strong>和源语言。最后，让<a class="ae ky" href="https://aws.amazon.com/cognito/" rel="noopener ugc nofollow" target="_blank"> Cognito </a>为您的认证应用提供动力，您应该准备好了。要提供您已下载的新预测功能，请在CLI中运行<strong class="lb iu"> amplify push </strong>来更新您在云中的资源。</p><h1 id="2137" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.构建语音转文本应用程序</h1><p id="f7be" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">随着预测资源的准备就绪，现在只需调整app.js代码来包含这些功能。我将使用这个<a class="ae ky" href="https://docs.amplify.aws/lib/predictions/sample/q/platform/js" rel="noopener ugc nofollow" target="_blank">链接</a>提供的放大预测文档的例子。请随意跟随或调整代码，无论如何我都不是一个伟大的ReactJS开发人员，我只是想展示他们提供的代码作为开始的例子。要使用转录，我们需要先添加一个麦克风功能，所以请确保安装以下库。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">添加麦克风进行转录</p></figure><p id="3b15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们想要添加我们将在应用程序中使用的适当的库。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用于导入放大预测的库</p></figure><p id="0c48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们需要添加转录功能，这将调用AWS转录。录制开始后，转录将开始，并转换为我们的源语言，在这种情况下是英语。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">转录功能</p></figure><p id="eab1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们需要添加语音到文本的功能来完成我们的应用程序。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">文本到语音功能</p></figure><p id="3231" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们在app.js文件中有了这两个函数，我们需要正确地返回这两个组件，这样我们就可以看到ML在前端工作。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">返回ML组件</p></figure><p id="27f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">启动React应用程序后，我们有了一个全功能的项目，具有转录和文本到语音的功能，您可以根据自己的意愿进行调整和配置！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/414a6243db10c6a4f30c54dccc12866f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CNyJSQuBTXKaxc4ZtKMTUg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">前端由ML提供动力(作者截图)</p></figure><h1 id="b037" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">6.代码/信用和结论</h1><p id="19e9" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">这个项目的完整代码可以在这个<a class="ae ky" href="https://github.com/RamVegiraju/AmplifyTranscription" rel="noopener ugc nofollow" target="_blank">链接</a>中找到。源代码的所有功劳归于他们提供的实际<strong class="lb iu"> AWS Amplify示例</strong>，我提取并配置了我的转录和文本到语音功能所需的部分。</p><p id="47e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看到Auto-AI已经走了多远，以及在几乎没有理论上的ML经验的情况下将ML/AI整合到您的应用程序中是多么容易，这令人惊讶。如果你试图用ML来驱动你的应用程序，并且<strong class="lb iu">没有什么经验</strong>或者<strong class="lb iu">没有时间</strong>来构建一个定制模型，我绝对推荐你使用这个特性。AWS中还有各种其他的高级人工智能服务，我希望在接下来的文章中讨论。与此同时，如果你想开始了解如何在AWS上构建自己的定制模型，请点击这里查看我的文章<a class="ae ky" rel="noopener" target="_blank" href="/training-and-deploying-custom-tensorflow-models-with-aws-sagemaker-72027722ad76"/>。我希望这篇文章对任何试图将ML集成到他们的应用程序中的人或者从总体上了解更多AWS的人有用。请随时在<a class="ae ky" href="https://www.linkedin.com/in/ram-vegiraju-81272b162/" rel="noopener ugc nofollow" target="_blank"> Linkedln </a>上与我联系，或者在<a class="ae ky" href="https://ram-vegiraju.medium.com/" rel="noopener"> Medium </a>上关注我，了解我的更多写作内容。分享任何想法或反馈，谢谢阅读！</p></div></div>    
</body>
</html>