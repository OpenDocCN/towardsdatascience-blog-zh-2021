<html>
<head>
<title>Statistics in Python — Generating Random Numbers in Python, NumPy, and sklearn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的统计—在Python、NumPy和sklearn中生成随机数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/statistics-in-python-generating-random-numbers-in-python-numpy-and-sklearn-60e16b2210ae?source=collection_archive---------12-----------------------#2021-09-27">https://towardsdatascience.com/statistics-in-python-generating-random-numbers-in-python-numpy-and-sklearn-60e16b2210ae?source=collection_archive---------12-----------------------#2021-09-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5fed" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">要在Python中生成随机数，您只需知道</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/34f8c716466c75e086f1cace5c524128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*B2TeuVwCqM99yNsD"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">纳赛尔·塔米米在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="a5f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生成随机数是编写应用程序时需要执行的常见任务之一。随机数有许多用途——从密码学到机器学习，随机数在使我们的应用程序正确工作方面发挥着极其重要的作用。</p><p id="9b25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一名Python程序员，当涉及到生成随机值时，您有太多的选择，因为有太多的方法可以做到这一点。然而，这种灵活性是有代价的——通常不太清楚何时使用什么。这正是我在这篇文章中想要解决的问题。</p><p id="0bbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文结束时，您将会对使用什么函数来生成您想要的随机数有一个更加清晰的了解。</p><h1 id="89b4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">用Python生成随机数</h1><p id="0af2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">要在Python中生成随机数，可以使用<strong class="lb iu"> random </strong>模块:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="ef94" class="mx lw it mt b gy my mz l na nb">import random</span></pre><p id="acd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要生成浮点随机数，请调用<strong class="lb iu"> random() </strong>函数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2a38" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">random.random</strong>()   # e.g. 0.49543508709194095</span></pre><p id="8249" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> random() </strong>函数在<em class="nc">半开区间</em>—<strong class="lb iu">【0，1】</strong>产生一个浮点数。这意味着生成的数字将从0到1(其中不包括1)。</p><p id="355d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想生成一个从0到10(包括0和10)的整数值，请使用<strong class="lb iu"> randint() </strong>函数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="416c" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">random.randint</strong>(0,10)  # [0,10] - 0 to 10 (inclusive) e.g. 6</span></pre><p id="f5fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想要一个特定范围内的随机浮点数(例如1到5(不含))，使用<strong class="lb iu"> uniform() </strong>函数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="302b" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">random.uniform</strong>(1,5)  # [1,5) e.g. 4.756596651114043</span></pre><p id="e617" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要生成特定范围内的随机整数值列表(如0到32(不含))<em class="nc">而不重复</em>值，使用<strong class="lb iu"> sample() </strong>函数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4780" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">random.sample</strong>(range(0, 32), 5)    # result is a list of 5 values <br/>                                  # from [0,32) with no repeats<br/># [12, 15, 26, 10, 7]</span></pre><blockquote class="nd ne nf"><p id="7c18" class="kz la nc lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated">对于像幸运抽奖这样需要从一个值列表中挑选一些获胜者的情况，函数<strong class="lb iu"> sample() </strong>非常有用。</p></blockquote><p id="b7f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果想要一个半开区间内随机浮点值的<em class="nc">列表</em>，可以通过list comprehension使用<strong class="lb iu"> random() </strong>函数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="818f" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">[random.random() for _ in range(5)]        </strong># [0, 1)<br/># [0.26800994395551214,<br/>#  0.3322334781304659,<br/>#  0.5058884832347348,<br/>#  0.2552912262686192,<br/>#  0.33885158106897195]</span></pre><p id="7b1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，如果您需要特定范围内的随机浮点值列表，您可以这样做:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="c072" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">[random.uniform(1,5) for _ in range(5)]  </strong>  # [1, 5)<br/># [1.4556516495709206,<br/>#  1.94075804553687,<br/>#  4.775979596495107,<br/>#  4.118159382173641,<br/>#  3.860434558608088]</span></pre><p id="3dfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，如果你需要生成一个随机整数列表，使用这个:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="cffe" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">[random.randint(0,10) for _ in range(5)]   </strong># [0,10]<br/># [3, 9, 8, 7, 10]</span></pre><h1 id="269a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用NumPy生成随机数</h1><p id="48dc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果您正在使用NumPy模块，您也可以使用它来生成随机数。random模块包含几个函数，允许你生成随机数。</p><p id="e7b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> uniform() </strong>函数在<em class="nc">半开</em>区间内生成一个浮点数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="06ac" class="mx lw it mt b gy my mz l na nb">import numpy as np</span><span id="d85e" class="mx lw it mt b gy nj mz l na nb"><strong class="mt iu">np.random.uniform()</strong>         # [0,1) e.g. 0.6603742810407641</span></pre><p id="2b79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以指定范围:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4cd0" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.uniform(1,5)</strong>      # [1,5) e.g. 2.1809140016758803</span></pre><p id="c9e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以及要生成的随机值的数量:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="75f2" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.uniform(1,5,8)    </strong>#<strong class="mt iu"> </strong>[1,5) x 8<br/># array([3.15101237, 3.52431302, 2.43564056, 4.22373224, <br/>#        1.82549706, 4.30782957, 2.1383488 , 3.71130947])</span></pre><p id="604f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以指定想要的结果形状:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="1574" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.uniform(1,5,(2,4))  </strong># [1,5) - result is a 2D array of <br/>                              # 2 rows and 4 columns<br/># array([[4.85777402, 2.41464442, 3.47972032, 3.61706258],<br/>#        [1.39591689, 2.41386733, 3.34813041, 3.13411887]])</span></pre><p id="8f4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果只是想在半开区间生成数字，还有一个函数可以用——<strong class="lb iu">rand()</strong>:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2c30" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.rand()</strong>      # [0,1) e.g. 0.11705786929477491</span></pre><p id="f758" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> rand() </strong>函数可以轻松生成各种维度的半开区间值:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2771" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.rand(5)     </strong># [0,1) x 5<br/># array([0.52310231, 0.87305847, 0.03870784, 0.69239079, 0.47626848])</span><span id="b830" class="mx lw it mt b gy nj mz l na nb"><strong class="mt iu">np.random.rand(2,3)   </strong># [0,1) in 2D<br/># array([[0.16926449, 0.06317189, 0.03222409],<br/>#        [0.24243086, 0.11270682, 0.40499002]])</span></pre><blockquote class="nd ne nf"><p id="50b1" class="kz la nc lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated"><strong class="lb iu"> rand() </strong>函数接受额外的参数作为返回结果的形状，而<strong class="lb iu"> uniform() </strong>函数接受三个参数——低、高和大小。</p></blockquote><p id="aa6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个类似于<strong class="lb iu"> rand() </strong>函数的函数是<strong class="lb iu"> random() </strong>。它也在半开区间产生数字。这两者之间的关键区别在于，<strong class="lb iu"> random() </strong>函数接受一个参数来表示要生成的数字的维数。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="a762" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.random(5)  </strong><br/># array([0.90351056, 0.96734226, 0.06753921, <br/>#        0.31758607, 0.69686297])</span><span id="9134" class="mx lw it mt b gy nj mz l na nb"><strong class="mt iu">np.random.random((2,3))  </strong># passed the dimension you want <br/>                         # as a tuple<br/># array([[0.04207297, 0.92656545, 0.93526291],<br/>#        [0.8104269 , 0.18834308, 0.58731822]])</span></pre><blockquote class="nd ne nf"><p id="1856" class="kz la nc lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated"><strong class="lb iu"> random() </strong>和<strong class="lb iu"> uniform() </strong>的区别在于<strong class="lb iu"> random() </strong>函数接受一个参数。所以如果要生成多维数组结果，就需要把形状包装成元组。</p></blockquote><p id="f026" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你需要一个随机的整数值，使用<strong class="lb iu"> randint() </strong>函数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="6cb5" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.randint(0,9)</strong>        # [0,9) e.g. 7</span></pre><p id="2435" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以生成多维的整数值列表:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="3056" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.randint(0,9,5)      </strong># [0,9) x 5<br/># array([3, 7, 3, 2, 8])</span><span id="cf2a" class="mx lw it mt b gy nj mz l na nb"><strong class="mt iu">np.random.randint(0,9,(4,5))  </strong># [0,9) in 2D array<strong class="mt iu">  </strong><br/># array([[5, 2, 4, 8, 0],<br/>#        [5, 2, 3, 7, 2],<br/>#        [6, 1, 2, 4, 7],<br/>#        [2, 3, 5, 8, 4]])</span></pre><h1 id="0d30" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">指定数字的分布</h1><p id="d861" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">到目前为止，我们生成的所有数字都是均匀分布的。</p><blockquote class="nd ne nf"><p id="c1a4" class="kz la nc lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated"><strong class="lb iu">均匀分布</strong>是一种连续的概率分布，与同样可能发生的事件有关。</p></blockquote><p id="e927" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着，如果您试图生成大量的值，那么生成任何值的机会应该是均等的。您可以通过尝试使用<strong class="lb iu"> random() </strong>函数生成一百万个值，然后将数字范围划分为25个区间，并计算每个区间中每个值的出现次数来看到这一点:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="1f0b" class="mx lw it mt b gy my mz l na nb">import matplotlib.pyplot as plt<br/>_ = plt.hist(np.random.random(1_000_000), bins = 25)</span></pre><p id="a7e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的语句显示了一个直方图，显示了一百万个数字的分布情况:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/632ee0b5607e0f653cb423b20a069805.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*b85JCcfOm0dLn7Ym39Q3MQ.png"/></div></figure><p id="f673" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想生成一个<em class="nc">正态分布</em>的数字列表，你可以使用<strong class="lb iu"> randn() </strong>函数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5600" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.randn(4,3)</strong><br/># array([[-0.58617287,  0.99765344,  1.00439116],<br/>#        [-0.45170132, -0.01265149,  0.75739522],<br/>#        [ 0.70970036, -0.1740791 ,  1.14584093],<br/>#        [ 1.2637344 ,  0.77962903, -0.97546801]])</span></pre><blockquote class="nd ne nf"><p id="e6d5" class="kz la nc lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated"><strong class="lb iu">正态分布</strong>，又称高斯分布，是一种关于均值对称的概率分布，大部分数据都聚集在均值附近。在图表上，正态分布显示为钟形曲线。</p></blockquote><p id="3d0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> randn() </strong>函数返回来自<em class="nc">标准正态分布</em>的样本值。在上面的代码片段中，<strong class="lb iu"> randn() </strong>函数返回2D数组中的结果。</p><blockquote class="nd ne nf"><p id="b5b7" class="kz la nc lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated"><strong class="lb iu">标准正态分布</strong>是均值为零、标准差为1的正态分布。对于标准正态分布，68.27%的观察值位于均值的1个标准差以内；95.45%位于平均值的两个标准差之内；99.73%位于平均值的3个标准偏差内。</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/c33d588f5292b6a6a896c4b672a2f510.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jmaOaWOmxG_XL8J2S4k2ZA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://en.wikipedia.org/wiki/Normal_distribution#/media/File:Standard_deviation_diagram.svg" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Normal _ distribution #/media/File:Standard _ deviation _ diagram . SVG</a></p></figure><p id="cf29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下示例生成正态分布的一百万个数字，然后用于绘制一个直方图，将这些数字分成50个区间:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="a912" class="mx lw it mt b gy my mz l na nb">_ = plt.hist(<strong class="mt iu">np.random.randn(1_000_000)</strong>, bins=50)</span></pre><p id="1dee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该会看到如下所示的内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/5b8f658fbd07415d2fe3ebc0eb72dbfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*AGRFGKorKy8oO1D0ET-slw.png"/></div></div></figure><h1 id="bd77" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">播种你的随机数生成器</h1><p id="8045" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">关于随机数的讽刺之处在于它们并不是真正随机的。相反，Python中的随机数生成器使用当前时间来生成随机数，因为每次运行代码来生成随机数时，时间都会改变，所以您会认为这些数字是真正随机的。但这不是我们大多数人关心的问题。相反，出于再现性的原因，我们经常希望确保生成的随机数是相同的，这样我们就可以在分析中始终得到相同的结果。</p><p id="c853" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您用Python生成随机数，请使用<strong class="lb iu"> seed() </strong>函数，传递一个整数值:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="d100" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">random.seed(1)              # pass in an integer value as the seed</strong><br/>random.sample(range(0, 32), 5)<br/># [8, 4, 16, 7, 31]</span></pre><p id="872c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码片段将总是生成相同的随机数列表。</p><p id="82e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果使用NumPy，使用<strong class="lb iu"> random.seed() </strong>函数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="3226" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">np.random.seed(2)</strong>           <strong class="mt iu"># pass in an integer value as the seed</strong><br/>np.random.uniform(0, 10, 5)<br/># [4.35994902 0.25926232 5.49662478 4.35322393 4.20367802]</span></pre><p id="0dba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">NumPy还附带了<strong class="lb iu"> RandomState </strong>类，您可以使用随机种子创建它的一个实例，然后使用它来生成不同类型的随机值:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="3f18" class="mx lw it mt b gy my mz l na nb">r = <strong class="mt iu">np.random.RandomState(1)   # pass in an integer value as the <br/>                               # seed</strong></span><span id="2aab" class="mx lw it mt b gy nj mz l na nb">print(r.uniform(0, 10, 5))     # [0,10)<br/># [4.17022005e+00 7.20324493e+00 1.14374817e-03 3.02332573e+00<br/>#  1.46755891e+00]</span><span id="ce24" class="mx lw it mt b gy nj mz l na nb">print(r.rand(2,3))             # [0,1)<br/># [[0.09233859 0.18626021 0.34556073]<br/>#  [0.39676747 0.53881673 0.41919451]]</span></pre><h1 id="4a3b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用sklearn生成随机数</h1><p id="6776" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">除了生成均匀分布或正态分布的随机数之外，有时还需要生成线性分布或围绕特定质心聚集的数。例如，您可能想要使用一组点来尝试线性回归，或者想要尝试一些用于无监督学习的聚类算法。</p><h2 id="be42" class="mx lw it bd lx nm nn dn mb no np dp mf li nq nr mh lm ns nt mj lq nu nv ml nw bi translated">生成线性分布的随机数</h2><p id="0e74" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您可以利用<strong class="lb iu">sk learn . datasets</strong>模块中的<strong class="lb iu"> make_regression() </strong>函数生成一组线性分布的点:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="827f" class="mx lw it mt b gy my mz l na nb">from sklearn.datasets import <strong class="mt iu">make_regression</strong><br/>import numpy as np</span><span id="63f4" class="mx lw it mt b gy nj mz l na nb">x, y = <strong class="mt iu">make_regression</strong>(n_samples=100, n_features=1, noise=12.3)</span></pre><p id="73ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> n_samples </strong>参数指定要生成多少个数字，<strong class="lb iu"> n_features </strong>指定要生成的列数，<strong class="lb iu"> noise </strong>表示应用于数字的标准偏差(它们分散了多少)。上面的代码片段将产生如下所示的输出:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="ae40" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">print(x)</strong><br/># [[ 1.20630427]<br/>#  [-1.02041981]<br/>#   ...<br/>#  [-0.95098556]<br/>#  [ 0.09247152]]</span><span id="2d50" class="mx lw it mt b gy nj mz l na nb"><strong class="mt iu">print(y)</strong><br/># [  66.34055577  -52.39063718   51.46433162  -12.56089116  <br/>#    10.62491393    8.00035735    4.80360232  -28.99765946   <br/>#    ...<br/>#    12.75554229    9.75147261    2.67890648  -32.4981596    <br/>#   -30.16046261   -4.56704054  -43.56250488   -9.30790306]</span></pre><p id="16fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">理解这些数字的更好方法是绘制一个散点图:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4f85" class="mx lw it mt b gy my mz l na nb">import matplotlib.pyplot as plt<br/>_ = plt.scatter(x, y)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/0c8657989516e70dada7adab3795060d.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*7t4lParaOrh7rGJ-u0f5RQ.png"/></div></figure><p id="9c22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果将噪波修改为更大的值:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0408" class="mx lw it mt b gy my mz l na nb">x, y = make_regression(n_samples=100, n_features=1, <strong class="mt iu">noise=19</strong>)<br/>_ = plt.scatter(x, y)</span></pre><p id="db68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将看到这些值现在更加分散:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/ed763725e7375165e626d75c4d0198fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*7EfA5BtoFO-U6HtZ0OSCLQ.png"/></div></figure><p id="71f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果把<strong class="lb iu"> n_features </strong>改成2呢？在这种情况下，<strong class="lb iu"> X </strong>将是一个2D阵列:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="1b95" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu">X</strong>, y = make_regression(n_samples=1000, <strong class="mt iu">n_features=2</strong>, noise=3)<br/><strong class="mt iu">print(X)</strong><br/># [[-0.10171443  1.59563406]<br/>#  [ 0.39154137 -0.21477808]<br/>#  [ 0.00732151  0.24783439]<br/>#  ...<br/>#  [-0.62820116  0.16688806]<br/>#  [-0.35656323 -1.1761519 ]<br/>#  [ 0.04589981  0.59696238]]</span></pre><p id="af2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可视化生成的随机数集合的一个好方法是使用<strong class="lb iu"> scatter3D() </strong>函数绘制一个3D散点图:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="8321" class="mx lw it mt b gy my mz l na nb">from sklearn.datasets import make_regression<br/>import numpy as np<br/>import matplotlib.pyplot as plt</span><span id="71d5" class="mx lw it mt b gy nj mz l na nb">X, y = make_regression(n_samples=1000, n_features=2, noise=3)</span><span id="84af" class="mx lw it mt b gy nj mz l na nb">fig = plt.figure(figsize=(13,13))<br/>ax = plt.axes(projection='3d')</span><span id="4249" class="mx lw it mt b gy nj mz l na nb"><strong class="mt iu">ax.scatter3D(X[:,0], X[:,1], y, c=y, cmap='Greens')</strong><br/>ax.set_xlabel('X[0]')<br/>ax.set_ylabel('X[1]')<br/>ax.set_zlabel('y')<br/>plt.show()</span></pre><blockquote class="nd ne nf"><p id="c99a" class="kz la nc lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated">Y <!-- -->您应该将上面的代码片段保存在一个名为<strong class="lb iu"> random_regression.py </strong>的文件中，并在命令提示符下运行它。然后，您将能够通过旋转它来可视化绘图。</p></blockquote><p id="95b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是从不同角度看的情节:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/443c5ba065f27a34abe2924e9283d9d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TKnX4sS9oG7D20LhiCQA1g.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/3dc4b016a89bbe64a53dfa5fa107e0ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_QfL_G7ocj4jJb448v7FVw.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/88c54467d4af1959ec3b67fc5f8048ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Re6_42qBQUJyF_uxHzhYHg.png"/></div></div></figure><h2 id="8a53" class="mx lw it bd lx nm nn dn mb no np dp mf li nq nr mh lm ns nt mj lq nu nv ml nw bi translated">对生成的随机数进行插值</h2><p id="3cfa" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">由<strong class="lb iu"> make_regression() </strong>生成的值可能不在您想要的范围内。例如，如果您想要生成一组点来显示一组人的身高和体重之间的关系。在这种情况下，您希望身高在148cm到185cm之间，体重在44kg到74kg之间。以下代码片段使用NumPy中的<strong class="lb iu"> interp() </strong>函数缩放<strong class="lb iu"> x </strong>和<strong class="lb iu"> y </strong>值:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0571" class="mx lw it mt b gy my mz l na nb">x, y = make_regression(n_samples=100, n_features=1, noise=2.6)</span><span id="12a6" class="mx lw it mt b gy nj mz l na nb"># scale x (e.g. height in cm) to 148..185 range<br/>x = np.interp(x, (x.min(), x.max()), (148, 185))</span><span id="aadc" class="mx lw it mt b gy nj mz l na nb"># scale y (e.g. weight in kg) to 44..74 range<br/>y = np.interp(y, (y.min(), y.max()), (44, 74))</span><span id="41d3" class="mx lw it mt b gy nj mz l na nb">plt.scatter(x, y)</span></pre><p id="4e94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">散点图证实了执行的插值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/3531ba35d6f8c02aca25adb1de5c2301.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*SbQzpn02q3sZMH1klI_44g.png"/></div></figure><h2 id="7439" class="mx lw it bd lx nm nn dn mb no np dp mf li nq nr mh lm ns nt mj lq nu nv ml nw bi translated">生成围绕质心聚集的随机数</h2><p id="3d12" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">很多时候，当你进行无监督学习时，你需要生成围绕几个质心的随机点。为此，您可以使用<strong class="lb iu"> sklearn.datasets </strong>模块中的<strong class="lb iu"> make_blobs() </strong>函数:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="a410" class="mx lw it mt b gy my mz l na nb">from sklearn.datasets import make_blobs</span><span id="7f0d" class="mx lw it mt b gy nj mz l na nb">X, y = make_blobs(n_samples = 500, <br/>                  centers = 3,<br/>                  n_features = 2)</span></pre><p id="caa4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码片段返回500对随机数(包含在X中), y包含每个点所在的类:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="3ca2" class="mx lw it mt b gy my mz l na nb">print(X)<br/># [[ -9.86754851   9.27779819]<br/>#  [-11.50057906   8.88609894]<br/>#  ...<br/>#  [ -5.96056302  -3.21866963]<br/>#  [-10.38173377   8.82254368]]</span><span id="0d7b" class="mx lw it mt b gy nj mz l na nb">print(y)<br/># [2 2 0 1 2 2 0 1 2 1 1 1 0 2 <br/>#  1 1 2 1 1 1 2 2 0 1 1 1 1 1 <br/>#  ...<br/>#  2 0 0 0 2 0 1 0 2 2 1 2 1 2<br/>#  2 1 2 2 1 1 1 0 0 0 2 1 2 1]</span></pre><p id="b00d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像往常一样，视觉化总是让事情变得更加清晰:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="1d28" class="mx lw it mt b gy my mz l na nb">rgb = np.array(['r', 'g', 'b'])</span><span id="744a" class="mx lw it mt b gy nj mz l na nb"># plot the blobs using a scatter plot and use color coding<br/>_ = plt.scatter(X[:, 0], X[:, 1], color=rgb[y])<br/>plt.xlabel('X[0]')<br/>plt.ylabel('X[1]')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/1861f78cd0ec3e433fb5f5ffc50f9670.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*L8nju6GdZdrtwjOoIVUX4w.png"/></div></figure><p id="6af2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3D点怎么样？当然，只需将<strong class="lb iu"> n_features </strong>设置为3，并使用<strong class="lb iu"> scatter3D() </strong>函数绘图:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="733b" class="mx lw it mt b gy my mz l na nb">from sklearn.datasets import make_blobs<br/>import numpy as np<br/>import matplotlib.pyplot as plt</span><span id="2726" class="mx lw it mt b gy nj mz l na nb">X, y = make_blobs(n_samples = 1500, <br/>                  centers = 3,<br/><strong class="mt iu">                  n_features = 3</strong>)</span><span id="fe47" class="mx lw it mt b gy nj mz l na nb">fig = plt.figure(figsize=(13,13))<br/>ax = plt.axes(projection='3d')<br/>ax.scatter3D(<strong class="mt iu">X[:,0], X[:,1], X[:,2]</strong>, c = y, cmap = 'tab20b')<br/>ax.set_xlabel('X[0]')<br/>ax.set_ylabel('X[1]')<br/>ax.set_zlabel('y')</span><span id="da1a" class="mx lw it mt b gy nj mz l na nb">plt.show()</span></pre><blockquote class="nd ne nf"><p id="4922" class="kz la nc lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated">Y <!-- -->你应该将上面的代码片段保存在一个名为<strong class="lb iu"> random_blobs.py </strong>的文件中，并在命令提示符下运行它。然后，您将能够通过旋转它来可视化绘图。</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/2712b810462bb6a15afea5f5832000ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PJ8mMCO8zWKpu3TDC1P68g.png"/></div></div></figure><p id="6a19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了再现性，将<strong class="lb iu">随机状态</strong>参数设置为一个值:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="7eeb" class="mx lw it mt b gy my mz l na nb">X, y = make_blobs(n_samples = 1500, <br/>                  centers = 3,<br/>                  n_features = 3,<br/><strong class="mt iu">                  random_state = 0</strong>)</span></pre><h1 id="d6e3" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">摘要</h1><p id="8196" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">唷，看起来在Python中有很多不同的方法来生成随机数。最好的记忆方法是用它来参考下面这篇文章中我们讨论过的函数的总结。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/083604e8e89d73dad2033c1a325a9e92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zkwh_hdOwULpywGM2nWLvg.png"/></div></div></figure><p id="ca24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我错过了什么重要的功能吗？请在评论中告诉我！</p></div></div>    
</body>
</html>