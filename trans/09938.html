<html>
<head>
<title>Building a Chatbot with Rasa</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Rasa构建聊天机器人</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-chatbot-with-rasa-3f03ecc5b324?source=collection_archive---------1-----------------------#2021-09-19">https://towardsdatascience.com/building-a-chatbot-with-rasa-3f03ecc5b324?source=collection_archive---------1-----------------------#2021-09-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="863d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">入门指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/975fa38a0efa0383e49fc225ceace1c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KiLZJ0VQ2601D-SnwJWpoA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="cb82" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">聊天机器人是模拟人类对话的程序。这些机器人可以是简单的基于规则的聊天机器人，用户只能点击按钮或机器人提供的建议回复，也可以是成熟的机器人，可以处理上下文、聊天和其他复杂的事情，这些在人类对话中非常常见。</p><p id="51fb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">从数量上来说，对话式人工智能有5个层次，从简单的基于规则的系统到真正自适应的聊天机器人，它们可以处理复杂的场景，比如当用户甚至不确定他们想要什么时，可以根据他们想要的详细程度来回复用户。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="4e20" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">Table of Contents</strong><br/><br/>- Rasa<br/>- Intents, Entities, Slots and Responses<br/>- Setting up Rasa<br/>- Creating training data<br/>- Building our bot -- training and testing</span></pre></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="f04f" class="mj lx iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">罗砂</h1><p id="e41e" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">Rasa是一个开源框架，用于构建基于文本和语音的聊天机器人。它在对话式人工智能的第3层工作，机器人可以理解上下文。第三级对话代理可以处理诸如用户改变主意、处理上下文甚至意外查询之类的事情。</p><p id="b441" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你想建立一个聊天机器人，Rasa不是唯一可用的工具，但它是最好的工具之一。还有其他几个，像DialogFlow，虽然我们不会在这篇文章中讨论它们。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="e873" class="mj lx iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">意图、实体、位置和响应</h1><p id="01b8" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">这些是任何聊天机器人对话的主要组成部分。我们将通过一个示例对话来更好地理解这些术语。假设我们正在构建一个收集用户联系信息的机器人。</p><h2 id="aed0" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">意图</h2><p id="4882" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">用户所暗示的被称为<code class="fe nq nr ns ls b">intent</code>。例如，如果用户说出以下内容之一来开始聊天:</p><ul class=""><li id="421a" class="nt nu iq kx b ky kz lb lc le nv li nw lm nx lq ny nz oa ob bi translated">早上好！</li><li id="a360" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">嗨！</li><li id="e886" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">嘿！</li><li id="5e82" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">你好。</li></ul><p id="d8f0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">用户本质上是在说问候。因此，我们可以将这些组合成一个称为<code class="fe nq nr ns ls b">greet</code>的单一意图。现在，每当机器人收到类似于<code class="fe nq nr ns ls b">greet</code>中其他短语的用户消息，机器人就会将其归类为属于<code class="fe nq nr ns ls b">greet</code>意图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/ad49bdfd8d37ae54d6007cb55781636c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3idq0J3WiU8SfsvrtnWJOg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">意图示例—作者提供的图片</p></figure><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="c998" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">user</strong>: Hi. (bot classifies this message as "greet")</span></pre><h2 id="12a8" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">实体</h2><p id="8010" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">实体是可以从用户消息中提取的数据片段。</p><p id="8aed" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">继续我们的例子，在用户问候机器人之后，机器人询问他们的联系信息。大概是这样的:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="7b9b" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">user</strong>: Hi.    (bot classifies this message as "greet")<br/><strong class="ls ir">bot</strong>: Hello! Could you please provide your contact information?</span></pre><p id="318c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后，用户将输入他们的详细信息，如他们的姓名和电子邮件id。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="90f0" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">user</strong>: Sure. It's John Doe. My email is johndoe@email.com.</span></pre><p id="e537" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">上面的消息包含两条信息——姓名和电子邮件。这些可以被提取为实体。你的机器人将根据你训练数据的质量提取它们。</p><p id="70e5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">假设您已经为姓名和电子邮件定义了两个实体。这是机器人将提取的内容。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="07aa" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">name</strong>: John Doe<br/><strong class="ls ir">email</strong>: johndoe@email.com</span></pre><p id="c476" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里的一个重要问题是:机器人如何知道要提取什么？用户可以潜在地输入信息的任意组合。所有这些都是有效的用户输入:</p><ul class=""><li id="548f" class="nt nu iq kx b ky kz lb lc le nv li nw lm nx lq ny nz oa ob bi translated">我叫约翰·多伊。电子邮件:johndoe@gmail.com</li><li id="79e4" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">姓名:无名氏电子邮件:johndoe@gmail.com</li><li id="5501" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">是啊，当然。我是无名氏。我的电子邮件是johndoe@gmail.com。</li><li id="6b8e" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">约翰·多伊，johndoe@gmail.com</li></ul><p id="4684" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">人类可以很容易地提取姓名和电子邮件id。但是聊天机器人是怎么做到的呢？</p><p id="f09c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个问题的答案在于我们的训练数据有多好，我们稍后会谈到这一点。</p><h2 id="0a86" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">时间</h2><p id="6913" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">插槽是机器人的记忆。任何需要在整个对话中保持的信息，比如用户的名字或者他们的目的地(如果你正在构建一个机票预订机器人),都应该存储为slots。</p><p id="d8fe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">由于我们已经有了两个实体(姓名和电子邮件)，我们可以创建具有相同名称的槽，因此当提取姓名或电子邮件id时，它们会自动存储在各自的槽中。这是因为默认情况下有两个属性是<code class="fe nq nr ns ls b">True</code>。</p><ul class=""><li id="7278" class="nt nu iq kx b ky kz lb lc le nv li nw lm nx lq ny nz oa ob bi translated"><code class="fe nq nr ns ls b">auto_fill</code></li><li id="c653" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated"><code class="fe nq nr ns ls b">store_entities_as_slots</code></li></ul><p id="a734" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将如何设置这些位置，我们将在稍后讨论。</p><h2 id="154c" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">反应</h2><p id="d4ca" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">响应是机器人对用户说的话。自然，对于一个机器人来说，要给出一个适当的响应，它必须弄清楚用户想要说什么。</p><p id="4953" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我们的例子中，当用户向机器人打招呼时，它理解消息本身，并通过问好和询问他们的联系方式做出适当的响应。</p><p id="36e0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">继续我们的示例对话，在机器人提供他们的信息后，假设我们对机器人进行编程，让它在用户提供他们的详细信息后说“谢谢”。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="1528" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">user:</strong> Hi.    (bot classifies this message as "greet")<br/><strong class="ls ir">bot</strong>: Hello! Could you please provide your contact information?<br/><strong class="ls ir">user</strong>: Sure. It's John. My email is john@email.com.<br/><strong class="ls ir">bot</strong>: Thanks John for the info!</span></pre></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="aaae" class="mj lx iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">一些先决条件</h1><ol class=""><li id="ba94" class="nt nu iq kx b ky na lb nb le oi li oj lm ok lq ol nz oa ob bi translated">使用<code class="fe nq nr ns ls b">pip install rasa==2.6.2</code>安装Rasa开源</li></ol><blockquote class="om on oo"><p id="7d28" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">你可以安装最新的版本，但是这篇文章是基于v2.6.2的，所以任何v2.x都应该可以很好地适应这里介绍的内容。</p></blockquote><p id="ae71" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">2.运行<code class="fe nq nr ns ls b">rasa init</code>来设置演示项目。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="0d8a" class="mj lx iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">创建培训数据</h1><p id="ebb9" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">回到我们的问题，如何创建能够以多种形式提取有用信息的机器人。</p><p id="f140" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这对我们来说很容易，因为我们得到了自然语言的语义，但聊天机器人做不到这一点。机器人不知道“电子邮件”是什么。它也不知道约翰可能是一个名字，电子邮件包含“@”符号。</p><p id="bba3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们的目标是提供各种数据，以便机器人能够理解单词之间的一些关联，比如单词“email”后面的内容可能是电子邮件id，或者形式为<code class="fe nq nr ns ls b">&lt;some_text&gt;@&lt;some_text&gt;.com</code>的单词可能是电子邮件。</p><p id="5852" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当然，不可能涵盖所有场景，但我们可以教会聊天机器人最常见的场景，确保我们添加了通用的单词和短语，这些单词和短语可能代表了机器人可能看到的很大一部分信息。</p><p id="abed" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如你可能猜到的，这更多的是一个迭代过程，我们评估我们的机器人在现实世界中的性能，并使用它来提高其性能。</p><h2 id="3ae2" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">密码</h2><p id="579a" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">我们会一个文件一个文件的来，这样更容易理解。出于本文的目的，我们将讨论三个文件:</p><ul class=""><li id="263d" class="nt nu iq kx b ky kz lb lc le nv li nw lm nx lq ny nz oa ob bi translated"><code class="fe nq nr ns ls b">nlu.yml</code></li><li id="3fc3" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated"><code class="fe nq nr ns ls b">domain.yml</code></li><li id="b386" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated"><code class="fe nq nr ns ls b">stories.yml</code></li></ul><h2 id="b7bd" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">NLU培训数据</h2><p id="d9c4" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">为了<code class="fe nq nr ns ls b">supply_contact_info</code>的意图，我们来处理下面的案例。</p><ul class=""><li id="92de" class="nt nu iq kx b ky kz lb lc le nv li nw lm nx lq ny nz oa ob bi translated">我叫约翰·多伊。电子邮件:johndoe@gmail.com</li><li id="190f" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">姓名:无名氏电子邮件:johndoe@gmail.com</li><li id="2e82" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">是啊，当然。我是无名氏。我的电子邮件是johndoe@gmail.com。</li><li id="d3f1" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">约翰·多伊，johndoe@gmail.com</li><li id="8583" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">当然可以。是无名氏。我的电子邮件是johndoe@email.com。</li></ul><p id="c7a7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">这个训练数据被称为NLU数据</strong>，它包含了我们期望从用户那里得到的短语和对话(<code class="fe nq nr ns ls b">intents</code>)。请注意，这不包括机器人的响应或我们的对话流程。这将存在于我们项目的一个单独的部分。</p><p id="fb0a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">YAML文件用于此目的。</p><h2 id="a29e" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">添加意图— nlu.yml</h2><p id="5209" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">接下来，我们将为这个意图命名。姑且称之为<code class="fe nq nr ns ls b">supply_contact_info</code>。</p><p id="4e8a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">用这个替换<code class="fe nq nr ns ls b">nlu.yml</code>的内容。改变名称和电子邮件id本身是一个好主意，这样机器人可以更好地概括。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="da8e" class="lw lx iq ls b gy ly lz l ma mb">version: "2.0"<br/>nlu:</span><span id="15a9" class="lw lx iq ls b gy ot lz l ma mb">- intent: supply<!-- -->_contact_info<br/>  <!-- -->examples: |<br/>    - My name is John. email's john@gmail.com<br/>    - name: David email: david@email.com<br/>    - Yeah sure. I’m Barbara. My email is barbara@email.com.<br/>    - Susan, susan@email.com<br/>    - Sure. It's Fred. My email is fred@email.com.</span></pre><p id="7da2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe nq nr ns ls b">version</code>键是指rasa支持的训练数据格式。所有<code class="fe nq nr ns ls b">2.x</code>版本的Rasa都支持<code class="fe nq nr ns ls b">2.0</code>。</p><h2 id="53fe" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">标记实体nlu.yml</h2><p id="5eb6" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">上面的NLU数据会让机器人知道用户可以说什么。但是我们仍然没有标记任何<code class="fe nq nr ns ls b">entities</code>，这是一个快速提醒，是机器人应该收集的关键信息。</p><p id="32a6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">首先，让我们定义一些实体。让我们创造性地将表示客户名称的实体称为<code class="fe nq nr ns ls b">name</code>。类似地，对于电子邮件，我们将使用一个名为<code class="fe nq nr ns ls b">email</code>的实体。</p><p id="4599" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">标记实体的语法是<code class="fe nq nr ns ls b">[entity_value](entity_name)</code>。所以对于这条线:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="6d1d" class="lw lx iq ls b gy ly lz l ma mb">My name is John. email's john@email.com</span></pre><p id="731c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们把它写成:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="f7e3" class="lw lx iq ls b gy ly lz l ma mb">My name is [John](name). email's [john@email.com](email)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/74bee9500c4b87cd2f21b5790b72fa77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DAyYm7V5CRgcBfViJaOGdQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">标记实体-按作者分类的图像</p></figure><p id="4431" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这样，我们最终得到了用于<code class="fe nq nr ns ls b">supply_contact_info</code>目的的最终NLU数据。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="1d45" class="lw lx iq ls b gy ly lz l ma mb">version: "2.0"<br/>nlu:</span><span id="f05e" class="lw lx iq ls b gy ot lz l ma mb">- intent: supply_contact_info<br/>  examples: |<br/>    - My name is [John](name). email's [john@email.com](email)<br/>    - name: [David](name) email: [david@email.com](email)<br/>    - Yeah sure. I'm [Barbara](name). My email is [barbara@email.com](email)<br/>    - [Susan](name), [susan@email.com](email)<br/>    - Sure. It's [Fred](name). My email is [fred@email.com](email).</span></pre><p id="e37d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们还有另一个意图，叫做<code class="fe nq nr ns ls b">greet</code>意图，当用户开始对话并说“嗨”或“你好”之类的话时。<strong class="kx ir">最后，</strong> <code class="fe nq nr ns ls b"><strong class="kx ir">nlu.yml</strong></code> <strong class="kx ir">应该是这个样子。</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="2fa8" class="lw lx iq ls b gy ly lz l ma mb">nlu:</span><span id="6f65" class="lw lx iq ls b gy ot lz l ma mb">- intent: greet<br/>  examples: |<br/>    - hi<br/>    - hello</span><span id="d6cb" class="lw lx iq ls b gy ot lz l ma mb">- intent: supply_contact_info<br/>  examples: |<br/>    - My name is [John](name). email's [john@email.com](email)<br/>    - name: [David](name) email: [david@email.com](email)<br/>    - Yeah sure. I'm [Barbara](name). My email is [barbara@email.com](email)<br/>    - [Susan](name), [susan@email.com](email)<br/>    - Sure. It's [Fred](name). My email is [fred@email.com](email).</span></pre><h2 id="071b" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">添加插槽— domain.yml</h2><p id="f9a2" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">现在我们有了意图和实体，我们可以添加我们的插槽。</p><p id="22ab" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">头到文件<code class="fe nq nr ns ls b">domain.yml</code>。用这个替换<code class="fe nq nr ns ls b">slots</code>键的内容。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="5bf2" class="lw lx iq ls b gy ly lz l ma mb">slots:<br/>  name:<br/>    type: text<br/>  email:<br/>    type: text</span></pre><p id="ff85" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因为姓名和电子邮件都是字符串，所以我们将类型设置为<code class="fe nq nr ns ls b">text</code>。</p><h2 id="e27b" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">添加响应domain.yml</h2><p id="f923" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">就像我们想要抽象出用户想说什么一样，我们也有反应来代表机器人会说什么。</p><p id="a632" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">简单的响应是基于文本的，尽管Rasa允许您添加更复杂的功能，如按钮、备选响应、特定于频道的响应，甚至自定义操作，我们将在后面介绍。</p><p id="68f9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我们的例子中，在用户问候机器人(<code class="fe nq nr ns ls b">intent: greet</code>)之后，机器人向用户询问他们的联系信息。这可以表示为机器人响应或发声。按照惯例，我们在每个机器人发声前添加一个“绝对”前缀——就像这样:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="8edd" class="lw lx iq ls b gy ly lz l ma mb">utter_ask_for_contact_info</span></pre><p id="2839" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">用我们的响应替换<code class="fe nq nr ns ls b">domain.yml</code>中<code class="fe nq nr ns ls b">responses</code>键的内容。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="7535" class="lw lx iq ls b gy ly lz l ma mb">responses:</span><span id="055a" class="lw lx iq ls b gy ot lz l ma mb">utter_ask_for_contact_info:<br/>- text: Hello! Could you please provide your contact information?</span></pre><p id="0423" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">类似地，我们可以在用户提供他们的信息后添加响应。姑且称之为:<code class="fe nq nr ns ls b">utter_acknowledge_provided_info</code>(粗体，如下)。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="7b3e" class="lw lx iq ls b gy ly lz l ma mb">responses:</span><span id="5154" class="lw lx iq ls b gy ot lz l ma mb">utter_ask_for_contact_info:<br/>- text: Hello! Could you please provide your contact information?</span><span id="5dc5" class="lw lx iq ls b gy ot lz l ma mb"><strong class="ls ir">utter_acknowledge_provided_info</strong><strong class="ls ir">:<br/>- text: Thanks for provided your info!</strong></span></pre><p id="b1dc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们可以通过在确认信息中提到用户的名字来让用户体验稍微好一点，比如“谢谢John提供的信息！”</p><p id="7e9e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为此，我们将修改上面的<code class="fe nq nr ns ls b">utter_acknowledge_provided_info</code>，为<code class="fe nq nr ns ls b">name</code>插槽添加一个占位符，如下所示:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="ae04" class="lw lx iq ls b gy ly lz l ma mb">utter_acknowledge_provided_info<!-- -->:<br/>- text: Thanks {name} for provided your info!</span></pre></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/3fc2b2ab9105e12b4b8f5f2b7d2c1705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lxj7XmIHMnTq1i2VcwpYkw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">对话示例—作者提供的图片</p></figure><h1 id="df69" class="mj lx iq bd mk ml ov mn mo mp ow mr ms jw ox jx mu jz oy ka mw kc oz kd my mz bi translated">故事</h1><p id="99df" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">故事让我们的机器人知道对话应该如何进行。回到我们的例子，机器人向用户询问他们的联系方式，对话是这样的:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="5b80" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">user:</strong> Hi.    (bot classifies this message as "greet")<br/><strong class="ls ir">bot</strong>: Hello! Could you please provide your contact information?<br/><strong class="ls ir">user</strong>: Sure. It's John. My email is john@email.com.<br/><strong class="ls ir">bot</strong>: Thanks John for the info!</span></pre><p id="8cbf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这可以分解为如下的意图和回应:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="9524" class="lw lx iq ls b gy ly lz l ma mb">intent: greet<br/>action: utter_ask_for_contact_info<br/>intent: supply_contact_info<br/>action: utter_acknowledge_provided_info</span></pre><h2 id="dc90" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">添加故事— <code class="fe nq nr ns ls b">stories.yml</code></h2><p id="6345" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">让我们把这个变成rasa能理解的语法。用这里将要讨论的内容替换文件<code class="fe nq nr ns ls b">stories.yml</code>的内容。让我们称这个故事为“用户提供客户信息”。</p><blockquote class="om on oo"><p id="fb92" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">故事名称不会影响机器人的工作方式。</p></blockquote><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="c8b1" class="lw lx iq ls b gy ly lz l ma mb">version: "2.0"</span><span id="cf81" class="lw lx iq ls b gy ot lz l ma mb">stories:<br/>- story: user supplies customer info<br/>  steps:<br/>  - intent: greet<br/>  - action: utter_ask_for_contact_info<br/>  - intent: supply_contact_info<br/>  - action: utter_acknowledge_provided_info</span></pre><p id="b991" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是还有一件事。</p><p id="55e9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们还必须指出用户意图可能提供的实体，这样机器人就更容易知道如何响应。</p><p id="5f4f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在意图下，只需列出可能出现在该意图中的实体。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="b88b" class="lw lx iq ls b gy ly lz l ma mb">version: "2.0"</span><span id="11ce" class="lw lx iq ls b gy ot lz l ma mb">stories:<br/>- story: user supplies customer info<br/>  steps:<br/>  - intent: greet<br/>  - action: utter_ask_for_contact_info<br/><strong class="ls ir">  - intent: supply_contact_info<br/>    entities:<br/>    - name<br/>    - email<br/>  </strong>- action: utter_acknowledge_provided_info</span></pre></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="bbf3" class="mj lx iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">建造我们的机器人</h1><p id="22b5" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">现在我们已经准备好了数据和故事，我们必须遵循一些步骤来让我们的机器人运行起来。</p><h2 id="4909" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">代码设置</h2><p id="0e46" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">我们对演示机器人中的文件做了一些修改。让我们回顾一下。</p><p id="735f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe nq nr ns ls b"><strong class="kx ir">nlu.yml</strong></code> <strong class="kx ir"> —保存我们模型的NLU训练数据</strong></p><p id="2c19" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这个文件中，我们为我们的两个目的保留标记数据:</p><ul class=""><li id="4d5a" class="nt nu iq kx b ky kz lb lc le nv li nw lm nx lq ny nz oa ob bi translated"><code class="fe nq nr ns ls b">supply_contact_info</code></li><li id="0c62" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated"><code class="fe nq nr ns ls b">greet</code></li></ul><p id="7177" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe nq nr ns ls b"><strong class="kx ir">stories.yml</strong></code> <strong class="kx ir"> —让机器人知道对话应该如何进行</strong></p><p id="8161" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们的单<code class="fe nq nr ns ls b">story</code>就设在这里。</p><p id="54ed" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe nq nr ns ls b"><strong class="kx ir">domain.yml</strong></code> <strong class="kx ir"> —所有意图、响应和实体的完整信息</strong></p><p id="cc3d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个文件比其他两个文件稍微复杂一点。如果你看看演示机器人(post running <code class="fe nq nr ns ls b">rasa init</code>)提供的<code class="fe nq nr ns ls b">domain.yml</code>文件，你会注意到<code class="fe nq nr ns ls b">intents</code>、<code class="fe nq nr ns ls b">actions</code>、<code class="fe nq nr ns ls b">responses</code>、<code class="fe nq nr ns ls b">entities</code>等键。</p><p id="febe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们已经在我们的<code class="fe nq nr ns ls b">domain.yml</code>中添加了<code class="fe nq nr ns ls b">slots</code>和<code class="fe nq nr ns ls b">responses</code>。我们现在需要做的就是提到我们的<code class="fe nq nr ns ls b">intents</code>和<code class="fe nq nr ns ls b">entities</code>。最后，该文件将如下所示:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="d627" class="lw lx iq ls b gy ly lz l ma mb">version: '2.0'</span><span id="981d" class="lw lx iq ls b gy ot lz l ma mb">intents:<br/>- greet<br/>- supply_contact_info</span><span id="98fe" class="lw lx iq ls b gy ot lz l ma mb">entities:<br/>- name<br/>- email</span><span id="ee0f" class="lw lx iq ls b gy ot lz l ma mb">slots:<br/>  name:<br/>    type: text<br/>  email:<br/>    type: text</span><span id="329a" class="lw lx iq ls b gy ot lz l ma mb">responses:<br/>  utter_ask_for_contact_info:<br/>  - text: Hello! Could you please provide your contact information?<br/>  utter_acknowledge_provided_info:<br/>  - text: Thanks {name}, for the info!</span></pre><h2 id="7d22" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">训练机器人</h2><p id="7767" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated"><strong class="kx ir">验证数据</strong></p><p id="5120" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在训练机器人之前，一个好的做法是检查故事和规则中的任何不一致，尽管在这么简单的项目中，这不太可能发生。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="93d7" class="lw lx iq ls b gy ly lz l ma mb">$ rasa data validate</span></pre><p id="2701" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">截断的输出如下所示。没有发现冲突，所以我们可以很好地训练我们的模型。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="3c76" class="lw lx iq ls b gy ly lz l ma mb">The configuration for policies and pipeline was chosen automatically. It was written into the config file at 'config.yml'.<br/>2021-09-12 18:36:07 INFO     rasa.validator  - Validating intents...<br/>2021-09-12 18:36:07 INFO     rasa.validator  - Validating uniqueness of intents and stories...<br/><br/>  ...<br/><br/>2021-09-12 18:36:08 INFO     rasa.validator  - No story structure conflicts found.</span></pre><blockquote class="om on oo"><p id="a3ab" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">注意:您可能会收到以下警告:</p><p id="6bfe" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">UserWarning: model_confidence设置为“softmax”。建议尝试使用“model_confidence=linear_norm”来更容易地调整回退阈值。</p><p id="b307" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated"><strong class="kx ir">这只是一个建议，可以忽略。</strong></p></blockquote><p id="20b2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">培训</strong></p><p id="2ca7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了训练机器人，我们只需使用<code class="fe nq nr ns ls b">rasa train</code>命令。为了更好地组织，我们将为模型提供一个名称，但这不是必需的。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="4ac6" class="lw lx iq ls b gy ly lz l ma mb">$ rasa train --fixed-model-name contact_bot</span></pre><p id="5377" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个的输出要大得多，所以我不会在这里展示。</p><blockquote class="om on oo"><p id="926e" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">注意:您可能会收到以下警告:</p><p id="77f0" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">用户警告:在您的管道中找到基于规则的策略，但没有基于规则的培训数据。请将基于规则的案例添加到您的培训数据中，或者从您的pipeline中删除基于规则的策略(` RulePolicy `)。</p><p id="37f3" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">我们不会在这篇文章中讨论规则，但它们本质上就是它们听起来的样子。它们需要一个称为RulePolicy的东西，默认情况下，它会添加到您的bot管道中。暂时可以忽略。这将在以后的帖子中讨论。</p></blockquote><h2 id="cff0" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">和我们的机器人聊天</h2><p id="d3de" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">与我们的新机器人聊天很简单。打开一个新的终端窗口并启动一个rasa shell。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="793a" class="lw lx iq ls b gy ly lz l ma mb">$ rasa shell</span></pre><p id="67f2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这将让你在终端上与你的机器人聊天。但是如果你想清理UI和更多的信息，比如识别了什么意图，提取了什么实体，你可以使用<strong class="kx ir"> Rasa X. </strong></p><p id="1b86" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">关于Rasa X有一点很简单:它可以让你测试你的机器人，修复机器人的错误响应，更重要的是，你可以和其他人分享你的机器人，以更好地了解它在现实世界中的表现。</p><p id="70a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">要使用它，请在本地模式下安装它。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="5a69" class="lw lx iq ls b gy ly lz l ma mb">$ pip3 install rasa-x --extra-index-url https://pypi.rasa.com/simple</span></pre><p id="834d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后，运行它。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="31e3" class="lw lx iq ls b gy ly lz l ma mb">$ rasa x</span></pre><p id="07c8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">前往左边菜单中的“与你的机器人交谈”,开始与你的机器人交谈。</p><p id="c8e5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面，你可以看到我们的机器人表现如何。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/db2ed4963c2be1df9635a5eb19db0083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EjfAlh47Pwb03fD2sMiT-g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Rasa X中与我们的机器人对话——图片由作者提供</p></figure><h2 id="cccc" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">注意</h2><p id="88ab" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">在上面的对话中，除了对话，你会注意到一些灰色的信息。在每条用户消息下面，您可以看到用户消息的意图和可信度，以及提取了哪些实体。</p><p id="6bae" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在每条bot消息的上方，您可以看到bot以什么样的信心决定采取什么样的行动，以及设置了什么样的槽。</p><p id="46e4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe nq nr ns ls b">action_listen</code>是一个内置动作，意味着聊天机器人需要用户输入。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="5b89" class="mj lx iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">示例代码和资源</h1><p id="2cd8" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">本文中使用的所有代码都可以在以下位置获得:</p><div class="pb pc gp gr pd pe"><a href="https://github.com/Polaris000/BlogCode/tree/main/RasaChatbot" rel="noopener  ugc nofollow" target="_blank"><div class="pf ab fo"><div class="pg ab ph cl cj pi"><h2 class="bd ir gy z fp pj fr fs pk fu fw ip bi translated">博客代码/RasaChatbot Polaris 000/博客代码</h2><div class="pl l"><h3 class="bd b gy z fp pj fr fs pk fu fw dk translated">示例代码来自我在Medium和我的个人网站上的博客文章。- BlogCode/RasaChatbot在主北极星000/BlogCode</h3></div><div class="pm l"><p class="bd b dl z fp pj fr fs pk fu fw dk translated">github.com</p></div></div><div class="pn l"><div class="po l pp pq pr pn ps kp pe"/></div></div></a></div><h2 id="0579" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">链接</h2><ul class=""><li id="852e" class="nt nu iq kx b ky na lb nb le oi li oj lm ok lq ny nz oa ob bi translated"><a class="ae pt" href="https://rasa.com/" rel="noopener ugc nofollow" target="_blank">拉莎</a></li><li id="eeba" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated"><a class="ae pt" href="https://rasa.com/blog/5-levels-of-conversational-ai-2020-update/" rel="noopener ugc nofollow" target="_blank"> 5级对话人工智能</a></li></ul></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="0895" class="mj lx iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">最后</h1><p id="d58e" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">Rasa是对话式人工智能的一个伟大工具。它的灵活性和定制深度使它成为一个很好的工具选择。在这篇文章中，我们制作的机器人非常简单。</p><p id="868a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有很多东西我无法在一篇文章中描述，比如动作、表单、规则、正则表达式、同义词、交互式学习、配置文件、管道等等。但是这篇文章中的内容应该足以让你开始。</p><p id="05b6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将在以后的文章中介绍其余的内容。我会在这里添加所有未来帖子的链接。希望有帮助！</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h2 id="ecf3" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">该系列的下一部分</h2><blockquote class="om on oo"><p id="2fc1" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">第二部分:<a class="ae pt" rel="noopener" target="_blank" href="/are-slots-and-entities-the-same-f98a38ac328d">槽和实体一样吗？</a></p><p id="44a2" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">第三部分:<a class="ae pt" rel="noopener" target="_blank" href="/handling-chatbot-failure-gracefully-466f0fb1dcc5">处理聊天机器人故障</a></p><p id="1df4" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi translated">第四部分:<a class="ae pt" rel="noopener" target="_blank" href="/how-do-chatbots-understand-87227f9f96a7">聊天机器人如何理解？</a></p></blockquote></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h2 id="b97e" class="lw lx iq bd mk nf ng dn mo nh ni dp ms le nj nk mu li nl nm mw lm nn no my np bi translated">更新</h2><blockquote class="om on oo"><p id="ca64" class="kv kw op kx b ky kz jr la lb lc ju ld oq lf lg lh or lj lk ll os ln lo lp lq ij bi">20.3.2022</p></blockquote><p id="335f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">向该系列的其余部分添加链接</p></div></div>    
</body>
</html>