<html>
<head>
<title>Making Decisions with Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用数据科学制定决策</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/making-decisions-with-data-science-36fae52ccfab?source=collection_archive---------21-----------------------#2021-05-27">https://towardsdatascience.com/making-decisions-with-data-science-36fae52ccfab?source=collection_archive---------21-----------------------#2021-05-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8b78" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个简单的例子，说明如何使用为化学物理学开发的算法来优化商业决策。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d82819cdd556bf02bde35eb2a6fb5128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yrKDydJ9d2dBefQ7mKlWjw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">通过将现实世界中的商业决策转化为最小化的功能，我们可以将数据科学应用到它将产生最大影响的地方。只是要小心当地的最小值！来自<a class="ae ky" href="https://pixabay.com/photos/hill-tree-drumlin-landscape-5324149/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的Susanne stck Li的图片。</p></figure><p id="40fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着数据科学中几乎每天都有新算法和技术出现，人们很容易忽略企业投资分析的最初原因。</p><p id="080f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何业务的潜在驱动因素都很简单；基本上，这些目标是:</p><ol class=""><li id="d361" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">降低成本</li><li id="0591" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">增加收入</li><li id="dff6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">降低风险</li></ol><p id="0ec9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，令人惊讶的是，数据科学项目常常远离这些业务驱动因素。通常情况下，工作的重点是哪里有数据可用，或者哪里有测试最新工具和算法的空间，而不是可以为组织提供最大价值的领域。</p><p id="77af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将通过一个成功的例子来回顾基础知识，说明我们如何将数据科学应用于现实世界的业务决策，从而为底线带来切实的影响。</p><p id="c857" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将“窃取”最初为预测原子分子结构而开发的盆地跳跃优化算法，并通过改进采购决策来降低成本。</p><h2 id="a5e4" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">优化供应链</h2><p id="1340" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">在我们的示例中，您为Initech工作，这是一家专门在全球分销小部件的公司。</p><p id="5241" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它从三个首选供应商那里采购这些部件。每个供应商按照相同的规格生产，并提供两种价格:</p><ol class=""><li id="0e81" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">每个部件的单一单价，以及</li><li id="c25f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如果是批量购买，可以享受折扣价；这节省了制造和物流成本。</li></ol><p id="ac77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">批次大小和可用折扣因供应商而异，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/60353d0b9b2a57973d4878d028f97c33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D546Uy1-wBgaU0hzrlP0JA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">三家供应商的价格结构摘要。作者图片</p></figure><p id="157d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果Initech从供应商1 ( <em class="ni"> widgets to you Inc. </em>)订购了250件Widgets，这将由两批(200件)以10%的折扣率组成，其余50件以单一单价订购。</p><p id="18a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Initech每天需要这些供应商提供各种不同的订单规模。这位首席执行官确信，这些订单的下单方式可以改进，最近他花了一大笔钱聘请顾问，这些顾问制作了一个大型幻灯片，详细介绍了他们在这个问题上与她意见一致的情况。不幸的是，无论是首席执行官还是顾问都没有能够提供一个更好的解决方案。</p><p id="fa65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，请你来看看你能否解决以下问题:</p><p id="44a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于给定的最小订单规模，我们如何通过向三家供应商订购来找到最低的可能成本？</p><h2 id="e89f" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">当前流程</h2><p id="bf30" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">为了了解Initech目前是如何订购小部件的，您与采购经理进行了交谈。他们解释说，当收到订单时，他们将采用最适合每个供应商订单的“批量”价格。他们向您展示了一个今天最低订购量为500件的示例:</p><ol class=""><li id="6f43" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">他们购买符合订单数量的最佳价值批次(这是供应商2对260件的35%折扣)。</li><li id="40eb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">他们一次又一次地重复这个过程。</li><li id="b605" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">一旦剩余数量低于所有批量，他们将向提供最佳单价的供应商(供应商3)订购。</li></ol><p id="30ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于500的订单，这导致:</p><ul class=""><li id="8979" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nj mb mc md bi translated">来自供应商2的一批(260件),</li><li id="4128" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated">供应商1的两个批次(200件),</li><li id="fa46" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated">供应商3的40个单位，单位成本。</li></ul><p id="0b4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一辆<strong class="lb iu">总造价4149</strong>。你向经理解释说，你将尝试使用优化技术来改进这一点，并且你认为流域跳跃算法可以提供一种有效的方法来降低每份订单的成本……他们嘲笑你。</p><p id="e500" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“这种购买流程已经通过几代小部件采购经理传承下来，没有办法再改进了！”</p><h2 id="d9c6" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">建模问题</h2><p id="abe9" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">为了优化Initech的供应链决策，我们首先需要能够对问题进行建模。这在Python中非常简单，在下面的代码中，我们提供了每个供应商的详细信息，并创建了一个函数，在给定每个供应商的订单值的情况下计算总成本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Python创建业务问题的基本模型</p></figure><p id="df24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们创建的函数为我们提供了我们想要最小化的东西，因为它与订单的总成本相关。下一步将应用盆地跳跃优化算法，但首先让我们了解更多关于算法如何工作。</p><h2 id="9d49" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">跳盆？</h2><p id="837a" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">流域跳跃算法是1997年开发的，用于化学物理领域[1]。它在问题空间中“跳跃”,探索不同的“盆地”,然后找到这些盆地的最小点。</p><p id="8f0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果这没有很大的意义，下面的图表可能有助于想象这在实践中是如何工作的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/41158599b57b5155f395b15c070406cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e4Jjw3AYwrapulfShj-p5Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">流域跳跃算法如何跨越局部最小值点(a和b)以找到包含全局最小值(点c)的流域的图示。作者图片</p></figure><p id="2cd7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大量的问题可以有‘局部极小值’。这些解决方案与周围环境相比看起来是最佳的，但并不代表整个问题空间的最佳解决方案。</p><p id="dc55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上图中的a点和b点代表局部最小值，c点是可能的最佳解(全局最小值)。</p><p id="2604" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">盆地跳跃算法能够通过在问题空间中“跳跃”来避开这种局部最小值。在它到达的每一个区域，它会局部搜索最优(最小)点。</p><p id="910c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一特性使它成为一种适用于大量问题的健壮的通用优化算法。</p><h2 id="62a7" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">实现盆地跳跃</h2><p id="b81f" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">为了将盆地跳跃应用到我们的问题中，我们可以利用Python中的SciPy库。这需要输入一些参数，如下所述:</p><ul class=""><li id="a867" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nj mb mc md bi translated">待优化的<strong class="lb iu">功能</strong>。这需要有一个单一的数字输出，我们正试图最小化(这是我们上面创建的“func”函数)。</li><li id="2ccb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated"><strong class="lb iu">对该函数输入值的第一次“猜测”</strong>。这在某些情况下可能很重要，但是在这个例子中，这似乎没有什么不同。因此，我们只是为每个供应商输入了一些任意的数量:每个供应商200个订单[200，200，200]。</li><li id="0cef" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated"><strong class="lb iu">niter</strong>’代表算法的迭代次数，更多的迭代可能会找到更好的结果，代价是需要更多的时间来完成。</li><li id="a535" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated"><strong class="lb iu">步长</strong>设置算法中每个“跳”的最大值。设置这个值需要一点反复试验，因为它将取决于手头的问题。在本例中，值为500就可以了。</li></ul><p id="78e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们有<strong class="lb iu">最小化器关键字参数</strong>，这些用于将值传递给最小化器函数，盆地跳跃算法位于该函数之上。这些描述如下:</p><ul class=""><li id="5ad3" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nj mb mc md bi translated"><strong class="lb iu">方法</strong>:标识要实现的具体算法。在我们的例子中，这是<a class="ae ky" href="https://docs.scipy.org/doc/scipy/reference/optimize.minimize-slsqp.html#optimize-minimize-slsqp" rel="noopener ugc nofollow" target="_blank"> SLSQP </a>，因为它允许我们输入问题的界限和约束(见下文)。</li><li id="fdcf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated"><strong class="lb iu">界限:</strong>这些界限定义了算法中每个项目的上限和下限(在我们的例子中，是每个供应商)。因此，我们利用这一点来确保订单高于零。</li><li id="7f38" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated"><strong class="lb iu">约束:</strong>这些类似于界限，但允许我们在整个<em class="ni">问题中设置阈值。因此，我们利用这一点来确保所有供应商的订单都不会低于最低订单金额。</em></li></ul><p id="7c9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将所有这些放在一起，我们得到以下结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="2384" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将返回以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/afbdaaaad679c1879aaabab5f92ee72b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8wrkbZDfHaY9_O3wSZaKWQ.png"/></div></div></figure><p id="63b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里进行了很多工作，但两个最重要的输出是<strong class="lb iu">lowest _ optimization _ result</strong>，它详细说明了我们提供给算法的函数的最低输出(在这种情况下，它是最小订单数所能找到的最低成本)和输出<strong class="lb iu"> x </strong>，它详细说明了获得最佳结果所需的输入。</p><p id="0c7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">舍入后，我们因此得到:</p><ul class=""><li id="9d1c" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nj mb mc md bi translated">供应商1没有订单</li><li id="a4de" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated">供应商2的520份订单(两批)</li><li id="88a4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated">没有供应商3的订单</li></ul><h2 id="841e" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">有些不对劲</h2><p id="4228" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">您对这个结果感到非常兴奋，并回到采购经理那里向他们介绍这个结果。</p><p id="5cb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，他们并不以为然:“你的‘超级智能’算法已经超序了！我们只需要500个小部件，但它想让我们订购520个。”</p><p id="921c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他们是对的。你后悔在和他们交谈之前没有看到这一点。然后，您意识到算法的任务是寻找满足最小数量的最低成本订单。</p><p id="3303" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你检查成本；采购经理的流程将导致订单金额为<strong class="lb iu"> 4，149，</strong>，但是使用流域跳跃算法的总成本为<strong class="lb iu"> 3，723 </strong>，订单成本减少了<strong class="lb iu"> 10% </strong>。</p><p id="9470" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">采购经理很惊讶:“啊，我一直被困在当地的最低价格！我从未考虑过订购更多的产品可能会降低整体成本，而且我们还可以利用额外的20个部件！”</p><p id="bf43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你回去告诉首席执行官，通过几行代码，你已经将Initech的销售成本降低了10%。她欣喜若狂，问你还可以利用数据科学改善哪些业务领域。“所有的，”你回答。</p><h2 id="1de2" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">摘要</h2><p id="ac3f" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">在本文中，我们看到了实施数据科学技术如何对公司的底线产生巨大而切实的影响。</p><p id="7591" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">工作示例提供了一个输出，作为企业可以采取行动的决策。我们基本上已经能够创建一个优化问题，将商业决策直接映射到结果。</p><p id="67c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，通过能够在问题空间“跳跃”,我们的算法已经能够提出一个真正新颖的解决方案，一个很容易被人类决策者忽略的解决方案。</p><h2 id="3bba" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">进一步阅读</h2><ul class=""><li id="84c8" class="lv lw it lb b lc nc lf nd li no lm np lq nq lu nj mb mc md bi translated"><a class="ae ky" href="https://docs.scipy.org/doc/scipy/reference/optimize.html" rel="noopener ugc nofollow" target="_blank"> SciPy优化文档</a></li><li id="bded" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nj mb mc md bi translated"><a class="ae ky" href="https://realpython.com/python-scipy-cluster-optimize/" rel="noopener ugc nofollow" target="_blank">使用SciPy进行优化的有效示例</a></li></ul><h2 id="1ffb" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">参考</h2><p id="fbe5" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">[1]David J. Wales和Jonathan P. K.Doye，通过盆地跳跃的全局优化和包含多达110个原子的Lennard-Jones团簇的最低能量结构(1997)<a class="ae ky" href="https://pubs.acs.org/doi/10.1021/jp970984n" rel="noopener ugc nofollow" target="_blank">https://pubs.acs.org/doi/10.1021/jp970984n</a></p></div></div>    
</body>
</html>