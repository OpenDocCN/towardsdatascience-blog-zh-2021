<html>
<head>
<title>Understanding Matplotlib in 6 Code snippets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 6 个代码片段理解 Matplotlib</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/understanding-matplotlib-in-6-code-snippets-63e5b8be2c8?source=collection_archive---------15-----------------------#2021-11-01">https://towardsdatascience.com/understanding-matplotlib-in-6-code-snippets-63e5b8be2c8?source=collection_archive---------15-----------------------#2021-11-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ddd0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Matplotlib 是 python 中用于数据可视化的常用库。你探索过这个库提供的所有功能了吗？如果没有，我来帮你！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e5ed9016bfa0cb621bba41c71d42470f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7DVffL-bAA4bcrSl"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@adeolueletu?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Adeolu Eletu </a>拍摄的照片</p></figure><p id="4d04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我是亚马逊的一名应用科学家。信不信由你，我不记得有哪一周我没有在工作中使用过这个图书馆。有时我们需要可视化数据以便理解，有时在演示文稿/文档中需要可视化。因此，根据需要，我们也必须担心视觉化的直觉和美化。现在，我的朋友们，matplotlib 是我所有这些任务的首选库。在这篇博客中，我们将了解如何使用 matplotlib 来绘制以下变体:</p><ul class=""><li id="73b1" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">用一组连续数据绘制一个正态图</li><li id="b1b0" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">绘图分类变量</li><li id="eb1e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用散点图绘制图形，找出两个变量之间的关系</li><li id="488b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">用不同的格式样式绘制图形</li><li id="0309" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">创建由多个图形组成的图形—一个图形有多条曲线，或者不同的图形有不同的曲线</li><li id="69ff" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用图形中的文本注释。</li></ul><p id="94d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以上并不是一个详尽的列表，但是它们应该足以理解这个库。开始吧！！！</p><h2 id="d40d" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">具有连续数据数组的正常图</h2><p id="2bc8" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">最直接的用例之一是在训练机器学习模型时，理解随着时期/迭代的损失行为。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="3032" class="mj mk it ni b gy nm nn l no np">import matplotlib.pyplot as plt<br/>import numpy as np</span><span id="4144" class="mj mk it ni b gy nq nn l no np">loss = np.array([1, 0.95, 0.92, 0.89, 0.83, 0.76, 0.70, 0.63, 0.54, 0.48])<br/>epochs = np.array(list(range(10)))</span><span id="007d" class="mj mk it ni b gy nq nn l no np">plt.plot(loss, epochs)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/cac8f17341a1c495b2fc8641067e4bb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jlmSNBQ8PbGVveO079Ecbg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="8f66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，我知道上面的图表看起来很标准。别担心，我们会在“格式样式”部分美化它。</p><h2 id="1452" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">绘制分类变量/数据</h2><p id="763b" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">首先，什么是分类变量？这些变量占用离散和有限数量的值。例如，在分类任务中，描述类的变量是分类变量。一个具体的例子是考虑一个图像分类问题，其中我们必须分类图像是否有狗(1)或没有(0)。那么这个代表有或没有狗出现的图像数量的变量就是一个分类变量。这些变量可以用柱状图或饼状图来表示。</p><p id="2f8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">条形图-: </strong></p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="7476" class="mj mk it ni b gy nm nn l no np">import matplotlib.pyplot as plt<br/>import numpy as np<br/>class_variable = ["dog", "cat", "cow", "fish"]<br/>number_of_image = [10, 15, 8, 20]<br/>plt.bar(class_variable, number_of_image)<br/>plt.show()</span></pre><p id="dad8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">饼状图-: </strong></p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="ff6e" class="mj mk it ni b gy nm nn l no np">import matplotlib.pyplot as plt<br/>import numpy as np<br/>class_variable = ["dog", "cat", "cow", "fish"]<br/>number_of_image = [10, 15, 8, 20]<br/>plt.pie(number_of_image, labels = class_variable)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/0ab79abb1541e3b74e00c71ba11ca670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ByyFu2sySwYtSwA5okHSYw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">以上两个片段的可视化(图片由作者提供)</p></figure><h2 id="fc1f" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated"><strong class="ak">使用散点图绘制图形，找出两个变量之间的关系</strong></h2><p id="b9aa" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">正如你可能已经猜到的，散点图是用来找出两个变量之间的关系。在这里，我们设想一个变量的变化如何影响另一个变量，或者换句话说，我们试图理解两个变量之间的相关性。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="4d47" class="mj mk it ni b gy nm nn l no np">import matplotlib.pyplot as plt<br/>import numpy as np<br/>variable_a = np.array([5,7,8,7,2,17,2,9,4,11,12,9,6])<br/>variable_b = np.array([99,86,87,88,111,86,103,87,94,78,77,85,86])</span><span id="b602" class="mj mk it ni b gy nq nn l no np">plt.scatter(variable_a, variable_b)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/0701e99bce5fb87ca4b6a95ad30dcd70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wKY4QPTUoeYqWz9DiOwwig.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b23a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从上图我们可以得出，当<em class="nu">变量 _a </em>增加时，<em class="nu">变量 _b </em>减少。</p><h2 id="92d7" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">绘图的格式样式</h2><p id="82cd" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">这是其中重要的一条。在这里，我们将看到我们可以添加到一个情节的各种美化。我们将在这里看到如何添加以下内容:</p><ul class=""><li id="1e93" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">轴标签-有助于描述 x 轴和 y 轴在图上代表的内容。</li><li id="c32e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">图例-当我们在图形中绘制多个图时非常有用。它告诉我们哪种颜色代表图中的哪种数据。</li><li id="a7b8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">标题-图的标题</li><li id="0dc6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">网格—在图形中添加网格有助于获得更好的推断</li><li id="cd57" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">颜色-根据您的要求设置曲线的颜色。</li><li id="c02f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">虚线-设置曲线是实线还是虚线</li><li id="a2d7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">标记-设置如何表示每个数据点</li></ul><p id="fa49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，许多新功能正在被引入。为了理解每一个的效果，我在不同的代码行上绘制了多个图，如下面的代码片段所示。</p><p id="b574" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意— </strong>为了便于说明，我只使用了一种标记或一种颜色。您可以查看每种类型的其他可用选项。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="ab35" class="mj mk it ni b gy nm nn l no np">import matplotlib.pyplot as plt<br/>import numpy as np<br/>loss = np.array([1, 0.95, 0.92, 0.89, 0.83, 0.76, 0.70, 0.63, 0.54, 0.48])<br/>epochs = np.array(list(range(10)))<br/>plt.plot(loss, epochs, label="Loss Curve 1", linestyle="dashed", marker='*', color='red')</span><span id="8670" class="mj mk it ni b gy nq nn l no np">#Plot 1<br/>plt.xlabel("Epochs")<br/>plt.ylabel("Loss") </span><span id="3fab" class="mj mk it ni b gy nq nn l no np">#Plot 2<br/>plt.title("Loss - Epoch Curve")</span><span id="1ed2" class="mj mk it ni b gy nq nn l no np">#Plot 3<br/>plt.grid("on") </span><span id="92c4" class="mj mk it ni b gy nq nn l no np">#Plot 4<br/>plt.legend()</span><span id="f98c" class="mj mk it ni b gy nq nn l no np">#Plot 5<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/145ea7408ce7f24ce2d408ad8e1528c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ATaBpHOY-gWF8yirwgbuA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="603a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了比较，我还展示了第一个片段中的一个图(图 6)。现在，就我们的理解而言，图 6 就足够了，因为我们只需要看到损耗如何随着每个时期而变化。尽管如此，对于新手来说，Plot 5 更适合表示所有必要的信息。</p><h2 id="9f04" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">创建由多个图形组成的图形</h2><p id="5e88" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">当我们需要绘制多个支线剧情时，我们可以使用下面的片段。我还添加了不同格式样式的例子，这样你就可以更清楚地理解了。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="8086" class="mj mk it ni b gy nm nn l no np">import matplotlib.pyplot as plt<br/>import numpy as np</span><span id="9fe6" class="mj mk it ni b gy nq nn l no np">t1 = np.arange(0.0, 5.0, 0.1)<br/>t2 = np.arange(0.0, 5.0, 0.2)</span><span id="e0a8" class="mj mk it ni b gy nq nn l no np">plt.figure()<br/>plt.subplot(2,2,1)<br/>plt.plot(t1, np.sin(2*np.pi*t1), color = 'black', marker='^', linestyle='solid')<br/>plt.title("Sin Curve")<br/>plt.grid("on")</span><span id="2a62" class="mj mk it ni b gy nq nn l no np">plt.subplot(2,2,2)<br/>plt.plot(t2, np.tan(2*np.pi*t2), color = 'blue', marker='*', linestyle='dashed')<br/>plt.title("Tan Curve")<br/>plt.grid("on")</span><span id="89b6" class="mj mk it ni b gy nq nn l no np">plt.subplot(2,2,3)<br/>plt.plot(t1, np.cos(2*np.pi*t1), color = 'green', marker='o', linestyle='dotted')<br/>plt.title("Cos Curve")<br/>plt.grid("on")</span><span id="5e64" class="mj mk it ni b gy nq nn l no np">plt.subplot(2,2,4)<br/>plt.plot(t2, np.exp(t2), color = 'red', marker='*', linestyle='dashdot')<br/>plt.title("Exponential Curve")<br/>plt.grid("on")<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/2efca76f0e10ca35901b7f841cd9f2c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BSy5YLXK54pA0Wim1IjGYQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3cd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当在同一个图中需要多条曲线时，我们可以使用下面的代码片段。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="b7d1" class="mj mk it ni b gy nm nn l no np">import matplotlib.pyplot as plt<br/>import numpy as np</span><span id="200f" class="mj mk it ni b gy nq nn l no np">t1 = np.arange(0.0, 5.0, 0.1)<br/>t2 = np.arange(0.0, 5.0, 0.2)</span><span id="1554" class="mj mk it ni b gy nq nn l no np">plt.plot(t1, np.sin(2*np.pi*t1), color = 'black', marker='^', linestyle='solid', label = "Sin Curve")<br/>plt.plot(t1, np.cos(2*np.pi*t1), color = 'green', marker='o', linestyle='dashed', label="Cos Curve")<br/>plt.legend()<br/>plt.grid("on")<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/bda3e8391b1c5a3cd70b42584f1ef430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2GlPyu729ndHlXcJF9IMIw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5923" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在这里看到的，图例有助于直观显示哪条曲线对应于哪种函数，即 sin 或 cos。</p><h2 id="be5c" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated"><strong class="ak">使用图形中的文本注释。</strong></h2><p id="4443" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我们可以使用测试注释来指出图中的特定点，并描述该点的含义。例如，我在下面的代码中注释了正弦曲线和余弦曲线的最大值。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="b817" class="mj mk it ni b gy nm nn l no np">import matplotlib.pyplot as plt<br/>import numpy as np</span><span id="8bb7" class="mj mk it ni b gy nq nn l no np">t1 = np.arange(0.0, 5.0, 0.1)<br/>t2 = np.arange(0.0, 5.0, 0.2)</span><span id="ea60" class="mj mk it ni b gy nq nn l no np">plt.plot(t1, np.sin(2*np.pi*t1), color = 'blue', marker='^', linestyle='solid', label = "Sin Curve")<br/>plt.plot(t1, np.cos(2*np.pi*t1), color = 'green', marker='o', linestyle='dashed', label="Cos Curve")<br/>plt.annotate('Sin max', xy=(1.25, 1), xytext=(1.5, 1.15),<br/>             arrowprops=dict(facecolor='black', shrink=0.05),<br/>             )<br/>plt.annotate('Cos max', xy=(2, 1), xytext=(2.25, 1.15),<br/>             arrowprops=dict(facecolor='black', shrink=0.05),<br/>             )<br/>plt.ylim([-1.5, 1.5])<br/>plt.legend()<br/>plt.grid("on")<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/028890cbcf473a9944951ef3cd69fd98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*apsH-jr3-1zMsF8FjorraA.png"/></div></div></figure><p id="da8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在这里增加的另一件事是定义 y 轴的极限。同样，您可以更改 x 轴的限制。</p><h1 id="1030" class="nw mk it bd ml nx ny nz mo oa ob oc mr jz od ka mu kc oe kd mx kf of kg na og bi translated">结论</h1><p id="3df4" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">以上只是几个例子，我试图尽可能地涵盖更多的内容。现在，您可以使用多种工具来创建一个伟大的可视化。如果我错过了任何重要的例子，请让我知道，以便我可以在这里添加它们。</p><p id="4440" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你的来访！</p><p id="ed22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关注我们的<a class="ae ky" href="https://medium.com/@AnveeNaik" rel="noopener"> medium </a>了解更多此类内容。</p><p id="f941" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nu">成为</em> <a class="ae ky" href="https://medium.com/@AnveeNaik/membership" rel="noopener"> <em class="nu">介质会员</em> </a> <em class="nu">解锁并阅读介质上的许多其他故事。</em></p></div></div>    
</body>
</html>