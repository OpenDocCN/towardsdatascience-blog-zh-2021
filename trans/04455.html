<html>
<head>
<title>3 Python Tricks That Will Simplify Your Life</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简化您生活的3个Python技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-python-tricks-that-will-ease-your-life-6b48952caedf?source=collection_archive---------7-----------------------#2021-04-16">https://towardsdatascience.com/3-python-tricks-that-will-ease-your-life-6b48952caedf?source=collection_archive---------7-----------------------#2021-04-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e0ba" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">举例说明</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5a2501b7d893decee1349fe3c2879d8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A18BP5CDnawDdi-IzhfOzQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@kovacsz1?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Z S </a>在<a class="ae ky" href="https://unsplash.com/s/photos/simple?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="59fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python是数据科学生态系统工作人员的首选语言。Python成为该领域的主要选择有几个原因，比如简单易学的结构、简单的语法和丰富的第三方库选择。</p><p id="7e37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最喜欢Python的地方是它如何简化某些任务。在这篇文章中，我将分享3个我认为非常实用的技巧或诀窍。我在工作中使用过它们，我想你也会发现它们很有用。</p><p id="6f6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想强调一下，这些技巧并不是一些高级的Python特性。其实都可以认为是基本操作。然而，它们对于某些任务来说是很方便的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="d557" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">1.字符串插值</h2><p id="14d2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">第一个是关于字符串插值，它允许通过使用变量名来操作字符串。我们经常在打印功能中使用它们来调试代码或确认结果。</p><p id="4934" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">字符串插值的一个典型用例是创建包含基于某些变量的信息的文件路径。例如，我使用字符串插值法将日期信息集成到文件路径中。</p><p id="3d1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python的datetime模块返回不带前导零的月和日，因此一些值显示为一位数字。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0dbe" class="mc md it nb b gy nf ng l nh ni">from datetime import datetime</span><span id="ad80" class="mc md it nb b gy nj ng l nh ni">mydate = datetime(2020, 4, 2, 16, 40)</span><span id="f2f8" class="mc md it nb b gy nj ng l nh ni">print(mydate)<br/>2020-04-02 16:40:00</span><span id="7c37" class="mc md it nb b gy nj ng l nh ni">mydate.month<br/>4</span><span id="ba04" class="mc md it nb b gy nj ng l nh ni">mydate.day<br/>2</span></pre><p id="35a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">月和日都可以包含一位数或两位数。因此，对于只有一个数字的路径，我们需要添加一个前导零，使路径具有标准格式。</p><p id="b5f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们首先创建几个没有标准化月份和年份数字的文件路径。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0692" class="mc md it nb b gy nf ng l nh ni"># one digit month and day<br/>mydate = datetime(2020, 4, 2)<br/>file_path = f"Results_{mydate.year}{mydate.month}{mydate.day}"</span><span id="c550" class="mc md it nb b gy nj ng l nh ni">print(file_path)<br/>Results_202042</span><span id="945a" class="mc md it nb b gy nj ng l nh ni"># two-digit month and day<br/>mydate2 = datetime(2020, 11, 24)<br/>file_path = f"Results_{mydate2.year}{mydate2.month}{mydate2.day}"</span><span id="0464" class="mc md it nb b gy nj ng l nh ni">print(file_path)<br/>Results_20201124</span></pre><p id="e82d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们从打印的文件路径中注意到的，它们不是标准格式。幸运的是，向字符串中使用的变量名添加前导零非常简单。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="c94b" class="mc md it nb b gy nf ng l nh ni">mydate = datetime(2020, 4, 2)<br/>file_path = f"Results_{mydate.year}{mydate.month:02}{mydate.day:02}"</span><span id="60ba" class="mc md it nb b gy nj ng l nh ni">print(file_path)<br/>Results_20200402</span></pre><p id="ed0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的例子中，“02”意味着相关变量将占用两位数，前导字符变成零。如果月或日包含两位数，Python不会添加前导零，因为变量已经占用了两位数。因此，我们将保持一个标准。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="6959" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">计数器功能</h2><p id="5d0d" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">下一个是Python的collections模块中的Counter函数。它是dictionary的子类，用于计算可散列对象的数量。Counter返回一个字典，其中的项存储为键，计数存储为值。</p><p id="f8fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们先做一个单子上的例子。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6352" class="mc md it nb b gy nf ng l nh ni">from collections import Counter</span><span id="ec4e" class="mc md it nb b gy nj ng l nh ni">list_a = [1, 2, 3, 3, 3, 5, 5]</span><span id="8165" class="mc md it nb b gy nj ng l nh ni">Counter(list_a)<br/>Counter({1: 1, 2: 1, 3: 3, 5: 2})</span></pre><p id="fd12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python列表也有一个count方法，但是它只能用于计算单个元素的出现次数。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="a360" class="mc md it nb b gy nf ng l nh ni">list_a.count(3)<br/>3</span></pre><p id="30e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">counter函数也可以用来计算字符串中字符出现的次数。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="82d8" class="mc md it nb b gy nf ng l nh ni">mystring = "aaaabbcbbbcbbcccaaaa"</span><span id="202d" class="mc md it nb b gy nj ng l nh ni">Counter(mystring)<br/>Counter({'a': 8, 'b': 7, 'c': 5})</span></pre><p id="c589" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以计算一篇文章中的字数和频率。这里有一个简单的例子。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="4d11" class="mc md it nb b gy nf ng l nh ni">mytext = "Python python data science Data Science data"</span><span id="14bd" class="mc md it nb b gy nj ng l nh ni">Counter(mytext.lower().split(" "))<br/>Counter({'data': 3, 'python': 2, 'science': 2})</span></pre><p id="1337" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们首先将所有字符转换成小写或大写以保持标准。下一步是在空格处分割字符串以提取单词。然后我们可以应用计数器函数。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="8eea" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">对列表进行排序</h2><p id="f04d" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在Python中对列表进行排序非常简单。我们可以使用sort函数对列表进行排序，并且不返回任何内容。另一个选项是sorted函数，它返回一个列表的排序版本。</p><p id="8f24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑一个稍微复杂一点的情况。我们有一个包含其他列表作为其元素的列表。例如，我们可能有一个成员列表，每个元素可能代表一些关于他们的信息，比如名字、姓氏和年龄。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="33be" class="mc md it nb b gy nf ng l nh ni">members = [["John", "Doe", 28], <br/>           ["Betsy", "Ash", 32], <br/>           ["Megan", "Sam", 44]]</span></pre><p id="5c5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可能希望根据名字、姓氏或年龄对成员进行排序。Python允许通过使用sort函数的key参数进行这种定制排序。</p><p id="7071" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码根据姓氏对成员列表进行排序。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="7ef0" class="mc md it nb b gy nf ng l nh ni">members.sort(key = lambda inner: inner[1])</span><span id="2825" class="mc md it nb b gy nj ng l nh ni">members<br/>[['Betsy', 'Ash', 32], <br/> ['John', 'Doe', 28], <br/> ['Megan', 'Sam', 44]]</span></pre><p id="e11a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用嵌套列表元素的索引。例如，“inner[2]”根据年龄对列表进行排序。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d828" class="mc md it nb b gy nf ng l nh ni">members.sort(key = lambda inner: inner[2])</span><span id="252f" class="mc md it nb b gy nj ng l nh ni">members<br/>[['John', 'Doe', 28], <br/> ['Betsy', 'Ash', 32], <br/> ['Megan', 'Sam', 44]]</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="5c95" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">结论</h2><p id="70c0" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们已经介绍了3个简单而有用的Python技巧。您可能并不总是需要使用它们，但是在某些情况下，这些技巧可以有效地解决问题。令人惊讶的是Python为各种情况提供了简单而直观的方法。本文中的3个例子可以被认为是Python简单性的很小一部分。</p><p id="cb22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>