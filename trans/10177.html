<html>
<head>
<title>Introduction to Conda virtual environments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">康达虚拟环境简介</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-conda-virtual-environments-eaea4ac84e28?source=collection_archive---------5-----------------------#2021-09-27">https://towardsdatascience.com/introduction-to-conda-virtual-environments-eaea4ac84e28?source=collection_archive---------5-----------------------#2021-09-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/44186234c4da3b864b0c61dc356a9424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3zDmjh3XSBsPFAAq"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com/@the_real_napster?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">张秀坤·兰格</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><h2 id="d2b6" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph">数据科学基础</h2><div class=""/><div class=""><h2 id="e253" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">Python中的可再现数据科学项目</h2></div><p id="fc18" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">再现性是一个好的数据科学项目的重要特征。从设置随机种子、数据版本控制到使用虚拟环境，许多因素都有助于提高数据科学项目的可重复性。在这篇文章中，我们将看看用Conda管理Python虚拟环境的基础。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi md"><img src="../Images/2efc7aff44ce504c2a43716a2d8012d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-ZVv2nPqUzNH0qI3"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com/@deepakhnath?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">迪帕克·纳特</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="fbf2" class="mp mq jj bd mr ms mt mu mv mw mx my mz ky na kz nb lb nc lc nd le ne lf nf ng bi translated">1.稍微了解一下康达及其相关术语📖</h1><p id="8b31" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">在我们开始学习管理虚拟环境的命令之前，熟悉一些关于Conda的常用术语可能会有所帮助。</p><h2 id="2d2b" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍 1.1.康达vs迷你康达vs蟒蛇</h2><blockquote class="nx ny nz"><p id="3f95" class="lh li oa lj b lk ll kt lm ln lo kw lp ob lr ls lt oc lv lw lx od lz ma mb mc im bi translated"><a class="ae jg" href="https://conda.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> <strong class="lj jt"> Conda </strong>是一个独立于语言的工具，用于<strong class="lj jt">包管理</strong>和<strong class="lj jt">环境管理</strong>。</a>作为软件包管理器，康达可以安装、更新和删除软件包。作为环境管理员，it可以管理虚拟环境。</p><p id="3a4e" class="lh li oa lj b lk ll kt lm ln lo kw lp ob lr ls lt oc lv lw lx od lz ma mb mc im bi translated"><strong class="lj jt"> Anaconda </strong> <a class="ae jg" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank">是最流行的Python发行版</a>(即将Python分发给像你我这样的最终用户的方式)。通过安装Anaconda，你可以安装Miniconda、<a class="ae jg" href="https://docs.anaconda.com/anaconda/navigator/" rel="noopener ugc nofollow" target="_blank"> Anaconda Navigator </a>(即一个图形用户界面)和精选软件包。</p><p id="ecab" class="lh li oa lj b lk ll kt lm ln lo kw lp ob lr ls lt oc lv lw lx od lz ma mb mc im bi translated">迷你巨蟒是巨蟒的迷你版本。它也是一个Python发行版。通过安装Miniconda，你得到了conda，Python和少量的安装包。</p></blockquote><p id="b7c3" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">正如我们所见，<a class="ae jg" href="https://conda.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> Conda包含在Anaconda和Miniconda中。</a></p><h2 id="aedf" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍 1.2.康达vs Pip vs Venv</h2><blockquote class="nx ny nz"><p id="bf78" class="lh li oa lj b lk ll kt lm ln lo kw lp ob lr ls lt oc lv lw lx od lz ma mb mc im bi translated">Pip是Python的一个包管理器。</p></blockquote><p id="755d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这意味着Conda和Pip都可以用来安装、更新和删除Python中的包。Pip提供了在<a class="ae jg" href="https://pypi.org/" rel="noopener ugc nofollow" target="_blank">Python包索引(PyPI) </a>上可用的更大范围的包，而Conda提供了在<a class="ae jg" href="https://docs.conda.io/projects/conda/en/latest/user-guide/concepts/channels.html" rel="noopener ugc nofollow" target="_blank"> its频道</a>上可用的相对较小范围的包。因此，有时某个包只能通过Pip安装。</p><blockquote class="nx ny nz"><p id="b9e5" class="lh li oa lj b lk ll kt lm ln lo kw lp ob lr ls lt oc lv lw lx od lz ma mb mc im bi translated"><strong class="lj jt"> Venv </strong>是Python的环境管理器。</p></blockquote><p id="8156" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">Conda和Venv都擅长使用不同版本的包管理虚拟环境(即隔离和独立的环境)。然而，与Venv相比，Conda的一个明显优势是易于管理多个Python版本。换句话说，Conda使得使用不同版本的Python创建虚拟环境变得无缝。使用Venv，我们将需要使用额外的工具来管理Python版本，或者在创建虚拟环境之前安装多个Python版本。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/15d084f8269a148245c0fd0b0c47e1e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*u4YsEAtQXuA9GrJfMBfguw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="fe7f" class="mp mq jj bd mr ms mt mu mv mw mx my mz ky na kz nb lb nc lc nd le ne lf nf ng bi translated">2.使用Conda的虚拟环境💻</h1><p id="a4f8" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">现在，让我们学习使用Conda管理虚拟环境的基础知识。我鼓励你在阅读的时候跟着电脑走，获得实践经验。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/4aec06cb8f3cee257a6fa1429a92faaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zVwUXlijZkwYzTzl"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">布鲁斯·杰斯特罗在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="9e32" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍 2.1.做好准备</h2><p id="4eb6" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated"><em class="oa">如果您按照部分中的命令进行操作，请确保您的计算机通过Anaconda或Miniconda安装了Conda(版本4.6+)。</em></p><p id="57a2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以通过Windows上的Anaconda提示符和Mac上的终端访问Conda。让我们首先按照以下说明为您的操作系统打开相关的命令行界面:</p><p id="9681" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt"> Windows: </strong>按Windows键➡️键入Anaconda提示符➡️回车<br/>MAC:按cmd +空格键➡️键入终端➡️回车</p><p id="74ad" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在，是时候创建虚拟环境了！</p><h2 id="5997" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍 2.2.创建虚拟环境</h2><p id="f697" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">首先，让我们看看现有虚拟环境的列表:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="6a8d" class="nm mq jj oh b gy ol om l on oo">$ conda env list # Option 1<br/>$ conda info --envs # Option 2</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi op"><img src="../Images/ea8b46c8f14a3f5ce0aebee5347df12f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*cckOMg-r6vMcgwULq9fc5Q.png"/></div></figure><p id="6248" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们有一个名为<em class="oa"> base </em>的虚拟环境。当我们安装Miniconda或Anaconda时，它会创建一个名为<em class="oa"> base </em>的默认环境。这就是我们在输出中看到的。</p><p id="a044" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们现在将学习创建虚拟环境的三种常用方法。</p><h2 id="548b" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍2.2.A .从<a class="ae jg" href="https://en.wikipedia.org/wiki/YAML" rel="noopener ugc nofollow" target="_blank"> YAML </a>文件创建虚拟环境</h2><p id="5b7a" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">创建虚拟环境的一种常见方式是从YAML文件:<code class="fe oq or os oh b">environment.yml</code>或<code class="fe oq or os oh b">environment.yaml</code>中创建。该文件包含虚拟环境的规范(例如，环境名称、包、它们的版本和Python版本)。你可以从<a class="ae jg" href="https://github.com/ageron/handson-ml/blob/master/environment.yml" rel="noopener ugc nofollow" target="_blank">这里</a>和<a class="ae jg" href="https://github.com/fastai/fastai/blob/master/environment.yml" rel="noopener ugc nofollow" target="_blank">这里</a>看到一些YAML文件的例子。如果我们在当前工作目录中有这样的YAML文件，我们可以使用下面的命令之一从它创建一个虚拟环境:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="696a" class="nm mq jj oh b gy ol om l on oo">$ conda env create -f environment.yml # Short form<br/>$ conda env create --file environment.yml # Long form</span></pre><p id="8773" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在，让我们再次查看虚拟环境列表:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="f590" class="nm mq jj oh b gy ol om l on oo">$ conda env list</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/c1e25e6a183b0917bb511c1d9ea5d0a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*RfuL20yI96Ru2W-KWw7aeg.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">截断输出</p></figure><p id="413d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们现在有了一个新的Conda环境，称为<em class="oa">测试</em>。带有星号的环境表示我们所处的活动环境。这意味着我们仍然处于基础环境中。让我们激活新环境，并再次检查虚拟环境列表:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="c7c9" class="nm mq jj oh b gy ol om l on oo">$ conda activate test<br/>$ conda env list</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/56ff40540df85b81e233ac64ea008c6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gAcTLAGyRqA4GPGWq993nw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">截断输出</p></figure><p id="edcd" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以看到新虚拟环境旁边的星号:<em class="oa"> test </em>。我们还可以在命令行的开头看到<code class="fe oq or os oh b">()</code>中的活动环境名称，如上面截图的左上角所示。</p><h2 id="cd91" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍2.2.B .通过克隆创建虚拟环境</h2><p id="e8ca" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">创建虚拟环境的另一种方法是克隆现有环境。使用以下命令，我们克隆了一个名为<em class="oa"> test </em>的环境，并将该克隆命名为<em class="oa"> testclone </em>:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="2dca" class="nm mq jj oh b gy ol om l on oo">$ conda create -n testclone --clone test # Short form<br/>$ conda create --name testclone --clone test # Long form</span></pre><p id="07e4" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">一旦创建了环境，我们就可以像以前一样激活新创建的环境。</p><h2 id="5e34" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍2.2.C .使用命令构建虚拟环境</h2><p id="e3ba" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">有时候我们需要自己营造环境。让我们使用Python版本3.9.7创建一个环境，并将其命名为<em class="oa">另一个测试</em>:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="0968" class="nm mq jj oh b gy ol om l on oo">$ conda create -n anothertest python=3.9.7</span></pre><p id="0fdd" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">出现提示时，键入<code class="fe oq or os oh b">y</code>并按enter键继续创建。如果我们不想被提示，我们可以在命令中添加<code class="fe oq or os oh b">-y</code>:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="aa14" class="nm mq jj oh b gy ol om l on oo">$ conda create -n anothertest python=3.9.7 -y</span></pre><p id="c6f2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们激活环境并检查Python版本:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="d862" class="nm mq jj oh b gy ol om l on oo">$ conda activate anothertest<br/>$ python --version</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/e85ea1fe13a8a297fbcaf5866c16c5f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*xRtCxgLOO8_scvu2357-PQ.png"/></div></figure><p id="3547" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以确认新环境使用的是Python 3.9.7。在创建Conda环境时，我们可以上下Python版本。例如，如果我的基本Python是3.7.1，我可以用Python 3.5.3或3.9.7创建一个环境。如果我们没有指定Python版本:<code class="fe oq or os oh b">conda create -n anothertest -y</code>，新环境将使用与基本Python相同的Python版本。</p><p id="72ec" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><a class="ae jg" href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#creating-an-environment-with-commands" rel="noopener ugc nofollow" target="_blank">一次安装一个软件包会导致依赖冲突。Conda的官方文档建议同时安装所有软件包，以便解决依赖冲突。</a>因此，我们现在将一次安装多个软件包，而不是逐个安装。这里有一个例子:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="cda4" class="nm mq jj oh b gy ol om l on oo">$ conda install "numpy&gt;=1.11" nltk==3.6.2 jupyter -y</span></pre><p id="5153" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面是我们在安装软件包时指定版本的不同方法:</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/afb097a58f2daa97c1055bfc0ec75707.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*oBazVcjy1bA9An21CS_d-A.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来源:<a class="ae jg" href="https://docs.conda.io/projects/conda/en/4.6.0/_downloads/52a95608c49671267e40c689e0bc00ca/conda-cheatsheet.pdf" rel="noopener ugc nofollow" target="_blank">康达备忘单</a>(第2页)</p></figure><p id="3775" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果我们不指定软件包的版本:<code class="fe oq or os oh b">conda install numpy nltk jupyter -y</code>，Conda将安装这些软件包的最新版本。</p><h2 id="52c7" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍 2.3.康达频道</h2><p id="bf1b" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">默认情况下，<code class="fe oq or os oh b">conda install</code>会从它的<code class="fe oq or os oh b">defaults</code>通道安装软件包。有时，某个包在此频道上不可用，但可能在其他Conda频道上可用，如由社区维护的热门频道<code class="fe oq or os oh b">conda-forge</code>。我们可以使用以下命令检查当前通道:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="a855" class="nm mq jj oh b gy ol om l on oo">$ conda config --show channels</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/5519ac17d22cf7fa69194ac188634fe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*iUAaRHt7L1xDS8XnK9ciuw.png"/></div></figure><p id="de31" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要添加<code class="fe oq or os oh b">conda-forge</code>频道并再次检查当前频道:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="73aa" class="nm mq jj oh b gy ol om l on oo">$ conda config --add channels conda-forge<br/>$ conda config --show channels</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/ef38c649de82a32ec4d6b1ab28bdbb6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/1*bK6vR6llNLy9Km-eUgapfg.png"/></div></figure><p id="3762" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以看到一个额外的通道:<code class="fe oq or os oh b">conda-forge</code>。这些频道的显示顺序显示了频道优先级。在这个例子中，<code class="fe oq or os oh b">conda-forge</code>是高优先级信道。这意味着当我们运行<code class="fe oq or os oh b">conda install package_name</code>时，Conda将尝试从<code class="fe oq or os oh b">conda-forge</code>通道安装一个包，如果它在<code class="fe oq or os oh b">conda-forge</code>中不可用，它将尝试从<code class="fe oq or os oh b">defaults</code>通道安装一个包。信道的这种变化不是特定于环境的，相反，它影响Conda的一般配置方式。如果你想删除一个<code class="fe oq or os oh b">conda-forge</code>通道，你可以使用下面的命令:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="28a0" class="nm mq jj oh b gy ol om l on oo">$ conda config --remove channels conda-forge</span></pre><p id="14c4" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果我们不想添加一个通道，但仍想安装在另一个通道中可用但在<code class="fe oq or os oh b">defaults</code>通道中不可用的软件包，我们可以使用以下替代命令从其他通道安装软件包:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="0a9b" class="nm mq jj oh b gy ol om l on oo">$ conda install package_name -c conda-forge -y # Short form<br/>$ conda install package_name --channel conda-forge -y # Long form</span></pre><p id="eda5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这不会改变通道配置，但会从该场合所需的通道(如本例中的<code class="fe oq or os oh b">conda-forge</code>)安装软件包。</p><p id="b5fd" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果在Conda通道中没有可用的软件包，您可以使用<code class="fe oq or os oh b">pip install</code>命令从活动环境中的Pip安装该软件包:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="a503" class="nm mq jj oh b gy ol om l on oo">$ pip install package_name</span></pre><p id="9459" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在是时候学习一些其他有用的命令来管理虚拟环境了。</p><h2 id="903b" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍 2.4.停用虚拟环境</h2><p id="6e2b" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">使用完虚拟环境后，如果想要切换回基本环境，可以使用以下方法之一停用环境:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="31d4" class="nm mq jj oh b gy ol om l on oo">$ conda activate # Option 1<br/>$ conda deactivate test # Option 2</span></pre><h2 id="3712" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍 2.5.将环境规格导出到YAML文件</h2><p id="b48a" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">我们可以通过以下方式检查当前环境的规格:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="8992" class="nm mq jj oh b gy ol om l on oo">$ conda list</span></pre><p id="f457" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这将显示环境细节，如使用的Python版本、安装的包名及其版本。要将当前环境的规范导出到当前目录下的YAML文件中，我们可以使用以下命令之一:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="a118" class="nm mq jj oh b gy ol om l on oo">$ conda env export &gt; environment.yml # Option 1<br/>$ conda env export -f environment.yml # Option 2</span></pre><h2 id="5528" class="nm mq jj bd mr nn no dn mv np nq dp mz lq nr ns nb lu nt nu nd ly nv nw nf jp bi translated">📍 2.6.正在删除虚拟环境</h2><p id="71fa" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">现在让我们删除我们在本教程中创建的所有测试环境:</p><pre class="me mf mg mh gt og oh oi oj aw ok bi"><span id="f22b" class="nm mq jj oh b gy ol om l on oo">$ conda activate # Need to deactivate the environment first<br/>$ conda env remove -n test<br/>$ conda env remove -n testclone<br/>$ conda env remove -n anothertest<br/>$ conda env list</span></pre><p id="67d2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你用的是Windows，我也建议你删除环境文件夹。如果你不确定在哪里可以找到这些文件夹，<code class="fe oq or os oh b">conda env list</code>会显示位置。例如，文件夹在我电脑上的这个位置:</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/cad1f2f01ae911aee5752ce33d2c2149.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*WXQaaGkQVpJXQ2uU8pCYGQ.png"/></div></figure><p id="417b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">删除它之后，所有的测试环境都将被完全删除。现在轮到你为你的项目创建一个虚拟环境了！</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pa"><img src="../Images/b824377503d2f3a84af7c4e36c21e831.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*g_qxg9d70vmL8OdQ"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com/@_giri_?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> AARN GIRI </a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="ac57" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这篇文章中，我们介绍了使用命令行的Conda虚拟环境的基础知识。如果您想探索，也可以使用Anaconda Navigator管理虚拟环境。如果你想了解更多关于康达的信息，<a class="ae jg" href="https://jakevdp.github.io/blog/2016/08/25/conda-myths-and-misconceptions/" rel="noopener ugc nofollow" target="_blank">这里</a>有一篇由<a class="ae jg" href="https://github.com/jakevdp" rel="noopener ugc nofollow" target="_blank">杰克·范德普拉斯</a>撰写的关于<em class="oa">“康达神话和误解”</em>的深刻文章。</p><p id="fcdc" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><em class="oa">您想访问更多这样的内容吗？媒体会员可以无限制地访问媒体上的任何文章。如果您使用</em> <a class="ae jg" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="oa">我的推荐链接</em></a><em class="oa">成为会员，您的一部分会费将直接用于支持我。</em></p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="b3e3" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">感谢您阅读我的文章。如果你感兴趣，这里有我其他一些帖子的链接:</p><p id="1265" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">◼️️ <a class="ae jg" rel="noopener" target="_blank" href="/introduction-to-python-virtual-environment-for-data-science-3c216929f1a7?source=your_stories_page-------------------------------------">面向数据科学的Python虚拟环境简介</a> <br/> ◼️️ <a class="ae jg" rel="noopener" target="_blank" href="/introduction-to-git-for-data-science-ca5ffd1cebbe?source=your_stories_page-------------------------------------">面向数据科学的Git简介</a> <br/> ◼️️ <a class="ae jg" rel="noopener" target="_blank" href="/bayes-theorem-explained-1b501d52ae37">贝叶斯定理讲解</a> <br/> ◼️️ <a class="ae jg" rel="noopener" target="_blank" href="/comparing-random-forest-and-gradient-boosting-d7236b429c15">比较随机森林与梯度推进</a> <br/> ◼️️ <a class="ae jg" rel="noopener" target="_blank" href="/how-are-decision-trees-built-a8e5af57ce8?source=your_stories_page-------------------------------------">决策树是如何构建的？</a> <br/> ◼️️ <a class="ae jg" rel="noopener" target="_blank" href="/pipeline-columntransformer-and-featureunion-explained-f5491f815f?source=your_stories_page-------------------------------------">管道、ColumnTransformer和FeatureUnion说明</a> <br/> ◼️️ <a class="ae jg" rel="noopener" target="_blank" href="/featureunion-columntransformer-pipeline-for-preprocessing-text-data-9dcb233dbcb6"> FeatureUnion、ColumnTransformer &amp;管道用于预处理文本数据</a></p><p id="a4ec" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">再见🏃 💨</p></div></div>    
</body>
</html>