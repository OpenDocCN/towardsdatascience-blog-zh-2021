<html>
<head>
<title>Canonical Correlation Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">典范相关分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/canonical-correlation-analysis-b1a38847219d?source=collection_archive---------2-----------------------#2021-06-29">https://towardsdatascience.com/canonical-correlation-analysis-b1a38847219d?source=collection_archive---------2-----------------------#2021-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0410" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">对典型相关分析的全面概述，以及用R和Python编写的示例的完整演练</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fd511e4c9dd100dced1d527a90eb144d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uTeLw7qD2TRz6QxtAuTtpQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">典型相关分析——照片由<a class="ae ky" href="https://unsplash.com/@alexpresa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Alex Presa </a>在<a class="ae ky" href="https://unsplash.com/s/photos/color?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="b7b6" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">典范相关分析</h1><p id="a143" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在本文中，您将了解到关于典型相关分析的所有知识。典型相关分析是一种多元统计技术，允许您<strong class="lt iu">分析两个数据集</strong>之间的相关性。</p><p id="9930" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">典型相关分析可用于以两种方式对两个数据集之间的相关性进行建模:</p><ul class=""><li id="bbdd" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">关注依赖关系，并以类似回归的方式对两个数据集建模:数据集y作为数据集x的函数。</li><li id="ecf7" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">侧重于探索两个数据集之间的关系，而不将任何数据集作为因变量或自变量。在这种情况下，您可以将其与<a class="ae ky" rel="noopener" target="_blank" href="/what-is-the-difference-between-pca-and-factor-analysis-5362ef6fa6f9"> PCA或因子分析</a>等方法进行比较。</li></ul><p id="8c54" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">进行典型相关分析时，需要理解两个核心概念:</p><ul class=""><li id="85b6" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">标准变量</li><li id="8813" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">典型相关</li></ul><h1 id="ddbf" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">标准变量</h1><p id="2833" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">典型相关分析的第一个中心概念是典型变量的概念。典型相关分析的目标是模拟两个数据集之间的关系。</p><p id="1740" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">当然，数据集很难一次建模，因为它们由许多变量组成。分析一个数据集中所有变量之间的相关性已经是一个挑战，所以现在任务更加复杂，因为我们必须区分变量之间的<strong class="lt iu">相关性和两个数据集</strong>之间的<strong class="lt iu">相关性。</strong></p><p id="1320" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了简化这项任务，模型将识别<strong class="lt iu">规范变量。</strong>规范变量是数据集之一的变量的<strong class="lt iu">线性组合</strong>。由于典型相关分析关注两个数据集之间的相关性，您将定义<strong class="lt iu">对典型变量</strong>:一个典型变量来自左侧数据集，另一个典型变量来自右侧数据集。</p><p id="6394" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果您的两个数据集中有<strong class="lt iu">不同数量的变量，那么您可以拥有与最小数据集中的变量一样多的规范变量对。</strong></p><p id="862c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">规范变量将由模型定义。它们被选为<strong class="lt iu">具有最大可能相关性</strong>的(原始)变量的两个线性组合(每个数据集中一个)。我们将在后面看到如何使用R或Python来找到它们。</p><h1 id="40b9" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">典型相关</h1><p id="ed2f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一旦定义了规范变量，就可以通过查看规范变量之间的相关性来继续分析。由于这种相关性是在典型变量之间测量的，我们就简单地称之为典型相关。</p><p id="c137" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们将很快开始解释一个例子。请记住，我们必须分析两组重要的指标，以了解我们两个数据集之间的相关性:</p><ul class=""><li id="04e2" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu">解读典型相关</strong>:数据集1中的每个典型变量与其在数据集2中的对应变量的相关程度如何？</li><li id="6fb9" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">解读规范变量</strong>:每个规范变量代表哪些原始变量？</li></ul><h1 id="fa73" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">典型相关分析与其他方法</h1><p id="c0dc" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在你已经理解了典型相关分析的目标，让我们讨论一下该方法与密切相关的方法之间的联系和区别。</p><h2 id="ab26" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">典型相关分析与主成分分析</h2><p id="e41f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">第一个有用的比较是在典型相关分析和<a class="ae ky" rel="noopener" target="_blank" href="/what-is-the-difference-between-pca-and-factor-analysis-5362ef6fa6f9">主成分分析</a> (PCA)之间。PCA是一种在数据集内寻找线性组合(称为主成分)的方法，其目标是最大化由这些主成分解释的变化量。</p><p id="b852" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">PCA侧重于在一个数据集的<strong class="lt iu">中寻找引起最大<strong class="lt iu">方差</strong>的线性组合，而典型相关分析侧重于在两个数据集中寻找引起最大<strong class="lt iu">相关性的线性组合。</strong></strong></p><h2 id="4c26" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">典型相关分析与多元多元回归</h2><p id="62ac" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">第二个有趣的比较是典型相关分析和多元多元回归之间的比较。多元多元回归是多元回归的一个变种，其中有多个因变量，而在标准多元回归中，只有一个因变量。</p><p id="f7d2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">多元多元回归的目标与典型相关分析的目标非常相似:在两者中，您都试图找到允许您对两个数据集(一个相关数据集和一个独立数据集)之间的相关性进行建模的线性组合。</p><p id="028f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2016年，利大学的加里·卢茨和坦尼娅·埃克特已经成功证明了这两种方法的一部分在数学上的等价性。以下是他们文章中的一段引文:</p><blockquote class="ns nt nu"><p id="0b1d" class="lr ls nv lt b lu mn ju lw lx mo jx lz nw mp mc md nx mq mg mh ny mr mk ml mm im bi translated">多元多元回归和典型相关分析之间的相似性在文献中没有得到一致的认可。本文表明，虽然这两种分析的目标似乎不同，但分析本身在数学上是等价的。在综合显著性检验、变量加权方案和降维分析方面，将判别分析纳入事后调查的多元多元回归分析将产生与典型相关分析相同的结果。</p></blockquote><p id="5a9e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这个发现并不一定意味着其中一个方法是多余的，但它仍然是有趣的。</p><h1 id="6357" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">典型相关分析示例</h1><p id="fe3b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在让我们介绍一个典型相关分析的例子。我们将看到一组关于工作表现的模拟数据。在数据集中，有9个变量。</p><p id="710b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">相关数据集包含三个变量，每个变量都是工作绩效的备选衡量指标:</p><ul class=""><li id="0266" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">客户满意度:你的主要客户给你的满意度评分，在1到100分之间</li><li id="4d43" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">超级评估员</strong>:你的上司对你工作表现的评估，介于1到100分之间</li><li id="d013" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu"> ProjCompl </strong>:你的项目成功交付的百分比</li></ul><p id="7517" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">独立数据包含六个变量，其中两个变量是社会技能的测量值:</p><ul class=""><li id="e843" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu">psycht test 1</strong>:0分(差)到100分(好)</li><li id="6fd5" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">心理测试2 </strong>:得分在0(差)到100(好)之间</li></ul><p id="ff6c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">它在智力技能上也有两个变量:</p><ul class=""><li id="71ce" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">YrsEdu :接受高等教育的年数</li><li id="97c5" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">智商</strong>:智商测试得分</li></ul><p id="785c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">它有两个关于动机的变量:</p><ul class=""><li id="a3bf" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu"> HrsTrain </strong>:培训花费的小时数</li><li id="0774" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu"> HrsWrk </strong>:一周工作的平均小时数</li></ul><p id="a48b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">此分析的目标是应用典型相关分析，并查看这三个独立的概念是否也被模型识别为典型变量，或者是否有更有趣的典型变量需要定义。我们还将检查哪些原始变量会影响工作绩效。</p><p id="75d5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你感兴趣，你可以将结果与这篇关于<a class="ae ky" rel="noopener" target="_blank" href="/structural-equation-modeling-dca298798f4d">结构方程建模</a>的文章进行比较，这篇文章探索了相同的假设。</p><h1 id="204f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">R中的典型相关分析</h1><p id="2d31" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在对于R中的典型相关分析，让我们从导入数据开始。我已经把它们上传到了AWS上的一个S3桶中，这样你就可以下载并导入它们，只需一行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R-导入数据中的典型相关分析</p></figure><p id="d10d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下一步是分离X变量和Y变量。然后我们可以使用r中内置的<code class="fe ob oc od oe b">cancor</code>函数来拟合模型。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R-拟合模型中的典型相关分析</p></figure><p id="326d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">模型的输出将是所有系数和参数的列表。我们将在下一步中使用其中一些，其他的将在我们使用的函数中隐式使用。至少拥有所有这些参数是件好事，以防我们需要它们。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/91aa4505a2fb5ebf620956110a2af2e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k0LcacNavDnf8Mu5P0zOew.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R模型输出中的典型相关分析</p></figure><h2 id="e412" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">典型相关分析有几个维度？</h2><p id="acd9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在让我们看一个图，它允许你决定你应该包括多少个维度。维度归结为一对(一个x和一个y)规范变量。因为我们在Y轴上只有3个变量，我们不可能有超过3对变量，所以是三维的。</p><p id="c60b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下图显示了每个维度对之间的相关性:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R中的典型相关分析——维数的确定</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/911140569aee512633aca2123506ae53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dexxChcFn6n6UDqSTrAYJg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R —柱状图中确定维数的典型相关分析</p></figure><p id="93df" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">前两对规范变量有很强的相关性。第三个虽然还是比较高，但是有点低。对于本分析的其余部分，我们将使用前两个维度。</p><h2 id="f8bb" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">R中的典型相关图</h2><p id="a054" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们现在将进入典型相关分析的本质。分析的目标是了解这两个数据集是如何相互关联的。我们想了解工作表现的现象。</p><p id="a2de" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们将使用一个名为CCA的软件包，它具有绘制典型相关分析结果的强大功能。我们还需要使用cc函数重新调整模型，以便能够进行绘图。这可以通过以下方式完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R-绘制变量图中的典型相关分析</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/81c1eda5b4931427b20200da7fcee3ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VMxbyou9USnD8V2bBjnhYQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R-绘制变量图中的典型相关分析</p></figure><p id="b3b0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对于我们的分析来说，右边的情节不是很有趣。它显示了我们分析中的个人，但我们只是随机选择了一些人，所以这并不是很有用。</p><p id="c2df" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然而，左边的图表给出了我们想要通过分析获得的确切信息。该图显示了每个原始变量的方向，在轴上显示了两个维度。我们可以使用图上的<strong class="lt iu">接近度来理解两个数据集的变量之间的关系！</strong></p><h2 id="9104" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated"><strong class="ak">项目完成后的总结</strong></h2><p id="6922" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">维度1 </strong>显示在x轴上，这意味着在维度1上得分高的变量将位于图表的右侧，而在维度1上得分低的变量将位于左侧。维度1是最重要的维度(从定义上来说)，那么我们来看看能从中看出什么。</p><p id="7fdd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们清楚地看到最左边的一组四个变量:HrsWrk，HrsTrnn，SuperSat，ProjCompl。特别是<strong class="lt iu"> HrsWrk和ProjCompl </strong>完全在一个地方。我们可以得出结论，<strong class="lt iu">项目的完成与工作和培训花费的时间密切相关</strong>:这是一门非常有趣的学问！</p><h2 id="8a12" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">主管满意的结论</h2><p id="aa8f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">SuperSat也非常接近这组变量。第一个有趣的发现是<strong class="lt iu">超级卫星也与工作和训练的时间有很大关系</strong>。然而，典型相关分析的优势在于，我们还可以看到工作绩效变量之间的相互关系。显然，我们现在可以得出结论,<strong class="lt iu">主管满意度也与项目完成密切相关！</strong></p><h2 id="31aa" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">关于客户满意度的结论</h2><p id="934b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">非常有趣的是，客户满意度位于图表的其他地方。它在下方，表明它被维度2覆盖。我们可以得出结论<em class="nv">为了满足客户，我们需要不同于完成项目和取悦你的主管所需的行为。</em></p><p id="d8c9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了让你的客户满意，社交更加重要！这可以从社交技能的两个心理测验分数与客户满意度密切相关的事实中得出结论。这也是非常有用的见解！</p><h2 id="01ba" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">关于智商和教育年限的结论</h2><p id="c859" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">基于智商和智力技能处于中间的事实，我们可以得出结论，它们不在第一和第二个维度中。逻辑上的原因是他们在第三维度。</p><p id="c4dd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了检查这一点，我们将需要创建与之前相同的图形，但是使用维度3。这产生了两个图:一个在维度1和3之间，另一个在维度2和3之间。您可以这样做:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R——绘制第三维的典型相关分析</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/d736a7198e3d04c4deae842148f95d9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MKZHCe46OsqguiUM2LlG4Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R——绘制第三维的典型相关分析</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R——绘制第三维的典型相关分析</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/b9363181d95bcbeb9f91b8fb1d908023.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p0WmckuYvHIhol05BKHVYg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">R——绘制第三维的典型相关分析</p></figure><p id="4f14" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">有趣的是，我们没有看到智商和受教育年限出现在维度3的极端上！我们已经检查了所有三个维度，所以这意味着智商和受教育年限被简单地估计为对工作表现没有太大影响！我们分析的第三个结论也很有趣。</p><h1 id="6b85" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">Python中的典型相关分析</h1><p id="5af4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对于那些喜欢Python的人，让我们也做一个Python实现。当然，结论是相同的，所以我不会重复完整的实现。</p><p id="5fc9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在Python中，您可以使用以下代码直接从AWS上的我的S3桶中读取CSV:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python中的典型相关分析—导入数据</p></figure><p id="3fa7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下一步是在X和Y变量之间分割数据。然后，您可以从<code class="fe ob oc od oe b">scikit-learn.cross_decomposition</code>实例化CCA模型。最后，使用拟合方法来拟合模型:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python中的典型相关分析—拟合模型</p></figure><p id="b01e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在您已经在<code class="fe ob oc od oe b">my_cca</code>对象中有了模型，您可以用特定的方法访问许多系数。几个例子:</p><ul class=""><li id="3389" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">使用<code class="fe ob oc od oe b">my_cca.x_weights_</code>和<code class="fe ob oc od oe b">my_cca.y_weights_</code>获得重量</li><li id="6ce7" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">使用<code class="fe ob oc od oe b">my_cca.x_loadings_ </code>和<code class="fe ob oc od oe b">my_cca.y_loadings_</code>获得载荷</li></ul><p id="382f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，分析中有趣的部分是投射到维度上的变量图。这个图在Python中没有预构建的实现，所以我们需要使用旋转系数来构建它。您可以使用以下代码来实现这一点:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python中的典型相关分析—绘制结果</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/935669d6c6db6e4f38da9c2a084df1c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XgLjjUFgbBhXy0E7jq4soQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python中的典型相关分析—绘制结果</p></figure><p id="95e9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这个图看起来和r中显示的有点不一样，原因是<strong class="lt iu">旋转不一样。</strong>实际上，模型并不关心图的实际旋转，只关心变量之间的相关性。你可以旋转整个东西，得到和R输出几乎一样的图形。</p><h2 id="cb95" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">R和Python输出的比较</h2><p id="81e4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果我们看看这个解释，我们会得到非常相似的结论:</p><ul class=""><li id="4caf" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">ClientSat仍然与PsychTest1和PsychTest2密切相关</li><li id="c45e" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">智商和受教育年限仍然无关紧要</li><li id="19a9" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">工作小时数仍然与项目完成密切相关</li></ul><p id="b5d0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然而，我们也看到了一些差异:</p><ul class=""><li id="42c2" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">花在训练上的时间在Python中并不重要，而在R中却很重要</li><li id="f75d" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">主管的满意度与项目完成的相关性似乎比在R</li></ul><p id="ba33" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这不一定是问题。当使用不同的代码实现时，经常会出现略微不同的结果。有两个分析其实也没那么糟糕。它允许我们确认分析之间的结论，并且可以增加两者之间共享的结论的有效性。</p><h1 id="c331" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="7d6a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">总之:</p><ul class=""><li id="3ed7" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">本文向您展示了如何使用典型相关分析来分析两个数据集之间的相关性。</li><li id="fd2a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">在关于工作绩效的例子中，您已经看到能够使用典型相关分析来获得有趣的结论。</li><li id="214a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">您已经看到了如何在实践中使用R和Python实现来应用典型相关分析。</li></ul><p id="4d34" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我希望这篇文章对你有用。不要犹豫，继续关注更多的数学、统计和数据内容！</p></div></div>    
</body>
</html>