<html>
<head>
<title>Tagging a Location to a Shapefile Area using Geopandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Geopandas将位置标记到Shapefile区域</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tagging-a-location-to-a-shapefile-area-using-geopandas-5d74336128bf?source=collection_archive---------34-----------------------#2021-08-13">https://towardsdatascience.com/tagging-a-location-to-a-shapefile-area-using-geopandas-5d74336128bf?source=collection_archive---------34-----------------------#2021-08-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="de59" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">GeoPandas简化的另一个地理空间用例</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b452d3214c64d5bcadebd407605b4dde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5Ayc368ba7jlolxu"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@marjan_blan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Marjan Blan | @marjanblan </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="a586" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我以前写过一个使用Geopandas和Matplotlib绘制地图的简单方法。</p><div class="ls lt gp gr lu lv"><a rel="noopener follow" target="_blank" href="/a-beginners-guide-to-create-a-cloropleth-map-in-python-using-geopandas-and-matplotlib-9cc4175ab630"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">使用GeoPandas和Matplotlib在Python中创建Choropleth地图的初学者指南</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">最有趣的数据图像之一是choropleth地图。学习使用以下工具制作choropleth地图的基础知识…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">towardsdatascience.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="2c6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，另一个非常常见的地理空间分析用例是将特定位置标记为预定位置/区域/地区等。例如，假设您是一家实体商店的分析师，想要绘制其关键领域的竞争程度。这些关键区域可以是企业预定义的区域，也可以基于预定的国家区域(如省、区等)。).</p><p id="d2bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你的团队已经收集了足够多的竞争对手地址及其经度坐标列表。要么从第三方公司购买，要么进行艰苦的谷歌搜索，或者两者都有。所以现在你的任务是用一个自定义的城市名来映射这些地址的纬度和经度。您的公司已经有了包含策略性绘制的边框的shapefile。你所需要做的就是将城市名称与竞争者的位置联系起来。</p><p id="2269" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你不需要任何花哨的算法，GeoPandas包已经得到了你的支持！</p><p id="bddc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个练习中，我们将使用印度尼西亚省的shapefile，您可以在这里<a class="ae kv" href="https://github.com/mrakelinggar/data-stuffs/tree/master/cloropleth_python" rel="noopener ugc nofollow" target="_blank">获得</a>，以及我收集的一些随机的印度尼西亚商场地址。你可以在我的Github <a class="ae kv" href="https://github.com/mrakelinggar/data-stuffs/tree/master/latlong_in_shp" rel="noopener ugc nofollow" target="_blank"> repo </a>获得它和完整的源代码。</p><p id="8a0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一步是加载我们需要的包，然后是我们的参考shapefile和我们想要标记的地址列表。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mm"><img src="../Images/8ff616883dcc1729f59aa452e748d5f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w_ovC0_1lUp9QWvc5IpVMQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">印度尼西亚省参考shapefile来源于作者</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mn"><img src="../Images/2d57350ce6ce8e3978587fe8b42f302f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZfKA_FfBZr4hPSb444JnAg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">要标记的地址坐标—来源于作者</p></figure><p id="1972" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，Geopandas实际上是一个非常强大的地理空间包，使这项任务变得如此简单。它已经为我们提供了<code class="fe mo mp mq mr b">within</code>命令，所以我们只有几行简短的代码！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/3383c6e2c60eb0df97e80a6f9d023cfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wfkaNAEAx8T9-X8lwcwKKg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">地址标记结果-来源于作者</p></figure><p id="86f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mo mp mq mr b">within</code>代码检查我们地址的纬度和经度点是否在我们的参考shapefile中。注意，我们需要一次用一个省的参考来检查它。否则，我们将无法正确地标记它(因为两个地址可能在两个不同的省份，如果我们一次对所有参考进行标记，我们将很难正确地标记它)。</p><p id="8c4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样！希望本教程能对您的地理空间分析有所帮助。完整的源代码和数据，你可以在我的<a class="ae kv" href="https://github.com/mrakelinggar/data-stuffs/tree/master/latlong_in_shp" rel="noopener ugc nofollow" target="_blank"> Github repo </a>上查看。</p></div></div>    
</body>
</html>