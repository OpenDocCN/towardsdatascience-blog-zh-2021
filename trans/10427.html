<html>
<head>
<title>3 Python Tricks for Better Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">获得更好代码的3个Python技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-python-tricks-for-better-code-511c82600ee1?source=collection_archive---------40-----------------------#2021-10-04">https://towardsdatascience.com/3-python-tricks-for-better-code-511c82600ee1?source=collection_archive---------40-----------------------#2021-10-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1fc2" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">编程；编排</h2><div class=""/><div class=""><h2 id="1f03" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">..第二个技巧让我的python程序执行速度提高了440倍！</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/8fe7b262d12fdbd153e7f0092621f8f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eTiwa_LD2yHYly8s"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">布雷特·乔丹在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="367c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">大蟒道！💡</strong></p><p id="8909" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">利用Python独特的特性编写代码，提高了代码的可读性，减少了执行时间，并使程序更短。</p><p id="4647" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我在最近的项目中使用了这3个技巧，这使得我的Python程序长度减少了近75%,同时可读性更好。</p><p id="ee18" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在上一篇文章中，我讨论了用Python编码来加速代码执行的最好的<a class="ae lh" rel="noopener" target="_blank" href="/3-time-saving-python-tricks-a017f4215aeb"> <strong class="lk jd">省时的</strong> </a>方法。⏳</p><p id="2d55" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在接下来的4分钟里，你将学习Python中的3个技巧，用缩短的代码长度写出更好的代码。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="be06" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">列出理解</h1><p id="7fca" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">列表理解是最好的，也是最真实的💡基于现有列表创建列表的方法。</p><p id="c53b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了让文字更清晰，这里举个例子。让我们创建一个简单的字符串列表。</p><pre class="ks kt ku kv gt ni nj nk nl aw nm bi"><span id="c67f" class="nn mm it nj b gy no np l nq nr">listofnames = ["apple", "orange100", "banana2",<br/>                 "pineapple", "10grapes", "jackfruit"]</span></pre><p id="4c4e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，如果字符串是纯字母的，我想从最近创建的大写<code class="fe ns nt nu nj b">listofnames</code>中创建一个所有字符串的列表。</p><p id="5098" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该任务可以使用<code class="fe ns nt nu nj b">for</code>循环和<code class="fe ns nt nu nj b">if</code>语句来完成，但这不是Pythonic式的方法。相反，使用如下所示的列表理解将代码长度限制在一行内。</p><pre class="ks kt ku kv gt ni nj nk nl aw nm bi"><span id="1e07" class="nn mm it nj b gy no np l nq nr">new_list = [name.upper() for name in listofnames if name.isalpha()]</span></pre><p id="8131" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让理解变得更简单，让我们将列表理解与for循环和if语句进行比较。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/376dde6737af6cf9f8cb89a7643dc8d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*yKXKz4hUqyXFrCbvZAt5Aw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者列表理解和For循环|图像的比较</p></figure><p id="7121" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如上图所示，<code class="fe ns nt nu nj b">for</code>循环中最里面的元素将是列表理解中的第一个元素。</p><p id="7997" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，列表理解并不是在所有情况下都是正确的选择。在某些情况下，它会使您的代码运行缓慢并消耗更多内存。🚩</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nw"><img src="../Images/7260c26ec825f4fde5497d8f03af76a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oKYVpCcBmkTgThJ5mxfoPQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">列表理解|作者图片的优缺点</p></figure><p id="cc92" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">根据程序的复杂程度，您必须在列表理解和for循环之间做出选择。重要的是编写一个易于理解和修改的代码。</p><h1 id="07d6" class="ml mm it bd mn mo nx mq mr ms ny mu mv ki nz kj mx kl oa km mz ko ob kp nb nc bi translated">用于复制Switch-Case语句的字典</h1><p id="12c6" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">使用字典📚在Python中复制Switch-Case和多个<code class="fe ns nt nu nj b">if-elif-else</code>语句。</p><p id="e484" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">与其他编程语言不同，Python不支持<code class="fe ns nt nu nj b">Switch-Case</code>语句。这可以通过使用<code class="fe ns nt nu nj b">if-elif-else</code>语句来实现。</p><p id="0d80" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">用字典替换多个<code class="fe ns nt nu nj b">if-elif-else</code>语句使得我的程序<strong class="lk jd"> <em class="oc">比上一个版本的</em> ⚡ </strong>快了440倍。</p><p id="c907" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们看看这个例子。<br/>变量action是开关，其取值是Case。根据该值，执行程序的不同路径。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/23dad1a539a451f652a151f13294fb91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*640c3TlYueAyjH49cnKwrA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">Switch-Case语句|作者图片</p></figure><p id="51eb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当然，这可以使用if-else语句来实现。但是，随着复杂性的增加，代码的可读性将开始下降。</p><p id="79de" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面是如何在<code class="fe ns nt nu nj b">if-else</code>中实现这一点。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oe of l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">使用If-Else语句按作者复制Switch-Case | Gist</p></figure><p id="e32a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">仅语句<code class="fe ns nt nu nj b">if-elif-else</code>就占用了11行代码，具有良好的代码可读性，并且这将随着案例的增加而不断增长。</p><p id="0349" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">更好的方法是，使用包含所有案例的字典。📚请参见下面的示例。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oe of l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">使用目录复制交换机-案例|作者要点</p></figure><p id="bae9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">简单！代码长度减少，但代码可读性仍优于<code class="fe ns nt nu nj b">if-elif-else</code>。</p><p id="65fb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在更复杂的场景中，这些<code class="fe ns nt nu nj b">lambda</code>函数可以直接被用户定义的函数代替。因此，随着情况的增加，代码长度将总是只增加一行。</p><p id="0266" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">此外，根据代码的复杂性，字典可以改善完整代码的执行时间。在我的项目中，它使我的代码速度提高了440倍。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi og"><img src="../Images/0f162fad83e68f4b76a5c29269ec3ef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jpmpi_TfvoTxX_GUhwlwcA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者使用字典|图像的优势</p></figure><h1 id="d178" class="ml mm it bd mn mo nx mq mr ms ny mu mv ki nz kj mx kl oa km mz ko ob kp nb nc bi translated">三元条件句</h1><p id="6b5c" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">当您希望在特定条件为真时执行一行或一段代码时，请使用Python条件。</p><p id="9dd1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">通常，这是使用一个<code class="fe ns nt nu nj b">if</code>语句来完成的。然而，一个<code class="fe ns nt nu nj b">if</code>至少需要2行代码。有一种更简洁的方式来编写这样的条件语句Python中的三元运算符。</p><p id="86d3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">顾名思义，三元运算符有三个参数—条件为真时要计算的表达式，条件为假时要计算的表达式。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oh"><img src="../Images/f89fd1419c9c2c3a167167885baf4f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lWhDz_q4itWJQJhOH3lH4Q.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">Python三元运算符语法|作者图片</p></figure><p id="0a50" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们以写一个小代码来检查这个人是否是老年人为例，根据他的年龄。简单地说，开始一个可变的年龄。</p><pre class="ks kt ku kv gt ni nj nk nl aw nm bi"><span id="f4be" class="nn mm it nj b gy no np l nq nr">age = 79</span></pre><p id="3550" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">使用三元条件，这段代码减少到只有一行。</p><pre class="ks kt ku kv gt ni nj nk nl aw nm bi"><span id="a505" class="nn mm it nj b gy no np l nq nr">print("Senior Citizen") if age&gt;60 else print("Not a Senior Citizen")</span></pre><p id="1b73" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，相同的逻辑可以在下面的<code class="fe ns nt nu nj b">if-else</code>中实现。</p><pre class="ks kt ku kv gt ni nj nk nl aw nm bi"><span id="5cdd" class="nn mm it nj b gy no np l nq nr">if age&gt;60:<br/>    print("Senior Citizen")<br/>else:<br/>    print("Not a Senior Citizen")</span></pre><p id="7c82" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">显然，三元条件使代码<strong class="lk jd"><em class="oc"/></strong>缩短了75%,同时也提高了可读性。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="9d65" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这些是来自我的经验的提示和技巧，对每个人保持代码<strong class="lk jd">干净、简短</strong>和<strong class="lk jd">易于理解</strong>都是有用的。</p><p id="3098" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果您在项目中处理大量文本数据，那么我建议您阅读这些字符串操作方法。</p><div class="oi oj gp gr ok ol"><a rel="noopener follow" target="_blank" href="/five-must-know-string-methods-in-python-e97925d12eec"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd jd gy z fp oq fr fs or fu fw jc bi translated">Python中五个必须知道的字符串方法</h2><div class="os l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">towardsdatascience.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy lb ol"/></div></div></a></div><p id="cc4a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这就是你如何在更快地进行数据分析的同时发挥创造力。</p><div class="oi oj gp gr ok ol"><a rel="noopener follow" target="_blank" href="/five-ways-for-faster-data-analysis-801a043bfea9"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd jd gy z fp oq fr fs or fu fw jc bi translated">加快数据分析的五种方法</h2><div class="oz l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">让它在竞争中脱颖而出</h3></div><div class="os l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">towardsdatascience.com</p></div></div><div class="ot l"><div class="pa l ov ow ox ot oy lb ol"/></div></div></a></div></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="8a0a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要阅读媒体上的所有故事和文章，你今天就可以成为媒体会员&amp;让⚡ <strong class="lk jd"> <em class="oc">无限制</em> </strong> ⚡访问所有媒体故事。</p><blockquote class="pb"><p id="6978" class="pc pd it bd pe pf pg ph pi pj pk md dk translated"><a class="ae lh" href="https://medium.com/@17.rsuraj/membership" rel="noopener"> <em class="pl">在这里报名</em> </a> <em class="pl">和</em> <a class="ae lh" href="https://medium.com/subscribe/@17.rsuraj" rel="noopener"> <em class="pl">加入我的邮箱订阅</em> </a></p></blockquote><p id="039f" class="pw-post-body-paragraph li lj it lk b ll pm kd ln lo pn kg lq lr po lt lu lv pp lx ly lz pq mb mc md im bi translated">当你在这里注册并选择成为付费媒介会员，我会从你的会员费中获得一部分作为奖励。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h2 id="82f3" class="nn mm it bd mn pr ps dn mr pt pu dp mv lr pv pw mx lv px py mz lz pz qa nb iz bi translated"><strong class="ak">感谢您阅读并投入您宝贵的时间！</strong></h2><p id="6512" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">您可以随时联系我，获得建设性的反馈或关于数据分析的精彩讨论。📈📊 📉</p><p id="9c7e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">❓对通过项目学习感兴趣吗？？T19】</p><p id="6633" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在我的<a class="ae lh" href="https://github.com/17rsuraj" rel="noopener ugc nofollow" target="_blank"><strong class="lk jd"><em class="oc">Github</em></strong></a>回购上查了一堆项目。📚📚</p><p id="f83f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这里有一篇关于Pythonic编程方式的有趣文章。</p><div class="oi oj gp gr ok ol"><a href="https://www.udacity.com/blog/2020/09/what-is-pythonic-style.html" rel="noopener  ugc nofollow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd jd gy z fp oq fr fs or fu fw jc bi translated">什么是Pythonic风格？乌达城</h2><div class="oz l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">当浏览Stack Overflow寻找编程问题的答案时，您可能会遇到针对…</h3></div><div class="os l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">www.udacity.com</p></div></div><div class="ot l"><div class="qb l ov ow ox ot oy lb ol"/></div></div></a></div></div></div>    
</body>
</html>