<html>
<head>
<title>Machine Learning Model Deployment Options</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习模型部署选项</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/machine-learning-model-deployment-options-47c1f3d77626?source=collection_archive---------33-----------------------#2021-04-12">https://towardsdatascience.com/machine-learning-model-deployment-options-47c1f3d77626?source=collection_archive---------33-----------------------#2021-04-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/9d0bf0cc514b23385dc323e49be3d49e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oAgFgTZcGRhcxDT-74m9hQ.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">迈克尔·泽兹奇在<a class="ae kf" href="https://unsplash.com/s/photos/artificial-intelligence?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="413e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">机器学习模型部署可以分为3大类:</p><ol class=""><li id="76f8" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">实时推理:通常它涉及在web服务器上作为端点托管机器学习模型。然后，应用程序可以通过https提供数据，并在短时间内接收回模型的预测。</li><li id="21ff" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">批量推断:定期(由时间或事件触发，如数据进入数据湖/数据存储)启动资源，并部署机器学习模型来预测数据湖/数据存储中现在可用的新数据。</li><li id="e87e" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">模型部署到边缘:模型预测是在边缘设备上计算的，而不是要求将输入数据传递到后端。想想物联网和网络应用。</li></ol><p id="6e61" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当决定采用哪种方法将机器学习模型部署到生产中时，需要考虑几个因素。</p><ol class=""><li id="180a" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">延迟:应用程序/用户需要多快得到模型预测的结果？</li><li id="0d81" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">数据隐私:向后端发送数据有什么问题/顾虑吗？</li><li id="1260" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">网络连接:某些部署选项需要访问互联网/网络。如果需要部署模型的环境具有有限的或没有互联网/网络连接，则选项是有限的。</li><li id="1840" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">成本:某些部署选项比其他选项成本更高。想象一下，拥有一台全天候在线的服务器来提供预测服务。运行和维护该服务器的成本是多少？</li></ol><p id="9199" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">潜伏期</strong></p><p id="f5c1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设您已经创建了一个web/mobile应用程序，它提供了一个机器学习服务，可以根据用户的输入进行预测。如果用户能够在提供一些输入后立即获得模型的结果，而不是等待几个小时，或者直到他们收到模型最终对他们的输入做出预测的通知，这将是更好的用户体验。在这种特定情况下，将机器学习模型部署到实时推理管道/边缘部署中会更理想。</p><p id="97a6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一方面，如果机器学习模型正被用于丰富作为数据管道的一部分的一些数据，并且数据不需要立即可用，也许新数据每天仅到达一次，则使用批量推理管道来预测新输入数据可能更具成本效益。</p><p id="2f37" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">数据隐私</strong></p><p id="9088" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当将模型部署到实时推理或批量推理管道时，输入数据将需要传输到后端，并且通常会在由机器学习模型的创建者管理的云环境中。想象一下，提供的数据有可能成为个人身份信息，或者有人担心数据将存储在哪个国家。如果存在任何数据隐私问题，使用这种方法可能是不可行的。</p><p id="908e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">解决这个问题的一种方法是将模型部署到边缘设备中。这要求边缘设备具有足够的计算能力来实际托管模型，并进行对边缘处的输入数据进行预测所需的计算。部署到边缘设备的缺点是，通常计算资源的数量是一个限制，因此模型架构的选择可能需要更加简单，以便节省资源，这可能导致模型预测能力的性能下降。</p><p id="5785" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">网络连接</strong></p><p id="0bd0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将模型部署到实时推理或批量推理管道通常需要某种形式的网络连接，能够将输入数据从源传输到后端。如果输入数据源的网络连接有限/没有网络连接，这可能意味着为了解决业务用例，模型需要部署在离数据源更近的地方。</p><p id="59bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">成本</strong></p><p id="4f37" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">某些部署方法会导致不同的成本计算。当部署到实时推理管道时，您需要端点全天候可用。此外，您可能需要在高负载期间扩大计算资源，在低负载期间缩小计算资源。这种扩大和缩小的管理可能还需要一个团队来管理实时推理管道。</p><p id="88d3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">批处理推理管道通常更便宜，因为您只需要在预测新的一批数据所需的时间内加速资源。根据数据量和模型对数据进行预测的速度，您可以确定想要利用的资源量(节点数量和节点类型)(有关使用AWS的批处理推理管道的示例，请查看我之前写的这篇文章:<a class="ae kf" rel="noopener" target="_blank" href="/aws-sagemaker-batch-transform-design-pattern-fa1d60618fa8">https://towards data science . com/AWS-sagemaker-batch-transform-design-pattern-fa1d 60618 fa 8</a>)。</p><p id="ed88" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就运营成本而言，边缘部署可能是最便宜的选择，因为您正在利用边缘设备的资源。成本可能更加间接。这包括将预测能力低于其他模型的劣质模型部署到生产中的潜在成本、管理将模型部署到一组边缘设备的成本、评估模型在边缘设备上的性能的成本(您如何在边缘设备上收集和跟踪一段时间内的推断？).</p><p id="2539" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">AWS中的机器学习部署选项</strong></p><ol class=""><li id="40bb" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">实时推理:<a class="ae kf" href="https://docs.aws.amazon.com/sagemaker/latest/dg/inference-pipeline-real-time.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/sage maker/latest/DG/inference-pipeline-real-time . html</a></li><li id="3ab5" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">批量推断:<a class="ae kf" href="https://docs.aws.amazon.com/sagemaker/latest/dg/inference-pipeline-batch.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/sage maker/latest/DG/inference-pipeline-batch . html</a></li><li id="8ff0" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">边缘部署:可能需要使用SageMaker Neo:<a class="ae kf" href="https://docs.aws.amazon.com/sagemaker/latest/dg/neo-edge-devices.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/SageMaker/latest/DG/Neo-Edge-devices . html</a>或使用green grass:<a class="ae kf" href="https://docs.aws.amazon.com/greengrass/v1/developerguide/what-is-gg.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/green grass/v1/developer guide/what-is-gg . html</a>进行交叉编译和/或使用SageMaker边缘管理器进行模型管理:<a class="ae kf" href="https://docs.aws.amazon.com/sagemaker/latest/dg/edge.html" rel="noopener ugc nofollow" target="_blank">https://docs.aws.amazon.com/sagemaker/latest/dg/edge.html</a></li></ol><p id="7196" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">Azure中的机器学习部署选项</strong></p><ol class=""><li id="7fdc" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">实时推理:<a class="ae kf" href="https://docs.microsoft.com/en-us/azure/machine-learning/how-to-deploy-and-where?tabs=azcli" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/machine-learning/how-to-deploy-and-where？tabs=azcli </a></li><li id="1a00" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">批量推断:<a class="ae kf" href="https://docs.microsoft.com/en-us/azure/machine-learning/tutorial-pipeline-batch-scoring-classification" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/machine-learning/tutorial-pipeline-batch-scoring-class ification</a></li><li id="6695" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">Edge部署(截至2021年4月12日预览版):<a class="ae kf" href="https://docs.microsoft.com/en-us/azure/iot-edge/tutorial-deploy-machine-learning?view=iotedge-2020-11" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/IOT-edge/tutorial-deploy-machine-learning？view=iotedge-2020-11 </a></li></ol></div></div>    
</body>
</html>