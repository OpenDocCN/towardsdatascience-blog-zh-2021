<html>
<head>
<title>MLOps level 2 — CI/CD + Continous Training</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MLOps级— CI/CD +持续培训</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/mlops-level-2-ci-cd-continous-training-b9b64042368?source=collection_archive---------22-----------------------#2021-10-01">https://towardsdatascience.com/mlops-level-2-ci-cd-continous-training-b9b64042368?source=collection_archive---------22-----------------------#2021-10-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bc8b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">MLOps级别2是关于利用自动化CI/CD对生产中的管道以及其他环境进行快速可靠的更新。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fe69bb231d5c391b2922a7a9e320d8a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EiyHeeDx7SVtWfDNOE0w-Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Anton Maksimov juvnsky 在<a class="ae ky" href="https://unsplash.com/s/photos/technology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="ac64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">推荐预读</strong></p><p id="d7d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文是讨论各种级别MLOps的3部分系列的最后一篇文章。要了解各个级别之间的差异，请找到下面的链接和资源。</p><p id="15ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">MLOps level 0(手动管道)可以在这里找到:<a class="ae ky" rel="noopener" target="_blank" href="/mlops-level-0-manual-pipelines-7278b9949e59">https://towardsdatascience . com/MLOps-level-0-Manual-Pipelines-7278 b 9949 e 59</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/83c3d57773c8b701950d9d331684d401.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9WDGQqLqMfBI1-Mcy4qC8w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。MLOps级别0</p></figure><p id="2f57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">MLOps一级(连续训练)可以在这里找到:<a class="ae ky" rel="noopener" target="_blank" href="/mlops-level-1-continuous-training-b2a633e27d47">https://towardsdatascience . com/MLOps-level-1-Continuous-Training-B2 a 633 e 27d 47</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/e1ac803be0f82df91eb8f18f1ecaf08e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eHj-oArASODQ1QY6DgIGxQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。MLOps一级</p></figure><p id="ba50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了从本文中获得最大收益，理解我将使用的术语是很重要的。为了让你自己熟悉这些术语，我在本文中非常详细地概述了机器学习服务的各个步骤:<a class="ae ky" rel="noopener" target="_blank" href="/steps-of-a-machine-learning-process-7acc43973385">https://towardsdatascience . com/steps-of-a-machine-learning-process-7 ACC 43973385</a>。</p><p id="aa11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所讨论的一些概念与DevOps理念重叠，而另一些则是MLOps所特有的。要阅读更多关于这两种实践的比较和对比，请查看我的文章:<a class="ae ky" rel="noopener" target="_blank" href="/mlops-vs-devops-5c9a4d5a60ba">https://towardsdatascience.com/mlops-vs-devops-5c9a4d5a60ba</a></p><p id="93b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">m lops 2级的目的</strong></p><p id="1a95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">MLOps level 2旨在使用自动化CI/CD对生产中的管道以及其他环境进行快速可靠的更新。通过自动化CI/CD系统实现流水线自动化，可以快速实现新想法和实验，同时自动构建、测试和部署新的流水线工件和组件到适当的目标环境。下图展示了MLOps级的概念:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lx"><img src="../Images/fb8b30ee9970c52727ead4ec7aa0b7e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a6ID4SGeduPYFEu-kizGZg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。MLOps二级</p></figure><p id="bcc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">m lops二级特性</strong></p><p id="48b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构成MLOps级别2的组件与MLOps级别1非常相似。不同之处在于添加了</p><ul class=""><li id="f223" class="ly lz it lb b lc ld lf lg li ma lm mb lq mc lu md me mf mg bi translated">测试和构建服务(持续集成)。</li><li id="abb0" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">部署服务(持续部署)。</li><li id="9a0d" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">管道协调。</li></ul><p id="cb4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">管道可以分为6个阶段:</p><ol class=""><li id="d6cc" class="ly lz it lb b lc ld lf lg li ma lm mb lq mc lu mm me mf mg bi translated">开发和实验。这是尝试不同算法和建模技术的地方，每个实验步骤都是精心安排的。阶段1的最终输出是被推送到代码库的流水线步骤的源代码。</li><li id="e650" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu mm me mf mg bi translated">管道的持续整合。一旦代码被推送到代码仓库，它就会触发一个测试管道，并构建需要在后续阶段部署的必要组件(包、工件等)。</li><li id="3ead" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu mm me mf mg bi translated">管道连续输送。阶段2中产生的工件被部署到目标环境中。这一阶段的输出是一个已部署的管道，其中包含来自阶段1的模型的新实现。</li><li id="1539" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu mm me mf mg bi translated">自动触发。生产中流水线的执行或者基于时间表或者响应于事件触发器而被自动触发。这一阶段的最终输出是被推送到模型注册中心的训练模型。</li><li id="9483" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu mm me mf mg bi translated">持续交付模型。最终训练好的模型被部署为服务，其中应用程序可以获得模型预测。此阶段的最终输出是一个已部署的模型预测服务。</li><li id="9347" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu mm me mf mg bi translated">模型监控。通过收集模型性能的统计数据，对生产中的模型进行实时监控。当模型偏离或恶化到可接受的阈值时，该阶段应该触发生产中的流水线的执行，以使用新数据重新训练模型，或者执行新的实验流水线。</li></ol><p id="5f4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">MLOps 2级的新功能</strong></p><p id="414c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">MLOps级的新概念是流水线自动化。这是通过持续集成和持续交付实现的。</p><p id="bf26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在持续集成阶段，当新代码被推送到代码库中时，管道和组成管道的组件被构建、测试和打包。此阶段的测试非常重要，可包括以下测试:</p><ul class=""><li id="8664" class="ly lz it lb b lc ld lf lg li ma lm mb lq mc lu md me mf mg bi translated">特征工程逻辑的单元测试。</li><li id="825f" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">模型中实现的单元测试方法。例如，测试是否将正确的数据类型传递给函数。</li><li id="4c19" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">测试在训练期间模型收敛。</li><li id="646a" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">测试模型的输出是明智的，不会产生NaN值。</li><li id="c1b4" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">测试流水线中的组件输出预期的假象。</li><li id="fa1c" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">测试管道组件之间的集成。</li></ul><p id="dac9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在连续交付阶段，新的管道实现被部署到目标环境，目标环境进而输出提供新训练的模型预测的服务。此阶段要考虑的事项包括:</p><ul class=""><li id="cfe1" class="ly lz it lb b lc ld lf lg li ma lm mb lq mc lu md me mf mg bi translated">检查新模型在目标基础架构上的兼容性。是否有足够的资源，目标环境中是否安装了所需的包/库等。</li><li id="430a" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">测试预测服务的性能。</li><li id="1009" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">验证新模型满足所需的最低预测性能。</li><li id="5b00" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">根据环境进行分阶段部署。例如，将管道自动部署到测试环境，半自动部署到预生产环境，在预生产环境中成功运行几次后手动部署到生产环境。</li></ul><p id="8b31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">结论</strong></p><p id="6a41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将机器学习模型实施到生产中涉及几个阶段、组件和管道。您不必将所有进程从一个MLOps级别移动到另一个级别。一个团队可以从MLOps级逐步实现实践到他们当前的系统中，以提高自动化水平。</p></div></div>    
</body>
</html>