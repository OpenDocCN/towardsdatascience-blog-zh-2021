<html>
<head>
<title>Three Tricks on Python Functions that You Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该知道的关于Python函数的三个技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/three-tricks-on-python-functions-that-you-should-know-e6badb26aac2?source=collection_archive---------20-----------------------#2021-08-21">https://towardsdatascience.com/three-tricks-on-python-functions-that-you-should-know-e6badb26aac2?source=collection_archive---------20-----------------------#2021-08-21</a></blockquote><div><div class="fc ik il im in io"/><div class="ip iq ir is it"><h2 id="9b84" class="iu iv iw bd b dl ix iy iz ja jb jc dk jd translated" aria-label="kicker paragraph">Python基础</h2><div class=""/><div class=""><h2 id="fbe3" class="pw-subtitle-paragraph kc jf iw bd b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dk translated">快速浏览一些可以提高你编程技能的技巧:嵌套函数、可变参数和lambda函数。</h2></div><figure class="kv kw kx ky gu kz gi gj paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gi gj ku"><img src="../Images/82d64ad86b3d2ee52be37292ff9bb05e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AZ1fclhnB9MmXnb-"/></div></div><p class="lg lh gk gi gj li lj bd b be z dk translated">照片由<a class="ae lk" href="https://unsplash.com/@hishahadat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">沙哈达特·拉赫曼</a>在<a class="ae lk" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="b4cd" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">本教程涵盖了Python函数的以下三个高级编程技巧:</p><ul class=""><li id="ed99" class="mh mi iw ln b lo lp lr ls lu mj ly mk mc ml mg mm mn mo mp bi translated">嵌套函数</li><li id="40a5" class="mh mi iw ln b lo mq lr mr lu ms ly mt mc mu mg mm mn mo mp bi translated">可变参数</li><li id="33da" class="mh mi iw ln b lo mq lr mr lu ms ly mt mc mu mg mm mn mo mp bi translated">λ函数</li></ul><h1 id="c6a2" class="mv mw iw bd mx my mz na nb nc nd ne nf kl ng km nh ko ni kp nj kr nk ks nl nm bi translated">嵌套函数</h1><p id="11b9" class="pw-post-body-paragraph ll lm iw ln b lo nn kg lq lr no kj lt lu np lw lx ly nq ma mb mc nr me mf mg ip bi translated">嵌套函数是另一个函数中的函数。由于作用域规则，通常不能在容器函数之外调用嵌套函数。</p><p id="3b3f" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated"><strong class="ln jg">当重复操作应该在函数内部运行且只能在函数内部运行时，可以使用嵌套函数。</strong>以下示例定义了一个函数，该函数接收两个字符串作为输入，对它们进行操作并返回它们。</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="4cab" class="nx mw iw nt b gz ny nz l oa ob">def manipulate_strings(a,b):<br/>    <br/>    def inner(s):<br/>        s = s.lower()<br/>        return s[::-1]<br/>    <br/>    return inner(a), inner(b)</span></pre><p id="757c" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">在两个字符串上测试函数:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="223b" class="nx mw iw nt b gz ny nz l oa ob">a = "HELLO"<br/>b = "WORLD"<br/>manipulate_strings(a,b)</span></pre><p id="065f" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">它给出了以下输出:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="9f75" class="nx mw iw nt b gz ny nz l oa ob">('olleh', 'dlrow')</span></pre><p id="f1c0" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated"><strong class="ln jg">嵌套函数也可以由外部函数返回。</strong></p><p id="3cc6" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">考虑下面这个平凡的函数，它接收一个数字作为输入，并返回一个函数，该函数将一个字符串转换为小写，然后，如果字符串长度大于n，它将该字符串截断为n-1。函数返回内部函数。</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="37ac" class="nx mw iw nt b gz ny nz l oa ob">def manipulate_string(n):<br/>    <br/>    def inner(a):<br/>        a = a.lower()<br/>        if n &lt; len(a):<br/>            a = a[:n]<br/>        return a<br/>    <br/>    return inner</span></pre><p id="68a9" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">现在，我可以调用函数并将返回值赋给一个变量，该变量将包含内部函数。</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="1d8e" class="nx mw iw nt b gz ny nz l oa ob">manipulate = manipulate_string(3)</span></pre><p id="7cb9" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">然后，我可以用不同的字符串调用内部函数:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="37ef" class="nx mw iw nt b gz ny nz l oa ob">a = "HELLO"<br/>manipulate(a)</span></pre><p id="f8bf" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">它给出了以下输出:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="5a6f" class="nx mw iw nt b gz ny nz l oa ob">'hel'</span></pre><p id="913e" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">前面的例子演示了当您有一些通用参数时，如何使用嵌套函数，这些参数可以由外部函数初始化，然后可以在内部函数中使用特定的参数。</p><h1 id="9305" class="mv mw iw bd mx my mz na nb nc nd ne nf kl ng km nh ko ni kp nj kr nk ks nl nm bi translated">可变参数</h1><p id="c5a2" class="pw-post-body-paragraph ll lm iw ln b lo nn kg lq lr no kj lt lu np lw lx ly nq ma mb mc nr me mf mg ip bi translated">通常一个函数被调用时有固定数量的参数，包括默认参数。然而，Python提供了一种机制，允许调用具有潜在无限数量参数的函数。</p><p id="3116" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">有两种类型的可变参数:</p><ul class=""><li id="9055" class="mh mi iw ln b lo lp lr ls lu mj ly mk mc ml mg mm mn mo mp bi translated">元组(项目列表)—作为*参数传递，例如<code class="fe oc od oe nt b">*args</code></li><li id="572a" class="mh mi iw ln b lo mq lr mr lu ms ly mt mc mu mg mm mn mo mp bi translated">字典(键值对)—作为**参数传递，例如<code class="fe oc od oe nt b">**kargs</code>。</li></ul><p id="c376" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">下面的例子展示了如何通过利用<code class="fe oc od oe nt b">*args</code>来连接可变数量的字符串:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="6570" class="nx mw iw nt b gz ny nz l oa ob">def concatenate(*args):<br/>    output = ''<br/>    for item in args:<br/>        output = output + item<br/>    return output</span></pre><p id="9e5d" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">现在我用可变数量的参数测试这个函数。有两个参数:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="5533" class="nx mw iw nt b gz ny nz l oa ob">concatenate('dog', 'cat')</span></pre><p id="8249" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">它给出了以下输出:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="c57d" class="nx mw iw nt b gz ny nz l oa ob">'dogcat'</span></pre><p id="e8fb" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">有三个参数:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="bd93" class="nx mw iw nt b gz ny nz l oa ob">concatenate('green', 'red', 'yellow')</span></pre><p id="7cc5" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">它给出了以下输出:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="d18b" class="nx mw iw nt b gz ny nz l oa ob">'greenredyellow'</span></pre><p id="888a" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">下面的例子展示了如何利用<code class="fe oc od oe nt b">**kargs</code>参数。我定义了一个类<code class="fe oc od oe nt b">Configuration</code>，包含三个参数:alpha，beta，gamma。该类提供了一个名为<code class="fe oc od oe nt b">configure()</code>的方法，它可以接收数量可变的参数作为输入，这些参数对应于该类的配置参数。用户可以决定是设置所有配置参数还是仅设置其中的一部分。</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="d4ff" class="nx mw iw nt b gz ny nz l oa ob">class Configuration:<br/>    <br/>    def __init__(self):<br/>        self.p = {}<br/>        self.p['alpha'] = None<br/>        self.p['beta'] = None<br/>        self.p['gamma'] = None<br/>    <br/>    def configure(self,**kargs):<br/>        for k,v in kargs.items():<br/>            self.p[k] = v<br/>            <br/>    def print_configuration(self):<br/>        for k,v in self.p.items():<br/>            print(k + ': ' + str(v))</span></pre><p id="e6a7" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">类<code class="fe oc od oe nt b">Configuration</code>还提供了一个名为<code class="fe oc od oe nt b">print_configuration()</code>的方法，它打印实例的当前状态。</p><p id="d516" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">我可以创建一个<code class="fe oc od oe nt b">Configuration()</code>对象，然后我可以决定，例如，只设置alpha参数:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="fe53" class="nx mw iw nt b gz ny nz l oa ob">config = Configuration()<br/>config.configure(alpha = 2)</span></pre><p id="0b8c" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">我打印当前配置以确保alpha参数已经设置好:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="1879" class="nx mw iw nt b gz ny nz l oa ob">config.print_configuration()</span></pre><p id="8228" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">它给出了以下输出:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="9754" class="nx mw iw nt b gz ny nz l oa ob">alpha: 2<br/>beta: None<br/>gamma: None</span></pre><p id="9252" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">现在我可以设置α和β参数:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="1cd2" class="nx mw iw nt b gz ny nz l oa ob">config.configure(alpha = 2, beta = 4)<br/>config.print_configuration()</span></pre><p id="520e" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">它给出了以下输出:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="1aa5" class="nx mw iw nt b gz ny nz l oa ob">alpha: 2<br/>beta: 4<br/>gamma: None</span></pre><h1 id="7488" class="mv mw iw bd mx my mz na nb nc nd ne nf kl ng km nh ko ni kp nj kr nk ks nl nm bi translated">λ函数</h1><p id="130a" class="pw-post-body-paragraph ll lm iw ln b lo nn kg lq lr no kj lt lu np lw lx ly nq ma mb mc nr me mf mg ip bi translated">lambda函数是一个内联函数，可用于运行简单和重复的运算，如众所周知的数学运算。</p><p id="d052" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">以下代码片段显示了如何通过lambda函数计算勾股定理:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="aa98" class="nx mw iw nt b gz ny nz l oa ob">from math import sqrt<br/>pythagora = lambda x,y : sqrt(x**2 + y**2)</span></pre><p id="14ee" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">我可以如下测试该功能:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="4598" class="nx mw iw nt b gz ny nz l oa ob">pythagora(3,4)</span></pre><p id="c4a1" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">它给出了以下输出:</p><pre class="kv kw kx ky gu ns nt nu nv aw nw bi"><span id="fa0d" class="nx mw iw nt b gz ny nz l oa ob">5.0</span></pre><h1 id="aed0" class="mv mw iw bd mx my mz na nb nc nd ne nf kl ng km nh ko ni kp nj kr nk ks nl nm bi translated">摘要</h1><p id="86fa" class="pw-post-body-paragraph ll lm iw ln b lo nn kg lq lr no kj lt lu np lw lx ly nq ma mb mc nr me mf mg ip bi translated">在本教程中，我展示了Python函数的一些技巧，包括嵌套函数、可变参数和lambda函数。</p><p id="25bf" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">你可以从我的<a class="ae lk" href="https://github.com/alod83/data-science/tree/master/Basics" rel="noopener ugc nofollow" target="_blank"> Github库</a>下载本教程的完整代码。</p><p id="b402" class="pw-post-body-paragraph ll lm iw ln b lo lp kg lq lr ls kj lt lu lv lw lx ly lz ma mb mc md me mf mg ip bi translated">为了保持对我工作的更新，你可以在<a class="ae lk" href="https://twitter.com/alod83" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae lk" href="https://github.com/alod83" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae lk" href="https://www.youtube.com/alod83" rel="noopener ugc nofollow" target="_blank"> Youtube </a>或我的<a class="ae lk" href="https://www.alod83.com/" rel="noopener ugc nofollow" target="_blank">新网站</a>上关注我。</p><h1 id="5222" class="mv mw iw bd mx my mz na nb nc nd ne nf kl ng km nh ko ni kp nj kr nk ks nl nm bi translated">相关文章</h1><div class="of og gq gs oh oi"><a href="https://medium.com/analytics-vidhya/basic-statistics-with-python-pandas-ec7837438a62" rel="noopener follow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd jg gz z fq on fs ft oo fv fx jf bi translated">python熊猫的基本统计数据</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">入门指南</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">medium.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow le oi"/></div></div></a></div><div class="of og gq gs oh oi"><a rel="noopener follow" target="_blank" href="/how-to-load-huge-csv-datasets-in-python-pandas-d306e75ff276"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd jg gz z fq on fs ft oo fv fx jf bi translated">如何在Python Pandas中加载巨大的CSV数据集</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">可能会出现这样的情况，您的硬盘中有一个巨大的CSV数据集，占用了4或5gb(甚至更多),而您…</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="ox l ot ou ov or ow le oi"/></div></div></a></div><div class="of og gq gs oh oi"><a href="https://medium.com/geekculture/the-top-25-python-libraries-for-data-science-71c0eb58723d" rel="noopener follow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd jg gz z fq on fs ft oo fv fx jf bi translated">面向数据科学的25大Python库</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">你一生中至少应该尝试一次的Python库列表。</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">medium.com</p></div></div><div class="or l"><div class="oy l ot ou ov or ow le oi"/></div></div></a></div><h1 id="402a" class="mv mw iw bd mx my mz na nb nc nd ne nf kl ng km nh ko ni kp nj kr nk ks nl nm bi translated">新到中？您可以每月订阅几美元，并解锁无限的文章— <a class="ae lk" href="https://alod83.medium.com/membership" rel="noopener">单击此处</a>。</h1></div></div>    
</body>
</html>