<html>
<head>
<title>Deploy Your AI Engine in Any Other Machine Using Docker and Docker Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Dockerå’ŒDocker Composeåœ¨ä»»ä½•å…¶ä»–æœºå™¨ä¸Šéƒ¨ç½²æ‚¨çš„AIå¼•æ“</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/deploy-your-ai-engine-in-any-other-machine-using-docker-docker-compose-1691e57cb866?source=collection_archive---------16-----------------------#2021-11-13">https://towardsdatascience.com/deploy-your-ai-engine-in-any-other-machine-using-docker-docker-compose-1691e57cb866?source=collection_archive---------16-----------------------#2021-11-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/8d6e3ec399dc48a7124b498eb298a408.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xSPPRrvDQZw7Nm_kDZl6ig.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae jg" href="https://www.pexels.com/" rel="noopener ugc nofollow" target="_blank">åƒç´ </a>ä¸Šçš„<a class="ae jg" href="https://www.pexels.com/fr-fr/@pixabay" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>æ‹æ‘„</p></figure><div class=""/><div class=""><h2 id="6f69" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">æ•°æ®ç§‘å­¦å®¶å…¥é—¨åŒ…â€”â€”ç¬¬3éƒ¨åˆ†(å¦‚æœå®ƒèƒ½åœ¨æˆ‘çš„ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œï¼Œé‚£å®ƒè‚¯å®šä¹Ÿèƒ½åœ¨ä½ çš„ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œï¼)</h2></div><p id="5ab0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å½“ä»äº‹äººå·¥æ™ºèƒ½é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬å€¾å‘äºåœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿›è¡Œæ‰€æœ‰çš„åˆå§‹å¼€å‘ï¼Œç„¶åä¸å®¢æˆ·æ²Ÿé€šã€‚å¯èƒ½ä¼šå‘ç”Ÿè¿™æ ·çš„æƒ…å†µï¼Œå®¢æˆ·ç«¯ä¸å…±äº«ç›¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œè¿™æ„å‘³ç€ä»£ç å¯èƒ½ä¸ä¼šåœ¨å®¢æˆ·ç«¯è¿è¡Œã€‚è¿™å°±æ˜¯Dockerå‘æŒ¥ä½œç”¨çš„åœ°æ–¹ï¼</p><p id="ee9e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨DockerèƒŒåçš„ä¸»è¦åŠ¨æœºï¼Œä»¥åŠå®ƒå¦‚ä½•å…è®¸æ„å»ºæ”¯æŒæ›´å¿«å¼€å‘å’Œéƒ¨ç½²çš„ä¸æ“ä½œç³»ç»Ÿæ— å…³çš„äº§å“ã€‚</p><h1 id="b277" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">ç›®å½•</h1><p id="82ae" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">æ‘˜è¦å¦‚ä¸‹:</p><h2 id="b937" class="mr lv jj bd lw ms mt dn ma mu mv dp me lh mw mx mg ll my mz mi lp na nb mk nc bi translated"><strong class="ak"> 1-ä»€ä¹ˆæ˜¯Dockerï¼Ÿ<br/> 2-å®‰è£…<br/> </strong> 3-ä»äººå·¥æ™ºèƒ½é¡¹ç›®åˆ°Dockeræ˜ åƒ<br/> 4- Dockeræ’°å†™<br/> 5-æœ€ä½³å®è·µ</h2></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="77b1" class="lu lv jj bd lw lx nk lz ma mb nl md me kp nm kq mg ks nn kt mi kv no kw mk ml bi translated">ä»€ä¹ˆæ˜¯Docker</h1><p id="221c" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">Dockeræ˜¯ä¸€ä¸ªè¿›ç¨‹éš”ç¦»å™¨å·¥å…·ï¼Œå…è®¸åœ¨å—é™ç¯å¢ƒä¸­è¿è¡Œåº”ç”¨ç¨‹åºã€‚å®ƒç»å¸¸ä¸è™šæ‹Ÿæœºæ··æ·†ï¼Œè™šæ‹Ÿæœºâ€œè™šæ‹ŸåŒ–â€ç‰©ç†èµ„æºï¼Œè€ŒDockerè™šæ‹ŸåŒ–æ‰§è¡Œç¯å¢ƒï¼Œå› æ­¤å¯åŠ¨å’Œè¿è¡Œèµ·æ¥æ›´è½»ã€æ›´å¿«ã€‚</p><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi np"><img src="../Images/601178bae0638b9a266b212b4d301bf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9f-7vR5_CZXrJuXcaTm6PQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="e494" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Dockerçš„å‘æ˜ä¸»è¦æ˜¯ä¸ºäº†ä½¿ç¨‹åºä¸æ“ä½œç³»ç»Ÿæ— å…³ï¼Œä»¥ä¾¿äºå¼€å‘å’Œéƒ¨ç½²ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ•°æ®ç§‘å­¦å®¶å¯ä»¥åœ¨macOSä¸Šç¼–å†™ä»–çš„ç¨‹åºï¼Œå¹¶åœ¨å®¢æˆ·ç«¯çš„itåŸºç¡€è®¾æ–½ä¸Šä½¿ç”¨Dockerè¿è¡Œå®ƒï¼Œè€Œä¸ç®¡å®ƒçš„æ“ä½œç³»ç»Ÿæ˜¯ä»€ä¹ˆ(macOSã€linuxã€Windowsç­‰ç­‰)ã€‚</p><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nu"><img src="../Images/d835ca7de4bfd1c65c98f341c99df81e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-OHCIa7dHNeRQlR9HRe4SQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="da30" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Dockerå¼•å…¥äº†ä¸åŒçš„æ¦‚å¿µ:<br/><strong class="la jk">ã€Dockerfileã€‘</strong>:ä»¥ä¹¦é¢é¡ºåºç¼“å­˜æ‰§è¡Œçš„ä¸€ç»„åŠ¨ä½œ<br/><strong class="la jk">ã€Docker image:</strong>æ–‡ä»¶å’Œå®‰è£…ç³»ç»Ÿ(æ¥è‡ªDocker file)æ‚¨å°†éœ€è¦åœ¨æ²¡æœ‰ä»»ä½•é™„åŠ è¿›ç¨‹çš„æƒ…å†µä¸‹è¿è¡Œæ‚¨çš„ç¨‹åº<br/><strong class="la jk">ã€Docker container:</strong>æ˜¯ä¸€ä¸ªæ˜ åƒå®ä¾‹ï¼Œå®ƒæ‰˜ç®¡æ‰€æœ‰æ–‡ä»¶å’Œæ‰€éœ€ç¨‹åºçš„å‰¯æœ¬ï¼Œå¹¶é€šè¿‡ç»ˆç«¯<br/> <strong class="la jk">é™„åŠ ä¸€ä¸ªäº¤äº’è¿›ç¨‹ã€‚dockerignore: </strong>ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†æ‚¨ä¸æƒ³åœ¨dockeræ˜ åƒä¸ŠåŒ…å«çš„æ‰€æœ‰å…ƒç´ çš„è·¯å¾„<br/><strong class="la jk">entry point . sh:</strong>ä¸€ä¸ªcmdæ–‡ä»¶ï¼Œå®ƒå†³å®šäº†è¿è¡Œå®¹å™¨æ—¶è¦å¯åŠ¨çš„å‘½ä»¤</p><p id="d6e6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Dockerè¿˜æä¾›äº†<a class="ae jg" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk"> Dockerhub </strong> </a>ï¼Œ<strong class="la jk"> </strong>äº‘æœåŠ¡ï¼Œå¯ä»¥æ‰˜ç®¡å…±äº«çš„Dockerå›¾ç‰‡ï¼Œå¯ä»¥ç”±å›¢é˜Ÿè¿›è¡Œæ¨é€å’Œæ‹‰å–ã€‚å®ƒè¿˜æ‰˜ç®¡å®˜æ–¹è¯­è¨€å›¾åƒï¼Œå¦‚Pythonçš„å›¾åƒã€‚</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="e68f" class="lu lv jj bd lw lx nk lz ma mb nl md me kp nm kq mg ks nn kt mi kv no kw mk ml bi translated">è£…ç½®</h1><p id="e5b9" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">ä½ å¯ä»¥é€šè¿‡é€‰æ‹©ä½ æœºå™¨ä¸Šå®‰è£…çš„æ“ä½œç³»ç»Ÿï¼Œä½¿ç”¨Dockerçš„å®˜æ–¹<a class="ae jg" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank">ç½‘ç«™</a>æ¥å®‰è£…Dockerã€‚</p><p id="930e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å®‰è£…å®Œæˆåï¼Œå¯åŠ¨Dockerå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤è¡Œæ¥æ£€æŸ¥æ˜¯å¦ä¸€åˆ‡æ­£å¸¸:</p><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="88ce" class="mr lv jj nw b gy oa ob l oc od">docker run hello-world</span></pre><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oe"><img src="../Images/3afa4ffbe8ab14ef816474bfd335fe3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zltlWET7gkiH3-L9bob62Q.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="e95f" class="lu lv jj bd lw lx nk lz ma mb nl md me kp nm kq mg ks nn kt mi kv no kw mk ml bi translated">ä»äººå·¥æ™ºèƒ½é¡¹ç›®åˆ°Dockerå›¾åƒ</h1><h2 id="05b7" class="mr lv jj bd lw ms mt dn ma mu mv dp me lh mw mx mg ll my mz mi lp na nb mk nc bi translated"><strong class="ak">è®¾ç½®</strong></h2><p id="c069" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">ä¸€æ—¦å¼€å‘ç¨³å®šä¸‹æ¥ï¼Œä½ çš„äººå·¥æ™ºèƒ½é¡¹ç›®çš„â€œdockerizationâ€å°±å¼€å§‹äº†ï¼Œæˆ‘ä»¬å‡è®¾å®ƒæ˜¯ç”¨<strong class="la jk"> python </strong>è¯­è¨€ç¼–å†™çš„ã€‚</p><p id="48b3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ–‡ä»¶<em class="of"> Dockerfileï¼Œã€‚dockerignore </em>å’Œ<em class="of"> entrypoint.sh </em>è¢«æ”¾åœ¨èµ„æºåº“çš„æ ¹ç›®å½•ä¸‹ï¼Œå¦‚ä¸‹æ‰€ç¤º(æŸ¥çœ‹æˆ‘ä»¥å‰çš„<a class="ae jg" rel="noopener" target="_blank" href="/python-projets-structure-p2c-b2f92ab15c55">æ–‡ç« </a>äº†è§£é¡¹ç›®ç»„ç»‡):</p><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/fb78f59d25b75ae592dfa042cf1d099c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Lj-Jklt-KqHu46pm6Sg_g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="3330" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">+æˆ‘ä»¬å°†<strong class="la jk">å…¥å£ç‚¹. sh </strong>å®šä¹‰å¦‚ä¸‹:</p><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="06c0" class="mr lv jj nw b gy oa ob l oc od">#!/bin/bash<br/>set -xe<br/>case $1 in<br/>    <br/>    test)<br/>    python -m pytest -v --tb=line tests/unit_testing.py </span><span id="54ab" class="mr lv jj nw b gy oh ob l oc od">    action_1)<br/>    python app.py fonction_1;;<br/>    <br/>    action_2)<br/>    python app.py fonction_2;;</span><span id="353b" class="mr lv jj nw b gy oh ob l oc od">esac</span></pre><p id="2a5c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">+åˆ›å»º<strong class="la jk"> Dockerfile </strong>ğŸ³ï¼š</p><ul class=""><li id="96f5" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">ä»Dockerhubé€‰æ‹©pythonç‰ˆæœ¬ï¼Œè¯´<a class="ae jg" href="https://github.com/docker-library/python/blob/3691a11e6215c7cc1184277853910d7b7bfff5dd/3.7/buster/slim/Dockerfile" rel="noopener ugc nofollow" target="_blank"><em class="of">python:3.7-slim-buster</em></a><em class="of"/>å¸¦debian OS:</li></ul><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="709a" class="mr lv jj nw b gy oa ob l oc od">FROM python:3.7-slim-buster</span></pre><ul class=""><li id="512c" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">ä½¿ç”¨apt-getå®‰è£…å¿…è¦çš„æ¨¡å—(ä¾‹å¦‚liblept5):</li></ul><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="9053" class="mr lv jj nw b gy oa ob l oc od">RUN apt-get update -y\<br/>    &amp;&amp; apt-get install -y liblept5</span></pre><ul class=""><li id="8508" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">åˆ›å»ºæ–‡ä»¶å¤¹<em class="of"> data/ </em>ä½œä¸ºå·¥ä½œç›®å½•:</li></ul><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="2757" class="mr lv jj nw b gy oa ob l oc od">RUN mkdir /data<br/>WORKDIR /data</span></pre><ul class=""><li id="85ad" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">æˆ‘ä»¬å°†æœ¬åœ°å­˜å‚¨åº“çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¤åˆ¶åˆ°Dockeré•œåƒçš„æ–‡ä»¶å¤¹<em class="of"> /data </em>ä¸­ï¼Œé™¤äº†<em class="of">ä¸­æåˆ°çš„é‚£äº›ã€‚dockerignore </em>:</li></ul><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="0d2f" class="mr lv jj nw b gy oa ob l oc od">ADD . /data</span></pre><ul class=""><li id="c42b" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">æˆ‘ä»¬å®‰è£…<a class="ae jg" href="https://virtualenv.pypa.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> Virtualenv </a>ï¼Œåˆ›å»ºproject_vir_envï¼Œæ¿€æ´»å®ƒï¼Œç„¶ååœ¨å…¶ä¸­å®‰è£…æ‰€æœ‰çš„pythonéœ€æ±‚:</li></ul><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="556a" class="mr lv jj nw b gy oa ob l oc od">RUN pip install virtualenv<br/>RUN virtualenv project_vir_env<br/>RUN . project_vir_env/bin/activate<br/>RUN pip install -r packages.txt</span></pre><ul class=""><li id="8c28" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">æˆ‘ä»¬å‘å…¥å£ç‚¹æ–‡ä»¶æ·»åŠ æ‰§è¡Œæƒé™ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º:</li></ul><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="ef31" class="mr lv jj nw b gy oa ob l oc od">RUN chmod +x /data/entrypoint.sh<br/>ENTRYPOINT ["data/entrypoint.sh"]</span></pre><p id="4e61" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">æ–‡ä»¶</strong>å¦‚ä¸‹:</p><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="3eea" class="mr lv jj nw b gy oa ob l oc od">FROM python:3.7-slim-buster<br/>RUN apt-get update -y \<br/>    &amp;&amp; apt-get install -y liblept5 \<br/><br/>RUN mkdir /data<br/>WORKDIR /data<br/>ADD . /data<br/>RUN pip install virtualenv<br/>RUN virtualenv project_vir_env<br/>RUN . project_vir_env/bin/activate<br/>RUN pip install -r packages.txt<br/>RUN chmod +x /data/entrypoint.sh<br/>ENTRYPOINT [ "/data/entrypoint.sh"]</span></pre><p id="6b19" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">+æˆ‘ä»¬ä¹Ÿå®šä¹‰<strong class="la jk">ã€‚dockerignore </strong>:</p><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="1faf" class="mr lv jj nw b gy oa ob l oc od">project_vir_env/<br/>notebooks/<br/>.vscode/<br/>**/__pycache__/<br/>.DS_Store</span></pre><h2 id="a710" class="mr lv jj bd lw ms mt dn ma mu mv dp me lh mw mx mg ll my mz mi lp na nb mk nc bi translated">å‘åŠ¨</h2><p id="a69e" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">ä¸ºäº†<strong class="la jk">æ„å»º</strong>dockeræ˜ åƒï¼Œé¦–å…ˆ<strong class="la jk">å¯åŠ¨</strong>dockerå¼•æ“<strong class="la jk">ç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤è¡Œ:</strong></p><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="46e2" class="mr lv jj nw b gy oa ob l oc od">docker build -t nameofdockerimage .</span></pre><ul class=""><li id="776e" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">-t:ç”¨äºå‘½åå›¾åƒ</li><li id="96f2" class="oi oj jj la b lb or le os lh ot ll ou lp ov lt on oo op oq bi translated">ã€‚:æ˜¯Dockerfile(å½“å‰æ–‡ä»¶å¤¹)çš„ä½ç½®</li></ul><p id="fd5a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¡Œè¿è¡Œå®¹å™¨:</p><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="c4d4" class="mr lv jj nw b gy oa ob l oc od">docker run -v $PWD:/data/ nameofdockerimage entrypointfunction</span></pre><ul class=""><li id="d83f" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">-v:ç”¨äºå®šä¹‰å·å¹¶å°†æ‚¨çš„å½“å‰ç›®å½•(é¡¹ç›®å­˜å‚¨åº“)ä¸æ‚¨çš„å®¹å™¨çš„<em class="of">æ•°æ®/ </em>æ–‡ä»¶å¤¹é“¾æ¥èµ·æ¥</li><li id="b6b2" class="oi oj jj la b lb or le os lh ot ll ou lp ov lt on oo op oq bi translated"><em class="of">æ–‡ä»¶åç§°</em>:ä¸æ„å»ºé˜¶æ®µä½¿ç”¨çš„åç§°ç›¸åŒ</li><li id="aadf" class="oi oj jj la b lb or le os lh ot ll ou lp ov lt on oo op oq bi translated"><em class="of">entrypointfunction</em>:entry point . sh(testï¼Œaction_1æˆ–action_2)ä¸­å®šä¹‰çš„å‡½æ•°ä¹‹ä¸€</li></ul><p id="3e9f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä½ å¯ä»¥æ£€æŸ¥è¿™ä¸ª<a class="ae jg" href="https://www.docker.com/sites/default/files/d8/2019-09/docker-cheat-sheet.pdf" rel="noopener ugc nofollow" target="_blank"> cheat shee </a> tä¸­å¯èƒ½çš„dockerå‘½ä»¤ã€‚</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="d84a" class="lu lv jj bd lw lx nk lz ma mb nl md me kp nm kq mg ks nn kt mi kv no kw mk ml bi translated">Dockeræ’°å†™</h1><p id="bad1" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">å½“å¤„ç†ä¸€ä¸ªå¤æ‚çš„é¡¹ç›®æ—¶ï¼Œæœ€ç»ˆäº§å“å¯èƒ½ç”±ä¸åŒçš„æœåŠ¡ç»„æˆï¼Œæ¯”å¦‚ä¸€ä¸ª<strong class="la jk">å‰ç«¯</strong>ï¼Œä¸€ä¸ª<strong class="la jk"> DS AP </strong> Iï¼Œå’Œä¸€ä¸ª<strong class="la jk">æ•°æ®åº“</strong>ã€‚Docker-compose æ˜¯ä¸€ä¸ªdocker orchestratorï¼Œå®ƒå¸®åŠ©ä½ â€œdockerizeâ€å¹¶ä»¥å¤šå®¹å™¨æ ¼å¼ç»„ç»‡ä½ çš„æ‰€æœ‰æœåŠ¡ã€‚</p><p id="7bc5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¸ºäº†ä¾¿äºè¯´æ˜ï¼Œæˆ‘ä»¬å°†è€ƒè™‘ä¸€ä¸ªå¸¦æœ‰<a class="ae jg" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"><strong class="la jk">Streamlit</strong></a><strong class="la jk">å‰ç«¯</strong>çš„pythonåº”ç”¨ç¨‹åºï¼Œå®ƒè°ƒç”¨ä¸€ä¸ª<a class="ae jg" href="https://flask.palletsprojects.com/en/2.0.x/" rel="noopener ugc nofollow" target="_blank"><strong class="la jk">Flask</strong></a><strong class="la jk">API</strong>æ¥è®¡ç®—ä¸¤ä¸ªæ•°ä¹‹å’Œã€‚å…¶ç»“æ„å¦‚ä¸‹:</p><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ow"><img src="../Images/9084e0c3e2019ca049777b809d6196cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQXPw0WPQxHEEQ0j1CsnUA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="3a11" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¯¥é¡¹ç›®çš„ç»“æ„å¦‚ä¸‹:</p><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ox"><img src="../Images/2cafcd4d2b9ffac716421e7658dbde53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IpwB0ZVBAvZ8FuUeJjQquQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="63d1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ¯ä¸ªæœåŠ¡éƒ½æœ‰è‡ªå·±çš„Dockerfileæ–‡ä»¶:</p><ul class=""><li id="d774" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">æ•°æ®ç§‘å­¦APIçš„Dockerfile:</li></ul><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="ba2f" class="mr lv jj nw b gy oa ob l oc od">FROM python:3.7-slim-buster<br/>RUN mkdir /ds_api<br/>WORKDIR /ds_api<br/>ADD . /ds_api<br/>RUN pip install virtualenv<br/>RUN virtualenv api_vir_env<br/>RUN . api_vir_env/bin/activate<br/>RUN pip install -r requirements.txt<br/>EXPOSE 8080<br/>ENTRYPOINT ["python"]<br/>CMD ["app.py"]</span></pre><ul class=""><li id="49bb" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">å‰ç«¯çš„Dockerfile:</li></ul><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="ef14" class="mr lv jj nw b gy oa ob l oc od">FROM python:3.7-slim-buster<br/>RUN mkdir /frontend_dir<br/>WORKDIR /frontend_dir<br/>ADD . /frontend_dir<br/>RUN pip install virtualenv<br/>RUN virtualenv front_vir_env<br/>RUN . front_vir_env/bin/activate<br/>RUN pip install -r requirements.txt<br/>EXPOSE 8501<br/>ENTRYPOINT ["streamlit", "run"]<br/>CMD ["app.py"]</span></pre><p id="5229" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">DS APIæš´éœ²åœ¨ç«¯å£<strong class="la jk"> 8080 </strong>ä¸Šï¼Œè€Œå‰ç«¯æš´éœ²åœ¨ç«¯å£<strong class="la jk"> 8501 </strong>ä¸Š</p><p id="f371" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¸ºäº†åŒæ—¶ç®¡ç†è¿™ä¸¤ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª<strong class="la jk"> docker-compose.yml </strong>ğŸ³ï¼š</p><ul class=""><li id="026f" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated">æˆ‘ä»¬é¦–å…ˆè®¾ç½®docker-composeç‰ˆæœ¬</li><li id="d768" class="oi oj jj la b lb or le os lh ot ll ou lp ov lt on oo op oq bi translated">ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰å°†åœ¨ä¸åŒå®¹å™¨ä¸­å¯åŠ¨çš„åº”ç”¨ç¨‹åºçš„æœåŠ¡ã€‚åœ¨æ¯ä¸ªæœåŠ¡å™¨ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰:<br/> +å®¹å™¨å<br/> +ä¸»æœºå<br/> +æ„å»º(æœåŠ¡Dockerfileçš„æ–‡ä»¶å¤¹å’Œåç§°)<br/> +ç«¯å£(exposition): <em class="of">æœºå™¨_ç«¯å£:å®¹å™¨_ç«¯å£</em> <br/> +é‡å¯(æ–¹æ³•)</li></ul><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="e74f" class="mr lv jj nw b gy oa ob l oc od">version: '3'<br/>services:<br/>  datascience_api:<br/>    container_name: datascience_api<br/>    hostname: datascience_api<br/>    build:<br/>      context: ./datascience_api<br/>      dockerfile: Dockerfile<br/>    ports:<br/>      - 8080:8080<br/>    restart: unless-stopped</span><span id="e279" class="mr lv jj nw b gy oh ob l oc od">  front:<br/>    container_name: frontend<br/>    hostname: frontend<br/>    build:<br/>      context: ./frontend<br/>      dockerfile: Dockerfile<br/>    ports:<br/>      - 8501:8501<br/>    restart: unless-stopped<br/>    depends_on:<br/>      - datascience_api</span></pre><p id="f322" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> NB1 </strong>:å‰ç«¯æœåŠ¡<em class="of">ä¾èµ–äº</em>data science APIï¼Œé¦–å…ˆéœ€è¦è¿è¡Œã€‚</p><p id="fb1a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> NB2 </strong>:å‰ç«¯é€šè¿‡httpåè®®ä½¿ç”¨å…¶å®¹å™¨åè°ƒç”¨DS API:</p><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="33d1" class="mr lv jj nw b gy oa ob l oc od">requests.post(â€œhttp://datascience_api:8080/add", params=query).json()</span></pre><p id="3e68" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">docker-composeæ–‡ä»¶å®Œæˆåï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤è¡Œ:</p><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="26c7" class="mr lv jj nw b gy oa ob l oc od">docker-compose build</span></pre><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/5bec8fe9d806b015fa91debd6e5caeae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OyX3x3dRjMu7QB28EOSq6g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="e7d0" class="mr lv jj nw b gy oa ob l oc od">docker-compose up</span></pre><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oz"><img src="../Images/8fb18bd39f5d9daf96fd40f131bebcd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-b01TUD5PB_TQGh0uwVugw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="5fb6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¡Œæ¥å¯è§†åŒ–æ­£åœ¨è¿è¡Œçš„å®¹å™¨:</p><pre class="nq nr ns nt gt nv nw nx ny aw nz bi"><span id="d975" class="mr lv jj nw b gy oa ob l oc od">docker-compose ps</span></pre><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oz"><img src="../Images/0fdeb37506e993bb3a85b29fc258ebc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TvDSmVSw4R1vUa4xyA-xLQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="0299" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å› ä¸ºå®¹å™¨å’Œæœ¬åœ°æœºå™¨ä½¿ç”¨ç›¸åŒçš„ç«¯å£ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬æœºå™¨çš„æµè§ˆå™¨ä¸Šæ‰“å¼€å‰ç«¯:</p><figure class="nq nr ns nt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pa"><img src="../Images/6e59ddfad1b50b5a1d4b867ba9082589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y636w2uUB2YM8rjgsIcygA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="0427" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä½ å¯ä»¥åœ¨<a class="ae jg" href="https://github.com/ismail-mebsout/DockerComposeProject" rel="noopener ugc nofollow" target="_blank"> githubåº“</a>ä¸­æ‰¾åˆ°æ‰€æœ‰çš„è„šæœ¬ã€‚</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="faaa" class="lu lv jj bd lw lx nk lz ma mb nl md me kp nm kq mg ks nn kt mi kv no kw mk ml bi translated">æœ€ä½³å®è·µ</h1><ul class=""><li id="5979" class="oi oj jj la b lb mm le mn lh pb ll pc lp pd lt on oo op oq bi translated">å†»ç»“æ‰€æœ‰æå–å›¾åƒçš„ç‰ˆæœ¬(pythonã€java)ï¼Œä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ä¼šä½¿ç”Ÿäº§ç¯å¢ƒä¸ç¨³å®š</li><li id="5a9a" class="oi oj jj la b lb or le os lh ot ll ou lp ov lt on oo op oq bi translated">å¯åŠ¨å¸¦æœ‰æµ‹è¯•å…¥å£ç‚¹çš„ç¬¬ä¸€ä¸ªå®¹å™¨ï¼Œä»¥æ£€æŸ¥æ‰€æœ‰çš„å®‰è£…éƒ½æ­£ç¡®æ‰§è¡Œäº†</li><li id="bb69" class="oi oj jj la b lb or le os lh ot ll ou lp ov lt on oo op oq bi translated">å°†dockerå®¹å™¨ä¸å·è¿›è¡Œæ˜ å°„ï¼Œä»¥ä¾¿è¿›è¡Œå®æ—¶å¼€å‘ï¼Œè€Œæ— éœ€åœ¨æ¯æ¬¡æ›´æ”¹æ—¶è¿›è¡Œé‡å»º</li><li id="b85d" class="oi oj jj la b lb or le os lh ot ll ou lp ov lt on oo op oq bi translated">å°†æ¯ä¸ªæœåŠ¡å•ç‹¬å½’æ¡£ï¼Œä»¥ä¾¿äºå¼€å‘å’Œè°ƒè¯•</li></ul></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="3b46" class="lu lv jj bd lw lx nk lz ma mb nl md me kp nm kq mg ks nn kt mi kv no kw mk ml bi translated">ç»“è®º</h1><p id="16d3" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">æˆ‘å¸Œæœ›æ‚¨å–œæ¬¢é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œå¹¶è·å¾—dockerçš„ç¬¬ä¸€æ‰‹ç»éªŒã€‚å®ƒå°†ä½¿æ‚¨èƒ½å¤Ÿæ›´å¿«ã€æ›´æœ‰æ•ˆåœ°éƒ¨ç½²æ‚¨çš„äº§å“ï¼Œæ— è®ºå¼€å‘æ˜¯åœ¨å“ªé‡Œè¿›è¡Œçš„ã€‚</p><p id="2327" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¯·éšæ—¶æŸ¥çœ‹æˆ‘ä»¥å‰çš„DS Starter packæ–‡ç« :</p><ul class=""><li id="1737" class="oi oj jj la b lb lc le lf lh ok ll ol lp om lt on oo op oq bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/data-scientists-starter-pack-32ef08f7829c">æ•°æ®ç§‘å­¦é¡¹ç›®ä¸­çš„å¿…å¤‡å·¥å…·</a></li><li id="e330" class="oi oj jj la b lb or le os lh ot ll ou lp ov lt on oo op oq bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/all-you-need-to-know-about-git-github-gitlab-24a853422ff3">å…³äºGitï¼ŒGitHub &amp; GitLab </a>ä½ éœ€è¦çŸ¥é“çš„ä¸€åˆ‡</li></ul></div></div>    
</body>
</html>