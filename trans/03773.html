<html>
<head>
<title>4 Different Ways to Create a Pandas Dataframe</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建熊猫数据框架的4种不同方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-different-ways-to-create-a-pandas-dataframe-91bca1ff31bb?source=collection_archive---------6-----------------------#2021-03-29">https://towardsdatascience.com/4-different-ways-to-create-a-pandas-dataframe-91bca1ff31bb?source=collection_archive---------6-----------------------#2021-03-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="e06e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">熊猫难以置信的灵活性</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/b251690b13972c3e90a7fe0c69d7efdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2-Xp-2ziF2AZmcWEz_yGXg.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">纳塔莉亚·塞加托在<a class="ae le" href="https://unsplash.com/s/photos/methods?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="6d25" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Pandas是Python的一个数据分析和操作库。它为有效的数据分析提供了许多功能和方法。用于存储数据的核心Pandas对象称为dataframe，它由带标签的行和列组成。</p><p id="2429" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">就创建数据框架的方式而言，Pandas非常灵活。在本文中，我们将介绍4种创建数据帧的不同方法。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="6df9" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">1.Csv或excel文件</h2><p id="b9d8" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">Csv是最常用的文件格式之一。因此，创建数据帧的首要方法是读取csv文件，这在Pandas中是一种简单的操作。我们只需要给出read_csv函数的文件路径。</p><p id="9e70" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">read_csv函数非常通用。它有几个参数，允许在读取时修改csv文件。我们也可以根据列和行部分地读取文件。</p><p id="0fb1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">read_csv函数非常类似。我们不使用csv，而是使用它从excel文件创建数据帧。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="2e2a" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">2.Numpy数组</h2><p id="a31b" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">由于一个数据帧可以被认为是一个二维数据结构，我们可以使用一个二维数组来创建一个数据帧。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="ba21" class="lm ln it ml b gy mp mq l mr ms">import pandas as pd<br/>import numpy as np</span><span id="8ad7" class="lm ln it ml b gy mt mq l mr ms">A = np.random.randint(10, size=(4,3))</span><span id="4739" class="lm ln it ml b gy mt mq l mr ms">A<br/>array([[9, 2, 0],        <br/>       [4, 3, 0],        <br/>       [2, 3, 1],        <br/>       [7, 1, 3]])</span></pre><p id="a6ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">a是一个4行3列的二维数组。我们可以将它传递给DataFrame函数。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="4eaa" class="lm ln it ml b gy mp mq l mr ms">df = pd.DataFrame(A)</span><span id="37ad" class="lm ln it ml b gy mt mq l mr ms">df</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/9f8e1eb44b0c885801176f11f75115cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VFnXtw_Wv_BRy3Ye-W229g.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(图片由作者提供)</p></figure><p id="7592" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Pandas默认为列分配整数索引。但是，可以使用columns参数对其进行自定义。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="e184" class="lm ln it ml b gy mp mq l mr ms">df = pd.DataFrame(A, columns=['cola', 'colb', 'colc'])</span><span id="9b9f" class="lm ln it ml b gy mt mq l mr ms">df</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/85f23139bd628192a1f5fd595f6e0f77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f0HoFw9nAs4OAUF0PgqDYQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(图片由作者提供)</p></figure><p id="f57e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Numpy可以方便地创建样本数据。我们可以用整数和浮点数创建数组，也可以用特定分布的随机变量创建数组。Numpy还提供函数来创建用常数值填充的数组。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="6571" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">3.词典</h2><p id="1b06" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">Python字典也常用于创建数据框。键代表列名，行用值填充。</p><p id="8c0b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们来做一个简单的例子。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="308a" class="lm ln it ml b gy mp mq l mr ms">dict_a = {<br/>   'col_a':[1,2,3,4], <br/>   'col_b': [2,5,6,7], <br/>   'col_c':['a','b','c','d']<br/>}</span><span id="aa52" class="lm ln it ml b gy mt mq l mr ms">df = pd.DataFrame(dict_a)</span><span id="9b4e" class="lm ln it ml b gy mt mq l mr ms">df</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/fe9756e4dc6ebfd2cdb86bb60ed2f158.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yHbznuuviARNQuFWNlXl3A.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(图片由作者提供)</p></figure><p id="2a16" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还可以将numpy数组指定为字典值，这样就可以用这种方法创建更多的函数数据帧。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="aebf" class="lm ln it ml b gy mp mq l mr ms">dict_a = {<br/>   'col_a': np.random.randint(100, size=500),<br/>   'col_b': np.random.random(500),<br/>   'col_c': np.random.randn(500)<br/>}</span><span id="c9ae" class="lm ln it ml b gy mt mq l mr ms">df = pd.DataFrame(dict_a)</span><span id="f9d9" class="lm ln it ml b gy mt mq l mr ms">print(df.shape)<br/>(500, 3)</span><span id="6d11" class="lm ln it ml b gy mt mq l mr ms">df.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/61ea602f5ee596845697ce5c35a6f33e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Imu0Q5jwFClo-BH1RFEYMg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="d0f1" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">4.目录</h2><p id="c40d" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">List <strong class="js iu"> </strong>是Python中内置的数据结构。它表示为方括号中的数据点集合。列表可用于存储任何数据类型或不同数据类型的混合。</p><p id="ca79" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从列表中创建数据帧是没有意义的。然而，我们可以使用嵌套列表(例如列表列表)来创建数据帧。</p><p id="cbdd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们首先创建一个列表列表。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="1d1a" class="lm ln it ml b gy mp mq l mr ms">lst_a = [['John', 23, 182, 'A'], ['Jane', 25, 179, 'A'], ['Mary', 21, 177, 'B']]</span></pre><p id="ed1e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">变量lst_a包含3个项目，每个项目是4个项目的列表。我们可以将lst_a传递给dataframe函数。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="8cf0" class="lm ln it ml b gy mp mq l mr ms">df = pd.DataFrame(lst_a)</span><span id="08ba" class="lm ln it ml b gy mt mq l mr ms">df</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/89854f5e909c1d1e22548acf7f2f520b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5iC3X3sZmryhrUeItC2wXA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(图片由作者提供)</p></figure><p id="c2fd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">嵌套列表的第一项构成第一列，第二项构成第二列，依此类推。与使用字典不同，从嵌套列表创建的dataframe具有整数列标签。我们可以使用columns参数来自定义列标签。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="fe33" class="lm ln it ml b gy mp mq l mr ms">df = pd.DataFrame(lst_a, columns=['Name', 'Age', 'Height', 'Grade'])</span><span id="eff8" class="lm ln it ml b gy mt mq l mr ms">df</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/2920c1bda2512dd3a34fc0d1453db3a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A60KWxFx0wjPcmuvD-pRdA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(图片由作者提供)</p></figure><p id="e2f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">就像列表一样，我们可以从元组创建数据帧。元组是由逗号分隔并包含在括号中的值的集合。与列表不同，元组是不可变的。不变性可以被认为是元组的识别特征。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="c546" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">结论</h2><p id="3f8e" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">您可能并不总是需要创建自己的数据框架，但是知道如何创建数据框架是有好处的。你可以用它来练习或实现一个解决方案。通过使用Python内置的数据结构和Numpy数组，您可以创建高度定制的数据帧。</p><p id="de34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>