<html>
<head>
<title>How Should Organizations Structure their Data?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">组织应该如何组织他们的数据？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-should-organizations-structure-their-data-c19b66d629e?source=collection_archive---------1-----------------------#2021-12-22">https://towardsdatascience.com/how-should-organizations-structure-their-data-c19b66d629e?source=collection_archive---------1-----------------------#2021-12-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="21aa" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">意见</h2><div class=""/><div class=""><h2 id="8ee7" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">三种流行的数据仓库技术综述</h2></div><p id="c18a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">高效的数据基础设施造就高效的数据科学家。组织如何构建数据会对创新、员工效率和整体数据文化产生巨大影响。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lk"><img src="../Images/52c188b0699ad5a2704ae7bd04eb6af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iGFjBKoKpGfYWfsA1Qr61w.png"/></div></div><p class="lw lx gj gh gi ly lz bd b be z dk translated">图 1:作者图片— <a class="ae ma" href="https://unsplash.com/photos/wNeRmO0Xxmg" rel="noopener ugc nofollow" target="_blank"> src img </a> via unsplash 和<a class="ae ma" href="https://mobile.twitter.com/klotz_tom" rel="noopener ugc nofollow" target="_blank"> idea credit </a>。</p></figure><p id="a220" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">自 90 年代计算兴起以来，在最佳数据结构化技术之间一直存在激烈的争论。然而，有两种思想占据了主导地位——比尔·恩门和拉尔夫·金博尔的思想。两者都定义了 ETL 管道，将各种来源的数据带到同一个位置，供组织内的利益相关者访问。</p><p id="bc2a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">然而，在 21 世纪初，Dan Linstedt 发明了另一种数据管道结构，称为数据仓库。</p><p id="8f6b" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在本帖中，我们将回顾一篇来自<a class="ae ma" href="https://ieeexplore.ieee.org/abstract/document/7815845" rel="noopener ugc nofollow" target="_blank"> 2021 论文</a>的比较，该论文概述了每种方法并解释了每种方法的优缺点。请注意，每个主题都很复杂，所以我们只涉及最基本的内容——更多资源在文章和评论中有链接。</p><p id="740b" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">事不宜迟，我们开始吧。</p><h1 id="d7db" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">技术 TLDR</h1><p id="6cfb" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">有三种感兴趣的数据仓库结构。</p><ol class=""><li id="1b7e" class="my mz iq kq b kr ks ku kv kx na lb nb lf nc lj nd ne nf ng bi translated">Inmon:一种稳定的仓储策略，其中<strong class="kq ja">数据一致性是最高优先级</strong>。所有面向用户的数据集市都建立在健壮和规范化的数据仓库之上。</li><li id="57a9" class="my mz iq kq b kr nh ku ni kx nj lb nk lf nl lj nd ne nf ng bi translated">Kimball:一种动态仓库策略，其中快速开发有用的数据结构是最高优先级。所有面向用户的数据都建立在星型架构之上，星型架构存储在多维数据仓库中。</li><li id="11bc" class="my mz iq kq b kr nh ku ni kx nj lb nk lf nl lj nd ne nf ng bi translated">Data Vault:一种快速异步的仓储策略，其中敏捷开发是最高优先级的。所有面向用户的数据都需要另一个中间层，比如星型模式结构。</li></ol><h1 id="542c" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">好的，但是我应该使用哪一个，为什么？</h1><p id="4b29" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">让我们慢一点来讨论数据仓库的目的，并更好地理解上面的每一种方法。</p><h1 id="9b48" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">1.为什么数据结构很重要？</h1><p id="de29" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">几乎每个大中型公司都非常依赖数据。数据可以用来构思产品，决定组织的策略，并支持 A/B 测试。</p><p id="8721" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果您的组织利用数据，数据结构会非常有影响力。它决定了你要花多少钱来存储和访问你的数据，你能多快得到这些数据，它有多准确，它有多一致，等等。</p><p id="d70f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">此外，由于数据科学家是组织数据的主要消费者之一，我们高度依赖良好的数据工程。</p><p id="de82" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在本帖中，我们将讨论一种特定的数据存储策略— <strong class="kq ja">数据仓库。</strong></p><h1 id="c04f" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">2.数据仓库的主要类型是什么？</h1><p id="5816" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">从定义开始，<strong class="kq ja">数据仓库用于在一个位置</strong>存储来自各种来源的数据。就像仓库一样，它们通常有一个组织结构，但可以容纳各种不同的对象。</p><p id="ec1f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">人们已经提出了许多组织数据仓库的方法，但是自 20 世纪 90 年代以来，有两种主要的方法:Inmon 和 Kimball。我们将在列表中添加第三个更现代的结构，称为数据库。让我们依次看一看每一个。</p><h2 id="e8af" class="nm mc iq bd md nn no dn mh np nq dp ml kx nr ns mn lb nt nu mp lf nv nw mr iw bi translated"><strong class="ak"> 2.1。英蒙</strong></h2><p id="9dd2" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">Inmon 的数据仓库将数据的准确性和一致性放在高于一切的位置。由于对一致性的强调，往往会有大量的前期工作，但是随后的修改和添加是非常有效的。</p><p id="f4d1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">让我们看看数据流实际上是什么样子的…</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi nx"><img src="../Images/28161eb62a5a5fe780792c0a4e690057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YOtTVLthg3JnKwv1-o_AcQ.png"/></div></div><p class="lw lx gj gh gi ly lz bd b be z dk translated">图 2: Inmon 数据仓库结构。图片作者。</p></figure><p id="f88d" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在图 2 中，数据流非常线性。我们从各种数据源(1)开始，清理它们(2)，然后将它们插入一个结构化和有组织的数据仓库(3)。从那里，我们预测业务用例，并将不同团队的某些信息存储到数据集市中(4)。最后，我们添加了一个可视化层(5 ),它允许人们不用写代码就能访问这些数据。</p><h2 id="2e53" class="nm mc iq bd md nn no dn mh np nq dp ml kx nr ns mn lb nt nu mp lf nv nw mr iw bi translated"><strong class="ak"> 2.2。金博尔</strong></h2><p id="9207" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">Kimball 的数据仓库采用结构化程度较低的方法，这加快了初始开发周期。然而，未来的迭代需要相同的工作量，如果您不断地更新仓库，这可能会很昂贵。质量检查也很少——我们甚至不包括清洁步骤。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi ny"><img src="../Images/27b980e81b30ac18c2bd69cb47982aad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sd-VOYKboT6-IzPz_XvNIQ.png"/></div></div><p class="lw lx gj gh gi ly lz bd b be z dk translated">图 3: Kimball 数据仓库结构。图片作者。</p></figure><p id="baac" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">数据流如图 3 所示。我们从各种数据源(1)开始，并立即将它们存储在一个数据仓库(2)中，该数据仓库利用了一个<strong class="kq ja">星型模式</strong>，我们将在下面讨论这个概念。最后，我们允许非技术人员通过可视化层(3)访问这些信息。</p><p id="b410" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">Kimball 方法受欢迎的一个原因是数据仓库中的数据是如何结构化的——它利用了星型模式…</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi nz"><img src="../Images/17df7ad690baa71a484cc24af135899e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k6MxKPbs51gXooJ3ZOS1tQ.png"/></div></div><p class="lw lx gj gh gi ly lz bd b be z dk translated">图 Kimball 数据仓库利用的星型模式的例子。图片作者。</p></figure><p id="c7e7" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在图 4 中，我们的数据源在逻辑上被组织成更小的表，每个表中都有连接键。因此，如果我们需要获取给定用户的设备信息，我们可以简单地使用 CRM 表(蓝色)、设备表(红色)和事件日志表(黑色)来创建一个包含所有必要信息的更大的连接表。</p><h2 id="1a68" class="nm mc iq bd md nn no dn mh np nq dp ml kx nr ns mn lb nt nu mp lf nv nw mr iw bi translated"><strong class="ak"> 2.3。数据保险库</strong></h2><p id="4240" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">最后，我们最新的竞争者是数据库。数据保险库希望通过保持最大的灵活性来解决前两种方法的一些弱点。这使得它实现起来高效，(相对)快速，并且高度动态。然而，由于非结构化的性质，建议在构建报告工具之前利用星型模式。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi oa"><img src="../Images/3f9439479691b8a8851e1208263d335a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jBUzU3Qk4MSnQnJLgNy3XA.png"/></div></div><p class="lw lx gj gh gi ly lz bd b be z dk translated">图 5:数据仓库仓库结构。图片作者。</p></figure><p id="2ded" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在图 5 中，我们可以看到数据仓库的简化流程。和上面的方法一样，我们从各种数据源开始(1)。接下来，我们将这些数据源放入一个数据湖(2 ),这是所有先前数据源的非结构化存储。所有数据都在一个位置后，我们将这些数据移动到 staging(3 ), staging(3)支持各种数据“移动”操作，如批处理和流处理。接下来，我们进入数据库(4 ),它以下面讨论的集线器-链路-卫星结构存储所有原始数据。最后，当组织中有人需要这些数据时，我们添加一个可视化层(5)。请注意，通常最好在 4 和 5 之间添加一个结构，以便于访问。</p><p id="b20b" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">但是数据仓库中的数据是如何构建的呢？嗯，有三个主要组成部分:</p><ol class=""><li id="bb57" class="my mz iq kq b kr ks ku kv kx na lb nb lf nc lj nd ne nf ng bi translated"><strong class="kq ja">枢纽:</strong>枢纽是企业感兴趣的实体。它们只包含一个不同的业务键列表和关于每个键首次加载的时间和位置的元数据。</li><li id="6e0f" class="my mz iq kq b kr nh ku ni kx nj lb nk lf nl lj nd ne nf ng bi translated"><strong class="kq ja">链接:</strong>链接连接集线器，并且可以记录集线器之间的事务、组合或其他类型的关系。</li><li id="f579" class="my mz iq kq b kr nh ku ni kx nj lb nk lf nl lj nd ne nf ng bi translated"><strong class="kq ja">卫星:</strong>卫星连接到集线器或链路，存储关于数据何时从哪里加载的元数据。它们非常适合版本管理和历史分析。</li></ol><p id="60ac" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这种结构使它具有高度的动态性，因此如果业务逻辑发生变化，数据基础设施可以很容易地适应。</p><h1 id="b2b0" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">3.哪种方法最好？</h1><p id="771f" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">和大多数复杂的主题一样，没有简单的“最佳”解决方案。因此，让我们来看看几个潜在的评估标准，并在每个标准中选出我们的获胜者。</p><h2 id="29cd" class="nm mc iq bd md nn no dn mh np nq dp ml kx nr ns mn lb nt nu mp lf nv nw mr iw bi translated"><strong class="ak"> 3.1。准确性/一致性</strong></h2><p id="75a6" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated"><strong class="kq ja">在数据准确性类别中，Inmon 是明显的赢家。</strong>在最初开发 dat 仓库时，我们花了大量时间清理脚本，并进行强大的质量检查。从那里，所有输入到我们的数据仓库的数据都“保证”符合我们的数据质量标准，这使我们可以依赖我们的数据仓库作为单一和通用的事实来源。</p><p id="e275" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">Kimball 和 data vaults 在如何定义指标方面有很大的可变性。Kimball 比 data vault 更早开始这个过程，但是两者都缺乏通过下游表的标准化。</p><h2 id="df2a" class="nm mc iq bd md nn no dn mh np nq dp ml kx nr ns mn lb nt nu mp lf nv nw mr iw bi translated"><strong class="ak"> 3.2。开发时间</strong></h2><p id="78a2" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated"><strong class="kq ja">关于开发时间，我们没有明确的赢家——这取决于在开发周期的什么时候你想花费你的资源</strong>。Inmon 涉及大量的前期工作，但是一旦数据标准化代码到位，未来的迭代相对于其他两种方法要简单得多。</p><p id="f993" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在另一个极端，数据仓库本身的开发时间可能是最短的。然而，要使数据可访问，您必须添加一个 Kimball(创建者推荐)或 Inmon 结构。因此，vault 本身的开发速度更快，但是还需要下游的工作。</p><p id="826a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">Inmon 是一个中间地带，设置起来非常快，但是我们没有创建太多样板代码或健壮的结构，所以每个额外的更改都需要做同样多的工作。</p><h2 id="9c04" class="nm mc iq bd md nn no dn mh np nq dp ml kx nr ns mn lb nt nu mp lf nv nw mr iw bi translated"><strong class="ak"> 3.3。查询速度</strong></h2><p id="e7fc" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated"><strong class="kq ja"> Kimball 目前拥有最快的查询速度。这使得它成为数据分析师和产品经理的热门选择。如图 4 中的星型模式图所示，我们所有的表都会变得非常小，所以如果我们要查找特定的信息，智能设计的 Kimball 结构会非常有效。</strong></p><p id="83dc" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">英蒙可能排在第二位。数据集市是由报告工具访问的结构层，但是在转换到数据集市时通常没有太多的数据重组。仓库和数据集市之间的主要区别在于，后者是特定业务功能的子集，而前者存储所有业务信息，而不考虑团队或主题。</p><p id="b243" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">最后，如前一节所述，不建议直接查询数据保险库——相反，我们希望在保险库之上构建结构，从而使查询速度取决于我们选择的最终结构。</p><h1 id="c1c4" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">4.答案</h1><p id="0fe3" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">使用上述信息和其他一些要点，这里有一些选择数据仓库结构时的基本经验法则。</p><p id="11e1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果…使用<strong class="kq ja"> Inmon </strong></p><ul class=""><li id="fd04" class="my mz iq kq b kr ks ku kv kx na lb nb lf nc lj ob ne nf ng bi translated">数据准确性是您的仓库最重要的特征</li><li id="74d7" class="my mz iq kq b kr nh ku ni kx nj lb nk lf nl lj ob ne nf ng bi translated">你有时间/资源做大量前期工作</li></ul><p id="3231" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果…使用<strong class="kq ja">金博尔</strong></p><ul class=""><li id="7ec1" class="my mz iq kq b kr ks ku kv kx na lb nb lf nc lj ob ne nf ng bi translated">如果您的业务需求定义明确且稳定</li><li id="083d" class="my mz iq kq b kr nh ku ni kx nj lb nk lf nl lj ob ne nf ng bi translated">您经常查询大量数据</li></ul><p id="a923" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">使用<strong class="kq ja">数据库</strong>如果…</p><ul class=""><li id="9103" class="my mz iq kq b kr ks ku kv kx na lb nb lf nc lj ob ne nf ng bi translated">你的商业目标经常改变</li><li id="1161" class="my mz iq kq b kr nh ku ni kx nj lb nk lf nl lj ob ne nf ng bi translated">您需要在基础设施中内置版本控制</li></ul><p id="5ff1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在你知道了！我们分解了三种主要的数据仓库技术，并快速讨论了为什么每种技术都有价值。</p><p id="306e" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">最后，我做了很多 ETL，但我不是数据工程师，所以如果有错误或者你同意/不同意以上建议，请留下评论。</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="24c8" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><em class="oj">感谢阅读！我会再写 23 篇文章，把学术研究带到 DS 行业。查看我的评论，链接到这篇文章的主要来源和一些有用的资源。</em></p></div></div>    
</body>
</html>