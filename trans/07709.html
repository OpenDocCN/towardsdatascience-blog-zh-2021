<html>
<head>
<title>A Very Nice Way To Build an “Ok Google” Vocal Application… Without Google</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个非常好的方法来建立一个“Ok Google”语音应用程序…没有谷歌</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-very-nice-way-to-build-an-ok-google-vocal-application-without-google-6c29681616d1?source=collection_archive---------33-----------------------#2021-07-14">https://towardsdatascience.com/a-very-nice-way-to-build-an-ok-google-vocal-application-without-google-6c29681616d1?source=collection_archive---------33-----------------------#2021-07-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a3ca2a0c5c1de37f8ba150e6bba27263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ofBFjLAz-35t-4y6"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">杰森·罗斯韦尔在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="1b36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们都知道，由于更好的NLP模型和像Alexa或home这样的消费者家庭硬件，语音驱动的应用程序在数量和效率上都在增加。</p><p id="368d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据谷歌的数据，27%的全球在线人口正在使用手机语音搜索，这一趋势正在上升，而且一旦你开始使用它，它就会变得非常快速和自然。</p><p id="d9ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，对于我正在开发的一个个人项目(未来几周会有更多相关内容)，我决定构建一个语音界面来执行一些操作，我的需求是:</p><ul class=""><li id="36ec" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">能够有一个唤醒词，就像“嘿谷歌”，开始语音输入阶段</li><li id="6c56" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">拥有一些结构化的数据模型，比如链接到命令执行的“意图”，而不是仅仅通过文本库的语音来捕捉单词，并编写大量的<em class="lp">“如果word== 'this' do that”。</em>换句话说，拥有像DialogFlow或Lex这样的聊天机器人方法。</li><li id="3f4c" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">出于隐私考虑而离线，但没有在本地构建和部署TensorFlow或Pytorch解决方案，这肯定不是一项简单的任务</li></ul><p id="dcb9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，当我不得不放弃隐私和控制来换取易用性时——毕竟还是老一套——我发现了Picovoice！</p><h1 id="8e4a" class="lq lr iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">输入微微语音</h1><p id="b6bd" class="pw-post-body-paragraph kd ke iq kf b kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ms ky kz la ij bi translated">引用他们的网站<a class="ae kc" href="https://picovoice.ai/" rel="noopener ugc nofollow" target="_blank"/>，<em class="lp">的话来说，Picovoice是一个端到端的平台，可以根据你的需求构建语音产品。</em></p><p id="3372" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最相关的功能是它可以部署在特定的设备上并在本地运行，因此该解决方案不需要互联网连接就可以工作。</p><p id="7b8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是因为可以使用特定的web应用程序(Picovoice控制台)在线训练特定的模型，然后只需下载并由应用程序使用，无需进一步连接。</p><p id="cccf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是让我们更详细地看看它是如何工作的</p><p id="b312" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，它有四个不同的引擎:</p><ul class=""><li id="20b6" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">豪猪尾流发动机</li><li id="c8b2" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">犀牛语音意图引擎</li><li id="e56e" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">Cheetah和Leopard语音转文本引擎</li></ul><p id="76dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">顾名思义，第一个用于处理唤醒词，在检测到时触发操作，第二个用于理解意图，基于特定的词检测，另外两个用于一般的语音到文本。</p><p id="bcb9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我只使用前两个，但我可能会检查其他的一个，因为有一个完整的和工作良好的离线语音到文本的解决方案会很棒</p><p id="6aed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们来深究一下吧！</p><h2 id="1826" class="mt lr iq bd ls mu mv dn lw mw mx dp ma ko my mz me ks na nb mi kw nc nd mm ne bi translated">豪猪</h2><p id="509c" class="pw-post-body-paragraph kd ke iq kf b kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ms ky kz la ij bi translated">控制台非常简单。你输入一个唤醒词，选择一种语言，训练模型。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/ac381d7c80dbba9665a387d63fd22a87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZGsR6F8jbDmc_kXaWYspjQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Picovoice控制台截图</p></figure><p id="ec27" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦准备好了，你可以立即在控制台上测试它(或者测试一些已经存在的默认设置，比如“嘿谷歌”、“Alexa”、“Jarvis”等等)</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/9da97fa1ddacf168dc7bb068212e2199.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*uGcB37YHawFLBVhImZxmJg.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Picovoice控制台截图</p></figure><p id="3ec3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们马上会看到如何在应用程序中使用它。</p><h2 id="ca36" class="mt lr iq bd ls mu mv dn lw mw mx dp ma ko my mz me ks na nb mi kw nc nd mm ne bi translated">钱</h2><p id="fc93" class="pw-post-body-paragraph kd ke iq kf b kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ms ky kz la ij bi translated">控制台也非常直观，但这里的事情有点复杂，因为我们需要声明意图，最终在其中包含变量。</p><p id="92bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们看一个例子，假装建立一个家庭解决方案来控制灯光。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/a7905a91d483d286362e8b684dbcaa5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VZU351P0a3L7-lgkGIHSSg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Picovoice控制台截图</p></figure><p id="6cdb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个例子中，有三个意图，但让我们关注第一个:它与不同的短语相关联以触发它，每个短语都由替换词、可选词和可能的参数组成，称为槽。</p><p id="ff12" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，要触发第一个触发器，我可以说“把灯变成绿色”或“把灯变成绿色”或“把所有的灯都变成绿色”等等。</p><p id="9035" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于模型被预先训练以供本地使用，因此也必须预先决定时隙。当然，如果事情发生变化，这可能是一个缺点，因为新的模型需要用新元素进行训练(在这个例子中，如果新的颜色变得可用)。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/990e0f887413f169aaa74d3c16e1c476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zBCP1jUErMGWgXmj9B0fCw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Picovoice控制台截图</p></figure><p id="bedd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这种情况下，语音到文本的解决方案可以更好地工作，因为不需要再培训。</p><p id="0f20" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦一切就绪，几乎可以立即测试模型。只需点击麦克风并讲话！</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/974f6ed8064a91e3b31c457858b725b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*N6bpke5gxelFsBs-Svpsug.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Picovoice控制台截图</p></figure><p id="e4dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，可以在目标设备上本地下载和使用它</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/e86d91ea6a8624ffaa60c643d85ebc37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-3oID-sURrW0hQr-U01C7Q.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Picovoice控制台截图</p></figure><p id="726a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，它可以用于个人用途，但有一些限制，但也有企业许可证。</p><p id="50df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，然后呢？如何使用这些模型？只需构建一个应用程序并使用Picovoice API和SDK</p><p id="bc78" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有详尽的<a class="ae kc" href="https://picovoice.ai/docs/" rel="noopener ugc nofollow" target="_blank">文档</a>和几个可用选项，所以开始使用它们应该很快。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi np"><img src="../Images/4fc0b4565e5887c415b3f462b3268aba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t6dClpStSYtQhi1GyKmymA.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">从文档网站截取的屏幕截图</p></figure><h1 id="b68d" class="lq lr iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">结论</h1><p id="24e6" class="pw-post-body-paragraph kd ke iq kf b kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ms ky kz la ij bi translated">好的，但是我应该使用它吗？是的，肯定的</p><p id="37cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，也是最重要的，在谷歌和AWS服务层面上，它在单词检测方面做得非常好，甚至可能更好。</p><p id="390d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，在本地运行它不仅在隐私方面而且在性能方面都有优势，因为没有网络延迟。</p><p id="82a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，能够在网上试用这个模型，而不需要在本地下载和测试，真的可以节省时间。</p><p id="93b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，它可以部署在几个不同的平台上(Linux，Windows，macOS，Android，iOS，Raspberry Pi和更开放的其他平台)，非常灵活。</p><p id="c117" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果你需要建立一个基于语音的应用程序，或者只是给你的应用程序添加一些声音，Picovoice是一个很好的选择:也许比使用托管服务稍微复杂一点，但性能和隐私值得额外的努力。</p></div></div>    
</body>
</html>