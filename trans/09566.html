<html>
<head>
<title>Six Bad Manners that Make Your Python Program Slower</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让你的Python程序变慢的六个坏习惯</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/6-bad-manners-makes-your-python-program-slower-15b6fce62927?source=collection_archive---------1-----------------------#2021-09-06">https://towardsdatascience.com/6-bad-manners-makes-your-python-program-slower-15b6fce62927?source=collection_archive---------1-----------------------#2021-09-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/e83303c79e996c5ca400a9888add9b85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PU0vbdfLfHGVqyCB1-bkCA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2759724" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/myagi-280090/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2759724" rel="noopener ugc nofollow" target="_blank">迈克尔·莫西曼</a></p></figure><div class=""/><div class=""><h2 id="bd7a" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">Python代码中通常被忽视的常见问题</h2></div><p id="0eb2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">随着Python越来越受欢迎，Python用户的数量也在激增。Python确实是比较好学的。它也非常灵活，因此有更多可能的方法来实现一个功能。</p><p id="8f27" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，每当有多种方法来做一件特定的事情时，就意味着每种方法都有利弊。在本文中，我收集了6种编写Python代码的典型方法，它们可能会导致相对较差的性能。</p><h1 id="4359" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">1.不要导入根模块</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/d2459d8836f6a167ace835b063e8c59b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G7JZ75DcYMRa97R2Hb6R8A.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1335737" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/riedelmeier-130476/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1335737" rel="noopener ugc nofollow" target="_blank"> Andreas Riedelmeier </a></p></figure><p id="e112" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用Python时，我们无法避免的一件事就是导入模块，无论是内置模块还是第三方模块。有时，我们可能只需要那个模块中的一个或几个函数或对象。在这种情况下，我们应该尝试只导入我们需要的函数或对象，而不是导入根模块。</p><p id="9c1e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里有一个简单的例子。假设我们需要在程序中计算一些数字的平方根。</p><h2 id="390c" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">较慢的例子</h2><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="7159" class="mq lv jj nd b gy nh ni l nj nk">import math<br/>math.sqrt(100)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/8fe52f9556a1977f761ee84a7f1ac5f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*yKCiTDtWVgSHvcgnIBHwLg.png"/></div></figure><p id="4e6b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个糟糕的例子中，我们导入了<code class="fe nm nn no nd b">math</code>模块，并使用<code class="fe nm nn no nd b">math.sqrt()</code>来访问函数。当然，它完成工作没有任何问题，但是如果我们能导入<code class="fe nm nn no nd b">sqrt()</code>函数，性能会更好。</p><h2 id="e2f6" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">更快的例子</h2><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="435f" class="mq lv jj nd b gy nh ni l nj nk">from math import sqrt<br/>sqrt(100)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi np"><img src="../Images/a1dee1db715cb0aeba836dbe6154aabd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*0GzEbfl-6Iaa_STYk97aLQ.png"/></div></figure><p id="9477" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这比原来快了25%。同样，如果我们需要在程序中多次使用平方根函数，代码会更整洁。</p><h1 id="4fe0" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">2.避免使用点/点链接</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/5aeda76db696c7728e1fed1d538b0099.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZLgZFtGg1apZtFVJT5Hlew.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/anncapictures-1564471/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3156771" rel="noopener ugc nofollow" target="_blank"> anncapictures </a>从<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3156771" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>获得</p></figure><p id="9f84" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Python中使用点<code class="fe nm nn no nd b">.</code>来访问对象的属性或函数是非常直观的。大多数时候，没有问题。然而，如果我们能避免使用点，甚至是一串点，性能实际上会更好。</p><p id="6e8c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面的例子显示了在列表中添加一个数字，然后删除它。</p><h2 id="c2e9" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">较慢的例子</h2><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="a0f9" class="mq lv jj nd b gy nh ni l nj nk">my_list = [1, 2, 3]</span><span id="d2a5" class="mq lv jj nd b gy nq ni l nj nk">my_list.append(4)<br/>my_list.remove(4)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/f23f82ccafc8cc0c21e0ba5607974743.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*bfk2ixQHkR5hdldyxZ7bsQ.png"/></div></figure><h2 id="dc48" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">更快的例子</h2><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="2463" class="mq lv jj nd b gy nh ni l nj nk">my_list = [1, 2, 3]</span><span id="9c48" class="mq lv jj nd b gy nq ni l nj nk">append = my_list.append<br/>remove = my_list.remove</span><span id="a811" class="mq lv jj nd b gy nq ni l nj nk">append(4)<br/>remove(4)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/67e397e597210f139ec55964757a6b37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*KQuvAXiKvVrp9L42PAH9kw.png"/></div></figure><p id="59bc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你不相信实际上做同样的事情，我们可以验证它。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/62330457646490afe7cedb64aef7d6ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*cSiwjv3EWro841Ft_FzmHA.png"/></div></figure><h2 id="d499" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">考虑</h2><p id="cfc7" class="pw-post-body-paragraph ky kz jj la b lb nu kk ld le nv kn lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">我可以预料许多Python开发者会跳出来说这个例子中的技术有点可笑。其实就算是对我自己来说，我也很少像上面那样写代码。然而，很高兴知道我们可以这样编程，甚至可以让它更快。</p><p id="cb3f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想在一个列表中添加和删除数百万次，我们应该考虑使用这个技巧。这就是为什么我们需要平衡代码的性能和可读性。</p><h1 id="8e06" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">3.不要使用+来连接字符串</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/b18ef3d9634ef420694f21e701f6f929.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dfJqj2HhD-vld0ypkf7Mpg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2820987" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/piro4d-2707530/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2820987" rel="noopener ugc nofollow" target="_blank"> PIRO4D </a></p></figure><p id="a443" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Python中的字符串是不可变的。因此，当我们使用“+”将多个字符串连接在一起作为一个长字符串时，每个子字符串都是单独操作的。</p><h2 id="3988" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">较慢的例子</h2><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="2fe1" class="mq lv jj nd b gy nh ni l nj nk">strs = ['Life', 'is', 'short,', 'I', 'use', 'Python']</span><span id="b907" class="mq lv jj nd b gy nq ni l nj nk">def join_strs(strs):<br/>    result = ''<br/>    for s in strs:<br/>        result += ' ' + s<br/>    return result[1:]</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/687340d7a46554d28494352f3351a760.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*iaZsq9X9nD5w-_cG5mUI3Q.png"/></div></figure><p id="c250" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">具体来说，对于每个子字符串，它需要请求一个内存地址，然后将它与该内存地址中的原始字符串连接起来。这就变成了一种开销。</p><h2 id="8983" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">更快的例子</h2><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="623c" class="mq lv jj nd b gy nh ni l nj nk">def join_strs_better(strs):<br/>    return ' '.join(strs)</span><span id="c14e" class="mq lv jj nd b gy nq ni l nj nk">join_strs_better(strs)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/812bbb5ff8e735636e9e5fca3a06307b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*xqAPR9VkAUUmnYeCGL4VFQ.png"/></div></figure><p id="df2c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，当我们使用<code class="fe nm nn no nd b">join()</code>函数时，该函数预先知道所有的子字符串，并且分配的内存地址的长度将适合最终连接的字符串。因此，没有为每个子字符串分配内存的开销。</p><h2 id="5023" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">考虑</h2><p id="07a4" class="pw-post-body-paragraph ky kz jj la b lb nu kk ld le nv kn lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">强烈建议尽可能使用<code class="fe nm nn no nd b">join()</code>功能。然而，有时我们可能只想连接两个字符串。或者说，只是为了方便起见，我们想用“+”。在这种情况下，使用“+”符号可以提高可读性，减少代码长度。</p><h1 id="9f10" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">4.不要使用临时变量进行值交换</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/8e2a39cc2bdea550c8f1ac0ca0565725.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RKdpNKei4t-9LzlHXIu8oA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=686100" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/magee-830963/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=686100" rel="noopener ugc nofollow" target="_blank"> magee </a></p></figure><p id="3792" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">许多算法需要两个变量的值交换。在大多数其他编程语言中，这通常是通过引入临时变量来实现的，如下所示。</p><h2 id="0cfe" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">较慢的例子</h2><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="b032" class="mq lv jj nd b gy nh ni l nj nk">a = 1<br/>b = 2<br/>temp = a<br/>a = b<br/>b = temp</span></pre><p id="534f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">非常直观的是，我们需要一个临时变量作为缓冲区。因此，当变量<code class="fe nm nn no nd b">b</code>的值被传递给变量<code class="fe nm nn no nd b">a</code>时，保存变量<code class="fe nm nn no nd b">a</code>的值会有所帮助。然后，缓冲器中<code class="fe nm nn no nd b">a</code>的值可以赋给变量<code class="fe nm nn no nd b">b</code>。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/6856abd0e2a876d484a673ffb166180a.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*1G7o--UqrTR0udparQ9tZA.png"/></div></figure><h2 id="7b98" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">更快的例子</h2><p id="fba9" class="pw-post-body-paragraph ky kz jj la b lb nu kk ld le nv kn lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">然而，在Python中，我们不必使用temp变量。Python有内置语法来实现这种值交换，如下所示。</p><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="12b3" class="mq lv jj nd b gy nh ni l nj nk">a = 1<br/>b = 2<br/>a, b = b, a</span></pre><p id="91a2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它不仅快了一点，而且使我们的代码更加整洁干净。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/33273bdf0044ac6ee84d1a81b96b17cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*LX4Efv2U5QKn-9THbBeEqw.png"/></div></figure><h1 id="8754" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">5.If条件下使用短路</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/881f06a5e00ea950cdaba61584d055e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uuIwwhOH-PJK8sHbbPB51g.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/taken-336382/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1098059" rel="noopener ugc nofollow" target="_blank">拍摄</a>来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1098059" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="b3c1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">“短路”评估存在于许多编程语言中，Python也是如此。基本上，它指的是某些布尔运算符的行为，其中只有当第一个参数不足以确定整个表达式的值时，才执行或计算第二个参数。</p><p id="361d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们用一个例子来证明这一点。假设我们有一个如下的列表。</p><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="7c9d" class="mq lv jj nd b gy nh ni l nj nk">my_dict = [<br/>    {<br/>        'name': 'Alice',<br/>        'age': 28<br/>    },<br/>    {<br/>        'name': 'Bob',<br/>        'age': 23<br/>    },<br/>    {<br/>        'name': 'Chris',<br/>        'age': 33<br/>    },<br/>    {<br/>        'name': 'Chelsea',<br/>        'age': 2<br/>    },<br/>    {<br/>        'name': 'Carol',<br/>        'age': 24<br/>    }<br/>]</span></pre><p id="bbdc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的工作是过滤列表，找出所有姓名以“C”开头、年龄大于或等于30岁的人。</p><h2 id="f2b2" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">较慢的例子</h2><p id="6b47" class="pw-post-body-paragraph ky kz jj la b lb nu kk ld le nv kn lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">需要满足两个条件:</p><ul class=""><li id="4ba5" class="od oe jj la b lb lc le lf lh of ll og lp oh lt oi oj ok ol bi translated">名字以“C”开头</li><li id="795d" class="od oe jj la b lb om le on lh oo ll op lp oq lt oi oj ok ol bi translated">年龄≥ 30岁</li></ul><p id="e60b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，我们可以编写如下代码。</p><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="28eb" class="mq lv jj nd b gy nh ni l nj nk">filtered_list = []<br/>for person in my_dict:<br/>    if person['name'].startswith('C') and person['age'] &gt;= 30:<br/>        filtered_list.append(person)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/99590792c8be56863645dae061b8fbdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*Qx1cLiZ4bGuoiqAUf9GYEA.png"/></div></figure><h2 id="bebf" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">更快的例子</h2><p id="963b" class="pw-post-body-paragraph ky kz jj la b lb nu kk ld le nv kn lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">嗯，上一个例子中的代码没有问题。然而，在这个特别编造的例子中，只有“克里斯”的年龄超过了30岁。</p><p id="2e78" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，如果先写出查名字的条件，有3个名字满足(克里斯、切尔西、卡罗尔)。然后，关于年龄的第二个条件将对所有这3个人进行双重检查。</p><p id="0b5b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是因为短路评估，如果先写年龄条件，只有克里斯的年龄在30以上，会被反复检查名字是否以“C”开头。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi os"><img src="../Images/43c0aee48f621eb193af0098873e7222.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*9EXvZN3IPSC3l47JEb3AvA.png"/></div></figure><p id="8ce0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这种情况下，它几乎快了100%。</p><h1 id="d3cf" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">6.如果可以使用For循环，请不要使用While循环</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/d270be9d2d7285328418102d925efb6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GCBqdzyrbJ8ZeuXBx_f5UQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/anncapictures-1564471/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2678544" rel="noopener ugc nofollow" target="_blank"> anncapictures </a>来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2678544" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="4fe4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Python使用了大量的C来提高性能，即CPython。就循环语句而言，Python中For循环的步骤相对较少，而作为C代码运行的步骤比While循环多。</p><p id="c69a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以在Python中可以使用For循环的时候，就不应该使用while循环。这不仅是因为For-Loop在Python中更优雅，而且性能更好。</p><h2 id="2d76" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">较慢的例子</h2><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="8679" class="mq lv jj nd b gy nh ni l nj nk">result = 0<br/>max_number = 10</span><span id="a1d5" class="mq lv jj nd b gy nq ni l nj nk">i = 0<br/>while i &lt; 10:<br/>    result += i<br/>    i +=1</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/c31c7882389aa8cd2dbad22e7b1a4e6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*MohNt1w2ku_au5QyYaQE3Q.png"/></div></div></figure><h2 id="2f51" class="mq lv jj bd lw mr ms dn ma mt mu dp me lh mv mw mg ll mx my mi lp mz na mk nb bi translated">更快的例子</h2><pre class="mm mn mo mp gt nc nd ne nf aw ng bi"><span id="9798" class="mq lv jj nd b gy nh ni l nj nk">result = 0<br/>max_number = 10</span><span id="5791" class="mq lv jj nd b gy nq ni l nj nk">for i in range(max_number):<br/>    result += i</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/87f374a7723008b0cbaa05d35b5ac7cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*DrqhUJ_jdX2qK0ZMsO3Isw.png"/></div></figure><h1 id="bb70" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">摘要</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a8572871069fcb70c26996dce044f0c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vCssiPWzgw41l49czi4vAA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/lagrangeherv%C3%A9-22927133/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6574455" rel="noopener ugc nofollow" target="_blank">赫尔维·拉格朗日</a>从<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6574455" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>拍摄</p></figure><p id="75ea" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我列出了6个可以让你的Python程序更快的技巧。但是，也需要注意的是，我们不应该总是把性能放在第一位。有时，可读性和简洁性也应该考虑在内。</p><p id="6339" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">都是关于平衡的:)</p><div class="is it gp gr iu ov"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd jk gy z fp pa fr fs pb fu fw ji bi translated">阅读克里斯托弗·陶的每一个故事(以及媒体上成千上万的其他作家)</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">medium.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj ja ov"/></div></div></a></div><p id="0867" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入Medium会员来支持我和成千上万的其他作者！(点击上面的链接)</p></div></div>    
</body>
</html>