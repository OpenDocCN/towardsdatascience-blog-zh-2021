<html>
<head>
<title>Typer: Build Powerful CLIs in One Line of Code using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Typer:使用Python在一行代码中构建强大的CLI</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/typer-build-powerful-clis-in-one-line-of-code-using-python-321d9aef3be8?source=collection_archive---------14-----------------------#2021-06-09">https://towardsdatascience.com/typer-build-powerful-clis-in-one-line-of-code-using-python-321d9aef3be8?source=collection_archive---------14-----------------------#2021-06-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3d60" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在命令行上轻松地向Python函数添加参数</h2></div><h1 id="366e" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">动机</h1><p id="a3d1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你有没有想过像下面这样在命令行上快速给Python脚本添加参数？</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/89f34f07589958a81d1c97f136f53804.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/1*0BoV90t8cVJiYIKLBOoOYg.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="fc2a" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">能够从终端向Python脚本插入参数允许您和您的用户在不查看源代码的情况下轻松地试验不同的参数。</p><p id="5f8d" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated"><a class="ae mr" href="https://docs.python.org/3/library/argparse.html#module-argparse" rel="noopener ugc nofollow" target="_blank"> argparse </a>允许你编写命令行界面，但是它的语法很长。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="1332" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">有没有一种方法可以在一行代码中创建命令行界面，如下所示？</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="d27f" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">这就是Typer派上用场的时候。</p><h1 id="19f0" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">Typer是什么？</h1><p id="d988" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">Typer是一个基于Python的类型提示构建命令行界面(CLI)应用的库。它是由FastAPI的作者Sebastián Ramírez创建的。</p><p id="5ed7" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">Typer书写简短，使用方便。要安装Typer，请键入:</p><pre class="lx ly lz ma gt mu mv mw mx aw my bi"><span id="857a" class="mz kj it mv b gy na nb l nc nd">pip install typer</span></pre><h1 id="4e62" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">开始</h1><p id="758a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">要使用Typer为Python脚本创建CLI，只需将<code class="fe ne nf ng mv b">typer.run(your-Python-function)</code>添加到代码中。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="5faa" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">将上面的文件命名为<code class="fe ne nf ng mv b">get_started.py</code>。现在当你运行<code class="fe ne nf ng mv b">python get_started.py --help</code>时，你应该会看到如下所示:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nh"><img src="../Images/8f16f5dd0d29140d43947b7704f2c6a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S61sTEt8nkzw3ijoXdtsBA.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="8f29" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">通过查看帮助消息，我们知道应该向文件中添加什么参数。</p><p id="cd6c" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">现在尝试在<code class="fe ne nf ng mv b">python get_started.py</code>旁边插入一个参数，看看我们会得到什么。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ni"><img src="../Images/a3e75c900e1f9ea340d7a31a8b5f04ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k1qE8KBwikx7vLnuI64_KA.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="9815" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">酷！当我们改变参数时，输出也会改变。</p><h2 id="2a7a" class="mz kj it bd kk nj nk dn ko nl nm dp ks lj nn no ku ln np nq kw lr nr ns ky nt bi translated">帮助消息</h2><p id="b697" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">要添加描述函数功能的帮助消息，只需向该函数添加一个docstring。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nu"><img src="../Images/fe9a1b118206bfe12e0880f3211fcf4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A7w0XdnL6G_7P4uAGT0y1A.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><h1 id="4ca3" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">CLI参数</h1><h2 id="7037" class="mz kj it bd kk nj nk dn ko nl nm dp ks lj nn no ku ln np nq kw lr nr ns ky nt bi translated">没有默认值的CLI参数</h2><p id="4881" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">好吧，酷。但是如果用户不明白<code class="fe ne nf ng mv b">NAME</code>的意思呢？这时候<code class="fe ne nf ng mv b">typer.Argument</code>就派上用场了。</p><p id="d8b1" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">您可以使用<code class="fe ne nf ng mv b">typer.Argument(default_value, help)</code>向参数添加默认值和帮助消息。</p><p id="2f3c" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">因为参数<code class="fe ne nf ng mv b">name</code>没有默认值，所以我们使用<code class="fe ne nf ng mv b">...</code>作为默认值。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="d826" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">您应该会看到如下所示的帮助消息:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nu"><img src="../Images/cc836c5a44529b7e039bb6c2e9fe754d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TZBAPLgY3ZcffJ0HOsNTzA.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="30e4" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">请注意，参数<code class="fe ne nf ng mv b">name</code>是必需的，因为没有默认值。</p><h2 id="1b46" class="mz kj it bd kk nj nk dn ko nl nm dp ks lj nn no ku ln np nq kw lr nr ns ky nt bi translated">具有默认值的CLI参数</h2><p id="0969" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果将默认值添加到参数<code class="fe ne nf ng mv b">name</code>中，则不再需要该参数。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nv"><img src="../Images/a8c6e483420429b4f1bf42c3675eb25e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w1uuwndUTWYKeGy8flGrXg.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="1d21" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">现在您可以运行<code class="fe ne nf ng mv b">python argument_example.py</code>而无需插入任何参数！</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nv"><img src="../Images/7e3ca86df6f4da55b46d10d0012d094d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r4ADrBn7Xm-CSydC_FaDBA.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><h2 id="4656" class="mz kj it bd kk nj nk dn ko nl nm dp ks lj nn no ku ln np nq kw lr nr ns ky nt bi translated">带选项的CLI参数</h2><p id="8408" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果我们希望用户从一个预定义的选项中进行选择，该怎么办？这可以通过使用enum.Enum来完成。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/5f08c4ec0e97f4eece6eab5f6b3e14dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vli7hlG5BBntU6K2rrQCrQ.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="fb0d" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">不错！现在用户只能选择选项<code class="fe ne nf ng mv b">red</code>、<code class="fe ne nf ng mv b">yellow</code>或<code class="fe ne nf ng mv b">orange</code>中的一个作为参数<code class="fe ne nf ng mv b">color</code>的值。</p><h1 id="961c" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">CLI选项</h1><p id="57b5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在下面的代码中，<code class="fe ne nf ng mv b">--is-user</code>和<code class="fe ne nf ng mv b">--no-is-user</code>是CLI选项。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nx"><img src="../Images/f55c450b9f004f6b40964e627121ca03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qwYeHRFW6xd4sy3MDnWZJQ.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="c116" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">虽然CLI参数是必需的，但CLI选项不是必需的，并且以<code class="fe ne nf ng mv b">--</code>开始。</p><h2 id="d846" class="mz kj it bd kk nj nk dn ko nl nm dp ks lj nn no ku ln np nq kw lr nr ns ky nt bi translated">具有默认值的CLI选项</h2><p id="a1dd" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">要将函数的参数转换成CLI选项，请使用<code class="fe ne nf ng mv b">typer.Option</code>。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ny"><img src="../Images/d0a40ffceac6f5d915d07e52085d1c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ltcm5-ZnTrnTdvQrSq5Bag.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="f58a" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">酷！由于<code class="fe ne nf ng mv b">--is-user</code>的数据类型是<code class="fe ne nf ng mv b">bool</code>，CLI选项<code class="fe ne nf ng mv b">--no-is-user</code>也是自动生成的！</p><p id="1289" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">当我们使用不同的CLI选项时，我们可以看到不同的输出，如下所示。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nx"><img src="../Images/f55c450b9f004f6b40964e627121ca03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qwYeHRFW6xd4sy3MDnWZJQ.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><h2 id="cb22" class="mz kj it bd kk nj nk dn ko nl nm dp ks lj nn no ku ln np nq kw lr nr ns ky nt bi translated">没有默认值的CLI选项</h2><p id="4c76" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们还可以使用带有默认值的CLI选项:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nz"><img src="../Images/9561fdbdf31a69288ac0a05c5d95ef19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wj4r83dsGWYbKGMBGIliaQ.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="3c36" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">现在，我们可以通过使用<code class="fe ne nf ng mv b">--time=value</code>向CLI选项<code class="fe ne nf ng mv b">time</code>中插入一个新值。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi oa"><img src="../Images/cae5d90465e1e0e355455a840ce55a98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mH0kzDCfdqlWy9hhaAuSJQ.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="6ebd" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">注意，由于我们在函数<code class="fe ne nf ng mv b">greeting</code>中将参数<code class="fe ne nf ng mv b">time</code>指定为<code class="fe ne nf ng mv b">int</code>，所以我们只能在<code class="fe ne nf ng mv b">time</code>中插入一个整数。如果我们插入一个字符串，我们将得到一个错误。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ob"><img src="../Images/a28339f6b4c62fa347921b310c39dbc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AgntkUJknmI1SrUw93UmZQ.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><h2 id="c775" class="mz kj it bd kk nj nk dn ko nl nm dp ks lj nn no ku ln np nq kw lr nr ns ky nt bi translated">CLI选项提示</h2><p id="c028" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">您也可以要求用户使用<code class="fe ne nf ng mv b">prompt=True</code>插入CLI选项。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/d15605631dfd3f443a9167090a92aad4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/1*J17OAs2w7xQ8kTDtUtnBjw.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="0b6e" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">注意Typer自动把CLI选项变成合理的提示！如果您想定制提示，只需将<code class="fe ne nf ng mv b">prompt=True</code>替换为<code class="fe ne nf ng mv b">prompt=question</code>:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi oc"><img src="../Images/20f9a957d9560683ff25faef15b570ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*suGHP5XYWof5TZBwbWFPvQ.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><h1 id="b9ed" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">回收</h1><p id="01b2" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">有时，用户可能会插入无效值。在将这些值用于我们的函数之前，有没有一种方法可以检查它们？</p><p id="07a9" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">是的，这可以通过在<code class="fe ne nf ng mv b">typer.Argument</code>或<code class="fe ne nf ng mv b">typer.Option</code>中添加关键字参数<code class="fe ne nf ng mv b">callback</code>来实现。</p><p id="29a2" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">在下面的代码中，我们将函数<code class="fe ne nf ng mv b">check_if_user_exists</code>传递给<code class="fe ne nf ng mv b">callback</code>。这个函数检查用户名是否存在。如果用户名不存在，我们抛出一个<code class="fe ne nf ng mv b">typer.BadParameter</code>异常。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/bb53636a42c7bb36a4fbd510d99cc8cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5oXv-CgMKwT9rET9ztJI8A.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><h1 id="a396" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">多个命令</h1><p id="4b48" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">从终端向函数添加参数和选项很酷。但是如果我们在一个Python脚本中有不止一个函数呢？这时候装饰师<code class="fe ne nf ng mv b">app.command()</code>就派上用场了。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="3516" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">在上面的代码中，我们:</p><ul class=""><li id="33ec" class="od oe it lc b ld mm lg mn lj of ln og lr oh lv oi oj ok ol bi translated">创建一个名为<code class="fe ne nf ng mv b">app</code>的新<code class="fe ne nf ng mv b">typer.Typer()</code>应用程序</li><li id="1387" class="od oe it lc b ld om lg on lj oo ln op lr oq lv oi oj ok ol bi translated">将<code class="fe ne nf ng mv b">@app.command()</code>添加到我们想要创建命令的函数中</li><li id="be15" class="od oe it lc b ld om lg on lj oo ln op lr oq lv oi oj ok ol bi translated">使用<code class="fe ne nf ng mv b">app()</code>创建一个具有这些功能的CLI应用程序</li></ul><p id="6cdc" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">现在<code class="fe ne nf ng mv b">greeting</code>和<code class="fe ne nf ng mv b">say-bye</code>都可以作为命令使用了！</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi or"><img src="../Images/3716dcc095999cbcd7f80d888bc5c4c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ysyovh6T4bO7_QXkoHdnjQ.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="e295" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">只需执行<code class="fe ne nf ng mv b">python file_name.py command</code>来使用特定的命令。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/f220fdbc49ecf2dfb571a4e286bdba26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HS8oQtDHNjnM_44PAu00Lw.png"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者图片</p></figure><p id="444d" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">多酷啊。</p><h1 id="a096" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">结论</h1><p id="2ef3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">恭喜你！您刚刚学习了如何使用Typer为您的Python脚本创建CLI应用程序。使用Typer，您和您的用户可以毫不费力地将参数插入到Python脚本中。</p><p id="059d" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">既然为您的函数创建一个CLI应用程序只需要一行代码，为什么不试一试呢？</p><p id="db85" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">随意发挥，并在这里叉这篇文章的源代码:</p><div class="os ot gp gr ou ov"><a href="https://github.com/khuyentran1401/Data-science/tree/master/terminal/typer_examples" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">khuyentran 1401/数据科学</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">有用的数据科学主题以及代码和文章的集合- khuyentran1401/Data-science</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">github.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj mg ov"/></div></div></a></div></div><div class="ab cl pk pl hx pm" role="separator"><span class="pn bw bk po pp pq"/><span class="pn bw bk po pp pq"/><span class="pn bw bk po pp"/></div><div class="im in io ip iq"><p id="eb34" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">我喜欢写一些基本的数据科学概念，并尝试不同的算法和数据科学工具。你可以在LinkedIn和Twitter上与我联系。</p><p id="2e80" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">如果你想查看我写的所有文章的代码，请点击这里。在Medium上关注我，了解我的最新数据科学文章，例如:</p><div class="os ot gp gr ou ov"><a rel="noopener follow" target="_blank" href="/2-tools-to-automatically-reload-when-python-files-change-90bb28139087"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">当Python文件改变时自动重新加载的2个工具</h2><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">towardsdatascience.com</p></div></div><div class="pe l"><div class="pr l pg ph pi pe pj mg ov"/></div></div></a></div><div class="os ot gp gr ou ov"><a rel="noopener follow" target="_blank" href="/3-tools-to-track-and-visualize-the-execution-of-your-python-code-666a153e435e"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">3个跟踪和可视化Python代码执行的工具</h2><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">towardsdatascience.com</p></div></div><div class="pe l"><div class="ps l pg ph pi pe pj mg ov"/></div></div></a></div><div class="os ot gp gr ou ov"><a rel="noopener follow" target="_blank" href="/ptpython-a-better-python-repl-6e21df1eb648"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">Ptpython:更好的Python REPL</h2><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">towardsdatascience.com</p></div></div><div class="pe l"><div class="pt l pg ph pi pe pj mg ov"/></div></div></a></div><div class="os ot gp gr ou ov"><a rel="noopener follow" target="_blank" href="/rich-generate-rich-and-beautiful-text-in-the-terminal-with-python-541f39abf32e"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">Rich:用Python在终端生成丰富美观的文本</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">用几行代码调试和创建很酷的Python包</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">towardsdatascience.com</p></div></div><div class="pe l"><div class="pu l pg ph pi pe pj mg ov"/></div></div></a></div></div></div>    
</body>
</html>