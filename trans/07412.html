<html>
<head>
<title>Imputing Numerical Data: Top 5 Techniques Every Data Scientist Must Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">输入数字数据:每个数据科学家必须知道的5大技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/imputing-numerical-data-top-5-techniques-every-data-scientist-must-know-587c0f51552a?source=collection_archive---------13-----------------------#2021-07-06">https://towardsdatascience.com/imputing-numerical-data-top-5-techniques-every-data-scientist-must-know-587c0f51552a?source=collection_archive---------13-----------------------#2021-07-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="342f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从简单到高级，但对每个数据科学项目都至关重要。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/31bac21288af9bf6fd7bcfdb0c5f8c8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nwtN1GETh_fc5onNoTcAcQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·温克勒在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="1099" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">缺失值是日常数据科学工作的残酷现实。大多数数据集都不是100%完整的，所以你的工作就是想出一个最佳的插补方法。幸运的是，今天你将学习5种处理缺失数值的基本技巧，比如年龄、价格、薪水等等。</p><p id="e249" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章的结构如下:</p><ul class=""><li id="d1eb" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">缺失值的简要介绍</li><li id="1ee8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">数据集加载和设置</li><li id="fc00" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">#1 —任意值插补</li><li id="6d09" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">#2 —分布插补的开始/结束</li><li id="36d8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">#3 —均值/中值/众数插补</li><li id="1595" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">#4 — KNN插补</li><li id="6c9f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">#5 —误森林插补</li><li id="54cc" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结论</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="44c2" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">缺失值的简要介绍</h1><p id="ec1f" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">看到一堆缺失值简直是噩梦。除非你是一个领域专家，否则你没有办法对它们进行最佳估算。一个变量的丢失可能有无数的原因——也许它在ETL管道中没有得到正确的处理，也许用户没有使用那个特性，或者也许它是一个派生变量，因为其他变量也丢失了。</p><p id="6041" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是个问题。</p><p id="7c42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能知道，最流行的机器学习库——Scikit-Learn——不支持在不完整的数据上建立模型。这意味着你必须以某种方式估算数据或完全删除缺失的记录。第二个选项可能会删除大部分数据集。</p><p id="17f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">插补技术可以提供一个不错的解决方案，但是没有办法知道如果数据集是完整的会是什么样子。嗯，如果数据不是随机丢失的，并且您有一些领域经验的话，情况可能就不是这样了。</p><p id="5040" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有缺失的数据可以分为三类:</p><ul class=""><li id="04e3" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><strong class="lb iu">随机缺失(3月)</strong> —你有可能在不同的样本上获得更多的数据。例如，关注隐私的人不太可能泄露个人信息。</li><li id="73a3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">完全随机缺失(MCAR) </strong> —缺失值和其他观察值之间不存在关系，因此可以删除这些记录。</li><li id="25ca" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">非随机缺失(MNAR) </strong> —值缺失是有原因的。例如，用户可能没有订阅某个功能。这些记录应该被标记，而不是删除。</li></ul><p id="5897" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以看到领域专业知识对于输入缺失值是多么有用，尤其是对于MAR和MNAR。如果你不确定——问，不要假设。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="d930" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">数据集加载和设置</h1><p id="5bb3" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在演示缺失值插补技术之前，我们需要一个数据集。让我们坚持一些众所周知的，如<a class="ae ky" href="https://gist.githubusercontent.com/michhar/2dfd2de0d4f8727f873422c5d959fff5/raw/fa71405126017e6a37bea592440b4bee94bf7b9e/titanic.csv" rel="noopener ugc nofollow" target="_blank">泰坦尼克号数据集</a>。</p><p id="3eb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用下面的代码片段直接从web加载它，并在此过程中进行一些转换。所有这些都被评论为:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="66a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是前五行的样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/fb843beceb6ccfb31fc804d01f913761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e8qWaWCjbVQMb2N7lolF5g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片1 —泰坦尼克号数据集的头部(图片由作者提供)</p></figure><p id="b2df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只有一列— <code class="fe nq nr ns nt b">Age</code>包含缺失值。以下行将显示每列缺失值的百分比:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="1d12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/eea311d02968af2f37e378b911211119.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*DlMVrQ0V_TXwpHelh3jgGA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2-缺失值的百分比(作者提供的图片)</p></figure><p id="18c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在有了开始输入所需的一切！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="3e45" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">#1 —任意值插补</h1><p id="68ad" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">这可能是处理缺失值的最简单的方法。除了扔掉它们。简而言之，如果变量分布为正，所有缺失值都将被替换为任意值，如0、99、999或负值。</p><p id="e23c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法假设数据不是随机缺失的(MNAR ),所以我们希望标记这些值，而不是用统计平均值或其他技术来输入它们。</p><p id="13b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">优势:</strong>任意值插补易于实施，可帮助您的模型捕捉缺失值的重要性(如果存在)。</p><p id="1462" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">缺点:它可以对变量分布做可怕的事情，因为它改变了均值、方差和协方差。</p><p id="3ac8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们使用这种技术来估算缺失的年龄值。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="ac55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是汇总统计数据:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/a4306b21ff73cec9a2e8d25a0faf17ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pQH84LUfDKBeTAhjsE0Emg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3 —任意值插补的汇总统计数据(作者提供的图片)</p></figure><p id="e3c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">呀。使用这种方法来估算不能为负或高于某个阈值的年龄值没有多大意义。但是在做出结论之前，让我们来看看插补的直观表示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/e39c6897515c9dab6265720ae8443c53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MMjHgVne_exv7bTemRsrnA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4 —任意值插补可视化(图片由作者提供)</p></figure><p id="d67d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，新的<em class="nx">峰值</em>被引入变量，完全改变了原来的分布。总之，这种方法可能是有用的，但将取决于变量类型和数据是否随机丢失。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="fb12" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">#2 —分布插补的开始/结束</h1><p id="fa39" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">前一种技术合乎逻辑的下一步是对位于分布末端的值进行插补。如果一个变量是正态分布的，你可以用平均值的正/负3个标准差来确定两端。正如你可能知道的，在正态分布中，任何超出三个标准差的东西都可以被认为是异常值。</p><p id="3b44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种技术再次假设值不是随机丢失的(MNAR)。出于这个原因，我们希望标记这些值，而不是用统计平均值或其他技术来估算它们。</p><p id="f059" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">优点:</strong>该技术实现简单，可以帮助您的模型捕捉缺失值的重要性，如果它存在的话。</p><p id="f040" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">缺点:</strong>它可以对变量分布做可怕的事情，因为它改变了均值、方差和协方差。</p><p id="a59b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们假设<code class="fe nq nr ns nt b">Age</code>是正态分布的，并用分布值的开始和结束来估算缺失值。下面的代码片段可以做到这一点:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="d9a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是汇总统计数据:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/3909cdbf9639631424e3f8c4f35a6311.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQa_arcVwJAfyYp9UaLWwg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5 —分布开始/结束插补的汇总统计数据(按作者分类)</p></figure><p id="7a57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不太好。新的峰值将在分布端上升，这对<code class="fe nq nr ns nt b">Age</code>没有多大意义。这是它的视觉效果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/0ea032fe9623a2c05c13585d56fd8693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9iFUJ_HFRMiI9cChxvQvTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6 —分布插补可视化的开始/结束(作者提供的图片)</p></figure><p id="3d9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总而言之——这可能是一种有用的技术，但在我们的情况下不太管用。与前面的技术相同。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="5f00" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">#3 —均值/中值/众数插补</h1><p id="ba07" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">用统计平均值输入缺失值可能是最常见的技术，至少在初学者中是这样。如果变量呈正态分布，则可以用平均值估算缺失值，如果分布有偏差，则可以用中值估算缺失值。统计模式更常用于分类变量，但我们也将在这里讨论它。</p><p id="f68a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些技术假设数据完全随机缺失(MCAR)，所以在你的项目中要记住这一点。</p><p id="2834" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">优点:</strong>易于实现和理解，对任何规模的数据集都很快。</p><p id="b8b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">缺点:</strong>可以轻微或剧烈地改变原始分布，具体取决于缺少多少值。</p><p id="c719" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们使用这种技术来估算缺失的年龄值。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="97f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是汇总统计数据:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/b3c594ac4755579863cd66e0d0cbd688.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A6mYEEXjYt-q5nkUVc35sQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图7——平均值/中值/众数插补的汇总统计数据(作者提供的图片)</p></figure><p id="0ad7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">至少可以说，结果看起来很有希望。在下结论之前，让我们直观地探索一下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/a992b9d5de15d8967e345a6df29bdc9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X6lNl-oVdmw2zUL-JFLfwA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图8 —均值/中值/众数插补可视化(作者提供的图片)</p></figure><p id="06e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比前两种技术好多了。中间值可能在这里效果最好，因为分布略有偏斜。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="dce8" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">#4 — KNN插补</h1><p id="64aa" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">接下来让我们探索一些更高级的东西。KNN代表K-最近邻，这是一种基于定义的最近邻数量进行预测的简单算法。它计算要分类的实例与数据集中所有其他实例之间的距离。在这个例子中，分类意味着插补。</p><p id="fbe1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于KNN是一种基于距离的算法，您应该考虑缩放数据集。一会儿你就会明白了。</p><p id="5233" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">优点:</strong> KNN插补易于实现和优化，看起来也比以前的技术“聪明”。</p><p id="b288" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">缺点:</strong>由于欧氏距离公式，对离群点比较敏感。它不能应用于分类数据，并且在大型数据集上计算开销很大。</p><p id="045a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们首先从数据集缩放开始。我们还将使用未缩放的数据集，以便之后可以进行公平的比较。以下代码片段使用<code class="fe nq nr ns nt b">MinMaxScaler</code>来缩放数据集:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="0412" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是缩放数据集的外观:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/8ef4bb406629b7b2c4a090c6d401852d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*htPnI2gKpw3NqC1BzTbkkw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片9-原始数据集的缩放版本(图片由作者提供)</p></figure><p id="7551" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们现在进行插补。您需要知道<code class="fe nq nr ns nt b">n_neighbors</code>参数的值，但这是您可以在以后优化的。价值3应该很适合我们。插补后，我们将不得不使用<code class="fe nq nr ns nt b">MinMaxScaler</code>中的<code class="fe nq nr ns nt b">inverse_transform()</code>函数，以原始形式显示缩放后的数据集。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="7e0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，让我们来看看结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="6689" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是汇总统计数据:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/95388a20e913730c468f473dec03adb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gSY8_cWZHVHflCuLdjprbg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图10——平均值/中值/众数插补的汇总统计数据(按作者分类)</p></figure><p id="0505" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">汇总统计数据看起来令人印象深刻，但在下结论之前，让我们先直观地了解一下结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/2d1d0b97d4c96ec3adbb3cb83f6a83d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WrXH7e0iKzyXCQ2075PFcg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图11 — KNN插补可视化(图片由作者提供)</p></figure><p id="3094" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是不同的东西。KNN插补，尤其是在缩放数据集上，产生了迄今为止最好的结果。如果你想了解更多关于KNN插补及其优化的知识，这里有一篇文章适合你:</p><div class="od oe gp gr of og"><a rel="noopener follow" target="_blank" href="/missing-value-imputation-with-python-and-k-nearest-neighbors-308e7abd273d"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">如何用Python和KNN处理缺失数据</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">使用机器学习算法处理缺失数据</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><p id="e583" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一项技术需要探索。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="65b6" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">#5 —误森林插补</h1><p id="c9f5" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">MissForest是一种基于机器学习的插补技术。它使用随机森林算法来完成任务。它基于一种迭代方法，每次迭代生成的插补都更好。</p><p id="06cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与KNN不同，MissForest不关心数据的规模，也不需要调优。开箱即用更容易，但这并不意味着结果会更好。</p><p id="05d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">优点:</strong>它不需要数据准备，因为随机森林算法可以确定哪些特征对插补很重要。它不需要调优，并且可以处理分类变量。</p><p id="f7ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">缺点:</strong>在处理大型数据集时，计算开销会很大。</p><p id="21f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们使用这种技术来估算缺失的年龄值。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="7285" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是汇总统计数据:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/012f6d79546cd3ab239298e4c962fe07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IbkPSAumVH-1LkyDiVHWWg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图12 —误报森林插补的汇总统计数据(作者提供的图片)</p></figure><p id="2807" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果看起来很有希望——平均值和标准偏差略有不同，但这是意料之中的。让我们直观地看看结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/0169851549b988949851f8412c3f1864.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i9iJI8CVWFHZQ_C0SRPmDA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图13 —误森林插补可视化(作者提供的图片)</p></figure><p id="0c33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，这些结果比用简单的方法得到的结果好得多，但我还是要说KNN做得更好。</p><p id="7fc1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想更多地了解MissForest，这里有一篇文章给你:</p><div class="od oe gp gr of og"><a rel="noopener follow" target="_blank" href="/how-to-use-python-and-missforest-algorithm-to-impute-missing-data-ed45eb47cb9a"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">如何使用Python和MissForest算法估算缺失数据</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">使用随机森林处理丢失数据的分步指南</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou ks og"/></div></div></a></div></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="8275" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="b21c" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">这就是你要的——输入缺失值的五种技巧。多元插补技术(KNN和米斯福里斯特)被证明是更适合泰坦尼克号数据集的整体方法，但这并不适用于所有数据集。</p><p id="393c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果可能，在处理缺失值之前，尽可能多地了解数据。作为一名数据科学家，你不可能成为每个领域的领域专家，所以如果可能的话，试着向某人咨询。如果没有，用你的分析技巧找到一种方法，使分布的变化最小化，你就可以开始了。</p><p id="3a44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请继续关注博客，因为将会涉及更多缺失值估算技术。下一篇文章将介绍输入分类变量的最佳技术。</p><p id="f50d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="17fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">喜欢这篇文章吗？成为 <a class="ae ky" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="nx">中等会员</em> </a> <em class="nx">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="od oe gp gr of og"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">通过我的推荐链接加入Medium-Dario rade ci</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.com</p></div></div><div class="op l"><div class="ox l or os ot op ou ks og"/></div></div></a></div></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2c04" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">了解更多信息</h1><ul class=""><li id="4caf" class="lv lw it lb b lc ni lf nj li oy lm oz lq pa lu ma mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/top-5-books-to-learn-data-science-in-2020-f43153851f14">2021年学习数据科学的前5本书</a></li><li id="7d1b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/how-to-schedule-python-scripts-with-cron-the-only-guide-youll-ever-need-deea2df63b4e">如何使用Cron调度Python脚本——您需要的唯一指南</a></li><li id="045e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/dask-delayed-how-to-parallelize-your-python-code-with-ease-19382e159849"> Dask延迟—如何轻松并行化您的Python代码</a></li><li id="d6c6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/how-to-create-pdf-reports-with-python-the-essential-guide-c08dd3ebf2ee">如何使用Python创建PDF报告—基本指南</a></li><li id="c5ab" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/become-a-data-scientist-in-2021-even-without-a-college-degree-e43fa934e55">即使没有大学文凭也要在2021年成为数据科学家</a></li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2dee" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">保持联系</h1><ul class=""><li id="c432" class="lv lw it lb b lc ni lf nj li oy lm oz lq pa lu ma mb mc md bi translated">关注我的<a class="ae ky" href="https://medium.com/@radecicdario" rel="noopener"> Medium </a>了解更多类似的故事</li><li id="2d2f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">注册我的<a class="ae ky" href="https://mailchi.mp/46a3d2989d9b/bdssubscribe" rel="noopener ugc nofollow" target="_blank">简讯</a></li><li id="3a1d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在<a class="ae ky" href="https://www.linkedin.com/in/darioradecic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上连接</li></ul></div></div>    
</body>
</html>