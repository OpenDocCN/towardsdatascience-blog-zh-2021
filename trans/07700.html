<html>
<head>
<title>Neural Network for Predicting the Energy Performance of a Building</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预测建筑物能源性能的神经网络</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/neural-network-for-predicting-the-energy-performance-of-a-building-5c2bf5820ebe?source=collection_archive---------24-----------------------#2021-07-14">https://towardsdatascience.com/neural-network-for-predicting-the-energy-performance-of-a-building-5c2bf5820ebe?source=collection_archive---------24-----------------------#2021-07-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9f5b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用Tensorflow和Colab估算夏季和冬季负荷</h2></div><figure class="ki kj kk kl gt km"><div class="bz fp l di"><div class="kn ko l"/></div></figure><p id="759e" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">在我攻读工程学硕士学位期间，我花了几年时间，试图为能源系统建模。在大多数情况下，对于特别简单方便的<strong class="kr iu">几何</strong>和<strong class="kr iu">边界条件</strong>，只有<strong class="kr iu">最简单的问题</strong>可以直接建模(所研究系统的控制微分方程的解析解)。使用各种数学/数值或程序技术来处理更复杂的问题，以简化它们的性质，从而可以开发出相当精确(尽管是近似的)的计算模型。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ll"><img src="../Images/55668c8bbecaaf9b146c1c513a115e9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o4sLSvRQ9JM8OqID"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">照片由<a class="ae lw" href="https://unsplash.com/@zburival?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Zbynek Burival </a>在<a class="ae lw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="f572" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">我最近在深度学习和最广泛意义上的工程(结构分析、流体动力学、能源系统……)的集成方面的经验中，最有趣的一个方面是以完全不同的方式处理所研究的问题的可能性。</p><p id="a5c4" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">数据的<strong class="kr iu">丰富性</strong>和<strong class="kr iu">复杂性</strong>不再是一个问题，而是一个优势，允许开发更加<strong class="kr iu">准确的</strong>和更加<strong class="kr iu">复杂的</strong>预测模型。</p><p id="7228" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">在一个问题可以被完美地解释和解析地解决之前，没有必要再把这个问题简化到骨子里。数据的可靠性，再加上复杂的<strong class="kr iu">神经网络</strong>模型，足以以超过可接受的工程和功能精度对系统进行建模。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lx"><img src="../Images/267312f1eca337bfb17772edf3469ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZWuyGd17s18dOZRv"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated"><a class="ae lw" href="https://unsplash.com/@outsite?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Outsite Co </a>在<a class="ae lw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="c53d" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">所有这些序言对于介绍本文中提出的问题是必要的，即从结构化数据集中对建筑物的夏季和冬季热负荷进行<strong class="kr iu">估计。在我的学习和个人生活中，我多次遇到这个问题。按照我的惯例，我总是使用不可避免的<strong class="kr iu"> Excel </strong>电子表格和相关的国家<strong class="kr iu">立法</strong>来处理估算能源性能的问题。这考虑了各种因素的总和(直接和间接的太阳能负荷、通风、显热和潜热负荷……)，采用了基于效应叠加和一维的方法，产生了一种解决该问题的常用简化方法。与其实施相关的标准的解释可能远不是一个简单的任务</strong>，更多的是因为缺乏清晰度，而不是要开发的计算的数字难度。</p><p id="7095" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><em class="ly">通过将数字模拟或安装的家庭自动化传感器生成的大量数据结合起来，彻底改变这种方法的可能性可能是一个有趣的思考点。</em></p><h2 id="4556" class="lz ma it bd mb mc md dn me mf mg dp mh ky mi mj mk lc ml mm mn lg mo mp mq mr bi translated"><strong class="ak">为什么要看这篇文章？</strong></h2><p id="ca7b" class="pw-post-body-paragraph kp kq it kr b ks ms ju ku kv mt jx kx ky mu la lb lc mv le lf lg mw li lj lk im bi translated">在这个故事中，我们将看到如何开发一个<strong class="kr iu">顺序</strong>(全连接)密集神经网络模型，用于从使用<strong class="kr iu"> Autodesk Ecotect </strong>生成的开源数据集中估算建筑的<strong class="kr iu">夏季和冬季热负荷</strong>。我们将评估我们网络的性能和结构。</p><h2 id="d744" class="lz ma it bd mb mc md dn me mf mg dp mh ky mi mj mk lc ml mm mn lg mo mp mq mr bi translated"><strong class="ak">数据集</strong></h2><p id="9e03" class="pw-post-body-paragraph kp kq it kr b ks ms ju ku kv mt jx kx ky mu la lb lc mv le lf lg mw li lj lk im bi translated">本分析从<a class="ae lw" href="https://archive.ics.uci.edu/ml/datasets/energy+efficiency" rel="noopener ugc nofollow" target="_blank"> <strong class="kr iu">能效数据集</strong> </a>开始，免费提供。该能源分析涵盖了12栋建筑。每个模拟都是用Ecotect进行的。这些建筑在玻璃面积、玻璃面积分布、朝向等方面各不相同……测试了上述参数的各种组合，从总共8个自由度开始，获得了<strong class="kr iu"> 768种建筑形状</strong>。数据集包括768个样本、8个特征和两个实值响应(输出/特征)。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mx"><img src="../Images/931d47e7942ed48cbf25c880430c3d48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_p0yWh2ZW-t-JU7fRCelQ.png"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">配对图—作者提供的图像</p></figure><p id="f0cc" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">数据集包括8个属性/特征(<strong class="kr iu"><em class="ly"/></strong><em class="ly">)</em>和两个响应/标签(<strong class="kr iu"><em class="ly"/></strong><em class="ly">)</em>。</p><p id="8585" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><em class="ly">目标是用这八个特征来预测两个反应</em> <strong class="kr iu"> <em class="ly">中的每一个。</em> </strong> <em class="ly">具体来说:</em></p><ul class=""><li id="72d3" class="my mz it kr b ks kt kv kw ky na lc nb lg nc lk nd ne nf ng bi translated"><em class="ly"> X1相对紧密度</em></li><li id="a6cd" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><em class="ly"> X2表面积</em></li><li id="8bbe" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><em class="ly"> X3城墙区域</em></li><li id="049d" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><em class="ly"> X4屋顶面积</em></li><li id="9488" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><em class="ly"> X5总高度</em></li><li id="cc38" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><em class="ly"> X6方位</em></li><li id="8dc0" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><em class="ly"> X7玻璃区域</em></li><li id="08ef" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><em class="ly"> X8玻璃区域分布</em></li><li id="8ac1" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><em class="ly"> Y1加热负荷</em></li><li id="5cdb" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><em class="ly"> Y2冷负荷</em></li></ul><h2 id="fa64" class="lz ma it bd mb mc md dn me mf mg dp mh ky mi mj mk lc ml mm mn lg mo mp mq mr bi translated">Ecotect</h2><p id="4faf" class="pw-post-body-paragraph kp kq it kr b ks ms ju ku kv mt jx kx ky mu la lb lc mv le lf lg mw li lj lk im bi translated"><a class="ae lw" href="https://en.wikipedia.org/wiki/Autodesk_Ecotect_Analysis" rel="noopener ugc nofollow" target="_blank">Autodesk Ecotect Analysis</a>是一种环境分析工具，使设计师能够在概念设计过程的早期模拟建筑性能。它将分析功能与交互式可视化相结合，直接在建筑模型的上下文中呈现分析结果。</p><h2 id="6050" class="lz ma it bd mb mc md dn me mf mg dp mh ky mi mj mk lc ml mm mn lg mo mp mq mr bi translated">密集神经网络</h2><p id="d099" class="pw-post-body-paragraph kp kq it kr b ks ms ju ku kv mt jx kx ky mu la lb lc mv le lf lg mw li lj lk im bi translated">为了这个分析，我使用了一个密集的神经网络。我使用了2个隐藏层(浅层网络)，每层256个神经元，激活函数为“relu”。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/2b71369611cad2f4945f250e3716fcea.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*sk-K8xDGjLx38D-5MnUuPw.png"/></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">热负荷神经网络—图片由作者提供</p></figure><p id="3903" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">如果你对我如何制作这个情节感兴趣，我写了一篇关于它的文章。对于这个分析，我选择了<a class="ae lw" href="https://keras.io/guides/functional_api/" rel="noopener ugc nofollow" target="_blank"> Keras Functional API </a>来生成神经网络。你可以在这里找到<a class="ae lw" href="https://github.com/GitMarco27/TMML/blob/main/Notebooks/005_Energy_Efficiency.ipynb" rel="noopener ugc nofollow" target="_blank">源代码</a>，在GitHub和<a class="ae lw" href="https://www.youtube.com/channel/UCExkeDZ9WC0tg9aoFMsNF0w" rel="noopener ugc nofollow" target="_blank"> YouTube </a>上找到完整的<a class="ae lw" href="https://github.com/GitMarco27/TMML" rel="noopener ugc nofollow" target="_blank">库</a>。我选择<strong class="kr iu"> Meas平方误差</strong>作为损失函数，在训练期间还监控平均绝对误差和平均百分比绝对误差。最后，我使用Adam作为自适应学习率优化器，没有学习率衰减调度。最后，数据集必须分成<strong class="kr iu">训练</strong>和<strong class="kr iu">验证</strong>数据。将数据归一化到<strong class="kr iu">便于</strong>模型训练过程。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi nn"><img src="../Images/38b250e7ab7f667f3f2ef8335b0f75ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R6uJ5ijPtvLUIh2yVGceGA.png"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">热负荷神经网络概念—图片由作者提供</p></figure><h2 id="f76d" class="lz ma it bd mb mc md dn me mf mg dp mh ky mi mj mk lc ml mm mn lg mo mp mq mr bi translated">结果</h2><p id="d953" class="pw-post-body-paragraph kp kq it kr b ks ms ju ku kv mt jx kx ky mu la lb lc mv le lf lg mw li lj lk im bi translated">神经网络已经训练了500个历元，批次大小为128。我们得到了<strong class="kr iu">培训</strong>(蓝线)和<strong class="kr iu">验证</strong>(橙线)损失的良好趋势。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="gh gi no"><img src="../Images/ddcc5459bb80aea6648c3b6e4fe5be2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*4er6ehCWncLjJN911YD5AQ.png"/></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">跨时代的损失函数-按作者分类的图像</p></figure><p id="9104" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">为了评估模型的性能，建议制作<strong class="kr iu">验证图</strong>。这些图在横坐标中示出了标签的精确值，而纵坐标示出了神经网络对同一组输入的预测值。对于热负荷，我们得到以下趋势:</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi np"><img src="../Images/d05c21017ff7a81e742ea0f2913ff9c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ZxNsV4H5hC6TfNK-eIuVg.png"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">热负荷验证图-作者提供的图片</p></figure><p id="4ea5" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">从<strong class="kr iu">定量</strong>的角度，评估了平均绝对误差、均方误差、<strong class="kr iu">皮尔逊系数</strong>和<strong class="kr iu">决定系数</strong>。</p><pre class="ki kj kk kl gt nq nr ns nt aw nu bi"><span id="f4c3" class="lz ma it nr b gy nv nw l nx ny">Y0 - mae-train - 0.00474<br/>Y0 - mse-train - 4.44430<br/>Y0 - r2-train - 0.99940<br/>Y0 - pearson-train - 0.99972<br/>Y0 - mae-test - 0.00947<br/>Y0 - mse-test - 0.00015<br/>Y0 - r2-test - 0.99783</span></pre><p id="3236" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">我们可以看到，我们的算法在两个集合上都达到了非常高的精度(对于决定系数和皮尔逊系数，理想条件是值为1)。对于冷负荷，我们得到以下趋势:</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi np"><img src="../Images/2d0a98e05e9cf0d037ce2d7ee2c02072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XUfhWH7M3gaeMPBmiY6rXA.png"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">冷负荷验证图-作者提供的图片</p></figure><p id="0167" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">从<strong class="kr iu">定量</strong>的角度来看:</p><pre class="ki kj kk kl gt nq nr ns nt aw nu bi"><span id="8c36" class="lz ma it nr b gy nv nw l nx ny">Y1 - mae-train - 0.00685<br/>Y1 - mse-train - 8.63810<br/>Y1 - r2-train - 0.99870<br/>Y1 - pearson-train - 0.99951<br/>Y1 - mae-test - 0.01739<br/>Y1 - mse-test - 0.00058<br/>Y1 - r2-test - 0.99042<br/>Y1 - pearson-test - 0.99606</span></pre><p id="390f" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">无论是数字上的<strong class="kr iu">还是质量上的</strong>和<strong class="kr iu"/>(趋势)，所获得的结果仍然非常令人满意。尽管这些结果是部分的，并且没有对模型从未见过的进一步数据进行可能的优化和测试的有益效果，但结果证明是有希望的，并且惊人地准确。</p><h2 id="d3b0" class="lz ma it bd mb mc md dn me mf mg dp mh ky mi mj mk lc ml mm mn lg mo mp mq mr bi translated">结论</h2><p id="7bed" class="pw-post-body-paragraph kp kq it kr b ks ms ju ku kv mt jx kx ky mu la lb lc mv le lf lg mw li lj lk im bi translated">我们利用<strong class="kr iu">模拟软件</strong> + <strong class="kr iu">深度学习算法</strong>的有趣组合，利用Python、Colab和Tensorflow的潜力，解决了一个<strong class="kr iu">复杂的工程问题</strong>。我们开发了一个<strong class="kr iu">神经网络模型</strong>，在结构化数据集上训练，用于预测热负荷。我们获得了<strong class="kr iu">非常好的结果</strong>，表明应用这种方法评估新数据的热性能以及解决这种工程分析的可能性。</p><p id="ab3e" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><br/>下次见，马尔科</p><h2 id="696e" class="lz ma it bd mb mc md dn me mf mg dp mh ky mi mj mk lc ml mm mn lg mo mp mq mr bi translated">3分钟机器学习</h2><p id="ed8c" class="pw-post-body-paragraph kp kq it kr b ks ms ju ku kv mt jx kx ky mu la lb lc mv le lf lg mw li lj lk im bi translated">3分钟机器学习是一系列与人工智能、深度学习和数据科学相关的教程、视频和文章。你可以在YouTube上找到完整的视频集。GitHub <a class="ae lw" href="https://github.com/GitMarco27/TMML" rel="noopener ugc nofollow" target="_blank">存储库</a>包含了文章和视频中显示的所有Google Colab笔记本。希望这些内容对你有用，或者只是你感兴趣。欢迎任何反馈。</p><p id="2349" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">查看其他剧集:</p><ul class=""><li id="4a14" class="my mz it kr b ks kt kv kw ky na lc nb lg nc lk nd ne nf ng bi translated"><a class="ae lw" rel="noopener" target="_blank" href="/images-generation-with-neural-style-transfer-and-tensorflow-a823b0353b06">使用神经类型转移和张量流生成图像</a></li><li id="1ca5" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><a class="ae lw" rel="noopener" target="_blank" href="/cats-vs-dogs-convolutional-classifier-44ec04c8eb7a">猫VS狗卷积分类器</a></li><li id="217a" class="my mz it kr b ks nh kv ni ky nj lc nk lg nl lk nd ne nf ng bi translated"><a class="ae lw" rel="noopener" target="_blank" href="/plot-a-tensorflow-model-with-keras-functional-api-f2db639dbbd8">使用Keras Functional API绘制张量流模型</a></li></ul></div></div>    
</body>
</html>