<html>
<head>
<title>Baffling Concept of True Positive and True Negative</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">令人困惑的真阳性和真阴性概念</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/baffling-concept-of-true-positive-and-true-negative-bffbc340f107?source=collection_archive---------7-----------------------#2021-06-04">https://towardsdatascience.com/baffling-concept-of-true-positive-and-true-negative-bffbc340f107?source=collection_archive---------7-----------------------#2021-06-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7724" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解TP/TN和FP/FN</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/cc421d31a8c7b1be34a754ab0293470d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*RjqJ5hDvlikTdYgYKwSzWQ.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">Michael Dziedzic 在Unsplash上拍摄的照片</p></figure><p id="eda5" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">在机器学习和统计学中，我们经常使用术语“真正”和“真负”,但人们仍然会感到困惑，因此他们的矩阵被称为混淆矩阵。现在的问题是什么是真和假，什么是正和负。我们可以读定义，可以更迷惑。所以，用简单的话来说，我们会明白的。</p><p id="6bb5" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><strong class="ku ir">什么是积极和消极？</strong></p><p id="41aa" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">正面和负面无非就是两类，比如幸存/未幸存，癌症/未癌症，信用卡诈骗/未诈骗，垃圾邮件/未垃圾邮件等。它不仅在两个发生/没有发生之间，而且还可以分为猫/狗、雄性/雌性。因此，我们认为一类是积极的，另一类是消极的。这是任意的，或者取决于研究的目的，你认为一个是积极的，另一个是消极的。这里面没有好的(积极的)或坏的(消极的)方面。</p><p id="45b4" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><strong class="ku ir">什么是真假？</strong></p><p id="187f" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">当有来自某个群体的样本数据时，我们使用建模来预测它的类别/标签。“真”表示模型能够识别其类的记录，而“假”表示模型不能识别的记录。</p><p id="5b6e" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><strong class="ku ir">混乱矩阵</strong></p><p id="8547" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">混淆矩阵是表示分类问题预测结果汇总的表格。我们可以在下面看到一个混淆矩阵。预测值和实际值的位置改变了假阴性(FN)和假阳性(FP)的位置，但是真阳性(TP)和真阴性(TN)保持在矩阵中彼此对角放置的相同位置。但正因为如此，情况变得扑朔迷离。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lo"><img src="../Images/a97352807faf7a1ade1e62c158cb3679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tYHXMe5upyLDnUiWnHV8SQ.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><p id="8462" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">简单的例子来更好地理解这个概念。在这个例子中，有两类水果。我们有9个苹果和10个草莓，但是模型只正确识别了6个苹果(真阳性)和8个草莓(真阴性)，此外，模型预测2个草莓是苹果(假阳性)，3个苹果(假阴性)是草莓。在另一个例子中，怀孕/未怀孕是两个类。有8名妇女怀孕，8名妇女未怀孕，该模型正确地将6名怀孕(真阳性)和5名未怀孕(真阴性)的妇女分类，但将3名未怀孕(假阳性)的妇女分类为怀孕，将2名怀孕(假阴性)的妇女分类为未怀孕。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lt"><img src="../Images/45bda29c1b8ee7f3d60fc788342a96d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DpVv_PsrE4SVAGY-Gqt8Fg.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><p id="2071" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">通过下面的GIF，你可以更清楚地理解这个概念。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lu"><img src="../Images/d9b4af3cf65354c5a52949d1737d107d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*H8drjXmkAArUv9Km9gl-Aw.gif"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><p id="2b86" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><strong class="ku ir">绩效评估措施</strong></p><p id="2743" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">从混淆矩阵中，我们还可以计算模型的准确率、精确召回率和F1值。这些度量有助于理解模型的性能。从公式中，我们可以计算这些措施，并计算我们可以使用混淆矩阵。公式在下面的矩阵中给出。这里NPV是负的预测值。如上所述，随着实际值和预测值的位置改变，度量的位置也改变。</p><p id="6cc2" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><strong class="ku ir"> <em class="lv">用更简单的术语定义:</em> </strong></p><p id="d68e" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><em class="lv">准确性:</em>准确性是模型正确分类的记录占记录总数的比率。例如，如果有10个红色球和10个紫色球，其中8个红色球和7个紫色球你识别正确，那么你的准确度是8+7/20=0.75，因此，准确度是75%。</p><p id="e0f9" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><em class="lv"> Precision: </em> Precision是模型正确识别的阳性记录与全部阳性记录的比率。例如，如果有10个红色球和10个紫色球，人们必须识别哪些是红色球，并且出于任何原因，您将8个红色球和2个紫色球识别为“红色球”，那么您的精度是8/10，即80%。</p><p id="6964" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><em class="lv">敏感性:</em>检测正确识别真阳性的能力(患有疾病的人和模型如此识别)。</p><p id="eac5" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><em class="lv">特异性:</em>检测正确识别真阴性的能力(没有患病的人和模型如此识别)。</p><p id="0b6c" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><em class="lv"> F1得分:</em>F1得分是精度和召回率/灵敏度的加权平均值，最佳得分为1，最差得分为0。公式如下。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/db57b7ec09b45ed379361e4b39b66c31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*Fm5l009h_bOWHmmlZtduLw.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/347ba0836cade4800f3331bc4118e6f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*FMSU3Rv1-QpFaodKf7wWrQ.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><p id="aba2" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><strong class="ku ir"> Python代码</strong></p><p id="af59" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">我们可以构建这些混淆矩阵，甚至使用Python轻松计算这些度量。所用数据取自UCI库存“<a class="ae kr" href="https://archive.ics.uci.edu/ml/datasets/Heart+failure+clinical+records" rel="noopener ugc nofollow" target="_blank">https://archive . ics . UCI . edu/ml/datasets/Heart+failure+clinical+records</a>”。代码如下:</p><p id="187d" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">Sklearn.metrics提供了不同的选项来制作混淆矩阵，首先只是为了显示数字，一个选项是混淆矩阵，它给出的矩阵如下。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ly lz l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/26c49c6ade322b3fa5164e2bba32d7cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*Jyh4YK0t2zkkM1w2QyTJvw.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><p id="56a5" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">而且，为了绘制混淆矩阵，sklearn.metrics有两个选项，即ConfusionMatrixDisplay和plot_confusion_matrix。通常使用plot_confusion_matrix，因为只有在选项normalize为“真”时，才可以获得归一化混淆矩阵图。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ly lz l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/ca122b62587eead643ae990f7f281c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*-I1wN-FJtGXkLZhkQPTO8w.png"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ly lz l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mc"><img src="../Images/b29d85cd456d764c0ef99e634253b0f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wo7wOXsdqPBl6n8ADc_gBQ.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><p id="3beb" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">我们也可以使用python Seaborn的热图来制作如下的混淆矩阵，“不能”选项保持false会删除矩阵中的数字。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ly lz l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi md"><img src="../Images/58d068ea7a056c104da0d23767314112.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*5S4_JR0IjjsTr1_GKj4l8g.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><p id="57ac" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">下面是获得准确度、召回率、F1得分、精确度、roc auc得分(根据预测得分计算受试者操作特征曲线下面积(ROC AUC))的代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ly lz l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi me"><img src="../Images/69b5a9abc698a73b81592000d8de058b.png" data-original-src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*4ZpwNt23QMbEQ7EJbkdkeQ.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/aa1287d2ac91aeb6721f62af15270f5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*RfotSFPuylx6VYgqRkaw5A.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">作者图片</p></figure><p id="6c9c" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">虽然有一些简单的选择来创建混淆矩阵和计算评估措施，但我们最好理解这些概念和公式，以便我们能够理解和解释这些分析。</p><p id="51a1" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">感谢阅读！</p><p id="531c" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">参考资料:</p><p id="b15e" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><a class="ae kr" href="https://scikit-learn.org/stable/modules/classes.html#module-sklearn.metrics" rel="noopener ugc nofollow" target="_blank">https://sci kit-learn . org/stable/modules/classes . html # module-sk learn . metrics</a></p></div></div>    
</body>
</html>