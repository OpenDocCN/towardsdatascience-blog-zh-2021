<html>
<head>
<title>10 Quick Python Snippets That Can Help You Work with Dates</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可以帮助您处理日期的10个快速Python片段</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-quick-python-snippets-that-can-help-you-work-with-dates-831f4f27aa05?source=collection_archive---------36-----------------------#2021-04-27">https://towardsdatascience.com/10-quick-python-snippets-that-can-help-you-work-with-dates-831f4f27aa05?source=collection_archive---------36-----------------------#2021-04-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/83636207c6b7b85b7e1498be758465eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XwtvGwPR4Y0vM5mZ"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kf" href="https://unsplash.com/@bradneathery?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Brad Neathery </a>拍摄的照片</p></figure><p id="d94f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您在工作中使用Python，或者仅仅是为了编写脚本，那么很可能会有一天您需要处理日期。</p><p id="0ee7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它可以从一种格式转换到另一种格式，改变时区，等等。</p><p id="a37f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">既然你已经决定阅读这篇文章，那么我们为什么不停止浪费时间交谈，并立即开始学习呢？</p><h1 id="5e8d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">1.将字符串转换为日期</h1><p id="70ba" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">尽管是工程师，我们仍然花相当多的时间使用自然语言交谈。</p><p id="1ecf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">既然如此，我们也可以将看起来像自然短语的字符串转换成日期，如下所示:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="fac6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本例中:</p><ul class=""><li id="9b68" class="mn mo it ki b kj kk kn ko kr mp kv mq kz mr ld ms mt mu mv bi translated">%d —表示一个月中的某一天，如21、22、23等。</li><li id="9997" class="mn mo it ki b kj mw kn mx kr my kv mz kz na ld ms mt mu mv bi translated">%B —表示月份的实际名称，如一月、二月、三月等。</li><li id="d903" class="mn mo it ki b kj mw kn mx kr my kv mz kz na ld ms mt mu mv bi translated">% Y-代表年份，如2020、2021等。</li></ul><h1 id="60e1" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">2.从一个时区转换到另一个时区</h1><p id="1793" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">由于这些天我们大部分时间都在远程工作，我们可能也有机会和在另一个时区的人一起工作。</p><p id="fa03" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你当然可以谷歌一下，找出纽约市现在的时间，即使你以前从未去过，但是你自己去实现它也是一种乐趣。</p><p id="1b46" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看如何做到这一点。</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="5cee" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">3.找出两个日期之间的天数</h1><p id="9eaa" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">由于我们仍然生活在这个时间流逝的宇宙中，我们可能需要找到从一点到另一点之间已经过去的天数。</p><p id="1c6b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们当然可以拉一个日历，手动算日子，又慢又无聊。</p><p id="83e4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了快速做到这一点，我们可以在Python脚本中导入<em class="nb">日期</em>模块，并初步准备日期:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="1f0a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">之后，我们基本上可以找到两个数字的区别:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="7a0f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">是的，就这么简单。</p><p id="a192" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您不必花费数小时在物理日历上手动完成。像这样做只需要几分钟。</p><h1 id="10db" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">4.向日期添加天数</h1><p id="705f" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">让我们假设您正在开发一个产品的特性，其中一个用户的订阅从现在起90天后到期。您希望使用以下命令将该日期保存在数据库中:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="847d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">5.向日期添加周数</h1><p id="9edc" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">您也可以将其更改为周，如下所示:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="9cf8" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">6.从日期中减去天数</h1><p id="9f28" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">你有没有想过回到过去，改善你生活中的一些事情，与你爱的人呆在一起，或者干脆早一点开始投资比特币？</p><p id="a9b5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嗯，我希望我能告诉你怎么做。</p><p id="db6c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，如果您想查找过去的某个日期，比如说从现在起180天后，您可以使用以下内容轻松完成:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="c068" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">7.从日期中减去周数</h1><p id="9d2a" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">你可能已经猜到了，你也可以通过减去星期来找到一个日期:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="a139" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">8.找出月份中两个日期的差异</h1><p id="6425" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们也可以很快地找出这两个日期在几个月内的差异。</p><p id="95b0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该记住，我们可能有不同年份的日期，仅仅认为我们可以减去两个月是不够的。</p><p id="4505" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，在2018年10月和2021年11月之间，不仅仅是一个月的差异。在年龄上也有差别。</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="8ff9" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">9.把日子放在月份之前</h1><p id="7344" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">世界上大多数国家在日期中将日期放在月份的前面:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/9afd83f75cb7b587cfa053ee04cd9d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/0*izZ7YzXZhTRWZG9-"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图像:约翰·哈丁/蒙娜·沙拉比摄影:约翰·哈丁/蒙娜·沙拉比</p></figure><p id="d552" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，也有这样的情况，当您输入一个日期时，月份在日期的前面。</p><p id="af65" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想将这些日期转换成世界上大多数人使用的格式，以下是方法:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="6e3b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">10.查找一个月的第一天</h1><p id="8650" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在一些公司，他们每个月的第一天给员工发工资。</p><p id="a87b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想知道那天是星期几，下面这个片段会很有帮助:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><p id="36c0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">差不多就是这样。我希望你至少从这篇文章中学到了一些东西。</p></div></div>    
</body>
</html>