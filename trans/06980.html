<html>
<head>
<title>Why we moved away from Conversion Rate as a primary metric</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我们不再将转换率作为主要指标</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-we-moved-away-from-conversion-rate-as-a-primary-metric-14b2d6cb5996?source=collection_archive---------29-----------------------#2021-06-24">https://towardsdatascience.com/why-we-moved-away-from-conversion-rate-as-a-primary-metric-14b2d6cb5996?source=collection_archive---------29-----------------------#2021-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0010" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">违反AB测试的独立性假设和改变贵公司的主要度量标准的影响</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/715744fb2e8ccab9452aa1620b5d5ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-GDQ1bdG7K5LzH_r"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔纳森·彼得森在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="248b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">改变任何公司的主要指标都不是一件简单的事情。为什么你会问？原因有很多，但我想到了其中的一些:</p><ul class=""><li id="93f8" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">该公司长期以来一直使用这一指标</li><li id="4672" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">预测是根据历史值做出的</li><li id="e9b6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">团队okr包括反对它的目标</li><li id="db24" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">人们理解指标和推动指标的杠杆</li><li id="e168" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">很容易发现与期望值的偏差</li><li id="4aee" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">可以快速确定指标变化的原因</li></ul><p id="e979" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单是这份候选名单就足以让任何人大汗淋漓了！所以想象一下，当我在Gousto的第一个月，我们菜单部落的产品负责人建议我们的主要指标，菜单转换率(MCVR)可能是我们在实验中使用的错误指标，因为它违反了统计独立性的假设时，我有多惊讶。</p><h2 id="8a91" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">现在用什么侵犯了谁？？？</h2><p id="fb47" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">当你使用转化率作为实验的衡量标准时，你会有意识地或下意识地这样做，假设你有一个独立观察的样本。</p><p id="8185" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这基本上意味着一个事件的结果对另一个事件的结果没有影响。</p><blockquote class="nh ni nj"><p id="94e8" class="kz la nk lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated">例子:想象掷骰子两次。第一轮的结果不会影响第二轮的结果，因此我们可以说这些事件是独立的。</p></blockquote><p id="01aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何一家拥有“粘性”产品的公司，如果其商业模式依赖于客户每周的回访，都有违背这一假设的风险。这不是您可以选择忽略的“最佳实践”类型的决策。用于分析AB检验结果的大多数推断性统计检验(如2样本t检验)的基础是假设观察值相互独立。</p><p id="3dab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也许这还不清楚，或者你认为这对你的测试没有影响。让我向你保证，即使是最轻微的依赖也会导致严重的结果偏差</p><h2 id="3ca7" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">为什么我们违反了独立的假设(AOI)</h2><p id="33f0" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我们是一项基于订阅的服务，客户每周都会回来订餐，因此我们很自然地将每周MCVR作为我们的主要KPI。我们没有考虑每日或基于时段的MCVR，因为大多数客户一周订购一次，所以即使这发生在多个时段，也可以在该周只统计一次。接下来的一周，顾客(有些是新顾客，有些是前一周的顾客)会回来下订单，我们会再次把他们视为独特的顾客。在整个实验过程中，我们会一遍又一遍地这样做，通常是3-5周。在实验结束时，我们将对每周独立访客和订单的总数求和，然后除以其他，得出我们的MCVR*。</p><p id="294b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nk">*注意:计算MCVR的另一种方法是，只取整个实验期间的唯一用户和唯一订单，并将前者除以后者。这种方法也不是没有局限性。虽然观察是独立的，但你忽略了订单频率，但这超出了本文的范围。</em></p><p id="0943" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">起初这似乎是一个合理的方法，如果我们没有一个粘性的产品，并且从第1周、第2周开始的用户再也看不到(至少在测试期间)，这可能是一个合理的方法。但是随着用户一周又一周的回来，我们的观察并不是独立的。为什么你会问？</p><blockquote class="nh ni nj"><p id="0863" class="kz la nk lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated"><em class="it">好吧，想想看——如果我们开发了一个功能或降低了我们的价格或做了其他事情，说服你购买，</em>我们做的那件事<em class="it">，它已经在你身上起作用了，所以一次又一次地计算你将意味着我们对你作为一个数据点的观察是不独立的，我们正在偏向我们的结果。换句话说，客户在某一周做的事情会影响他们在下一周做的事情。我们在MCVR的主要KPI无效。</em></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/92ac6e2ce84248cb0b8e8282bab39673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BXfUV2w9ooL-9Tl8"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@yakimadesign?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">乔丹·罗兰</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="1d7a" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">这有什么影响，实际上严重吗？</h2><p id="a22a" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">它增加了你的假阳性率，FPR(或1型错误率)，所以是的，它是严重的！Frequentist统计已经依赖于接受基于你设置的显著性水平，所有获胜结果的某个百分比将是假的——通常是5% (α=0.05)。用不独立的观察来运行测试会导致你的1型错误率的膨胀。</p><blockquote class="nh ni nj"><p id="a895" class="kz la nk lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated">假阳性率是假设无效(对照)假设为真时拒绝该假设的概率。如果你运行了100个显著性水平为5%的实验，并且有10个获胜者。其中5个可能是假阳性*。问题是，哪5个。概率不是婊子吗！</p></blockquote><p id="f8a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我知道我们的假阳性率高于我们根据我在别处读到的论文研究而设定的阈值。我只是不知道差了多少。</p><p id="5bcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是对世界的一种简化的看法，实际上，它们可能都是假阳性，或者都不是，或者介于两者之间。</p><h2 id="3aaa" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">发现我们真正的假阳性率</h2><p id="f1cf" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">如果我们要改变实验的主要指标，我们需要证明这是错误的指标，并且我们正在做出错误的决定。</p><p id="b5a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们证明这一点的方法是获取一些历史数据，并对其进行A/A测试模拟，以显示我们真正的假阳性率是多少。使用一个随机的和最近的数据集，我模拟了30，000个A/A测试，用于1，3和5周的“实验”。</p><p id="9eb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于1周的模拟，我预计误报率为5%，因为我们只计算一次用户(独立的)，我将显著性水平设置为5%。除此之外，我唯一的期望是，我们会看到超过5%的“成功测试”，因为我们在一次又一次地计算回来的用户。</p><h2 id="850b" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">结果</h2><p id="c1b7" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">正如我预期的那样，我们1周的假阳性率是5%，但是我发现我们3周测试的假阳性率高达9%，5周测试的假阳性率接近12%(如下图1所示)。</p><blockquote class="nh ni nj"><p id="afa5" class="kz la nk lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated">把这个放在上下文中。成功测试的行业平均水平在20–25%之间，这意味着可能有高达50%的成功测试有可能是假成功，而不是只有20%。</p></blockquote><p id="e920" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的图1开始时有点“起伏不定”，但随着模拟次数的增加，假阳性率开始稳定，我们可以看到，在我们的随机数据集上，即使没有进行任何实验，我们也将找到“赢家”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/1907e4c36241eacc004dc745695e8f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mqbC-bRwimEtjPjD"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:1、3和5周A/A测试的假阳性率</p></figure><p id="9c40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这个新的世界观，我们开始寻找新的度量标准。</p><h2 id="ba7c" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated"><strong class="ak">新指标——每用户平均订单数(AOPU) </strong></h2><p id="181b" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我之前提到过，我们忽略了订单频率，只关注转化率(不正确的从属版本)，所以我们的目标是找到某种类型的混合(复合)指标，来考察独特的转化率和订单频率。我知道这个标准是什么，奥普，我只是需要帮助每个人理解它。接下来是痛苦的几个月，我写了一些关于我们为什么远离皈依的内部文章。新的衡量标准是什么？是怎么算出来的？为什么会更好？TL；我论文的博士版本是:</p><blockquote class="nh ni nj"><p id="b6f2" class="kz la nk lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated"><strong class="lb iu"> AOPU =总订单数/独立用户数=转化率x订单频率</strong> <br/>这一提议的指标允许我们监控转化率<strong class="lb iu">和</strong>订单频率<strong class="lb iu">的灵敏度和变化，而</strong>不会违反独立性假设，从而为我们提供一个更全面、统计上更合理的指标。</p></blockquote><p id="2fbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经成功地使用了AOPU将近8个月了。会议中的对话、OKRs、分析和实验都是基于这个新的标准。围绕菜单转换的讨论已经成为过去。</p><p id="e40c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这很可能是我一生中做过的最恐怖的作品之一，但我必须承认，这是最有收获的作品之一。</p><h2 id="e951" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">最后的想法</h2><p id="4f86" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我们不是世界上唯一一家依靠用户一次又一次回来的基于订阅的企业。你甚至不需要订阅模式就能拥有“粘性”产品。超市、亚马逊、Spotify、Slack、网飞等都有定期回头客。无论你的商业模式是什么，如果你有定期回头客，并且你像我们一样关注每日/每周的转换率，对你自己的数据进行一些A/A测试，看看你自己的FPR是什么样的。谁知道呢，你甚至可能需要改变你自己的主要指标。</p><p id="62e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在<a class="ae ky" href="https://twitter.com/DodoNerd" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Twitter </strong> </a>上关注我，或者用最少的努力在Medium上关注我和<a class="ae ky" href="https://medium.com/crap-talks" rel="noopener"> <strong class="lb iu">废话连篇</strong> </a>。</p></div></div>    
</body>
</html>