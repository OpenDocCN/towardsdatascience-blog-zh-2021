<html>
<head>
<title>Three Very Useful Functions of Pandas to Summarize the Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫总结数据的三个非常有用的功能</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/three-very-useful-functions-of-pandas-to-summarize-the-data-491b64db9370?source=collection_archive---------15-----------------------#2021-06-03">https://towardsdatascience.com/three-very-useful-functions-of-pandas-to-summarize-the-data-491b64db9370?source=collection_archive---------15-----------------------#2021-06-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/f149445d9a4cd0ee82dc701400b2fbf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qyKDSm3ri1qJW4Pd"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com/@melissaaskew?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">梅丽莎·艾斯丘</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><div class=""/><div class=""><h2 id="fa64" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">Pandas count、value_count和crosstab函数的细节</h2></div><p id="e713" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Pandas库是一个非常流行的用于数据分析的python库。熊猫图书馆有很多功能。本文将讨论三个非常有用且广泛使用的数据汇总函数。我试图用例子来解释它，这样我们就可以充分发挥它们的潜力。</p><p id="f598" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我今天说的三个函数是count、value_count和crosstab。</p><blockquote class="lu"><p id="c862" class="lv lw jj bd lx ly lz ma mb mc md lt dk translated">count函数是最简单的。value_count可以做更多的工作，而crosstab函数可以用简单的命令做更复杂的工作。</p></blockquote><p id="a18f" class="pw-post-body-paragraph ky kz jj la b lb me kk ld le mf kn lg lh mg lj lk ll mh ln lo lp mi lr ls lt im bi translated">著名的泰坦尼克号数据集被用于这个演示。请随意下载数据集并点击以下链接:</p><div class="is it gp gr iu mj"><a href="https://github.com/rashida048/Datasets/blob/master/titanic_data.csv" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd jk gy z fp mo fr fs mp fu fw ji bi translated">rashida 048/数据集</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">在GitHub上创建一个帐户，为rashida048/Datasets开发做出贡献。</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">github.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx ja mj"/></div></div></a></div><p id="1836" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先导入必要的包和数据集:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="4343" class="nh ni jj nd b gy nj nk l nl nm">import pandas as pd<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="46a3" class="nh ni jj nd b gy nn nk l nl nm">df = pd.read_csv("titanic_data.csv")<br/>df.head()</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi no"><img src="../Images/4753dbb857769e1db7c79611f6e8b380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qFq53cvvDYrQUS3EPLT7Rg.png"/></div></div></figure><p id="1f9a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">数据集中有多少行和多少列？</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="a5ec" class="nh ni jj nd b gy nj nk l nl nm">df.shape</span></pre><p id="5b09" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="7499" class="nh ni jj nd b gy nj nk l nl nm">(891, 12)</span></pre><p id="6372" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">数据集有891行数据和12列。</p><h2 id="c3e3" class="nh ni jj bd np nq nr dn ns nt nu dp nv lh nw nx ny ll nz oa ob lp oc od oe of bi translated">数数</h2><p id="be09" class="pw-post-body-paragraph ky kz jj la b lb og kk ld le oh kn lg lh oi lj lk ll oj ln lo lp ok lr ls lt im bi translated">这是一个简单的函数。但是它对于初始检查非常有用。我们刚刚了解到数据集中有891行。在理想情况下，我们应该在所有12列中有891个数据。但这并不总是发生。大多数时候，我们不得不处理空值。如果您注意到数据集的前五行，就会发现有一些NaN值。</p><p id="7f7a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每列有多少数据？</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="ba17" class="nh ni jj nd b gy nj nk l nl nm">df.count(0)</span></pre><p id="b11f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="2bc2" class="nh ni jj nd b gy nj nk l nl nm">PassengerId    891<br/>Survived       891<br/>Pclass         891<br/>Name           891<br/>Sex            891<br/>Age            714<br/>SibSp          891<br/>Parch          891<br/>Ticket         891<br/>Fare           891<br/>Cabin          204<br/>Embarked       889<br/>dtype: int64</span></pre><p id="5d6c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在大多数列中，我们有891个数据。但不是在所有的列中。</p><p id="b31a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们对行进行同样的检查。每行有多少真实数据？</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="a670" class="nh ni jj nd b gy nj nk l nl nm">df.count(1)</span></pre><p id="3eba" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="5d68" class="nh ni jj nd b gy nj nk l nl nm">0      11<br/>1      12<br/>2      11<br/>3      12<br/>4      11<br/>       ..<br/>886    11<br/>887    12<br/>888    10<br/>889    12<br/>890    11<br/>Length: 891, dtype: int64</span></pre><p id="c1ef" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果数据集中有索引，我们可以按索引级别检查数据计数。为了证明这一点，我需要首先设置索引。我将设置两列作为索引。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="0b2c" class="nh ni jj nd b gy nj nk l nl nm">df = df.set_index(['Sex', 'Pclass'])<br/>df</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ol"><img src="../Images/7ff61245bc41b862d07d4f7931be4807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2yehS-qWFMpjucN_bp_-WA.png"/></div></div></figure><p id="7128" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，数据集有两个索引:“Sex”和“Pclass”。对“性别”应用计数将显示每个性别的数据计数:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="ad48" class="nh ni jj nd b gy nj nk l nl nm">df.count(level = "Sex")</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi om"><img src="../Images/6922514da583b8a1b226b72d66db20af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*PaQweA_d5Su9v5QlLT163A.png"/></div></div></figure><p id="de87" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样，对“Pclass”应用计数将显示所有功能的每个乘客等级的数据计数:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="b6a2" class="nh ni jj nd b gy nj nk l nl nm">df.count(level = 'Pclass')</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi on"><img src="../Images/2ed8c9870c49259c2036e968d7d11c82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*9WWrancYf5fOBsvg2HuW8g.png"/></div></figure><p id="e9e1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我现在只想重置索引，使其恢复到原始形状:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="1f39" class="nh ni jj nd b gy nj nk l nl nm">df = df.reset_index()</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oo"><img src="../Images/be849c84a3cbb72c8530a640229616e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HMnyUFNnC39Gar5_fprfeA.png"/></div></div></figure><p id="66f9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">再也没有索引了。</p><p id="8d21" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">之前，我们看到了如何获得所有列的数据计数。下一个示例显示了如何获取单个列的数据计数。下面是如何获得每个“Pclass”的“Fare”列的数据计数。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="4b36" class="nh ni jj nd b gy nj nk l nl nm">df.groupby(by = 'Pclass')['Fare'].agg('count')</span></pre><p id="9c9e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="eba9" class="nh ni jj nd b gy nj nk l nl nm">Pclass<br/>1    216<br/>2    184<br/>3    491<br/>Name: Fare, dtype: int64</span></pre><p id="eace" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还可以添加包含单个要素的数据计数的列。</p><p id="c20f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，我添加了一个名为“freq”的新列，它包含“Fare”的“Pclass”的数据计数。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="d294" class="nh ni jj nd b gy nj nk l nl nm">df['freq'] = df.groupby(by='Pclass')['Fare'].transform('count')</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/e68b9c3580c3b3fc12965ae2448b5973.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cTlckyhIe8s60htWay3ERg.png"/></div></div></figure><p id="a184" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这都是为了伯爵。</p><h2 id="7cb2" class="nh ni jj bd np nq nr dn ns nt nu dp nv lh nw nx ny ll nz oa ob lp oc od oe of bi translated">值计数</h2><p id="80db" class="pw-post-body-paragraph ky kz jj la b lb og kk ld le oh kn lg lh oi lj lk ll oj ln lo lp ok lr ls lt im bi translated">值计数函数在某些方面更有效。有可能用更少的代码实现更多的功能。我们之前使用group_by函数和count来查找单个“Pclass”的数据计数。使用value_count可以更轻松地做到这一点:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="fe72" class="nh ni jj nd b gy nj nk l nl nm">df['Pclass'].value_counts(sort = True, ascending  = True)</span></pre><p id="3594" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="5ce2" class="nh ni jj nd b gy nj nk l nl nm">2    184<br/>1    216<br/>3    491<br/>Name: Pclass, dtype: int64</span></pre><p id="c9f2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，我们不仅得到了值计数，而且得到了排序。如果不需要排序，就不要在其中使用“排序”和“升序”参数。</p><p id="881c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">也可以使用normalize参数对这些值进行规范化:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="afd9" class="nh ni jj nd b gy nj nk l nl nm">df['Pclass'].value_counts(normalize=True)</span></pre><p id="dbaa" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="a2b1" class="nh ni jj nd b gy nj nk l nl nm">3    0.551066<br/>1    0.242424<br/>2    0.206510<br/>Name: Pclass, dtype: float64</span></pre><p id="3d20" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">关于value_counts，我想展示的最后一件事是垃圾桶的制作。在这里，我将票价分成三个部分:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="2891" class="nh ni jj nd b gy nj nk l nl nm">df['Fare'].value_counts(bins = 3)</span></pre><p id="31f7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="56ec" class="nh ni jj nd b gy nj nk l nl nm">(-0.513, 170.776]     871<br/>(170.776, 341.553]     17<br/>(341.553, 512.329]      3<br/>Name: Fare, dtype: int64</span></pre><h2 id="e364" class="nh ni jj bd np nq nr dn ns nt nu dp nv lh nw nx ny ll nz oa ob lp oc od oe of bi translated">交叉表</h2><p id="be82" class="pw-post-body-paragraph ky kz jj la b lb og kk ld le oh kn lg lh oi lj lk ll oj ln lo lp ok lr ls lt im bi translated">交叉表函数可以在一行代码中为我们做更多的工作。使用交叉表的最简单方法如下:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="7f2a" class="nh ni jj nd b gy nj nk l nl nm">pd.crosstab(df['Sex'], df['Pclass'])</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/f56bc3dc959fd3253c30f7770fb23494.png" data-original-src="https://miro.medium.com/v2/resize:fit:342/format:webp/1*UNgN4ny2XuUNOQrVoWqUGA.png"/></div></figure><p id="e0bb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果有必要得到最后的总数，我们得到行和列的总数:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="c4b6" class="nh ni jj nd b gy nj nk l nl nm">pd.crosstab(df['Sex'], df['Pclass'], margins = True, margins_name = "Total")</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/2847bc84a8561be496350b0b3f30d03c.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*HGHr-5IeTP65be9vVyeIZA.png"/></div></figure><p id="ec49" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以像使用value counts函数那样获得标准化值:</p><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi os"><img src="../Images/9d812e349a75a9f5176fac078e7b166e.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*87-fq3Kmpq_GwKHmFCqxsg.png"/></div></figure><p id="e0cd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你把这个表中的所有值加起来，就是一个。因此，归一化是基于所有值的总和完成的。但是，如果我们只需要基于性别或Pclass进行规范化呢？这也是可能的。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="f5d7" class="nh ni jj nd b gy nj nk l nl nm">pd.crosstab(df['Sex'], df['Pclass'], normalize='columns')</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi os"><img src="../Images/656ea308a1ecbfb460e653115d53f4e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*jnS8yfMGo3oNpE1Ey6s0GQ.png"/></div></figure><p id="38b9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每列加起来是1。所以，上表显示了每个“阶级”中男性和女性的比例。</p><p id="3bca" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以通过表格的索引进行归一化，找出各个性别中‘p class’的人数比例。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="7041" class="nh ni jj nd b gy nj nk l nl nm">pd.crosstab(df['Sex'], df['Pclass'], normalize='index')</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/a70f6613a36e60d0f802769cbe644c95.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*nEPqHGwKjpv2To4GKIgzwg.png"/></div></figure><p id="ad06" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上表中，每个加起来等于1。</p><p id="69b4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下一个例子找到了每个“阶级”和每个性别的平均“费用”。这些值四舍五入到小数点后两位。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="0dc8" class="nh ni jj nd b gy nj nk l nl nm">pd.crosstab(df['Sex'], df['Pclass'], values = df['Fare'], aggfunc = "mean").round(2)</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/0e0a5ce65e42e0fa5406052194fb05e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/1*Z8g_Bdfh4JwWazkUj4CpjA.png"/></div></figure><p id="65ff" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一直以来，我们在行方向使用一层，在列方向使用一层。这里，我在列方向上使用了两层数据:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="e7a7" class="nh ni jj nd b gy nj nk l nl nm">pd.crosstab(df['Pclass'], [df['Sex'], df['Survived']])</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/356d7a29834d7c191125c8802294b20a.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/1*E3tgxHca198hMabhSHaW-w.png"/></div></figure><p id="41a3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该表显示了每个乘客舱中每个性别的幸存人数。使用normalize函数，我们也可以找到比例。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="955f" class="nh ni jj nd b gy nj nk l nl nm">pd.crosstab(df['Pclass'], [df['Sex'], df['Survived']], normalize = 'columns')</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/28cab4032097836ee13417877e2507ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*9AZo1NqfCP6lo2DmIuPH4w.png"/></div></figure><p id="30ff" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们在列中使用两层，在行中使用两层:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="d661" class="nh ni jj nd b gy nj nk l nl nm">pd.crosstab([df['Pclass'], df['Sex']], [df['Embarked'], df['Survived']],<br/>           rownames = ['Pclass', 'gender'],<br/>           colnames = ['Embarked', 'Survived'],<br/>           dropna=False)</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/1c6054c174d4c202d07a863253d5e436.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*TQceUUSr_TEhKWOikfnM3w.png"/></div></figure><p id="cace" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如此多的信息被压缩在这个表格里。在热图中看起来更好看。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="05a2" class="nh ni jj nd b gy nj nk l nl nm">import matplotlib.pyplot as plt<br/>plt.figure(figsize=(8,6))</span><span id="fc71" class="nh ni jj nd b gy nn nk l nl nm">sns.heatmap(pd.crosstab([df['Pclass'], df['Sex']], [df['Embarked'], df['Survived']]), cmap = "YlGnBu",annot = True)<br/>plt.show()</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/52cade6edaa36e4540bc7247e403927e.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*ltNNUkzGT3iLjSirfVUcqA.png"/></div></figure><p id="2769" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在x方向，它显示“已装船”和“幸存”数据。在y方向，它显示乘客的级别和性别。</p><p id="2519" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我也有一个视频教程:</p><figure class="my mz na nb gt iv"><div class="bz fp l di"><div class="oz pa l"/></div></figure><h2 id="6d2d" class="nh ni jj bd np nq nr dn ns nt nu dp nv lh nw nx ny ll nz oa ob lp oc od oe of bi translated">结论</h2><p id="7d96" class="pw-post-body-paragraph ky kz jj la b lb og kk ld le oh kn lg lh oi lj lk ll oj ln lo lp ok lr ls lt im bi translated">本文详细展示了一些非常流行的函数来汇总数据。有很多方法可以总结数据。这是一些简单而有用的方法。</p><p id="e244" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">欢迎随时关注我的推特(Twitter)和脸书(acebook)。</p><h2 id="a3cb" class="nh ni jj bd np nq nr dn ns nt nu dp nv lh nw nx ny ll nz oa ob lp oc od oe of bi translated">更多阅读</h2><div class="is it gp gr iu mj"><a rel="noopener follow" target="_blank" href="/an-ultimate-cheatsheet-of-data-visualization-in-seaborn-be8ed13a3697"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd jk gy z fp mo fr fs mp fu fw ji bi translated">用Python的Seaborn库实现数据可视化的终极指南</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">对学习者来说也是一个很好的资源</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ms l"><div class="pb l mu mv mw ms mx ja mj"/></div></div></a></div><div class="is it gp gr iu mj"><a rel="noopener follow" target="_blank" href="/an-ultimate-cheat-sheet-for-numpy-bb1112b0488f"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd jk gy z fp mo fr fs mp fu fw ji bi translated">Numpy的终极备忘单</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">日常工作所需的所有Numpy功能</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ms l"><div class="pc l mu mv mw ms mx ja mj"/></div></div></a></div><div class="is it gp gr iu mj"><a rel="noopener follow" target="_blank" href="/efficient-data-summarizing-and-analysis-using-pandas-groupby-function-7b2cc9eff186"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd jk gy z fp mo fr fs mp fu fw ji bi translated">使用Pandas的Groupby功能进行有效的数据汇总和分析</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">学习使用聚合函数，数据转换，过滤，映射，在数据框架中应用</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ms l"><div class="pd l mu mv mw ms mx ja mj"/></div></div></a></div><div class="is it gp gr iu mj"><a rel="noopener follow" target="_blank" href="/all-the-datasets-you-need-to-practice-data-science-skills-and-make-a-great-portfolio-857a348883b5"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd jk gy z fp mo fr fs mp fu fw ji bi translated">练习数据科学技能和制作优秀投资组合所需的所有数据集</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">一些有趣的数据集提升你的技能和投资组合</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ms l"><div class="pe l mu mv mw ms mx ja mj"/></div></div></a></div><div class="is it gp gr iu mj"><a rel="noopener follow" target="_blank" href="/sort-and-segment-your-data-into-bins-to-get-sorted-ranges-pandas-cut-and-qcut-7785931bbfde"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd jk gy z fp mo fr fs mp fu fw ji bi translated">数据宁滨与熊猫削减或Qcut方法</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">当你在寻找一个范围而不是一个确切的数值，一个等级而不是一个分数</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ms l"><div class="pf l mu mv mw ms mx ja mj"/></div></div></a></div><div class="is it gp gr iu mj"><a rel="noopener follow" target="_blank" href="/a-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd jk gy z fp mo fr fs mp fu fw ji bi translated">置信区间的完整指南，以及Python中的示例</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">对统计学中一个非常流行的参数——置信区间及其计算的深入理解</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ms l"><div class="pg l mu mv mw ms mx ja mj"/></div></div></a></div></div></div>    
</body>
</html>