<html>
<head>
<title>Python Scenario Analysis: Modeling Expert Estimates with the beta-PERT Distribution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python场景分析:用beta-PERT分布模拟专家评估</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-scenario-analysis-modeling-expert-estimates-with-the-beta-pert-distribution-22a5e90cfa79?source=collection_archive---------11-----------------------#2021-10-25">https://towardsdatascience.com/python-scenario-analysis-modeling-expert-estimates-with-the-beta-pert-distribution-22a5e90cfa79?source=collection_archive---------11-----------------------#2021-10-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="8870" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="55d9" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">以及如何向SciPy的目录中添加一个新的、用户自定义的发行版</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/609787f4b986eed2b9730d0ab847c199.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*HdPnU-g-CjLrs06bOb_KMA.jpeg"/></div><p class="kz la gj gh gi lb lc bd b be z dk translated">【https://pixabay.com/images/id-1872665/】由奇莫诺、皮沙贝</p></figure><p id="7230" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">关于以下内容的教程:</p><ul class=""><li id="26fe" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">如何在<strong class="lg jd">情景分析中使用概率分布；</strong></li><li id="9b88" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">如何<strong class="lg jd">对专家评估建模</strong>——如果观察数据很难获得，我们需要从专家那里收集评估，这些专家可以提供关于行业、业务流程或领域的领域知识；或者，如果历史数据可用，但预计不会反映未来的发展，特别是趋势突变，那么我们也需要开发一个基于专家估计的模型；</li><li id="94d8" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">如何在情景分析中使用<strong class="lg jd"> PERT分布</strong>；并添加PERT(或其他用户定义的分布)作为一个新的子类来完善SciPy库；</li><li id="ff14" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">如何<strong class="lg jd">重新参数化</strong> PERT或其他分布</li></ul><p id="a1d2" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我的上一篇文章介绍了SciPy的概率分布，以及它们如何应用于随机过程的建模。(<a class="ae ld" rel="noopener" target="_blank" href="/probability-distributions-with-pythons-scipy-3da89bf60565">用Python的SciPy介绍概率分布| 2021年10月|走向数据科学</a>)</p><p id="a925" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">今天的文章将展示我们如何使用概率分布进行<strong class="lg jd">场景分析</strong>。</p><p id="9fc6" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><strong class="lg jd">情景规划</strong>——在商业、工程或金融领域——通常涉及所谓的<strong class="lg jd">三点评估</strong> : <strong class="lg jd">最佳情况、可能情况、最坏情况。</strong> ( <a class="ae ld" href="https://en.wikipedia.org/wiki/Three-point_estimation" rel="noopener ugc nofollow" target="_blank">三分法估算——维基百科</a>)</p><p id="bbe7" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">三点估计技术有助于避免单点估计的一些缺陷——其中之一是，如果计划者甚至在不知情的情况下过度乐观或悲观，决策者可能会发现相当大的偏差倾向。“<strong class="lg jd">偏向</strong>是一种不成比例的权重<em class="mo">偏向</em>或<em class="mo">反对</em>一个想法或事情”(<a class="ae ld" href="https://en.wikipedia.org/wiki/Bias" rel="noopener ugc nofollow" target="_blank">偏向——维基百科</a>)。如果一个企业或任何组织的团队成员感到有压力要为成功做计划，但不考虑哪怕是暂时的挫折，因为未来总是看起来更光明，那么他们的计划可能会表现出隐藏的或不太隐藏的对难以置信的好结果的偏好。</p><p id="aaf7" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">三点估计技术试图通过明确询问最坏情况的结果来揭示隐藏的偏差。</p><ul class=""><li id="09ad" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">报告的最差情况可能仍然有正偏差，但它可以作为讨论风险的起点。</li><li id="3500" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">对最佳情况的隔离表明，所谓的可能情况并没有被置于过于乐观的假设的边缘。</li></ul><p id="aa36" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">然后可以启动一个调整过程，例如德尔菲法(也称为估计-讨论-估计)，以达成一致的场景。(<a class="ae ld" href="https://en.wikipedia.org/wiki/Delphi_method" rel="noopener ugc nofollow" target="_blank">德尔菲法—维基百科</a>)</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/55dd9b95e6a8c9691f810abb1ee8589c.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*E4TvpIV__cLGwUDUX1iPAQ.png"/></div><p class="kz la gj gh gi lb lc bd b be z dk translated">德尔菲法，维基百科，Czkassa(后Maurizio Bolognini，<em class="mq">demo copicnia elettronica</em>，2001)，也可免费用于商业用途</p></figure><p id="19c2" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">如果没有数据科学家的参与，他们可以提供用概率分布模拟不确定性的专业知识，许多组织倾向于只准备三种情况:预期平均结果、悲观情况和乐观情况。然后，这三个场景将留给决策者，让他们尝试直观地将这些点联系起来。仅仅三个点，运用个人直觉。会出什么问题呢？</p><p id="2346" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">数据科学家可以通过概率分布来<strong class="lg jd">连接这些点，该概率分布在整个范围内对涉及的风险、机会和不确定性进行建模。该模型不仅会报告两个极端值(根据定义，最好和最坏的情况必须相对不太可能，有时甚至极不可能发生)，而且科学家还可以报告分位数，这些分位数描述了结果的<em class="mo">连续</em>谱及其相关概率。</strong></p><p id="eb91" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">当我们想要将3点情景规划过程建立在更坚实的基础上时，我们应该考虑哪些模型？</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/7faf2e66a42fe1c2d9b076632d9c8a6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*_FYPLThfd8TBqoKC_INWPw.png"/></div></figure><p id="28b5" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><strong class="lg jd">正态分布</strong>，由于其围绕均值和中值的不变对称性，并不总是显示尾部风险倾向的随机过程的最佳模型。</p><p id="2fb3" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">一个风险因素可能会导致巨大的成本或超过技术安全限制，但它是不对称的:如果风险没有<em class="mo">或</em>实现，就不会有同等的成本降低或超过基线的安全改进。正态分布不能解释许多不对称风险。</p><p id="63f3" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们想要建模的真实世界随机过程也可能表现出过度的峰度:异常值在其两个尾部出现的频率高于正态分布的情况-具有高峰度的真实世界随机过程的中心包含不到99.7%的在平均值周围三个标准偏差内的所有事件。</p><p id="0eff" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">如果我们选择正态分布，我们不仅大胆地假设我们模拟了一个既不偏斜也不重尾或轻尾的随机过程。我们还使用了一个双向无界的模型；它的结果可以沿着x轴向负无穷大和正无穷大延伸。</p><p id="ca88" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们的结论是，除了正态分布，我们还应该看看其他模型。</p><p id="4d0b" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">三角形分布在三个点之间画出直线。由此产生的概率密度函数是字面上连接三个点并获得简单随机过程模型的最直接的方法。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/adbacd7384948aef61677c57b976f03d.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*Fj9J33_V6cpGpC-CeBiqKw.png"/></div></figure><p id="3e09" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们还将回顾<strong class="lg jd">贝塔-珀特分布</strong>，它可以展示出类似正态分布和三角形分布的混合形状。三点估算技术将三角形和PERT分布应用于建模。<a class="ae ld" href="https://en.wikipedia.org/wiki/PERT_distribution" rel="noopener ugc nofollow" target="_blank"> PERT分布—维基百科</a></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/07d19985e11737326180ec87c603d662.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*W2YkZTTkdVzTwztRwydEHQ.png"/></div></figure><p id="6850" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们通过详细阐述3点估计的分布来建模的随机过程可以代表受不确定性影响的任何情况。最初的3点估计提供了可能结果边缘的两个极端点，根据定义，这两个极端点发生的概率较低。概率分布将采用这些点，然后显示结果的完整范围及其模式，例如:</p><ul class=""><li id="30a0" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">新产品或现有产品在新市场或现有市场的销售量</li><li id="806b" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">顾客接受新产品的价格，相对于竞争对手的产品价格进行估计</li><li id="7264" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">供应商价格，3个月后</li><li id="98c7" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">新开发技术部件的典型寿命</li><li id="9db1" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">30天后的外汇汇率</li><li id="62b2" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">拟建海上风力发电场位置的风力</li></ul><p id="607c" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">然后，分布特性将使我们能够量化预期结果:</p><ul class=""><li id="df37" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">新部件的平均或中位故障时间，它告诉我们其未来的保修率、成本和关键安全阈值；</li><li id="1de6" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">分位数，确认某个位置的风力不会超过蒲福风6或27节，概率为99%，但它会在至少80%的时间内以11节的速度驱动计划的风力涡轮机，这告诉我们涡轮机需要有多坚固才能承受大风；以及它们预期发电千瓦数的规模，以使投资物有所值；</li><li id="ba28" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">投资组合的风险价值，具有预期的未来回报和估计的波动性。</li></ul><h1 id="1f57" class="mu mv it bd mw mx my mz na nb nc nd ne ki nf kj ng kl nh km ni ko nj kp nk nl bi translated">0.属国</h1><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="29c7" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">从SciPy中，我导入了包含123个发行版的庞大目录的<em class="mo"> stats </em>库。具体来说，我们将在教程中使用正态、三角和贝塔分布。</p><p id="930f" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我还导入了SciPy的<em class="mo">优化</em>模块，并将演示我们如何求解一个非线性方程组，在这种情况下是为了确定一些分布属性。</p><h1 id="fa2f" class="mu mv it bd mw mx my mz na nb nc nd ne ki nf kj ng kl nh km ni ko nj kp nk nl bi translated">1.模拟专家评估的三角分布</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi no"><img src="../Images/95162b129c508be18f972a67ea651ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*BFIJH6Z9Bzj7BJVocqIciA.png"/></div></figure><p id="1e4b" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">三角形分布的自变量是最坏情况(最小值或位置参数)、可能情况(模式)和最佳情况(比例参数=最大值-最小值)。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi np"><img src="../Images/355b5109d47a6eceaf928a4e842c2318.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*X3ldcMDjsWUiZlQb2mw0Vw.png"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nq"><img src="../Images/818c972d98845d3854db8c239246323a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*Owp-CQ3liUSaJJ9o5SxYtQ.png"/></div></div></figure><p id="c684" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">三角形分布是建模专家意见的常用选择。它的三角形直观上很容易理解。</p><p id="91c6" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">但是除了简单性之外，我不认为它是最佳选择。曲线的形状有着尖锐、笔直的边缘，看起来不像真实世界中的随机过程。当我们将其与下面的beta-PERT分布进行比较时，我们还会注意到三角形的峰度(异常值倾向的指标)是有问题的。</p><p id="c097" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">“[三角分布]公式同样重视通常不如最可能值为人所知的极端值，因此可能受到对极端值估计不足的不当影响。三角形分布也有一个角形，与代表主观知识的更平滑的形状不匹配。”<a class="ae ld" href="https://en.wikipedia.org/wiki/PERT_distribution" rel="noopener ugc nofollow" target="_blank"> PERT分布—维基百科</a></p><h1 id="bff8" class="mu mv it bd mw mx my mz na nb nc nd ne ki nf kj ng kl nh km ni ko nj kp nk nl bi translated">2.贝塔-珀特分布</h1><h2 id="6567" class="nv mv it bd mw nw nx dn na ny nz dp ne ln oa ob ng lr oc od ni lv oe of nk iz bi translated">2.1 PERT概念</h2><p id="409a" class="pw-post-body-paragraph le lf it lg b lh og kd lj lk oh kg lm ln oi lp lq lr oj lt lu lv ok lx ly lz im bi translated">PERT代表“<strong class="lg jd">P</strong>program(或<strong class="lg jd">P</strong>project)<strong class="lg jd">E</strong>evaluation和<strong class="lg jd">R</strong>review<strong class="lg jd">T</strong>technique”PERT分布是支持这种项目管理综合方法的工具之一。PERT最初是由美国海军在20世纪50年代末开发的，用于管理北极星核潜艇项目。该方法很快被许多其他组织和行业采用(<a class="ae ld" href="https://en.wikipedia.org/wiki/Program_evaluation_and_review_technique" rel="noopener ugc nofollow" target="_blank">项目评估和审查技术——维基百科</a>)。</p><p id="3c37" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">对于我们今天的目的——建模不确定性——我们可以把重点放在概率分布上，但我们将跳过PERT的组织和方法方面，以及它如何处理关键路径分析。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/e1df467c7466a655c003fba892054b3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*v25sWmPjGqruXFGFk5qiLg.png"/></div></figure><p id="fc48" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><strong class="lg jd">原始PERT分布</strong>采用与三角分布相同的三个参数:</p><ul class=""><li id="6d81" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">最坏情况或最小情况；</li><li id="5678" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">可能的情况或模式；</li><li id="dbac" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">最好的情况或最大值。</li></ul><p id="87ce" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">PERT概率密度函数的魅力在于它可以近似正态分布的钟形曲线。或者，如果我们将它的lambda权重校准为第四个超参数，它也可以模拟一个更灵活的分布形状，表示偏度和更高或更低的尾部风险。上图显示了四条可供选择的PERT曲线。所有这些都是基于专家估计的相同大小的最小值、可能值和最大值，但是我们应用了不同的λ因子来模拟它们的尾部。</p><p id="492e" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">下图比较了PERT(1，3，8，8)和正态(3，1)分布。这些曲线彼此相似，但PERT并不完全对称。它是右尾的，具有0.48的中等正偏斜。与正态变量相比，它的右尾有更多的异常值，但左侧的异常值较少。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi om"><img src="../Images/a204aae851fc40f54e53f51eb60ccc07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*ziUSCoOhDvjJ02UMg28qxQ.png"/></div></figure><h2 id="cd4d" class="nv mv it bd mw nw nx dn na ny nz dp ne ln oa ob ng lr oc od ni lv oe of nk iz bi translated">2.2 PERT与三角分布</h2><p id="1ba9" class="pw-post-body-paragraph le lf it lg b lh og kd lj lk oh kg lm ln oi lp lq lr oj lt lu lv ok lx ly lz im bi translated">一些资料来源认为，如果缺少可以推导出λ重量的历史数据，三角形分布在3点方案中更可取。</p><p id="8400" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">三角形的平均值就是最小值、众数和最大值之和除以3。PERT均值也采用这个和，但是用一个因子对模式进行加权，在尝试其他权重之前，该因子通常设置为4。如果λ保持固定为4，则分布代表传统的PERT变量——而可由分析师设置的可变λ将其转变为所谓的<strong class="lg jd">修正PERT </strong>分布。</p><p id="f8c9" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">然而，对权重因子的关注并不是一个合理的论点，因为我们可以选择将lambda设置为1.0的中性值，这不会相对于最好和最坏的情况而言过重可能的结果。</p><p id="04c3" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">下面，我将以强调PERT的平均值只包括一个选定的权重因子lambda的方式编写平均值的等式，该权重因子可以设置为1.0，类似于三角形分布。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi on"><img src="../Images/2d09d2ca2f7dee57aacef566138c4c6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*vg8GsM5vN-9ZHotcHYOe1Q.png"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/e55d097214093da2165ba57d38b04bb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:718/format:webp/1*o4I34UDhjEWjysEbFfPzPQ.png"/></div></figure><p id="85a1" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">由于专家已经提供了最坏、可能和最好结果的估计，没有理由不向他们询问分布曲线的“尾部”:他们是否预见到分布是重尾的，异常值比正态分布的钟形曲线更经常出现，这种曲线逐渐消失在平均值的三个标准偏差之外？</p><p id="13d9" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">在专家估计了最佳、最差和可能结果的幅度之后，Python脚本可以立即用备选λ权重绘制PERT的曲线，以便专家可以选择反映他们对可能结果的真实可能性的直觉的形状；或者反过来，他们可以选择一个图形来显示尾部风险出现的频率。</p><p id="4c03" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">该图表表明，对于可能的结果，随着λ权重的增加，PERT曲线开始类似于正态分布——直到非常高的λ值会使其变成尖峰分布。红色曲线显示了一个PERT形状，其lambda默认值为4.0。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi np"><img src="../Images/3cf6ae90ec848d45968e9dc0f2d4c368.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*PCbkGbL1XJXwi6Arbf2djg.png"/></div></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="0960" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">任何<em class="mo">三角形</em>变量的过度峰度都是负的<em class="mo">常数</em>，-0.6，这意味着它比正态分布表现出的异常值倾向低得多。我们知道，正态分布经常低估现实世界随机过程中极端结果的尾部风险，例如在金融市场中。具有负过度峰度的三角形分布是<em class="mo">扁峰度</em>，或围绕中心的大体积，这意味着它假设尾部的异常值出现的频率更低，并且比正态分布预测的幅度更低。这可能是一个危险的提议。</p><p id="3537" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">相比之下，PERT分布使我们能够通过修改lambda权重将尾部风险倾向校准到一个选定的值，例如，如果我们想要达到比正态分布高一个等级的峰度。</p><p id="33f7" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">一个技术说明:SciPy在单位区间[0；1].我们可以尝试用位置和比例值来定义它，以将它移动到单位间隔之外，但我的尝试导致了NaN值。显然，这是一个不影响除了<em class="mo"> triang </em>子类之外的其他发行版的SciPy bug。</p><h2 id="b016" class="nv mv it bd mw nw nx dn na ny nz dp ne ln oa ob ng lr oc od ni lv oe of nk iz bi translated">2.3 PERT作为转换后的Beta分布</h2><p id="1b42" class="pw-post-body-paragraph le lf it lg b lh og kd lj lk oh kg lm ln oi lp lq lr oj lt lu lv ok lx ly lz im bi translated">SciPy的两个类及其123个发行版不包含PERT子类。不过，我们不需要从头开始编写PERT。SciPy为我们提供了可以用来定义PERT的构件。</p><ul class=""><li id="6ee7" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">beta-PERT分布可以表示为<em class="mo">标准Beta </em>分布的<em class="mo">变换</em>:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/cf17ce44fc7190fd6b98196d39722758.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*xeeBCsd3DJz0JKLqSWcpDA.png"/></div></figure><ul class=""><li id="d0e7" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">我们需要对随机变量X进行移位和重标度，然后插入变换后的变量Z，它符合单位区间[0；1]，转化为β变量:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/316b984fba3589019e0583fb7ed1841c.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*O8f9KfYfwm_TDlLalDOknw.png"/></div></figure><ul class=""><li id="41df" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">我们通过转换四个PERT参数的两个方程推导出贝塔分布的两个形状参数α和β:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/bc81bc5b22e6b9ccbe61dd9a2db8c0b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*lNfFShh1t9hcDzqqbJru4w.png"/></div></figure><ul class=""><li id="10d0" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">由此产生的<em class="mo">β(z；α，β)</em>分布将等于<em class="mo">PERT(x；最小，模式，最大，λ)</em>变量。</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi or"><img src="../Images/1be065d0af8cf35df389c63aee5fcda2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*PoYpoRVYcYvVpdrIpYtNtw.png"/></div></figure><h1 id="135b" class="mu mv it bd mw mx my mz na nb nc nd ne ki nf kj ng kl nh km ni ko nj kp nk nl bi translated">3.在SciPy的目录中增加一个新的分布:修改的PERT</h1><p id="7033" class="pw-post-body-paragraph le lf it lg b lh og kd lj lk oh kg lm ln oi lp lq lr oj lt lu lv ok lx ly lz im bi translated">我们转换SciPy的Beta分布，以便在需要时为我们提供PERT结果。但是为了避免在我们向我们的专家询问更新的评估时走弯路，我们将把PERT本身作为一个新的类别添加到我们导入的SciPy分布目录中。</p><p id="f2be" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">为了准备测试新类，我们选择一个参数元组:</p><ul class=""><li id="a51d" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">最小值= 10</li><li id="1e22" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">模式，最频繁或最可能的值= 20</li><li id="ac7d" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">最大值= 40</li><li id="96d7" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">λ= 4.0</li></ul><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="0bcb" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">这个新类将继承自连续分布的SciPy父类，<em class="mo">RV _ continuous</em>。</p><p id="7836" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">这将允许我们依赖与SciPy的内置发行版相同的语法。</p><p id="dc7c" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">继承带来了另一个特性。我们可以创建一个新的子类，只需要一个方法来定义它的概率密度函数pdf或累积分布函数cdf。由于我们将它设置为子类，父类<em class="mo"> rv_continuous </em>将自动填补我们在子类中留下的任何空白:父类将在运行时计算缺失属性的数值近似值。示例:如果我们没有明确定义一个方法来计算平均值，当我们应用<em class="mo">时，SciPy将会解决这个问题。mean() </em>函数在我们的代码中。然而，从<em class="mo"> rv_continuous </em>继承而来的间隙填充机制是有代价的。也可以用公式表示的度量的数值近似值将花费相当多的处理时间。</p><p id="bdb1" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们建立了新的PERT生成器类，并包含了所有属性的显式方法，我们可以为这些属性写下封闭形式的表达式。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="85b4" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">出于实验的原因，我复制了新的详细类，并从我标记为<em class="mo"> pertm_gen_less </em>的副本中删除了大部分方法，除了它的累积分布函数。然后我在长班和短班之间跑了一场赛马。在实例化这两个类之后，我们将在下面看到结果。</p><p id="5482" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们编写一个函数<em class="mo"> pertm_results() </em>，每当PERT实例调用该方法时，它将计算一组属性。该函数将返回累积分布函数、概率密度、百分点(即分位数函数ppf)和前四个矩。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="4b14" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">在下面的第4行，我们创建了一个生成器类<em class="mo"> pertm_gen </em>的实例。第6行使用我们之前设置的参数<em class="mo"> min，mode，max，</em>和<em class="mo"> lambda </em>对其进行参数化，并将实例分配给变量<em class="mo">RV:</em>PERT随机变量。</p><p id="4fc8" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">第8行调用<em class="mo"> pertm_results() </em>函数来报告分布的主要属性。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="12f0" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">为了找出一个只包含cdf函数的类是否会有较弱的性能，我们还实例化了“不太完整”的类<em class="mo"> pertm_gen_less </em>。它包含相同的累积分布函数，但它的所有其他属性必须在运行时由SciPy的内部解算器近似计算。我们观察到，它对同一个<em class="mo"> pertm_results() </em>函数的调用花费的处理时间是我们为更详细的生成器类所测量的两倍多。因此，如果我们知道如何将一个分布属性表达为一个代数公式，我们应该将它作为一个方法添加到类定义中。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi os"><img src="../Images/f5fe2947d5cf326cedd21caf14663b41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uY5S5IEwKPzWvbibaet87Q.png"/></div></div></figure><p id="1ace" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">现在我们可以绘制分布函数，就像上一篇概述SciPy内置随机变量的教程文章一样(<a class="ae ld" rel="noopener" target="_blank" href="/probability-distributions-with-pythons-scipy-3da89bf60565">Python SciPy的概率分布简介</a>)。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/70e49dfbca3303e58ad8782081758bc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*N4oqSLiVpndewgSm7wU1ZQ.png"/></div></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/8454bf4f5b130434fdf26f9048ba8c5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*5-1OQzjFthCy2p1sHDhceg.png"/></div></figure><p id="ac13" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><em class="mo"> interval() </em>函数返回一种置信区间。它告诉我们，对于给定的概率，随机数将从中位数附近的报告区间中抽取。这种见解与我们对正态分布的了解相当:99.7%的观察值都在中位数的三个标准差范围内。对于其他非对称分布，我们事先不知道这个事实，但我们可以参考<em class="mo"> interval() </em>函数。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi ov"><img src="../Images/344c7f3d6547fc94212c5bac88641ce9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ExCGQGrPa8kCmR1bz1iS-Q.png"/></div></div></figure><p id="9609" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们将x轴上的选定点输入PERT的累积分布函数和概率密度函数。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/d40ee0b2f1dc33961ab8fa63d8e48e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*wjdJL61lDcWi8wUX2TQfag.png"/></div></figure><h1 id="ed64" class="mu mv it bd mw mx my mz na nb nc nd ne ki nf kj ng kl nh km ni ko nj kp nk nl bi translated">4.使用分位数的专家估计:转换的pert</h1><p id="1ff2" class="pw-post-body-paragraph le lf it lg b lh og kd lj lk oh kg lm ln oi lp lq lr oj lt lu lv ok lx ly lz im bi translated">PERT和三角分布作为参数所期望的最大值和最小值提出了另一个潜在的问题:对于包括我们在内的规划者来说，确定一个场景的极端情况是众所周知的困难。对于长尾随机过程，即使出现的概率在三到五个标准差后会缩小到接近零，x轴也可以被拉至接近无穷大。</p><p id="da36" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">为了防止对极端结果的有偏见的预测，我们不应该请领域专家来估计“真正的”最小值和最大值，而是考虑x轴两端的两个更现实、不太极端的点:“估计随机过程只会以10%的概率超过哪个大值(也就是90%的分位数)。并估计阈值，低于该阈值时，更糟糕的结果只会以10%的概率发生(也就是10%的分位数)。”这个(10，90)分位数对将代表更现实的最坏和最好情况，在大多数情况下可以更容易地进行估计。</p><p id="df5a" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们将定义一个PERT分布，它可以使用分位数作为参数。</p><p id="7cd5" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">为了检查一致性，我们希望转换后的PERT分布与我们在第4章中分析的原始分布相匹配。因此，我们将10%和90%分位数设置为我们已经导出的值，作为修改后的PERT分布的属性(第4行到第6行)。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/705a7e74c47ba0d905ac306fce770aee.png" data-original-src="https://miro.medium.com/v2/resize:fit:422/format:webp/1*Ewt4dyJxCV4oDzpfZ7R4Tg.png"/></div></figure><p id="a64f" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们需要将分位数转换成参数，然后传递给(大)母分布:标准Beta随机变量。为此，我们将打开SciPy的工具箱，使用它的非线性方程系统的<strong class="lg jd">解算器。</strong></p><p id="e3f5" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">在第5行和第9行之间的函数<em class="mo"> f，</em>中，我们建立了方程组。两个<strong class="lg jd">百分点或分位数函数<em class="mo"> ppf() </em> </strong>必须进行校准，以等于专家估计的给定分位数值q10 (14.59)和q90 (29.33):</p><ul class=""><li id="e029" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">0 = ppf(0.10) — q10</li><li id="dfe4" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">0 = ppf(0.90) — q90</li></ul><p id="0f32" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">第13行中SciPy的<strong class="lg jd"> <em class="mo"> fsolve() </em> </strong>方法将搜索两个值<em class="mo"> min </em>和<em class="mo"> max </em>，这两个值将校准百分点函数以匹配它们的目标值q10和q90。</p><p id="897f" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们的专家估计的模式不需要转变。我们还保留lambda的默认值4.0。</p><p id="d3c0" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">第12行提供了一个初始的猜测值，这对于<em class="mo"> fsolve()是必需的。w</em>e<em class="mo">T3】用100乘以90%的分位数来猜测最大值；并将10%的分位数乘以0.01以接近最小值。x轴上10%分位数的最左侧和90%分位数的最右侧的结果起点似乎分别非常接近最小值和最大值，求解程序可以确定这两个极值的近似值。在测试过程中，解算器没有陷入死胡同解，尽管最小值和最大值有时很难在x轴的极端边缘找到。</em></p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="42ab" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">元组<em class="mo"> params </em>接收两个方程组的解:解算器确定的最小值和最大值。</p><p id="91f0" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">在下一步中，我们将元组转换为可变列表，为lambda添加默认值4.0，并在min和max之间插入模式。然后，字典将这四个参数值与它们的名称配对。第10行中的列表comprehension打印了这个参数字典。</p><p id="3cb1" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">这些是我们现在可以提供给PERT子类的输入参数。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="6f9b" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">在第15行和第16行，我们选择要计算分位数的概率。第17行组合了另一个字典中的概率及其相应的分位数，第19行中的list comprehension逐行打印。我们在下面的截图中看到了分布参数和分位数。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/cc5a084fecff620023ffe95b5befc8c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*jfxa9Fup-8AD0de9eSZUFw.png"/></div></figure><h1 id="c00e" class="mu mv it bd mw mx my mz na nb nc nd ne ki nf kj ng kl nh km ni ko nj kp nk nl bi translated">5.PERT-Q分布</h1><p id="46c0" class="pw-post-body-paragraph le lf it lg b lh og kd lj lk oh kg lm ln oi lp lq lr oj lt lu lv ok lx ly lz im bi translated">在第四章中，我们编写了代码来翻译分位数参数，以便用传统的参数化(min，mode，max，lambda)使它们易于被PERT理解。这需要输入和输出之间的手动步骤。</p><p id="cb21" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们可以通过定义一个新的、重新参数化的PERT-Q分布类来简化转换步骤，该类立即接受分位数作为其参数。最终用户甚至可以自己输入估计的分位数。</p><p id="44eb" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">新的生成器子类<em class="mo"> pertQ_gen </em>继承自其父类，即修改后的PERT生成器<em class="mo"> pertm_gen </em>。我们在第4章中开发的代码可以重复使用来建立这个新类，只需很少的修改。</p><p id="e31c" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">除了模式和λ之外，累积分布函数_cdf()还将10%和90%的分位数作为其参数。在第12行和第16行之间的函数<em class="mo"> f，</em>中，我们建立了非线性方程组。带有最小和最大参数的两个百分点函数<em class="mo"> ppf()、</em>被设置为等于q10和q90中的分位数值:</p><ul class=""><li id="9b3e" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">0 = ppf(0.10) — q10</li><li id="c5e6" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">0 = ppf(0.90) — q90</li></ul><p id="ef37" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">第20行中的<em class="mo"> _minmax() </em>函数应用了SciPy的<em class="mo"> fsolve() </em>方法。然后，行40导出形状参数α和β，如前几章所述。</p><p id="dc34" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">辅助函数<em class="mo"> _minmax </em>和<em class="mo"> _shape </em>返回的转换结果被输入到反映PERT分布的标准Beta分布中。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="293f" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">为了查看结果，我们给变量<em class="mo"> pertQ分配一个新的PERT-Q分布类的实例。</em>我们用之前选择的参数元组(q10，mode，q90，4.0)来设置它，并通过将它映射到变量<em class="mo"> rvQ </em>来冻结实例。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="79d7" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">现在，我们可以绘制PERT-Q分布的pdf，当然，我们会发现它的曲线与我们之前准备的修正PERT的曲线是相同的。请记住，我们将专家估计值设置为与修改后的pert提供的值相同。因此，两个参数化必须导致相同的分布。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/0d38ff3420316882c0b69b99f351166a.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/1*CR0DIEsiGTzx-2ujwXk03w.png"/></div></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="528c" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">当我们计算PERT-Q的矩时，应用。stats()方法，我们发现它们与修改后的PERT分布的矩相匹配。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/50055717dc62dd838c4761dfdae8b67a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*QvmN2wnBuo91ESq_qgKNvg.png"/></div></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="07f5" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">通过计算x轴上相同点的cdf和pdf，我们可以进一步确认PERT-Q和修正的PERT是相同的。</p><p id="6720" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">在第7行和第8行中，我们通过压缩合并了它们的值。在左边，代码列出了x值；中间的两列比较它们的cdf值，它们没有显示差异；右边的两列显示pdf值也没有不同。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/0127ee9e0807aa24b73fc1b783968706.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*Md9WHN691FptDFKQzCwQ5Q.png"/></div></figure><h1 id="aea0" class="mu mv it bd mw mx my mz na nb nc nd ne ki nf kj ng kl nh km ni ko nj kp nk nl bi translated">6.结论</h1><p id="8ec8" class="pw-post-body-paragraph le lf it lg b lh og kd lj lk oh kg lm ln oi lp lq lr oj lt lu lv ok lx ly lz im bi translated">我们模拟的随机过程可以代表任何受未来结果不确定性影响的变量:汇率；销量；价格；通货膨胀率；药物的代谢吸收率；2022年新增Medium.com用户数；预计海上风电场位置的风力。</p><p id="cf2c" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">通常(但还不够经常)，我们可以依靠历史观察数据来准备预测模型。但是很多时候，我们面临着原始数据的缺乏。</p><p id="21e2" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我们还必须面对这样一个事实，即每个数学模型只能预测过去观察到的模式。开发能够应对趋势突变的情景——人们担心这是黑天鹅事件；或者希望如果企业想要推出新产品，那么我们需要将场景规划添加到我们的工具箱中。</p><p id="cc9b" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">当新冠肺炎在2020年1月浮出水面时，我们可以预见它会扰乱公共生活和经济。虽然我们没有数据序列，我们可以从这些数据序列中自动得出单个企业或行业的时间序列预测。上一次如此规模的全球疫情造成浩劫是在1918年。2020年被破坏的供应链、市场和行业在一个世纪前并不存在，因此没有时间序列分析可以提供可靠的模型。</p><p id="6769" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">许多其他例子之一是电动汽车制造商特斯拉的崛起。几年前，当特斯拉开始(重新)发明电动汽车时，没有时间序列数据可以表明，当时规模相对较小的初创公司会扰乱汽车行业及其企业巨头。</p><p id="9be3" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">在许多情况下，我们发现我们需要从领域专家那里收集评估，他们应该为我们提供对预期结果的3点评估。然后，我们可以启动我们的数据科学引擎，通过进入SciPy的概率分布工具箱，对场景中的不确定性进行建模。</p><p id="b6df" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">下一篇文章将讨论场景规划的下一个阶段:Python中的蒙特卡罗模拟。</p><p id="3f44" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">Jupyter笔记本可以在GitHub上下载:<a class="ae ld" href="https://github.com/h3ik0th/PERT" rel="noopener ugc nofollow" target="_blank">h3ik0th/PERT:PERT distribution SciPy(github.com)</a></p><ul class=""><li id="d1d2" class="ma mb it lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">标题图片:奇莫诺，pixabay上免费</li><li id="3eef" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">德尔菲法:维基百科，Czkassa(源自Maurizio Bolognini，<em class="mo">democornia elettronica</em>，2001)，免费用于商业用途</li><li id="48e6" class="ma mb it lg b lh mj lk mk ln ml lr mm lv mn lz mf mg mh mi bi translated">所有其他图片:作者</li></ul></div></div>    
</body>
</html>