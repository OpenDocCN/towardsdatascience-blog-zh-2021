<html>
<head>
<title>Create your first CI/CD pipeline with Jenkins and GitHub</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">与Jenkins和GitHub一起创建您的第一个CI/CD渠道</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-your-first-ci-cd-pipeline-with-jenkins-and-github-6aefe21c9240?source=collection_archive---------2-----------------------#2021-09-19">https://towardsdatascience.com/create-your-first-ci-cd-pipeline-with-jenkins-and-github-6aefe21c9240?source=collection_archive---------2-----------------------#2021-09-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3932" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建和部署自由式Jenkins项目的指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c3c08e2d6d09dffdeebf79204c50fce2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gaaNbU6xA4-ZSymx"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kv" href="https://unsplash.com/@samthewam24?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Samuel Sianipar </a>拍照</p></figure><p id="ce7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，快速想象一下，您的团队每天都非常努力地工作，试图尽快推出新功能，但要将更新代码的项目带入测试和生产阶段，我们必须更新服务器，并确保在此过程中不出错。这里显而易见但费力的解决方案是手动将代码从版本控制中拉入服务器，运行测试并给它一个绿色标志，一切都好吗？可悲的是，没有！随着提交频率的增加，开发人员不得不一次又一次地进行整个服务器更新过程。</p><p id="a233" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是手动更新服务器的方法:</p><ol class=""><li id="44fa" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">SSH进入服务器。</li><li id="d064" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从VCS拉过来。</li><li id="8865" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">启动应用程序之前，请检查配置。</li><li id="b8e5" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">在容器中启动应用程序。</li><li id="5fe7" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">检查日志并确保应用程序正在运行。</li><li id="04b6" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">结束SSH会话。</li></ol><p id="de7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，如何自动化这个过程呢？进入开发运营模式，开发运营侧重于使开发和运营周期相互兼容，它试图将两者结合在一起。<a class="ae kv" href="https://www.jenkins.io/" rel="noopener ugc nofollow" target="_blank"> Jenkins </a>是一个用Java构建的CI/CD开发运营工具。</p><p id="e181" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如标题中所提到的，我们将看到Jenkins如何帮助我们消除这一手动流程并实现整个流程的自动化。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="3b56" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated">先决条件</h2><p id="72b7" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">在开始我们的食谱之前，让我们先弄清楚我们的配料。</p><blockquote class="nl nm nn"><p id="786c" class="kw kx no ky b kz la jr lb lc ld ju le np lg lh li nq lk ll lm nr lo lp lq lr ij bi translated">本教程将使用安装在本地机器上的Jenkins，以防您在远程计算机上使用它，用您的计算机IP替换localhost</p></blockquote><p id="781d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，需要将Jenkins安装在您尝试部署的计算机上，安装说明如下:<a class="ae kv" href="https://www.jenkins.io/doc/book/installing/" rel="noopener ugc nofollow" target="_blank">https://www.jenkins.io/doc/book/installing/</a>。其次，这个演示将使用docker，所以如果你想在你的系统上安装docker，请参考:<a class="ae kv" href="https://docs.docker.com/engine/install/" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com/engine/install/</a>。</p><p id="2900" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想学习docker，我创建了一个GitHub库来解释docker的基础和中间概念。解释用简单的英语组织在降价文件中，每节课后都会提到一些资源。</p><div class="ns nt gp gr nu nv"><a href="https://github.com/pratik-choudhari/docker-guide" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">GitHub-pratik-choudhari/docker-guide:以最简单的方式学习docker🐳</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">在这个资源库中，我记录了我所知道的关于docker的每一件事。的…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">github.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj kp nv"/></div></div></a></div><p id="57f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们需要在GitHub这样的VCS上建立一个项目存储库。</p><h2 id="3669" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated">安装后步骤</h2><p id="34f7" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">一旦Jenkins安装完成，进入<a class="ae kv" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080 </a>，会出现一个屏幕要求你解锁Jenkins。要设置您的用户，这是一个强制性的过程，请遵循以下指南:<a class="ae kv" href="https://www.jenkins.io/doc/book/installing/linux/#setup-wizard" rel="noopener ugc nofollow" target="_blank">https://www . Jenkins . io/doc/book/installing/Linux/# setup-wizard</a></p><h2 id="3355" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated">创建詹金斯项目</h2><p id="5d2e" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">詹金斯有两种类型的项目，自由式和管道。两者的主要区别在于，管道项目遵循特定的流程，可以有多个代理和阶段来构建、测试和部署项目。自由式项目很容易设置和开始。现在让我们从项目配置开始。</p><p id="6e37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">登录后，您会看到这样的屏幕。这是Jenkins主页或仪表板，用户可以在这里看到所有创建的管道和管道摘要。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/a136c9009fdfb4a1398044d4514cb8ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VmIh3xke-o-TsJ-rm_JFLA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">詹金斯仪表板</p></figure><p id="f64c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，我们必须点击左上方的<strong class="ky ir">新项目</strong>，然后输入项目名称，点击<strong class="ky ir">自由式项目</strong>，点击<strong class="ky ir">确定</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/5f1c456b2c2426a2e167ce72f8ebd41b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4h34WVu0-TxfNAGhJSe_2g.png"/></div></div></figure><p id="d75e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下一步是用VCS信息配置我们的项目，我将使用GitHub作为VCS。勾选<strong class="ky ir"> GitHub项目</strong>并输入资源库URL。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/ab07a79f0047f4c42626cc3b053a4821.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BSZXbx8GpvD9Ky_OeM6rhA.png"/></div></div></figure><p id="e7c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">向下滚动一点，我们可以看到一个<strong class="ky ir">源代码管理</strong>表单，要求提供登录VCS和要使用的分支的凭证。在全新安装的情况下，需要向Jenkins添加凭证，为此，请单击<strong class="ky ir">添加</strong>按钮，输入您的用户名和密码，然后单击<strong class="ky ir">添加</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/5e96ca3caca8504be96c9c3ae4580971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_KBNh6ZH3ytuWE5UWKCJng.png"/></div></div></figure><p id="ef29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们进入<strong class="ky ir">构建触发器部分，</strong>在这里我们设置触发器，它将告诉Jenkins何时构建一个项目。最常见和最有效的方法是使用网络挂钩。</p><blockquote class="nl nm nn"><p id="ea02" class="kw kx no ky b kz la jr lb lc ld ju le np lg lh li nq lk ll lm nr lo lp lq lr ij bi translated">Web挂钩允许通过使用自定义回调在基于web的应用程序之间进行交互。web挂钩的使用允许web应用程序自动与其他web应用程序通信。web-hook被设置为在某个事件发生时触发。</p></blockquote><p id="fabd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="no">来源:</em><a class="ae kv" href="https://www.geeksforgeeks.org/what-is-a-webhook-and-how-to-use-it/" rel="noopener ugc nofollow" target="_blank"><em class="no">GeeksForGeeks</em></a></p><p id="a59d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的例子中，触发webhook的事件将是对远程存储库的推送操作。在本教程中，我们不打算使用webhooks，而是使用<strong class="ky ir"> Poll SCM </strong>选项，该选项的作用是根据预定义的时间表不断查询VCS，以发现新的变化。如果遇到新的变化，Jenkins将开始项目构建步骤。</p><p id="08fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里使用的预定义时间表是<strong class="ky ir"><em class="no">* * * * * *</em></strong>，这是每分钟的时间表，Jenkins使用类似Crontab的语法，在<a class="ae kv" href="https://crontab.guru/" rel="noopener ugc nofollow" target="_blank"> crontab.guru </a>上探索格式。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/e03f9efa1e86b5f889540528e804c0df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GripgThGzpqjLrhK9yY0rQ.png"/></div></div></figure><p id="11b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">剩下的唯一一步是编写构建命令，直接进入<strong class="ky ir">构建</strong>部分，在分离模式下编写docker构建和运行命令。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/410d1163fbd7ad1ac8acbafb9ffe7335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W2RKkX3gCzTCAJhSw7hQEQ.png"/></div></div></figure><p id="5f78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们已经完成了项目设置，最后一步是点击屏幕底部的<strong class="ky ir">保存</strong>，并通过点击<strong class="ky ir">立即构建</strong>按钮开始第一次构建。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/b99f0eb68f4f8255316593a96066cbb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8apmRoxqVlwD8rvPxAGVmQ.png"/></div></div></figure><p id="4ce9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果构建成功，构建号将显示一个绿色勾号图标，您的应用程序将在定义的网络的指定端口上发布，在我们的示例中，应用程序将在localhost:3000上运行。您可以通过单击内部版本号旁边的下拉菜单来检查构建过程的控制台输出。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/9122dfcec525af9ef068e353b17bcd8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ivR5F4CULSAuG-DfBYsJ2A.png"/></div></div></figure><p id="c2e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个控制台输出的帮助下，用户可以调试构建过程。</p><h2 id="e562" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated">结论</h2><p id="8485" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">希望您能够跟随并成功完成您的第一个构建。我很乐意在评论中回答你的疑问。感谢阅读！保持联系，获取更多关于自动化和python项目的教程。</p></div></div>    
</body>
</html>