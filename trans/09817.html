<html>
<head>
<title>Similarity learning for clothing: building a web service from scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">服装相似性学习:从零开始构建web服务</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/similarity-learning-for-clothing-building-a-web-service-from-scratch-350216830e21?source=collection_archive---------21-----------------------#2021-09-14">https://towardsdatascience.com/similarity-learning-for-clothing-building-a-web-service-from-scratch-350216830e21?source=collection_archive---------21-----------------------#2021-09-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e726" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">涵盖从建模到部署的所有内容的简要指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/235fcab4c274558df3dd8b4e504c3387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JW4ZvDzeku8qS1Y-"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@freestocks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">自由股票</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="d939" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">动机</h2><p id="8967" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">我曾多次想到可以找到相似衣服的神奇工具，这令人担忧。</p><p id="a2ae" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">让我们想象一种情况:你正在Instagram上滚动，突然看到一件惊艳的大衣。如果有一个“我想要这件外套”的按钮，Instagram商店可以向你推荐这件外套以及一系列类似的外套，也许你会更喜欢。最重要的是，如果你能通过价格范围和品牌来筛选它们，并获得完整的网上购物体验，会怎么样？</p><p id="3c48" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">也许我根本不用担心。有时候，当我在网上购物时，我唯一需要的就是有人或事来理解我和我的时尚需求。</p><blockquote class="mq mr ms"><p id="970c" class="ls lt mt lu b lv ml jr lx ly mm ju ma mu mn mc md mv mo mf mg mw mp mi mj mk ij bi translated">如果您想获得数据科学方面的端到端经验，请阅读本文并查看GitHub 上的<a class="ae kv" href="https://github.com/tatiana-grech/similar-clothes" rel="noopener ugc nofollow" target="_blank">项目。您将练习从神经网络建模到docker部署的所有内容。</a></p></blockquote><h2 id="e6f5" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">什么是相似性</h2><p id="43f7" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">在我的例子中，物品或衣服的特征，比如颜色、形状、类型，可以用数值来表示，它们一起形成一个向量。因此，我们可以构建一个向量空间，其中每一项都有一个对应的向量。</p><p id="18a3" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">对象的“相似性”将简单地由该空间中这些对象之间的距离来定义。它们之间的距离越小，它们就越相似或相关。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/25fc7fe72e3ef721b5bcb2b7304b5421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mSOktnLutSQgP2JnVhYAGw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">2D空间中向量的简化可视化，我<em class="my">作者</em>的图像</p></figure><h2 id="059a" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">项目的理念</strong></h2><p id="936a" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">该项目旨在尽可能简单地实施。因此，为了构建图像向量，我会重新训练一个预先训练好的模型。为了向量存储和相似向量的搜索，我将应用向量搜索引擎。一个简单的web界面将建立在一个应用程序框架上，而后端将基于一个用于构建API的web框架。最后，整个项目将使用Docker容器部署在虚拟机上。乍一看，这可能听起来让人不知所措，然而，这并不困难，只需要一步一步地去做。</p><h2 id="1454" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">项目阶段:从想法到应用</h2><p id="5ea0" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">关键阶段如下所示:</p><ol class=""><li id="5417" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk ne nf ng nh bi translated">查找数据集</li><li id="9be6" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk ne nf ng nh bi translated">寻找相关的变压器型号</li><li id="fb6d" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk ne nf ng nh bi translated">重新训练模型并评估它</li><li id="5cad" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk ne nf ng nh bi translated">将模型应用于所有数据并提取数据集的向量</li><li id="3fd2" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk ne nf ng nh bi translated">编码前端和后端，使一个简单的网络界面</li><li id="4b1b" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk ne nf ng nh bi translated">在虚拟机上部署项目。</li></ol><p id="7071" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">让我们从第一阶段开始，然后进行其余的。</p><p id="f052" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi nn translated"><span class="l no np nq bm nr ns nt nu nv di"> 1 </span>该数据集位于介质上，包含20类服装的5000张图片。从鞋子到帽子。前10个类每个都包含至少150个项目。</p><p id="521e" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">关于它是如何被收集的更多细节在<a class="ae kv" href="https://medium.com/data-science-insider/clothing-dataset-5b72cd7c3f1f" rel="noopener">的文章</a>中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/39208e2a5512c20b923c4c8895b36455.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yPEVX1lL0kmh9FnwW804PQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">前10个类别的每个类别中出现的项目数，按作者排序的图像</p></figure><p id="0f28" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi nn translated"><span class="l no np nq bm nr ns nt nu nv di"> 2 </span> Vision Transformer (ViT)是一个基于Transformer架构的视觉模型，最初是为基于文本的任务设计的(你可能听说过BERT)。这是一个非常新的模型，发布于2020年12月。更多细节在这里<a class="ae kv" href="https://ai.googleblog.com/2020/12/transformers-for-image-recognition-at.html" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="a60a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi nn translated">未经培训，通常不会使用变压器模型。从转换器中直接提取的嵌入或向量可能包含大量不同的参数，对于您正在解决的特定问题，其中一些参数可能比其他参数更重要。</p><p id="8dc8" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">因此，这种模型需要重新训练或微调。根据<a class="ae kv" href="https://colab.research.google.com/github/NielsRogge/Transformers-Tutorials/blob/master/VisionTransformer/Fine_tuning_the_Vision_Transformer_on_CIFAR_10_with_the_%F0%9F%A4%97_Trainer.ipynb#scrollTo=JDefWdsUxEsK" rel="noopener ugc nofollow" target="_blank">笔记本</a>中介绍的方法，我想出了以下再培训方案。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/fb75a93b86cc7fae19665ee35ad4527e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ECGknBgtR3Xg26U3ioT4Rg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">再培训计划，作者形象</p></figure><p id="e7c7" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">该模型在预训练的ViT模型上使用了线性层。因此，我在[CLS]令牌的最后一个隐藏状态上放置了一个线性层，它很好地表现了整个图像。此外，辍学是为了正规化而增加的。最后一层返回属于某个类别的概率。所添加的线性层的输入可以准确地用作相似性搜索中的对象向量。</p><blockquote class="mq mr ms"><p id="6221" class="ls lt mt lu b lv ml jr lx ly mm ju ma mu mn mc md mv mo mf mg mw mp mi mj mk ij bi translated">模特再培训的完整脚本可在<a class="ae kv" href="https://colab.research.google.com/drive/17ftAEdu7diEavKGl5DbYFPFvuGKWp_2X#scrollTo=Ny9dBF89DlY0" rel="noopener ugc nofollow" target="_blank">笔记本</a>中找到。</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="8f66" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">对于模型评估，我使用了两个指标:</p><ul class=""><li id="5358" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk oa nf ng nh bi translated">比较训练数据集中和测试数据集中的准确性，</li><li id="b5ae" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">比较了微调前后属于同一类的前N个邻居的百分比。</li></ul><p id="7503" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我还试验了一些图层的添加和矢量提取。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/621bc188594138a2aa6cb46eab8ed9c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4oyOKWI4zz1ZqN60HWqNvg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">评估表，作者图片</p></figure><p id="1641" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">重新训练(微调)transformer模型增加了最接近项目的类中的“相似性”:“属于同一类的前5个邻居的百分比”从56.7%提高到83.4%。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/4bcf66b3af7598bfe974cdf71362a014.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1lgRAMLWxahgrUefZrryGg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在ViT顶部添加1个线性层的模型的类别中的“相似性”,图片由作者提供</p></figure><p id="abc5" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在模型上增加一个额外的线性层并没有改善任何指标。此外，在重新训练过程中，变压器的权重以及添加层中的权重都进行了调整。由于这个事实，我可以使用添加层的输入作为“相似性”搜索中对象的向量。</p><p id="53f9" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在本文的其余部分，我将只提到在预训练模型之上添加了一个线性层的模型。</p><p id="e265" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi nn translated">为了保存添加的线性层的输入，我使用了一个向前的钩子。关于如何使用它的详细指南在<a class="ae kv" rel="noopener" target="_blank" href="/the-one-pytorch-trick-which-you-should-know-2d5e9c1da2ca">文章</a>中提供。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="7ccc" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi nn translated"><span class="l no np nq bm nr ns nt nu nv di"> 5 </span>为了制作一个简单的网络界面，使用了这个<a class="ae kv" href="https://testdriven.io/blog/fastapi-streamlit/" rel="noopener ugc nofollow" target="_blank">文档</a>。这项工作包括在本地机器上进行的以下步骤:</p><ul class=""><li id="357e" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk oa nf ng nh bi translated">使用<a class="ae kv" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>创建了一个简单的界面来显示图像和维护图像选择。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><ul class=""><li id="49de" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk oa nf ng nh bi translated">我已经在docker容器中运行了<a class="ae kv" href="https://qdrant.tech/documentation/quick_start/" rel="noopener ugc nofollow" target="_blank"> Qdrant </a>(矢量搜索引擎)，创建了一个集合，并在那里添加了矢量。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><ul class=""><li id="45c0" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk oa nf ng nh bi translated">后端部分使用<a class="ae kv" href="https://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank"> FastAPI </a>编码，包含搜索请求。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><ul class=""><li id="f069" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk oa nf ng nh bi translated">类似对象的呈现被添加到前端脚本中。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><ul class=""><li id="83c6" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk oa nf ng nh bi translated">前端和后端都是在没有dockers的情况下调试的</li><li id="2308" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">添加了Docker文件和docker-compose.yml，在后者中，我描述了所有的服务和依赖项。有3种服务:后端、前端和qdrant。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><ul class=""><li id="d231" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk oa nf ng nh bi translated">我确保所有东西都在本地机器上工作，然后将项目推送到GitHub仓库，进入下一个阶段。</li></ul><p id="33cf" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi nn translated"><span class="l no np nq bm nr ns nt nu nv di"> 6 </span>在虚拟机上部署项目包括以下步骤:</p><ul class=""><li id="e7e3" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk oa nf ng nh bi translated">在Amazon Web Services上预订免费的Linux机器，并添加HTTP连接</li><li id="5eae" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">将images和vectors.json从本地机器上传到虚拟机。</li><li id="a375" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">运行docker for Qdrant并使用vector.json中的点创建集合。但是，集合可以直接从本地机器上传。</li><li id="edca" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">从GitHub克隆存储库，调整python脚本和docker-compose.yml。</li><li id="5fd6" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">构建和运行docker-compose。</li><li id="9cdc" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">享受网络界面。</li></ul><h2 id="eb76" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">结果</strong></h2><p id="6f75" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><a class="ae kv" href="http://18.170.226.244/" rel="noopener ugc nofollow" target="_blank">网页</a>包括:</p><ul class=""><li id="4941" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk oa nf ng nh bi translated">5件随机衣服的图片</li><li id="5266" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">项目选择器</li><li id="7a59" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">所选项目的图像(默认情况下是第一个项目)</li><li id="6d04" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk oa nf ng nh bi translated">三件最相似的衣服的图片。</li></ul><p id="3cae" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">当你选择了一些你喜欢的物品时，页面会显示所选择的物品以及三个最相似的物品。如果你不喜欢任何赠送的衣服，只需点击“显示其他项目”，你会看到其他5个项目。即使是我们当中最挑剔的人，我们也希望你不会花太多时间找到真正特别的东西！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/d98c7cf75810f85f012576033c9d9d53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RKq27KCtA6D8H3eCFieFbQ.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">相似衣服搜索的网络服务，Gif作者</p></figure><h1 id="5e31" class="oe kx iq bd ky of og oh lb oi oj ok le jw ol jx li jz om ka lm kc on kd lq oo bi translated">下一个视角</h1><p id="36f2" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">类似的衣服有些单品不好看。例如，黑色t恤被识别为与灰色t恤相似，即使数据集中还有其他灰色t恤。我认为背景颜色在这种情况下可能起着关键作用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/15e8f5706771d5d90879fd4f11dade09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lfIbR76BRwxzk0atQ5PtYQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">表现不好的例子，图片作者</p></figure><p id="7c5a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">显然，这个模型可以通过对比学习来改进。如果手动选择的“错误”对在数据中被标记，模型可以并且应该学会忽略图像上的背景。</p><p id="fc9e" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">此外，搜索类似的项目可以实现一个全新的项目！只需将模型应用于新图像，接收相应的向量，并在当前基础上运行搜索。从编码角度来看，将这一功能添加到应用服务中非常容易。</p><p id="0eb8" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">如果我有一个网上商店，我也可以实现搜索类似的服装与基本的过滤器，如价格，品牌，交货时间，等等。这就是搜索变得更加有效和精确的原因。请注意，我使用的矢量搜索引擎支持在搜索中应用过滤器。</p><p id="5536" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">说了这么多……我相信，通过对我们零售习惯的理解，在人工智能的支持下，网上购物的未来将会得到显著改善。</p></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><h2 id="a91a" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">在这个项目中，我学到了什么</h2><p id="4879" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">对我来说，这是一次非常紧张和富有成效的旅程。我第一次用变形金刚。我第一次部署了web服务。以下是我想与你分享的重大发现:</p><ol class=""><li id="12f8" class="mz na iq lu b lv ml ly mm lf nb lj nc ln nd mk ne nf ng nh bi translated">最好在本地计算机上调试模型训练，但是在Google Colab上训练一个模型。将图像上传到Colab需要一段时间，而在本地机器上训练模型则非常耗时。此外，我在Colab中对模型进行训练后下载了该模型，并将其应用于本地机器上提取向量。</li><li id="b752" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk ne nf ng nh bi translated">微调变压器时，会修正变压器层中的权重。我认为只有增加的层被训练。但是变压器内部也在发生变化。然而，可以配置设置，不允许变压器层改变。</li><li id="875d" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk ne nf ng nh bi translated">Streamlit框架不能用于跟踪图片的点击，这就是我使用侧边栏解决方案的原因。该框架也有一些优点，例如，它有一个不错的移动版本，没有任何编码。</li><li id="9497" class="mz na iq lu b lv ni ly nj lf nk lj nl ln nm mk ne nf ng nh bi translated">Docker合成是部署中最棘手的部分。原来，从前端到后端的请求可以在mac机器上工作，但不能在amazon ec2机器上工作。所以它需要一些调整，幸运的是，Linux的解决方案在Mac OS上也能工作。</li></ol></div></div>    
</body>
</html>