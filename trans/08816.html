<html>
<head>
<title>Calculating Percentage Growth Rate with Negative and Positive Numbers with DAX — Power BI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用DAX幂BI计算负数和正数的增长率百分比</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/calculating-percentage-growth-rate-with-negative-and-positive-numbers-with-dax-power-bi-5b30de2cb575?source=collection_archive---------13-----------------------#2021-08-14">https://towardsdatascience.com/calculating-percentage-growth-rate-with-negative-and-positive-numbers-with-dax-power-bi-5b30de2cb575?source=collection_archive---------13-----------------------#2021-08-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="16bb" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">简单但复杂的算术</h2><div class=""/><div class=""><h2 id="fe3f" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">计算百分比变化的常用方法(<strong class="ak"><em class="ko">【A-B/| B |</em></strong><em class="ko">)在涉及负数的情况下不起作用，但我有一个更好的替代方法，可以让你的工作保持干净和敏捷。</em></h2></div><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/2cd2748dd27e8cbdde8fd57fa8e8dab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9vGWJqD1pcbV4UWu"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated">照片由<a class="ae lf" href="https://unsplash.com/@lukechesser?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卢克·切瑟</a>在<a class="ae lf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="59eb" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">用<strong class="li ja"> A-B/ABS(B) </strong>计算增长率似乎是大多数分析师的标准，我们经常忽略这样一个事实，即我们所依赖的简单公式并不是在所有情况下都是正确的。</p><p id="e503" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">我最近完成了一份报告，正在向团队展示结果，一名成员要求我延长报告的时间线，其中包括一些负增长期，我随意延长了过滤器，令我惊讶的是，结果显然是错误的。</p><p id="e74a" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">我回到我的DAX公式，看看我是否将absolute <em class="mc"> ABS() </em>应用于分母，是的！我做了，但我的结果仍然是错误的，这使我开始思考负数会如何影响我们的百分比增长率计算的输出。</p><p id="0baa" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">为了更清楚起见，我读了几篇文章，这篇来自Linkedin <strong class="li ja"> </strong> <a class="ae lf" href="https://www.linkedin.com/posts/ghalimi_relative-growth-activity-6755853400505749504-EanF/" rel="noopener ugc nofollow" target="_blank">上<a class="ae lf" href="https://www.linkedin.com/in/ghalimi/" rel="noopener ugc nofollow" target="_blank"><strong class="li ja">Ismael</strong></a><strong class="li ja"/>的帖子解释了相对增长率</a>脱颖而出，阐明了我们在计算增长率时经常忽略的灰色区域。</p><p id="9a94" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">做了一些谷歌搜索，我看到一些分析师使用不同的方法来解决这个问题，懒惰的方法通常涉及返回空白()或零，其中任何值小于零。另一种方法是创建一个回报P或N(正或负)，以掩盖我们亲爱的公式“A-B/ABS(B)”的低效率。</p><p id="de1e" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">在阅读了这么多关于如何解决这个问题的文章后，Excel超级用户论坛来帮忙了。来自论坛的超级用户(塔赫尔·艾哈迈德)建议考虑不同的场景，并使用If函数来解决问题。</p><p id="f965" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">下面是我最后的DAX查询，它最终处理了所有可能影响百分比增长计算的场景，并为任何使用DAX的人解决了这个问题</p><pre class="kq kr ks kt gt md me mf mg aw mh bi"><span id="fd34" class="mi mj iq me b gy mk ml l mm mn">Net Value - Growth Rate MoM% =<br/>VAR _PREV_MONTH =<br/>    CALCULATE ( [Net Value], DATEADD ( 'Calendar Table'[Date], -1, MONTH ) )</span><span id="78f0" class="mi mj iq me b gy mo ml l mm mn">VAR _CURR_MONTH =<br/>    CALCULATE ( [Net Value] )</span><span id="471a" class="mi mj iq me b gy mo ml l mm mn">VAR _RESULT =<br/>    IF (<br/>        AND ( AND ( _CURR_MONTH &lt; 0, _PREV_MONTH &lt; 0 ), _CURR_MONTH &lt; _PREV_MONTH ),<br/>        ( ( _CURR_MONTH - _PREV_MONTH ) / _PREV_MONTH ) * -1,<br/>        IF (<br/>            AND ( AND ( _CURR_MONTH &lt; 0, _PREV_MONTH &lt; 0 ), _CURR_MONTH &gt; _PREV_MONTH ),<br/>            ( ( _CURR_MONTH - _PREV_MONTH ) / _PREV_MONTH ),<br/>            IF (<br/>                AND ( _CURR_MONTH &lt; 0, _PREV_MONTH &lt; 0 ),<br/>                ( ( _CURR_MONTH - _PREV_MONTH ) / _PREV_MONTH ) * -1,<br/>                IF (<br/>                    AND ( _CURR_MONTH &gt; 0, _PREV_MONTH &lt; 0 ),<br/>                    ( ( _CURR_MONTH - _PREV_MONTH ) / _PREV_MONTH ) * -1,<br/>                    IF (<br/>                        _PREV_MONTH &lt; _CURR_MONTH,<br/>                        ( ( _CURR_MONTH - _PREV_MONTH ) / _PREV_MONTH ),<br/>                        IF (<br/>                            _PREV_MONTH &gt; _CURR_MONTH,<br/>                            ( ( _CURR_MONTH - _PREV_MONTH ) / _PREV_MONTH ),<br/>                            ABS ( ( ( _CURR_MONTH - _PREV_MONTH ) / _PREV_MONTH ) )<br/>                        )<br/>                    )<br/>                )<br/>            )<br/>        )<br/>    )</span><span id="6193" class="mi mj iq me b gy mo ml l mm mn">RETURN<br/>    _RESULT</span></pre><p id="91a2" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">以下是对计算增长率百分比时预期的不同情景的简单解释，所有这些都用上述DAX公式进行了完美的处理(简单的说明归功于<a class="ae lf" href="https://superuser.com/questions/619559/any-trick-to-calculating-percentages-when-the-base-is-a-negative-number" rel="noopener ugc nofollow" target="_blank"> Taheer </a></p><ol class=""><li id="3efa" class="mp mq iq li b lj lk lm ln lp mr lt ms lx mt mb mu mv mw mx bi translated">A&gt;0，B&gt;0，A</li><li id="ee6c" class="mp mq iq li b lj my lm mz lp na lt nb lx nc mb mu mv mw mx bi translated">A&gt;0，B&gt;0，A&gt;B</li><li id="bde3" class="mp mq iq li b lj my lm mz lp na lt nb lx nc mb mu mv mw mx bi translated">一个&lt;0, B&gt; 0，|一个</li><li id="e009" class="mp mq iq li b lj my lm mz lp na lt nb lx nc mb mu mv mw mx bi translated">A &lt;0, B&gt; 0，|A|&gt;B</li><li id="d53d" class="mp mq iq li b lj my lm mz lp na lt nb lx nc mb mu mv mw mx bi translated">A&gt;0，B &lt;0, A</li><li id="aea9" class="mp mq iq li b lj my lm mz lp na lt nb lx nc mb mu mv mw mx bi translated">A&gt; 0，B&lt;0, A&gt;| B | 0</li><li id="ea4d" class="mp mq iq li b lj my lm mz lp na lt nb lx nc mb mu mv mw mx bi translated">A &lt;0, B&lt;0, |A|</li><li id="c263" class="mp mq iq li b lj my lm mz lp na lt nb lx nc mb mu mv mw mx bi translated">A&lt;0, B&lt;0, |A|&gt; |B|</li></ol><p id="e924" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">下一次，当您使用DAX在Power BI报告中计算增长率百分比时，请仔细考虑您的公式，并考虑利用上面的片段。</p><p id="cbd4" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">在Linkedin上关注我<a class="ae lf" href="https://www.linkedin.com/in/belloramon/" rel="noopener ugc nofollow" target="_blank">以了解我的故事</a></p><p id="3891" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">这个片段在GitHub上——叉出来！</p><div class="nd ne gp gr nf ng"><a href="https://github.com/raymonbell01/Calculate-Percentage-Growth-Rate-with-DAX/commit/d873ff809c10ba6ed8f2ea3cca4f42e17acc3254" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ja gy z fp nl fr fs nm fu fw iz bi translated">创建百分比增长率DAX raymonbell 01/用DAX@d873ff8计算百分比增长率</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">github.com</p></div></div><div class="np l"><div class="nq l nr ns nt np nu kz ng"/></div></div></a></div></div></div>    
</body>
</html>