<html>
<head>
<title>Hyperopt Tutorial: Optimise Your Hyperparameter Tuning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">è¿œè§†æ•™ç¨‹:ä¼˜åŒ–æ‚¨çš„è¶…å‚æ•°è°ƒè°</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/optimise-your-hyperparameter-tuning-with-hyperopt-861573239eb5?source=collection_archive---------8-----------------------#2021-11-05">https://towardsdatascience.com/optimise-your-hyperparameter-tuning-with-hyperopt-861573239eb5?source=collection_archive---------8-----------------------#2021-11-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="14c8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ä½¿ç”¨ Hyperopt çš„è´å¶æ–¯è¶…å‚æ•°è°ƒæ•´çš„ç®€å•è§£é‡Šå’Œå®ç°</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/164b0d53f6ffe5f26482c2f4d3b84a80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DJ9cEqxOM-J665e5"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">çº¦ä¹¦äºšÂ·é˜¿æ‹‰è´¡åœ¨<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</p></figure><h1 id="6a2c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">ä»‹ç»</h1><p id="cd33" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Hyperparameter_optimization" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">è¶…å‚æ•°è°ƒæ•´</strong> </a>æ˜¯æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ å·¥ä½œæµçš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå› ä¸ºå®ƒå¯ä»¥æŒ¤å‹æ¨¡å‹æ‰€èƒ½æä¾›çš„æœ€ä½³æ€§èƒ½ã€‚å› æ­¤ï¼Œæ‚¨é€‰æ‹©æ‰§è¡Œè¶…å‚æ•°è°ƒæ•´çš„æ–¹æ³•éå¸¸é‡è¦ã€‚<strong class="lt iu">ç½‘æ ¼æœç´¢</strong>æ˜¯ç©·å°½å¼çš„ï¼Œè€Œ<strong class="lt iu">éšæœºæœç´¢</strong>æ˜¯å®Œå…¨éšæœºçš„ï¼Œå› æ­¤å¯èƒ½ä¼šé”™è¿‡æœ€é‡è¦çš„å€¼ã€‚ä½†æ˜¯ï¼Œé€šè¿‡<strong class="lt iu">hyperpt</strong>åŒ…æœ‰ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•ï¼</p><p id="a006" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> Hyperopt </strong>æ˜¯ä¸€ä¸ªå¼€æºçš„è¶…å‚æ•°è°ƒæ•´åº“ï¼Œå®ƒä½¿ç”¨<strong class="lt iu">è´å¶æ–¯</strong>æ–¹æ³•æ¥å¯»æ‰¾è¶…å‚æ•°çš„æœ€ä½³å€¼ã€‚æˆ‘ä¸æ‰“ç®—æ·±å…¥è¿™ä¸ªè´å¶æ–¯æ–¹æ³•å¦‚ä½•å·¥ä½œçš„ç†è®ºç»†èŠ‚ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒéœ€è¦å¦ä¸€æ•´ç¯‡æ–‡ç« æ¥å……åˆ†è§£é‡Šï¼ç„¶è€Œï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹æ–‡æ¡£<a class="ae ky" href="http://hyperopt.github.io/hyperopt/" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu"/></a><strong class="lt iu"/>ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ï¼Œè¿˜æœ‰å‡ ç¯‡å…³äºè¿™ä¸ªä¸»é¢˜çš„ç ”ç©¶è®ºæ–‡ã€‚</p><p id="7283" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠä¸€ä¸ª<strong class="lt iu"> RandomForestClassifier </strong>æ¨¡å‹æ‹Ÿåˆåˆ° Kaggle æä¾›çš„<a class="ae ky" href="https://www.kaggle.com/adityakadiwal/water-potability" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">æ°´è´¨</strong> </a> (CC0 åŸŸ)æ•°æ®é›†ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<strong class="lt iu">hyperpt è°ƒæ•´æ¨¡å‹çš„è¶…å‚æ•°ã€‚</strong></p><h2 id="df5f" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">ç¬¦åˆç®€å•æ¨¡å‹</h2><p id="598c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬è¯»å…¥æ•°æ®ï¼Œå¹¶ä¸ºæˆ‘ä»¬çš„è®­ç»ƒé›†æ‹Ÿåˆä¸€ä¸ªç®€å•çš„<strong class="lt iu"> RandomForestClassifier </strong>æ¨¡å‹:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="6332" class="ms la it nf b gy nj nk l nl nm"># read in packages<br/>import matplotlib.pyplot as plt<br/>import pandas as pd<br/>import numpy as np<br/>from sklearn.model_selection import train_test_split<br/>from sklearn.ensemble import RandomForestClassifier<br/>from sklearn.metrics import accuracy_score</span><span id="7732" class="ms la it nf b gy nn nk l nl nm"># read in the data and info<br/>data = pd.read_csv('../input/water-potability/water_potability.csv')</span><span id="f628" class="ms la it nf b gy nn nk l nl nm"># remove missing values<br/>data = data.dropna()</span><span id="fa70" class="ms la it nf b gy nn nk l nl nm"># split to train and test<br/>X = data.drop(['Potability'], axis = 1)<br/>y = data['Potability']<br/>x_train, x_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state=200)</span><span id="7784" class="ms la it nf b gy nn nk l nl nm"># build the model<br/>model = RandomForestClassifier(n_estimators=300, max_features='sqrt', random_state=42)<br/>model.fit(x_train, y_train)<br/>y_pred = model.predict(x_test)</span><span id="1d7e" class="ms la it nf b gy nn nk l nl nm"># print out the score accuracy<br/>print("Accuracy:", accuracy_score(y_test, y_pred))</span></pre><p id="5a24" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">è¿è¡Œä¸Šé¢çš„ä»£ç ä¼šäº§ç”Ÿ 67.24% çš„ç²¾ç¡®åº¦ã€‚è¿™æ˜¯å¯ä»¥çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡è¶…å‚æ•°è°ƒæ•´æ¥æ”¹å–„è¿™ä¸€ç‚¹ï¼</p><h2 id="411c" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">è®¾ç½® Hyperopt</h2><p id="7760" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">è¦ä½¿ç”¨ Hyperoptï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬çš„æ¨¡å‹æŒ‡å®šå››ä¸ªå…³é”®è¦ç´ :</p><ol class=""><li id="4cc6" class="no np it lt b lu mn lx mo ma nq me nr mi ns mm nt nu nv nw bi translated"><strong class="lt iu">ç›®æ ‡å‡½æ•°| </strong>è¿™å°†è¿”å›æˆ‘ä»¬å¸Œæœ›åœ¨è®¡ç®—è¿‡ç¨‹ä¸­æœ€å°åŒ–çš„å€¼ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæ˜¯â€œaccuracy_scoreâ€å‡½æ•°ã€‚</li><li id="6e61" class="no np it lt b lu nx lx ny ma nz me oa mi ob mm nt nu nv nw bi translated"><strong class="lt iu">æœç´¢ç©ºé—´| </strong>è¿™å®šä¹‰äº†ç»™å®šè¶…å‚æ•°çš„å–å€¼èŒƒå›´ã€‚è¿™å¯ä»¥æ˜¯æ•´æ•°ã€æµ®ç‚¹æ•°æˆ–å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡åé¢çœ‹åˆ°ã€‚</li><li id="2c20" class="no np it lt b lu nx lx ny ma nz me oa mi ob mm nt nu nv nw bi translated"><strong class="lt iu">è°ƒä¼˜ç®—æ³•| </strong>åœ¨ Hyperopt ä¸­ï¼Œæœ‰ä¸¤ç§ä¸»è¦çš„è¶…å‚æ•°æœç´¢ç®—æ³•:éšæœºæœç´¢å’Œ Parzen ä¼°è®¡å™¨æ ‘(è´å¶æ–¯)ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨åè€…ï¼Œå› ä¸ºå®ƒå·²çŸ¥ä¼šäº§ç”Ÿæœ€ä½³ç»“æœã€‚</li><li id="2762" class="no np it lt b lu nx lx ny ma nz me oa mi ob mm nt nu nv nw bi translated"><strong class="lt iu">è¯„ä¼°| </strong>è¿™æ˜¯æŒ‡è®­ç»ƒæ¨¡å‹çš„ä¸åŒè¶…å‚æ•°å®ä¾‹çš„æ•°é‡ã€‚å»ºè®®è¿™æ˜¯æœç´¢ç©ºé—´ä¸­å®šä¹‰çš„è¶…å‚æ•°æ•°é‡çš„ 10-30 å€ï¼Œä»¥ä¼˜åŒ–æ€§èƒ½å’Œè®¡ç®—æ—¶é—´ã€‚</li></ol><p id="4fc4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å±•ç¤ºä¸€ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä¸ºæˆ‘ä»¬ä¸Šé¢åˆ›å»ºçš„ç®€å•éšæœºæ£®æ—æ¨¡å‹å®ç°ä¸Šè¿°æ­¥éª¤ã€‚</p><h2 id="a5bb" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">å…·æœ‰ä¸€ä¸ªè¶…å‚æ•°çš„è¿œè§†</h2><p id="fc2e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†åªè°ƒæ•´ä¸€ä¸ªè¶…å‚æ•°ï¼Œå³<strong class="lt iu">â€˜n _ estimatorsâ€™</strong></p><p id="8c4b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">åœ¨ Hyperopt ä¸­é¦–æ¬¡é˜…è¯»:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="f4e8" class="ms la it nf b gy nj nk l nl nm"># read in hyperopt values<br/>from hyperopt import fmin, hp, tpe, Trials, space_eval, STATUS_OK</span></pre><p id="b2cc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">ç°åœ¨æˆ‘ä»¬å®šä¹‰æˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°ã€‚è¿™å°†åªæ˜¯â€œn_estimatorsâ€çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå°†è¿”å›ä»<strong class="lt iu">â€œaccuracy _ scoreâ€</strong>å‡½æ•°æ¨æ–­å‡ºçš„<strong class="lt iu">å‡å»ç²¾åº¦</strong>ã€‚æˆ‘ä»¬å–è´Ÿå€¼ç²¾åº¦çš„åŸå› æ˜¯å› ä¸º<strong class="lt iu"> Hyperopt çš„ç›®æ ‡æ˜¯æœ€å°åŒ–ç›®æ ‡</strong>ï¼Œå› æ­¤æˆ‘ä»¬çš„ç²¾åº¦éœ€è¦ä¸ºè´Ÿï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœ€åä½¿å…¶ä¸ºæ­£ã€‚</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="159e" class="ms la it nf b gy nj nk l nl nm"># define the function we want to minimise<br/>def objective(n_estimators):<br/>    model = RandomForestClassifier(n_estimators=n_estimators,<br/>                                   max_features='sqrt',<br/>                                   random_state=42)</span><span id="e9c1" class="ms la it nf b gy nn nk l nl nm">    model.fit(x_train, y_train)<br/>    y_pred = model.predict(x_test)<br/>    accuracy = accuracy_score(y_test, y_pred)<br/>    return {'loss': -accuracy, 'status': STATUS_OK}</span></pre><p id="c521" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">å®šä¹‰â€˜n _ estimatorsâ€™çš„æœç´¢ç©ºé—´:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="42a6" class="ms la it nf b gy nj nk l nl nm"># define the values to search over for n_estimators<br/>search_space = hp.randint('n_estimators', 200, 1000)</span></pre><p id="c1bb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">è¿™é‡Œï¼Œ<strong class="lt iu"> 'hp.randint' </strong>åœ¨ç»™å®šçš„èŒƒå›´å†…ç»™' n_estimators 'åˆ†é…ä¸€ä¸ªéšæœºæ•´æ•°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ 200 åˆ° 1000ã€‚</p><p id="703f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">æŒ‡å®šç®—æ³•:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="4518" class="ms la it nf b gy nj nk l nl nm"># set the hyperparam tuning algorithm<br/>algorithm=tpe.suggest</span></pre><p id="3da4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">è¿™æ„å‘³ç€ Hyperopt å°†ä½¿ç”¨â€œ<strong class="lt iu">Parzen ä¼°è®¡å™¨æ ‘â€(tpe) </strong>ï¼Œè¿™æ˜¯ä¸€ç§è´å¶æ–¯æ–¹æ³•ã€‚</p><p id="485c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨<strong class="lt iu">â€˜fminâ€™</strong>å‡½æ•°å°†å®ƒç»“åˆèµ·æ¥ã€‚â€˜<strong class="lt iu">fnâ€™</strong>åŠŸèƒ½ç›®æ ‡æ˜¯æœ€å°åŒ–åˆ†é…ç»™å®ƒçš„åŠŸèƒ½ï¼Œè¿™æ˜¯ä¸Šé¢å®šä¹‰çš„ç›®æ ‡ã€‚å¦å¤–ï¼Œ<strong class="lt iu">â€˜max _ evalsâ€™</strong>æŒ‡çš„æ˜¯æˆ‘ä»¬è¦æµ‹è¯•çš„ä¸åŒè¶…å‚æ•°çš„æ•°é‡ï¼Œè¿™é‡Œæˆ‘ä»»æ„è®¾ç½®ä¸º 200ã€‚</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="f1db" class="ms la it nf b gy nj nk l nl nm">best_params = fmin(<br/>  fn=objective,<br/>  space=search_space,<br/>  algo=algorithm,<br/>  max_evals=200)</span></pre><p id="842e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">ç”Ÿæˆçš„ä»£ç å—çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/16a484d8033bd4b94816ce112c7e9c84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*305CUk2ChHJSX1wEn2v89Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">å›¾ç‰‡ä½œè€…ã€‚</p></figure><p id="13dd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">æˆ‘ä»¬çœ‹åˆ°æˆ‘ä»¬çš„å‡†ç¡®ç‡æé«˜åˆ°äº† 68.5% ï¼ç„¶åæˆ‘ä»¬å¯ä»¥è°ƒç”¨<strong class="lt iu">â€˜best _ paramsâ€™</strong>æ¥æ‰¾åˆ°äº§ç”Ÿè¯¥æ¨¡å‹çš„â€˜n _ estimatorsâ€™çš„ç›¸åº”å€¼:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="0bc4" class="ms la it nf b gy nj nk l nl nm">print(best_params)</span></pre><p id="76ec" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">è¾“å‡ºæ˜¯:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/7a2324d1d053eb2bed6803ea008d9b1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:346/format:webp/1*lc34Ads1RwXZFR3mRswOOw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">å›¾ç‰‡ä½œè€…ã€‚</p></figure><h2 id="7870" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">è°ƒæ•´å¤šä¸ªè¶…å‚æ•°</h2><p id="2c38" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">ä½¿ç”¨ä¸ä¸Šé¢ç›¸åŒçš„æƒ³æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†<strong class="lt iu">å¤šä¸ªå‚æ•°</strong>ä½œä¸ºå­—å…¸ä¼ é€’åˆ°ç›®æ ‡å‡½æ•°ä¸­ã€‚ä¸‹é¢çš„ä»£ç å—æ˜¾ç¤ºäº†è¿™ä¸€ç‚¹çš„å®ç°:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="3bd8" class="ms la it nf b gy nj nk l nl nm"># redefine the function usng a wider range of hyperparameters<br/>def objective(search_space):<br/>    model = RandomForestClassifier(**search_space, random_state=42)<br/>    model.fit(x_train, y_train)<br/>    y_pred = model.predict(x_test)<br/>    accuracy = accuracy_score(y_test, y_pred)<br/>    return {'loss': -accuracy, 'status': STATUS_OK}</span><span id="58e1" class="ms la it nf b gy nn nk l nl nm"># new search space<br/>search_space={'n_estimators':hp.randint('n_estimators',200,1000),<br/>              <br/>              'max_depth': hp.randint('max_depth',10,200),           <br/>            <br/>            'min_samples_split':hp.uniform('min_samples_split',0,1),   </span><span id="8713" class="ms la it nf b gy nn nk l nl nm">             'min_samples_leaf':hp.randint('min_samples_leaf',1,10),<br/>              <br/>               'criterion':hp.choice('criterion'['gini','entropy']),<br/>                <br/>           'max_features':hp.choice('max_features',['sqrt', 'log2']) }</span><span id="a7a2" class="ms la it nf b gy nn nk l nl nm"># implement Hyperopt<br/>best_params = fmin(<br/>  fn=objective,<br/>  space=search_space,<br/>  algo=algorithm,<br/>  max_evals=200)</span></pre><p id="ec34" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="oe">æ³¨æ„|</em></strong><em class="oe">* * search _ space æ„å‘³ç€æˆ‘ä»¬åœ¨è¿™ä¸ªå­—å…¸ä¸­è¯»å…¥é”®å€¼å¯¹ä½œä¸º RandomForestClassifier ç±»å†…éƒ¨çš„å‚æ•°ã€‚</em></p><p id="3d25" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">åœ¨è¿™ä¸ªæœç´¢ç©ºé—´ä¸­ï¼Œé™¤äº†<strong class="lt iu">â€˜HP . randintâ€™</strong>ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨äº†<strong class="lt iu">â€˜HP . uniformâ€™</strong>å’Œâ€™<strong class="lt iu">HP . choice .â€™</strong>å‰è€…é€‰æ‹©æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„æµ®ç‚¹æ•°ï¼Œåè€…ä»æŒ‡å®šå­—ç¬¦ä¸²ä¸­é€‰æ‹©ä¸€ä¸ªå€¼ã€‚</p><p id="5814" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">è¯¥è®¡ç®—çš„è¾“å‡ºæ˜¯:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/c98bf00801832ef6ba455d251e279235.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*mpfeF03pe44FrEv_Hax3tw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">å›¾ç‰‡ä½œè€…ã€‚</p></figure><p id="34a2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">ç²¾ç¡®åº¦æé«˜åˆ°äº† 69.5%ï¼</p><p id="fadd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">ç„¶åæˆ‘ä»¬å¯ä»¥è°ƒç”¨<strong class="lt iu">â€˜space _ evalsâ€™</strong>å‡½æ•°æ¥è¾“å‡ºæˆ‘ä»¬æ¨¡å‹çš„æœ€ä½³è¶…å‚æ•°ã€‚</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="5e5f" class="ms la it nf b gy nj nk l nl nm">space_eval(search_space, best_params)</span></pre><p id="59a5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">è¾“å‡ºæ˜¯:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/16cd894f84758411d89070701db105c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*gCe4iklbVd8Hq3b07SBPKQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">å›¾ç‰‡ä½œè€…ã€‚</p></figure><p id="fe20" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="oe">æ³¨æ„</em> </strong> <em class="oe"> |å¦‚æœä½ ä¸ä½¿ç”¨â€˜space _ evalâ€™è€Œåªæ˜¯æ‰“å°å­—å…¸ï¼Œå®ƒåªä¼šç»™ä½ åˆ†ç±»ç‰¹å¾çš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯å®ƒä»¬çš„å®é™…åç§°ã€‚</em></p><p id="0077" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">æˆ‘ä»¬èµ°å§ï¼æˆ‘ä»¬åˆšåˆšä½¿ç”¨ Hyperopt è°ƒæ•´äº†æˆ‘ä»¬çš„æ¨¡å‹ï¼Œä¸€ç‚¹ä¹Ÿä¸å›°éš¾ï¼</p></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><p id="23bb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡å…³äºå¦‚ä½•ç®€å•å®ç° Hyperopt çš„æ–‡ç« ï¼</p><blockquote class="oo op oq"><p id="4263" class="lr ls oe lt b lu mn ju lw lx mo jx lz or mp mc md os mq mg mh ot mr mk ml mm im bi translated">å¦ä¸€ä¸ªç®€æ´çš„ç‰¹æ€§æ˜¯ï¼ŒHyperopt å…è®¸æ‚¨ä½¿ç”¨<strong class="lt iu">åˆ†å¸ƒå¼è®¡ç®—</strong>ï¼Œæˆ‘å°†åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»è¿™ä¸ªç‰¹æ€§ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ‚¨æœ‰<strong class="lt iu">ä¸ªå¤šæ ¸</strong>æˆ–è€…åœ¨<strong class="lt iu">å¤–éƒ¨è®¡ç®—é›†ç¾¤</strong>ä¸Šè¿è¡Œæ¨¡å‹ï¼Œæ‚¨å¯ä»¥<strong class="lt iu">è¿è¡Œå¤šä¸ªå…·æœ‰ä¸åŒè¶…å‚æ•°<strong class="lt iu">çš„æ¨¡å‹</strong>ã€‚<strong class="lt iu"> </strong>è¿™ç§æ–¹æ³•æå¤§åœ°ä¼˜åŒ–äº†ä½ çš„è®¡ç®—æ—¶é—´ï¼Œè¿™åœ¨å¯¹éå¸¸å¤§çš„æ•°æ®é›†è¿›è¡Œè®­ç»ƒæ—¶éå¸¸æœ‰ç”¨ã€‚</strong></p></blockquote><p id="608b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">å¦‚æœæ‚¨æƒ³æŸ¥çœ‹æ’°å†™æœ¬æ–‡æ—¶ä½¿ç”¨çš„å®Œæ•´ä»£ç ï¼Œå¯ä»¥åœ¨ä¸‹é¢æ‰¾åˆ°:</p><div class="ou ov gp gr ow ox"><a href="https://github.com/egorhowell/Medium-Articles/blob/main/Data%20Science%20Basics/Hyperparameter_Tuning_With_Hyperopt.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">Medium-Articles/Hyperparameter _ Tuning _ With _ hyper opt . ipynb at main egorhowell/Medium-Articles</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">æˆ‘åœ¨æˆ‘çš„åª’ä½“åšå®¢/æ–‡ç« ä¸­ä½¿ç”¨çš„ä»£ç ã€‚é€šè¿‡åˆ›å»ºä¸€ä¸ªå…³äºâ€¦çš„å¸æˆ·ï¼Œä¸º egorhowell/Medium-Articles çš„å¼€å‘åšå‡ºè´¡çŒ®</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">github.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl ks ox"/></div></div></a></div><p id="87c6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">æˆ‘è¿˜åˆ›å»ºäº†ä¸€ä¸ªæ›´æ–°ç‰ˆæœ¬(2022 å¹´ 9 æœˆ)ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°:</p><div class="ou ov gp gr ow ox"><a href="https://github.com/egorhowell/Medium-Articles/blob/main/Data%20Science%20Basics/Hyperparameter_Tuning_With_Hyperopt_V2.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">Medium-Articles/Hyperparameter _ Tuning _ With _ Hyperopt _ v2 . ipynb at main egorhowell/Medium-Articles</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">æˆ‘åœ¨æˆ‘çš„åª’ä½“åšå®¢/æ–‡ç« ä¸­ä½¿ç”¨çš„ä»£ç ã€‚é€šè¿‡åˆ›å»ºä¸€ä¸ªå…³äºâ€¦çš„å¸æˆ·ï¼Œä¸º egorhowell/Medium-Articles çš„å¼€å‘åšå‡ºè´¡çŒ®</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">github.com</p></div></div><div class="pg l"><div class="pm l pi pj pk pg pl ks ox"/></div></div></a></div><h1 id="03d6" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">å’Œæˆ‘è”ç³»ï¼</h1><ul class=""><li id="ca40" class="no np it lt b lu lv lx ly ma pn me po mi pp mm pq nu nv nw bi translated">è¦åœ¨åª’ä½“ä¸Šé˜…è¯»æ— é™çš„æ•…äº‹ï¼Œè¯·åŠ¡å¿…åœ¨è¿™é‡Œæ³¨å†Œï¼T37<em class="oe">T39ã€‘ğŸ’œ</em></li><li id="9786" class="no np it lt b lu nx lx ny ma nz me oa mi ob mm pq nu nv nw bi translated"><a class="ae ky" href="/subscribe/@egorhowell" rel="noopener ugc nofollow" target="_blank"> <em class="oe">åœ¨æˆ‘å‘å¸ƒæ³¨å†Œé‚®ä»¶é€šçŸ¥æ—¶è·å–æ›´æ–°ï¼</em> </a> <em class="oe"> </em>ğŸ˜€</li><li id="b8dc" class="no np it lt b lu nx lx ny ma nz me oa mi ob mm pq nu nv nw bi translated"><a class="ae ky" href="https://www.linkedin.com/in/egor-howell-092a721b3/" rel="noopener ugc nofollow" target="_blank"><em class="oe">LinkedIn</em></a><em class="oe"/>ğŸ‘”</li><li id="a7a0" class="no np it lt b lu nx lx ny ma nz me oa mi ob mm pq nu nv nw bi translated"><a class="ae ky" href="https://twitter.com/EgorHowell" rel="noopener ugc nofollow" target="_blank"> <em class="oe">ç¢ç¢å¿µ</em> </a> <em class="oe"> </em> ğŸ–Š</li><li id="fb18" class="no np it lt b lu nx lx ny ma nz me oa mi ob mm pq nu nv nw bi translated"><a class="ae ky" href="https://github.com/egorhowell" rel="noopener ugc nofollow" target="_blank"><em class="oe">github</em></a><em class="oe"/>ğŸ–¥</li><li id="87b0" class="no np it lt b lu nx lx ny ma nz me oa mi ob mm pq nu nv nw bi translated"><a class="ae ky" href="https://www.kaggle.com/egorphysics" rel="noopener ugc nofollow" target="_blank"><em class="oe"/></a><em class="oe"/>ğŸ…</li></ul><blockquote class="oo op oq"><p id="a510" class="lr ls oe lt b lu mn ju lw lx mo jx lz or mp mc md os mq mg mh ot mr mk ml mm im bi translated">(æ‰€æœ‰è¡¨æƒ…ç¬¦å·éƒ½æ˜¯ç”±<a class="ae ky" href="https://openmoji.org/" rel="noopener ugc nofollow" target="_blank"> OpenMoji </a>è®¾è®¡çš„â€”â€”å¼€æºçš„è¡¨æƒ…ç¬¦å·å’Œå›¾æ ‡é¡¹ç›®ã€‚æ‰§ç…§:<a class="ae ky" href="https://creativecommons.org/licenses/by-sa/4.0/#" rel="noopener ugc nofollow" target="_blank"> CC BY-SA 4.0 </a></p></blockquote></div></div>    
</body>
</html>