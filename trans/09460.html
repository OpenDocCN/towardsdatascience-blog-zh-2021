<html>
<head>
<title>8 Must-Know venv Commands For Data Scientists and Engineers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家和工程师必须知道的8个venv命令</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/8-must-know-venv-commands-for-data-scientists-and-engineers-dd81fbac0b38?source=collection_archive---------12-----------------------#2021-09-02">https://towardsdatascience.com/8-must-know-venv-commands-for-data-scientists-and-engineers-dd81fbac0b38?source=collection_archive---------12-----------------------#2021-09-02</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="37a0" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">探索一些对Python日常编程最有用的虚拟环境命令</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/cbc261dec1305f66a3a9310caa071876.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ut6-9acrGoOoi_AEIyo_NA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com/@kellysikkema?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">凯利·西克玛</a>在<a class="ae kz" href="https://unsplash.com/s/photos/inside-a-box?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="0a9b" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">介绍</h1><p id="9fac" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Python应用程序通常使用标准包库中不包含的第三方模块和包。此外，正在开发的软件包可能需要另一个库的特定版本才能正常工作。</p><p id="e592" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">这意味着一些应用程序可能需要一个特定的包版本(比如版本<code class="fe mt mu mv mw b">1.0</code>)，而其他应用程序可能需要一个不同的包版本(比如<code class="fe mt mu mv mw b">2.0.1</code>)。因此，我们将以冲突结束，因为安装两个版本中的任何一个都会导致需要不同版本的包中的问题。</p><p id="e789" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在今天的文章中，我们将讨论如何使用虚拟环境来处理这个问题。此外，我们将探索一些最常用的命令，帮助您创建、使用和管理Python虚拟环境。</p></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h1 id="13cf" class="la lb iu bd lc ld ne lf lg lh nf lj lk ka ng kb lm kd nh ke lo kg ni kh lq lr bi translated">什么是虚拟环境</h1><p id="77d7" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">虚拟环境是一个自包含的目录，带有特定的Python版本和用户指定的附加包。此外，一旦虚拟环境被激活，用户就可以安装或卸载任何Python库(使用<code class="fe mt mu mv mw b">pip</code>)。</p><p id="1e8e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">Python版本(默认情况下将包括安装在您的操作系统上的版本，除非您明确指定不同的版本)，安装在一个虚拟环境中的附加库和脚本，与安装在您的机器或任何其他虚拟环境中的那些完全隔离<strong class="lu iv">。</strong></p><p id="b96d" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">Python附带了一个虚拟环境管理器，对于Python 3叫做<code class="fe mt mu mv mw b">venv</code>，对于Python 2叫做<code class="fe mt mu mv mw b">virtualenv</code>。在本文中，我们将展示如何使用<code class="fe mt mu mv mw b">venv</code>，它是在环境中管理Python包的最底层工具。<code class="fe mt mu mv mw b"><a class="ae kz" href="https://docs.python.org/3/library/venv.html" rel="noopener ugc nofollow" target="_blank">venv</a></code>模块包含可用于支持创建和管理轻量级虚拟环境的功能。</p></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h1 id="81e2" class="la lb iu bd lc ld ne lf lg lh nf lj lk ka ng kb lm kd nh ke lo kg ni kh lq lr bi translated">用于日常编程的8个venv命令</h1><p id="7451" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在接下来的章节中，我们将讨论每个Python开发者都必须知道的8个常用的<code class="fe mt mu mv mw b">venv</code>命令。请注意，强烈建议您为每个Python项目创建一个单独的虚拟环境，在其中您将能够安装和管理所有必需的依赖项。</p></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h2 id="366f" class="nj lb iu bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">1.创建虚拟环境</h2><p id="df84" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在开发自己的Python应用程序或库时，您需要做的第一件事是创建一个虚拟环境。</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="38e7" class="nj lb iu mw b gz nz oa l ob oc">$ python3 -m venv my_venv</span></pre><p id="6b9d" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">上面的命令将创建一个名为<code class="fe mt mu mv mw b">my_venv</code>的虚拟环境，它位于当前目录下。现在，如果您检查创建的目录的内容，结果应该类似于下面所示</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="de99" class="nj lb iu mw b gz nz oa l ob oc">$ ls my_venv<br/>bin/        doc/        etc/        images/     include/    lib/        pyvenv.cfg  share/</span></pre><p id="68a2" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果您想在一个特定的目录下创建一个虚拟环境，那么只需将它和venv名称包含在一起。举个例子，</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="9cdc" class="nj lb iu mw b gz nz oa l ob oc">python3 -m venv path/to/your/venv/my_venv</span></pre></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h2 id="19a1" class="nj lb iu bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">2.激活虚拟环境</h2><p id="23b9" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">现在您已经创建了一个虚拟环境，您需要通过首先激活来指示您的操作系统使用它。为此，您需要调用<code class="fe mt mu mv mw b">activate</code>脚本，该脚本位于您的虚拟环境的树结构中的<code class="fe mt mu mv mw b">bin/</code>子目录下。</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="a60c" class="nj lb iu mw b gz nz oa l ob oc">$ source my_venv/bin/activate</span></pre><p id="0798" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">现在你应该注意到，在终端中，每一行都以<code class="fe mt mu mv mw b">(my_venv)</code>开始，这表示当前名为<code class="fe mt mu mv mw b">my_venv</code>的虚拟环境被激活。</p><p id="7521" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">一旦虚拟环境被激活，您安装或卸载的所有内容将只在该特定环境中生效，在其他地方不起作用。</p></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h2 id="f341" class="nj lb iu bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">3.停用虚拟环境</h2><p id="e41d" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">现在，如果您需要停用一个虚拟环境(假设您已经完成了您的包的开发，并且您可能需要在另一个上工作)，您可以通过在命令行中运行<code class="fe mt mu mv mw b">deactivate</code>来这样做(这是一个内部实现细节)。</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="74fc" class="nj lb iu mw b gz nz oa l ob oc">$ deactivate </span></pre><p id="bdad" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">现在您应该注意到名为的虚拟环境(用括号括起来，如<code class="fe mt mu mv mw b">(my_venv)</code>)已经消失了，这意味着当前没有活动的虚拟环境。</p></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h2 id="ed9c" class="nj lb iu bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">4.移除/删除虚拟环境</h2><p id="0fd4" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">虚拟环境实际上只不过是一个自动创建的包含特定内容的树形目录。因此，为了去掉一个<code class="fe mt mu mv mw b">venv</code>，你只需要从磁盘上删除这个目录。</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="f450" class="nj lb iu mw b gz nz oa l ob oc">$ rm -rf /path/to/my_venv</span></pre></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h2 id="f004" class="nj lb iu bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">5.清除现有的虚拟环境</h2><p id="8a87" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">有时，您可能不想完全删除虚拟环境，而是希望清除以前安装的所有软件包。如果是这样的话，那么你只需要<code class="fe mt mu mv mw b">clear</code>这个<code class="fe mt mu mv mw b">venv</code>就可以了。为此，只需运行</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="6263" class="nj lb iu mw b gz nz oa l ob oc">$ python3 -m venv --clear path/to/my_venv</span></pre></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h2 id="94fc" class="nj lb iu bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">6.更新Python版本</h2><p id="fd13" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">现在，如果您想指示环境使用现有的Python版本，假设它已经就地升级，那么只需提供<code class="fe mt mu mv mw b">--upgrade</code>标志:</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="55ff" class="nj lb iu mw b gz nz oa l ob oc">$ python3 -m venv /path/to/my_venv --upgrade</span></pre></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h2 id="4da6" class="nj lb iu bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">7.允许虚拟环境访问系统站点包</h2><p id="2453" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">正如已经强调的，安装在虚拟环境中的依赖项与安装在实际系统或任何其他环境中的相应包是隔离的。</p><p id="b1d3" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">现在，如果出于任何原因，你想让你的虚拟环境访问系统站点包目录，那么只需指定<code class="fe mt mu mv mw b">--system-site-packages</code>标志来指示<code class="fe mt mu mv mw b">venv</code>这样做。请注意，这不是一个推荐的做法，您应该只在真正需要时才使用它。</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="573e" class="nj lb iu mw b gz nz oa l ob oc">$ python3 -m venv /path/to/my_venv --system-site-packages</span></pre></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h2 id="55df" class="nj lb iu bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">8.跳过pip安装</h2><p id="be72" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">如果出于某种原因你想跳过<code class="fe mt mu mv mw b">pip</code>(默认的软件包管理器)的安装和/或升级，那么你可以通过传递<code class="fe mt mu mv mw b">--without-pip</code>标志来实现。</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="4a4f" class="nj lb iu mw b gz nz oa l ob oc">$ python3 -m vevn /path/to/my_venv --without-pip</span></pre></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h1 id="4bf0" class="la lb iu bd lc ld ne lf lg lh nf lj lk ka ng kb lm kd nh ke lo kg ni kh lq lr bi translated">最后的想法</h1><p id="19fa" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在今天的文章中，我们讨论了在开发Python包时创建和使用虚拟环境的重要性。此外，我们还探讨了一些最常用的<code class="fe mt mu mv mw b">venv</code>命令，为了正确创建、使用和管理您的虚拟环境，您应该了解这些命令。</p><p id="242b" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">通过运行help命令，您可以找到使用<code class="fe mt mu mv mw b">venv</code>时所有选项的更全面列表:</p><pre class="kk kl km kn gu nv mw nw nx aw ny bi"><span id="c27a" class="nj lb iu mw b gz nz oa l ob oc">$ python3 -m venv -h</span></pre></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><p id="1e00" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="lu iv">成为会员</strong> </a> <strong class="lu iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。</strong></p></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><h2 id="676e" class="nj lb iu bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated"><strong class="ak">你可能也会喜欢</strong></h2><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/14-must-know-pip-commands-for-data-scientists-and-engineers-a59ebbe0a439"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">数据科学家和工程师必备的14个pip命令</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">探索一些对日常编程最有用的pip命令</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/scikit-learn-vs-sklearn-6944b9dc1736"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">Scikit-Learn和Sklearn有区别吗？</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">Python中的scikit-learn与sklearn</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ov l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl mx my hy mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/16-must-know-bash-commands-for-data-scientists-d8263e990e0e"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">数据科学家必须知道的16个Bash命令</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">探索一些最常用的bash命令</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou kt og"/></div></div></a></div></div></div>    
</body>
</html>