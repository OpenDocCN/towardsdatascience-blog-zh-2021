<html>
<head>
<title>Quick-Fire Guide to APIs in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python快速入门指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/quick-fire-guide-to-apis-in-python-891dd98c8877?source=collection_archive---------6-----------------------#2021-09-29">https://towardsdatascience.com/quick-fire-guide-to-apis-in-python-891dd98c8877?source=collection_archive---------6-----------------------#2021-09-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="b8c6" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/getting-started" rel="noopener" target="_blank">入门</a></h2><div class=""/><div class=""><h2 id="bec0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">网络交流简明指南</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/7dc8e43931bc038ba5a52b802b1a26a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wdEgyC1jucmgn0tGH_PEtQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="b9ee" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">使用Python迈出与web交互的第一步似乎令人生畏——但事实并非如此。这是一个非常简单的过程，有着完善的规则和指导方针。</p><p id="2183" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们将涵盖入门的绝对要点，包括:</p><pre class="ks kt ku kv gt md me mf mg aw mh bi"><span id="dbdb" class="mi mj it me b gy mk ml l mm mn">- Application Program Interfaces (<strong class="me jd">APIs</strong>)<br/>- Javascript Object Notation (<strong class="me jd">JSON</strong>)<br/>- <strong class="me jd">Requests</strong> with Python<br/>- Real world <strong class="me jd">use-cases</strong></span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="mo mp l"/></div></figure></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="3dfe" class="mx mj it bd my mz na nb nc nd ne nf ng ki nh kj ni kl nj km nk ko nl kp nm nn bi translated">应用程序接口</h1><p id="04fb" class="pw-post-body-paragraph lh li it lj b lk no kd lm ln np kg lp lq nq ls lt lu nr lw lx ly ns ma mb mc im bi translated">我们可以把API看作是这些小的神奇的盒子，我们在这里发送数据，然后取回数据。</p><p id="8261" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这个小盒子只不过是服务器上某个地方的一个脚本。它充当了我们——T2的客户端(T3)和他们——T4的服务器(T5)之间的中间人。我们可以告诉我们的中间人，我们想知道一些事情，改变一些事情，或者删除一些事情——如果我们的指示被正确接收，中间人会很高兴地忘记。</p><p id="6541" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在构建API方面有很好的指导原则，它们都遵循相同的使用模式。这些API中的绝大多数(在web上)使用了一种叫做REST架构的东西。</p><h2 id="5f4d" class="mi mj it bd my nu nv dn nc nw nx dp ng lq ny nz ni lu oa ob nk ly oc od nm iz bi translated">休息</h2><p id="ab07" class="pw-post-body-paragraph lh li it lj b lk no kd lm ln np kg lp lq nq ls lt lu nr lw lx ly ns ma mb mc im bi translated">表述性状态转移(REST) API架构应用了六条规则:</p><ul class=""><li id="cd2a" class="oe of it lj b lk ll ln lo lq og lu oh ly oi mc oj ok ol om bi translated">所有请求必须使用一个<strong class="lj jd"> <em class="nt">单一外向接口</em> </strong>来处理。</li><li id="19dc" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated">有<strong class="lj jd"> <em class="nt">客户端-服务器独立性</em></strong>——意味着客户端(美国)的变化不会影响服务器端的功能，反之亦然。</li><li id="2f95" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated">每一个新的请求都被独立于其他请求处理API不保留任何关于我们的会话的信息，因此它是<strong class="lj jd"> <em class="nt">无状态</em> </strong>。</li><li id="00eb" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated"><strong class="lj jd"> <em class="nt">缓存</em></strong>—API必须指定用户是否可以缓存响应。</li><li id="c5ed" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated">API由<strong class="lj jd"> <em class="nt">分层系统</em> </strong>组成，形成模块化结构。</li><li id="6025" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated">如果适用于API使用，应根据用户要求 提供<strong class="lj jd"> <em class="nt">可执行代码。</em></strong></li></ul><p id="ad5e" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">所有这些产生了一个单一的网关，具有可预测的行为，可以在没有太多意外的情况下进行通信。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="eb7b" class="mx mj it bd my mz na nb nc nd ne nf ng ki nh kj ni kl nj km nk ko nl kp nm nn bi translated">请求的类型</h1><p id="c755" class="pw-post-body-paragraph lh li it lj b lk no kd lm ln np kg lp lq nq ls lt lu nr lw lx ly ns ma mb mc im bi translated">当我们与API通信时，我们会倾向于提出以下请求之一:</p><ul class=""><li id="28c5" class="oe of it lj b lk ll ln lo lq og lu oh ly oi mc oj ok ol om bi translated"><strong class="lj jd">获取</strong> —从API中检索信息。</li><li id="4477" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated"><strong class="lj jd"> POST </strong> —创建新的资源(例如，添加新的数据记录)。</li><li id="a611" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated"><strong class="lj jd"> PUT </strong> —更新现有资源(例如，更改现有记录中的特定值)。</li><li id="2fff" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated"><strong class="lj jd">删除</strong> —删除现有资源(例如，删除数据记录)。</li></ul><p id="97bb" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">最常用的方法是<strong class="lj jd"> GET </strong>协议，它允许我们下载数据。</p><p id="cc33" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以使用谷歌地图API来<strong class="lj jd">获取特定地址的经纬度坐标。</strong></p><p id="4a70" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">发布、上传和删除是不同的，因为它们仅在修改信息时使用。使用GitHub API，我们可以用<strong class="lj jd"> POST </strong>创建一个repo，用<strong class="lj jd"> PUT </strong>更新它，用<strong class="lj jd"> DELETE </strong>删除它。</p><p id="421a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">还有<strong class="lj jd">补丁</strong> —这与<strong class="lj jd"> PUT </strong>类似，但用于“部分更新”。我从未使用过这种方法，也没有在API文档中看到过这种方法——但它确实存在。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="81dd" class="mx mj it bd my mz na nb nc nd ne nf ng ki nh kj ni kl nj km nk ko nl kp nm nn bi translated">HTTP代码</h1><p id="c4ae" class="pw-post-body-paragraph lh li it lj b lk no kd lm ln np kg lp lq nq ls lt lu nr lw lx ly ns ma mb mc im bi translated">当我们使用<strong class="lj jd"> GET </strong>、<strong class="lj jd"> POST </strong>、<strong class="lj jd"> PUT </strong>或<strong class="lj jd"> DELETE </strong>时，API会向我们反馈信息，响应的一部分会包含一个HTTP代码，告诉我们请求的结果。这些通常是以下情况之一:</p><pre class="ks kt ku kv gt md me mf mg aw mh bi"><span id="1cdb" class="mi mj it me b gy mk ml l mm mn"><strong class="me jd">Success Codes<br/>200 OK</strong> - success (common response to <strong class="me jd">GET</strong>)<strong class="me jd"><br/>201 Created</strong> - new resource created (<strong class="me jd">POST</strong>/<strong class="me jd">PUT</strong>)<strong class="me jd"><br/>204 No Content</strong> - success but not content returned <em class="nt">(not an issue)</em></span><span id="53a6" class="mi mj it me b gy os ml l mm mn"><strong class="me jd"><em class="nt">Client </em>Error Codes<br/>400 Bad Request</strong> - request not understood due to bad syntax (fix your JSON)<strong class="me jd"><br/>401 Unauthorized </strong>- not allowed, you need authentication<strong class="me jd"><br/>403 Forbidden</strong> - secret place, you're not allowed here<strong class="me jd"><br/>404 Not Found</strong> - you're lost, this place doesn't exist (<a class="ae ot" href="https://docs.github.com/en/rest/overview/other-authentication-methods#basic-authentication" rel="noopener ugc nofollow" target="_blank">or does it...</a>)</span><span id="9547" class="mi mj it me b gy os ml l mm mn"><strong class="me jd"><em class="nt">Server </em>Error Codes<br/>500 Internal Server Error</strong> - there's something wrong with the server</span><span id="e1ee" class="mi mj it me b gy os ml l mm mn"><strong class="me jd">OP Codes<br/>418 I'm a teapot</strong> - teapot cannot brew coffee<strong class="me jd"><br/>420 Embrace Your Calm</strong> - sending too many requests to Twitter</span></pre></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="a749" class="mx mj it bd my mz na nb nc nd ne nf ng ki nh kj ni kl nj km nk ko nl kp nm nn bi translated">Javascript对象符号</h1><p id="bab3" class="pw-post-body-paragraph lh li it lj b lk no kd lm ln np kg lp lq nq ls lt lu nr lw lx ly ns ma mb mc im bi translated">当与API交互时，我们使用一个标准化的模板来发送和接收数据，这样客户端(我们)和API都可以正确地处理数据——这种格式就是Javascript对象符号(JSON)。</p><p id="2165" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">JSON用我们在Python字典中看到的键值对实现了相同的层次结构。我们可以使用这种结构嵌入列表、字符串，甚至其他字典。</p><p id="4607" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们尝试一个例子，<a class="ae ot" href="https://pokeapi.co/api/v2/pokemon/charizard" rel="noopener ugc nofollow" target="_blank">点击这里将使用我们的浏览器向PokéAPI </a>发送一个请求——从API返回JSON响应的明文版本:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ou"><img src="../Images/7b9710a43042755e226a9dba86f19bea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HKkzIFLRGciClPZYCT0s4g.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">来自PokéAPI的JSON响应，在我们的浏览器中。</p></figure><p id="443f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以看到JSON响应的类似字典的格式。就结构而言，Python字典和JSON之间没有真正的区别——然而我们<em class="nt">不能</em>在与API通信时直接使用Python字典。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="3246" class="mx mj it bd my mz na nb nc nd ne nf ng ki nh kj ni kl nj km nk ko nl kp nm nn bi translated">Python请求</h1><p id="82e7" class="pw-post-body-paragraph lh li it lj b lk no kd lm ln np kg lp lq nq ls lt lu nr lw lx ly ns ma mb mc im bi translated">我们已经探索了API的基础——但是我们如何开始用Python与它们交互呢？</p><p id="98da" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以使用非常受欢迎的图书馆。如果我们想发送GET请求，我们只需写:</p><pre class="ks kt ku kv gt md me mf mg aw mh bi"><span id="0dac" class="mi mj it me b gy mk ml l mm mn">import requests</span><span id="7bce" class="mi mj it me b gy os ml l mm mn">requests.<strong class="me jd">get</strong>(<em class="nt">'https://api_address.com'</em>)</span></pre><p id="ac74" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们所需要做的就是输入我们向其发送请求的API的URL我们将收到来自API的JSON响应！</p><p id="03b0" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">使用之前用于PokéAPI的相同“端点”(特定的API入口点)，我们可以用Python返回相同的信息，如下所示:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oy mp l"/></div></figure><p id="090a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这里有三点需要注意:</p><ul class=""><li id="4a47" class="oe of it lj b lk ll ln lo lq og lu oh ly oi mc oj ok ol om bi translated">我们的请求返回的<em class="nt">响应对象</em>显示请求成功——<code class="fe ov ow ox me b">&lt;Response [<strong class="lj jd">200</strong>]&gt;</code>——意思是<strong class="lj jd"> 200 OK </strong> <em class="nt">(参考前面的代码)</em>。</li><li id="0f5f" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated">我们使用response <code class="fe ov ow ox me b">json()</code>方法访问返回的数据，这将输出JSON响应的Python字典版本。</li><li id="cd57" class="oe of it lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated">字典输出与我们通过浏览器访问API端点时看到的完全相同。</li></ul><p id="feb3" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">因为我们使用<code class="fe ov ow ox me b">json()</code>方法返回了一个字典，所以我们可以使用Python字典中通常使用的相同方法来访问响应的特定部分。如果我们想返回Charizard能力的名称:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oy mp l"/></div></figure><p id="6b2c" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">对于所有神奇宝贝迷来说，我想这是文章的结尾——对于那些对返回每个神奇宝贝及其能力的综合列表不太感兴趣的人来说，让我们转移到一些可能更有用的API上…</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="c56e" class="mx mj it bd my mz na nb nc nd ne nf ng ki nh kj ni kl nj km nk ko nl kp nm nn bi translated">谷歌地图API</h1><p id="31d2" class="pw-post-body-paragraph lh li it lj b lk no kd lm ln np kg lp lq nq ls lt lu nr lw lx ly ns ma mb mc im bi translated">谷歌(当然)提供了大量的API——其中一个特别的是他们的地理编码API，它允许你返回任何地址的经纬度坐标。这也是我第一次使用Python的职业经历的很大一部分。</p><p id="148a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">从那以后，它发生了很大的变化——但当我想到“API”时，这种体验是我首先想到的事情之一。它还很好地介绍了API的典型用法。</p><p id="d40f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi oz translated"><span class="l pa pb pc bm pd pe pf pg ph di"> 1。</span> <strong class="lj jd">授权</strong> —大多数API需要我们在调用中包含一个授权密钥，如果我们错过了这一点，我们通常会返回一个4xx代码，告诉我们需要授权。</p><p id="47be" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">获取API密钥的步骤包含在<a class="ae ot" href="https://developers.google.com/maps/documentation/geocoding/cloud-setup" rel="noopener ugc nofollow" target="_blank">地理编码API文档</a>中，它非常简单，因此我不会在此重复该文档。</p><p id="00fe" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi oz translated"><span class="l pa pb pc bm pd pe pf pg ph di"> 2。</span> <strong class="lj jd"> API参数</strong> —我们将尝试返回罗马斗兽场的坐标。它的地址是<code class="fe ov ow ox me b">Piazza del Colosseo</code>，我们将把它作为参数包含在请求的URL中。</p><p id="38b9" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们也可以使用相同的方法进行身份验证。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oy mp l"/></div></figure><p id="dc0e" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">就在那里，在我们的JSON响应中，我们可以看到<code class="fe ov ow ox me b">lat</code>和<code class="fe ov ow ox me b">lng</code>——我们可以访问这两个值，就像我们之前使用PokéAPI一样。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oy mp l"/></div></figure><p id="fb18" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是我们斗兽场的经纬度坐标——简单！</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="9320" class="mx mj it bd my mz na nb nc nd ne nf ng ki nh kj ni kl nj km nk ko nl kp nm nn bi translated">GitHub API</h1><p id="cacc" class="pw-post-body-paragraph lh li it lj b lk no kd lm ln np kg lp lq nq ls lt lu nr lw lx ly ns ma mb mc im bi translated">我们已经看到<strong class="lj jd">获得</strong>请求，但是没有<strong class="lj jd">发布</strong> , <strong class="lj jd">放置</strong>，或者<strong class="lj jd">删除</strong>。这些请求往往略有不同，因为我们通常包含一个<code class="fe ov ow ox me b">payload</code>对象，它详细描述了我们使用API进行<strong class="lj jd"> POST </strong> ing、<strong class="lj jd"> PUT </strong> ting或<strong class="lj jd"> DELET </strong> <em class="nt"> ing </em>的信息。</p><p id="dce1" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">对于这个例子，我们将使用GitHub API向我们的GitHub帐户发布一个新的回购。同样，我们也需要一个授权密钥——你可以在这里找到一个<a class="ae ot" href="https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token" rel="noopener ugc nofollow" target="_blank">的分步指南</a>。</p><p id="2f10" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">不过有一点，当选择个人访问令牌的权限时——本教程需要的唯一权限是<strong class="lj jd"> repo </strong>。我还建议远离<strong class="lj jd"> delete_repo </strong>权限。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pi"><img src="../Images/c8124416f4418a433b012b19f43f53a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YIWMpkqlxGBw_HbDwYaOxg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">我们只需要<strong class="bd pj">回购</strong>权限。</p></figure><p id="a246" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">一旦您有了授权密钥，我们将使用它来验证我们对GitHub API的所有请求，如下所示:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oy mp l"/></div></figure><p id="3add" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们在这里所做的只是典型的API请求——但是使用了API <code class="fe ov ow ox me b">headers</code>中包含的授权密钥(或令牌)。我们可以认为<code class="fe ov ow ox me b">headers</code>是我们在请求中包含的<em class="nt">元数据</em>。</p><p id="02a8" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">最后一步是描述我们想做什么。我们将使用请求中的<code class="fe ov ow ox me b">data</code>参数来实现这一点。在这里我们包含了我们的<code class="fe ov ow ox me b">payload</code>，它是一个使用<code class="fe ov ow ox me b">json.dumps</code>转换成JSON格式字符串的Python字典:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oy mp l"/></div></figure><p id="eeb9" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">由此我们将返回<strong class="lj jd"> 201创建的</strong>响应代码——它告诉我们请求成功了，我们已经创建了一个新资源。</p><p id="c6bc" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了核实，我们可以去Github。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pk"><img src="../Images/24a1f7c3254b5072639e1447192cac1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LF6_whSmoTbFwVqlLxA2CA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">我们应该在我们的档案中找到一个新的<strong class="bd pj"> api_test </strong> repo。</p></figure><p id="7efa" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">果然，有了我们新的<code class="fe ov ow ox me b">api_test</code>回购——我们可以用GitHub API做很多事情，如果你对更多感兴趣，看看<a class="ae ot" href="https://docs.github.com/en/rest" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><p id="2b71" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这里，我们介绍了API的世界，以及如何在Python中与它们进行交互。从这里开始，还有大量的东西需要学习。</p><p id="d385" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">同样值得注意的是，这只是API生态系统的一个方面，当然还有构建和服务这些API的另一个方面——这是一个完全不同的游戏。</p><p id="977d" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">然而，掌握我们在本文中讨论的概念是继续深入到API交互和/或开发的其他途径的基础。</p><p id="2c96" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我希望你喜欢这篇文章！如果你有任何问题，请通过<a class="ae ot" href="https://twitter.com/jamescalam" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或在下面的评论中告诉我。如果你想要更多这样的内容，我也会在YouTube上发布。</p><p id="caa0" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">感谢阅读！</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><p id="c9f2" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果您想直接进入Python中的API开发，请查看我关于使用FastAPI进行API开发的文章:</p><div class="pl pm gp gr pn po"><a href="https://python.plainenglish.io/build-better-apis-with-python-5b82fabcf8b3" rel="noopener  ugc nofollow" target="_blank"><div class="pp ab fo"><div class="pq ab pr cl cj ps"><h2 class="bd jd gy z fp pt fr fs pu fu fw jc bi translated">用Python构建更好的API</h2><div class="pv l"><h3 class="bd b gy z fp pt fr fs pu fu fw dk translated">如何用Python构建生产就绪的API</h3></div><div class="pw l"><p class="bd b dl z fp pt fr fs pu fu fw dk translated">python .平原英语. io</p></div></div><div class="px l"><div class="py l pz qa qb px qc lb po"/></div></div></a></div><p id="be7a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><a class="ae ot" href="https://gist.github.com/jamescalam/20111fa38353630609d875a11445f3a5" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本攻略</a></p><p id="1dc8" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><a class="ae ot" href="https://bit.ly/nlp-transformers" rel="noopener ugc nofollow" target="_blank">🤖《变形金刚》NLP课程70%的折扣</a></p></div></div>    
</body>
</html>