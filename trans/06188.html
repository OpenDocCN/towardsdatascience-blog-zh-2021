<html>
<head>
<title>The Simplest Way to Create an Interactive Candlestick Chart in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python创建交互式烛台图表的最简单方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-simplest-way-to-create-an-interactive-candlestick-chart-in-python-ee9c1cde50d8?source=collection_archive---------2-----------------------#2021-06-03">https://towardsdatascience.com/the-simplest-way-to-create-an-interactive-candlestick-chart-in-python-ee9c1cde50d8?source=collection_archive---------2-----------------------#2021-06-03</a></blockquote><div><div class="fc ij ik il im in"/><div class="io ip iq ir is"><figure class="iu iv gp gr iw ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi it"><img src="../Images/0f56b0b87fa3495a6e645c90894c8e9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5hks5c7coEa_TvXSLKfu2A.jpeg"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">马克西姆·霍普曼在<a class="ae ji" href="https://unsplash.com/s/photos/trading?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class=""/><div class=""><h2 id="78d3" class="pw-subtitle-paragraph ki jk jl bd b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dk translated">仅用一行代码</h2></div><p id="31bb" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">简而言之，<a class="ae ji" href="https://en.wikipedia.org/wiki/Candlestick_chart" rel="noopener ugc nofollow" target="_blank">烛台图表</a>是一种金融图表，用于描述某些资产(股票、密码等)的价格变动。).与收盘价的简单折线图相比，它提供了更多关于价格动态的信息-它基于OHLC数据，这意味着它包含开盘价、最高价、最低价和收盘价(通常与成交量一起)。这些值可以以不同的采样频率(分钟、小时、天、周等)显示。)并经常被用作技术分析的基础。</p><p id="e1f9" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在不深入识别烛台模式的情况下，我将向您展示如何用Python轻松创建交互式烛台图表。</p><h1 id="d2cd" class="lw lx jl bd ly lz ma mb mc md me mf mg kr mh ks mi ku mj kv mk kx ml ky mm mn bi translated">烛台图表使用<code class="fe mo mp mq mr b">cufflinks</code></h1><p id="0586" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated">创建蜡烛图最简单的方法是使用一个名为<code class="fe mo mp mq mr b">cufflinks</code>的库。这是一个在<code class="fe mo mp mq mr b">plotly</code>顶部创建的包装器，提供了广泛的不同地块，烛台只是其中之一。这些图表绝不仅限于金融数据。</p><p id="598b" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">和往常一样，第一步是导入库。</p><figure class="mx my mz na gt ix"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="f772" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">然后，我们需要设置一些设置来使用<code class="fe mo mp mq mr b">plotly</code>的离线模式，并显示笔记本中的数字:</p><figure class="mx my mz na gt ix"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="ee2e" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">我们还需要OHLC的实际数据。我们可以使用<code class="fe mo mp mq mr b">yfinance</code>轻松抓取它(更多细节<a class="ae ji" rel="noopener" target="_blank" href="/a-comprehensive-guide-to-downloading-stock-prices-in-python-2cd93ff821d4">在这里</a>)。对于这个特殊的例子，我们下载2021年苹果股票的价格。</p><figure class="mx my mz na gt ix"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="c469" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">以及收盘价的快速可视化:</p><figure class="mx my mz na gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi nd"><img src="../Images/08764d240ea62f7f3d036babed01546f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_b4gi8rDvJEmZGBhj9fAHw.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="2ba7" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">这张图并没有说明股票价格随时间变化的情况。然而，我们可以做得更好，从价格中获得更好的洞察力。这就是我们使用<code class="fe mo mp mq mr b">cufflinks</code>继续生成烛台图表的原因。</p><figure class="mx my mz na gt ix"><div class="bz fp l di"><div class="nb nc l"/></div></figure><figure class="mx my mz na gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi ne"><img src="../Images/099f34b1ef69bfc0d3f301ba952888e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lL8N8EXeD-safH0qmSc65w.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="f3f1" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">就这么简单。请记住，为了方便起见，所有的图表都是静态图像，但它们在笔记本中是完全交互式的。此外，您可以将代码写成一行程序，正如本文的副标题所承诺的那样。然而，这种形式是更可取的，你很快就会明白为什么。</p><p id="62a7" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在这一点上，我几乎可以听到你说:“当你可以在<code class="fe mo mp mq mr b">plotly</code>中创建相同的图表时，你为什么要使用包装库呢？尤其是在图书馆没有积极维护的情况下。”的确，<code class="fe mo mp mq mr b">cufflinks</code>没有被主动维护(至少通过查看对<a class="ae ji" href="https://github.com/santosjorge/cufflinks" rel="noopener ugc nofollow" target="_blank">回购</a>的最新提交)。为了证明我的观点，我将向你展示什么是<code class="fe mo mp mq mr b">cufflinks</code>的明显优势。但是首先，我将在<code class="fe mo mp mq mr b">plotly</code>中处理关于创建类似图表的部分。最简单的一个可以用下面的代码片段创建，在我看来，它没有用<code class="fe mo mp mq mr b">cufflinks</code>创建的好。</p><figure class="mx my mz na gt ix"><div class="bz fp l di"><div class="nb nc l"/></div></figure><figure class="mx my mz na gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi nf"><img src="../Images/14e6b7a98baeab9d8ac86b3cd3afbe26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3nwDsZuhe4QIBF-aEidw_w.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="8bed" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">总的来说，在<code class="fe mo mp mq mr b">plotly</code>创造剧情并不比在<code class="fe mo mp mq mr b">cufflinks</code>难多少。但现在我会给你看后者在对比中脱颖而出的原因。想象一下你想给情节添加更多信息的情况。因此，除了烛台，你还想有一定的技术指标，如简单的移动平均线。您可以通过一行额外的代码轻松地将它添加到<code class="fe mo mp mq mr b">cufflinks</code>中:</p><figure class="mx my mz na gt ix"><div class="bz fp l di"><div class="nb nc l"/></div></figure><figure class="mx my mz na gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi ng"><img src="../Images/cdc6a21656fb1f417be73913e24ab322.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tSqGgci1OojFaXDiPb2p-g.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="28e2" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">有了这一行，我们就增加了一条基于收盘价计算的14天移动平均线。我们可以很容易地进一步发展。</p><figure class="mx my mz na gt ix"><div class="bz fp l di"><div class="nb nc l"/></div></figure><figure class="mx my mz na gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi nh"><img src="../Images/75daea117b5508d65ee96fcdb345f837.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cx_XvQfxTwQAroq5U9PTdA.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="0281" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">好吧，这可能有点过了。关键是在我们的图表中添加技术指标是多么容易。通过几条额外的线，我们添加了两条移动平均线(10天和50天)，相对强弱指数(RSI)，布林线，移动平均线收敛/发散(MACD)，和成交量。更好的是，<code class="fe mo mp mq mr b">cufflinks</code>至少提供了一些更受欢迎的指标，您可以直接从<a class="ae ji" href="https://github.com/santosjorge/cufflinks/blob/master/cufflinks/quant_figure.py" rel="noopener ugc nofollow" target="_blank">代码库</a>中了解更多(不幸的是没有文档，尽管您可以从详尽的目录中了解很多)。</p><h1 id="f6e2" class="lw lx jl bd ly lz ma mb mc md me mf mg kr mh ks mi ku mj kv mk kx ml ky mm mn bi translated">外卖食品</h1><ul class=""><li id="5317" class="ni nj jl lc b ld ms lg mt lj nk ln nl lr nm lv nn no np nq bi translated"><code class="fe mo mp mq mr b">cufflinks</code>是一个基于<code class="fe mo mp mq mr b">plotly</code>的包装器库，它提供了大量开箱即用的高质量可视化。</li><li id="e9b9" class="ni nj jl lc b ld nr lg ns lj nt ln nu lr nv lv nn no np nq bi translated">其中之一是烛台图表，你可以很容易地添加各种技术指标。</li><li id="e04e" class="ni nj jl lc b ld nr lg ns lj nt ln nu lr nv lv nn no np nq bi translated"><code class="fe mo mp mq mr b">cufflinks</code>似乎没有被积极开发，所以将来会有一些兼容性问题的风险</li></ul><p id="1f71" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">您可以在我的<a class="ae ji" href="https://github.com/erykml/medium_articles/blob/master/Quantitative%20Finance/candlestick_chart.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到本文使用的代码。此外，欢迎任何建设性的反馈。你可以在<a class="ae ji" href="https://twitter.com/erykml1?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">推特</a>或评论中联系我。</p></div><div class="ab cl nw nx hz ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="io ip iq ir is"><p id="0837" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated"><em class="od">免责声明:前方加盟商链接</em></p><p id="5320" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">如果你有兴趣发展你的Python技能，并专注于定量金融，你可能想看看一个叫Quantra的平台。我写了一篇短文，展示了这个平台的一些特性，并描述了我个人的使用体验。</p></div><div class="ab cl nw nx hz ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="io ip iq ir is"><p id="0897" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">如果您喜欢这篇文章，您可能还会对以下内容感兴趣:</p><div class="iu iv gp gr iw oe"><a rel="noopener follow" target="_blank" href="/5-types-of-plots-that-will-help-you-with-time-series-analysis-b63747818705"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd jm gy z fp oj fr fs ok fu fw jk bi translated">有助于时间序列分析的5种绘图类型</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">以及如何使用Python快速创建它们！</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">towardsdatascience.com</p></div></div><div class="on l"><div class="oo l op oq or on os jc oe"/></div></div></a></div><div class="iu iv gp gr iw oe"><a rel="noopener follow" target="_blank" href="/how-to-download-the-public-companies-earnings-calendar-with-python-9241dd3d15d"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd jm gy z fp oj fr fs ok fu fw jk bi translated">如何用Python下载上市公司的收益日历</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">用几行代码了解公司的最新收益</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">towardsdatascience.com</p></div></div><div class="on l"><div class="ot l op oq or on os jc oe"/></div></div></a></div><div class="iu iv gp gr iw oe"><a rel="noopener follow" target="_blank" href="/introducing-my-book-python-for-finance-cookbook-de219ca0d612"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd jm gy z fp oj fr fs ok fu fw jk bi translated">介绍我的书:Python金融烹饪书</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">我的短篇小说从中型文章到图书合同</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">towardsdatascience.com</p></div></div><div class="on l"><div class="ou l op oq or on os jc oe"/></div></div></a></div></div></div>    
</body>
</html>