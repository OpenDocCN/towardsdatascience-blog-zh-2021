<html>
<head>
<title>Hidden Gems of Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python的隐藏宝石</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/hidden-gems-of-python-76020b14e42f?source=collection_archive---------1-----------------------#2021-04-06">https://towardsdatascience.com/hidden-gems-of-python-76020b14e42f?source=collection_archive---------1-----------------------#2021-04-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b014" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我甚至不知道Python有哪些特性</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b55591e3c00249fed8656ccd4a6c77bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EGGjZrrAvQ9400GZ"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae kv" href="https://unsplash.com/@dearseymour?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ksenia Makagonova </a>拍摄的照片</p></figure><p id="ec8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些天我有了一个新的消遣——阅读Python文档只是为了好玩！当你在闲暇时阅读一些东西，你会注意到一些有趣的花絮，否则你会错过的。所以，这是让我“哦！你可以用Python来做吗？”</p><h1 id="d03f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.功能属性</h1><p id="0bc1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">类似于设置类和对象的属性，也可以设置函数的属性。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="6a58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在第10行设置了属性‘optional _ return ’,在第11行设置了属性‘is _ awesome’。在后面的第19 &amp; 20行中，我们已经在函数之外访问了这些属性。代码的输出将是:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="c92d" class="mw lt iq ms b gy mx my l mz na">Final answer is 2197<br/>Show calculations --&gt; 13<br/>Is my function awesome? --&gt; Yes, my function is awesome.</span></pre><p id="e271" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您希望选择检索某个中间变量，而不是在每次调用函数时用return语句显式返回它时，这就很方便了。还要注意，属性可以从函数定义内部或从函数定义外部设置。</p><h1 id="f83b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.For-else循环</h1><p id="44d2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在Python中，可以为循环的<em class="nb">添加一个<em class="nb"> else </em>子句。只有在执行过程中在循环体中没有遇到<em class="nb"> break </em>语句，才会触发<em class="nb"> else </em>子句。</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="26e6" class="mw lt iq ms b gy mx my l mz na">All elements at least 3 letters long</span></pre><p id="9c67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意<em class="nb"> else </em>对于缩进在<em class="nb">的层次上，而对于</em>不在<em class="nb">的层次上。这里，没有元素的长度短于3。所以，永远不会遇到<em class="nb"> break </em>语句。因此，<em class="nb"> else </em>子句将被触发(在</em>循环的<em class="nb">被执行后)并打印如上所示的输出。</em></p><p id="4b90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有人可能会说，这可以通过使用一个单独的变量来实现，该变量跟踪是否遇到了<em class="nb"> break </em>语句。也许它也能减少下一个阅读代码的人的困惑。以下是实现相同结果的等效方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="69b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不过，我想知道还是好的。</p><h1 id="1d7d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">3.“int”的分隔符</h1><p id="b704" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">很难在视觉上区分10000000和10000000这样的整数(它们甚至是不同的数字吗？).我们不能像在英语中一样在Python中使用逗号，因为Python会将其解释为多个整数的元组。</p><p id="fb6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Python有一个非常方便的处理方法:我们可以使用下划线来提高可读性。因此，1_000_000将被解释为单个<em class="nb"> int </em>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="e1aa" class="mw lt iq ms b gy mx my l mz na">&lt;class 'int'&gt;<br/>&lt;class 'int'&gt;<br/>True</span></pre><h1 id="21e5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">4.eval()和exec()</h1><p id="563a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">Python能够动态读取一个字符串，并像处理一段Python代码一样处理它。这是通过使用<em class="nb"> eval </em>()和<em class="nb"> exec </em>()函数实现的(‘eval’用于评估<em class="nb">表达式</em>，‘exec’用于执行<em class="nb">语句</em>)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="8c3f" class="mw lt iq ms b gy mx my l mz na">b = 5<br/>c is 9</span></pre><p id="1bdf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在第3行，<em class="nb"> eval </em>()函数将输入字符串作为Python表达式读取，对其求值，并将结果赋给变量‘b’。在第6行，<em class="nb"> exec </em>()函数将输入字符串作为Python语句读取并执行。</p><p id="2079" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您甚至可以将动态创建的字符串传递给这些函数。例如，您可以创建1000个名为x_0，x_1，…，x_999的变量，而不必在代码中手动编写每个变量声明。这可能看起来像是一个完全没有意义的特性，但事实并非如此。</p><blockquote class="nc nd ne"><p id="aded" class="kw kx nb ky b kz la jr lb lc ld ju le nf lg lh li ng lk ll lm nh lo lp lq lr ij bi translated">在更广泛的编程环境中，不仅仅是Python，eval/exec的使用非常强大，因为它允许您编写动态代码，使用运行时可用的信息来解决甚至无法在编译时表达的问题。[……]exec实际上是嵌入在Python中的Python解释器，因此如果您有一个特别难解决的问题，您可以解决它的方法之一是编写一个程序来*编写一个程序来解决它*，然后使用exec运行第二个程序。</p></blockquote><p id="1c1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以阅读更多史蒂文·达普拉诺的美丽解释。</p><h1 id="b6d5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">5.省略</h1><p id="07db" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><em class="nb">省略号</em>或“…”是Python的内置常量，类似于<em class="nb">无</em>、<em class="nb">真</em>、<em class="nb">假</em>等内置常量。它可以以不同的方式使用，包括但不限于:</p><h2 id="378e" class="mw lt iq bd lu ni nj dn ly nk nl dp mc lf nm nn me lj no np mg ln nq nr mi ns bi translated">5.1未成文代码的占位符</h2><p id="a218" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">与<em class="nb"> pass类似，</em>省略号可以在代码没有写完整时用作占位符，但需要一些占位符来保证语法准确性</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><h2 id="826c" class="mw lt iq bd lu ni nj dn ly nk nl dp mc lf nm nn me lj no np mg ln nq nr mi ns bi translated">5.2替代'<em class="nt">无'</em></h2><p id="b4b9" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当想要表示一个空的输入或返回时，通常选择None。但有时<em class="nb"> None </em>可以是函数的预期输入或返回之一。在这种情况下，省略号可以作为占位符。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="1db7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">给定n，函数<em class="nb"> nth_odd() </em>计算第n个奇数。给定第n个奇数，函数<em class="nb"> original_num </em>()计算原始数n。这里，<em class="nb"> None </em>是函数<em class="nb"> original_num </em>()的预期输入之一，因此我们不能将其用作参数<em class="nb"> m的默认占位符。</em>代码的输出将是:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="7031" class="mw lt iq ms b gy mx my l mz na">This function needs some input<br/>Non integer input provided to nth_odd() function<br/>9 is 5th odd number<br/>16 is not an odd number</span></pre><h2 id="c439" class="mw lt iq bd lu ni nj dn ly nk nl dp mc lf nm nn me lj no np mg ln nq nr mi ns bi translated">5.3 NumPy中的数组切片</h2><p id="13d3" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">NumPy使用<em class="nb">省略号</em>对数组进行切片。下面的代码显示了分割NumPy数组的两种等效方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="b0f1" class="mw lt iq ms b gy mx my l mz na">[ 0  2  4  6  8 10 12 14]<br/>[ 0  2  4  6  8 10 12 14]</span></pre><p id="7f4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，'…'表示需要多少':'就有多少。</p><h2 id="b742" class="mw lt iq bd lu ni nj dn ly nk nl dp mc lf nm nn me lj no np mg ln nq nr mi ns bi translated">省略的布尔值</h2><p id="db87" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">与<em class="nb">无(</em>的布尔值为<em class="nb">假)相反，</em>的<em class="nb">省略号</em>的布尔值被视为<em class="nb">真。</em></p><h1 id="f415" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="d764" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">总之，到目前为止我发现的有趣的特性是:</p><ol class=""><li id="e7c9" class="nu nv iq ky b kz la lc ld lf nw lj nx ln ny lr nz oa ob oc bi translated">函数属性:像对象一样给函数分配属性</li><li id="cda8" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">For-else循环:跟踪循环是否在没有<em class="nb"> break </em>语句的情况下执行</li><li id="6a17" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated"><em class="nb"> int </em>的分隔符:32_534_478是一个<em class="nb"> int </em></li><li id="09ef" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated"><em class="nb"> eval </em>()和<em class="nb"> exec </em>():将字符串作为Python代码读取并运行</li><li id="aa95" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated"><em class="nb">省略号</em>:通用内置常量。</li></ol><h1 id="c701" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">离别赠言</h1><p id="17e6" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">Python不仅是一种有用的语言，而且是一种非常有趣的语言。我们在生活中都很忙，但是为了更好地了解这门语言并没有坏处。我很想知道一些你可能发现的复活节彩蛋。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/15ac4010e2fc9a728dabd32dae438f78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*_NAKVRrH5z7t8W0yruZJZQ.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片由<a class="ae kv" href="https://www.reddit.com/user/ANewMuleSkinner/" rel="noopener ugc nofollow" target="_blank"> u/ANewMuleSkinner </a>发布在<a class="ae kv" href="https://www.reddit.com/r/seinfeld/comments/2g94iv/are_you_reading_my_vcr_manual/" rel="noopener ugc nofollow" target="_blank"> reddit </a>上</p></figure><h1 id="9653" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">资源</h1><p id="5b47" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">您可以在下面的Python文档页面上阅读更多关于我上面提到的内容:</p><p id="db25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[1] <a class="ae kv" href="https://docs.python.org/3/reference/datamodel.html#:~:text=Special%20read%2Donly%20attributes%3A%20__,in%20or%20None%20if%20unavailable." rel="noopener ugc nofollow" target="_blank">功能属性</a></p><p id="1eae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://docs.python.org/3/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops" rel="noopener ugc nofollow" target="_blank"> For-else </a></p><p id="606b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[3] <a class="ae kv" href="https://docs.python.org/3/library/functions.html#eval" rel="noopener ugc nofollow" target="_blank">评估/执行</a></p><p id="a682" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://docs.python.org/3/library/constants.html#Ellipsis" rel="noopener ugc nofollow" target="_blank">省略号</a></p></div></div>    
</body>
</html>