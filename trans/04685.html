<html>
<head>
<title>Google Colab: How to Upload Large Image Datasets from Github, Kaggle and Local Machine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google Colab:如何从Github、Kaggle和本地机器上传大型图像数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-informative-colab-guide-to-load-image-datasets-from-github-kaggle-and-local-machine-75cae89ffa1e?source=collection_archive---------2-----------------------#2021-04-23">https://towardsdatascience.com/an-informative-colab-guide-to-load-image-datasets-from-github-kaggle-and-local-machine-75cae89ffa1e?source=collection_archive---------2-----------------------#2021-04-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6ed4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在Google Colab Jupyter笔记本上访问大型数据集，用于训练深度学习模型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/10b12ee67c18575dabf578d3be2342ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qiCEjOLKPsDRSsHP"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">约书亚·索蒂诺在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="6dea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">∘ <a class="ae ky" href="#5155" rel="noopener ugc nofollow">了解Colab的文件系统</a> <br/> ∘ <a class="ae ky" href="#3777" rel="noopener ugc nofollow"> 1。从Github </a> <br/> ∘ <a class="ae ky" href="#1e32" rel="noopener ugc nofollow"> 2这样的网站上传数据。从你的本地机器上传数据到Google Drive，然后到Colab </a> <br/> ∘ <a class="ae ky" href="#13c0" rel="noopener ugc nofollow"> 3。从卡格尔</a>∘<br/>上传数据集<a class="ae ky" href="#4748" rel="noopener ugc nofollow">结论</a></p><p id="6756" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Google Colab是来自Google的免费Jupyter笔记本环境，其运行时托管在云上的虚拟机上。</p><p id="934b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了Colab，你不必担心你的计算机的内存或软件包安装。你可以获得免费的GPU和TPU运行时，笔记本电脑预装了机器和深度学习模块，如Scikit-learn和Tensorflow。也就是说，所有项目都需要数据集，如果你不是使用Tensorflow内置数据集或Colab样本数据集的<em class="lv">T21，你将需要遵循一些简单的步骤来访问这些数据。</em></p><h2 id="5155" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated"><strong class="ak">了解Colab的文件系统</strong></h2><p id="680b" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">您创建的Colab笔记本保存在您的<a class="ae ky" href="https://drive.google.com/drive/u/0/my-drive" rel="noopener ugc nofollow" target="_blank"> Google drive </a>文件夹中。然而，在运行时(当笔记本电脑处于活动状态时)，它会根据您的喜好，从云中分配一个基于Linux的文件系统<a class="ae ky" href="https://www.tutorialspoint.com/unix/unix-file-system.htm" rel="noopener ugc nofollow" target="_blank">或CPU、GPU或TPU处理器</a>。点击笔记本左侧的文件夹(矩形)图标，可以查看笔记本的<a class="ae ky" href="https://linuxize.com/post/current-working-directory/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">当前工作目录</strong> </a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/b1b13b254154084bb91478400d96b37e.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*geiDQAbp7xE_YVbIAiO6zA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者分类的Colab当前工作目录</p></figure><p id="a718" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Colab提供了一个包含数据集的<code class="fe mv mw mx my b">sample-data</code>文件夹，您可以随意使用，或者使用上传图标(在“搜索”图标旁边)上传您的数据集。请注意，一旦运行时断开连接，您将失去对虚拟文件系统的访问，并且所有上传的数据都将被删除。但是，笔记本文件保存在Google drive上。</p><p id="f022" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mv mw mx my b">sample_data</code>文件夹上面有两个点的文件夹图标显示了Colab的<a class="ae ky" href="https://www.tutorialspoint.com/unix/unix-file-system.htm" rel="noopener ugc nofollow" target="_blank">文件系统</a>中的其他核心目录，比如<code class="fe mv mw mx my b">/root, /home, and /tmp</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/244697144454b98964a3b2137d1fb1b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*riXWMZg8s7b_0lTZKzRYIg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者在Colab上的文件系统</p></figure><p id="252a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在“文件”面板的左下角查看您分配的磁盘空间。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/08ed0578f986d8b86e00405be5fd4061.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*a_fP-XGm1C1HVXSlFcl_Mg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者的Colab的磁盘存储</p></figure><p id="3e1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我们将探索从三种介质上传图像数据集到Colab文件系统的方法，以便笔记本可以访问它们进行建模。我选择将上传的文件保存在<code class="fe mv mw mx my b">/tmp</code>中，但是你也可以保存在当前工作目录中。Kaggle的狗与猫数据集将用于演示。</p><h2 id="3777" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">1.从Github等网站上传数据</h2><p id="eeff" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">要将数据从网站直接下载到Google Colab，你需要一个直接指向zip文件夹的URL(网页地址链接)。</p><ul class=""><li id="cb2f" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated"><strong class="lb iu">从Github下载</strong></li></ul><p id="4869" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Github 是一个平台，开发者可以在这里托管他们的代码，并在项目上合作。项目存储在<a class="ae ky" href="https://en.wikipedia.org/wiki/Repository_(version_control)" rel="noopener ugc nofollow" target="_blank">存储库</a>中，默认情况下，存储库是公共的，这意味着任何人都可以查看或下载内容到他们的本地机器上并开始使用它。</p><p id="d4f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一步是搜索包含数据集的存储库。<a class="ae ky" href="https://github.com/laxmimerit/dog-cat-full-dataset" rel="noopener ugc nofollow" target="_blank">这里的</a>是由<a class="ae ky" href="https://github.com/laxmimerit/dog-cat-full-dataset/commits?author=laxmimerit" rel="noopener ugc nofollow" target="_blank"> laxmimerit </a>制作的Github repo，其中包含了猫与狗各自文件夹中的25，000张训练和测试图像。</p><p id="1b11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">要使用此流程，您必须拥有一个免费的Github帐户并已登录。</em></p><p id="909d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">导航到包含数据集的Github repo 。在回购的<strong class="lb iu"> <em class="lv">主页</em> </strong>上，找到绿色的“代码”按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/b4da3d634f59f6f7da76d32a1a8f9239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C6j23-qWXAIhg_5dgbzj8g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="c234" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击“代码”按钮右侧的<em class="lv">箭头</em>。这将显示一个下拉列表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/3415e04987bbcd7f0d814a0da7662683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*84C59LPxoCdV6vq8kwPp8Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">右键单击“下载Zip”</p></figure><p id="fb64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">右键单击“下载zip”上的</em>，并单击“复制链接位置”。注意:这将下载回购中的所有文件，但我们将在Google Colab上提取内容时筛选出不需要的文件。</p><p id="28c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">导航到Google Colab，打开一个新的笔记本，输入并运行下面两行代码，导入我们需要的内置python库。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="faf3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码是我们粘贴链接的地方(第二行)。整个代码块下载文件，解压文件，并将内容提取到<code class="fe mv mw mx my b">/tmp</code>文件夹中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="c8c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"/><a class="ae ky" href="https://www.computerhope.com/unix/wget.htm" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">wget</strong></a><strong class="lb iu">Unix命令</strong> : <code class="fe mv mw mx my b">wget &lt;link&gt;</code>下载网页内容并保存到<a class="ae ky" href="https://linuxize.com/post/current-working-directory/" rel="noopener ugc nofollow" target="_blank"> <em class="lv">当前工作目录</em> </a> <em class="lv"> </em>(注意<em class="lv"> </em> <code class="fe mv mw mx my b">!</code>因为这是一个由系统命令行执行的shell命令。另外，链接必须以<code class="fe mv mw mx my b">.zip</code>结尾。<em class="lv"> </em>在上面的代码中，我们提供了(可选)一个下载目录(<code class="fe mv mw mx my b">/tmp</code>)，以及下载的zip文件的期望名称(<code class="fe mv mw mx my b">cats-and-dogs.zip</code>)。我们使用<code class="fe mv mw mx my b">— -no-check-certificate </code>来忽略SSL证书过期的网站上可能出现的SSL证书错误。</p><p id="3411" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们的zip内容已经提取到了<code class="fe mv mw mx my b">/tmp</code>文件夹中，我们需要数据集相对于我们正在处理的Jupyter笔记本的路径。如下图所示，单击文件夹图标(箭头1)，然后单击文件系统(2)以显示虚拟系统的所有文件夹。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/7f68063c9c588fff805f97db8fc95cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*295Hsvo4sFH_BLrCcOpa6w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3598" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">向下滚动并找到所有图像文件夹所在的<code class="fe mv mw mx my b">/tmp</code>文件夹。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/c712d4fc7076ea520515c002ff266b7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*qEzMRp5UuFI02yBhYgaNig.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="08bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用<code class="fe mv mw mx my b">os.listdir(path)</code>返回文件夹内容的一个<em class="lv"> python列表</em>，您可以将它保存在一个变量中用于建模。下面的代码显示了train和test文件夹中猫和狗的图像数量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><ul class=""><li id="acbb" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated"><strong class="lb iu">从其他网站上传数据</strong></li></ul><p id="6012" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他网站，比如广受欢迎的<a class="ae ky" href="https://archive.ics.uci.edu/ml/index.php" rel="noopener ugc nofollow" target="_blank"> UCI知识库</a>，对于<a class="ae ky" href="https://colab.research.google.com/github/diegoarriola1/Complete-Python-3-Bootcamp/blob/master/Copy_of_LS_DS_111_Exploratory_Data_Analysis_Assignment.ipynb" rel="noopener ugc nofollow" target="_blank">加载用于机器学习的数据集</a>也很方便。一个简单的谷歌搜索把我带到了微软的这个网页，在那里你可以找到狗和猫数据集的下载链接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/0fa03a3322710dfbe38c4d51640035ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZnhbxBy2eUPZhDUkI4NpGg.png"/></div></div></figure><p id="608b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您点击“下载”按钮时，“取消”询问是“打开”还是“保存”文件的弹出消息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/fb3a2e24de77cd08638ec88a4e26ff28.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*osl45G4AK2NVyKeYVDzZoQ.png"/></div></figure><p id="440d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">网页现在显示一个链接，“点击这里手动下载”。<em class="lv">右键点击</em>，然后点击“复制链接位置”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/83bca1d433d41029961195c70f1757fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*gz3hYjSRPB8tzmxMNWcjfg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="016d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开一个新的Google Colab笔记本，按照上面Github链接描述的相同步骤操作。</p><h2 id="1e32" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">2.从你的本地机器上传数据到Google Drive，然后到Colab</h2><p id="655e" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">如果数据集保存在您的本地机器上，Google Colab(运行在云上的一个单独的虚拟机上)将无法直接访问它。因此，我们需要首先将它上传到<a class="ae ky" href="https://drive.google.com/drive/u/0/my-drive" rel="noopener ugc nofollow" target="_blank"> Google Drive，</a>然后在构建模型时将其加载到Colab的运行时。</p><p id="fa76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong>如果数据集很小(比如一个<code class="fe mv mw mx my b">.csv</code>文件)，你可以在运行时直接从本地机器上传到Colab的文件系统。然而，我们的<a class="ae ky" href="https://www.kaggle.com/c/dogs-vs-cats/data?select=train.zip" rel="noopener ugc nofollow" target="_blank">图像数据集</a>很大(543 Mb)，我花了14分钟将zip文件上传到Google Drive。在驱动器上，我现在可以打开一个Colab笔记本并将其加载到运行时，这将花费大约一分钟的时间(在下面的代码中演示)。但是，如果您要将它直接上传到Colab的文件系统，假设上传需要14分钟，一旦运行时断开连接，您必须再次上传相同的时间。</p><p id="2ed6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在将数据集上传到Google Drive之前，建议它是一个单独的<strong class="lb iu"> zip </strong>文件(或类似的归档文件),因为驱动器必须为每个文件分配单独的id和属性，这可能需要很长时间。</p><p id="925f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦数据集保存在你的本地机器上(我从这里的<a class="ae ky" href="https://www.kaggle.com/c/dogs-vs-cats/data?select=train.zip" rel="noopener ugc nofollow" target="_blank">下载到Kaggle上的</a>，打开你的<a class="ae ky" href="https://drive.google.com/drive/u/0/my-drive" rel="noopener ugc nofollow" target="_blank"> Google Drive </a>，点击左上角的“新建”按钮。从下拉列表中，点击“文件上传”，然后<em class="lv">浏览</em>到您系统上的zip文件，然后“打开”它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/a49f11a6faf700c441790b547c922d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*KN--4mn_LVOTgjJOBeBBWQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由作者将文件上传到驱动器</p></figure><p id="27a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">右下角将出现一个进度条，指示上传过程完成。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/5a2b4f0856d761e0789cf80d7ad0da19.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*bFTV_dbq8bqyiKPkK78ZJg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者的Google Drive“上传完成”</p></figure><p id="4616" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在打开一个新的Colab笔记本。第一个代码块<a class="ae ky" href="https://en.wikipedia.org/wiki/Mount_(computing)" rel="noopener ugc nofollow" target="_blank">挂载</a>Google Drive，这样Colab的文件系统就可以访问它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="bc6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Colab将提供一个链接，授权其访问您的Google帐户的驱动器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/a0a2ef7343eb7184d5c136b88c9e962a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-2PAJ-4uy62-gyDP3oa8vg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者将Google Drive安装到Colab</p></figure><p id="4425" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击此链接(上面的箭头1)，选择您的电子邮件地址，然后在底部点击“允许”。接下来，从弹出窗口中复制代码并粘贴到Colab的文本框中(箭头2)，最后将显示这条消息:<code class="fe mv mw mx my b">Mounted at /content/drive</code>。</p><p id="3309" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当我们查看屏幕左侧的文件时，我们会看到已安装的驱动器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/eaf11d57b6bbcfc3a6dd455d9bdabb25.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*ajgZOH-_coaYYMdbf-oIiA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者安装Google Drive文件夹</p></figure><p id="6151" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是将数据集读入Colab的文件系统。我们将解压文件夹，并使用下面的代码将其内容提取到<code class="fe mv mw mx my b">/tmp </code>文件夹中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="8902" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你可以从文件系统中查看到Colab的<code class="fe mv mw mx my b">/tmp/train</code>文件夹的路径。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/7c4d249276c22b61dba96c52148d72b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*5iQVcYKcprm_QcO4NJzv7w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者的Colab文件系统</p></figure><p id="5fc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe mv mw mx my b">os.listdir(path)</code>方法返回数据文件夹中的内容列表。下面的代码返回了<code class="fe mv mw mx my b">train</code>文件夹的大小(图片的数量)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><h2 id="13c0" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">3.从Kaggle上传数据集</h2><p id="9bcb" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated"><a class="ae ky" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>是一个数据科学家和机器学习从业者互动、<a class="ae ky" href="https://www.kaggle.com/learn" rel="noopener ugc nofollow" target="_blank">学习</a>、<a class="ae ky" href="https://www.kaggle.com/competitions" rel="noopener ugc nofollow" target="_blank">竞争</a>和分享代码的网站。它提供了一个公共数据平台，拥有数以千计的公共数据集，这些数据集要么来自过去或正在进行的<a class="ae ky" href="https://www.kaggle.com/competitions" rel="noopener ugc nofollow" target="_blank"> Kaggle比赛</a>，要么由希望分享其数据集的社区成员上传。</p><p id="bdde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2013年，Kaggle上的一场机器学习比赛中使用了<a class="ae ky" href="https://www.kaggle.com/c/dogs-vs-cats" rel="noopener ugc nofollow" target="_blank">猫vs狗</a>数据集。我们将把这个数据集直接从Kaggle下载到Colab的文件系统中。以下步骤非常重要，因为从Kaggle下载数据集需要身份验证和权限。</p><p id="a992" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">第一步:从Kaggle </em> </strong>下载配置文件</p><p id="668f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kaggle提供了一种<a class="ae ky" href="https://www.kaggle.com/docs/api" rel="noopener ugc nofollow" target="_blank">与其API </a>交互的方式。您需要一个免费的Kaggle帐户并登录。</p><p id="9c15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击你主页右上角的头像。从下拉菜单中选择“帐户”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/d1b779dce240418ef6a70f705bad04d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*R_G8FiLhGCKvFsbDCPYK3Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="323c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在“帐户”页面上，向下滚动到“API”部分，然后单击“创建新的API令牌”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/2172122ac1df0c28c220ae0158cf8f8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wkb_CqGjxOlvr7rxzAFbgQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d39c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">系统会提示您下载一个文件kaggle.json。选择将它保存到您的本地机器上。这是包含您的凭据的配置文件，您将使用它直接从Colab访问Kaggle数据集。</p><p id="debd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong>您在此文件<em class="lv">上的凭证将在几天后</em>过期，当您试图下载数据集时，将在Colab笔记本中得到一个<code class="fe mv mw mx my b">401: Unauthorised</code>错误。<em class="lv">删除</em>旧的kaggle.json文件，回到这一步。</p><p id="12b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">第二步:上传配置文件到Colab笔记本</em> </strong></p><p id="d1b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在有了一个新的kaggle.json文件，你可以把它留在你的本地机器上(下面的<em class="lv">步骤二a </em>，或者保存(上传)到Google Drive上(后面的<em class="lv">步骤二b </em>)。</p><p id="87ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">步骤二(a) </em> </strong>:如果文件还在你的本地机器上，你可以使用上传图标，或者使用Colab的<code class="fe mv mw mx my b">files.upload()</code>将它上传到Colab的<a class="ae ky" href="https://linuxize.com/post/current-working-directory/" rel="noopener ugc nofollow" target="_blank">当前工作目录</a>。如果您的项目使用同一台计算机，此选项会更简单。如果使用代码(不是上传图标)，在新笔记本中运行下面的代码，<em class="lv">浏览</em>到下载的kaggle.json文件，然后<em class="lv">‘打开’</em>它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/354b823442e3d740a19905d8ca10696c.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*s7WTeiX9NWYBc-Q5j_9N_g.png"/></div></figure><p id="f814" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该文件将出现在您的工作目录中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/69021a290014e3d750eedcd3f5e7d16c.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*Uvz1Zha11yhbYcEQwGqacg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者上传的文件</p></figure><p id="9f7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">第二步(b) </em> </strong>:第二个选项是将kaggle.json文件保存(上传)到Google Drive。打开一个新的Colab笔记本，按照简单的步骤将硬盘安装到Colab的虚拟系统中(如下所示)。有了这个选项，你可以从另一台机器上运行笔记本，因为Google Drive和Colab都托管在云上。</p><p id="7251" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Google Drive上，<em class="lv">创建</em>一个新文件夹，命名为Kaggle。<em class="lv">双击打开</em>该文件夹，并<em class="lv">上传</em>ka ggle . JSON文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/e06df2d87ccde58899ae0c601d8347dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pl5hKmhkr1Urux07vBXPxQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由作者将kaggle.json文件上传到驱动器</p></figure><p id="e79e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，打开一个Colab笔记本，运行下面的代码，将驱动器挂载到Colab的文件系统中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="9f62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦成功，运行下面的代码将kaggle.json从驱动器复制到我们当前的工作目录，这个目录是<code class="fe mv mw mx my b">/content </code> ( <code class="fe mv mw mx my b">!pwd </code>返回当前目录)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="e6d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">刷新文件部分，在当前目录中找到kaggle.json。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/fab2fda6d704d78a55ee47caff9e3f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*78OgvtjtIkNfSXZFg2d2BA.png"/></div></figure><p id="1760" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">第三步:将操作系统环境指向配置文件的位置</em> </strong></p><p id="4bcd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们将使用<code class="fe mv mw mx my b">os.environ</code>方法来显示包含认证细节的kaggle.json文件的位置。记得导入为此所需的文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="d71e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">第四步:从Kaggle </em> </strong>中复制数据集的API命令</p><p id="c912" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kaggle上的每个数据集都有一个相应的API命令，您可以在命令行上运行该命令来下载它。<strong class="lb iu">注意:</strong>如果数据集是为一个竞赛准备的，请转到该竞赛的页面并‘阅读并接受规则’，这样您就可以提交数据了；否则你会在Colab上得到一个<code class="fe mv mw mx my b">403-forbidden</code>错误。</p><p id="46b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我们的狗对猫数据集，打开<a class="ae ky" href="https://www.kaggle.com/c/dogs-vs-cats/data" rel="noopener ugc nofollow" target="_blank">比赛页面</a>并点击“数据”选项卡。向下滚动并找到API命令(下面以黑色突出显示)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/82e108cc874daab42e034d8d316296f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y-NyxYbQJjVwNXeU9V-LFw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由作者复制竞赛API命令</p></figure><p id="1094" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于其他数据集(非竞赛)，单击“新建笔记本”按钮旁边的3个点，然后单击“复制API命令”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/554c4f9a5a26b1b9cf2d90e3f4981a0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jvd-zCdaLjhlwl2KO9R2wA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者复制其他数据集API</p></figure><p id="f4ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">步骤5:在Colab上运行这个API命令来下载数据</em> </strong></p><p id="8b74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回到我们的Colab笔记本，将这个API命令粘贴到一个新的块中。记得包括<code class="fe mv mw mx my b">!</code>符号，它告诉python这是一个命令行脚本。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="c648" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果一切正常，将会显示下载确认。我得到了下面的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/a7d4c52d6e778399eb9f9172c639162b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-6ZoiTI2ocCgQgqEPjxhcw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者下载确认</p></figure><p id="2fbb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，从左侧的文件窗格中，您可以看到所有已下载的文件夹。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/c4d3c5b982e01c61d66874663360fe71.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*3GgIez9XAUSDd1sVq362lA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者下载的文件</p></figure><p id="dc12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">第六步:提取文件</em> </strong></p><p id="7624" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以提取train.zip文件中的文件并保存到<code class="fe mv mw mx my b">/tmp</code>(或者当前目录<code class="fe mv mw mx my b">/content</code>)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="2bff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行下面的代码以返回解压缩文件夹中的文件数量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><h2 id="4748" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">结论</h2><p id="bf8b" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">在本教程中，我们探讨了如何将图像数据集从Github和Kaggle等网站以及您的本地机器上传到Google Colab的文件系统中。现在你已经将数据存储起来，你可以训练一个深度学习模型，比如CNN，并尝试正确地对新图像进行分类。对于更大的图像数据集，<a class="ae ky" rel="noopener" target="_blank" href="/importing-data-to-google-colab-the-clean-way-5ceef9e9e3c8">这篇</a>文章给出了替代方案。</p><p id="536f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你喜欢这篇文章。每当我发表新的文章时，想要收到更多这样的文章，请在这里订阅<a class="ae ky" href="https://suemnjeri.medium.com/subscribe/@suemnjeri" rel="noopener"/>。如果你还不是一个媒体成员，并且愿意支持我作为一个作家，跟随<a class="ae ky" href="https://medium.com/@suemnjeri/membership" rel="noopener">这个链接</a>，我将赚取一小笔佣金。感谢您的阅读！</p></div></div>    
</body>
</html>