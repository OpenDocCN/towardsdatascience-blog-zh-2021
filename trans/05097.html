<html>
<head>
<title>Get Greater Confidence in Your Confidence Intervals</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在您的置信区间中获得更大的信心</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/get-greater-confidence-in-your-confidence-intervals-86b408b2f13f?source=collection_archive---------48-----------------------#2021-05-04">https://towardsdatascience.com/get-greater-confidence-in-your-confidence-intervals-86b408b2f13f?source=collection_archive---------48-----------------------#2021-05-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ff02" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">什么是引导复制以及如何使用它？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/cfb56ce8c9e68bc1c89b62d520fa9d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*Q-q61j8jsWDn2l7zG1dX7g.jpeg"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">彼得·H论Pixabay.com</p></figure><h1 id="e7bb" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">什么是引导复制？</h1><p id="fb3a" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">对于这里的读者来说，bootstrap采样指的是对给定数据集进行“替换”采样的过程……这是大多数人容易迷失的地方。你取许多样本，建立一个分布来标记你的置信区间。</p><p id="b915" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">让我们举一个简单的例子。</p><h1 id="f3ae" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">大学时代的密码</h1><p id="47f5" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">比方说，你想了解大学里的普通人对加密货币的看法；嗯，你可能无法收集到学校里每个人的回应；可能会发生的是，你会分发一些调查，然后你会得到一些回复，你希望这些回复能代表大众的意见，好的或坏的。</p><p id="71f1" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">虽然您对回答者的分布有一个清晰的概念，但您希望生成一个更能代表整个学校的实际置信区间。这就是boostrap复制的用武之地！</p><h1 id="8b89" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">补替抽样法</h1><p id="dad2" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">到目前为止，我们知道自举复制是一种抽样方法。这里的主要思想是，当一个样本被选择时，它可以被反复选择。这用于重新创建可能实际上是由于随机机会的应答类型的随机重现。</p><p id="77b2" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">每个引导样本被称为一个复制。在这种情况下，我们假设复制1000次。</p><p id="009a" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">一旦我们有了1000个重复或样本，我们现在就有了1000个样本平均值。</p><p id="4056" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">从这个分布中，我们可以得到实际的置信区间。</p><p id="ef9f" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">假设我们想要95%的置信区间；我们将通过查看我们的bootstrap分布，并将2.5的值和97.5的值作为我们的区间来得到这个结果。</p><h1 id="4670" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">我们来看一些代码！</h1><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="e344" class="ms kv it mo b gy mt mu l mv mw">library(infer) <br/>replicates &lt;- crypto_opinions %&gt;% <br/>    specify(response = opinion, success = "positive") %&gt;% <br/>    generate(reps = 1, type = "bootstrap")</span><span id="9c79" class="ms kv it mo b gy mx mu l mv mw">replicates %&gt;% <br/>    summarize(prop_high = mean(response == 'positive')) %&gt;% <br/>    pull()</span></pre><p id="0855" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我们使用<code class="fe my mz na mo b">specify</code>来隔离我们关心的响应变量以及变量值决定‘成功’的因素。从那里，我们使用<code class="fe my mz na mo b">generate</code>来创建我们的第一个引导复制。您还会注意到我们将<code class="fe my mz na mo b">type</code>指定为<code class="fe my mz na mo b">bootstrap</code>。然后，我们使用汇总和拉取来生成指定级别“正”的比例。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="8f1b" class="ms kv it mo b gy mt mu l mv mw">replicates &lt;- crypto_opinions %&gt;% <br/>    specify(response = opinion, success = "positive") %&gt;%        generate(reps = 1000, type = "bootstrap")%&gt;% calculate(stat = "prop")</span></pre><p id="3157" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">类似于前面的代码块，我们已经将重复次数扩展到了1000次，现在正在链接<code class="fe my mz na mo b">calculate</code>函数。<code class="fe my mz na mo b">calculate</code>函数为对应于该复制的每个复制“stat”创建一个带有一个记录的数据帧。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="6634" class="ms kv it mo b gy mt mu l mv mw">ggplot(replicates, aes(stat)) +<br/>   geom_density()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi nb"><img src="../Images/0eb0896cbdf0d525ad465b48d58877be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M6FIL85RVFCsL-5_"/></div></div></figure><p id="5be7" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">上图显示了每次重复的平均结果的密度图或分布。</p><p id="18d3" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">从这里开始，它只是一个简单的计算问题，标准偏差，并使用它来确定你的范围的顶部和底部！</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="e8b2" class="ms kv it mo b gy mt mu l mv mw">Lower_bound &lt;- mean(replicates$stat) - sd(replicates$stat) * 2 upper_bound &lt;- mean(replicates$stat) + sd(replicates$stat) * 2</span></pre><h1 id="85c2" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">结论</h1><p id="fda8" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">我希望你喜欢这篇文章，它能为你节省一些时间！请分享什么有用，什么没用！</p><p id="1af0" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">请随意查看我在datasciencelessons.com的其他帖子</p><p id="dbc0" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">祝数据科学快乐！</p></div></div>    
</body>
</html>