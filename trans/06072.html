<html>
<head>
<title>Elegant Web Development With Emmett In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python语言用Emmett进行优雅的Web开发</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/elegant-web-development-with-emmett-in-python-612ed898a71e?source=collection_archive---------24-----------------------#2021-05-31">https://towardsdatascience.com/elegant-web-development-with-emmett-in-python-612ed898a71e?source=collection_archive---------24-----------------------#2021-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b69d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">概述如何使用Emmett Web框架，并使用它在Python中创建Web应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/69d25afaaa40e8688b14f8369b74cacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pof5bjAhW7ta9SEZZhAdng.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(src =<a class="ae ky" href="https://pixabay.com/images/id-1209008/" rel="noopener ugc nofollow" target="_blank">https://pixabay.com/images/id-1209008/</a></p></figure><p id="f8d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python web开发是Python编程的一部分，多年来一直由Flask和Django等流行选项主导。那些解决方案当然很棒，我自己也用过很多。也就是说，我认为任何软件都有缺点，因为必须采取某些方向，并且有些软件在某些方面比其他方面更好。在寻找我写的一篇关于机器学习验证的文章时，我偶然发现了埃米特项目。</p><p id="bd22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谁会想到我会有一个以自己名字命名的Python web-framework呢？当然，这只是一个笑话，这个框架实际上是以《回到未来》中的埃米特·布朗博士命名的。框架的标志是他戴着标志性护目镜的脸。事实上，我是那部电影的粉丝，但不是第二部(那是什么？)鉴于这个名字，这个包激发了我的好奇心，我决定尝试一下。如果你想更深入地了解这个包，你可以在Github上查看:</p><div class="lv lw gp gr lx ly"><a href="https://github.com/emmett-framework/emmett" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">埃米特-框架/埃米特</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">Emmett是一个全栈Python web框架，设计时考虑了简单性。埃米特的目标是清楚地…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">github.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="21b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我应该说，我通常对这类事情不抱太大期望，因为有这么多web框架的好例子，有更好的文档和更多的用户。然而，在阅读了特性列表并查看了方法之后，我对这个奇怪的包很感兴趣。虽然我不能说谎，但每当我尝试的时候，对自己的事情感到奇怪和好奇。但是我很高兴展示这个框架和它的能力！除了Emmett、Django和Flask之外，我过去还写过两篇讨论其他解决方案的文章，您可以在这里阅读:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/5-smooth-python-web-frameworks-for-the-modern-developer-47db692dfd52"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">面向现代开发人员的5个平滑Python Web框架</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">5个更棒的Python Web框架供你欣赏！</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mn l mj mk ml mh mm ks ly"/></div></div></a></div><p id="0eca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者这里:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/5-cool-alternatives-to-django-and-flask-for-deploying-endpoints-5c99a066696"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">用于部署端点的Django和Flask的5个很酷的替代方案</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">不用Flask或Django部署API的有用框架。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mo l mj mk ml mh mm ks ly"/></div></div></a></div></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="311d" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">功能概述</h1><p id="1aaf" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">任何web框架实现的例子都会产生一个问题，为什么选择Emmett而不是Flask或Django等更受欢迎的解决方案。当我们在这两种解决方案之间比较Emmett时，我们应该注意到Emmett在很多方面是这两者的结合。Django更常用于fullstack应用程序，而Flask更常用于更多数据驱动和简单的应用程序。两者都有不同的方法和语法。埃米特在很多方面是他们之间的一个伟大的中间地带。</p><p id="9b8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">语法和方法非常接近Flask。就我个人而言，我更喜欢这样。我从来都不喜欢Django压倒一切的模板性质。虽然它肯定没有任何问题，但它会立即生成大量目录和文件，而不是让用户自己创建。Emmett介于这两者之间，但它不依赖于目录和文件，而是使用模块调用，我认为这要优雅得多。如果你想了解更多关于Flask和Django之间的区别，我有另一篇文章会详细介绍:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/django-or-flask-recommendation-from-my-experience-60257b6b7ca6"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">姜戈还是弗拉斯克？根据我的经验推荐。</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">根据我的经验，用Python驱动数据应用程序的一个常见问题是不知道使用什么工具…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="nt l mj mk ml mh mm ks ly"/></div></div></a></div><p id="731b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先也是最重要的，埃米特有一套平易近人、易于使用的方法。使用与Flask类似的语法，大多数用户会发现自己在使用框架时如鱼得水。然而，这个框架并不像Flask那么轻量级，这意味着Flask内置了比我们预期的更多的优秀特性。它写起来像Flask，但工作起来更像Django。</p><p id="96e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该模块带有数据库类，使查询事物、任务甚至身份验证变得更加容易。根据我使用该模块的经验，所有这些都比Django的实现更容易使用。该项目还声称是生产就绪，这对于那些想在他们的技术堆栈中使用该模块的人来说当然是很好的。</p><p id="71f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Emmett的另一个很酷的地方是它是异步的。Websockets太牛了！埃米特被设计在阿辛西奥的顶部，这是一个为这类事情而建的古老的图书馆。这种方法使Emmett成为非阻塞的，并且对许多设计模式更加有用。另一个很酷的事情是这个包自带了自己的查询接口。</p><p id="af7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">埃米特最酷的一点是模板。在大多数web框架中，模板通常是一团乱麻。有时他们有自己的模板框架，需要学习一门新的语言，有时你可能需要写一些HTML和/或Javascript来完成工作。Emmett有一个非常强大的模板系统，没有这些传统系统的所有问题。模板是用纯Python编写的！</p><h1 id="1118" class="mw mx it bd my mz nu nb nc nd nv nf ng jz nw ka ni kc nx kd nk kf ny kg nm nn bi translated">利用埃米特</h1><p id="2f20" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">根据我对该软件包的体验，使用Emmett非常简单，非常平易近人。文档也很特别。您可以安装软件包</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="e5f8" class="oe mx it oa b gy of og l oh oi">pip3 install emmett</span></pre><p id="2c39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，我不是网络开发人员。我在web框架中寻找的可能与传统上使用Python进行全栈的框架不同。我所缺乏的恰好也是埃米特所拥有的，所以那绝对是非常酷的！Emmett实际上包含了一个我们可以使用的非常棒且易于使用的查询框架，我认为它确实令人印象深刻。查看文档中的以下示例，我们只用几行代码就创建了一个包含用户、帖子和评论的模式！</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="6578" class="oe mx it oa b gy of og l oh oi">from emmett import session, now<br/>from emmett.orm import Model, Field, belongs_to, has_many<br/>from emmett.tools.auth import AuthUser</span><span id="4456" class="oe mx it oa b gy oj og l oh oi">class User(AuthUser):<br/>    # will create "users" table and groups/permissions ones<br/>    has_many('posts', 'comments')</span><span id="1dd0" class="oe mx it oa b gy oj og l oh oi">class Post(Model):<br/>    belongs_to('user')<br/>    has_many('comments')</span><span id="e435" class="oe mx it oa b gy oj og l oh oi">title = Field()<br/>    text = Field.text()<br/>    date = Field.datetime()</span><span id="67e6" class="oe mx it oa b gy oj og l oh oi">default_values = {<br/>        'user': lambda: session.auth.user.id,<br/>        'date': lambda: now<br/>    }<br/>    validation = {<br/>        'title': {'presence': True},<br/>        'text': {'presence': True}<br/>    }<br/>    fields_rw = {<br/>        'user': False,<br/>        'date': False<br/>    }</span><span id="cdba" class="oe mx it oa b gy oj og l oh oi">class Comment(Model):<br/>    belongs_to('user', 'post')</span><span id="b852" class="oe mx it oa b gy oj og l oh oi">text = Field.text()<br/>    date = Field.datetime()</span><span id="c6bd" class="oe mx it oa b gy oj og l oh oi">default_values = {<br/>        'user': lambda: session.auth.user.id,<br/>        'date': lambda: now<br/>    }<br/>    validation = {<br/>        'text': {'presence': True}<br/>    }<br/>    fields_rw = {<br/>        'user': False,<br/>        'post': False,<br/>        'date': False<br/>    }</span></pre><p id="755c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用@app语法来路由应用程序。在我看来，这是非常独特和酷的，我们使用@app.command()方法，然后我们可以调用全局定义的函数供我们的应用程序使用！一个非常流行的数据科学和数据工程任务是创建一个简单的端点，下面是使用Emmett完成该任务的代码:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="bd09" class="oe mx it oa b gy of og l oh oi">from emmett import App  <br/>app = App(__name__)  <br/>@app.route("/") <br/>async def hello():<br/>     return "Here is a simple endpoint!"</span></pre><p id="7dd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您可能知道的，这个端点与Flask中的端点非常相似！事实上，代码几乎是相同的。然而，很容易看出这个框架不是烧瓶，它带来了一大堆特性。在我看来，它真的很酷，很高级，而且声明性很强，有时似乎太容易使用了。我并不经常发现自己爱上我找到的像这样的随机包，但它确实值得一试！我知道我将来会用到它！如果你对Flask更感兴趣，我确实有另一篇真的很老的文章(2019年的！)，您可以阅读以了解有关在it中部署端点的更多信息！</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/constructing-http-data-pipelines-with-flask-27fba04fbeed"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">用Flask构建HTTP数据管道</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">许多数据科学工作倾向于关注那些非常明显的属性，训练模型、验证…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="ok l mj mk ml mh mm ks ly"/></div></div></a></div></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="3575" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">结论</h1><p id="efa8" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">虽然有时用一个有我名字的包工作有点令人不安，但这个包肯定值得处理那种恐怖谷的感觉。我真的很喜欢使用这个包，至少可以说，一次又一次地意识到它有多酷是令人震惊的。当然，当我使用这样的包时，我总是将它与我已经使用的包进行比较。在这方面，我最常用的选择可能是Flask，我真的很喜欢Flask既小又大的设计。然而，这个网络框架让我对采用同样的方法并深入其中感到完全无语。如果我必须用Python程序员能理解的一句话来描述它，我会说“它就像Flask，只是有很多令人惊奇和有用的特性。”我当然推荐这个模块，不仅仅是因为我们有相同的名字。感谢您的阅读，我希望您考虑试用这个软件包——它太棒了！</p></div></div>    
</body>
</html>