<html>
<head>
<title>Is F1 the appropriate criterion to use? What about F2, F3,…, F beta?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">F1是使用的合适标准吗？F2，F3，…，Fβ呢？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/is-f1-the-appropriate-criterion-to-use-what-about-f2-f3-f-beta-4bd8ef17e285?source=collection_archive---------6-----------------------#2021-04-03">https://towardsdatascience.com/is-f1-the-appropriate-criterion-to-use-what-about-f2-f3-f-beta-4bd8ef17e285?source=collection_archive---------6-----------------------#2021-04-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="20de" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用F1度量进行二元分类是非常常见的。这就是众所周知的调和平均数。然而，更通用的F_beta评分标准可能更好地评估模型性能。那么，F2，F3，和F_beta呢？在本帖中，我们将回顾F值。</h2></div><h1 id="4642" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">介绍</h1><p id="b411" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">许多数据科学家认为，最可靠的模型性能衡量标准是准确性。它不仅是权威的模型度量，还有许多其他的度量。周期性地，准确性可能很高，但是假阴性(将在后续中定义)也很高。另一个关键指标是目前机器学习中常见的F-measure，用于评估模型性能。它成比例地结合了精度和召回措施。在这篇文章中，我们探索了两者不平衡的不同方法。</p><h1 id="58ad" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">初步:混淆矩阵、精确度和回忆</h1><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/757b8fcc964a2c0154b06fe22c9f8031.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*c8g-f4yp-zRbXW43WgEDHw.jpeg"/></div><p class="mb mc gj gh gi md me bd b be z dk translated">困惑矩阵(图片由作者提供)</p></figure><p id="6cba" class="pw-post-body-paragraph kx ky iq kz b la mf jr lc ld mg ju lf lg mh li lj lk mi lm ln lo mj lq lr ls ij bi translated">混淆矩阵总结了ML中监督学习算法的性能。它更有益，因为它提供了比普通精度测量更详细的分析。在混淆矩阵中，每行代表预测类中的实例，每列代表实际类中的实例。如上所述，简化的混淆矩阵包含两行和两列，其中:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/778567f27d9066fc0b91d658d6bc6831.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*uqzf8qLjtgKayMF8yAUbnw.jpeg"/></div><p class="mb mc gj gh gi md me bd b be z dk translated">缩写(图片由作者提供)</p></figure><p id="35ad" class="pw-post-body-paragraph kx ky iq kz b la mf jr lc ld mg ju lf lg mh li lj lk mi lm ln lo mj lq lr ls ij bi translated">为了进一步讨论，我们还得定义两个重要的度量:<strong class="kz ir"> Precision </strong>:所有<em class="ml"> P </em>样本除以<em class="ml"> TP </em>样本的数量(真与假)，以及<strong class="kz ir"> Recall </strong>:除以(<em class="ml"> TP </em> + <em class="ml"> FN </em>)的<em class="ml"> TP </em>的数量。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/e9fd065d20d85cff92b591c1f24498bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*yDE6_iC86hTsY1NzmA1cHQ.jpeg"/></div><p class="mb mc gj gh gi md me bd b be z dk translated">精确度和召回率(图片由作者提供)</p></figure><p id="e777" class="pw-post-body-paragraph kx ky iq kz b la mf jr lc ld mg ju lf lg mh li lj lk mi lm ln lo mj lq lr ls ij bi translated">由于这两种方法都非常重要，因此需要一种方法将两者结合起来。因此，提出了精确度和召回率的调和平均值，也称为F1分数。</p><h1 id="3dbd" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">F1分数</h1><p id="3b3d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">该度量由下式给出:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/bc8a2feb9a3eb8384f816f63862777ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*fiygHJpGZliNTL03VI5r7A.jpeg"/></div></figure><p id="e835" class="pw-post-body-paragraph kx ky iq kz b la mf jr lc ld mg ju lf lg mh li lj lk mi lm ln lo mj lq lr ls ij bi translated">F1分数的主要优点(同时也是缺点)是召回率和精确度同等重要。在许多应用中，情况并非如此，应该施加一些重量来打破这种平衡假设。这种平衡假设可能适用于数据分布不均匀的情况，如大量正负数据。</p><h1 id="fb17" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated"><strong class="ak"> F2和F3分数</strong></h1><p id="195f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">利用加权平均，我们可以很容易地得到测度<strong class="kz ir"><em class="ml">【F2】</em></strong>:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mo"><img src="../Images/63a09353cc133284fdd8dd4d617c196c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sZnpnbirEGmOhW4eupzliw.jpeg"/></div></div><p class="mb mc gj gh gi md me bd b be z dk translated">F2(图片由作者提供)</p></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/371f8e2765b8dbe90d142d938de54794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*MVi_5xk41MTtgHdmW9S-mQ.jpeg"/></div><p class="mb mc gj gh gi md me bd b be z dk translated">F2(图片由作者提供)</p></figure><p id="a7d6" class="pw-post-body-paragraph kx ky iq kz b la mf jr lc ld mg ju lf lg mh li lj lk mi lm ln lo mj lq lr ls ij bi translated">以同样的方式，获得F3分数:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/2ac0e1b2480adac4cc19d40e1a76b09c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*mMB1ItqU57aPdTdXVpOogA.jpeg"/></div><p class="mb mc gj gh gi md me bd b be z dk translated">F3(图片由作者提供)</p></figure><h1 id="237c" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">F_beta分数</h1><p id="35a1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">概括加权平均法可得出Fβ测量值，由下式提供:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/60ef33f31ab2d1de3130f73a2c0779b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*cHOhrncdnWK0vA2baH0AWA.jpeg"/></div><p class="mb mc gj gh gi md me bd b be z dk translated">F beta(图片由作者提供)</p></figure><p id="8a02" class="pw-post-body-paragraph kx ky iq kz b la mf jr lc ld mg ju lf lg mh li lj lk mi lm ln lo mj lq lr ls ij bi translated">这种方法允许我们定义召回比精确度重要多少。在sklearn中使用Fβ测量非常简单，只需遵循以下示例:</p><div class="mv mw gp gr mx my"><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.fbeta_score.html?highlight=f%20beta#sklearn.metrics.fbeta_score" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd ir gy z fp nd fr fs ne fu fw ip bi translated">sk learn . metrics . fbeta _ score-sci kit-learn 0 . 24 . 1文档</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">编辑描述</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">scikit-learn.org</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm lz my"/></div></div></a></div><pre class="lu lv lw lx gt nn no np nq aw nr bi"><span id="d867" class="ns kg iq no b gy nt nu l nv nw"><strong class="no ir">&gt;&gt;&gt; from</strong> <strong class="no ir">sklearn.metrics</strong> <strong class="no ir">import</strong> fbeta_score<br/><strong class="no ir">&gt;&gt;&gt; </strong>y_true = [0, 1, 2, 0, 1, 2]<br/><strong class="no ir">&gt;&gt;&gt; </strong>y_pred = [0, 2, 1, 0, 0, 1]<br/><strong class="no ir">&gt;&gt;&gt; </strong>fbeta_score(y_true, y_pred, average='macro', beta=0.5)<br/>0.23...<br/><strong class="no ir">&gt;&gt;&gt; </strong>fbeta_score(y_true, y_pred, average='micro', beta=0.5)<br/>0.33...<br/><strong class="no ir">&gt;&gt;&gt; </strong>fbeta_score(y_true, y_pred, average='weighted', beta=0.5)<br/>0.23...<br/><strong class="no ir">&gt;&gt;&gt; </strong>fbeta_score(y_true, y_pred, average=<strong class="no ir">None</strong>, beta=0.5)<br/>array([0.71..., 0.        , 0.        ])</span></pre><h1 id="85c5" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">摘要</h1><p id="27e2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在这篇文章中，我回顾了F值。我希望所提供的数据将帮助那些处理分类任务的人，并激励他们使用F值和准确度。</p><h1 id="78e6" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">关于作者</h1><p id="f112" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">Barak获得了以色列理工学院的航空工程学士学位(2016年)、硕士学位(2018年)以及经济和管理学士学位(2016年，成绩优异)。他曾在高通工作(2019-2020)，在那里他主要研究机器学习和信号处理算法。巴拉克目前正在海法大学攻读博士学位。他的研究兴趣包括传感器融合、导航、机器学习和估计理论。</p><p id="1913" class="pw-post-body-paragraph kx ky iq kz b la mf jr lc ld mg ju lf lg mh li lj lk mi lm ln lo mj lq lr ls ij bi translated"><a class="ae nx" href="https://www.researchgate.net/profile/Barak-Or" rel="noopener ugc nofollow" target="_blank">https://www.researchgate.net/profile/Barak-Or</a></p><p id="10ce" class="pw-post-body-paragraph kx ky iq kz b la mf jr lc ld mg ju lf lg mh li lj lk mi lm ln lo mj lq lr ls ij bi translated">www.barakor.com<a class="ae nx" href="https://www.researchgate.net/profile/Barak-Or" rel="noopener ugc nofollow" target="_blank"/></p><h1 id="9fbc" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated"><strong class="ak">延伸阅读</strong></h1><p id="70b7" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">[1] C.J .范·里斯贝根:<a class="ae nx" href="https://en.wikipedia.org/wiki/C._J._van_Rijsbergen" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/C._J._van_Rijsbergen</a></p><p id="ec79" class="pw-post-body-paragraph kx ky iq kz b la mf jr lc ld mg ju lf lg mh li lj lk mi lm ln lo mj lq lr ls ij bi translated">[2] <a class="ae nx" rel="noopener" target="_blank" href="/the-best-classification-metric-youve-never-heard-of-the-matthews-correlation-coefficient-3bf50a2f3e9a">马修斯相关系数是你从未听说过的最佳分类指标</a></p></div></div>    
</body>
</html>