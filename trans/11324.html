<html>
<head>
<title>Clean, Connect and Visualize Interactively with DataPrep</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用DataPrep进行交互式清理、连接和可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/clean-connect-and-visualize-interactively-with-dataprep-9c4bcd071ea9?source=collection_archive---------16-----------------------#2021-11-06">https://towardsdatascience.com/clean-connect-and-visualize-interactively-with-dataprep-9c4bcd071ea9?source=collection_archive---------16-----------------------#2021-11-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="98f4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">适用于您的数据分析过程的一体化软件包</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bf29beebd92456740f95a36d7432c4da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2vy0NXG_bJrCq5gG"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@uxindo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> UX印尼</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="b730" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据准备是任何数据专业人员都要做的第一步。无论是要对数据进行分析，还是要对机器学习模型的数据进行预处理，都需要准备好数据。</p><p id="612f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准备数据意味着您需要收集、清理和探索数据。为了完成我提到的所有活动，开发了一个名为<a class="ae ky" href="https://docs.dataprep.ai/index.html" rel="noopener ugc nofollow" target="_blank"> DataPrep </a>的Python包。这个包裹对我们有什么帮助？让我们一起来探索一下。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3fb4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">数据准备</strong></h1><p id="c859" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">DataPrep是为准备数据而开发的Python包。这个包包含三个主要的API供我们使用，它们是:</p><ul class=""><li id="0cc6" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">数据探索(<code class="fe ni nj nk nl b">dataprep.eda</code>)</li><li id="3e74" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated">数据清理(<code class="fe ni nj nk nl b">dataprep.clean</code>)</li><li id="374a" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated">数据收集(<code class="fe ni nj nk nl b">dataprep.connector</code>)</li></ul><p id="a6a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">DataPrep包被设计成具有快速的数据浏览，并且与Pandas和Dask DataFrame对象配合良好。为了探索DataPrep功能，我们需要首先安装这个包。</p><pre class="kj kk kl km gt nr nl ns nt aw nu bi"><span id="4a96" class="nv md it nl b gy nw nx l ny nz">pip install -U dataprep</span></pre><p id="b35a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们安装完这个包之后，让我们使用API来准备我们的数据。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="0e40" class="nv md it bd me oa ob dn mi oc od dp mm li oe of mo lm og oh mq lq oi oj ms ok bi translated">数据准备探索</h2><p id="44a6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">DataPrep让我们用一行代码创建一个交互式的概要报告。这个报告对象是一个HTML对象，从我们的笔记本中分离出来，有许多探索选项。让我们用示例数据来尝试一下API。</p><pre class="kj kk kl km gt nr nl ns nt aw nu bi"><span id="9cd9" class="nv md it nl b gy nw nx l ny nz">from dataprep.datasets import load_dataset<br/>from dataprep.eda import create_report<br/>df = load_dataset("titanic")<br/>df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/2a9942af52516a478f5714a00e84ff4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KVc66ltSuVbO_lCLNKiXEw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="435c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用泰坦尼克号样本数据集作为我们的数据。加载完数据后，我们将使用<code class="fe ni nj nk nl b">create_report</code>函数来生成交互式报告。</p><pre class="kj kk kl km gt nr nl ns nt aw nu bi"><span id="da5a" class="nv md it nl b gy nw nx l ny nz">create_report(df).show_browser()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/815551389530e68892ec8f61b55f8d17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*5xiFVanIaT8B25wmrAA3BQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="fcbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在上面的GIF中看到的，API创建了一个很好的交互式报告供我们探索。让我们试着逐一剖析这些信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/a52be31aa67a4cdce0b935298070174b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6H7__LBHrc3tpmwFuKaRnQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">概览选项卡(按作者分类的图像)</p></figure><p id="4856" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从overview选项卡中，我们可以看到数据集的所有概述信息。我们可以获得的信息包括缺失数据数和百分比、重复数据、变量数据类型以及每个变量的详细信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/93f987594ea0c060ac626f5d84be7e51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mRwjgHKEgf_-QFE_l7dW6A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">变量选项卡(按作者分类的图像)</p></figure><p id="7c59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">variables选项卡为我们提供了数据集中每个变量的详细信息。几乎所有您需要的信息都是可用的，例如，唯一、缺失数据、分位数和描述性统计、分布和正态性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/6821d92a7de224d761930dc1fcb9aacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aefTnNUSEQkcdFbbIs81HQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">交互选项卡(按作者分类的图片)</p></figure><p id="3228" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">interactions选项卡将从两个数字变量创建一个散点图。我们可以自己设置X轴和Y轴，这让我们可以控制如何可视化它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/034f59df27f171f26da4be9ba228c3ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ratZ953kTk4asQHvIF3fWQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">相关性选项卡(按作者分类的图片)</p></figure><p id="222a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“相关性”选项卡为我们提供了数值之间的统计相关性计算热图。目前，我们可以使用三种计算方法——Pearson、Spearman和KendallTau。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/95c9805c910c1abae706176a22a8533e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VoP3c4BFPKVA1XK1MoUjRQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">缺失值选项卡(按作者排序的图像)</p></figure><p id="00c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“缺失值”选项卡为我们提供了关于选项卡中缺失值的所有详细信息。我们可以选择条形图、光谱图、热图和树状图来充分探索缺失值信息。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="b7c1" class="nv md it bd me oa ob dn mi oc od dp mm li oe of mo lm og oh mq lq oi oj ms ok bi translated">数据准备清洗</h2><p id="12a0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">DataPrep清理API集合提供了140多个API来清理和验证我们的数据帧。例如，我们可以使用的API有:</p><ul class=""><li id="980b" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated"><a class="ae ky" href="https://docs.dataprep.ai/user_guide/clean/clean_headers.html" rel="noopener ugc nofollow" target="_blank">列标题</a></li><li id="deeb" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><a class="ae ky" href="https://docs.dataprep.ai/user_guide/clean/clean_country.html" rel="noopener ugc nofollow" target="_blank">国名</a></li><li id="da1f" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><a class="ae ky" href="https://docs.dataprep.ai/user_guide/clean/clean_date.html" rel="noopener ugc nofollow" target="_blank">日期和时间</a></li><li id="ab48" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><a class="ae ky" href="https://docs.dataprep.ai/user_guide/clean/clean_duplication.html" rel="noopener ugc nofollow" target="_blank">重复值</a></li><li id="eaa1" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><a class="ae ky" href="https://docs.dataprep.ai/user_guide/clean/clean_email.html" rel="noopener ugc nofollow" target="_blank">电子邮件地址</a></li></ul><p id="aa48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有很多。我们可以尝试的功能太多了，本文不可能涵盖所有的API。如果你有兴趣，可以在这里查阅文档<a class="ae ky" href="https://docs.dataprep.ai/user_guide/clean/introduction.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="67aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们以Titanic数据集为例，尝试一下<strong class="lb iu">列标题</strong>清理功能。</p><pre class="kj kk kl km gt nr nl ns nt aw nu bi"><span id="987d" class="nv md it nl b gy nw nx l ny nz">from dataprep.clean import clean_headers<br/>clean_headers(df, case = 'const').head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/c490e5b8383e8cceae1e9fa5f4c4f786.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wxTDWCi1A0iLgyc3WyosVQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="2a7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用“Const”的情况下，我们将结束所有大写的列名。如果我们把这个案例换成“骆驼”</p><pre class="kj kk kl km gt nr nl ns nt aw nu bi"><span id="52e8" class="nv md it nl b gy nw nx l ny nz">clean_headers(df, case = 'camel').head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/7f420b28fb88c99c765caa71c5c57fb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YbOOe6evtTgRtDlANtJoig.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="253e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果是除“sibSp”列之外的所有较低的列名，在“sibSp”列中，它们的列名中有两个单词。</p><p id="a72b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想要一个完整干净的数据框架，我们可以使用来自<a class="ae ky" href="https://docs.dataprep.ai/user_guide/clean/clean_df.html" rel="noopener ugc nofollow" target="_blank"> DataPrep </a>的<code class="fe ni nj nk nl b">clean_df</code> API。这个API有两个输出—推断的数据类型和清理的数据帧。</p><pre class="kj kk kl km gt nr nl ns nt aw nu bi"><span id="0c7e" class="nv md it nl b gy nw nx l ny nz">from dataprep.clean import clean_df<br/>inferred_dtypes, cleaned_df = clean_df(df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/2f6e8dbc1664babbbf76a59436563cfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*usjIPeSoeyNHYxNnM53fQQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5136" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有许多参数可以在API中使用。我建议您阅读所有文档，看看哪些参数适合您的数据准备目的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="85ea" class="nv md it bd me oa ob dn mi oc od dp mm li oe of mo lm og oh mq lq oi oj ms ok bi translated">DataPrep集合</h2><p id="6b4e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">DataPrep收集API用于从数据库或Web API收集数据。如果我们可以访问数据库，比如MySQL或PostgreSQL，您可以用DataPrep API连接它，但是也可以使用DataPrep <code class="fe ni nj nk nl b">connect</code> API访问公共API。</p><p id="085d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想从web上收集数据，仍然需要API代码，但是一切都被简化了。如果你想了解更多关于集合API的内容，你可以在这里阅读全部<a class="ae ky" href="https://docs.dataprep.ai/user_guide/connector/introduction.html" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5668" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">结论</strong></h1><p id="8493" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">DataPrep是一个单行Python包，用于清理、连接和浏览您拥有的数据集。该功能包括:</p><ul class=""><li id="edef" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">数据探索(<code class="fe ni nj nk nl b">dataprep.eda</code>)</li><li id="4602" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated">数据清理(<code class="fe ni nj nk nl b">dataprep.clean</code>)</li><li id="4b69" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated">数据收集(<code class="fe ni nj nk nl b">dataprep.connector</code>)</li></ul><p id="e537" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望有帮助！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="519f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的<a class="ae ky" href="https://www.linkedin.com/in/cornellius-yudha-wijaya/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">LinkedIn</strong></a><strong class="lb iu"/>或<a class="ae ky" href="https://twitter.com/CornelliusYW" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Twitter </strong> </a>上访问我。</p><blockquote class="ou ov ow"><p id="c13d" class="kz la ox lb b lc ld ju le lf lg jx lh oy lj lk ll oz ln lo lp pa lr ls lt lu im bi translated">如果您喜欢我的内容，并希望获得更多关于数据或数据科学家日常生活的深入知识，请考虑在此订阅我的<a class="ae ky" href="https://cornellius.substack.com/welcome" rel="noopener ugc nofollow" target="_blank">简讯。</a></p></blockquote><blockquote class="pb"><p id="fe03" class="pc pd it bd pe pf pg ph pi pj pk lu dk translated"><em class="pl">如果您不是作为中等会员认购，请考虑通过</em> <a class="ae ky" href="https://cornelliusyudhawijaya.medium.com/membership" rel="noopener"> <em class="pl">我的推荐</em> </a> <em class="pl">进行认购。</em></p></blockquote></div></div>    
</body>
</html>