<html>
<head>
<title>Kubernetes Practical Intro for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes面向数据科学家的实用介绍</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/kubernetes-practical-intro-for-data-scientists-739c263efa06?source=collection_archive---------4-----------------------#2021-08-07">https://towardsdatascience.com/kubernetes-practical-intro-for-data-scientists-739c263efa06?source=collection_archive---------4-----------------------#2021-08-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7b90" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">是的，这又是一篇“k8s入门”的文章。这个世界不需要它，你也没有要求它，然而我已经在某个地方有了它的要点，所以我想:“为什么不呢”？</h2></div><p id="dadf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我最近为纽约市数据科学院现场演示了这个教程，它是由T2在这里录制的。为了方便起见，我把幻灯片和要点改编成了这篇文章。对于感兴趣的人，<a class="ae le" href="https://info.nycdatascience.com/waitinglistforupcomingclass?hs_preview=CfYnYAcl-80863152231" rel="noopener ugc nofollow" target="_blank">我也将在2022-23</a>在生产课上教机器学习！</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/875f002df22dc38f2223f7b428667ae8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pJuGmQk25bWY6xuJJkcb7w.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">我和孩子们一起整理k8s的东西——作者图片</p></figure><p id="30cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这篇文章有两个部分，一个高层次的概述和一个实际操作部分，在这个部分中，您可以在您的笔记本电脑上部署一个ML模型到k8s。如果你只是想要本地入门的代码，请看<a class="ae le" href="https://gist.github.com/kylegallatin/ca308e0d697b94c5e02b29823b6a38ff" rel="noopener ugc nofollow" target="_blank">要点</a>或者浏览这篇文章的第二部分！</p><h1 id="08f9" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">概观</h1><p id="bc94" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">第一部分概述了Kubernetes的一些高级知识，这些知识将为实用部分增添色彩。</p><h2 id="d1ff" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">学习目标</h2><p id="29a4" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">在这篇文章结束时，你应该能够:</p><ul class=""><li id="f1e6" class="ne nf it kk b kl km ko kp kr ng kv nh kz ni ld nj nk nl nm bi translated">理解人们为什么使用Kubernetes</li><li id="d1e2" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">理解为什么人们不使用Kubernetes</li><li id="4d9b" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">从高层次描述一些基本的构建模块</li><li id="0362" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">在本地Kubernetes集群上部署一个简单的ML应用程序</li></ul><p id="627d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将不涵盖:</p><ul class=""><li id="dc54" class="ne nf it kk b kl km ko kp kr ng kv nh kz ni ld nj nk nl nm bi translated">Kubernetes内部架构</li><li id="7385" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">集群设置和管理</li><li id="4ca2" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">或者任何超出我能力范围的东西</li></ul><h2 id="856d" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">什么是Kubernetes？</h2><blockquote class="nt nu nv"><p id="a907" class="ki kj ns kk b kl km ju kn ko kp jx kq nw ks kt ku nx kw kx ky ny la lb lc ld im bi translated"><a class="ae le" href="https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/" rel="noopener ugc nofollow" target="_blank"><em class="it">Kubernetes</em></a><em class="it">，也称为K8s，是一个用于自动化部署、扩展和管理容器化应用程序的开源系统</em>—<a class="ae le" href="https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/" rel="noopener ugc nofollow" target="_blank">K8s网站</a></p></blockquote><p id="e349" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好吗？但这到底意味着什么呢？为了解释为什么我们可能想要使用Kubernetes，让我们看一个简单的例子，在没有它的情况下部署和管理一个应用程序<em class="ns">。</em></p><h2 id="e849" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated"><strong class="ak">在没有Kubernetes的情况下部署和管理应用</strong></h2><p id="ac4d" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">这是一个非常简单的工作流程:</p><ol class=""><li id="7a12" class="ne nf it kk b kl km ko kp kr ng kv nh kz ni ld nz nk nl nm bi translated">您构建了一个简单的应用程序来搜索新闻文章</li><li id="cf54" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nz nk nl nm bi translated">您将搜索应用程序部署到一台远程服务器上</li><li id="6d87" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nz nk nl nm bi translated">用户访问该应用程序以获得搜索结果和查找文章</li></ol><p id="c02f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当1个用户访问应用程序时，一切正常。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oa"><img src="../Images/e19ef8a03e00775e6114d505195f34ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eY4mfOeX7JmHnX35jHV3dA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">不幸的是，这是作者的图像</p></figure><p id="8b81" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是当50个用户访问应用程序时，单个实例就会过载！</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ob"><img src="../Images/870814f7e7031bba0f5a62003b5a4910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JEzXi1hY_GAY66ANpwgrYg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="fada" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们需要升级应用程序，它会使搜索不可用。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oc"><img src="../Images/c1f4f9ad0cd079239936ee0380b59a64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d5ZRstOEFbP10RsCRrhQVQ.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><h2 id="9e77" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">我们需要Kubernetes的一些原因</h2><p id="4501" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">还有很多例子，但是正如您所看到的，部署应用程序只是战斗的一小部分。大规模自动管理应用程序要困难得多。我们需要:</p><ul class=""><li id="9b72" class="ne nf it kk b kl km ko kp kr ng kv nh kz ni ld nj nk nl nm bi translated">根据工作负载扩展应用程序</li><li id="31fe" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">无需应用程序停机即可进行更改</li><li id="c3ed" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">将用户流量分配给我们应用程序的多个实例</li></ul><p id="cf65" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Kubernetes是<strong class="kk iu">声明性的</strong>，这意味着我们告诉它我们想要发生什么，Kubernetes(在一定程度上)为我们做了。这与像Python这样的<strong class="kk iu">命令式</strong>编程形成了对比，在Python中，每一行代码我们都显式地改变程序的状态。</p><p id="d524" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，你并不总是需要k8s。事实上，在许多情况下，这可能是矫枉过正。查看我以前在<a class="ae le" rel="noopener" target="_blank" href="/5-different-ways-to-deploy-your-machine-learning-model-with-aws-bd676ab5f8d4">上的一篇文章，比较和对比不同的ML部署策略</a>。</p><h2 id="216c" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">Kubernetes物件101</h2><p id="67a9" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">Kubernetes对象是Kubernetes生态系统中的持久实体。他们定义了应用程序如何在集群上运行。我们将看看:</p><ul class=""><li id="077b" class="ne nf it kk b kl km ko kp kr ng kv nh kz ni ld nj nk nl nm bi translated">分离舱</li><li id="9a86" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">部署</li><li id="faaf" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">服务</li><li id="13b1" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">入口</li></ul><h2 id="0124" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">分离舱</h2><p id="1c1b" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">Pods是您可以在Kubernetes中部署的最小可部署计算单元。它们是容器化应用程序的典型实例。基本上，运行Docker容器。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi od"><img src="../Images/ea9b867fd23e1ff20c39660afb4e26ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cai7zC2pN3Kny6g9oWqddg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><h2 id="8d22" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">部署</h2><p id="80bf" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">部署为一个或多个pod提供了声明式定义，使扩展应用程序变得容易。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oe"><img src="../Images/52d376c25955de28fd1434e77ef95cf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jlGhBy0tMkbq7EjwX92J0g.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><h2 id="3487" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">服务</h2><p id="ed2e" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">服务提供了对部署中的pod的查找。这是应用程序的许多实例的抽象层。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi of"><img src="../Images/9bcf1a0aa880ead8fa790d780695db56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oTXlctZCRmZr-mg96evu1w.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><h2 id="aad1" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">入口</h2><p id="37b6" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">Ingresses为请求提供了进入集群的入口，因此您可以向外界公开应用程序。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi og"><img src="../Images/69b96a08768e3432429aad23b198fe1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P1xNZn4InyExjZ4vpjVLmg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="71b8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">今天我们将向您展示如何在Kubernetes上部署应用程序。你只需要在本地安装Docker Desktop并启用Kubernetes。</p><h1 id="ea1e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">实际的</h1><p id="1697" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">这部分是动手操作，请使用代码示例和要点进行操作。</p><h2 id="5d9c" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">设置</h2><ol class=""><li id="4d71" class="ne nf it kk b kl mn ko mo kr oh kv oi kz oj ld nz nk nl nm bi translated">安装<a class="ae le" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank"> Docker桌面</a></li><li id="c29a" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nz nk nl nm bi translated">通过进入首选项-&gt; Kubernetes -&gt;启用Kubernetes来启用K8s</li></ol><h2 id="9841" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">用Docker测试我们的应用</h2><p id="fe55" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">要在Kubernetes上部署一个应用程序，我们首先需要确保它能在本地与Docker一起工作。在这里使用示例fastapi应用程序:<a class="ae le" href="https://github.com/kylegallatin/fast-bad-ml" rel="noopener ugc nofollow" target="_blank">https://github.com/kylegallatin/fast-bad-ml</a></p><pre class="lg lh li lj gt ok ol om on aw oo bi"><span id="a597" class="ms lw it ol b gy op oq l or os"># clone repo<br/>git clone git@github.com:kylegallatin/fast-bad-ml.git<br/>cd fast-bad-ml</span><span id="d9be" class="ms lw it ol b gy ot oq l or os"># build and run app with docker <br/>docker build -t ml-app .<br/>docker run -p 5000:5000 -it ml-app</span></pre><p id="19ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">确保可以在<a class="ae le" href="http://localhost:5000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:5000/ </a>到达app，在<a class="ae le" href="http://localhost:5000/predict?feature_1=0&amp;feature_2=1&amp;feature_3=2" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/predict进行预测？feature _ 1 = 0&amp;feature _ 2 = 1&amp;feature _ 3 = 2</a>。</p><p id="6d2a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个简单的ML应用程序，采用3个特征并返回一个二元预测。</p><h2 id="a093" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">验证Kubernetes正在使用Docker Desktop</h2><p id="bd9d" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">当您使用Docker Desktop启用Kubernetes时，它会为您安装Kubernetes CLI <code class="fe ou ov ow ol b">kubectl</code>并为您的本地集群进行配置。为了确保它的工作，确保你已经安装了<code class="fe ou ov ow ol b">kubectl</code>。</p><pre class="lg lh li lj gt ok ol om on aw oo bi"><span id="5316" class="ms lw it ol b gy op oq l or os">kubectl version</span></pre><p id="6c79" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们可以看一些库伯内特的例子。</p><pre class="lg lh li lj gt ok ol om on aw oo bi"><span id="2e0d" class="ms lw it ol b gy op oq l or os"># ensure your using the docker-desktop cluster<br/>kubectl config use-context docker-desktop</span><span id="0ff3" class="ms lw it ol b gy ot oq l or os"># check the "nodes" for your cluster (for docker desktop it's just 1)<br/>kubectl get nodes</span><span id="3713" class="ms lw it ol b gy ot oq l or os"># check the namespaces (logical separation of resources)<br/>kubectl get ns </span><span id="fafa" class="ms lw it ol b gy ot oq l or os"># check the pods running in a given namespace<br/>kubectl get pods -n kube-system</span></pre><h2 id="4279" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">集群设置</h2><p id="9b9c" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">我们的集群有一个快速设置步骤，即安装nginx入口控制器。这将把流量路由到我们的应用程序，并使URL在集群之外可用。</p><pre class="lg lh li lj gt ok ol om on aw oo bi"><span id="78ba" class="ms lw it ol b gy op oq l or os">kubectl apply -f <a class="ae le" href="https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v0.46.0/deploy/static/provider/cloud/deploy.yaml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v0.46.0/deploy/static/provider/cloud/deploy.yaml</a></span></pre><p id="c569" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过在浏览器中转到<a class="ae le" href="http://localhost/" rel="noopener ugc nofollow" target="_blank"> http://localhost:80 </a>来验证安装。您应该会看到404 —未找到。这看起来很糟糕，但实际上意味着事情正在按预期进行！</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ox"><img src="../Images/67826a258602c67eb41e5319a9ff99a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*glFvMJcLx51OodvF.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><h1 id="3f7d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">为我们的应用程序编写对象定义</h1><p id="b9ce" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">要为您的容器化应用程序创建Kubernetes资源，您需要编写Kubernetes对象定义。通常这是使用YAML(另一种标记语言)或JSON来完成的。我们将使用YAML来定义我们今天学习的资源。</p><p id="378c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">部署将定义pod:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="0718" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">服务将为我们所有的pod副本提供一个抽象层。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="dd6a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Ingress将允许用户从集群外部访问我们的应用程序:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="1f5c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以直接从之前克隆的<code class="fe ou ov ow ol b">fast-bad-ml</code>存储库中将这些应用到我们的集群中:</p><pre class="lg lh li lj gt ok ol om on aw oo bi"><span id="6a28" class="ms lw it ol b gy op oq l or os">kubectl apply -f deployment.yaml  <br/>kubectl apply -f service.yaml<br/>kubectl apply -f ingress.yaml</span></pre><p id="09b1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要验证它是否工作，请访问<a class="ae le" href="http://localhost/" rel="noopener ugc nofollow" target="_blank"> http://localhost:80 </a>。为了进行预测，我们可以使用<a class="ae le" href="http://localhost/predict?feature_1=0&amp;feature_2=1&amp;feature_3=2" rel="noopener ugc nofollow" target="_blank">http://localhost:80/predict？feature _ 1 = 0&amp;feature _ 2 = 1&amp;feature _ 3 = 2</a>会是这样的！</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi pa"><img src="../Images/b758c8e52e72081225acb14d05056ff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bHCmmwyFc4HMWLnm.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><h2 id="aaf2" class="ms lw it bd lx mt mu dn mb mv mw dp mf kr mx my mh kv mz na mj kz nb nc ml nd bi translated">摘要</h2><p id="e674" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">我们刚刚创建了一个应用程序，为它制作了一个Docker映像，并在本地机器上将该应用程序部署到Kubernetes。</p><p id="8c96" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要在云中做到这一点，您可以使用K8s服务，如EKS(在AWS上)或GKE(在GCP上)，并在那里应用这些相同的Kubernetes对象，让它们在云中大规模运行。祝你好运！</p></div></div>    
</body>
</html>