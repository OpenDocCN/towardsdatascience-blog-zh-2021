<html>
<head>
<title>Use Case: Build a CNN for Material Defect Detection in Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用例:在几分钟内构建一个用于材料缺陷检测的CNN</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/use-case-air-conditioner-piston-check-6007b9be40cf?source=collection_archive---------28-----------------------#2021-07-06">https://towardsdatascience.com/use-case-air-conditioner-piston-check-6007b9be40cf?source=collection_archive---------28-----------------------#2021-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5135" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们如何建立一个图像识别模型，可以对AC活塞的图像进行分类</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/002cb3f101bb82a72db9bc712c6202be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LNnvMU1PMHS2gY91C9-DTw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">空调(<a class="ae kv" href="https://unsplash.com/photos/LAnc1nT9b7g" rel="noopener ugc nofollow" target="_blank">图片来源</a>)</p></figure><p id="5eca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">制造或建筑中使用的材料可能有各种各样的缺陷，从物理异常(如断裂)到化学问题(如油性表面)。这些问题可能在制造、安装或安装后(例如，由于磨损、环境暴露等)发生。).这种问题通常需要尽快检测以避免随后的问题，或者被标记为待修复或被重新分类为较低质量等级，这取决于情况。</p><p id="4cc0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在涉及高精度组件的情况下，检测此类缺陷对于避免后续问题变得更加重要。一个这样的例子是制造空调(AC)单元的活塞，该活塞必须在严格的公差内制造，以使单元在现场可靠地运行。</p><p id="2c98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着<a class="ae kv" href="https://en.wikipedia.org/wiki/Industrial_internet_of_things" rel="noopener ugc nofollow" target="_blank">工业物联网</a> (IIoT)和<a class="ae kv" href="https://en.wikipedia.org/wiki/Fourth_Industrial_Revolution" rel="noopener ugc nofollow" target="_blank">工业4.0 </a>越来越多地使用计算机视觉来分析和检测缺陷，我们受到启发，建立了一个图像识别模型，可以将AC活塞的图像分类为正常(即无缺陷)、油性/油腻或有缺陷(即破裂、变形或掉落)。这包括准备和处理训练数据，构建一个. csv文件来将数据映射到分类，并在<a class="ae kv" href="https://www.perceptilabs.com/" rel="noopener ugc nofollow" target="_blank"> PerceptiLabs </a>中迭代模型。</p><p id="d388" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">数据</strong></p><p id="8625" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于这个模型，我们使用了来自这个<a class="ae kv" href="https://www.kaggle.com/satishpaladi11/mechanic-component-images-normal-defected" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>数据集的图像，这些图像代表了AC活塞的三种分类:</p><ul class=""><li id="060e" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><strong class="ky ir">缺陷1 </strong>:破损、变形或掉落。</li><li id="9157" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">缺陷2 </strong>:有油渍、油污或锈迹。</li><li id="4ba1" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">正常</strong>:正常、无缺陷活塞。</li></ul><p id="dfb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">图1显示了一些<em class="mg">正常</em>交流活塞图像的示例:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mh"><img src="../Images/f9ec75b36ab81206b07fb10a0e0e2be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d5AdnZvQujn-RR0J9IuKLg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><em class="mi">图1:来自描述正常AC活塞的训练数据集的图像。</em></p></figure><p id="f35a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们对图像进行了预处理，将每个图像的大小调整为80x80像素的分辨率，并创建了一个. csv文件，以将图像映射到标称分类值:0表示<em class="mg">缺陷1 </em>，1表示<em class="mg">缺陷2 </em>，2表示<em class="mg">正常</em>。下面是一个部分的例子。csv文件看起来:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mj"><img src="../Images/c42867c68dbb49f52708b36c16f4327a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rWS0W7Rl4TJWWb36WsZA_A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><em class="mi">将数据加载到感知实验室的. csv文件示例，其中0表示缺陷1，1表示缺陷2，2表示正常。</em></p></figure><p id="bc8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">车型总结</strong></p><p id="4951" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的模型只用了三个<a class="ae kv" href="https://docs.perceptilabs.com/perceptilabs/references/components" rel="noopener ugc nofollow" target="_blank">组件</a>:</p><p id="6008" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">组件1:卷积路径大小=3，步幅=2，特征映射=16</p><p id="cae3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">组件2:密集激活= <a class="ae kv" href="https://machinelearningmastery.com/rectified-linear-activation-function-for-deep-learning-neural-networks/" rel="noopener ugc nofollow" target="_blank"> ReLU </a>，神经元=128</p><p id="20cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">组件3:密集激活= <a class="ae kv" href="https://en.wikipedia.org/wiki/Softmax_function" rel="noopener ugc nofollow" target="_blank"> Softmax </a>，神经元=3</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/c51b7a25e7a4e711e897d79e69f518d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6-GyAIbWU71eKQ4ZK7RgbQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><em class="mi">图2:percept ilabs中的最终模型(图片来源</em><a class="ae kv" href="http://www.perceptilabs.com" rel="noopener ugc nofollow" target="_blank"><em class="mi">percept ilabs</em></a><em class="mi">)。</em></p></figure><p id="3c20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">培训和结果</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/ff1306762757d3fcad1773af276f595e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dg0uBTgQEGpghzyLiLAXUg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><em class="mi">图3: PerceptiLabs在训练时的统计视图(图片来源</em><a class="ae kv" href="http://www.perceptilabs.com" rel="noopener ugc nofollow" target="_blank"><em class="mi">percept ilabs</em></a><em class="mi">)。</em></p></figure><p id="9198" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我们用32个</strong>一批25个历元训练模型，使用<a class="ae kv" href="https://machinelearningmastery.com/adam-optimization-algorithm-for-deep-learning/#:~:text=Adam%20is%20a%20replacement%20optimization,sparse%20gradients%20on%20noisy%20problems." rel="noopener ugc nofollow" target="_blank"> ADAM </a>优化器，学习率0.001，交叉熵<a class="ae kv" href="https://blog.perceptilabs.com/choosing-and-customizing-loss-functions-for-image-processing/" rel="noopener ugc nofollow" target="_blank">损失</a>函数。</p><p id="8406" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用大约21秒的<strong class="ky ir">训练时间，我们能够实现100%的训练准确率和98.25%的验证准确率。</strong>在下面来自PerceptiLabs的屏幕截图中，您可以看到准确性如何在25个时期内提升到这些百分比，其中大部分提升仅发生在前六个时期内:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mm"><img src="../Images/9bfd464a1f8ca4eebd111cb884c38680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p_J2NhBi3dTD4FI5EDFZig.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><em class="mi">图4:精度图(图片来源</em> <a class="ae kv" href="http://www.perceptilabs.com" rel="noopener ugc nofollow" target="_blank"> <em class="mi">感知器</em> </a> <em class="mi">)。</em></p></figure><p id="e4f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与此同时，在前三个时期，损失下降最多:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mm"><img src="../Images/7b0ec3da248a9e8ceff08452c68a54fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g-poHNeGoeUSmZEZ1OLI2w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><em class="mi">图5:损失图(图片来源</em> <a class="ae kv" href="http://www.perceptilabs.com" rel="noopener ugc nofollow" target="_blank"> <em class="mi">感知器</em> </a> <em class="mi">)。</em></p></figure><p id="3214" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">垂直应用</strong></p><p id="01e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用这种图像识别模型来发现缺陷可以在工业物联网(<a class="ae kv" href="https://en.wikipedia.org/wiki/Industrial_internet_of_things" rel="noopener ugc nofollow" target="_blank"> IIoT </a>)应用中发挥关键作用，范围从机械到石油和天然气等。公司有可能使用它来自动检测缺陷，从而获得对资源的更多控制，减少缺陷，并优化他们的运营。</p><p id="e297" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该模型本身也可以用作<a class="ae kv" href="https://blog.perceptilabs.com/when-to-use-transfer-learning-in-image-processing/" rel="noopener ugc nofollow" target="_blank">转移学习</a>的基础，以创建检测其他类型缺陷的更高级的模型。</p><p id="3b72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">总结</strong></p><p id="f158" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个用例是一个简单的例子，说明了如何使用ML通过图像识别来识别材料缺陷。如果你想在几分钟内建立一个类似的深度学习模型，<a class="ae kv" href="https://docs.perceptilabs.com/perceptilabs/getting-started/quickstart-guide" rel="noopener ugc nofollow" target="_blank">运行PerceptiLabs </a>并从<a class="ae kv" href="https://github.com/PerceptiLabs/AC-Piston-Checks" rel="noopener ugc nofollow" target="_blank"> GitHub </a>获取我们预处理过的数据集的副本。</p></div></div>    
</body>
</html>