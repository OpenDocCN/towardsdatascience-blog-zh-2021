<html>
<head>
<title>How to make a Comet chart in Tableau</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Tableau中制作彗星图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-make-a-comet-chart-in-tableau-b5c23e3dc58b?source=collection_archive---------22-----------------------#2021-07-16">https://towardsdatascience.com/how-to-make-a-comet-chart-in-tableau-b5c23e3dc58b?source=collection_archive---------22-----------------------#2021-07-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="267c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我喜欢用数据讲故事。因此，我一直在寻找创造性的方法来表示数据。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ede4e9d2f7c29b0480dd70b0f2acc51a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iDyAGeIIDX-zaOnN"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Justin W 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="38c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">彗星图，顾名思义，基本上类似于条形图，但有一个方向。所以，当你想展示比较时，它们很有用。例如，彗星图可以用来漂亮地描绘2019年和2020年的销售情况。尽管这个概念有意义，但由于应用方面的原因，它并没有被广泛使用。</p><p id="d1b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我最近决定使用它，我喜欢我所看到的。因此，我今天写信来尽可能简单地说明如何建立一个。</p><p id="b86d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们开始吧。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="0034" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">1.获取数据集</h2><p id="b19c" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">当您想要比较两个维度之间的一些度量时，彗星图最有效。所以，我决定使用新冠肺炎疫苗意愿数据集。你可以从<a class="ae kv" href="https://today.yougov.com/topics/international/articles-reports/2021/01/12/covid-19-willingness-be-vaccinated" rel="noopener ugc nofollow" target="_blank">这里</a>得到。</p><h2 id="0e95" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">2.连接到数据集</h2><p id="52e7" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">下载的数据集是xls格式文件。当我试图将它作为数据源连接时，它抛出了错误。因此，您可能希望在excel中打开并另存为。然后尝试重新连接。</p><h2 id="6e54" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">3.数据操作</h2><p id="668f" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">数据集是宽格式的，如下所示。我们需要把它转换成长格式。</p><p id="063a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，一旦您将文件连接为数据源，单击除DateTime之外的所有列的顶部，右键单击并选择Pivot。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/680e549246d4fdf95dc570d513b0b765.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1BBo_QgNuOeg1dzl6lhs6w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="0022" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您的数据现在应该是这样的。将透视字段名重命名为Country，将值重命名为Willingness。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/1d9b666169262ccd0a764cf99c91de75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LFFAGdvNTcSphixhNZnwOA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="cfa4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们需要创建几个字段-</p><p id="770d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">2020年意愿</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/a293e41c398342735c558fd9d626b78f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ERV70FlyB2DFW97h2RB5w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="a511" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">2021年意愿</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/a293e41c398342735c558fd9d626b78f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ERV70FlyB2DFW97h2RB5w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="bf9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">两者的区别</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/957692d07444534c52344ea223d1b666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HxZo2sB28QovKm4LLb-j5Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="04fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">符号函数给出计算的符号。正数用1表示，负数用-1表示，零用0表示。这将用于突出衡量标准的积极和消极变化。</p><h2 id="200a" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">4.拖放！</h2><p id="da08" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">现在，只需将Country拖到Rows shelf，将measure值拖到column shelf，就像处理水平条形图一样。</p><ul class=""><li id="f87a" class="nb nc iq ky b kz la lc ld lf nd lj ne ln nf lr ng nh ni nj bi translated">将平均意愿2021和平均意愿2020添加到测量值卡。</li><li id="ac0b" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">将度量名称拖至路径和大小。</li><li id="55ec" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">将符号字段(在我的例子中是diff)拖到colour。</li></ul><p id="7f69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">瞧啊。彗星图准备好了。您的输出将如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/d68e2a83bf2c9ee63bfc8cb09c62c3a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QDB2rfZrilQ4w8qTJ4Gh_w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="2706" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以进一步定制它，比如添加标签，改变表单格式，在工具提示中添加更多信息等等。</p><p id="e200" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我的最终版本。我在工具提示中添加了每个国家的详细趋势以及变化百分比。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/12001fca210ef55399349638b7acabf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1l3NslZOCKZRlk1y08h8QQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="448a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这里找到完整的viz。</p><p id="e544" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这些信息对你有用！请在评论中留下任何问题。</p><p id="99fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">快乐学习！</p></div></div>    
</body>
</html>