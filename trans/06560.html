<html>
<head>
<title>8 Commonly used Pandas display options you should know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该知道的8个常用熊猫展示选项</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/8-commonly-used-pandas-display-options-you-should-know-a832365efa95?source=collection_archive---------2-----------------------#2021-06-13">https://towardsdatascience.com/8-commonly-used-pandas-display-options-you-should-know-a832365efa95?source=collection_archive---------2-----------------------#2021-06-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="70b4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">熊猫帮助你开始数据分析的提示和技巧</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/519b0f6a47f750a0539e0ea96cbab0d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GRB6-yRZbUuFHfsHVtbkuA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@victoriano?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">维多利亚诺·伊兹奎尔多</a>在<a class="ae ky" href="https://unsplash.com/s/photos/selection?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="6748" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas是最重要的数据操作和分析库之一。它不仅提供了操作数据的数据结构和操作，而且还以漂亮的表格形式打印出结果，带有标记的行和列。</p><p id="0081" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在大多数情况下，熊猫显示的默认设置应该工作良好，但您可能希望您的数据以某种格式显示，而不是默认格式。Pandas有一个选项系统，允许你定制与显示相关的选项。可以使用方法或属性配置显示选项，如下所示:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="da27" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu"># Use methods</strong><br/>import pandas as pd</span><span id="e37a" class="ma mb it lw b gy mg md l me mf">pd.set_option()<br/>pd.get_option()</span><span id="4e7f" class="ma mb it lw b gy mg md l me mf"><br/><strong class="lw iu"># Use attributes</strong>, for example display max_rows<br/>pd.option.display.max_rows</span></pre><p id="7aec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将看看8个常用的显示选项。这篇文章的结构如下:</p><ol class=""><li id="0f6d" class="mh mi it lb b lc ld lf lg li mj lm mk lq ml lu mm mn mo mp bi translated">显示更多行</li><li id="6462" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">显示更多列</li><li id="4b26" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">设置要显示的最大字符数</li><li id="7946" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">设置浮动列的精度</li><li id="1403" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">格式化大数字的显示</li><li id="2f38" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">更改绘图后端</li><li id="3217" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">配置<code class="fe mv mw mx lw b">info()</code>的输出</li><li id="a3c7" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">重置显示选项</li></ol><blockquote class="my"><p id="37e9" class="mz na it bd nb nc nd ne nf ng nh lu dk translated">请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/035-pandas-display-opts/pandas-display-options.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码</p></blockquote><p id="9573" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">为了演示，我们将使用Kaggle上的<a class="ae ky" href="https://www.kaggle.com/c/titanic/overview" rel="noopener ugc nofollow" target="_blank"> Titanic数据集</a>。</p></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><h1 id="ebb7" class="nu mb it bd nv nw nx ny nz oa ob oc od jz oe ka of kc og kd oh kf oi kg oj ok bi translated">1.显示更多行</h1><p id="0050" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">默认情况下，Pandas不想让你的显示溢出，如果超过了<code class="fe mv mw mx lw b">display.max_rows</code>，它会截断中间的行。您可以通过运行以下语句来查找该值:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="5509" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu">pd.get_option('display.max_rows')<br/></strong># pd.options.display.max_rows</span><span id="608e" class="ma mb it lw b gy mg md l me mf">60</span></pre><p id="60a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦超过了<code class="fe mv mw mx lw b">display.max_rows</code>，那么<code class="fe mv mw mx lw b">display.min_rows</code>(默认为<code class="fe mv mw mx lw b">5</code>)选项将决定在截断的表示中显示多少行。例如，运行<code class="fe mv mw mx lw b">df</code>，它显示前5行，在中间截断所有行，然后显示最后5行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/e89ef525d1cbffd647b8a973c5c1d944.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X9OXT5DMqs-bic4E-WJrow.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="607c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果您想更改<code class="fe mv mw mx lw b">display.max_row</code>，将其设置为200行:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3570" class="ma mb it lw b gy mc md l me mf">pd.<strong class="lw iu">set_option</strong>('display.max_rows', <strong class="lw iu">200</strong>)</span><span id="0c5f" class="ma mb it lw b gy mg md l me mf"># pd.options.display.max_rows = 200</span></pre><p id="b28e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以将该值设置为<code class="fe mv mw mx lw b">None</code>来显示所有行。但是要小心，因为如果你有一张非常长的桌子，它就不会很好地工作。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="fe11" class="ma mb it lw b gy mc md l me mf">pd.<strong class="lw iu">set_option</strong>('display.max_rows', <strong class="lw iu">None</strong>)</span><span id="8211" class="ma mb it lw b gy mg md l me mf"># pd.options.display.max_rows = None</span></pre><p id="1303" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要重置该值:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="70f5" class="ma mb it lw b gy mc md l me mf"># To reset<br/>pd.<strong class="lw iu">reset_option</strong>('display.max_rows')</span></pre><h1 id="c4f8" class="nu mb it bd nv nw or ny nz oa os oc od jz ot ka of kc ou kd oh kf ov kg oj ok bi translated">2.显示更多列</h1><p id="fd66" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">类似地，列有一个<code class="fe mv mw mx lw b">display.max_columns</code>选项，其值默认为<code class="fe mv mw mx lw b">20</code>:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="e519" class="ma mb it lw b gy mc md l me mf">pd.get_option('display.max_columns')<br/># pd.options.display.max_columns</span><span id="b344" class="ma mb it lw b gy mg md l me mf">20</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/b491794e39dc3460f19f80a0ed1d3c52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5bd_hEUH44xLY9eMb2st6A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="c74f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果您想要更改该值，请将其设置为30:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="061c" class="ma mb it lw b gy mc md l me mf">pd.set_option('display.max_columns', <strong class="lw iu">30</strong>)</span><span id="431b" class="ma mb it lw b gy mg md l me mf"># pd.options.display.max_columns = 30</span></pre><p id="88d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，您也可以将值设置为<code class="fe mv mw mx lw b">None</code>来显示所有列。但是要小心这一点，因为如果你有一个非常宽的桌子(有很多功能)，它不会工作得很好。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a4e0" class="ma mb it lw b gy mc md l me mf">pd.set_option('display.max_columns', <strong class="lw iu">None</strong>)</span><span id="46fa" class="ma mb it lw b gy mg md l me mf"># pd.options.display.max_columns = None</span></pre><p id="67f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要重置该值:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d5ab" class="ma mb it lw b gy mc md l me mf">pd.<strong class="lw iu">reset_option</strong>('display.max_columns')</span></pre><h1 id="0533" class="nu mb it bd nv nw or ny nz oa os oc od jz ot ka of kc ou kd oh kf ov kg oj ok bi translated">3.更改列宽</h1><p id="7881" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">运行<code class="fe mv mw mx lw b">df.head()</code>，您可能会发现第二行显示一个省略号(<code class="fe mv mw mx lw b">…</code>)。这是因为Pandas对显示多少个字符有一些限制，默认值是<code class="fe mv mw mx lw b">50</code>个字符。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/b44569e033bd6b2394e1942ac8047f5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DeFZWj1dwKT8T-vwwBt7Tw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d702" class="ma mb it lw b gy mc md l me mf">pd.<strong class="lw iu">get_option('display.max_colwidth')<br/></strong># pd.options.display.max_colwidth</span><span id="f914" class="ma mb it lw b gy mg md l me mf">50</span></pre><p id="6222" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果您想要更改该值，请将其设置为500个字符:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2e08" class="ma mb it lw b gy mc md l me mf">pd.<strong class="lw iu">set_option</strong>('display.max_colwidth', <strong class="lw iu">500</strong>)</span><span id="7c41" class="ma mb it lw b gy mg md l me mf"># pd.options.display.max_colwidth = 500</span></pre><p id="9bcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，也可以将值设置为<code class="fe mv mw mx lw b">None</code>来显示所有字符。但是要小心，因为如果你有一个非常长的文本的列，它不会工作得很好。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="810f" class="ma mb it lw b gy mc md l me mf">pd.<strong class="lw iu">set_option</strong>('display.max_colwidth', <strong class="lw iu">None</strong>)</span><span id="8f22" class="ma mb it lw b gy mg md l me mf"># pd.options.display.max_colwidth = None</span></pre><p id="5645" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，重置该值:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="5ebe" class="ma mb it lw b gy mc md l me mf">pd.<strong class="lw iu">reset_option</strong>('display.max_colwidth')</span></pre><h1 id="ab31" class="nu mb it bd nv nw or ny nz oa os oc od jz ot ka of kc ou kd oh kf ov kg oj ok bi translated">4.设置浮动列的精度</h1><p id="415f" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">您可能会注意到，Pandas对浮动列显示的小数位数也有一些限制。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/e97f2c78593ab5c0d2c369c1b3cf5c9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g56_1r9jKL5v-0fzx5Z83A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="be3c" class="ma mb it lw b gy mc md l me mf">pd.get_option('<strong class="lw iu">display.precision</strong>')<br/># pd.options.display.precision</span><span id="f00c" class="ma mb it lw b gy mg md l me mf">6</span></pre><p id="f2f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，熊猫只会显示小数点后的6位数字，如果它有更多的小数。</p><p id="6313" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果您想要更改该值，请将其设置为两位小数:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d5da" class="ma mb it lw b gy mc md l me mf">pd.set_option(<strong class="lw iu">'display.precision', 2</strong>)</span><span id="6db2" class="ma mb it lw b gy mg md l me mf"># pd.options.display.precision = 2</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/8e3dd11a4f5ddb63a91b2e69b6448435.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cQbMJxdFCG7dPNxTGPueLA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d66e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意这个设置<strong class="lb iu">不影响底层数据</strong>，它只影响浮动列显示。</p><p id="0afe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要重置该值:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a12e" class="ma mb it lw b gy mc md l me mf">pd.reset_option('<strong class="lw iu">display.precision</strong>')</span></pre><h1 id="51a2" class="nu mb it bd nv nw or ny nz oa os oc od jz ot ka of kc ou kd oh kf ov kg oj ok bi translated">5.格式化数字的显示</h1><p id="3d7a" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">最好将显示格式化为数字，例如货币、小数、百分比等。Pandas可以使用<code class="fe mv mw mx lw b">display.float_format</code>选项格式化任何浮动列。</p><p id="c42f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意这只适用于float列，对于其他数据类型，您必须将它们转换成float。如果您想了解更多有关将数据转换为浮点型的信息，可以查看:</p><div class="pa pb gp gr pc pd"><a rel="noopener follow" target="_blank" href="/converting-data-to-a-numeric-type-in-pandas-db9415caab0b"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd iu gy z fp pi fr fs pj fu fw is bi translated">在Pandas中将数据转换为数字类型</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">熊猫帮助你开始数据分析的提示和技巧</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">towardsdatascience.com</p></div></div><div class="pm l"><div class="pn l po pp pq pm pr ks pd"/></div></div></a></div><h2 id="e655" class="ma mb it bd nv ps pt dn nz pu pv dp od li pw px of lm py pz oh lq qa qb oj qc bi translated"><strong class="ak">用逗号格式化大数字</strong></h2><p id="91c0" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">大数字，例如<code class="fe mv mw mx lw b">1200000</code>，总是很难读懂。它</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7ea7" class="ma mb it lw b gy mc md l me mf">pd.set_option('display.float_format',  <strong class="lw iu">'{:,}'.format</strong>)</span><span id="0e33" class="ma mb it lw b gy mg md l me mf">df_test</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/d6179de233cf6716f634442f72769338.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NVkYmY9kDDPIc-uzP6gpTw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="c720" class="ma mb it bd nv ps pt dn nz pu pv dp od li pw px of lm py pz oh lq qa qb oj qc bi translated">设置十进制格式</h2><p id="b7c5" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">假设我们只关注小数点后的2位数字，我们可以使用此选项将显示格式化如下:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="55e5" class="ma mb it lw b gy mc md l me mf">pd.set_option('display.float_format',  <strong class="lw iu">'{:,.2f}'.format</strong>)<br/>df_test</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qe"><img src="../Images/7615df4821969209ed2f84fc0bdf0b35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m4-k0Ch4bQ0wrC8na-bpGw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="2b4b" class="ma mb it bd nv ps pt dn nz pu pv dp od li pw px of lm py pz oh lq qa qb oj qc bi translated">用百分号或美元符号格式化</h2><p id="d699" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">假设我们正在显示一个百分比列，我们可以使用此选项将显示内容格式化为一个百分号:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="72e7" class="ma mb it lw b gy mc md l me mf">pd.set_option('display.float_format', <strong class="lw iu">'{:.2f}%'.format</strong>)<br/>df_test</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qf"><img src="../Images/ce79abd52a6c92eaa28f58086efc269c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*EJWLOFriS-_9D47krhzZKw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6f60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并用美元符号格式化</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="bdda" class="ma mb it lw b gy mc md l me mf">pd.set_option('display.float_format', <strong class="lw iu">'${:.2f}'.format</strong>)<br/>df_test</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qg"><img src="../Images/09d3b3ee486b61d238e8dc3dd21beee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*_wJnDJYRFN3ngk1W29GNDQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="6889" class="nu mb it bd nv nw or ny nz oa os oc od jz ot ka of kc ou kd oh kf ov kg oj ok bi translated">6.更改绘图后端</h1><p id="9bf8" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">Pandas在其<strong class="lb iu">数据帧</strong>和<strong class="lb iu">系列</strong>上提供绘图功能。默认情况下，<strong class="lb iu"> matplotlib </strong>被用作绘图后端。从版本0.25开始，Pandas提供了一个使用不同后端的选项。</p><p id="2396" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要将其更改为不同于默认<strong class="lb iu"> matplotlib </strong>的后端，您首先需要安装第三方库，例如:</p><ul class=""><li id="6307" class="mh mi it lb b lc ld lf lg li mj lm mk lq ml lu qh mn mo mp bi translated"><a class="ae ky" href="https://plotly.com/python/pandas-backend/" rel="noopener ugc nofollow" target="_blank">为熊猫绘图后端</a>安装<strong class="lb iu">绘图</strong></li><li id="10e2" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" href="https://github.com/altair-viz/altair_pandas" rel="noopener ugc nofollow" target="_blank">为熊猫标绘后端</a>安装<strong class="lb iu">牵牛星</strong></li></ul><p id="fb1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，只需要将<code class="fe mv mw mx lw b">plotting.backend</code>设置为<code class="fe mv mw mx lw b">'ploty'</code>或<code class="fe mv mw mx lw b">'altair'</code>，就像使用第三方库一样调用绘图方法，例如:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="e4e0" class="ma mb it lw b gy mc md l me mf">import pandas as pd<br/>import numpy as np<br/><strong class="lw iu">pd.set_option('plotting.backend', '</strong><strong class="lw iu">altair</strong><strong class="lw iu">')</strong></span><span id="902d" class="ma mb it lw b gy mg md l me mf">data = pd.Series(np.random.randn(100).cumsum())<br/>data.plot()</span></pre><p id="6631" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重置为默认绘图后端:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="dc0a" class="ma mb it lw b gy mc md l me mf">pd.<strong class="lw iu">reset_option</strong>('<strong class="lw iu">plotting.backend</strong>')</span></pre><h1 id="08e7" class="nu mb it bd nv nw or ny nz oa os oc od jz ot ka of kc ou kd oh kf ov kg oj ok bi translated">7.配置<code class="fe mv mw mx lw b">info()</code>的输出</h1><p id="ed42" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">我们大多数人都在用熊猫<code class="fe mv mw mx lw b">info()</code>的方法快速检查数据框的轮廓。然而，该方法对要分析的最大列数有一个默认的约束，当从一个大的数据集中计算<code class="fe mv mw mx lw b">null</code>时会非常慢。</p><p id="4077" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">熊猫提供了两种选择:</p><ul class=""><li id="4886" class="mh mi it lb b lc ld lf lg li mj lm mk lq ml lu qh mn mo mp bi translated"><code class="fe mv mw mx lw b">display.max_info_columns</code>:默认为<code class="fe mv mw mx lw b">100</code>，设置需要分析的最大列数。</li><li id="0bff" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><code class="fe mv mw mx lw b">display.max_info_rows</code>:默认为<code class="fe mv mw mx lw b">1690785</code>，设置计数<code class="fe mv mw mx lw b">null</code>时的阈值。</li></ul><p id="1109" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当分析具有150个特征的数据集时，我们可以将<code class="fe mv mw mx lw b">display.max_info_columns</code>设置为覆盖所有列的值。例如，将其设置为200列:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4147" class="ma mb it lw b gy mc md l me mf">pd.set_option('display.max_info_columns', <strong class="lw iu">200</strong>)</span></pre><p id="bafb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在分析大型数据集时，<code class="fe mv mw mx lw b">df.info()</code>可能会非常慢，因为要对所有<code class="fe mv mw mx lw b">null</code>进行计数。我们可以简单地将<code class="fe mv mw mx lw b">display.max_info_rows</code>设置为一个小值，以避免对其进行计数，比如只在行数不超过5:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9733" class="ma mb it lw b gy mc md l me mf">pd.set_option('display.max_info_rows', <strong class="lw iu">5</strong>)</span></pre><h1 id="46a7" class="nu mb it bd nv nw or ny nz oa os oc od jz ot ka of kc ou kd oh kf ov kg oj ok bi translated">8.打印出当前设置并重置所有选项</h1><p id="a2be" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated"><code class="fe mv mw mx lw b">pd.describe_option()</code>将打印出设置的描述及其当前值。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="94c6" class="ma mb it lw b gy mc md l me mf">pd.describe_option()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qi"><img src="../Images/1ea5a25661a18c24fb2206e55524504c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HThOuNJbdnP0ipeb_6F3XQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b635" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以用它来打印一个特定的选项，例如，行显示选项</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a048" class="ma mb it lw b gy mc md l me mf"># specific searching<br/>pd.describe_option('rows')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qj"><img src="../Images/2bd32f57aa701181937d2e78bed4137c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*em53guSvlbFTaT0YmoFsmA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="de91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，您可以通过运行以下语句来重置所有选项:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="860e" class="ma mb it lw b gy mc md l me mf">pd.<strong class="lw iu">reset_option('all')</strong></span></pre><h1 id="2936" class="nu mb it bd nv nw or ny nz oa os oc od jz ot ka of kc ou kd oh kf ov kg oj ok bi translated">结论</h1><p id="19a8" class="pw-post-body-paragraph kz la it lb b lc ol ju le lf om jx lh li on lk ll lm oo lo lp lq op ls lt lu im bi translated">在这篇文章中，我们学习了8个常用的熊猫显示选项，可以帮助您格式化和改善您的熊猫输出。</p><p id="64f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望这篇文章能帮助你节省和熊猫学习数据分析的时间。我建议你查看一下关于熊猫选项&amp;设置的<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/options.html" rel="noopener ugc nofollow" target="_blank">文档</a>，并了解你可以做的其他事情。</p><p id="1df5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/035-pandas-display-opts/pandas-display-options.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码，如果你对机器学习的实用方面感兴趣，请继续关注。</p><h2 id="f34a" class="ma mb it bd nv ps pt dn nz pu pv dp od li pw px of lm py pz oh lq qa qb oj qc bi translated">你可能会对我的其他一些熊猫文章感兴趣:</h2><ul class=""><li id="6cd5" class="mh mi it lb b lc ol lf om li qk lm ql lq qm lu qh mn mo mp bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/10-tricks-for-converting-numbers-and-strings-to-datetime-in-pandas-82a4645fc23d">熊猫将数字和字符串转换成日期时间的10个技巧</a></li><li id="e2d4" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/all-pandas-json-normalize-you-should-know-for-flattening-json-13eae1dfb7dd">所有熊猫json_normalize()你应该知道的扁平化JSON </a></li><li id="40fe" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" href="https://medium.com/@bindiatwork/using-pandas-method-chaining-to-improve-code-readability-d8517c5626ac" rel="noopener">使用熊猫方法链接提高代码可读性</a></li><li id="f857" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/how-to-do-a-custom-sort-on-pandas-dataframe-ac18e7ea5320">如何对熊猫数据帧进行自定义排序</a></li><li id="4c1c" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/all-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e">为了数据分析你应该知道的所有熊猫移位()</a></li><li id="9c3b" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/when-to-use-pandas-transform-function-df8861aa0dcf">何时使用Pandas transform()函数</a></li><li id="bb3b" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/pandas-concat-tricks-you-should-know-to-speed-up-your-data-analysis-cd3d4fdfe6dd">你应该知道的熊猫串联()招数</a></li><li id="eb87" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" href="https://medium.com/@bindiatwork/difference-between-apply-and-transform-in-pandas-242e5cf32705" rel="noopener">Pandas中apply()和transform()的区别</a></li><li id="1ad2" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated">所有的熊猫合并了()你应该知道</li><li id="3c55" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/working-with-datetime-in-pandas-dataframe-663f7af6c587">在Pandas数据帧中处理日期时间</a></li><li id="125d" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" href="https://medium.com/@bindiatwork/all-the-pandas-read-csv-you-should-know-to-speed-up-your-data-analysis-1e16fe1039f3" rel="noopener">熊猫阅读_csv()你应该知道的招数</a></li><li id="b508" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu qh mn mo mp bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/4-tricks-you-should-know-to-parse-date-columns-with-pandas-read-csv-27355bb2ad0e">你应该知道的用Pandas read_csv() </a>解析日期列的4个技巧</li></ul><p id="fdd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多教程可以在我的<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到</p></div></div>    
</body>
</html>