<html>
<head>
<title>Practical Python Pandas Tricks - Part 1: Import and Create DataFrame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实用Python熊猫技巧-第1部分:导入和创建数据帧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-pandas-part-1-import-and-create-dataframe-e53326b6e2b1?source=collection_archive---------38-----------------------#2021-07-21">https://towardsdatascience.com/introduction-to-pandas-part-1-import-and-create-dataframe-e53326b6e2b1?source=collection_archive---------38-----------------------#2021-07-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a87a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">导入各种数据文件，并使用列表和字典从头开始创建数据框架</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9d16eaa4e65ebfaac62ddd7aa0850b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jahqXlzzarK8I0_h"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Geran de Klerk 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="3e87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文是<a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">熊猫</a>系列节目的第一部分。请继续关注更多关于这个主题的文章。</p><p id="bfec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/introduction-to-pandas-part-1-import-and-create-dataframe-e53326b6e2b1"> <strong class="lb iu">第1部分:导入并创建数据帧</strong> </a></p><p id="d943" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/introduction-to-pandas-part-2-quick-data-exploration-582fc9b0de28"> <strong class="lb iu">第二部分:数据预览和子集化</strong> </a></p><p id="40d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/introduction-to-pandas-part-3-data-wrangling-b490f8e47ca2"> <strong class="lb iu">第三部分:数据角力</strong> </a></p><h1 id="a8c4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">介绍</h1><p id="6195" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">毫无疑问<strong class="lb iu"> Pandas </strong>是数据科学领域最流行的Python库之一。它的多功能性和功能性使它成为数据转换和探索的强大工具。熟悉熊猫已经成为数据科学专业人士的必备技能。</p><h1 id="d7d0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">先决条件</h1><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="1279" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu"># Install pandas library</strong><br/>!pip install pandas</span><span id="63ab" class="mx lw it mt b gy nc mz l na nb"><strong class="mt iu"># Import pandas library</strong><br/>import pandas as pd</span></pre><h1 id="331d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">从现有数据源导入数据</h1><p id="d8e6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><strong class="lb iu">导入一个CSV文件</strong></p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="6ae3" class="mx lw it mt b gy my mz l na nb">df = pd.read_csv('file_name.csv')</span></pre><p id="5099" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">从网站导入CSV文件</strong></p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="ece6" class="mx lw it mt b gy my mz l na nb">df = pd.read_csv('<a class="ae ky" href="https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'" rel="noopener ugc nofollow" target="_blank">https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</a>)</span></pre><p id="45da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">导入Excel文件</strong></p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4120" class="mx lw it mt b gy my mz l na nb">df = pd.read_excel(open('file_name.xlsx', 'rb'), sheet_name='sheet_name')</span></pre><p id="c4a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">从SQL数据库导入数据:</strong>在我们编写从SQL数据库提取数据的查询之前，我们需要使用有效的凭证连接到数据库。Python库<strong class="lb iu">，SQLAlchemy </strong>让Python和SQL数据库之间的交互变得很容易。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="f274" class="mx lw it mt b gy my mz l na nb">import sqlalchemy</span><span id="ee40" class="mx lw it mt b gy nc mz l na nb">connection = sqlalchemy.create_engine('dialect+driver://username:password@host:port/database').connect()</span><span id="8736" class="mx lw it mt b gy nc mz l na nb">sql = 'CREATE TABLE df AS SELECT ...'<br/>connection.execute(sql)</span><span id="0de5" class="mx lw it mt b gy nc mz l na nb">output = pd.read_sql('SELECT * FROM df', con=connection)</span></pre><h1 id="9744" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">从头开始创建数据框架</h1><p id="9042" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><strong class="lb iu">方法1: </strong>从字典列表中创建数据帧</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="cee2" class="mx lw it mt b gy my mz l na nb">data = [{'Salary': 30000, 'Exp': 1, 'Gender': 'M'},             <br/>        {'Salary': 40000, 'Exp': 3, 'Gender': 'F'}]        <br/>df = pd.DataFrame(data)</span></pre><p id="5ccb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/7e6826368fadb557fcbaf92353d65ffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*pK2wi6qVhVYp4gxX1QNwbw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者创作)</p></figure><p id="0ac0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">方法2: </strong>从列表字典中创建数据帧</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="618b" class="mx lw it mt b gy my mz l na nb">data= {'Salary': [30000, 40000, 50000, 85000, 75000],            <br/>        'Exp': [1, 3, 5, 10, 25],          <br/>        'Gender': ['M','F', 'M', 'F', 'M']} <br/>df = pd.DataFrame(data)</span></pre><p id="8e4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/61764500bd3528a45f9deadfca060876.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*G5R_wEyukCrIQHI4qXg2nA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者创作)</p></figure><p id="1a27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">方法3 </strong>:使用<em class="nf"> from_dict创建数据帧。</em>如果您想使用传递的字典的关键字作为结果数据帧的列名，请将orient设置为“列”。否则，如果键应该是行，则将orient设置为“index”。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2db9" class="mx lw it mt b gy my mz l na nb">data= {'Salary': [30000, 40000, 50000, 85000, 75000],            <br/>        'Exp': [1, 3, 5, 10, 25],          <br/>        'Gender': ['M','F', 'M', 'F', 'M']} <br/>df1 = pd.DataFrame.<!-- -->from_dict<!-- -->(data, orient = 'columns')<br/>df2 = pd.DataFrame.<!-- -->from_dict<!-- -->(data, orient = 'index')</span></pre><p id="cb70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/9bde3ade21f361620dfa9a6e135f1d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2FdqhfEpzcnjHMbykhWqeQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(由阿瑟创作)</p></figure><p id="ecdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">方法4: </strong>从多个列表的列表中创建DataFrame。我们可以分别使用“索引”和“列”选项来定义用户定义的索引和列名。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="d09e" class="mx lw it mt b gy my mz l na nb"># pd.DataFrame([[Row 1], [Row 2], [Row 3],...])df = pd.DataFrame([[0, 2, 3], [0, 4, 1], [10, 20, 30]],                   index=['r1', 'r2', 'r3'], columns=['A', 'B', 'C'])</span></pre><p id="0fe5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/af44aed228a992a09332ccb621a047be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*dphiDSW4aydnIXUI4BPTfA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者创作)</p></figure><h1 id="6600" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">感谢您的阅读！！！</h1><p id="f363" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果你喜欢这篇文章，并且想<strong class="lb iu">请我喝杯咖啡，</strong>请<a class="ae ky" href="https://ko-fi.com/aaronzhu" rel="noopener ugc nofollow" target="_blank">点击这里</a>。</p><p id="0c70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以注册一个<a class="ae ky" href="https://aaron-zhu.medium.com/membership" rel="noopener"> <strong class="lb iu">会员</strong> </a>来解锁我的文章的全部访问权限，并且可以无限制地访问介质上的所有内容。如果你想在我发表新文章时收到电子邮件通知，请订阅。</p></div></div>    
</body>
</html>