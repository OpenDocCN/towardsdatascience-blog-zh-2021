<html>
<head>
<title>How Postman Fixed a Missing Layer in Our Data Stack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Postman如何修复我们数据堆栈中缺失的层</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-postman-fixed-a-missing-layer-in-our-data-stack-783f113bab56?source=collection_archive---------28-----------------------#2021-09-14">https://towardsdatascience.com/how-postman-fixed-a-missing-layer-in-our-data-stack-783f113bab56?source=collection_archive---------28-----------------------#2021-09-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0b67" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在我们大规模现代数据系统的现代化和民主化过程中，哪些成功了，哪些失败了</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a008ca6b98acaf48aebe2d648955970a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZENUCLnwESJo74PJ7_wBA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片由Postman提供，最初出现在<a class="ae kv" href="https://blog.postman.com/how-postman-fixed-missing-layer-in-our-data-stack/" rel="noopener ugc nofollow" target="_blank"> Postman博客</a>上。</p></figure><p id="41ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一年多前，当我加入<a class="ae kv" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank">邮差</a>的数据团队时，我们的数据对我来说还是一个谜。每天，我都会在Slack上发布问题，比如“我在哪里可以找到我们的MAU(每月活跃用户)？”有人会告诉我在哪里得到它，但随着我的深入挖掘，我会在其他地方找到MAU数据。有时不同的地点相互矛盾。</p><p id="5f41" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着时间的推移，我学会了如何浏览Postman的大量数据——哪些表有相同数据的不同版本，或者不同的过滤器，或者同步问题。但这并没有随着我而停止。随着数据团队在一年内扩大了近五倍，每个新成员都会一次又一次地遇到这个问题。</p><p id="5c22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当时，Postman的数据系统相当简单。我们有一组数据表，关于这些表的信息存在于我们早期数据团队成员的头脑中。当公司及其数据很小时，这种方法很有效，但当我们开始呈指数级增长时，这种方法就跟不上了。</p><p id="6d99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Postman目前拥有分布在四大洲的数百名团队成员，以及来自500，000家公司的超过1，700万用户使用我们的API平台。</p><p id="d87e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从一开始，Postman的联合创始人兼首席技术官<a class="ae kv" href="https://blog.postman.com/author/ankit/" rel="noopener ugc nofollow" target="_blank">安基特·索布提</a>就想确保<a class="ae kv" href="https://blog.postman.com/how-postman-does-data-democratization/" rel="noopener ugc nofollow" target="_blank">数据的民主化</a>。他曾经说过，数据团队很难日复一日地坐着发表见解。相反，他坚定地认为，公司的每个人都应该能够访问我们的数据，并从中获得见解。这一点在2020年变得尤为重要，因为在新冠肺炎疫情期间，Postman在完全远程化的同时继续扩大规模。</p><blockquote class="ls"><p id="1070" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">为了解决这个问题，去年我和数据团队决定将Postman的数据系统作为一个项目。我们的目标是让Postman的数据更容易访问和理解，无论是对数据团队的新员工还是整个公司的员工。</p></blockquote><p id="e8ff" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">大规模数据系统的现代化和民主化是一个巨大的挑战，我们肯定不是唯一一家试图攻克这一难题的公司。因此，希望我们的经验可以帮助其他人应对同样的挑战，我现在想分享一下我们是如何进行这个项目的，什么可行，什么不可行，以及我们到目前为止学到了什么。</p><h1 id="c873" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">我们的起点——邮差数据堆栈的挑战</h1><p id="072c" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">在Postman，我们实现了一个现代化的数据堆栈。数据工程师将数据带入亚马逊的云数据仓库<a class="ae kv" href="https://aws.amazon.com/redshift/" rel="noopener ugc nofollow" target="_blank">红移</a>。然后我们的分析师用我们的SQL引擎<a class="ae kv" href="https://www.getdbt.com/" rel="noopener ugc nofollow" target="_blank"> dbt </a>转换数据，并在<a class="ae kv" href="https://looker.com/" rel="noopener ugc nofollow" target="_blank"> Looker </a>上创建仪表板和<a class="ae kv" href="https://docs.looker.com/data-modeling/learning-lookml/lookml-terms-and-concepts#explore" rel="noopener ugc nofollow" target="_blank"> Explore </a>。</p><p id="1a2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">目前，Looker每周约有170名活跃用户。这对一家大约400人的公司来说是一个很大的数字，但这还没有达到我们让每个人都能使用我们数据的目标。</p><p id="da60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们面临的一个主要问题是在提供数据上下文时缺乏一致性，这使得上下文成为我们数据堆栈中缺失的一层。随着Postman的成长，每个人都很难理解，更重要的是，很难相信我们的数据。</p><p id="1428" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们一直在根据整个公司的要求创建仪表板和可视化:无论人们需要什么，我们都设计。然而，这些仪表板上的指标经常重叠，所以我们无意中创建了相同指标的不同版本。当不清楚每个指标有何不同时，我们失去了人们的信任。(俗话说:建立信任很难，但失去信任很容易——只需要犯一个错误。)</p><blockquote class="ls"><p id="0389" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">数据团队的空闲频道被其他团队的问题填满，这些问题问我们“数据在哪里？”以及“我应该使用什么数据？”</p></blockquote><p id="633c" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">我们经验丰富的数据分析师每周花费数小时来回答新员工提出的这些问题。当然，这对所有参与者来说都是令人沮丧的。但我们也意识到有一个更大的问题——如果我们的任何分析师离开公司，那将是一场灾难，因为他们的头脑中存储了如此多的信息。</p><p id="f439" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的数据团队的sprint回顾中，我们意识到Postman的数据系统需要帮助，所以我们开始了一个项目来民主化我们的数据并修复可发现性。我们的目标是为我们的团队创造更多时间，并在公司内部赢得更多信任。</p><h1 id="a883" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">解决方案1:用Confluence记录我们的数据</h1><p id="f277" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我们没有对我们的数据系统进行大规模的检查，而是决定从小处着手，快速实施一个解决方案，看看我们能从中学到什么。Postman已经在使用Atlassian，所以我们从创建一个<a class="ae kv" href="https://www.atlassian.com/software/confluence" rel="noopener ugc nofollow" target="_blank"> Confluence </a>文档开始。</p><p id="254b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以前，我们所有的数据问题和答案都存储在Slack中。Slack可能很难导航和搜索，所以人们会一遍又一遍地问同样的问题。在Slack上回答一两个问题很容易，但是20个或者100个呢？它就是不可扩展。</p><p id="9f02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">展望未来，我们的目标是让我们新的Confluence文档成为一个单一的、可搜索的事实来源。</p><p id="864e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当某个东西在Slack上出现多次，我们就把它放到Confluence上。比如当有人问“你是怎么计算MAU的？，”我们在文档中添加了表格和计算。当许多人向我们询问相同的指标时，我们也添加了这些统计数据和图表。</p><h1 id="0b9c" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">解决方案2:用Google Sheets创建一个数据字典</h1><blockquote class="ls"><p id="ee21" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">我们的Confluence文档是一个良好的开端，但是像Slack一样，单个文档无法像我们一样快速扩展。</p></blockquote><p id="9fc6" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">我们的下一个想法是在Google Sheets中创建一个数据字典。</p><p id="50e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这似乎相当简单。我们首先将所有的表、模式和列名放在一个地方。然后，在几次冲刺中，我们指派数据团队中的每个人记录五个表。每个人都留出几个小时，在谷歌表单上写下他们所知道的关于数据表的一切。</p><p id="03d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还在这个过程中加入了评论。每个人记录完他们的表格后，数据团队中的其他人会通读他们的工作。如果天气晴朗，他们会说可以走了。</p><p id="2c4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个好主意，但我们在执行时遇到了挑战:</p><ul class=""><li id="a1fe" class="ne nf iq ky b kz la lc ld lf ng lj nh ln ni lr nj nk nl nm bi translated"><strong class="ky ir">低质量的文档:</strong>当时，我们的数据团队有近20人，但其中只有三四个人在Postman工作了一年多。这些经验丰富的团队成员无法记录我们所有的数据，所以每个人都参与进来。然而，一些记录我们数据的人实际上对此并不了解。他们没有设置数据，也不是数据表的所有者。我们的新团队成员会添加他们理解的任何内容，但它并不总是给出数据表的完整图片。</li><li id="9b8c" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated"><strong class="ky ir">新的数据字典在规模上也有问题:</strong>我们有近20名数据团队成员试图处理这个文档。这么多人同时写作、编辑和评论，很快就变得难以用一个谷歌表单来处理。这还只是数据团队。我们希望最终向整个公司开放数据字典，但我们不知道如何让数百名用户保护我们的文档安全和防篡改。</li></ul><h1 id="2304" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">解决方案#3:使用Atlan实现预构建的数据工作空间</h1><p id="4be3" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">在两次尝试构建我们自己的解决方案后，我们开始寻找我们可以采用的现有产品。就在那时，我们发现了<a class="ae kv" href="https://atlan.com/" rel="noopener ugc nofollow" target="_blank"> Atlan </a>，一个现代化的数据工作空间，它似乎是我们数据发现问题的一个清晰的解决方案。</p><p id="7c1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Atlan上，我们已经能够对我们所有的数据进行编目和记录，它的编目充当了我们数据的单一真实来源。该目录包括针对数据团队内外不同类型用户的多级权限，因此每个人都可以搜索和访问数据，而不必向数据团队发送消息。</p><p id="c0b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果呢？每个人都能够找到适合他们用例的数据，并且所有访问它的数据都是一致的。</p><blockquote class="ls"><p id="483b" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">最明显的结果是，每个人最终都在谈论同样的数字，这有助于我们重建对数据的信任。如果有人说我们的增长是5%，那就是5%。</p></blockquote><p id="7308" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">我们的新数据工作区非常成功，因为它界面简洁，功能强大，提供文档、所有权信息和使用情况以及数据发现。</p><h1 id="226c" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">超越数据发现</h1><p id="34de" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">在Postman，我们需要解决围绕数据发现和上下文的问题，因为随着我们规模的扩大，它们成为了主要问题。但是，随着我们解决这些问题，我们意识到我们无意中让自己面临更大的数据挑战。</p><p id="727c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，现在我们已经建立了一个系统来跟踪我们的数据，我们可以使用它来了解我们的数据血统，包括每个数据资产来自哪里，以及它们如何相互连接。</p><p id="e41f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据血统非常有用，原因有几个。首先，了解我们的数据是如何连接的有助于我们更快地解决日常问题。</p><p id="dcc0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">其次，我们发现，随着我们数据团队的成长，拥有单一的真实数据来源有助于我们的数据团队。每次我们更改或添加新的东西时，检查它将如何影响我们数据系统中的其他东西是很重要的。我们不需要在Slack上发布问题，而是可以检查数据血统，找到我们需要更改或更新的一切。</p><blockquote class="ls"><p id="85f1" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">随着我们改进了记录和编目数据的方式，沿袭只是我们看到的一个开放的途径。</p></blockquote><p id="7d83" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">我们还采取措施在工具间保持更一致的数据描述，提高我们的数据质量，等等。</p><p id="7b5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从长远来看，我们认为改进数据发现的工作是整个公司数据民主化的基础。拥有一个可靠的数据基础，人们可以找到并理解我们所有的数据，这为每个人都参与分析数据提供了可能性。这将使我们整个公司变得更加数据感知和数据驱动，这是当今任何大公司的目标。</p><h1 id="b3ae" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">我们从去年学到了什么</h1><p id="2b56" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">当我回顾我们为改进数据堆栈所做的努力时，有几条经验非常突出——一些我们第一次就设法做对了的事情，还有一些我希望我们当初做得不一样的事情:</p><ul class=""><li id="56a9" class="ne nf iq ky b kz la lc ld lf ng lj nh ln ni lr nj nk nl nm bi translated"><strong class="ky ir">从小处着手，构建更大的解决方案</strong>:当您面临大数据挑战时，很容易想到同样大的解决方案，这些解决方案需要大量资源或资金。然而，从更小、更快的解决方案开始有助于我们更好地了解什么对我们有用，什么对我们没用。然后，当我们冒险进入一个更全面的付费解决方案时，我们确切地知道我们在寻找什么功能。</li><li id="db1d" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated"><strong class="ky ir">关注规模</strong>:我们的前两个解决方案是很好的想法，但是当我们扩大规模时，它们跟不上我们的团队和数据。这就是为什么考虑数据产品将如何随着您的公司和数据的扩展而扩展非常重要。如果您的数据在一年内增长100倍，它还能跟上吗？它能处理大量需求和访问级别不同的用户吗？</li><li id="be8f" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated"><strong class="ky ir">一项改进开启其他改进</strong>:修复数据堆栈的一部分，为更大的改进奠定基础。数据编目和文档编制并不特别“有趣”，但对于您可能想用数据做的任何其他事情来说，它们是至关重要的。毕竟，如果你不了解你的数据，你就不能接受ML、AI和其他最新的数据术语。</li></ul></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><p id="3781" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你觉得这篇博文有趣吗？如果是这样，你可能也会对在邮递员工作感兴趣。了解加入邮差团队 <a class="ae kv" href="https://www.postman.com/careers/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">这里</strong> </a> <strong class="ky ir">。</strong></p></div></div>    
</body>
</html>