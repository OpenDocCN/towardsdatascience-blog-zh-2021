<html>
<head>
<title>Simulating A Quantum Computer With Qiskit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Qiskit模拟量子计算机</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simulating-a-quantum-computer-with-qiskit-46eb73f78394?source=collection_archive---------30-----------------------#2021-05-25">https://towardsdatascience.com/simulating-a-quantum-computer-with-qiskit-46eb73f78394?source=collection_archive---------30-----------------------#2021-05-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="06c8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Qiskit量子模拟器-如何使用它们以及它们的用途</h2></div><p id="a7e9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">量子机器学习要不要入门？看看<a class="ae le" href="https://www.pyqml.com/page?ref=medium_simulator&amp;dest=/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">动手用Python </strong> </a> <strong class="kk iu">学习量子机器。</strong></p><p id="c2aa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在量子计算中，我们使用量子物理的基本性质来执行计算:叠加和纠缠。</p><p id="b3ab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">叠加是指量子系统存在于量子态|0⟩和|1⟩.的复杂线性组合中的量子现象纠缠是量子粒子之间极强的关联。即使相隔很远，纠缠的粒子仍然保持完美的关联。</p><p id="0f37" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">仅仅是我们能够利用这些现象进行计算这一事实就令人震惊。但是，这种类型的计算使我们能够解决看似无法解决的问题的事实是不可思议的。</p><p id="d796" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">令人惊讶的是，我们甚至不需要量子计算机。我们可以用一个日常笔记本来模拟它们。</p><p id="d730" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设我们有下面的量子电路。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/edcb95fe4b696eb59ac1d320af08bb8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jNNIfMrpF08IeX317f1TJw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="c633" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们在|0⟩基态的量子位上应用哈达玛门，把它放入|+⟩.态在这种状态下，我们有50%的几率将量子位测量为0，有50%的几率将其测量为1。</p><p id="d159" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面的清单在Qiskit——IBM的量子计算SDK——中描述了这个电路。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="7210" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Qiskit提供了<code class="fe lx ly lz ma b">Aer</code>包。它为模拟量子电路提供了不同的后端。先说第一个，那个<code class="fe lx ly lz ma b">qasm_simulator</code>。</p><p id="9f50" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦我们用<code class="fe lx ly lz ma b">qasm_simulator</code>后端(或任何其他后端)执行了我们的量子电路(<code class="fe lx ly lz ma b">qc</code>，我们就可以使用<code class="fe lx ly lz ma b">job.result()</code>方法获得结果。我们可以将这个结果转换成数字(<code class="fe lx ly lz ma b">get_counts()</code>)，然后输入到最终分布的直方图中。</p><p id="2f37" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">尽管我们的量子电路产生了一个量子位，我们以50%的几率将其测量为0，但结果显示了略有不同的分布。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mb"><img src="../Images/8fe810d87c5ecbe46de00b39abc5669e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VDrpA9bfk-U_y8WM9kJ92w.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="60d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是因为<code class="fe lx ly lz ma b">qasm_simulator</code>根据经验检索测量计数。<code class="fe lx ly lz ma b">shots</code>参数告诉Qiskit运行电路多少次并获得测量结果。因此，结果并不完全准确。但是拍摄次数越多，结果就越准确。</p><p id="fd09" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe lx ly lz ma b">qasm_simulator</code>只考虑我们测量量子位时使用的经典位。按照量子力学，我们看不到一个量子位所处的真实状态。我们只能反复测量才能得出它的状态。</p><p id="30cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当然，知道量子位的确切状态会有所帮助——尤其是在量子电路的开发过程中。</p><p id="61d1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">幸运的是，Qiskit提供了另一个后端，即<code class="fe lx ly lz ma b">statevector_simulator</code>。这个模拟器计算一个量子位的确切状态。当我们使用这个模拟器时，去除所有的测量值是很重要的，因为测量会破坏量子叠加，不可避免地导致系统可能处于一个确定的状态。但是我们对坍缩前的量子叠加感兴趣。</p><p id="a6e3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面的代码描述了更新的量子电路。注意，<code class="fe lx ly lz ma b">statevector_simulator</code>不接受shots参数。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="72f4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">类似于<code class="fe lx ly lz ma b">qasm_simulator</code>，我们可以从执行结果中得到计数。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mc"><img src="../Images/c1a41532dab4a96d25600b8d124a9daa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vulqfPvZkOteGxIpOfBomA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="0f99" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果显示了精确的测量概率。</p><p id="b287" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> <em class="md">但是它是怎么做到的呢？</em> </strong></p><p id="424d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了理解经典计算机如何计算量子电路，我们需要考虑量子态(这里是|0⟩)和量子算符(这里是T9 h T10)到底是什么。</p><p id="a03c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在量子力学中，我们使用看起来像|0⟩.的狄拉克符号这不是什么奇特的东西，只是一个简单的向量。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi me"><img src="../Images/db84723cb3e432da9c7e4b338c353ddd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*LrkoEQvrDSZH_til1SXLVQ.png"/></div></figure><p id="cecb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">量子算符通常用大写字母表示，比如<em class="md"> H </em>。但它们也没什么特别的。量子算符是一个矩阵。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/71eb5debc671af89d7838948206a4043.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*8ZMsn63H7Wr0B_wmz4U3Sg.png"/></div></figure><p id="e63c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，量子电路一点也不花哨。就是矩阵乘法。是的。整个电路将矩阵h与向量|0⟩相乘，并产生另一个向量，如下式所示。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mg"><img src="../Images/0b4512ca326c942e5b38884504588db0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NjQN6hR5PWFxt_AsENwG3w.png"/></div></div></figure><p id="d7d1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果向量表示测量幅度，其平方是测量概率。1/sqrt(2)的平方是1/2。</p><p id="a52e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从结果对象中，我们也可以使用<code class="fe lx ly lz ma b">get_statevector()</code>方法获得结果向量。输出是状态向量的数组。在我们的例子中，它是:</p><pre class="lg lh li lj gt mh ma mi mj aw mk bi"><span id="75b9" class="ml mm it ma b gy mn mo l mp mq">array([0.70710678+0.j, 0.70710678+0.j])</span></pre><p id="7407" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="md">注:1/2的平方根约为0.707左右。</em></p><p id="c3b4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe lx ly lz ma b">statevector_simulator</code>后端计算给定量子系统的状态。这是检查叠加态量子位的理想方法。</p><p id="443f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的量子电路由一个单一的算子组成——哈达玛门。比方说，我们用一系列的门来代替。例如，我们可以应用三个门，H-Z-H(在<a class="ae le" rel="noopener" target="_blank" href="/towards-understanding-grovers-search-algorithm-2cdc4e885660">这篇文章</a>中了解更多关于HZH序列的信息)。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lv lw l"/></div></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mb"><img src="../Images/fa243a69597b9fe1bad852fe06a9afdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ok80IPi2QddLANo1bAoOOg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="e03f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们运行电路时，我们看到结果为1(如果量子位处于|0⟩).态如果你想从数学上验证这个结果，我们需要将三个矩阵相乘。</p><p id="0933" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">即使对于小矩阵，它们的乘法也很麻烦。你需要做相当多的乘法，你必须确保不要混淆行和列。</p><p id="a83d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以，我一直用电脑做矩阵乘法。有无数的计算器可以做到这一点。然而，最方便的是在Qiskit内部。就是这个<code class="fe lx ly lz ma b">unitary_simulator</code>。</p><p id="3e28" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个模拟器执行电路一次，返回电路本身的最终变换矩阵。不管我们的量子电路看起来像什么，最终，它是一个矩阵。在输入状态下运行电路就是将转换矩阵与状态向量相乘。同样，当我们使用这个模拟器时，我们的电路不应该包含任何测量。</p><p id="9f21" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下代码输出H-Z-H电路的矩阵。正如我们所看到的，它类似于非门的矩阵。因此，毫不奇怪，当应用于|0⟩态的量子位时，结果是|1⟩态的量子位，我们总是测量为1。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lv lw l"/></div></figure><pre class="lg lh li lj gt mh ma mi mj aw mk bi"><span id="e062" class="ml mm it ma b gy mn mo l mp mq">array([<br/>  [ 2.22044605e-16+6.1232340e-17j,  1.00000000e+00-1.8369702e-16j],      <br/>  [ 1.00000000e+00-6.1232340e-17j, -2.22044605e-16+6.1232340e-17j]<br/>])</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mr"><img src="../Images/a4bae701493c1c9b54366e2a3d76c697.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dSFWxl3r9y2ueVyBqt4YHg.png"/></div></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="9ffd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> <em class="md">如果量子计算就是矩阵乘法，有什么了不起？</em> </strong></p><p id="ed4e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">矩阵乘法没什么花哨的。但问题是，这需要大量的计算。矩阵越大，所需乘法运算的次数(指数)就越高。因此，矩阵乘法花费的时间越多。我们可以用传统的计算机乘任意大小的矩阵。唯一的问题是，对于大型(假设是巨大的)矩阵来说，它(几乎)需要花费很长时间。大多数经典计算机无法(有效地)处理大于30x30的矩阵。</p><p id="c07f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是量子计算机发挥作用的地方。他们在一个步骤中乘以许多矩阵。矩阵的大小无关紧要。因此，它们能够执行经典计算机无法执行的计算(在合理的时间内)。</p><h1 id="d9fe" class="mz mm it bd na nb nc nd ne nf ng nh ni jz nj ka nk kc nl kd nm kf nn kg no np bi translated">结论</h1><p id="6062" class="pw-post-body-paragraph ki kj it kk b kl nq ju kn ko nr jx kq kr ns kt ku kv nt kx ky kz nu lb lc ld im bi translated">量子计算机是令人着迷的设备，尤其是当我们想到它们的硬件以及它们如何利用量子力学来执行计算时。这远远超出了大多数人(包括我)所能理解的范围。</p><p id="9dfc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是量子计算并没有那么复杂。<strong class="kk iu">就是矩阵乘法，本质上就是</strong>。在小范围内，经典计算机在矩阵乘法方面做得相当好(而且准确)。因此，经典计算机可以模拟量子计算机做的事情。</p><p id="2138" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是随着矩阵规模的增加，经典计算机已经达到了极限。然后，没有模拟器会帮助你了。</p><p id="7891" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">量子机器学习要不要入门？看看<a class="ae le" href="https://www.pyqml.com/page?ref=medium_simulator&amp;dest=/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">动手用Python学习量子机器</strong> </a> <strong class="kk iu">。</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/c3892c668b9d47f57e47f1e6d80af7b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*yymQWGhESHNGUr_L.png"/></div></figure><p id="51db" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里免费获得前三章<a class="ae le" href="https://www.pyqml.com/page?ref=medium_simulator&amp;dest=/" rel="noopener ugc nofollow" target="_blank"/>。</p></div></div>    
</body>
</html>