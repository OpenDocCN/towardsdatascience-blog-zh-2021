<html>
<head>
<title>“Classes” in Functional Programming?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">函数式编程中的“类”？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/classes-in-functional-programming-ee48a50b6235?source=collection_archive---------10-----------------------#2021-07-07">https://towardsdatascience.com/classes-in-functional-programming-ee48a50b6235?source=collection_archive---------10-----------------------#2021-07-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="bf57" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/tips-and-tricks" rel="noopener" target="_blank"> <em class="jb">小窍门</em> </a></h2><div class=""/><div class=""><h2 id="a6d1" class="pw-subtitle-paragraph ka jd it bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">用currying模仿Python中的类的行为</h2></div><p id="7862" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">作者:<a class="ae lo" href="https://www.linkedin.com/in/edkrueger/" rel="noopener ugc nofollow" target="_blank">爱德华·克鲁格</a>、<a class="ae lo" href="https://www.linkedin.com/in/stephenlyssy/" rel="noopener ugc nofollow" target="_blank">斯蒂芬·莱西</a>和<a class="ae lo" href="https://www.linkedin.com/in/dougaf/" rel="noopener ugc nofollow" target="_blank">道格拉斯·富兰克林</a>。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/550dace99547bdcc003e8a56d2d1e184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qrXc4GekVw5sAc3mgzbmMA.jpeg"/></div></div><p class="mb mc gj gh gi md me bd b be z dk translated">照片由迈克尔·里维拉·🇵🇭在Unsplash上拍摄</p></figure><p id="fecf" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">Python非常适合面向对象编程(OOP)。面向对象编程关注的是由属性和方法组成的对象。属性是数据，方法是作用于属性和其他数据的函数。类在Python中很常见。</p><p id="8e48" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">一个类可以被认为是一个对象的蓝图。Python程序员通过使用关键字“class”并添加定义它的属性和方法来创建类。一旦我们有了蓝图，我们就可以轻松地重用它们来创建一个实例。</p><p id="7091" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">因为Python是一种多范例语言，所以它不仅可以用于面向对象编程，还可以用于函数式编程！您可以编写一个使用其中一种范式甚至两种范式的Python程序。</p><p id="aa71" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">面向对象编程将逻辑和数据结合成对象，而函数式编程将逻辑和数据分开。我们将说明这两种范例都可以用来获得相似的结果。</p><p id="4c06" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">先说功能性的。程序员往往更熟悉OOP。</p><h2 id="66db" class="mf mg it bd mh mi mj dn mk ml mm dp mn lb mo mp mq lf mr ms mt lj mu mv mw iz bi translated">什么是currying，它如何表现得像一个类？</h2><p id="f907" class="pw-post-body-paragraph ks kt it ku b kv mx ke kx ky my kh la lb mz ld le lf na lh li lj nb ll lm ln im bi translated">Currying是将接受多个参数的函数简化为单参数函数的过程。</p><p id="190e" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我们可以把班级想象成一个蓝图。让我们把currying想象成一个生产函数的工厂——在下面的例子中，是柑橘榨汁机。</p><h1 id="2667" class="nc mg it bd mh nd ne nf mk ng nh ni mn kj nj kk mq km nk kn mt kp nl kq mw nm bi translated">咖喱和水果榨汁机</h1><p id="b4b7" class="pw-post-body-paragraph ks kt it ku b kv mx ke kx ky my kh la lb mz ld le lf na lh li lj nb ll lm ln im bi translated">让我们用一个柑橘榨汁机厂的例子，他们生产的柑橘榨汁机和新鲜果汁来解释currying。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nn"><img src="../Images/6fc1b90bb657d4a42484ce3ea7399274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SyfYDxsBv-oLa1zjC4hobQ.jpeg"/></div></div><p class="mb mc gj gh gi md me bd b be z dk translated">照片由Edgar Castrejon在Unsplash上拍摄</p></figure><p id="bfef" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">柑橘榨汁机厂回一个柑橘榨汁机，是取水果，回果汁的功能。那么，我们怎样才能从一家生产榨汁机的工厂变成一杯新鲜的果汁呢？</p><p id="3f2f" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我们追求功能。看看下面的代码。</p><figure class="lq lr ls lt gt lu"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="cf60" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">注意我们如何与第31行及以下的函数交互。首先，我们使用<code class="fe nq nr ns nt b">citrus_press_factory</code>创建一个名为<code class="fe nq nr ns nt b">lemon_press</code>的新函数。然后我们通过<code class="fe nq nr ns nt b">“lemon”</code>和<code class="fe nq nr ns nt b">“lime” </code>到我们的<code class="fe nq nr ns nt b">lemon_press</code>去取一些新鲜的果汁，味道很好但是有点酸。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nu"><img src="../Images/1ce5fd709f76528dde2885c442d8cc6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6iCTJqS3kgaTvjx3vGkspg.png"/></div></div></figure><p id="f6b9" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我们去喝点更甜的吧，橙汁。在第34行，我们试图传递一个<code class="fe nq nr ns nt b">“orange”</code>到我们的lemon press中，产生一个错误。看起来柠檬榨汁机只能用柠檬和酸橙！如果我们真的想做橙汁，我们就必须用我们的<code class="fe nq nr ns nt b">citrus_press_factory</code>来做一个橙子榨汁机！</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nv"><img src="../Images/c97cb3b5c0541c0a00e39a79cfd44cae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g6-MTtEUkuSFDBkdEKbz7A.png"/></div></div><p class="mb mc gj gh gi md me bd b be z dk translated">试着用柠檬榨汁机榨橙汁</p></figure><p id="8b30" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">根据工厂规范，我们似乎可以做一个柚子压榨机来榨出一些柚子汁。但是当我们试图在第36行为此目的制作一个pomelo press时会发生什么呢？</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nw"><img src="../Images/bad242910acd7c65654e669041b81ecc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wdaaQsL4uBM7Yqoe_b2h3g.png"/></div></div><p class="mb mc gj gh gi md me bd b be z dk translated">试图在我们的柑橘工厂制造一台柚子压榨机</p></figure><p id="370d" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">看起来我们又遇到了一个错误。要创建一个<code class="fe nq nr ns nt b">citrus_press</code>的实例，你必须使用<code class="fe nq nr ns nt b">citrus_press_factory.</code>中的一个有效值。类似地，要制作一些果汁，你向<code class="fe nq nr ns nt b">citrus_press</code>传递一个水果，它可以用它作为输入。</p><p id="d221" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">既然我们已经理解了currying，那么让我们用一个Python类并把它重写为currying模式。</p><h1 id="1592" class="nc mg it bd mh nd ne nf mk ng nh ni mn kj nj kk mq km nk kn mt kp nl kq mw nm bi translated">Python类—口袋妖怪</h1><p id="5867" class="pw-post-body-paragraph ks kt it ku b kv mx ke kx ky my kh la lb mz ld le lf na lh li lj nb ll lm ln im bi translated">在下面的例子中，我们创建了一个名为Pokemon的类。当我们在第5行使用带有参数<code class="fe nq nr ns nt b">self</code>和<code class="fe nq nr ns nt b">sound </code>的<code class="fe nq nr ns nt b">__init__</code>方法时，Pokemon类被实例化。</p><p id="c503" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">要了解更多关于Python中的类的背景知识，请阅读由Sadrach Pierre博士撰写的文章</p><div class="nz oa gp gr ob oc"><a rel="noopener follow" target="_blank" href="/classes-in-python-e31c21120c3d"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd je gy z fp oh fr fs oi fu fw jd bi translated">Python中的类</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">理解面向对象编程</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq lz oc"/></div></div></a></div><p id="b387" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">接下来，我们在Pokemon类中创建一个名为<code class="fe nq nr ns nt b">cry</code>的方法，该方法返回<code class="fe nq nr ns nt b">sound</code>。在这种情况下，<code class="fe nq nr ns nt b">sound </code>是数据，<code class="fe nq nr ns nt b">cry </code>是逻辑。注意类<code class="fe nq nr ns nt b">Pokemon</code>如何将数据存储为<code class="fe nq nr ns nt b">self.sound</code>。</p><figure class="lq lr ls lt gt lu"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="e281" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">既然Pokemon类已经创建好了，我们可以用它来创建一个<strong class="ku je">对象</strong>。在第23行，我们创建了一个名为<code class="fe nq nr ns nt b">pikachu </code>的类实例，并传递了<code class="fe nq nr ns nt b">sound</code>“Pika”第24行显示<code class="fe nq nr ns nt b">pikachu.cry()</code>返回“Pika”</p><p id="afbe" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我们如何用数据和逻辑分离来创建这种行为？</p><h2 id="2dc6" class="mf mg it bd mh mi mj dn mk ml mm dp mn lb mo mp mq lf mr ms mt lj mu mv mw iz bi translated">“T21”怎么能产生类似的结果呢</h2><p id="394a" class="pw-post-body-paragraph ks kt it ku b kv mx ke kx ky my kh la lb mz ld le lf na lh li lj nb ll lm ln im bi translated">如前所述，我们使用currying将多参数函数分解成连续的单参数函数。为此，我们首先在第11行创建一个名为<code class="fe nq nr ns nt b">make_pokemon</code>的函数，它接受参数<code class="fe nq nr ns nt b">sound</code>并返回<code class="fe nq nr ns nt b">cry</code>。函数<code class="fe nq nr ns nt b">cry</code>返回传递给<code class="fe nq nr ns nt b">make_pokemon</code>的<code class="fe nq nr ns nt b">sound</code>。</p><p id="ddb6" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">让我们调用这些函数来说明它们的行为。回想一下我们的果汁压榨机的例子！</p><p id="1c0b" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">通过将<code class="fe nq nr ns nt b">make_pokemon(“Pika”)</code>的结果存储为<code class="fe nq nr ns nt b">pickachu_cry</code>,我们创建了一个新函数，在被调用时返回“Pika”。</p><p id="3365" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我们看到两者:</p><figure class="lq lr ls lt gt lu"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="6a2e" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">和</p><figure class="lq lr ls lt gt lu"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="d700" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">回报同样的叫声，“鼠兔。”</p><p id="2c96" class="pw-post-body-paragraph ks kt it ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">这表明创建一个类和使用固化可以产生相同的结果。在这两个例子中，我们都创建了可重用的代码。此外，这两个选项都允许程序员在程序中的单个位置对代码进行更改。</p></div></div>    
</body>
</html>