<html>
<head>
<title>Create a Surfing Web App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建一个网上冲浪应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-a-surfing-web-app-34da6201f57e?source=collection_archive---------34-----------------------#2021-05-28">https://towardsdatascience.com/create-a-surfing-web-app-34da6201f57e?source=collection_archive---------34-----------------------#2021-05-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="778e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">python如何帮助你找到完美的冲浪板</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9379f751192a678ca97ab77110f3184f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*htpSv214zoqprqVP"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@nicobhlr?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> NICO BHLR </a>拍摄的照片</p></figure><p id="b9ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">企业支付天文数字的数据，以确保他们领先竞争对手一步。有了免费的数据集，特别是关于最理想的冲浪板，冲浪就意味着商业，对吗？</p><h1 id="6561" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">什么是Python Web App？</h1><p id="11e5" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Python web应用程序是一个网页，其中的指令/动作是使用Python编程创建的。例如，以下代码片段创建了一个下拉选项，用户可以在其中选择多个波高作为过滤器:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="ea6c" class="mx lw it mt b gy my mz l na nb">wave_height = st.sidebar.multiselect(<strong class="mt iu">"Wave height"</strong>, df[<strong class="mt iu">'wave_height'</strong>].unique())<br/>st.write(<strong class="mt iu">"Wave height selected"</strong>, wave_height)</span></pre><p id="049c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一种创造性的方式来展示您的python脚本可以做什么，而不需要其他人在他们的计算机上安装python-他们所需要的只是互联网连接。</p><p id="08f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然python有助于定义您在web应用程序上的操作，但web框架会处理细节。这就是<a class="ae ky" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">细流</strong> </a>的用武之地。<strong class="lb iu"> Streamlit </strong>为您设计仪表板。</p><blockquote class="nc nd ne"><p id="c359" class="kz la nf lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated">“Streamlit可在几分钟内将数据脚本转化为可共享的web应用。<br/>全部用Python。全部免费。不需要前端经验。”— <a class="ae ky" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank">细流公司，2021年</a></p></blockquote><p id="8382" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本教程将使用<strong class="lb iu"> Streamlit </strong>作为web框架的选择，但是，理解其他选择也是有好处的</p><h1 id="b045" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Web框架</h1><p id="a9d1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">用于使用基于Python的编程来构建web应用的流行web框架包括:<a class="ae ky" href="https://plotly.com/dash/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Dash </strong> </a> <strong class="lb iu">，</strong><a class="ae ky" href="https://docs.streamlit.io/en/stable/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">Streamlit</strong></a><strong class="lb iu">，</strong><a class="ae ky" href="https://pypi.org/project/viola/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">Voila</strong></a><strong class="lb iu">，</strong><a class="ae ky" href="https://flask.palletsprojects.com/en/2.0.x/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">Flask</strong></a><strong class="lb iu">和</strong><a class="ae ky" href="https://www.djangoproject.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">Django</strong></a><strong class="lb iu">。</strong></p><p id="05cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Flask </strong>是一个没有数据分析能力的web框架。它更像是一个<em class="nf">“从零开始建造”</em>的工程工具，允许更多的定制。它更擅长构建较小的定制应用和网站，如Reddit和Airbnb。而<strong class="lb iu"> Django </strong>则致力于帮助创建流量更大的复杂网站，如Spotify和Instagram。</p><p id="de52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<strong class="lb iu"> Flask </strong>是一个web框架的情况下，<strong class="lb iu"> Streamlit </strong>和<strong class="lb iu"> Dash </strong>将例如在<strong class="lb iu"> Flask </strong>上运行，因为它们被认为是<em class="nf">“仪表板工具”。</em> <strong class="lb iu"> Streamlit </strong>是向利益相关者展示“价值证明”的绝佳方式，而<strong class="lb iu"> Dash </strong>则是在您需要将仪表板投入生产并供公司使用的情况下。</p><p id="c6b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你在Jupyter Notebook中编写代码，并希望在网页上显示你的发现，那么你可以使用像<strong class="lb iu"> Viola </strong>这样的插件。Streamlit 还不能在Jupyter笔记本上使用，但是可以运行你的<em class="nf">。例如PyCharm中的py </em>文件。</p><p id="e831" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在选择了最适合的web框架之后，你还需要选择一个web服务器来托管你的网站，这里有各种免费和付费的选项。</p><p id="5bab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个流行的例子是<a class="ae ky" href="https://cloud.google.com/appengine/docs/standard/python3" rel="noopener ugc nofollow" target="_blank">谷歌应用引擎</a>，它是在你的谷歌云项目下创建的。其他受欢迎的云提供商包括<a class="ae ky" href="https://aws.amazon.com/what-is-aws/" rel="noopener ugc nofollow" target="_blank">亚马逊网络服务(AWS) </a>和<a class="ae ky" href="https://azure.microsoft.com/en-us/overview/what-is-azure/" rel="noopener ugc nofollow" target="_blank">微软Azure </a>。</p><p id="43fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://cdn.ttgtmedia.com/rms/pdf/A_cloud_services_cheat_sheet_for_AWS_Azure_and_Google_Cloud_PDF.pdf" rel="noopener ugc nofollow" target="_blank">这里的</a>是比较这三种云服务的备忘单:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/3c7258639568e48a75a53c2f51fc9099.png" data-original-src="https://miro.medium.com/v2/format:webp/1*EZ9ue9UyRuZvflMAKaFpKg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(崔佛·琼斯，2020，<a class="ae ky" href="https://cdn.ttgtmedia.com/rms/pdf/A_cloud_services_cheat_sheet_for_AWS_Azure_and_Google_Cloud_PDF.pdf" rel="noopener ugc nofollow" target="_blank">来源</a>)</p></figure><h1 id="f683" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">工作示例</h1><h2 id="1caf" class="mx lw it bd lx nk nl dn mb nm nn dp mf li no np mh lm nq nr mj lq ns nt ml nu bi translated">数据</h2><p id="58a7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">你可以从<a class="ae ky" href="https://www.kaggle.com/loureiro85/surfing" rel="noopener ugc nofollow" target="_blank"> kaggle </a>(作者:<a class="ae ky" href="https://www.kaggle.com/loureiro85" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"/>【洛雷罗】</a> <strong class="lb iu"> ) </strong>下载我在这个工作示例中使用的公开可用的数据集。<em class="nf"> df_surf.csv </em>数据集是由冲浪者回答的在线调查。每一行代表一个单独的冲浪者，每一列代表回答的问题。这些问题涉及冲浪板、波浪、冲浪者、操作和冲浪者的表现。</p><h2 id="d693" class="mx lw it bd lx nk nl dn mb nm nn dp mf li no np mh lm nq nr mj lq ns nt ml nu bi translated">创建您的项目</h2><p id="ffbf" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">通过在PyCharm中创建新项目，它将为您创建一个<em class="nf">‘main . py’</em>文件。将<em class="nf"> df_surf.csv </em>保存在与此<em class="nf"> main.py </em>文件相同的位置。您可以重命名。py文件，但是要确保修改我的代码来导入您重命名的文件。</p><p id="86cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在PyCharm终端中，安装以下软件包:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4c8d" class="mx lw it mt b gy my mz l na nb">pip install streamlit<br/>pip install pandas<br/>pip install numpy</span></pre><p id="a051" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<em class="nf"> main.py </em>脚本中，插入以下代码，并查看我的注释。如果你是Streamlit的新手，<a class="ae ky" href="https://share.streamlit.io/daniellewisdl/streamlit-cheat-sheet/app.py #streamlit #python" rel="noopener ugc nofollow" target="_blank">这里的</a>是一张可以在<a class="ae ky" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> streamlit网站</a>上找到的备忘单，由<a class="ae ky" href="https://github.com/daniellewisDL" rel="noopener ugc nofollow" target="_blank"> Daniel Lewis </a>于2021年创建。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="860f" class="mx lw it mt b gy my mz l na nb">#import the packages</span><span id="2df7" class="mx lw it mt b gy nv mz l na nb">import pandas as pd<br/>import numpy as np<br/>import streamlit as st</span><span id="1f5a" class="mx lw it mt b gy nv mz l na nb"><em class="nf">#import the dataset and create a checkbox to shows the data on your website</em><br/>df1 = pd.read_csv(<strong class="mt iu">"df_surf.csv"</strong>)<br/>if st.checkbox(<strong class="mt iu">'Show Dataframe'</strong>):<br/>    st.write(df1)</span><span id="28cf" class="mx lw it mt b gy nv mz l na nb">#Insert some sentences in markdown format</span><span id="c473" class="mx lw it mt b gy nv mz l na nb"><strong class="mt iu">'''<br/># Surfing App<br/>'''</strong></span><span id="b01c" class="mx lw it mt b gy nv mz l na nb">#Read in data again, but by using streamlit's caching aspect. Our whole app re-runs every time we make small changes, which is infeasible the more complicated our code becomes. So this is the recommended way to import the data.</span><span id="54d4" class="mx lw it mt b gy nv mz l na nb">df = st.cache(pd.read_csv)(<strong class="mt iu">"df_surf.csv"</strong>)</span><span id="5e1b" class="mx lw it mt b gy nv mz l na nb">#create side bars that allow for multiple selections:</span><span id="c0bb" class="mx lw it mt b gy nv mz l na nb">age = st.sidebar.multiselect(<strong class="mt iu">"Select age"</strong>, df[<strong class="mt iu">'surfer_age'</strong>].unique())<br/>st.write(<strong class="mt iu">"Age selected"</strong>, age)</span><span id="f015" class="mx lw it mt b gy nv mz l na nb">weekly_surfs = st.sidebar.multiselect(<strong class="mt iu">"Surfer Exercise frequency"</strong>, df[<strong class="mt iu">'surfer_exercise_frequency'</strong>].unique())<br/>st.write(<strong class="mt iu">"Frequency selected"</strong>, weekly_surfs)</span><span id="3e8a" class="mx lw it mt b gy nv mz l na nb">surfer_experience = st.sidebar.multiselect(<strong class="mt iu">"Surfer Experience"</strong>, df[<strong class="mt iu">'surfer_experience'</strong>].unique())<br/>st.write(<strong class="mt iu">"Experience selected"</strong>, surfer_experience)</span><span id="4e0f" class="mx lw it mt b gy nv mz l na nb">surfer_gender = st.sidebar.multiselect(<strong class="mt iu">"Surfer Gender"</strong>, df[<strong class="mt iu">'surfer_gender'</strong>].unique())<br/>st.write(<strong class="mt iu">"Gender selected"</strong>, surfer_gender)</span><span id="f372" class="mx lw it mt b gy nv mz l na nb">wave_height = st.sidebar.multiselect(<strong class="mt iu">"Wave height"</strong>, df[<strong class="mt iu">'wave_height'</strong>].unique())<br/>st.write(<strong class="mt iu">"Wave height selected"</strong>, wave_height)</span><span id="84e9" class="mx lw it mt b gy nv mz l na nb">board_type = st.sidebar.multiselect(<strong class="mt iu">"Board Type"</strong>, df[<strong class="mt iu">'board_type'</strong>].unique())<br/>st.write(<strong class="mt iu">"Board type selected"</strong>, board_type)</span><span id="a6c0" class="mx lw it mt b gy nv mz l na nb">#create a sidebar to select the variable output you want to see after making your multiple selections</span><span id="0d86" class="mx lw it mt b gy nv mz l na nb">variables = st.sidebar.multiselect(<strong class="mt iu">"Select what you want to see for your selection"</strong>, df.columns)<br/>st.write(<strong class="mt iu">"You selected these variables"</strong>, variables)</span><span id="21b0" class="mx lw it mt b gy nv mz l na nb"># return the sub-set data  of variables you want to see</span><span id="4ba1" class="mx lw it mt b gy nv mz l na nb">selected_data = df[(df[<strong class="mt iu">'surfer_age'</strong>].isin(age))]<br/>subset_data = selected_data[variables]<br/>data_is_check = st.checkbox(<strong class="mt iu">"Display the data of selected variables"</strong>)<br/>if data_is_check:<br/>    st.write(subset_data)</span></pre><p id="874e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的终端中，您将运行以下命令:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="349b" class="mx lw it mt b gy my mz l na nb">streamlit run main.py</span></pre><p id="c6dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">终端中将出现以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/87f127a9388cdd2fa3a392b450a53279.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*bsX4q1NNtf7xZq12uGzw2w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="00b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击本地主机链接，您的web应用程序将在浏览器中打开:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/fb9699ef680e5fda667767b044ac846e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nyQOWHWM059Y1TuASJgs5Q.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6e73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是了。您自己的网络应用程序，探索棋盘类型和策略。</p><h1 id="cea6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="9d10" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">通过观察向这些冲浪者提出的一系列问题，你可以对实现特定动作所使用的冲浪板类型以及冲浪者的类型有所了解。一个从未在5英尺浪上做过削减的专业人士，还是一个用他/她的长板偷走所有乐趣的初学者？</p><p id="ac3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本教程只是一个入门，但你可以添加更多的数据，可视化，甚至视频剪辑来丰富你的故事。但在那之前，现在是时候去得到那个完美的波浪了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/d8c19cf74fdbc0146a41ffe17c1db1cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aI6Hog_VFR5JiLML"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@arstyy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">奥斯汀·尼尔</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div></div>    
</body>
</html>