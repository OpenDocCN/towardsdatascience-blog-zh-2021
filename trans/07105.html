<html>
<head>
<title>Exploring Seasonal Variations in Vegetation Cover around Indian Subcontinent</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索印度次大陆周围植被覆盖的季节变化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploring-seasonal-variations-in-vegetation-cover-around-indian-subcontinent-dd9885edbf4?source=collection_archive---------41-----------------------#2021-06-27">https://towardsdatascience.com/exploring-seasonal-variations-in-vegetation-cover-around-indian-subcontinent-dd9885edbf4?source=collection_archive---------41-----------------------#2021-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2aee" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用Python中的免费和开源工具创建植被季节变化的动画GIF</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/4f01a5f076c2282e4924d4c130fe6d28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/1*xRtH5QaqYt40PcnDO1KgjQ.gif"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">植被覆盖的季节变化:作者图片</p></figure><h1 id="39df" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">1.介绍</h1><p id="8684" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">植被在维持水、氧、碳、氮等各种生物地球化学循环的平衡中起着至关重要的作用。它强烈影响土壤特性，如土壤体积、化学性质和质地，并防止风和水对土壤的侵蚀。它是不可或缺的野生动物栖息地，也是地球上众多动物物种的能量来源。在这篇博文中，我将展示我们如何使用Python中的免费开源工具，只用几行代码就能直观地感受到印度次大陆周围植被覆盖的季节变化。</p><h1 id="e7dc" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">2.工作流程</h1><ul class=""><li id="fb9f" class="mf mg iq ll b lm ln lp lq ls mh lw mi ma mj me mk ml mm mn bi translated">导入库并初始化Google地球引擎(GEE)</li><li id="7e21" class="mf mg iq ll b lm mo lp mp ls mq lw mr ma ms me mk ml mm mn bi translated">定义感兴趣的区域</li><li id="41e6" class="mf mg iq ll b lm mo lp mp ls mq lw mr ma ms me mk ml mm mn bi translated">定义包含将用于动画帧的感兴趣区域的区域边界</li><li id="c4f0" class="mf mg iq ll b lm mo lp mp ls mq lw mr ma ms me mk ml mm mn bi translated">访问MODIS Terra植被16天指数。通过取中间值来减少同一个月的图像。</li><li id="91e8" class="mf mg iq ll b lm mo lp mp ls mq lw mr ma ms me mk ml mm mn bi translated">将缩小的每月图像绘制成动画GIF的帧。</li></ul><p id="344c" class="pw-post-body-paragraph lj lk iq ll b lm mt jr lo lp mu ju lr ls mv lu lv lw mw ly lz ma mx mc md me ij bi translated">我们将从python设置和GEE初始化开始。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="4634" class="nd ks iq mz b gy ne nf l ng nh">import geemap<br/>import ee</span><span id="4a73" class="nd ks iq mz b gy ni nf l ng nh">try:<br/> ee.Initialize()<br/>except:<br/> ee.Authenticate()<br/> ee.Initialize()</span></pre><h1 id="1196" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">3.数据处理</h1><p id="993a" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">正如工作流中所讨论的，我们现在定义分析和可视化的区域。我们将使用联合国粮食及农业组织(FAO)的<code class="fe nj nk nl mz b">FeatureCollection</code>，其中包含各国国际边界的GIS信息。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="948e" class="nd ks iq mz b gy ne nf l ng nh"># We use the country boundaries from Global Administrative Unit Layers (2015) provided by FAO(UN)<br/>india = ee.FeatureCollection("FAO/GAUL/2015/level0") \<br/>            .filter(ee.Filter.inList('ADM0_NAME', ['India', 'Jammu and Kashmir','Arunachal Pradesh',<br/>                                                   'China/India','Aksai Chin']));</span><span id="98bc" class="nd ks iq mz b gy ni nf l ng nh"># Define the regional bounds for animation frames.<br/>region = india.geometry().bounds();</span></pre><p id="5364" class="pw-post-body-paragraph lj lk iq ll b lm mt jr lo lp mu ju lr ls mv lu lv lw mw ly lz ma mx mc md me ij bi translated">在我们继续下一步之前，让我们进一步了解一下MODIS产品。MODIS代表中分辨率成像光谱仪。它由两个任务下的卫星组成——Aqua和Terra，并通过许多光谱带提供有关海洋、陆地和大气的丰富信息。这些卫星在1-2天内绕地球一周。MODIS图像的粗略分辨率在250米到1000米之间。它们可用于通过植被指数(如归一化差异植被指数(NDVI)、增强植被指数(EVI))和水分指数(如归一化差异水分指数(NDWI)、蒸散量(ET))了解植被的健康状况。MODIS通过测量海洋表面温度、海洋颜色和透明度来监测海洋。它还可用于监测森林火灾、土地利用变化、地表温度等。在本文中，我们将使用16天一次的MODIS植被指数。这些指数是从日常反射率数据中检索的，这些数据经过合成处理以去除低质量像素，因为大部分日常MODIS图像经常充满云，从而妨碍了其可用性。</p><p id="9ca7" class="pw-post-body-paragraph lj lk iq ll b lm mt jr lo lp mu ju lr ls mv lu lv lw mw ly lz ma mx mc md me ij bi translated">有了这个背景，让我们从停止的地方继续。我们过滤了2020日历年的MODIS图像集合。我们将通过取中间值对同一个月的图像进行分组。这将确保我们每个月有一个图像，全年有12个图像。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="6951" class="nd ks iq mz b gy ne nf l ng nh"># We use MODIS Terra Vegetation Indices 16-Day Global 1km distributed by NASA's Land Processes Distributed Active Archive Center (LP DAAC)</span><span id="1c39" class="nd ks iq mz b gy ni nf l ng nh">col = ee.ImageCollection('MODIS/006/MOD13A2').select('NDVI')\<br/>        .filterDate('2020-01-01','2020-12-31');</span><span id="6daa" class="nd ks iq mz b gy ni nf l ng nh">months = ee.List.sequence(1, 12);</span><span id="afdb" class="nd ks iq mz b gy ni nf l ng nh">def groupbyMonth(m):<br/>    img = col.filter(ee.Filter.calendarRange(m,m, 'month')).median()<br/>    return img;</span><span id="8e99" class="nd ks iq mz b gy ni nf l ng nh">colByMonth = ee.ImageCollection.fromImages(months.map(groupbyMonth))</span></pre><p id="1d9a" class="pw-post-body-paragraph lj lk iq ll b lm mt jr lo lp mu ju lr ls mv lu lv lw mw ly lz ma mx mc md me ij bi translated">使用<code class="fe nj nk nl mz b">col.size().getInfo()</code>和<code class="fe nj nk nl mz b">colByMonth.size().getInfo()</code>可以检查到，原始采集和每月采集中分别有23和12幅图像。</p><h1 id="7dae" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">4.测绘</h1><p id="de94" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">下一步是可视化这12张图片，它们是<code class="fe nj nk nl mz b">colByMonth</code>图片集的一部分。我们使用GEE目录中提供的相同调色板来设置可视化NDVI栅格的参数。作为参数提供的调色板在最小和最大NDVI值之间线性插值颜色。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="2537" class="nd ks iq mz b gy ne nf l ng nh"># We use the NDVI visualisation parameters from GEE catalogue<br/>gifParams = {<br/>    'region': region,<br/>    'dimensions': 600,<br/>    'crs': 'EPSG:3857',<br/>    'framesPerSecond': 1,<br/>    'min': 0.0,<br/>    'max': 9000.0,<br/>    'palette': ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',<br/>                '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',<br/>                '012E01', '011D01', '011301'],<br/>};</span><span id="1557" class="nd ks iq mz b gy ni nf l ng nh">gif_fname = 'C:\\Users\\ADMIN\\Desktop\\satellite\\geemap\\ndvi.gif'</span><span id="1ccc" class="nd ks iq mz b gy ni nf l ng nh">geemap.download_ee_video(colByMonth, gifParams, gif_fname)</span></pre><p id="e207" class="pw-post-body-paragraph lj lk iq ll b lm mt jr lo lp mu ju lr ls mv lu lv lw mw ly lz ma mx mc md me ij bi translated">一旦动画GIF准备就绪，我们将在GIF的每一帧上添加月份信息。这可以使用<code class="fe nj nk nl mz b">geemap</code>包的<code class="fe nj nk nl mz b">add_text_to_gif</code>功能轻松完成。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="fa30" class="nd ks iq mz b gy ne nf l ng nh"># Add the months information on each frame of GIF <br/>text = ['Jan-20','Feb-20','Mar-20','Apr-20','May-20','Jun-20','Jul-20','Aug-20','Sep-20','Oct-20','Nov-20','Dec-20']</span><span id="254b" class="nd ks iq mz b gy ni nf l ng nh">out_gif = 'C:\\Users\\ADMIN\\Desktop\\satellite\\geemap\\ndvi_out.gif'</span><span id="60a0" class="nd ks iq mz b gy ni nf l ng nh">geemap.add_text_to_gif(gif_fname, out_gif, xy = ('40%', '0%'), text_sequence = text, font_size=30, font_color = '#000000',duration = 1000)</span></pre><p id="1fb2" class="pw-post-body-paragraph lj lk iq ll b lm mt jr lo lp mu ju lr ls mv lu lv lw mw ly lz ma mx mc md me ij bi translated">您可以使用<code class="fe nj nk nl mz b">geemap</code>包的<code class="fe nj nk nl mz b">show_image</code>功能在Jupyter Notebook中可视化带注释的GIF。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="f59e" class="nd ks iq mz b gy ne nf l ng nh">geemap.show_image(out_gif)</span></pre><p id="6315" class="pw-post-body-paragraph lj lk iq ll b lm mt jr lo lp mu ju lr ls mv lu lv lw mw ly lz ma mx mc md me ij bi translated">我希望您喜欢阅读这篇文章，并在您的地理空间项目中使用它。请在下面的评论部分分享您对MODIS产品其他有趣使用案例的想法。</p><p id="0f89" class="pw-post-body-paragraph lj lk iq ll b lm mt jr lo lp mu ju lr ls mv lu lv lw mw ly lz ma mx mc md me ij bi translated"><em class="nm">免责声明:博客中表达的观点是个人观点。</em></p></div></div>    
</body>
</html>