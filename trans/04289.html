<html>
<head>
<title>SAP KPI: Efficiency (Manufacturing)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SAP KPI:效率(制造)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sap-kpi-efficiency-manufacturing-1a4b2fbf14ab?source=collection_archive---------29-----------------------#2021-04-11">https://towardsdatascience.com/sap-kpi-efficiency-manufacturing-1a4b2fbf14ab?source=collection_archive---------29-----------------------#2021-04-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="493c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">连接哪些SAP表来分析效率</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4da8ebf1f8e505b68579428126bfa982.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ALHqZUD_QNvcSj3OJ6gAxw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一切都是为了效率(法国岩石，作者图片)</p></figure><p id="6929" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">动机</strong>:</p><p id="592e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">即使是最好的制造工艺，其效率也会有所不同。随着时间的推移分析效率，将ERP中的数据存储在数据仓库中，这难道不是很有趣吗？下面的SQL从SAP BI的角度向您展示了如何实现这一目标。请注意，由于所有SAP ERP都是公司独有的，因此没有100%正确和完整的解决方案。但它肯定会指引你正确的方向。</p><p id="d584" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">解决</strong>:</p><p id="5d9f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您希望提高效率，表AFVV(工序数量、价值和日期)、AFVC(订单内的工序)和CRHD(工作中心标题)是我们感兴趣的中央SAP表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lu"><img src="../Images/4cf6be7a47c6cd191213bc255f1e3060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JRmmVA3vAaK-fkKzqXrhig.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">与生产计划PP模块相关的SAP表格(图片由作者提供)</p></figure><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a6b1" class="ma mb it lw b gy mc md l me mf">truncate table [etl].[Efficiency]<br/>insert into [etl].[Efficiency]<br/> (AUFNR, LMNGA, XMNGA, RMNGA, VGW01, VGW02, VGW03, ISM01, ISM02, ISM03, TSTP_DT ,<br/> AfvvErdat, AfvvAufpl, AfvvAplzl,AfvvMeinh, AfvcArbid, <br/> arbpl, BEGDA, ENDDA, CrhdWerks, CrhdObjty, iedd,efficiency, abteil, team, vornr)<br/> select distinct<br/> a.AUFNR, a.LMNGA, a.XMNGA, a.RMNGA, a.VGW01, a.VGW02, a.VGW03, a.ISM01, a.ISM02, a.ISM03, a.TSTP_DT ,<br/> a.ERDAT as AfvvErdat, a.aufpl as AfvvAufpl, a.aplzl as AfvvAplzl,a.MEINH as AfvvMeinh, b.arbid as AfvcArbid, <br/> c.arbpl, c.BEGDA, c.ENDDA, c.werks as CrhdWerks, c.OBJTY as CrhdObjty, a.iedd, 0 as efficiency, null as abteil, null as team, b.vornr<br/> from [AFVV] as a<br/> inner join [AFVC] as b<br/> on a.aufpl=b.AUFPL and a.APLZL=b.APLZL<br/> inner join [crhd] as c<br/> on b.arbid=c.OBJID</span></pre><p id="a753" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您只想分析特定状态，请使用表JEST进行映射:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d3f7" class="ma mb it lw b gy mc md l me mf">update [etl].[Efficiency]<br/>set JestStatActive= ‘WhatEverYourCompany’<br/>from [etl].[Efficiency] as j<br/>inner join [JEST] as jest<br/>on concat(‘WhatEverYourCompany’, j.aufnr) = jest.OBJNR<br/>where jest.inact&lt;&gt;’X’ and jest.stat =’WhatEverYourCompany'</span></pre><p id="cab1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们已经可以计算效率:标准值存储在vgw中，而先前确认的活动来自ism、总确认产量(lmnga)、总确认返工数量(rmnga)和总确认报废数量(xmnga):</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="b13d" class="ma mb it lw b gy mc md l me mf">update [etl].[Efficiency]<br/>set EfficiencyTotal =<br/>( case<br/> when (ism03 = 0) then (vgw01 + vgw02 * (lmnga + rmnga + xmnga))<br/> else (vgw01 + vgw03 * (lmnga + rmnga + xmnga))<br/>end)</span></pre><p id="1d23" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">也许你还想加上预订日期:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="93ff" class="ma mb it lw b gy mc md l me mf">update [etl].[Efficiency]<br/>set BookingDate= i.iedd<br/>FROM [etl].[Efficiency] as j<br/>Inner join [afvv] as i<br/>On j.AfvvAplzl = i.APLZL and j.AfvvAufpl=i.AUFPL</span></pre><p id="c15f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要检查测量单位(UoM)，请从AFVV转到vge:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="fd7d" class="ma mb it lw b gy mc md l me mf">update [etl].[Efficiency]<br/>set AfvvVge01 = i.vge01<br/>from [etl].[Efficiency] as j<br/>inner join [AFVV] as i<br/>on j.AUFNR = i.aufnr</span><span id="2b7e" class="ma mb it lw b gy mg md l me mf">update [etl].[Efficiency]<br/>set AfvvVge02 = i.vge02<br/>from [etl].[Efficiency] as j<br/>inner join [AFVV] as i<br/>on j.AUFNR = i.aufnr</span><span id="9a75" class="ma mb it lw b gy mg md l me mf">update [etl].[Efficiency]<br/>set AfvvVge03 = i.vge03<br/>from [etl].[Efficiency] as j<br/>inner join [AFVV] as i<br/>on j.AUFNR = i.aufnr</span></pre><p id="3a08" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">恭喜:</strong></p><p id="2ead" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们刚刚计算了ERP系统SAP的效率。非常感谢阅读，希望这是支持！有任何问题，请告诉我。你可以在<a class="ae mh" href="https://de.linkedin.com/in/jesko-rehberg-40653883" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或者<a class="ae mh" href="https://twitter.com/DAR_Analytics" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上和我联系。</p><p id="88b0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最初发表在我的网站<a class="ae mh" href="http://dar-analytics.com/" rel="noopener ugc nofollow" target="_blank"> DAR-Analytics </a>。</p></div></div>    
</body>
</html>