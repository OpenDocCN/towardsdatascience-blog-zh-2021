<html>
<head>
<title>Marimekko Charts with Plotly Express</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Plotly Express的Marimekko图表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/marimekko-charts-with-plotly-express-you-can-also-lie-with-charts-4ee98a30ed66?source=collection_archive---------31-----------------------#2021-04-26">https://towardsdatascience.com/marimekko-charts-with-plotly-express-you-can-also-lie-with-charts-4ee98a30ed66?source=collection_archive---------31-----------------------#2021-04-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><h1 id="4565" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">你也可以用图表撒谎</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/e83adfd9dfbf1e68122edc3160876cf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kn8rWhCF1ANCSCHiAoklbw.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">由Unsplash放大的图像</p></figure><h1 id="2386" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">数据可视化</strong></h1><p id="a221" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">假设你参加了一个商业计划竞赛。你需要展示一个令人信服的商业案例，因为投资者会根据你的讲述做出决定。</p><p id="3a6c" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">你必须包括视觉上有趣的图形和图像。但是在这里<strong class="lg iu">我们可能会犯双重错误</strong> : 1)观众会看到我们的数字并立即理解我们展示的想法；2)即使在专业环境中，观众也可以接收到一系列重要的复杂可视化，并以我们选择的方式掌握趋势、模式、相关性、比例、分布。</p><p id="1544" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">记住:数据可视化是一种交流工具。所以，我们必须经常问自己:我表达清楚了吗？我是否使用了一种不容置疑的数字？如果我们使用可变宽度条形图，这些问题尤其重要。</p><h1 id="a659" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">可变宽度条形图</strong></h1><p id="af21" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">有不同类型的<strong class="lg iu">可变宽度条形图</strong>，但有两种是最流行的:1)条形图；2) Marimekko图(Marimekko是芬兰的纺织品牌，有大而多样的形状图案，也有简单明亮的颜色和风格)。</p><p id="898a" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">它们在以下方面有所不同:一个<strong class="lg iu">条形图</strong> (BMc)类似于一个<a class="ae mh" href="https://medium.com/@dar.wtz/bar-graphs-why-how-8c031c224c9f" rel="noopener">“标准”条形图，</a>但是它的条形宽度是可变的；<strong class="lg iu"> Marimekko图</strong> (Mc)类似于1 <a class="ae mh" rel="noopener" target="_blank" href="/stacked-bar-charts-with-plotly-express-85885e91874f"> 00%堆积条形图</a> t，但其条形宽度可变，它是一个条形宽度可变的标准化柱形图。</p><p id="df83" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">两个图表都用于<strong class="lg iu">显示数据集中每个类别</strong>的两个数值变量<strong class="lg iu">；目标是<strong class="lg iu">在类别</strong>之间进行比较，而不是在数字变量之间进行比较。它们广泛用于仪表板或营销、销售和业务演示中。</strong></p><p id="c470" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">纵轴有一个数字刻度(在Marimekko图上为100%)，代表一个定量变量。<strong class="lg iu">横轴可以是数字，也可以是类别</strong>。如果是数字<strong class="lg iu">，每个矩形的宽度与第二个定量变量</strong>的值成比例，有不同的颜色，并有一个图例来标识它。如果是分类的，每个条形的宽度也表示第二个定量变量的值。</p><p id="92fe" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">与标准条形图不同的是，<strong class="lg iu">在条形</strong>之间没有留出空间(注意不要将麦可图与<a class="ae mh" href="https://medium.com/@dar.wtz/histograms-why-how-431a5cfbfcd5" rel="noopener">直方图</a>混淆)。)在BMc和Mc两者中，<strong class="lg iu">水平轴的整个宽度被占据</strong>。</p><p id="af3f" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated"><strong class="lg iu"> Mekko条形图</strong>是传统条形图的替代产品，可让您减少商业演示中图表的数量。为了实现这一点，图表通过条形的高度对一个数字变量进行编码，通过条形的宽度对另一个数量变量进行编码。</p><p id="0c0a" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated"><strong class="lg iu"> Marimekko图表</strong>是<a class="ae mh" rel="noopener" target="_blank" href="/clustered-overlapped-bar-charts-with-plotly-express-c752d2925cf1">簇状条形图</a>(分组条形图)的替代物，允许减少其在商业展示中的数量:它们显示与主要类别内的子组或子类别相关的数字信息。</p><p id="6f35" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated"><strong class="lg iu">不要混淆Mcs和spineplots </strong>。根据其最严格的定义，<strong class="lg iu"> spineplot </strong>是一个一维的水平堆积条形图，用于显示<a class="ae mh" href="https://en.wikipedia.org/wiki/Contingency_table" rel="noopener ugc nofollow" target="_blank">列联表</a>中两个交叉分类的分类变量的频率、比例或百分比。这种混乱是因为一些spineplots可视化工具允许垂直方向，他们称之为<strong class="lg iu">马赛克图</strong>。这个术语也被错误地归因于Marimekko图表，但应该保留给那些允许<strong class="lg iu">通过可变宽度矩形检查两个或更多分类变量</strong>之间关系的图表。</p><h1 id="561e" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">带有Plotly Express的Marimekko图表</strong></h1><p id="3625" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">总部位于加拿大蒙特利尔的计算公司Plotly开发了plotly.py，这是一个用于Python的交互式开源可视化工具。2019年，该公司发布了Plotly 4.0，其中包括<strong class="lg iu"> Plotly Express </strong>，这是一个与Plotly生态系统的其余部分<strong class="lg iu">完全兼容的高级包装器。</strong></p><p id="5bc8" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated"><strong class="lg iu"> Plotly </strong>提供了一组名为<em class="mi">的图形对象</em>的类，可以用来构造图形。<em class="mi"> plotly.graph_objects </em>模块包含了Python类的层次结构。<em class="mi">图</em>是初级类。<em class="mi">图</em>有一个<strong class="lg iu">数据属性</strong>和一个<strong class="lg iu">布局属性</strong>。数据属性有40多个对象，每个对象引用一个特定类型的图表(<strong class="lg iu"> trace) </strong>及其相应的参数。布局属性指定图形的整体属性(轴、标题、形状、图例等。).</p><p id="d300" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">我们使用了从Kaggle下载的数据集。该数据集包含从VzCharts收集的与视频游戏销售和游戏评级数据相关的记录。我们特别选取了三个csv文件:1)索尼[1]关于<strong class="lg iu"> Playstation 4 </strong>平台上视频游戏销售的1031条记录；2) 422条关于<strong class="lg iu">微软Xbox One </strong>主机【2】上视频游戏销售的记录；3) 11563条关于来自不同发行商【3】的<strong class="lg iu">视频游戏</strong> <strong class="lg iu">销售的记录。我们想知道不同平台的销售额在全球几个地区的分布情况。</strong></p><p id="5e44" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">首先，我们导入Plotly Express为<em class="mi"> px，</em>模块<em class="mi"> plotly.graph_objects </em>为<em class="mi"> go </em>，库Numpy &amp; Pandas分别为<em class="mi"> np </em>和<em class="mi"> pd </em>。</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="5c69" class="mo jr it mk b gy mp mq l mr ms">import plotly.graph_objects as go</span><span id="366a" class="mo jr it mk b gy mt mq l mr ms">import plotly.express as px</span><span id="7397" class="mo jr it mk b gy mt mq l mr ms">import numpy  as np</span><span id="ebe9" class="mo jr it mk b gy mt mq l mr ms">import pandas as pd</span></pre><p id="c2d0" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">然后，我们使用<em class="mi"> read_csv </em>函数将逗号分隔值(<em class="mi"> csv </em>)文件读入它们对应的数据帧。</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="5dce" class="mo jr it mk b gy mp mq l mr ms">df1 = pd.read_csv(path + 'XboxOne_GameSales2.csv', <br/>                  index_col =False, header = 0, <br/>                  sep = ';',   engine='python')</span><span id="7ace" class="mo jr it mk b gy mt mq l mr ms">df2 = pd.read_csv(path + 'PS4_GamesSales2.csv', <br/>                  index_col = False, header = 0,<br/>                  sep = ';', engine='python')</span><span id="9543" class="mo jr it mk b gy mt mq l mr ms">df3 = pd.read_csv(path + 'Video_Games_Sales.csv', <br/>                  index_col = False, header = 0,<br/>                  sep = ';', engine='python')</span></pre><p id="a5d8" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">下面的截图显示了名为<em class="mi"> df1 </em>的数据集的前十条记录(对应XboxOne):</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/cca77170e4590a1f0832aed3768d027c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YnmlGH3nLlcbeiJbR0dSQw.png"/></div></div></figure><p id="1b11" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">名为<em class="mi"> df2 </em>的数据集具有与<em class="mi"> df1 </em>相同的列数和名称，但是<em class="mi">df3</em>(<em class="mi">Video _ Games _ Sales</em>)具有非常不同的布局:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mv"><img src="../Images/28f07d0f819a914c082d8d1a3df7af70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yvgvfL6dWXhkX_4QIX93-A.png"/></div></div></figure><p id="303e" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">对于我们的计算，我们只需要存储四个感兴趣地区(北美、欧洲、日本和世界其他地区)销售额的列。在<em class="mi"> df1 </em>和<em class="mi"> df2 </em>中，我们简单地选择相应的四列，但是<em class="mi"> df3 r </em>需要预处理来均衡数据。预处理任务只包括选择Nintendo sales并重命名四个选定的列:</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="ca61" class="mo jr it mk b gy mp mq l mr ms">df1 = df1[['North America', 'Europe', 'Japan', 'Rest of World']]</span><span id="2fa6" class="mo jr it mk b gy mt mq l mr ms">df2 = df2[['North America', 'Europe', 'Japan', 'Rest of World']]</span><span id="f9ff" class="mo jr it mk b gy mt mq l mr ms">df3 = df3.drop(df3[(df3.Publisher != 'Nintendo')].index)</span><span id="03e2" class="mo jr it mk b gy mt mq l mr ms">df3 = df3[['NA_Sales', 'EU_Sales', 'JP_Sales', 'Other_Sales']]</span><span id="4054" class="mo jr it mk b gy mt mq l mr ms">df3 = df3.rename(columns={'NA_Sales': 'North America', <br/>                          'EU_Sales': 'Europe',<br/>                          'JP_Sales': 'Japan',<br/>                          'Other_Sales' :'Rest of World'})</span></pre><p id="ad31" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">然后，我们将函数<em class="mi"> sum() </em>应用于三个数据帧。记住函数<em class="mi"> sum() </em>返回所请求的轴的值的总和。</p><p id="64da" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">同样，df3需要预处理，因为在应用函数<em class="mi"> sum() </em>之前，我们必须使用<em class="mi"> pd.to_numeric，errors = ' compete '将存储为object的列数据转换为数字。</em>选项<em class="mi">错误= '强制'</em>将非数值转换为<em class="mi"> NaN </em>。</p><p id="3a50" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">最后，我们将这三个文件连接起来，并在一个名为<em class="mi"> df4 </em>的新数据帧中计算各自的百分比。</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="db30" class="mo jr it mk b gy mp mq l mr ms">sum_1 = df1.sum(axis = 0, skipna = True)</span><span id="3779" class="mo jr it mk b gy mt mq l mr ms">sum_2 = df2.sum(axis = 0, skipna = True)</span><span id="4d48" class="mo jr it mk b gy mt mq l mr ms">df3 = df3.apply(pd.to_numeric, errors='coerce')</span><span id="f34f" class="mo jr it mk b gy mt mq l mr ms">sum_3 = df3.sum(axis = 0, skipna = True)</span><span id="84ed" class="mo jr it mk b gy mt mq l mr ms">list_df = [sum_1, sum_2, sum_3]</span><span id="0b98" class="mo jr it mk b gy mt mq l mr ms">df4 = pd.concat(list_df , axis = 1).reset_index()</span><span id="d201" class="mo jr it mk b gy mt mq l mr ms">df4.columns = ['region', 'xbox', 'ps4', 'nint']</span><span id="c32b" class="mo jr it mk b gy mt mq l mr ms">df4['perc_xbox'] = (df4['xbox'] / ( df4['xbox'] + df4['ps4'] + <br/>                    df4['nint'])) * 100</span><span id="f838" class="mo jr it mk b gy mt mq l mr ms">df4['perc_ps4']  = (df4['ps4']  / ( df4['xbox'] + df4['ps4'] + <br/>                    df4['nint'])) * 100</span><span id="7d5a" class="mo jr it mk b gy mt mq l mr ms">df4['perc_nint'] = (df4['nint'] / ( df4['xbox'] + df4['ps4'] + <br/>                    df4['nint'])) * 100</span></pre><p id="aa07" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">为了绘制一个可变宽度条形图，我们使用一个名为<em class="mi"> data </em>的字典进行堆栈排序，使用另一个名为<em class="mi"> colors </em>的字典进行条形颜色排序，并使用一个系列(<em class="mi">width</em>和一个变量(<em class="mi"> width_x </em>)来指定水平轴上条形的宽度:</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="d4dc" class="mo jr it mk b gy mp mq l mr ms">data = {"Nintendo": df4['perc_nint'],<br/>        "Xbox"    : df4['perc_xbox'],<br/>        "PS4"     : df4['perc_ps4']<br/>        }</span><span id="bbfa" class="mo jr it mk b gy mt mq l mr ms">colors= {"Nintendo": 'blue',<br/>         "Xbox"    : 'green',<br/>         "PS4"     : 'darkred'<br/>        }</span><span id="dfd2" class="mo jr it mk b gy mt mq l mr ms">widths  = sum_3<br/>x_width = sum_3.sum()</span></pre><p id="3c71" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">与<em class="mi"> plotly.graph_objects </em>的概念思路是使用。<em class="mi"> add_trace(去。</em>(bar())创建图然后添加等方法。<em class="mi">更新_布局()，。update_xaxes，。更新_yaxes </em>来操作图形。最后，我们用<em class="mi">导出图形。write_image() </em>用<em class="mi">渲染。显示()。</em></p><p id="bfe6" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">注意<em class="mi"> add_trace(go。Bar()) </em>根据我们在名为data的字典中决定的顺序，位于for循环内部。</p><p id="942c" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">我们用<em class="mi"> update.layout </em>更新了图表:设置标题文本、标题字体和图例字体，并设置图形尺寸(宽度和高度)。<em class="mi"> barmode = 'stack' </em>确定<strong class="lg iu">条堆叠在另一条的顶部</strong>。</p><p id="db7b" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">然后我们更新了x轴和y轴(文本、字体、tickfont)。将y轴范围设置在0到100%之间，将x轴范围设置在0到x_width之间。</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="e204" class="mo jr it mk b gy mp mq l mr ms">fig = go.Figure()<br/>for key in data:<br/>fig.add_trace(go.Bar(name = key,<br/>                     y = data[key],<br/>                     x = np.cumsum(widths) - widths,<br/>                     width = widths, offset = 0,<br/>                     marker = {'color' : colors[key]},<br/>                     customdata = data[key],<br/>                     texttemplate = "%{y:.2f}",<br/>                     textposition = "inside",<br/>                     textangle = 0,textfont_color = "white",<br/>                     textfont_size = 30))</span><span id="1835" class="mo jr it mk b gy mt mq l mr ms">fig.update_layout(title_text ="Sales of Consoles per Region",<br/>                  barmode = "stack",<br/>                  title_font_size  = 40,legend_font_size = 30,<br/>                  width = 1400, height = 1400)</span><span id="644d" class="mo jr it mk b gy mt mq l mr ms">fig.update_xaxes(title_text=<br/>                 'Width of each bar=Sales of Nintendo in MM',<br/>                 range = [0, x_width],  <br/>                 title_font_size = 30,                   <br/>                 tickvals = np.cumsum(widths)-widths/2,<br/>                 ticktext =["%s&lt;br&gt;%d"% l, w)for l,w <br/>                            in zip(labels, widths)],<br/>                 tickfont = dict(family='Calibri', <br/>                                color='black', size=25))</span><span id="6a6d" class="mo jr it mk b gy mt mq l mr ms">fig.update_yaxes(title_text = 'Percentage (%)',<br/>                 range = [0,100],<br/>                 title_font=dict(size=35,<br/>                                 family='Verdana', color='darkred'))</span><span id="0c9d" class="mo jr it mk b gy mt mq l mr ms">fig.write_image(path + "figmarimekko1.png")</span><span id="23cf" class="mo jr it mk b gy mt mq l mr ms">fig.show()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mw"><img src="../Images/f05ed8b579709c22ccc9864d1071a13e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kRiw272IErI_NifhABVD4g.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">图1:作者用Plotly Express制作的Marimekko图。</p></figure><p id="9796" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">图1在一张图表中描述了任天堂视频游戏在不同地区的累计销售额，以及不同游戏机对应的百分比。可以看到Marimekko图的特征要素:一个矩形区域被分成宽度不同的小矩形；垂直堆叠的矩形；占据图表整个宽度的水平轴；带有百分比刻度的垂直轴；特定品牌(任天堂)的总销售额在较低的基线上；不同的条形宽度允许计算每个地区对总销售额的相对贡献。</p><p id="8c25" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">但是堆叠顺序的选择完全是任意的。那么，如果我们改变顺序会发生什么呢？我们只需要对代码做一些简单的修改:</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="5070" class="mo jr it mk b gy mp mq l mr ms">data = {"Xbox"    : df4['perc_xbox'],<br/>        "PS4"     : df4['perc_ps4'],<br/>        "Nintendo": df4['perc_nint']<br/>        }<br/>widths  = sum_1<br/>x_width = sum_1.sum()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mw"><img src="../Images/8c060d7d37cf93457d709cc80542eee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u_xP68StaL5uax9fkHrrzA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">图2:作者用Plotly Express制作的Marimekko图。</p></figure><p id="02eb" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">在图2中，不同宽度的矩形是由感兴趣地区的不同XboxOne销售情况给出的。虽然不同游戏机之间的销售百分比保持不变，但观众会收到非常不同的信息，尤其是在日本。</p><p id="0420" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">如果横轴按PS4控制台销售进行细分，情况也是如此:</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="8ac5" class="mo jr it mk b gy mp mq l mr ms">data = {"PS4"     : df4['perc_ps4'],<br/>        "Nintendo": df4['perc_nint'],<br/>        "Xbox"    : df4['perc_xbox']<br/>        }<br/>widths  = sum_2<br/>x_width = sum_2.sum()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mw"><img src="../Images/ecde555510666b22c07fb9d0c36af266.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9XWSBryf-xHwC9RaOhjNLQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">图3:作者用Plotly Express制作的Marimekko图。</p></figure><p id="cb39" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">这是Marimekko图表的主要缺点:它们不仅<strong class="lg iu">难以阅读和解释</strong>，因为它们是基于观众通过比较区域来解码数字信息的能力，而且它们还会<strong class="lg iu">误导观众得出错误的结论</strong>。</p><p id="7521" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">正如Alberto Cairo明智地指出的那样[4]: <strong class="lg iu">“正如我们可以用统计数据撒谎一样，我们也可以用图表撒谎”</strong></p><p id="4d7e" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">如果你对这篇文章感兴趣，请阅读我以前的(<a class="ae mh" href="https://medium.com/@dar.wtz" rel="noopener">https://medium.com/@dar.wtz</a>):</p><p id="54a9" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">带有Plotly Express、趋势线和分面的散点图</p><div class="mx my gp gr mz na"><a rel="noopener follow" target="_blank" href="/scatter-plots-with-plotly-express-1b7f5579919b"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">用Plotly Express散点图</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">趋势线和刻面</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">towardsdatascience.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ky na"/></div></div></a></div><p id="11dd" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">带有Plotly Express、主题和模板的直方图</p><div class="mx my gp gr mz na"><a rel="noopener follow" target="_blank" href="/histograms-with-plotly-express-e9e134ae37ad"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">用Plotly表示的直方图</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">主题和模板</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">towardsdatascience.com</p></div></div><div class="nj l"><div class="np l nl nm nn nj no ky na"/></div></div></a></div><p id="63a7" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated"><strong class="lg iu">参考文献</strong></p><p id="46cd" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">【1】:<a class="ae mh" href="https://www.kaggle.com/sidtwr/videogames-sales-dataset?select=PS4_GamesSales.csv" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/sidtwr/videogames-sales-dataset?select=PS4_GamesSales.csv </a></p><p id="628b" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">[2]:https://www.kaggle.com/sidtwr/videogames-sales-dataset?select = Xbox one _ gamesales . CSV</p><p id="7f0e" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">[3]:https://www.kaggle.com/sidtwr/videogames-sales-dataset?select = Video _ Games _ Sales _ as _ at _ 22 _ Dec _ 2016 . CSV</p><p id="5972" class="pw-post-body-paragraph le lf it lg b lh mc lj lk ll md ln lo lp me lr ls lt mf lv lw lx mg lz ma mb im bi translated">[4]:<a class="ae mh" href="http://albertocairo.com/" rel="noopener ugc nofollow" target="_blank">http://albertocairo.com/</a></p></div></div>    
</body>
</html>