<html>
<head>
<title>A Checklist for Data pre-processing before you build your Machine Learning Model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建机器学习模型之前的数据预处理清单</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-checklist-for-data-pre-processing-before-you-build-your-machine-learning-model-91d2d04dc53f?source=collection_archive---------9-----------------------#2021-05-03">https://towardsdatascience.com/a-checklist-for-data-pre-processing-before-you-build-your-machine-learning-model-91d2d04dc53f?source=collection_archive---------9-----------------------#2021-05-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1fdb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建机器学习数据集的数据预处理要做的事情列表(以及一些方便的技巧)</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/827b382bc649853ce17f8c4793230269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hu8G6t1-geT8oAoVu8Dfpg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片提供:unsplash.com</p></figure><h1 id="6e60" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">在这篇文章中</h1><p id="95c9" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在本文中，我们将看到预处理中涉及的数据处理步骤是什么，以及python中执行这些操作的一些相关代码。</p><p id="05d0" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">我们还将看到需要建立一个详尽的预处理步骤清单，您可以在您的数据集上应用。<em class="mr"> </em> <strong class="ls iu">本文提供了一份入门清单。它可以作为你正在处理的特定项目的基础。</strong></p><h2 id="ad33" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">背景</h2><p id="2c33" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">大多数机器学习算法需要干净的数据集作为算法的输入。</p><p id="53cf" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这些是您的<code class="fe ne nf ng nh b">train </code>和<code class="fe ne nf ng nh b">test </code>数据集。这些数据集进一步分为通常所说的<code class="fe ne nf ng nh b">x-train, y-train</code>和<code class="fe ne nf ng nh b">x-test, y-test</code>数据集。x-train和x-test被称为特征向量(因为它们包含代表<code class="fe ne nf ng nh b">x-variables</code>或<code class="fe ne nf ng nh b">features</code>的列)。<code class="fe ne nf ng nh b">y-train</code>和<code class="fe ne nf ng nh b">y-test</code>代表目标变量的数据集。</p><p id="576b" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">但是在得到干净的数据集之前，我们需要对原始输入数据集执行一些广泛的操作，以最终得到可用的数据集。这里有一些清单和问题要问(作为一个数据工程师/分析师)，以达到你的机器学习算法的最终干净输入。</p><h2 id="38b9" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">命名</h2><p id="6cad" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在本文中，我们将使用以下名称来指代变量—</p><p id="28af" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe ne nf ng nh b">df</code> —数据帧的变量名</p><p id="023f" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe ne nf ng nh b">X_train</code> —训练数据集(x变量)</p><p id="2f63" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe ne nf ng nh b">y_train</code> —训练数据集(y变量/目标变量)</p><p id="ee41" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe ne nf ng nh b">X_test </code> —测试数据集(x变量)</p><p id="bdc6" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe ne nf ng nh b">y_test </code> —测试数据集(y变量/目标变量)</p><h2 id="9ea2" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">摘要</h2><p id="3d90" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这些是我们将在本文中详细讨论的检查—</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="3c99" class="ms kz it nh b gy nm nn l no np"><strong class="nh iu">1.Check for Data Types<br/>2.Check Columns Names<br/>3.Check for Missing Values<br/>4.Check for Bad Data <br/>5.Imputation of Null values<br/>6.Check for distribution type<br/>7.Scaling the data <br/>8.Checks for outliers <br/>9.Check for data Imbalance <br/>10.Perform necessary transformations<br/>11.Perform feature Engineering <br/>12.Binning Continuous data <br/>13.Feature selection</strong></span></pre><h2 id="f8ef" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated"><strong class="ak">数据集</strong></h2><p id="3dac" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们将使用"<em class="mr">波士顿房价数据"</em>(你可以从这里得到这个:<a class="ae nq" href="https://www.cs.toronto.edu/~delve/data/boston/bostonDetail.html" rel="noopener ugc nofollow" target="_blank">https://www . cs . Toronto . edu/~ delve/data/Boston/Boston detail . html</a>或这里<a class="ae nq" href="http://lib.stat.cmu.edu/datasets/boston" rel="noopener ugc nofollow" target="_blank">http://lib.stat.cmu.edu/datasets/boston</a>)</p><p id="e1a4" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">为了方便用例，我们将对原始数据集进行一些更改(<em class="mr">例如:重命名一些列，引入一些空值等，以演示代码</em>)</p><p id="e55e" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">数据包含以下各列—</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="6a12" class="ms kz it nh b gy nm nn l no np">&gt;&gt; df.dtypes</span><span id="5535" class="ms kz it nh b gy nr nn l no np">CRIM       float64<br/>ZN         float64<br/>INDUS      float64<br/>CHAS         int64<br/>NOX        float64<br/>RM         float64<br/>AGE        float64<br/>DIS        float64<br/>RAD          int64<br/>TAX         object<br/>PTRATIO    float64<br/>B          float64<br/>LSTAT      float64<br/>Price      float64<br/>dtype: object</span></pre><h1 id="dcb6" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">数据预处理的详细清单</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/4497771cc2dc2d15940290554da6428b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RU89TcfRAR5mmclMX9x57w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片提供:unsplash.com</p></figure><h2 id="6a72" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">1.检查数据类型</h2><ul class=""><li id="3fc6" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">每列中代表哪种数据？</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="abd3" class="ms kz it nh b gy nm nn l no np">df.dtypes    # Displays all the data types of the columns in df</span></pre><ul class=""><li id="9c95" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">所有的列都被正确分类为正确的数据类型了吗？如果不是，请更改数据类型。</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="7e90" class="ms kz it nh b gy nm nn l no np">#change the datatype to float</span><span id="b5ad" class="ms kz it nh b gy nr nn l no np">df['col'] = df['col'].astype('float')</span></pre><ul class=""><li id="89cb" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">有应该是数字的分类列吗(反之亦然)？</li></ul><p id="e322" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">邮政编码通常被归类为数字，但是它们确实是分类的。熊猫会将它们解析为正确的数据类型吗？</p><p id="e5bc" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><em class="mr">例如:日期类型分类正确吗——还是用'</em> <code class="fe ne nf ng nh b"><em class="mr">object</em></code> <em class="mr"> ' </em>表示</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/99a79c6605a22a96c3c932b46d04eabe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*d7fkc-axbrFIBHlRRSOwzg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:https://numpy.org/doc/stable/reference/arrays.scalars.html</p></figure><p id="1f87" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">提示1: </strong>要查看数据的描述，(不仅仅是连续变量，使用<code class="fe ne nf ng nh b">include = 'all’</code>参数。这包括你的分类变量的其他函数，如<code class="fe ne nf ng nh b">unique</code>、<code class="fe ne nf ng nh b">top</code>和<code class="fe ne nf ng nh b">freq</code>。</p><p id="a015" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">提示#2 </strong>:如果你有很多列，在数据框<code class="fe ne nf ng nh b">.T </code>上使用转置功能将有助于你在一个页面中查看它(一个在另一个下面，而不是水平方向，这可能会截断显示的列数，基于你的jupyter笔记本设置)</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="3718" class="ms kz it nh b gy nm nn l no np">data.describe(include='all').T</span></pre><p id="0642" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">提示#3: </strong>如果您只想选择分类列，请使用<code class="fe ne nf ng nh b">select_dtypes</code>函数</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="967e" class="ms kz it nh b gy nm nn l no np">cat_cols = data.select_dtypes(include=[“object”, “category”]).columns.tolist()</span></pre><p id="73eb" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">提示#4 </strong>:要仅选择数字列，</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="249f" class="ms kz it nh b gy nm nn l no np">num_cols = data.select_dtypes(include=[“number”]).columns.tolist()</span></pre><h2 id="1238" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">2.准备数据集—检查列名</h2><ul class=""><li id="ee46" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">列名是否有冗长的名称、特殊字符、空格等？如果是，是否必须更改列名？</li></ul><p id="7f5e" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">提示:</strong>如果删除列名中的空格，对列的操作会更容易。</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="04be" class="ms kz it nh b gy nm nn l no np">data.columns =[col.replace(' ','_') for col in data.columns]</span><span id="e02f" class="ms kz it nh b gy nr nn l no np">#replacing spaces in column names with '_'</span></pre><h2 id="3e9f" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">3.缺失值-删除还是估算？</h2><ul class=""><li id="4366" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">您的任何要素是否有缺失值？</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="8e49" class="ms kz it nh b gy nm nn l no np">df.info()  # shows non-null values and dtypes in a single command</span><span id="aec9" class="ms kz it nh b gy nr nn l no np">#or</span><span id="7cfd" class="ms kz it nh b gy nr nn l no np">df.isnull().sum()</span><span id="3219" class="ms kz it nh b gy nr nn l no np"># or to display the sum of ALL nulls in the dataframe</span><span id="9e0e" class="ms kz it nh b gy nr nn l no np">df.isnull().sum().sum()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/e5420c2a42a1406e27ea5c50bc19bedf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*e6zf9CCzlQkHUwaWDd6XYA.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">df.info()</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/b476c656a16575dc2fb2204770277027.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*0tBRU_KUNamgxAW3F8-06Q.jpeg"/></div></figure><ul class=""><li id="8a49" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">你应该对自己缺失的价值观做什么处理？</li><li id="8259" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">缺失值有什么模式吗？</li></ul><p id="51c9" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">例如:记录可能在第1列、第2列、第3列有一致的值</p><p id="f291" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在这个节骨眼上，有必要调查一下您丢失的数据中是否存在某种模式(并思考最初发生这种情况的可能原因)。检查他们是否—</p><p id="dd4b" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">随机失踪(MAR)<br/>·完全随机失踪(MCAR)<br/>·非随机失踪(MNAR)</p><p id="198a" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">如果一列中有许多缺失值(例如:约60%)，最好删除这些列(而不是试图用某个值来估算)</p><p id="e417" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">要查找数据帧中每列缺失数据的百分比</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="bd47" class="ms kz it nh b gy nm nn l no np">df_isna().sum()*100/len(df)</span><span id="3a83" class="ms kz it nh b gy nr nn l no np">#or </span><span id="95ac" class="ms kz it nh b gy nr nn l no np">df.isnull().sum()*100 / len(df)</span></pre><p id="5fa1" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">选择要删除的列，然后删除它们</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="4d1b" class="ms kz it nh b gy nm nn l no np"># dropping columns 'RAD' and 'RM'  ( if there are lots of missing values )<br/>df.drop(columns=["RAD", "RM"], inplace=True)</span></pre><p id="0708" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">如果您只想删除某一特定列的空值记录——</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="16f3" class="ms kz it nh b gy nm nn l no np"># Keeping only the records where the 'Price' column is not null.<br/>df = df[df["Price"].notna()]</span></pre><h2 id="0a4b" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">4.错误数据</h2><ul class=""><li id="4c17" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">你的数据集中有坏数据吗？(比如'？'还是'-'代表空值？).如果你替换它们，处理这些数据可能会容易些</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="1dd4" class="ms kz it nh b gy nm nn l no np">import numpy as np<br/>df.INDUS= df.INDUS.apply(lambda x: np.nan if x == ‘?’ else x)</span><span id="fd20" class="ms kz it nh b gy nr nn l no np"># here we are replacing '?' with NaN</span></pre><ul class=""><li id="bb92" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">检查数据中的零。</li><li id="bb62" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">注意:数据集中的零是坏数据还是数据的一部分？(在您的业务环境中，坏数据的定义是什么)</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="2721" class="ms kz it nh b gy nm nn l no np">df[df == 0].count()   # Check for zeros in all columns </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/200b4b51599d2098e36acefa06c67eca.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*CUhfslU1Tkz2sSZOOLzS4w.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">检查您的列中是否有零</p></figure><ul class=""><li id="7b6c" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">期望自然数的特性中有-ve值吗？</li></ul><p id="8fbf" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">例如:-2在子女数量/工作年限等方面</p><ul class=""><li id="adc6" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">用你的领域知识过滤掉异常的号码</li></ul><p id="d5e6" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">例:年龄值高(年龄= 221)。这可能是数据输入/数据捕获错误</p><ul class=""><li id="ff97" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">是否有混合了文本和数值的列需要清理？(如果列混合了数据类型(例如:数字和文本)，则列的<code class="fe ne nf ng nh b">dtype </code>显示为<code class="fe ne nf ng nh b">object</code>。但是，这并不意味着如果dtype是object，它就一定会有混合的数据类型)</li><li id="caf8" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">你对不良数据的处理方式是什么？您是删除记录还是用其他东西替换坏数据？</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="afff" class="ms kz it nh b gy nm nn l no np"># Remove the rows where ZN column has '0' as value<br/>df = df[df.ZN != 0])</span></pre><ul class=""><li id="939c" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">是否有重复的记录？真的有重复的吗？还是你必须删除它们？</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="1604" class="ms kz it nh b gy nm nn l no np">df[df.duplicated() ]   # Shows records which are duplicated</span><span id="8855" class="ms kz it nh b gy nr nn l no np">len(df[df.duplicated() ]) # count of records that are duplicated</span></pre><h2 id="1f33" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">5.数据处理——插补</h2><ul class=""><li id="6a83" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">为什么会出现价值缺失？(查看数据，您能否发现缺失值是否有规律可循？)</li><li id="f8e4" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">你对缺失值处理(插补)的策略是什么——替换这些缺失值的正确方法是什么？(均值插补、中值、随机还是只是一个固定数？)</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="42af" class="ms kz it nh b gy nm nn l no np">df.RM = df.RM.fillna(df.RM.mean())   # mean imputation of RM column</span><span id="ce0c" class="ms kz it nh b gy nr nn l no np">df.RM = df.RM.fillna(df.RM.median())  # median imputation</span></pre><ul class=""><li id="a1bc" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">是否要基于其他列的值进行估算？(例如:使用一些类似<code class="fe ne nf ng nh b"><strong class="ls iu">KNNImputer </strong></code>的包)(<a class="ae nq" href="https://scikit-learn.org/stable/modules/generated/sklearn.impute.KNNImputer.html" rel="noopener ugc nofollow" target="_blank">https://scikit-learn . org/stable/modules/generated/sk learn . impute . knnimputer . html</a>)</li></ul><h2 id="5f3b" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">6.数据分布</h2><ul class=""><li id="cb53" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">数据是否偏向一边？你更愿意使用什么方法来检测偏斜度(统计/视觉——通过分布图？)</li></ul><p id="29c4" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">找到<code class="fe ne nf ng nh b">skew </code>和<code class="fe ne nf ng nh b">kurtosis </code>将是确定任何列中的数据是否需要任何处理的良好开端。</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="0932" class="ms kz it nh b gy nm nn l no np">df.CRIM.skew()   # Find the skew value of the data in column 'CRIM'<br/>df.CRIM.kurtosis()  # Kurtosis of the data in column 'CRIM'</span></pre><ul class=""><li id="5929" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">数据中可接受的“偏斜度”是多少？</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/a325bc317fae27e7f95dcc51b8aefda0.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*uF1zbXZ0ylYxuwbF3uDO_Q.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查找列的偏斜度和峰度，以确定它是中度偏斜还是重度偏斜</p></figure><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="3337" class="ms kz it nh b gy nm nn l no np">df.skew()  # Or get the skew values of all the columns</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/4cf021c04f7cdb1f5f163db300ad2f06.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*hsgu5YKTrLxxZmTFeGzrPg.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">你可以</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/002f166f4305c64939bac5660314fb38.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*SXsK_CT3O_L-5tvQJ6D1pQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卷曲柱的分布图将显示它是右偏的。</p></figure><h2 id="7eda" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">7.缩放比例</h2><ul class=""><li id="cfcd" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">您的数据是否需要跨要素列表进行缩放/标准化？</li><li id="8335" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">你会用什么样的缩放方法？(标准缩放/最小-最大缩放？)</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="3e11" class="ms kz it nh b gy nm nn l no np">#Using sklear's StandardScaler package </span><span id="902a" class="ms kz it nh b gy nr nn l no np">from sklearn.preprocessing import StandardScaler<br/>X_scaled = StandardScaler().fit_transform(X)</span></pre><h2 id="334b" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">8.极端值</h2><ul class=""><li id="4030" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">有没有异常值？(使用方框图快速可视化您的异常值)</li><li id="74af" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">这些是真正的离群值吗？(基于您对该领域的了解)</li><li id="3032" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">如果是，这些离群值需要处理吗？</li><li id="6e80" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">你会做什么样的异常处理？你会限制离群值，将它们从数据集中移除，还是让它保持原样？</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="24b7" class="ms kz it nh b gy nm nn l no np">import seaborn as sns<br/>df.RM = df.RM.fillna(df.RM.mean())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/9ea38a268070ba9e55e8b168f5424339.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*R5Hxq27P9y0ys3fAt8N7vw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">RM列的箱线图显示有一些异常值</p></figure><h2 id="a0cd" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">9.数据不平衡</h2><ul class=""><li id="ad5e" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">如果您正在构建一个分类模型，并且您的数据中的所有类至少是几乎均匀分布的吗？(换句话说，你的数据平衡吗？)</li></ul><h2 id="0ef2" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">10.转换</h2><ul class=""><li id="2c4b" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">基于数据的偏斜度，数据需要任何转换吗？</li><li id="180a" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">要应用的相关转换是什么？(对数变换/平方根/立方/逆变换)</li></ul><p id="c231" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在任何转变之前</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="852f" class="ms kz it nh b gy nm nn l no np">import seaborn as sns <br/>sns.displot(df.Price); # plot without transformation</span></pre><p id="d14d" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">对数变换后</p><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="3565" class="ms kz it nh b gy nm nn l no np">sns.displot(np.log(df.Price));</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/b1fe64917d99a89b18af0cd35536c52f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pgc_RIDPHidsCdb19Z6jEg.png"/></div></div></figure><ul class=""><li id="ccc0" class="nt nu it ls b lt mm lw mn lz oc md od mh oe ml ny nz oa ob bi translated">如果是文本数据呢？(您想标记文本数据吗，例如:使用<code class="fe ne nf ng nh b">nltk</code>的<code class="fe ne nf ng nh b">word_tokenize </code>或<code class="fe ne nf ng nh b">sentence_tokenize</code>)</li><li id="2020" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">将数据离散化(是否有可以分类的连续值？)</li></ul><h2 id="ac92" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">11.特征工程</h2><ul class=""><li id="42e7" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">可以从现有数据中创建哪些附加要素？</li></ul><p id="97ec" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><em class="mr">例如:对于一个日期字段，你可以得到一周中的某一天，某一个月中的某一天，并且在外部数据集的一点帮助下，得到额外的信息，例如假期列表</em></p><h2 id="cc47" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">12.扔掉</h2><ul class=""><li id="ea00" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">对于连续变量，你想选择什么样的区间？</li><li id="0c75" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">这些间隔是恒定的还是基于某些领域知识的，您会创建自定义的间隔条柱吗？</li><li id="3c42" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">如果它们是分类值，您会使用什么业务逻辑来分类和绑定它们？</li></ul><pre class="kj kk kl km gt ni nh nj nk aw nl bi"><span id="6397" class="ms kz it nh b gy nm nn l no np"># Sample code demonstrating the creation of a new variable  - Income_category and bin them based on the value in the 'Income' field</span><span id="1a0d" class="ms kz it nh b gy nr nn l no np">df1["Income_category"] = pd.cut(<br/>    x=df["Income"],<br/>    bins=[0, 15, 30, 50, 100,500,1000,10000],<br/>    labels=["Low_income", "Lower_Middle", "Middle", "Upper_Middle","High_Income","Rich","Super_Rich"]<br/>)</span><span id="6675" class="ms kz it nh b gy nr nn l no np"># You can see the distribution of the numbers in the new variable<br/>df1["Income_category"].value_counts()</span></pre><h2 id="8169" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">13.分类编码</h2><ul class=""><li id="d153" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">有分类的数据类型吗？</li><li id="f56d" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">它们是有序的吗？你会做什么编码？(分类/标签编码)</li></ul><h2 id="707f" class="ms kz it bd la mt mu dn le mv mw dp li lz mx my lk md mz na lm mh nb nc lo nd bi translated">14.特征选择/缩减</h2><ul class=""><li id="dffb" class="nt nu it ls b lt lu lw lx lz nv md nw mh nx ml ny nz oa ob bi translated">有可以删除的功能吗？最后，您将在您的模型中选择哪些特性，以及基于什么？</li><li id="065e" class="nt nu it ls b lt oi lw oj lz ok md ol mh om ml ny nz oa ob bi translated">您是否检查过多重共线性(对于不喜欢密切相关的x变量的算法)</li></ul><h1 id="9ce5" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">结束语</h1><p id="327e" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这是一个初学者指南，可以帮助你考虑为数据预处理步骤建立清单。你还可以在清单中添加许多其他步骤。</p><p id="17e2" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">每个清单都有一个代码片段也是一个好主意，这样你就可以定制代码，大大减少实验时间。</p></div></div>    
</body>
</html>