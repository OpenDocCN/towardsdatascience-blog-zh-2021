<html>
<head>
<title>How to Find Best Locations for your Restaurants with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python找到餐馆的最佳位置</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-find-best-locations-for-your-restaurants-with-python-b2fadc91c4dd?source=collection_archive---------5-----------------------#2021-06-19">https://towardsdatascience.com/how-to-find-best-locations-for-your-restaurants-with-python-b2fadc91c4dd?source=collection_archive---------5-----------------------#2021-06-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d9d1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用CVXPY解决集合覆盖问题</h2></div><h1 id="60fb" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">动机</h1><p id="5073" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在<a class="ae lw" rel="noopener" target="_blank" href="/simulate-real-life-events-in-python-using-simpy-e6d9152a102f">模拟你的餐厅中的真实事件</a>后，你的餐厅开始吸引更多的顾客，所以你决定在其他地方开设连锁餐厅。</p><p id="845d" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">由于许多顾客喜欢在附近就餐，您希望您的餐厅距离1、2、3、4和5区最多15英里。最佳解决方案是在所有其他区域的15英里范围内建立最少数量的餐馆。</p><p id="0a45" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">假设您的餐厅只能位于1区、2区、3区、4区或5区，您应该将餐厅建在哪个位置？</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mc"><img src="../Images/73117a4dab178a6a2b9f6b2400782f95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WyP7iqqFdzbkHnpGCImKvw.png"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><p id="d134" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">这就是所谓的集合覆盖问题。在本文中，您将学习如何使用CVXPY解决这个问题。</p><h1 id="19e2" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">CVXPY是什么？</h1><p id="53c6" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><a class="ae lw" href="https://www.cvxpy.org/" rel="noopener ugc nofollow" target="_blank"> CVXPY </a>是一种嵌入Python的建模语言，用于如上所述的凸优化问题。它类似于<a class="ae lw" href="https://coin-or.github.io/pulp/" rel="noopener ugc nofollow" target="_blank">纸浆</a>，但是它的语法更简单、更直观。</p><p id="85a4" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">要安装CVXPY，请键入:</p><pre class="md me mf mg gt ms mt mu mv aw mw bi"><span id="d99d" class="mx kj it mt b gy my mz l na nb">pip install cvxpy</span></pre><h1 id="9e72" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">问题陈述</h1><p id="c3c1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在深入研究数学公式和代码之前，让我们先写下我们拥有什么和我们想要实现什么。</p><ul class=""><li id="6115" class="nc nd it lc b ld lx lg ly lj ne ln nf lr ng lv nh ni nj nk bi translated"><strong class="lc iu">输入参数</strong>:我们被提供区域之间的距离:</li></ul><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nn"><img src="../Images/1f09572c877de1bf69e9c5301270b985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H-lj7weRBUcYiKdBuLkmbg.png"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><p id="fbfa" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated"><strong class="lc iu">目标</strong>:我们想选择最少的区域来建造餐馆</p><p id="3b97" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">约束:我们需要确保每个区域都在至少一家餐馆的15英里范围内</p><p id="5902" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated"><strong class="lc iu">决策变量</strong>:我们将根据目标和约束条件决定是否在某一特定区域开店。</p><h1 id="d326" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">解决</h1><h2 id="7af3" class="mx kj it bd kk no np dn ko nq nr dp ks lj ns nt ku ln nu nv kw lr nw nx ky ny bi translated">输入参数</h2><p id="2379" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">要解决这个问题，首先，把距离矩阵变成一个表示两个区域之间的距离是否在15英里以内的矩阵。具体来说，</p><ul class=""><li id="343d" class="nc nd it lc b ld lx lg ly lj ne ln nf lr ng lv nh ni nj nk bi translated">小于或等于 15英里<strong class="lc iu">的距离<strong class="lc iu">变为<strong class="lc iu"> 1 </strong></strong></strong></li><li id="8a86" class="nc nd it lc b ld nz lg oa lj ob ln oc lr od lv nh ni nj nk bi translated">大于 15英里距离<strong class="lc iu">变成<strong class="lc iu"> 0 </strong></strong></li></ul><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="oe nm l"/></div></figure><p id="1a3f" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">接下来，将数据帧转换成矩阵:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi of"><img src="../Images/b7195c9fda72fff11d2e33a806d66be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:356/format:webp/1*53hh8VKROEx8g9HoIxUEVg.png"/></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="oe nm l"/></div></figure><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi og"><img src="../Images/ac649c68d706378b52bde9d423f485b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*Pp60vYjhV3rTYAsoSvkgdQ.png"/></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><h2 id="7a2a" class="mx kj it bd kk no np dn ko nq nr dp ks lj ns nt ku ln nu nv kw lr nw nx ky ny bi translated">决策变量</h2><p id="b2fd" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们将决定是否在某个特定的地区开店。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/e83dde57bb2e10d45a54fbc6bb9fd796.png" data-original-src="https://miro.medium.com/v2/resize:fit:562/format:webp/1*IbLv_GulQHsKJP4liF5g6A.png"/></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="oe nm l"/></div></figure><h2 id="96a9" class="mx kj it bd kk no np dn ko nq nr dp ks lj ns nt ku ln nu nv kw lr nw nx ky ny bi translated">限制</h2><p id="0f91" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们需要确保每个区域都在至少一家餐馆的15英里范围内。</p><p id="c6ec" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">例如，因为我们知道区域1在区域1和区域2的15英里范围内，所以我们需要确保其中一个餐馆建在区域1或区域2。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/ccf429e98d4301766912e560abc226d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*MJCTJiUlbKXk6-Z5NZChLw.png"/></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nn"><img src="../Images/0b21c98b5f398e5c9a0204e437bbd300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pP-3Nn_fzUUcjNG5fBbZoQ.png"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><p id="a0da" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">这意味着我们需要如下内容:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/6cbebb14ea843df370ec74020fd7476d.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*XdCFgQUwed3WOCh23iDF_w.png"/></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><p id="e2ef" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">为了将上述等式推广到所有领域，我们可以使用<a class="ae lw" href="https://www.mathsisfun.com/algebra/matrix-multiplying.html" rel="noopener ugc nofollow" target="_blank">矩阵乘法</a>:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/9758928e8eba8f9fe7df9539bd3b3c22.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*aYFrIIAIVawryPNbOkvArg.png"/></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="oe nm l"/></div></figure><h2 id="cdd2" class="mx kj it bd kk no np dn ko nq nr dp ks lj ns nt ku ln nu nv kw lr nw nx ky ny bi translated">目标</h2><p id="bbf1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">尽量减少用于建造餐馆的面积。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/8d30b1310b9f5a3ec21ac85ffe149c04.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/format:webp/1*wcI3OsTXgZn8uVsCYcjqiA.png"/></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="oe nm l"/></div></figure><h2 id="e07a" class="mx kj it bd kk no np dn ko nq nr dp ks lj ns nt ku ln nu nv kw lr nw nx ky ny bi translated">解决</h2><p id="c3ee" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在我们有了约束和目标，让我们来解决问题吧！</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="oe nm l"/></div></figure><pre class="md me mf mg gt ms mt mu mv aw mw bi"><span id="0ac5" class="mx kj it mt b gy my mz l na nb">'optimal'</span></pre><p id="d20a" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">厉害！因为问题的状态是最优的，所以找到了最优解。要查看解决方案，请键入:</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="oe nm l"/></div></figure><pre class="md me mf mg gt ms mt mu mv aw mw bi"><span id="0901" class="mx kj it mt b gy my mz l na nb">array([0., 1., 1., 0., 0.])</span></pre><p id="bb9a" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">该结果表明，区域2和3是建造餐馆的两个理想位置。</p><h1 id="1d93" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">解决方案的解释</h1><p id="f572" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">为什么选择2区和3区？在下面的图片中，我们可以看到，通过在2号和3号区域建造餐馆，每个区域都在至少一家餐馆的15英里范围内！</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi om"><img src="../Images/2803c23db1e8956176ee25b1c8cc3b4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w6qcnGgfOyUMGSPHqPUBwg.png"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">作者图片</p></figure><p id="03c8" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">这个问题的解决方案似乎很直观，因为我们只需要考虑5个方面。但是当你需要考虑10个或者更多的区域时，这种求解方法会非常有帮助。</p><h1 id="a9c2" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">结论</h1><p id="d559" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">恭喜你！您刚刚学习了如何使用CXVPY解决集合覆盖问题。希望这篇文章能给你解决类似问题所需的知识。</p><p id="09ac" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">在Github repo中，您可以随意使用本文的代码:</p><div class="on oo gp gr op oq"><a href="https://github.com/khuyentran1401/Data-science/tree/master/mathematical_programming/locations_of_stores" rel="noopener  ugc nofollow" target="_blank"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd iu gy z fp ov fr fs ow fu fw is bi translated">khuyentran 1401/数据科学</h2><div class="ox l"><h3 class="bd b gy z fp ov fr fs ow fu fw dk translated">有用的数据科学主题以及代码和文章的集合— khuyentran1401/Data-science</h3></div><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">github.com</p></div></div><div class="oz l"><div class="pa l pb pc pd oz pe mm oq"/></div></div></a></div></div><div class="ab cl pf pg hx ph" role="separator"><span class="pi bw bk pj pk pl"/><span class="pi bw bk pj pk pl"/><span class="pi bw bk pj pk"/></div><div class="im in io ip iq"><p id="3ac2" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">我喜欢写一些基本的数据科学概念，并尝试不同的算法和数据科学工具。你可以通过<a class="ae lw" href="https://www.linkedin.com/in/khuyen-tran-1ab926151/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae lw" href="https://twitter.com/KhuyenTran16" rel="noopener ugc nofollow" target="_blank"> Twitter </a>与我联系。</p><p id="f0bb" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">如果你想查看我写的所有文章的代码，请点击这里。在Medium上关注我，了解我的最新数据科学文章，例如:</p><div class="on oo gp gr op oq"><a rel="noopener follow" target="_blank" href="/simulate-real-life-events-in-python-using-simpy-e6d9152a102f"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd iu gy z fp ov fr fs ow fu fw is bi translated">使用SimPy在Python中模拟真实事件</h2><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">towardsdatascience.com</p></div></div><div class="oz l"><div class="pm l pb pc pd oz pe mm oq"/></div></div></a></div><div class="on oo gp gr op oq"><a rel="noopener follow" target="_blank" href="/how-to-solve-a-staff-scheduling-problem-with-python-63ae50435ba4"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd iu gy z fp ov fr fs ow fu fw is bi translated">如何用Python解决人员调度问题</h2><div class="ox l"><h3 class="bd b gy z fp ov fr fs ow fu fw dk translated">尽可能减少每班的工人数量，同时为每个时间窗口分配足够的工人</h3></div><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">towardsdatascience.com</p></div></div><div class="oz l"><div class="pn l pb pc pd oz pe mm oq"/></div></div></a></div><div class="on oo gp gr op oq"><a rel="noopener follow" target="_blank" href="/how-to-match-two-people-with-python-7583b51ff3f9"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd iu gy z fp ov fr fs ow fu fw is bi translated">如何用Python找到最佳匹配</h2><div class="ox l"><h3 class="bd b gy z fp ov fr fs ow fu fw dk translated">给定个人偏好，如何匹配使得总偏好最大化？</h3></div><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">towardsdatascience.com</p></div></div><div class="oz l"><div class="po l pb pc pd oz pe mm oq"/></div></div></a></div><div class="on oo gp gr op oq"><a rel="noopener follow" target="_blank" href="/how-to-create-mathematical-animations-like-3blue1brown-using-python-f571fb9da3d1"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd iu gy z fp ov fr fs ow fu fw is bi translated">如何使用Python创建类似3Blue1Brown的数学动画</h2><div class="ox l"><h3 class="bd b gy z fp ov fr fs ow fu fw dk translated">利用您的Python技能创建美丽的数学动画</h3></div><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">towardsdatascience.com</p></div></div><div class="oz l"><div class="pp l pb pc pd oz pe mm oq"/></div></div></a></div><h1 id="ec28" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">参考</h1><p id="ece7" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">陈(2010)。<em class="pq">应用整数规划:建模与求解</em>。j .威利&amp;的儿子们。</p></div></div>    
</body>
</html>