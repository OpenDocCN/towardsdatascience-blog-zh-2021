<html>
<head>
<title>Boost your Data Viz Productivity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提高您的数据即生产力</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/boost-your-data-viz-productivity-1ae29fb713af?source=collection_archive---------33-----------------------#2021-03-29">https://towardsdatascience.com/boost-your-data-viz-productivity-1ae29fb713af?source=collection_archive---------33-----------------------#2021-03-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="49df" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据科学家可视化数据指南</h2><div class=""/><div class=""><h2 id="e0ce" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用Altair快速创建令人惊叹的可视化</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/b3c4090fbe23afacb7922d129c551c35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6qNmS__pJrcmpc7N"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">牛郎星是天鹰座中最亮的星星</p></figure><blockquote class="li lj lk"><p id="d5c4" class="ll lm ln lo b lp lq kd lr ls lt kg lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">我们大多数人需要听音乐才能理解它有多美。但通常这就是我们展示统计数据的方式:我们只展示音符，不演奏音乐。—汉斯·罗斯林</p></blockquote><p id="4db8" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">数据可视化对于理解数据分析之美至关重要。通过数据可视化，我们的利益相关者了解我们分析的影响。这有助于他们集中注意力，做出明智的决定。</p><p id="014a" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">然而，尽管它很重要，我一直收到关于有抱负的数据科学家如何开始探索数据分析的问题。</p><blockquote class="li lj lk"><p id="a627" class="ll lm ln lo b lp lq kd lr ls lt kg lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><em class="it">简单，具有数据可视化。</em></p></blockquote><h1 id="2a0e" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">牛郎星的力量</h1><blockquote class="li lj lk"><p id="af99" class="ll lm ln lo b lp lq kd lr ls lt kg lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae lh" href="https://github.com/plotly/dash" rel="noopener ugc nofollow" target="_blank"><em class="it">“</em></a>Altair是一个针对Python的声明式统计可视化库，基于<a class="ae lh" href="http://vega.github.io/vega" rel="noopener ugc nofollow" target="_blank"> Vega </a>和<a class="ae lh" href="http://vega.github.io/vega-lite" rel="noopener ugc nofollow" target="_blank"> Vega-Lite </a>，源代码可在<a class="ae lh" href="http://github.com/altair-viz/altair" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得<em class="it"> — </em> <a class="ae lh" href="https://altair-viz.github.io/" rel="noopener ugc nofollow" target="_blank"> <em class="it">牛郎星即</em> </a></p></blockquote><p id="ccc7" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">Altair是Python中的一个数据可视化包，它基于<a class="ae lh" href="https://vega.github.io/" rel="noopener ugc nofollow" target="_blank"> Vega </a>和<a class="ae lh" href="https://vega.github.io/vega-lite/" rel="noopener ugc nofollow" target="_blank"> Vega Lite </a>语法，并根据最佳可视化实践进行了更新。</p><h2 id="c05c" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">宣布你的需求</h2><p id="457a" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">Altair支持<strong class="lo jd">声明式编程</strong>，它允许您基于输入数据和输出属性构建Altair可视化。你将只陈述你需要什么，而不是如何实现目标的细节。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/23a262dd259d4f75b51990de3979570a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jfGIrRXPnUmH7YaM"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">来源<a class="ae lh" href="https://unsplash.com/photos/auEPahZjT40" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h2 id="09da" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated"><strong class="ak"> <em class="nt">假设你要买鸡蛋。</em> </strong></h2><p id="9960" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated"><strong class="lo jd">声明式编程</strong>会说“给我找鸡蛋买鸡蛋。这是现金”</p><p id="0761" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">然而<strong class="lo jd">传统编程</strong>会说“去法院超市，去6号通道找到你右手角的鸡蛋，去收银台用5美元现金支付”。</p><p id="9005" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">显然，从这个例子中，声明式编程将卸载<strong class="lo jd">“如何”</strong>。与金钱和鸡蛋类似，您只需要提交输入数据和输出属性，可视化结果就会自动呈现。</p><p id="38bc" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">你甚至不需要理解Altair是如何处理你的可视化的。你将简单地指导和接受结果。这就是Altair支持声明式编程的美妙之处。</p><p id="b272" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">其实这一点都不外国。许多语言也是用相同的概念构建的。<a class="ae lh" href="https://neo4j.com/blog/imperative-vs-declarative-query-languages/" rel="noopener ugc nofollow" target="_blank"> SQL(结构化查询语言)</a>和<a class="ae lh" href="https://kubernetes.io/docs/tasks/manage-kubernetes-objects/declarative-config/" rel="noopener ugc nofollow" target="_blank"> Kubernetes yaml </a>使用声明性概念。<a class="ae lh" rel="noopener" target="_blank" href="/build-your-own-data-dashboard-93e4848a0dcf"> Dash也是基于声明式编程</a>构建dashboard web应用的工具。两者都是数据科学家优化数据检索和开发流程的重要工具。</p><blockquote class="li lj lk"><p id="7c38" class="ll lm ln lo b lp lq kd lr ls lt kg lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><em class="it">希望我让你兴奋！！让我们开始吧</em></p></blockquote><h1 id="00bd" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">牛郎星的组件</h1><p id="6f56" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated"><strong class="lo jd"> Altair使用这些组件作为主要语法来指导可视化:</strong></p><ol class=""><li id="bb35" class="nu nv it lo b lp lq ls lt mi nw mj nx mk ny mh nz oa ob oc bi translated"><strong class="lo jd">数据</strong> →可视化的数据帧</li><li id="cbc5" class="nu nv it lo b lp od ls oe mi of mj og mk oh mh nz oa ob oc bi translated"><strong class="lo jd">标记</strong> →每行观察的符号(线、条、刻度、点)</li><li id="b9eb" class="nu nv it lo b lp od ls oe mi of mj og mk oh mh nz oa ob oc bi translated"><strong class="lo jd">编码</strong> →数据表示通道(X位置、Y位置、颜色、尺寸)</li><li id="240a" class="nu nv it lo b lp od ls oe mi of mj og mk oh mh nz oa ob oc bi translated"><strong class="lo jd">转换</strong> →应用可视化之前的数据转换(计算、过滤、聚集、折叠)</li><li id="2455" class="nu nv it lo b lp od ls oe mi of mj og mk oh mh nz oa ob oc bi translated"><strong class="lo jd">标尺</strong> →输入数据并将其显示在屏幕上的功能。</li><li id="feca" class="nu nv it lo b lp od ls oe mi of mj og mk oh mh nz oa ob oc bi translated"><strong class="lo jd">指南</strong> →图表(图例)上的视觉辅助，x轴和y轴上的刻度。</li></ol><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oi oj l"/></div></figure><h1 id="56d1" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">用Altair弄脏你的手</h1><h2 id="a233" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">Colab笔记本</h2><p id="fcef" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">在这篇文章中，我们将使用下面的Colab笔记本。</p><div class="ok ol gp gr om on"><a href="https://drive.google.com/file/d/17r77TMJ5Z6lPxRgG6UhLwxYC-_OhHYpr/view?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd jd gy z fp os fr fs ot fu fw jc bi translated">中型牛郎星教程. ipynb</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">合作笔记本</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">drive.google.com</p></div></div></div></a></div><h2 id="f294" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">装置</h2><p id="6ab2" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">要安装很容易，您可以运行pip安装如下</p><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="e8d8" class="nd mm it ox b gy pb pc l pd pe">pip install altair</span></pre><h2 id="74cc" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">数据</h2><p id="04b4" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">对于我们的教程，我们将使用这些数据集:</p><ol class=""><li id="dedf" class="nu nv it lo b lp lq ls lt mi nw mj nx mk ny mh nz oa ob oc bi translated"><code class="fe pf pg ph ox b">data.cars</code>:来自UCI机器学习知识库的AutoMPG数据集。</li><li id="c013" class="nu nv it lo b lp od ls oe mi of mj og mk oh mh nz oa ob oc bi translated"><code class="fe pf pg ph ox b">data.stocks</code>:每日收盘股票价格(AAPL、AMZN、GOOG等)</li><li id="e468" class="nu nv it lo b lp od ls oe mi of mj og mk oh mh nz oa ob oc bi translated"><code class="fe pf pg ph ox b">data.seattle_weather</code>:2012-2015年西雅图天气</li></ol><p id="8a57" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">这些数据集可以在vega_datasets上获得，Vega _ datasets与Altair一起预加载到Pandas数据帧中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pi"><img src="../Images/64c2cd0a5b7ab0c5b5482ba81f987b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wcnWlk2ZNQfMle_Q4qUSGg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">UCI机器学习知识库上预装的Cars数据集(来源于作者)</p></figure><h1 id="3834" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">牛郎星一步步来</h1><h2 id="c4a7" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">图表</h2><p id="f622" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">表示“另类的”图表是一种需要数据、标记和编码才能运行的结构。</p><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="5124" class="nd mm it ox b gy pb pc l pd pe">alt.Charts()</span></pre><h2 id="6e86" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">数据</h2><p id="a102" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">要插入数据，可将数据框输入功能图()。</p><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="9a83" class="nd mm it ox b gy pb pc l pd pe">alt.Charts(cars)</span></pre><h2 id="7811" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">标记</h2><p id="9a9a" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">需要标记来表示每一行观察值(线、条、记号、点)</p><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="6781" class="nd mm it ox b gy pb pc l pd pe">alt.Charts(cars).mark_tick()</span></pre><h2 id="7020" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">编码</h2><p id="09b6" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">对数据集的表示进行编码。您可以将1列作为1D表示，2列作为2D，3列作为3D，等等。</p><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="91fe" class="nd mm it ox b gy pb pc l pd pe">alt.Chart(cars).mark_tick().encode(<br/>encoding_1 = value_1,<br/>encoding_2 = value_2,<br/>......<br/>)</span></pre><h1 id="753f" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">你只需要一张图表</h1><p id="4131" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">创建一个图表很容易。您可以添加维度，在声明性语言中更改不同的符号，一切都会为您处理好。</p><h2 id="4d52" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">线条、线条、点等等！</h2><p id="ca64" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">只需将mark_line()转换为mark_bar()</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pj"><img src="../Images/939f640cd0f868478eebd1fe83496a49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rwjRX-rB-zVTOn1CKh_GDA.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">满足您可视化需求的简单声明性命令(由作者提供)</p></figure><h2 id="2cd7" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">构建直方图超级简单！</h2><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="3800" class="nd mm it ox b gy pb pc l pd pe">alt.Chart(weather).mark_bar().encode(<br/>  x=alt.X('date', timeUnit='month', type='nominal'),<br/>  y='mean(temp_max):Q',<br/>  color='weather'<br/>) </span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/2c93664bb88d0b96a33e66d739055c58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*BYwdKngrDxYsi9UHfjXbeA.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">简单直方图(来源于作者)</p></figure><h2 id="080d" class="nd mm it bd mn ne nf dn mr ng nh dp mv mi ni nj mx mj nk nl mz mk nm nn nb iz bi translated">使用热图进行模式发现</h2><p id="2227" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">创建热图。你可以把符号从<code class="fe pf pg ph ox b">mark_bar() </code>替换成<code class="fe pf pg ph ox b">mark_rect().</code></p><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="5ccd" class="nd mm it ox b gy pb pc l pd pe">alt.Chart(weather).mark_rect().encode(<br/>  x=alt.X(‘date’, timeUnit=’date’, type=’ordinal’),<br/>  y=alt.Y(‘date’, timeUnit=’month’, type=’ordinal’),<br/>  color=’mean(temp_max)’,<br/>  tooltip=[‘mean(temp_max)’]<br/>)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pl"><img src="../Images/8e413f8b1b5c0a7aabd5c6119f858507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FcAtqoLSIO98RMk4dDBBBQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">基于温度的月份和日期的热图(来源于作者)</p></figure><p id="1912" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">从这里我们可以发现，最高气温是从4月份开始到10月份(颜色较深)。这与旱季相对应。整洁！</p><h1 id="6e91" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">许多图表可供比较</h1><p id="fd30" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">Altair还配备了简单的语言来表示多图形表示。</p><p id="9fb1" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">例如，想象三维散点图的3X3散点图。你所需要的只是模块<code class="fe pf pg ph ox b">repeat.</code></p><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="9b0a" class="nd mm it ox b gy pb pc l pd pe">alt.Chart(cars).mark_circle().encode(<br/>  alt.X(alt.repeat("column"), type='quantitative'),<br/>  alt.Y(alt.repeat("row"), type='quantitative'),<br/>  color='Origin:N'<br/>).properties(<br/>  width=250,<br/>  height=250<br/>).repeat(<br/>  row=['Horsepower','Acceleration','Miles_per_Gallon'],<br/>  column=['Horsepower','Acceleration','Miles_per_Gallon']<br/>).interactive()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pm"><img src="../Images/da1bd83e2f2b6cfafa48aa8890f3d668.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SeG6f5amBjc7vjUmfg7o5Q.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">重复的列和行创建散布矩阵(来源于作者)</p></figure><h1 id="d4e5" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">要比较的交互式图表</h1><p id="7523" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">您甚至可以添加交互来比较多个图表。例如，您可以使用altair中的模块<code class="fe pf pg ph ox b">selection </code>来创建选择。</p><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="3f3b" class="nd mm it ox b gy pb pc l pd pe">brush = alt.selection(type='interval',resolve='global')<br/>base = alt.Chart(cars).mark_point().encode(<br/>  y='Miles_per_Gallon',<br/>  color=alt.condition(brush,'Origin',alt.ColorValue('lightgray'))<br/>).properties(<br/>  selection=brush,<br/>  width=250,<br/>  height=250<br/>)<br/>base.encode(x='Horsepower') | base.encode(x='Acceleration')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pn"><img src="../Images/0e352e602ce06157d85fe49852800c09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xPsTzI9mFOExiXOKhy8s6w.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">互动情节(来源于作者)</p></figure><p id="61ee" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">您甚至可以使用稍微复杂的选择来创建基于时间的动画。例如，您可以应用<code class="fe pf pg ph ox b">year</code>作为选择和过滤标准。</p><pre class="ks kt ku kv gt ow ox oy oz aw pa bi"><span id="e2ff" class="nd mm it ox b gy pb pc l pd pe">from altair.expr import datum, if_<br/>from vega_datasets import data</span><span id="70e7" class="nd mm it ox b gy po pc l pd pe">pop = data.population.url<br/>pink_blue = alt.Scale(domain=(‘Male’, ‘Female’),<br/>range=[“steelblue”, “salmon”])<br/>slider = alt.binding_range(min=1900, max=2000, step=10)<br/>year = alt.selection_single(name=”year”, fields=[‘year’], bind=slider)<br/>alt.Chart(pop).mark_bar().encode(<br/>  x=alt.X(‘sex:N’, axis=alt.Axis(title=None)),<br/>  y=alt.Y(‘people:Q’, scale=alt.Scale(domain=(0, 12000000))),<br/>  color=alt.Color(‘sex:N’, scale=pink_blue),<br/>  column=’age:O’<br/>).properties(<br/>  width=20,<br/>  selection=year,<br/>).transform_calculate(<br/>  “sex”, if_(datum.sex == 1, “Male”, “Female”)<br/>).transform_filter(<br/>  year.ref()<br/>)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pn"><img src="../Images/859ecb2dbeb5b444d49b4e63b3d36ef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*d0RMiGLmObEO990yQMvi3w.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">时间动画图(来源于作者)</p></figure><h1 id="0680" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">最后的想法</h1><blockquote class="li lj lk"><p id="5d5a" class="ll lm ln lo b lp lq kd lr ls lt kg lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><em class="it"> Altair让绘制哪怕是复杂的剧情变得非常简单。它使我们能够直接将想法可视化，而不必担心背后的机制。用最少的努力就可以创造出从简单到复杂的惊人的情节和视觉效果。—</em><a class="ae lh" href="https://medium.com/analytics-vidhya/exploratory-data-visualisation-with-altair-b8d85494795c" rel="noopener"><em class="it">Parul Pandey</em></a><em class="it">—H2O . ai的数据科学家</em></p></blockquote><p id="2379" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">同样，我爱上了牛郎星。它简单、直观、快速。我用谷歌搜索matplotlib来添加交互式线条并将多个图对齐在一起的日子已经一去不复返了。Altair足够直观，可以提高我可视化数据的效率。</p><p id="768a" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated"><strong class="lo jd">如果你有兴趣了解更多关于牛郎星的信息，请查看</strong></p><ul class=""><li id="fa3f" class="nu nv it lo b lp lq ls lt mi nw mj nx mk ny mh pp oa ob oc bi translated"><a class="ae lh" href="https://colab.research.google.com/drive/17r77TMJ5Z6lPxRgG6UhLwxYC-_OhHYpr?authuser=1#scrollTo=ZtZs6ETCtjwM" rel="noopener ugc nofollow" target="_blank">我的实习实验室</a>实验</li><li id="2c43" class="nu nv it lo b lp od ls oe mi of mj og mk oh mh pp oa ob oc bi translated"><a class="ae lh" href="https://medium.com/analytics-vidhya/exploratory-data-visualisation-with-altair-b8d85494795c" rel="noopener">帕鲁尔·潘迪关于牛郎星的介绍</a>。这个教程启发我记录我自己的牛郎星学习。Parul提供了关于Altair的清晰介绍。我强烈推荐这个作为额外的参考。</li><li id="ab68" class="nu nv it lo b lp od ls oe mi of mj og mk oh mh pp oa ob oc bi translated">官方<a class="ae lh" href="https://altair-viz.github.io/getting_started/overview.html" rel="noopener ugc nofollow" target="_blank">文档</a>配有解释和实例探讨(<a class="ae lh" href="https://altair-viz.github.io/getting_started/starting.html" rel="noopener ugc nofollow" target="_blank">牛郎星教程</a>、<a class="ae lh" href="https://altair-viz.github.io/case_studies/exploring-weather.html" rel="noopener ugc nofollow" target="_blank">牛郎星案例分析</a>、<a class="ae lh" href="https://altair-viz.github.io/gallery/" rel="noopener ugc nofollow" target="_blank">实例图库</a>)</li></ul><p id="b733" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">索利·德奥·格洛丽亚</p><h1 id="8fc5" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">关于作者</h1><p id="1262" class="pw-post-body-paragraph ll lm it lo b lp no kd lr ls np kg lu mi nq lx ly mj nr mb mc mk ns mf mg mh im bi translated">文森特用ML @ Google对抗网络滥用。文森特使用高级数据分析、机器学习和软件工程来保护Chrome和Gmail用户。</p><p id="a26a" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">除了在谷歌的工作，文森特还是《走向数据科学媒体》的特约撰稿人，为全球100多万观众的有志ML和数据从业者提供指导。</p><p id="7e4e" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">在空闲时间，文森特在佐治亚理工学院攻读硕士学位，并为铁人三项/自行车旅行进行训练。</p><p id="ab91" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">最后，请通过<a class="ae lh" href="http://www.linkedin.com/in/vincenttatan/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"><strong class="lo jd">LinkedIn</strong></a><strong class="lo jd">，</strong><a class="ae lh" href="https://medium.com/@vincentkernn?source=post_page---------------------------" rel="noopener"><strong class="lo jd">Medium</strong></a><strong class="lo jd">或</strong> <a class="ae lh" href="https://www.youtube.com/user/vincelance1/videos?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> <strong class="lo jd"> Youtube频道</strong> </a>联系文森特</p></div></div>    
</body>
</html>