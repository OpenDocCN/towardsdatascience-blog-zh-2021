<html>
<head>
<title>How To Parse Data Using Python and Selenium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python和Selenium解析数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-parse-data-using-python-and-selenium-907a95239ee0?source=collection_archive---------14-----------------------#2021-09-13">https://towardsdatascience.com/how-to-parse-data-using-python-and-selenium-907a95239ee0?source=collection_archive---------14-----------------------#2021-09-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4d5d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用分页从网站解析数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b2fc1bef33044a36f1815c791d83002a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UfeA0RAKPf0qaTf0"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@writecodenow?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">博伊图梅洛·菲特拉</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="843b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">以前我谈到过硒以及如何在Ruby中使用它。今天，我将向您展示如何在Python中使用Selenium。如果你想了解硒的基本知识，可以看看下面的帖子。在那篇文章中，我简要介绍了什么是硒以及我们何时可以使用它。</p><div class="me mf gp gr mg mh"><a rel="noopener follow" target="_blank" href="/how-to-parse-data-using-ruby-and-selenium-5cf11605340c"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd iu gy z fp mm fr fs mn fu fw is bi translated">如何使用Ruby和Selenium解析数据</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">了解硒的基础知识</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">towardsdatascience.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv ks mh"/></div></div></a></div><p id="6873" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这篇文章，您将了解如何使用Python、Selenium和ChromeDriver解析一些数据。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="1218" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">设置</h1><p id="0ef3" class="pw-post-body-paragraph kz la it lb b lc nv ju le lf nw jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">对于这个设置，我们需要安装一个Python <a class="ae ky" href="https://pypi.org/project/selenium/" rel="noopener ugc nofollow" target="_blank">包</a>和<a class="ae ky" href="https://chromedriver.chromium.org/" rel="noopener ugc nofollow" target="_blank"> ChromeDriver </a>。另外，确保你的机器上安装了Python <a class="ae ky" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">和</a>。我用的是macOS。您可以使用以下命令快速检查您运行的Python版本。</p><pre class="kj kk kl km gt oa ob oc bn od oe bi"><span id="50d1" class="of ne it ob b be og oh l oi oj">python --version</span></pre><p id="6ee3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的例子中，我运行的是Python版本3.8.8。现在，在您的终端中运行以下命令。这里我们使用<a class="ae ky" href="https://pip.pypa.io/en/latest/" rel="noopener ugc nofollow" target="_blank">pip</a>(Python的包安装程序)来安装这个包。</p><pre class="kj kk kl km gt oa ob oc bn od oe bi"><span id="cb9d" class="of ne it ob b be og oh l oi oj">pip install selenium</span></pre><p id="f1f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装Selenium之后，我们需要安装ChromeDriver。我正在用自制软件安装驱动程序。</p><pre class="kj kk kl km gt oa ob oc bn od oe bi"><span id="3bfd" class="of ne it ob b be og oh l oi oj">brew install chromedriver</span></pre><p id="415e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在驱动程序方面遇到任何问题，以下是macOS的一些基本故障诊断步骤。</p><h2 id="cdc0" class="ok ne it bd nf ol om dn nj on oo dp nn li op oq np lm or os nr lq ot ou nt ov bi translated">解决纷争</h2><ol class=""><li id="7d6c" class="ow ox it lb b lc nv lf nw li oy lm oz lq pa lu pb pc pd pe bi translated">无法打开Chromedriver，因为无法验证开发者。</li></ol><pre class="kj kk kl km gt oa ob oc bn od oe bi"><span id="d3eb" class="of ne it ob b be og oh l oi oj">open /opt/homebrew/Caskroom/chromedriver</span></pre><p id="52cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，在finder中打开chromedriver文件夹。之后，右键点击chromedriver文件，选择打开。这应该可以解决问题。</p><p id="9e07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.该版本ChromeDriver仅支持Chrome版本<code class="fe pf pg ph ob b">#</code>当前浏览器版本为二进制路径的<code class="fe pf pg ph ob b">#</code>。</p><p id="eca1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要确保ChromeDriver和Chrome浏览器的版本是相同的。</p><pre class="kj kk kl km gt oa ob oc bn od oe bi"><span id="3603" class="of ne it ob b be og oh l oi oj">brew upgrade --cask chromedriver</span></pre><p id="db33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了，我们完成了初始设置。现在你可以从<a class="ae ky" href="https://github.com/lifeparticle/Python-Cheatsheet/blob/master/scripts/web_scraper/web_scraper.py" rel="noopener ugc nofollow" target="_blank"> GitHub </a>下载Python脚本。让我们来分解一下<code class="fe pf pg ph ob b">web_scraper.py</code>文件的各个组成部分。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pi pj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe pf pg ph ob b">web_scraper.py</code></p></figure><p id="3f2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们添加了一个<code class="fe pf pg ph ob b">headless</code>选项。然后我们用选项初始化一个Chrome webdirver。现在，我们沿着页码导航URL。之后，我们使用<code class="fe pf pg ph ob b">find_elements_by_class_name</code>方法从页面中提取所有元素，最后，我们遍历所有元素，使用<code class="fe pf pg ph ob b"> find_element_by_class_name</code>方法提取单个元素。现在，我们可以将页码增加1，并重复相同的过程，直到没有数据需要解析。你可以从<a class="ae ky" href="https://selenium-python.readthedocs.io/api.html" rel="noopener ugc nofollow" target="_blank">这里</a>阅读所有可用的WebDriver API。</p><p id="59be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不提供<code class="fe pf pg ph ob b">headless</code>选项，它将打开一个chrome浏览器并运行剩下的代码。如果这是您想要的行为，删除第23、24行，并修改第25行，如下所示。</p><pre class="kj kk kl km gt oa ob oc bn od oe bi"><span id="6d1a" class="of ne it ob b be og oh l oi oj">driver = webdriver.Chrome()</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><p id="0dad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇文章能帮助你开始使用Python、Selenium和ChromeDriver。如果你访问toscrape网站，你可以找到不同的浏览数据的方法。例如，我们可以使用无限滚动分页，而不是使用分页来导航页面。如果你有兴趣学习Python，那么可以在GitHub<a class="ae ky" href="https://github.com/lifeparticle/Python-Cheatsheet" rel="noopener ugc nofollow" target="_blank">上查看我的Python cheatsheet。编码快乐！</a></p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="f8f9" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">相关帖子</h1><div class="me mf gp gr mg mh"><a rel="noopener follow" target="_blank" href="/how-to-parse-data-using-ruby-and-selenium-5cf11605340c"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd iu gy z fp mm fr fs mn fu fw is bi translated">如何使用Ruby和Selenium解析数据</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">了解硒的基础知识</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">towardsdatascience.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv ks mh"/></div></div></a></div></div></div>    
</body>
</html>