<html>
<head>
<title>Tracking Keyword Trends on Google Search with Pytrends</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Pytrends跟踪谷歌搜索的关键词趋势</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tracking-keyword-trends-on-google-search-with-pytrends-cf97c43803f6?source=collection_archive---------18-----------------------#2021-04-14">https://towardsdatascience.com/tracking-keyword-trends-on-google-search-with-pytrends-cf97c43803f6?source=collection_archive---------18-----------------------#2021-04-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7990" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">只用几行代码就能收集历史数据！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a6468dd4d3c6be96d79e95291ba72b27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7IpvXRXAIgwg_DE7ruOM0g.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@markuswinkler" rel="noopener ugc nofollow" target="_blank">马库斯·温克勒</a>开启<a class="ae kv" href="https://unsplash.com/photos/afW1hht0NSs" rel="noopener ugc nofollow" target="_blank">解锁</a></p></figure><p id="aa17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">Pytrends</code>是一个用于<strong class="ky ir">追踪谷歌搜索趋势</strong>的非官方API，我们可以使用<code class="fe ls lt lu lv b">matplotlib</code>来可视化这些趋势<strong class="ky ir">随着时间的推移</strong>。你可以在这个项目的GitHub库<a class="ae kv" href="https://github.com/GeneralMills/pytrends" rel="noopener ugc nofollow" target="_blank">这里</a>阅读更多关于这个包的信息。</p><h2 id="7494" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated">什么是谷歌搜索？</h2><p id="9729" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">我们都知道谷歌搜索是什么。我们每天都要使用它几次，有时会不假思索地访问数以百万计的搜索结果。有趣的是，谷歌搜索工具栏最初是在2000年为ie 5发布的。</p><p id="dee2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过查看十年来谷歌搜索关键词的时间序列可视化，<strong class="ky ir">我们可以得出关于几乎任何主题的有价值的见解</strong>。让我们来看一个例子。让我们来看看关键词“数据科学”的趋势。</p><h2 id="9a0a" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated"><strong class="ak">绘制数据科学搜索趋势</strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/8f4d5f4980af9e2d766854a36128b04d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rOPH74PuYk5wfRUSYN1xmQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="7335" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是2016年<strong class="ky ir">到2021年</strong>关键词“数据科学”的趋势。我也将分享一个关于如何生成这种可视化的教程！超级简单。</p><p id="cf53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于任何包，我们从将<strong class="ky ir">安装到本地机器上开始。您可以用一行简单的代码来实现这一点。</strong></p><pre class="kg kh ki kj gt mv lv mw mx aw my bi"><span id="fdbe" class="lw lx iq lv b gy mz na l nb nc">! pip install pytrends</span></pre><p id="b320" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦<code class="fe ls lt lu lv b">pytrends</code>被安装，我们将<strong class="ky ir">从包中导入</strong>方法<code class="fe ls lt lu lv b">TrendReq</code>。</p><pre class="kg kh ki kj gt mv lv mw mx aw my bi"><span id="3742" class="lw lx iq lv b gy mz na l nb nc">from pytrends.request import TrendReq</span></pre><p id="aa42" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们需要<strong class="ky ir">连接谷歌</strong>。我们可以使用<code class="fe ls lt lu lv b">TrendReq</code>并传递几个参数。对于这个例子，我们将使用<code class="fe ls lt lu lv b">hl</code>和<code class="fe ls lt lu lv b">tz</code>。</p><pre class="kg kh ki kj gt mv lv mw mx aw my bi"><span id="5832" class="lw lx iq lv b gy mz na l nb nc"># connect to google<br/>pytrends = TrendReq(hl='en-US', tz=360)</span></pre><p id="b2a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">hl</code>参数指定用于访问Google Trends的<strong class="ky ir">主机语言</strong>。请注意，只有https代理可以工作，您需要在代理ip地址后添加端口号。<code class="fe ls lt lu lv b">tz</code>参数是<strong class="ky ir">时区偏移量</strong>。所以，比如美国CST是<code class="fe ls lt lu lv b">360</code>。</p><p id="4c0d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在API初始化之后，我们需要<strong class="ky ir">查询我们想要搜索的实际关键词</strong>。为此，我们使用方法<code class="fe ls lt lu lv b">build_payload</code>告诉API我们想要哪些关键字。如前所述，我们在这个例子中使用了“数据科学”。</p><pre class="kg kh ki kj gt mv lv mw mx aw my bi"><span id="ffd8" class="lw lx iq lv b gy mz na l nb nc"># keywords to search for<br/>pytrends.build_payload(kw_list=['data science'])</span></pre><p id="82a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在最困难的部分已经过去了！接下来，我们只需要创建一个<strong class="ky ir"> dataframe </strong>来保存这个查询的时序数据。有一个API方法<code class="fe ls lt lu lv b">Interest over Time</code>，它返回<strong class="ky ir">历史索引数据</strong>，显示该关键字在Google Trends的Interest Over Time部分被搜索最多的时间。</p><pre class="kg kh ki kj gt mv lv mw mx aw my bi"><span id="dde8" class="lw lx iq lv b gy mz na l nb nc"># dataframe<br/>time_df = pytrends.interest_over_time()</span></pre><p id="9d7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过运行一个简单的<code class="fe ls lt lu lv b">time_df.head()</code>，看看该数据帧的<strong class="ky ir">前5行</strong>是什么样子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/754bb7ae0bcef4b0700f114df0384795.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*T8Tb6pr07ViA4KE4vyHWFg.png"/></div></figure><p id="6ba9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦一切都设置好了，我们就可以使用<code class="fe ls lt lu lv b">matplotlib</code>来<strong class="ky ir">可视化这个数据框架</strong>！我不会解释这一部分，但这里是我在这个项目中使用的完整代码。如您所见，整个项目只用了大约22行代码就完成了。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div></figure><h2 id="b691" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated">你自己试试</h2><p id="303d" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">这个小练习只是我们可以用<code class="fe ls lt lu lv b">pytrends</code>计划做的许多事情之一。例如，我们可以查看历史每小时兴趣、地区兴趣、相关主题、相关查询等等。</p><p id="8472" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以随意安装Pytrends并自己使用它！有数不清的术语要搜索。</p></div></div>    
</body>
</html>