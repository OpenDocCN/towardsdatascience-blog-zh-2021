<html>
<head>
<title>Correcting the Boston Housing Market dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">纠正波士顿住房市场数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/correcting-the-boston-housing-market-dataset-aa8cfabfa085?source=collection_archive---------45-----------------------#2021-06-14">https://towardsdatascience.com/correcting-the-boston-housing-market-dataset-aa8cfabfa085?source=collection_archive---------45-----------------------#2021-06-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e28c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用谷歌的地理编码器API修正纬度和经度坐标</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/260f460a5d62964f99e5155616080d64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*92MnVbpI4ZfzO7hCYHP1zQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自Sam Clarke在Unsplash ( <a class="ae ky" href="https://unsplash.com/photos/ZEfFgaXVaV4" rel="noopener ugc nofollow" target="_blank">来源</a>)</p></figure><blockquote class="kz la lb"><p id="2655" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">TL；博士</strong></p><p id="8406" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">波士顿住房市场数据集的纬度和经度不正确。校正后的数据集可以在这里找到<a class="ae ky" href="https://github.com/namiyousef/ai_hack_2021/blob/main/data/Boston_Housing_Market_Challenge/boston_fixed.csv" rel="noopener ugc nofollow" target="_blank">。</a></p></blockquote><p id="4c81" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">波士顿住房市场数据集无处不在。尽管如此，纬度和经度值是错误的。这篇文章相当短，旨在:a)引起人们对问题的注意，b)提供校正数据集的链接，以及c)描述用于校正数据集的方法。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="b00f" class="mj mk it bd ml mm mn dn mo mp mq dp mr lz ms mt mu ma mv mw mx mb my mz na nb bi translated">数据集有问题</h2><p id="cb56" class="pw-post-body-paragraph lc ld it lf b lg nc ju li lj nd jx ll lz ne lo lp ma nf ls lt mb ng lw lx ly im bi translated">如图1所示，住宅的快速绘图显示了纬度和经度的问题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/3ebdba36b683f75b4fdf3f0ee658b8c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kFucWBLFkHA364M-R4wrPw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:校正前的住宅图</p></figure><p id="0421" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">我们首先注意到大量的城镇实际上出现在水中，如图2所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/96e5798f0bdb18fdd814acc8b8b028ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CadKHgKMfc1Bj63a9F1K7w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2:放大的图片显示许多城镇出现在水中</p></figure><p id="ab2f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">此外，我们可以通过检查谷歌地图上的各个城镇来确认纬度和经度是不正确的。图3显示了一个在<strong class="lf iu"> Nahant </strong>的住宅的例子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/486fc1563f3e10a7cc4d1ba60de85dc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*UPo_3wkMcIpcjNQ2rSNqsQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3:(左)<strong class="bd nk">出现在谷歌地图上的Nahant </strong>和(右)<strong class="bd nk">使用数据集坐标的Nahant </strong></p></figure><p id="1863" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">这个数据集的很多在线分析都没有考虑这个问题(比如这里的<a class="ae ky" href="https://rpubs.com/Mturgal/164857" rel="noopener ugc nofollow" target="_blank"/>)。尽管他们进行了出色的分析，但住宅的绘制是错误的。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="5a9a" class="mj mk it bd ml mm mn dn mo mp mq dp mr lz ms mt mu ma mv mw mx mb my mz na nb bi translated">修复方法</h2><p id="9590" class="pw-post-body-paragraph lc ld it lf b lg nc ju li lj nd jx ll lz ne lo lp ma nf ls lt mb ng lw lx ly im bi translated">为了固定数据集，做了一个关键的假设。这就是纬度和经度的误差实际上是它们都移动了一个常量。在这个公式中，我们猜测误差是系统性的，而不是随机的。</p><p id="62f9" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">我们假设每个<strong class="lf iu">住宅</strong>到其各自<strong class="lf iu">城镇中心</strong>的距离是一致且正确的。我们猜测这个误差实际上来自于城镇中心的转移。然后我们定义:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/22ee25d000d09eb1c1f220482ed25bc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*CYPi9qozj1EEVGJQa2ajtQ.png"/></div></figure><p id="8ef6" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">其中<strong class="lf iu"> x_i </strong>是我们数据集中一个住宅<strong class="lf iu"> i </strong>的坐标(纬度或经度)，<strong class="lf iu"> x_bar_j </strong>是住宅<strong class="lf iu"> i </strong>所在城镇<strong class="lf iu"> j </strong>(即城镇中心)的平均坐标，<strong class="lf iu"> D_i </strong>是住宅<strong class="lf iu"> i </strong>到城镇中心<strong class="lf iu"> x_bar_j </strong>的坐标距离</p><p id="e052" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">基于我们对误差性质的假设，这意味着如果我们用修正的<strong class="lf iu"> x_bar_j* </strong>替换<strong class="lf iu">x _ bar _ j *</strong>，保持<strong class="lf iu"> D_i </strong>不变，我们可以找到每个住所的修正位置。</p><p id="a196" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">为了找到正确的城镇中心<strong class="lf iu"> x_bar_j* </strong>，我们使用了谷歌的地理编码器API。这方面的代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="4e50" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">完整的实现可以在<a class="ae ky" href="https://github.com/namiyousef/ai_hack_2021/blob/main/data_exploration/Correcting_lat_long.ipynb" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="9f09" class="mj mk it bd ml mm mn dn mo mp mq dp mr lz ms mt mu ma mv mw mx mb my mz na nb bi translated">结果</h2><p id="c0db" class="pw-post-body-paragraph lc ld it lf b lg nc ju li lj nd jx ll lz ne lo lp ma nf ls lt mb ng lw lx ly im bi translated">下面的图4并排显示了校正和未校正的坐标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/6688744ea7fb85703b8c45a1b8040c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3hO_zBHo4C_nC0MB8i_6gQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4:(左)未修正的城镇坐标和(右)修正的城镇坐标</p></figure><p id="ca94" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">值得注意的是，坐标比校正前更有意义，因为:</p><ul class=""><li id="7206" class="np nq it lf b lg lh lj lk lz nr ma ns mb nt ly nu nv nw nx bi translated">水上没有住宅</li><li id="9bb7" class="np nq it lf b lg ny lj nz lz oa ma ob mb oc ly nu nv nw nx bi translated">住宅成群出现(这是有道理的，因为它们应该来自同一个城镇)</li></ul><p id="c2ff" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">可在处<a class="ae ky" href="https://github.com/namiyousef/ai_hack_2021/blob/main/data/Boston_Housing_Market_Challenge/boston_fixed.csv" rel="noopener ugc nofollow" target="_blank">找到校正数据集的链接。</a></p><p id="6ba9" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">我希望这篇文章对希望对波士顿住房市场数据集进行分析的数据科学初学者(或专家)有所帮助。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="abf4" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><em class="le">除非另有说明，所有图片均由作者制作。</em></p></div></div>    
</body>
</html>