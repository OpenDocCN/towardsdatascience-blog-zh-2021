<html>
<head>
<title>Python Dictionary Can Be Improved</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python字典可以改进</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-dictionary-can-be-improved-f5dce4f5d0af?source=collection_archive---------15-----------------------#2021-05-30">https://towardsdatascience.com/python-dictionary-can-be-improved-f5dce4f5d0af?source=collection_archive---------15-----------------------#2021-05-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/761b680dfa1c78453607ec192a74a8c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SgDpYddfb8TsZCc5DDWBzg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><a class="ae jg" href="https://pixabay.com/users/olichel-529835/" rel="noopener ugc nofollow" target="_blank">奥利切尔</a>在<a class="ae jg" href="https://pixabay.com/photos/man-male-person-model-eating-973240/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>拍摄的照片</p></figure><div class=""/><div class=""><h2 id="c9a7" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">第三方图书馆带来更多便利</h2></div><p id="1b24" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">只要我们使用Python，字典就是我们几乎无法避免使用的数据结构。我认为Python字典在灵活性方面已经足够好了。毕竟，Python语言本身就是以动态著称的。</p><p id="2150" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，如果您也像我一样出于某些目的使用JavaScript，您可能会熟悉使用“dot”从字典中获取对象值。本文将从一个例子开始，展示Munch试图解决的不便之处。然后，我将介绍这个库的其他特性。</p><h1 id="b347" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">原始Python字典</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/83d6df43a71ba2195014c468c1d64552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9RPXqyK3suz4SnZItqlXPw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/dariuszsankowski-1441456/" rel="noopener ugc nofollow" target="_blank"> DariuszSankowski </a>在<a class="ae jg" href="https://pixabay.com/photos/glasses-book-education-eyeglasses-1052010/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></figure><p id="661f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我假设大多数像您一样的开发人员已经熟悉Python字典了。这是一个为演示目的而创建的示例词典。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="fbd6" class="mv lv jj mr b gy mw mx l my mz">my_profile = {<br/>    'name': 'Chris',<br/>    'age': 33,<br/>    'address': {<br/>        'country': 'Australia',<br/>        'state': 'Victoria'<br/>    }<br/>}</span></pre><p id="1085" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想得到“名称”的值，只需做<code class="fe na nb nc mr b">my_profile['name']</code>。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/bfa85f8a904ffeb56867ca409b22b7b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*j2QyLt_sEs0gb6L1R9Pyww.png"/></div></figure><p id="09bf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想获得“country”的值，我们可以将方括号链接起来，因为它嵌套在对象“address”内部。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/357c4903a9306940b17253b44b96059e.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*PG26yfqsws4vby0gLmN8ZQ.png"/></div></figure><p id="055c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">老实说，没什么大问题。如果我们坚持要找一个，那就是键必须是一个字符串。除非我们定义一个合适的类并将<code class="fe na nb nc mr b">my_profile</code>实例化为一个实例，否则我们必须使用string来获取值。</p><p id="753a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Munch就是这样一个绕过这个问题的库。</p><h1 id="f27f" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">使用蒙克字典</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/abbccfec69f570d7d8b509031f319b09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eaEE6usDs-zMP02Gvbm6kw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/free-photos-242387/" rel="noopener ugc nofollow" target="_blank">自由照片</a>在<a class="ae jg" href="https://pixabay.com/photos/pencil-sharpener-notebook-918449/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的照片</p></figure><p id="0fef" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Munch是在PyPI中注册的，所以我们可以使用pip轻松获得它。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="b9ad" class="mv lv jj mr b gy mw mx l my mz">pip install munch</span></pre><p id="3498" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦我们得到了库，就需要从模块中导入类<code class="fe na nb nc mr b">Munch</code>。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="eb96" class="mv lv jj mr b gy mw mx l my mz">from munch import Munch</span></pre><p id="3a0a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们可以如下定义我们的字典。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="45f0" class="mv lv jj mr b gy mw mx l my mz">my_profile = Munch({<br/>    'name': 'Chris',<br/>    'age': 33,<br/>    'address': Munch({<br/>        'country': 'Australia',<br/>        'state': 'Victoria'<br/>    })<br/>})</span></pre><p id="ca05" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，Munch字典和Python字典之间的主要区别是前者支持“点”语法来获取值。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/14317d73c2f19972068964003801accb.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*oewzqnP-mohJmnp1_vYHYA.png"/></div></figure><p id="6348" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，我们不必使用字符串来获取值。好处是它更加可靠和方便，因为大多数IDE工具都有自动完成按键的功能。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/19e52f6ca7ef031481734d76368edf39.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*RhCn5zWBK1r5Kn6dpzXnEQ.png"/></div></figure><p id="b97f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你不确定为什么使用可访问属性比字符串更可靠，请参考我以前的一篇文章。</p><blockquote class="nh ni nj"><p id="dcd8" class="ky kz nk la b lb lc kk ld le lf kn lg nl li lj lk nm lm ln lo nn lq lr ls lt im bi translated">如何在Python中少犯“错误”</p></blockquote><div class="is it gp gr iu no"><a rel="noopener follow" target="_blank" href="/how-to-make-fewer-mistakes-in-python-6925619ce87e"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd jk gy z fp nt fr fs nu fu fw ji bi translated">如何在Python中少犯“错误”</h2><div class="nv l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">towardsdatascience.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob ja no"/></div></div></a></div><h1 id="1c90" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">构建蒙克词典</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a0cd7c0f3f2daf13905c5f7f81295af6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l8T_RjG4hi0BLjdQdAi09g.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/satynek-8757289/" rel="noopener ugc nofollow" target="_blank"> satynek </a>在<a class="ae jg" href="https://pixabay.com/photos/cat-dachowiec-kitten-kocurek-4294780/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></figure><p id="0391" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可能已经注意到，在前面的例子中，我们从Python字典创建了Munch字典。当然，如果我们已经有一个字典，这是很方便的，我们只是想使用一些来自Munch的特性。</p><p id="5c5e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，有时我们可能想在字典不存在的时候建立一个字典。在这种情况下，我们<strong class="la jk">不必</strong>首先构建一个Python字典，然后将其转换为Munch。我们可以使用点语法从头开始构建字典。这非常类似于JavaScript。</p><p id="ba0d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，我们想重新构建我们在前面的例子中使用的字典。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="fbfe" class="mv lv jj mr b gy mw mx l my mz">my_new_profile = Munch()</span></pre><p id="1a10" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个可以当做<code class="fe na nb nc mr b">my_new_profile = {}</code>，但是我们从一开始就有Munch的特性。所以我们可以做以下事情来添加键值对。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="804b" class="mv lv jj mr b gy mw mx l my mz">my_new_profile.name = 'Chris'<br/>my_new_profile.age = 33</span><span id="bf1f" class="mv lv jj mr b gy oc mx l my mz">my_new_profile.address = Munch()<br/>my_new_profile.address.country = "Australia"<br/>my_new_profile.address.state = "Victoria"</span></pre><p id="8f78" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe na nb nc mr b">my_new_profile</code>将与<code class="fe na nb nc mr b">my_profile</code>相同。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi od"><img src="../Images/c1d639299a7453e8de4f91918df12f93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Kb9O0b7RIHAl00WA0ejmA.png"/></div></div></figure><h1 id="2454" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">蒙克还是字典的一个子类</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/df39a60db10bc3e5e7d27a758277c5ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5btDO5LF3Y8BHo8q80kohA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/taniavdb-54472/" rel="noopener ugc nofollow" target="_blank"> TaniaVdB </a>在<a class="ae jg" href="https://pixabay.com/photos/kitten-playful-siamese-cat-bite-408853/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的照片</p></figure><p id="0408" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实上，Munch类是Python字典的一个子类。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/a57a17b644e7cbedcdd1266479ef989d.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*kPv3MN83M7BHSJLYhFwYWw.png"/></div></figure><p id="9d65" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的例子表明我们创建的<code class="fe na nb nc mr b">my_new_profile</code>既是蒙克又是<code class="fe na nb nc mr b">dict</code>。了解到这一点，可以很有信心的说，Munch也将继承Python Dictionary的所有原创特性。</p><p id="cb6d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，我们仍然可以使用字符串来设置键值对或获取值。如果键是变量，我们可能仍然需要这个特性。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="03f0" class="mv lv jj mr b gy mw mx l my mz">my_new_profile['programming_language'] = 'Python'<br/>my_new_profile['programming_language']</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi of"><img src="../Images/a7b8a6978b761f3fa2b4f92db488538a.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*ehpHTLrLSWet---wXYfh2w.png"/></div></figure><p id="3cfd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，Python字典的所有功能在这里也将可用，比如获取一个Munch字典的所有键。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="54e4" class="mv lv jj mr b gy mw mx l my mz">my_new_profile.keys()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi og"><img src="../Images/3b462f18d4141154b7ab2d969f1dde97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*AFULmDxrwjeHdFlWOuyq5w.png"/></div></figure><p id="3a20" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">序列化是Python字典最重要的特性之一。很多时候，我们可能想要在Python字典和JSON字符串之间进行转换。显然，通过使用Munch，我们从未失去这一功能。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="a03b" class="mv lv jj mr b gy mw mx l my mz"># Serialisation<br/>import json</span><span id="ee23" class="mv lv jj mr b gy oc mx l my mz">profile_json = json.dumps(my_new_profile)<br/>print(profile_json)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/3f733e82103a4c713aaf40b1fa752101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bwPyKvlXdX2pBaeefK3oZA.png"/></div></div></figure><h1 id="97aa" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">默认值</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/1ca52688f21eebf0da497b931189331a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QZmgUtJvgJZADK0F2cUJfg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/stevepb-282134/" rel="noopener ugc nofollow" target="_blank"> stevepb </a>在<a class="ae jg" href="https://pixabay.com/photos/green-apple-bite-food-apple-fruit-1051018/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></figure><p id="86f1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们看看Munch还提供了哪些很酷的功能。默认值是其中之一。</p><p id="d861" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">关于Python字典，我们需要知道的一个重要提示是关键错误。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/be7c041ca28883897da4141ece6c49cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*YEeeTDTVsry06WOf4y3xvg.png"/></div></figure><p id="3658" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当担心按键错误时，建议使用<code class="fe na nb nc mr b">get()</code>功能。使用此功能时，我们可以设置默认值。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="9cab" class="mv lv jj mr b gy mw mx l my mz">my_profile.get('programming_language', 'undefied')</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/31d8403cdad60c893a5c94d7cc0a13a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*KutTaHudukZQNMq9GoR02A.png"/></div></figure><p id="62b0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这还不错，但是我们每次使用<code class="fe na nb nc mr b">get()</code>函数时都必须传递默认值。有了蒙克字典，我们只需要做<strong class="la jk">一次</strong>。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="3891" class="mv lv jj mr b gy mw mx l my mz">from munch import DefaultMunch</span><span id="fe75" class="mv lv jj mr b gy oc mx l my mz">my_profile = DefaultMunch('undefined', {<br/>    'name': 'Chris',<br/>    'age': 33<br/>})</span></pre><p id="7eb4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如图所示，这一次我们需要导入<code class="fe na nb nc mr b">DefaultMunch</code>类。当我们定义字典时，当我们试图获取一个不存在的键时，第一个对象将是默认值。让我们试一试。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="a9c7" class="mv lv jj mr b gy mw mx l my mz">my_profile.whatever_not_exists</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/e9107eb5d4e6d9fafbc0a8fb27fd8ee3.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*-0s5z3O1fQhiRysv9JEhyQ.png"/></div></figure><p id="871c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当密钥不存在时，将返回预定义的默认值。如果确实存在，则正确返回该值。</p><h1 id="b7cc" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">查询时添加关键字</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/c2faabc9c662d8bc4242b59df3779445.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kwH139R3v0DHYUqlwV7J8w.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/albanycolley-6298107/" rel="noopener ugc nofollow" target="_blank"> AlbanyColley </a>在<a class="ae jg" href="https://pixabay.com/photos/dogs-play-retriever-golden-2690582/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></figure><p id="ba4b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Munch库的另一个小块糖是默认的工厂类。当我们试图从一个键中获取一个值时，如果这个键不存在，它将被自动添加到Munch字典中。</p><p id="c959" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要用<code class="fe na nb nc mr b">DefaultFactoryMunch</code>类定义一个Munch字典。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="3dd7" class="mv lv jj mr b gy mw mx l my mz">from munch import DefaultFactoryMunch</span><span id="6fbd" class="mv lv jj mr b gy oc mx l my mz">my_profile = DefaultFactoryMunch(list, {<br/>    'name': 'Chris',<br/>    'age': 33<br/>})</span></pre><p id="787f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，默认值需要在<code class="fe na nb nc mr b">DefaultFactoryMunch</code>的实例中定义。当访问不存在的键时，将使用该默认值。</p><p id="6332" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们正在查询Munch字典。如果键不返回任何值，我们希望给键增加值。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="2941" class="mv lv jj mr b gy mw mx l my mz">if not my_profile.languages:<br/>    my_profile.languages.append('Python')</span><span id="c8de" class="mv lv jj mr b gy oc mx l my mz">print(my_profile.languages)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/798871c68f9b9c83667dad8da21cc0e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*jHgbICj1ZJs9WGqJiKQVGA.png"/></div></figure><p id="f473" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它保证我的个人资料必须有Python:)</p><h1 id="1183" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">摘要</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/ccbc499c3d6e5a33565168989437bb6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fF0HjIXvhkIwq-8C67NzPw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/khamkhor-3614842/" rel="noopener ugc nofollow" target="_blank">坎霍</a>在<a class="ae jg" href="https://pixabay.com/photos/baby-beautiful-food-nature-girl-3041366/" rel="noopener ugc nofollow" target="_blank">皮克斯贝</a>上拍摄</p></figure><p id="7f4d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我介绍了名为Munch的库。它完全继承了Python字典，因此它支持我们熟悉的所有原始功能。此外，它支持“点语法”。这比传递一个字符串来获取一个键值更方便、更可靠。除此之外，当我们希望从字典中访问一个不存在的键时，它还提供了一个更好的解决方案。</p><div class="is it gp gr iu no"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd jk gy z fp nt fr fs nu fu fw ji bi translated">通过我的推荐链接加入Medium克里斯托弗·陶</h2><div class="ol l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nv l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">medium.com</p></div></div><div class="nw l"><div class="om l ny nz oa nw ob ja no"/></div></div></a></div><p id="eb47" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入Medium会员来支持我和成千上万的其他作者！(点击上面的链接)</p></div></div>    
</body>
</html>