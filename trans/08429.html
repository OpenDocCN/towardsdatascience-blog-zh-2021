<html>
<head>
<title>Evaluation Metrics for Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习的评价标准</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/evaluation-metrics-for-machine-learning-2167fca1a291?source=collection_archive---------22-----------------------#2021-08-03">https://towardsdatascience.com/evaluation-metrics-for-machine-learning-2167fca1a291?source=collection_archive---------22-----------------------#2021-08-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="82bf" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">某些度量比其他度量更好地度量模型性能。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5700ebed6228169472476585aae0f3d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Cl2m1p4VyZ9ZAb_c"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">艾萨克·史密斯在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="02c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有太多的指标来确定机器学习模型的性能。了解哪种评估指标将正确地度量您的模型性能是有益的。某些度量比其他度量更好地度量模型性能，这取决于用例。我们将回顾回归和分类模型的一些通用评估指标。</p><h1 id="2d83" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">回归</h1><p id="aab9" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">回归用于预测连续输出并使误差最小化。例如，您可以使用回归模型来预测销售额或收入。回归模型的两个基本评估度量是平均绝对误差和均方误差。</p><p id="cd71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mp">注意:计算回归度量的一个技巧是逆向工作。让我们以平均绝对误差(MAE)为例。首先计算误差，然后是绝对值，最后是平均值。我们基本上是把MAE倒过来算成了“EAM”。</em></p><h2 id="a8b4" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">平均绝对误差</h2><p id="1ccb" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><strong class="ky ir">平均绝对误差</strong>计算实际值和模型预测值之间的绝对差值。MAE很适合用作基线，因为它考虑了绝对误差。使用MAE的问题在于，度量是相对于值和残差的。例如，什么被认为是好的或坏的MAE？显然，您希望MAE接近0，但是当您的误差值较大时，使用MAE评估您的模型会变得更加困难。</p><p id="c5de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mp">注意:使用绝对误差也用作套索回归的L-1归一化</em></p><p id="b2aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">计算MAE的公式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/8601fd53a3532026d69e86527aa7529c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*9ET0QaSBW3ahTWYqKBfRJA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">梅公式</p></figure><h2 id="ca0e" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">均方误差</h2><p id="4836" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><strong class="ky ir">均方误差</strong>计算误差，然后计算差值的平方，然后计算平均值。MSE是另一个用作基线的好指标，因为它是一个像MAE一样的基本评估指标。然而，由于每个值都是平方的，所以MSE会增加误差。再次导致评估你的模型变得困难。</p><p id="aa41" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mp">注意:使用sqaured值也用作岭回归的L-2归一化</em></p><p id="a86d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">计算MSE的公式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/b82a096f784e5b1cff66a4ef483788a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*AuM75vy3TyE9oI4g25POLQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">MSE公式</p></figure><h2 id="0360" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">RMSE(均方根误差)</h2><p id="77ed" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><strong class="ky ir">均方根误差</strong>就像MSE一样，但是取输出的平方根。RMSE是另一种基于残差平方的基本评估指标，但对较大误差的惩罚更大。</p><p id="c1a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">计算RMSE的公式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/783182acc9e9f7a6f08fb87e1c185732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5ZyKxbXBrB3tZetkYKwypw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">RMSE公式</p></figure><h2 id="33b0" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">MAPE(平均绝对百分比误差)</h2><p id="f1b8" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><strong class="ky ir">平均绝对百分比误差</strong>尝试用MAE解决问题。其中MAE是相对的，基于残差的大小。MAPE会将误差转换为百分比，其中您希望您的MAPE尽可能接近0。还有其他使用绝对值和百分比的指标。(如猿、加权MAPE、对称MAPE等。)</p><p id="e540" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">计算MAPE的公式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/70c2ca90482bfd93403d330f72a1d407.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*YvWqvAzVOAwFGrTrYrK-Rw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">MAPE公式</p></figure><h2 id="29f5" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">平均绝对标度误差</h2><p id="e0c2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><strong class="ky ir">平均绝对比例误差</strong>是一个允许您比较两个模型的指标。使用每个模型的MAE，您可以将新模型的MAE放在分子中，将原始模型的MAE放在分母中。如果MASE值小于1，则新模型的性能会更好。如果MASE值等于1，则模型执行相同的操作。如果MASE值大于1，则原始模型的性能优于新模型。</p><p id="b891" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">计算MASE的公式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/41c3078faa0cf021b1b29b004fbb8cc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*hImatS5n4JjrAP09f0qduQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">梅斯公式</p></figure><h1 id="a697" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">分类</h1><p id="f398" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">分类用于预测离散输出。一个流行的例子是“热狗/不是热狗”的概念。分类器旨在最大化可能性，以确定样本应如何分类。</p><h2 id="1378" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">准确(性)</h2><p id="9929" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">准确性是最基本的指标之一，但经常会产生误导。原因是由于不平衡的阶级。如果你有一个达到98%准确率的分类器，但是98%的数据被归类为同一个标签，那么你的模型不一定很好。这是因为您的模型只是将所有东西都标记为同一个类。</p><p id="6099" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">举例:你有98个“热狗”，2个“不是热狗”。你的模型会把所有东西都标上“热狗”的标签，不管它是什么，但仍然有98%的准确率。即使这个模型完全忽略了其他的一切。</p><p id="3c5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，您应该添加平衡数据的方法。(例如，上/下采样、合成数据等。)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/08c3128d2e5e645a8502563abf704a83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P9IiJUoKjRzCljG83reOyQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">精确度公式</p></figure><h2 id="cb54" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">精确</h2><p id="631c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">精度评估您的模型在进行预测时的精度。如果您希望您的模型在标记数据时保持保守，这是一个值得注意的好指标。明智地使用精度的一个例子是，当你的模型产生的每个“正面”标签都有很高的成本时。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/6d643da193d92c551645fb06429df52c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Au5HPd0A5Cz3JENyj8fc6w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">精确公式</p></figure><h2 id="534d" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">回忆</h2><p id="e793" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">召回评估模型的敏感度。基本上，它检查您的模型在标记相关样本方面有多成功。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/3095ad2907eb8793ea63b3bbe798249a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NbZkmFkR3GVTfemuUl9sZA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">回忆公式</p></figure><h2 id="8fa5" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">f分数</h2><p id="c565" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">F值，也称为F值，是精确度和召回率的调和平均值。如果您想在模型的精确度和召回率之间找到平衡，F值是一个很好的衡量标准，应该用来找到一个总体上较好的模型。</p><p id="dd0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mp">注:在下文中，下标“p”表示被归类为“肯定”的预测。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/0937c54fc6a675beaf01173ef30af3eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*QizDfPxo74-3azBxfKis8g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">f分数公式</p></figure><h1 id="01d4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">我可以使用哪些工具来帮助生成评估指标？</h1><p id="ef08" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">一般来说，Scikit Learn有很棒的<a class="ae kv" href="https://scikit-learn.org/stable/modules/model_evaluation.html" rel="noopener ugc nofollow" target="_blank">评估度量函数</a>。对于分类度量标准，<a class="ae kv" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.classification_report.html#sklearn.metrics.classification_report" rel="noopener ugc nofollow" target="_blank">分类报告</a>功能为您处理了很多事情，并快速显示了模型性能。特别列出了精确度、召回率和F值。</p><h1 id="f094" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">摘要</h1><p id="f92a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">根据您的用例选择评估指标。不同的指标更适合不同的目的。选择适当的指标还可以让您在向他人展示您的数据和发现时，对您的模型更有信心。</p><p id="aeb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一方面，使用错误的评估指标可能对机器学习用例有害。一个常见的例子是关注准确性，使用不平衡的数据集。</p><p id="e1ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">需要一个起点并希望获得更多Python经验？查看Scikit Learn的<a class="ae kv" href="https://scikit-learn.org/stable/modules/model_evaluation.html" rel="noopener ugc nofollow" target="_blank">评估指标函数</a>。</p><h1 id="95b2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">链接</h1><ul class=""><li id="cbee" class="nl nm iq ky b kz mk lc ml lf nn lj no ln np lr nq nr ns nt bi translated"><a class="ae kv" href="https://scikit-learn.org/stable/modules/model_evaluation.html#classification-metrics" rel="noopener ugc nofollow" target="_blank"> Scikit学习评估指标</a></li><li id="b6bb" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/what-is-linear-regression-e44d2c4bf025">线性回归</a></li><li id="9718" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/what-is-logistic-regression-d3f59ef1a9b">逻辑回归</a></li><li id="6142" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated"><a class="ae kv" href="https://github.com/frankiecancino/ML-Tutorials/blob/master/evaluation_metrics.ipynb" rel="noopener ugc nofollow" target="_blank">原版Jupyter笔记本</a></li><li id="4367" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated"><a class="ae kv" href="https://www.linkedin.com/in/frankie-cancino/" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="315c" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated"><a class="ae kv" href="https://twitter.com/frankiecancino" rel="noopener ugc nofollow" target="_blank">推特</a></li></ul></div></div>    
</body>
</html>