<html>
<head>
<title>Introducing Datapane: How to Create Interactive Reports and Visualizations with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Datapane简介:如何用Python创建交互式报告和可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introducing-datapane-how-to-create-interactive-reports-and-visualizations-with-python-ebc40e02e748?source=collection_archive---------16-----------------------#2021-06-21">https://towardsdatascience.com/introducing-datapane-how-to-create-interactive-reports-and-visualizations-with-python-ebc40e02e748?source=collection_archive---------16-----------------------#2021-06-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="09cb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从媒体文章到网站，在任何地方创建、发布和嵌入交互式数据可视化</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/36bd6fc1b717c4be1bb0ef41820b780d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cbf3MOMRX0J_6Vxj2W95oQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@beccatapert?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">贝卡·泰普特</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="e497" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">免责声明</em> </strong> <em class="lv">:这不是一篇赞助文章。我与Datapane或它的创建者没有任何关系。这篇文章展示了该库的一个公正的概述，旨在使数据科学工具能够被更广泛的大众所使用。</em></p><p id="8a24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您想让您的报告具有交互性吗？或者在你的博客中嵌入交互式数据可视化？如果是这样，<strong class="lb iu"> Datapane </strong>可能是您一直在寻找的银弹。今天，您将看到如何用几行Python代码创建、共享和嵌入交互式报告。</p><p id="8740" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章的结构如下:</p><ul class=""><li id="e3a7" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">数据面板—简介和环境设置</li><li id="aaf2" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">使用Altair创建图表</li><li id="f5c1" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">使用Datapane保存和发布报告</li><li id="3aae" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">最后的想法</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="e778" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">数据面板—简介和环境设置</h1><p id="a5a4" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">很多次，我花了几个小时构建一个交互式数据可视化，然后带着一个问题离开— <em class="lv">我如何才能与我的读者分享它？</em>截图工具不行，gif只是<em class="lv"> meh </em>，但是Datapane可以扭转局面。</p><p id="00ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想与世界分享任何分析报告，Datapane就是为你准备的。该库使得以编程方式从图表和表格创建报告并将其包装在公共对象(如文本和图像)周围变得容易。</p><p id="597a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，您将看到如何获取、可视化和发布包含S&amp;P500历史价格图表的报告。我们将使用<a class="ae ky" href="https://altair-viz.github.io/" rel="noopener ugc nofollow" target="_blank"> Altair </a>作为数据可视化库，但是您可以自由使用Bokeh、Plotly或Folium来代替。</p><p id="ce49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们为项目配置一个虚拟环境:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="38bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用Datapane，你还必须在他们的网站上注册一个免费账户。这样做将为您提供一个API令牌，用于从Python脚本或笔记本中发布报告。</p><p id="95af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来让我们创建一些可视化。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="7313" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">使用Altair创建图表</h1><p id="f79b" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">如前所述，我们将构建历史S&amp;P500价格的数据可视化。<code class="fe nq nr ns nt b">pandas_datareader</code>库可用于直接下载财务数据。</p><p id="738b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下代码片段导入库，下载20年的历史数据，并对其进行重新采样，以便只保留月平均值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="e46d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是前几行的样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/6f909a310bc36730499b37dc46caed9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*vic3d2WNfFrkljQWN2OI3w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片1-S&amp;P历史价格数据集的头部(图片由作者提供)</p></figure><p id="31e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来让我们创建可视化。这将是一个显示ETF价格随时间变化的填充面积图。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="f3db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是图表的样子(在笔记本中):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/615ea07f31f750fbb5f7b655723dd9c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ot8fSGHX8thT3MJljB1iLQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2—S&amp;P500历史价格图表(图片由作者提供)</p></figure><p id="162f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是我们保存和发布报告所需的全部内容。接下来让我们开始吧。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="22f6" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">使用Datapane保存和发布报告</h1><p id="3f01" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">到目前为止，我们已经掌握了数据集和数据可视化。Datapane可以很容易地将一个或多个元素导出到一个报告中，无论是在本地还是在他们的服务器上。</p><p id="3ef4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在继续之前，请使用以下命令登录到Datapane服务器:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/06538a3758d8afcb5d600e7c0c473d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lpsMlq9BSLkKKBNHw1clWQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3——登录Datapane服务器的过程(作者图片)</p></figure><p id="e8fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">把<code class="fe nq nr ns nt b">&lt;your_api_token&gt;</code>换成注册后给你的字符串代码就行了。</p><p id="a960" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来让我们做第一个报告。以下代码将把可视化和表格(加上一些文本元素)保存到本地计算机上的一个文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="dd20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它看起来是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/5fce8274f1abefdd771fe345f7c5681d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*97-5SPQkRKHkh0FKtPxkhw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4 —由Datapane生成的HTML报告(图片由作者提供)</p></figure><p id="5387" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这无疑是朝着正确方向迈出的一步，因为您可以轻松地共享报告文件，但是让我们更进一步。</p><p id="9fc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码将只向Datapane服务器发布图表:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="1342" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">发布后，您可以点击“共享”按钮获得可共享的网址:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/149eb5bb4f0c4622e8741bed83232061.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ct-idph0ZVI3J9QPn-a8jg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5 —共享已发布的数据面板报告(作者图片)</p></figure><p id="0cef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以与任何人分享它，甚至将其嵌入到你的媒体文章中——只需粘贴网址并点击<em class="lv">输入</em>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz np l"/></div></figure><p id="2003" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常管用！让我们用图表+表格报告做同样的事情:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="46ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里—嵌入式:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz np l"/></div></figure><p id="7105" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是与世界分享和嵌入定制可视化/报告的简单之处。接下来让我们总结一下。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="9308" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">最后的想法</h1><p id="38ea" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">今天您已经看到了Datapane的基础知识。然而，还有很多东西需要去发现，所以你可以自己去探索。最棒的是——它不会花你一分钱。Datapane提供一些<a class="ae ky" href="https://datapane.com/pricing/" rel="noopener ugc nofollow" target="_blank">付费计划</a>，但是如果你独立工作，你可能不需要它。</p><p id="eace" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如需进一步了解，请参考<a class="ae ky" href="https://docs.datapane.com/" rel="noopener ugc nofollow" target="_blank">官方文档</a>。它还包含一个到API文档的链接，所以你可以在那里找到任何特性。</p><p id="67ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，Datapane对于任何想要分享交互式可视化和报告的人来说都是一个优秀的服务。无论是您必须提交的每周销售报告还是博客帖子，交互性都为您的工作增添了新的维度。试一试吧——完全免费。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="c90f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">喜欢这篇文章吗？成为 <a class="ae ky" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="lv">中等会员</em> </a> <em class="lv">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="oa ob gp gr oc od"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">通过我的推荐链接加入Medium-Dario rade ci</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">medium.com</p></div></div><div class="om l"><div class="on l oo op oq om or ks od"/></div></div></a></div></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="b2db" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">了解更多信息</h1><ul class=""><li id="4027" class="lw lx it lb b lc nj lf nk li os lm ot lq ou lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/top-5-books-to-learn-data-science-in-2020-f43153851f14">2021年学习数据科学的前5本书</a></li><li id="3d93" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/how-to-schedule-python-scripts-with-cron-the-only-guide-youll-ever-need-deea2df63b4e">如何使用Cron调度Python脚本——您需要的唯一指南</a></li><li id="a75b" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/dask-delayed-how-to-parallelize-your-python-code-with-ease-19382e159849"> Dask延迟—如何轻松并行化您的Python代码</a></li><li id="9759" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/how-to-create-pdf-reports-with-python-the-essential-guide-c08dd3ebf2ee">如何使用Python创建PDF报告—基本指南</a></li><li id="6c61" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/become-a-data-scientist-in-2021-even-without-a-college-degree-e43fa934e55">即使没有大学文凭也要在2021年成为数据科学家</a></li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="f914" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">保持联系</h1><ul class=""><li id="74df" class="lw lx it lb b lc nj lf nk li os lm ot lq ou lu mb mc md me bi translated">关注我的<a class="ae ky" href="https://medium.com/@radecicdario" rel="noopener"> Medium </a>了解更多类似的故事</li><li id="9e98" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">注册我的<a class="ae ky" href="https://mailchi.mp/46a3d2989d9b/bdssubscribe" rel="noopener ugc nofollow" target="_blank">简讯</a></li><li id="ed34" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">在<a class="ae ky" href="https://www.linkedin.com/in/darioradecic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上连接</li></ul></div></div>    
</body>
</html>