<html>
<head>
<title>The Art of Code Review</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码审查的艺术</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-art-of-code-review-552a88c6f2ac?source=collection_archive---------24-----------------------#2021-09-21">https://towardsdatascience.com/the-art-of-code-review-552a88c6f2ac?source=collection_archive---------24-----------------------#2021-09-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="3c23" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">编程；编排</h2><div class=""/><div class=""><h2 id="3370" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">为什么代码审查是必不可少的？最佳实践是什么？</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/987479e2d23c7a906aac5167b4031e3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*e-LPTrcYEhfdQDHc"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">扬西·敏</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="f8b9" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">什么是代码审查？</h2><p id="ea96" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">我们都写代码，我们喜欢将我们的代码提交给主代码池。这是一个激动人心的时刻，我们迫不及待地想在主回购中看到我们的最新杰作。让我们提交并合并。等等…我需要请人来审核我的代码吗？</p><p id="0042" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">在很多公司，尤其是小公司，并不是必须的流程。但是拥有数百名开发人员和数百万用户的大公司不能犯一个简单且可避免的错误。代码审查在开发人员中是一种很好的(有时被遗忘的)实践。</p><p id="aa8e" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">许多团队和组织跳过代码审查的一个常见借口是“我们快速而敏捷”虽然看起来代码审查在开始时使过程变得更慢，但提交有bug和有缺陷的逻辑的代码会使合并后的过程效率更低。此外，有时一个小小的错误(尤其是在安全方面)会让公司付出巨大的代价。永远记住速度和质量之间有一个权衡。不管是哪种情况，忽视代码质量或速度都会导致低效的过程。有效的代码评审可以平衡开发的速度和质量。</p><p id="4ed5" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">这篇文章是为作为代码评审者的你而写的。如果有人善意地请你做代码审查，这篇文章中有一些提示可以帮助你更有效地做这件事。</p><h2 id="d1ef" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">为什么代码审查至关重要？</h2><ol class=""><li id="04f8" class="nb nc it mf b mg mh mj mk lr nd lv ne lz nf mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">再次关注你的代码</em> </strong>:在数小时的编码、运行、调试和重新运行之后，捕捉一些意想不到的错误和边缘情况对代码作者来说可能非常困难。仅仅因为作者关注了主要案例而错过一些边缘案例是很常见的。即使有最好的测试计划，作者仍然可能遗漏一些通常不会发生的错误。现在是代码作者需要对他们的代码进行第二次检查的时候了。</li><li id="275c" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">交流最佳实践</em> </strong>:代码评审定期提醒每个人(包括作者和评审者)最佳实践。如果你是一个人，你可能会忘记(甚至没有意识到)你所在领域的最佳实践的某些方面。由不同的评审人员定期进行的代码评审过程就像是定期提醒每个人遵循最佳实践。例如，作为一个单独的程序员，你可能有时会忽略一个合理的测试计划，但是一个好的评审员会要求你做一些测试计划。</li><li id="c694" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">边复习边学</em> </strong>:记住，代码复习不是监督任务。有时候，与作者相比，评审者在代码评审过程中学到了更多。有时候，代码审查过程对审查者来说是一个学习的机会，尤其是如果作者是一个有经验的开发人员。</li><li id="36d8" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">更多地参与相关项目</em> </strong>:让每个团队成员同步一个产品的最新特性或者组织中一个项目的每个方面，这是一个挑战。代码审查，尤其是当它发生在不同团队的成员之间时，使审查者熟悉产品或项目的最新更新和特性。没有代码审查过程的团队和组织通常在产品中添加了许多变更之后，在同步时会遇到更多的挑战。</li><li id="fb89" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"><em class="nk"/></strong>跨开发人员强制执行编码标准:并非所有开发人员都处于同一水平。但是作为一个团队工作，我们必须为我们的共享代码保持一个基本的标准水平。代码的最低标准使得有经验和没有经验的开发人员在同一个项目中工作更加容易。执行最低代码标准的最佳方法是在合并到主repo之前对每一个代码进行代码审查。</li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/6dd253ea19b41ee1389d8e207a1a709f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IMoOskdhrXS2omru"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@heylagostechie?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">拉各斯技术人员</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="9f7d" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">对于代码审查人员来说，最佳实践是什么？</h2><p id="4966" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">既然你已经确信代码评审对于团队工作是必要的，我想分享一些技巧让你成为更好更专业的代码评审者。</p><ol class=""><li id="c72d" class="nb nc it mf b mg mw mj mx lr nr lv ns lz nt mv ng nh ni nj bi translated">尊重和友好:这是迄今为止最重要的提示。请记住，代码审查背后的原因不是羞辱他人或展示您的编码技能。代码审查背后的主要原因是能够作为一个团队开发代码和产品。如同任何团队合作一样，尊重是成功的首要法则。尽量做出简洁明了但尊重他人的评论。此外，请记住，不要仅仅出于友好或尊重而做出不明确的评论。清晰、简洁和尊重并不矛盾。</li><li id="5063" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">虚心接受不同的方法</em> </strong>:每个人都有一种编码和思维方式。不同的人可以编写完全不同的代码来完成相同的任务。只要代码符合标准(就性能和风格而言)并且有意义，您就必须对这种方法持开放态度。我们都知道您可能有不同的编码风格或方法，但是评审者并不在作者的位置上。试着对其他方法持开放态度，并通过他们的方法帮助作者理解可能的缺陷。</li><li id="0e00" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">提问，其实问题太多</em> </strong>:不要羞于提问。不了解准则，甚至不知道它的基本目标是完全正常的。这可能是因为您不熟悉那个项目，或者作者没有很好地传达代码的目标。此外，有时作者过于关注问题，以至于问题的某些方面对他们来说变得显而易见，而他们忘记了向其他人解释这些方面。通过向他们提问，向他们展示他们工作中的哪些部分不清楚，这是很好的做法。</li><li id="4a7c" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">【先问主要问题，后问次要问题】</em> </strong>:建议第一轮评审重点关注主要问题和代码的整体方法。很多小问题会在大问题修改过程中自动删除或更改。当你对整体方法感到满意时(不过，记住第二点)，是时候评论一些小问题了。</li><li id="0f3b" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">参考样式文档或制作一个</em> </strong>:参考组织中已有的样式文档，可以更好地说明为什么要制作一些代码样式注释。如果您没有这样的文档，请创建一个。通过这种方法，作者对标准样式有了更好的了解，并可以在将来的合作中学习它。</li><li id="5734" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">明确是否重要</em> </strong>:如果你的评论只是一个建议或者不是重要的评论，用“n it”或者“只是一个建议”之类的话明确提及这样，你就向作者清楚地表明，应用这些更改是由他们决定的。当过程需要快速进行时，它也帮助作者在速度和质量之间取得平衡。</li><li id="3103" class="nb nc it mf b mg nl mj nm lr nn lv no lz np mv ng nh ni nj bi translated"><strong class="mf jd"> <em class="nk">留下一些好的评论</em> </strong>:有时候，即使是来自评审者的最尊重的评论，作者在付出太多努力后，读了几十条对他们代码的评论也会感觉不好。有时候，评审者留下好的评论来欣赏他们认为写得好的代码片段是一个好主意。它可以像“这个部分的聪明想法”或“这个问题的好方法”一样简短毕竟，对于作者来说，你欣赏他们的辛勤工作并注意到他们的一些努力是一种很好的感觉。</li></ol><h2 id="28a8" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">摘要</h2><p id="f938" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">请记住，在您的代码审查中始终保持尊重和友好。提问，明确评论，总要留下好的评论。</p></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><p id="a205" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">在<a class="ae lh" href="https://tamimi-naser.medium.com/" rel="noopener">媒体</a>和<a class="ae lh" href="https://twitter.com/TamimiNas" rel="noopener ugc nofollow" target="_blank">推特</a>上关注我的最新消息。</p></div></div>    
</body>
</html>