<html>
<head>
<title>This is How I Create Dazzling Dashboards Purely in Python.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这就是我如何纯粹用Python创建令人眼花缭乱的仪表盘。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/plotly-dashboards-in-python-28a3bb83702c?source=collection_archive---------1-----------------------#2021-09-05">https://towardsdatascience.com/plotly-dashboards-in-python-28a3bb83702c?source=collection_archive---------1-----------------------#2021-09-05</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="872d" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">Plotly dash应用程序是用python构建生产级仪表板的最快方式。</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/3acbec6b77338343262d0f60396a84c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mrpRJriKlzNeFLc3vE8xuQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者<a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener">用Python创建的仪表盘截图。</a></p></figure><p id="3b62" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我不需要说服你为什么我们需要一个交互式仪表板。但大多数人不知道的是，他们不必购买<em class="lw"> Tableau </em>或<em class="lw"> PowerBI </em>的昂贵授权。你也不必注册JavaScript课程。</p><p id="b640" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="lw"> Dash </em> </strong>应用程序允许你纯粹用Python来构建交互式仪表盘。有趣的是，它可以达到流行的BI平台所不能达到的高度。此外，您可以在您的服务器和条款上托管它。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="1d91" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">为什么是Dash？为什么不是Tableau，Power BI，或者一些JavaScript库？</h1><p id="d87f" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">像<strong class="lc iv"> Tableau和PowerBI </strong>这样的BI平台做得非常出色。它甚至允许非技术管理人员自己进行数据探索。我对他们没有抱怨。</p><p id="c988" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">它们是对只读数据集执行分析的优秀工具。但是在大型数据科学项目中，你必须执行复杂的操作。例如，您必须触发一个后端功能，并开始模型再训练。</p><p id="a94f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在这种情况下，我的最佳解决方案是从头开始构建一个web应用程序。<strong class="lc iv"> JavaScript数据可视化库</strong>比如HighCharts就是很好的工具。它们对几乎每一个可能的用户操作都有回调。我用它们将数据发送回服务器，并更好地控制它。</p><p id="679c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">但这不是在公园散步。我的数据科学团队擅长Python和R，但不擅长<em class="lw"> JavaScript。N </em> ot在web框架上，比如Django 上。这还不够。要构建现代网络应用，你需要前端网络框架，比如React 。</p><p id="d4dd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">随着我们的进步，我们意识到残酷的事实。我们堆栈中的每项新技术都会成倍增加难度。</p><p id="79e3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们很幸运找到了达什。</p><p id="fcd6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果你正在寻找一个轻量级的替代品，请查看<a class="ae kz" rel="noopener" target="_blank" href="/how-to-create-stunning-web-apps-for-your-data-science-projects-c7791102134e"><strong class="lc iv"><em class="lw">Streamlit</em></strong></a>。如果您需要一个灵活、完整的Python仪表盘解决方案，请继续阅读。</p><p id="a0e1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，这就是我如何用Python创建令人眼花缭乱的仪表盘。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="7c34" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">用Python构建您的第一个仪表板(不到1分钟。)</h1><p id="0c8c" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">是的，在Dash中构建仪表板就是这么简单。用下面的命令安装Pandas和dash，然后启动计时器。</p><pre class="kk kl km kn gu nb nc nd ne aw nf bi"><span id="ecf5" class="ng mf iu nc b gz nh ni l nj nk">pip install dash pandas</span></pre><p id="f8f7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在您的项目目录中，使用以下内容创建一个名为app.py的文件。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nl nm l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">最简单的Plotly Dash应用程序。</p></figure><p id="3eef" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">表演时间到了。让我们使用以下命令运行仪表板:</p><pre class="kk kl km kn gu nb nc nd ne aw nf bi"><span id="a687" class="ng mf iu nc b gz nh ni l nj nk">python app.py</span></pre><p id="9710" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您将看到它在端口8050启动一个服务器。如果您在浏览器上访问<a class="ae kz" href="http://127.0.0.1:8050" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:8050 </a>，您会看到如下所示的仪表板:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/3abe3a98601d1877aa01e67358ac8f47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZiECRK9wLAhPP_4pVYCcEQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">仅在Python中创建的仪表板。—<a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener">作者</a></p></figure><p id="4683" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您已经使用JavaScript库创建了一个类似的应用程序，您会体会到其中的不同。Dash通过消除大量样板代码节省了大量时间。即使是流行的BI工具也需要做大量的前期工作才能达到这一步。</p><p id="4304" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">太棒了。这对于激发你构建仪表板来说是相当重要的。但你可能已经意识到它还不耀眼。在接下来的部分中，我们将讨论如何</p><ul class=""><li id="3e50" class="nn no iu lc b ld le lg lh lj np ln nq lr nr lv ns nt nu nv bi translated">我们可以改进布局；</li><li id="3b78" class="nn no iu lc b ld nw lg nx lj ny ln nz lr oa lv ns nt nu nv bi translated">向小部件添加交互和回调，以及；</li><li id="340f" class="nn no iu lc b ld nw lg nx lj ny ln nz lr oa lv ns nt nu nv bi translated">进一步设计应用程序。</li></ul><p id="aba3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有了这个，你就可以创建你需要的炫目的仪表盘了。浏览<a class="ae kz" href="https://dash.gallery/Portal/" rel="noopener ugc nofollow" target="_blank"> Plottly Dash图库</a>获取更多此类仪表盘的灵感。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="774e" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">向布局添加更多小部件。</h1><p id="b18d" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">Dash遵循类似HTML的元素层次结构。您可以将任何Dash的HTML组件或核心组件附加到应用程序的布局属性中。布局属性是Dash应用程序元素层次结构的根。</p><p id="9c92" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">核心组件是一组预配置的小部件，如下拉菜单和滑块。</p><p id="e7ab" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Dash的HTML组件几乎涵盖了所有可用的HTML元素。要创建标题，可以使用<code class="fe ob oc od nc b">html.H1</code>和<code class="fe ob oc od nc b">html.P</code>创建段落。children属性允许您将一个HTML组件嵌套在另一个组件中。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nl nm l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">在Plotly Dash应用程序中使用组件。—作者<a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener">作者</a></p></figure><p id="44e4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在上面的代码中，我们包含了三个核心组件——两个下拉菜单和一个滑块。这些控制器元素允许我们过滤图表数据，并在下一部分创建交互性。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="f202" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">添加与组件回调的交互性。</h1><p id="a1c7" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">Dash的核心组件有回调来控制对用户动作的响应。这个特性是Dash应用程序胜过流行的BI平台的显著原因。</p><p id="e03d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以使用这个回调来控制图表的重新呈现，或者触发大量的分析。查看我关于<a class="ae kz" rel="noopener" target="_blank" href="/how-to-serve-massive-computations-using-python-web-apps-590e51624bc6">执行大规模计算</a>的文章，连同芹菜一起使用Dash应用程序。</p><p id="c6e1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在这篇文章中，我们使用回调来过滤图表数据。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nl nm l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">在Plotly Dash应用程序中使用回调。—作者<a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener">作者</a></p></figure><p id="fa4a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">回调函数用@app.callback装饰器进行了注释。这个装饰器的第一个参数是元素树中的输出组件。我们需要指定该元素的id和需要更改的属性。该属性将更改为回调函数的返回值。</p><p id="ef34" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">那么修饰的将接受任意数量的输入参数。每一个都将被绑定到一个核心组件，就像我们附加输出组件一样。我们可以指定元素的id和发出更改值的属性。通常，这将是“价值”</p><p id="1d64" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">装饰器中的每个输入应该在回调函数的定义中有各自的参数。</p><p id="b77b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后，我们将图形组件移到了回调函数中。每次我们运行回调函数时，它都会创建一个新的figure实例并更新UI。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="a5ff" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">仪表板的样式。</h1><p id="4516" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">您可以使用Dash应用程序中提供的内嵌样式选项。但是用很少的CSS，你可以得到惊人的结果。</p><p id="2cf6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在dash中，您可以用三种不同的方式来设计元素的样式。</p><h2 id="b9a8" class="ng mf iu bd mg oe of dn mk og oh dp mo lj oi oj mq ln ok ol ms lr om on mu oo bi translated">内嵌样式</h2><p id="351f" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">每个Dash组件都接受一个样式参数。您可以传递一个字典并设计任何元素的样式。这是设计Dash应用程序最便捷的方式。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nl nm l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Dash应用程序组件的内联样式。—作者<a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener">作者</a></p></figure><h2 id="3040" class="ng mf iu bd mg oe of dn mk og oh dp mo lj oi oj mq ln ok ol ms lr om on mu oo bi translated">本地样式表。</h2><p id="c6ca" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">或者，您可以将类名属性传递给任何Dash组件，并使用单独的CSS文件对其进行样式化。您应该将这个CSS文件放在项目目录的资产文件夹中。Dash会自动选择它，并将其样式应用到组件中。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nl nm l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Plotly Dash应用程序中的本地样式表。—<a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener">作者</a></p></figure><h2 id="054c" class="ng mf iu bd mg oe of dn mk og oh dp mo lj oi oj mq ln ok ol ms lr om on mu oo bi translated">外部样式表。</h2><p id="dc4c" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">您也可以使用互联网上的样式表。例如，dash有这个预配置的样式表，附带了方便的实用程序类。您可以指定样式表，并在元素中使用它的类名，使元素更加美观。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nl nm l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Plotly Dash应用程序中的外部样式表。—<a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener">作者</a></p></figure><p id="2434" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这里是应用程序的完整的源代码。我们使用了本地样式表，并以支持样式的方式组织HTML。您可以在这个<a class="ae kz" href="https://github.com/ThuwarakeshM/geting-started-with-plottly-dash" rel="noopener ugc nofollow" target="_blank"> GitHub资源库</a>中找到完整的代码和本地样式表。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nl nm l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">用Python创建的仪表板的完整源代码。作者<a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener">作者</a></p></figure><p id="af38" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当您使用上述内容更新代码时，您的web应用程序会刷新。它可能看起来像下图——你的第一个令人眼花缭乱的仪表板版本。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj op"><img src="../Images/df28147bcac531b90901665d5f798f54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*5oTQlMoKLFceHv--GjpYKQ.gif"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">用Python创建的基本样式仪表板的截屏。—<a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener">作者。</a></p></figure></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="dce4" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">最后的想法</h1><p id="a111" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">对于Python开发者来说，Dash应用是一个不可思议的工具。由于大多数数据科学团队并不专门研究JavaScript，所以用Dash构建仪表板节省了他们大量的时间。</p><p id="dfe6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以使用Tableau、PowerBI和类似的BI平台进行数据探索和可视化。但是Dash应用程序比他们更出色，因为它们与后端代码紧密集成。</p><p id="301a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本文中，我们探索了Dash应用程序的表面。我相信这会给你一个开始，让你不用担心可怕的技术堆栈，就能构建出色的仪表板。</p><p id="6120" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">作为下一步，我强烈建议探索Dash的文档页面和他们的示例库。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><blockquote class="os ot ou"><p id="fe1b" class="la lb lw lc b ld le jv lf lg lh jy li ov lk ll lm ow lo lp lq ox ls lt lu lv in bi translated">谢谢你的阅读，朋友。看来你和我有许多共同的兴趣。也一定要看看我的<a class="ae kz" href="https://www.the-analytics.club/" rel="noopener ugc nofollow" target="_blank">个人博客</a>。</p><p id="2f7d" class="la lb lw lc b ld le jv lf lg lh jy li ov lk ll lm ow lo lp lq ox ls lt lu lv in bi translated"><strong class="lc iv"> <em class="iu">在<a class="ae kz" href="https://www.linkedin.com/in/thuwarakesh/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a><a class="ae kz" href="https://twitter.com/Thuwarakesh" rel="noopener ugc nofollow" target="_blank">Twitter</a><a class="ae kz" href="https://thuwarakesh.medium.com/subscribe" rel="noopener">Medium</a>上跟我打招呼</em>。我会为你打破僵局。</strong></p></blockquote><p id="f07a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">还不是中等会员？请使用此链接<a class="ae kz" href="https://thuwarakesh.medium.com/membership" rel="noopener"> <strong class="lc iv">成为会员</strong> </a>因为，不需要你额外付费，我为你引荐赚取一小笔佣金。</p></div></div>    
</body>
</html>