<html>
<head>
<title>PyCaret 2.3.5 Is Here! Learn What’s New</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PyCaret 2.3.5 来了！了解新内容</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/announcement-pycaret-2-3-5-is-here-learn-whats-new-7f0256c71797?source=collection_archive---------17-----------------------#2021-11-22">https://towardsdatascience.com/announcement-pycaret-2-3-5-is-here-learn-whats-new-7f0256c71797?source=collection_archive---------17-----------------------#2021-11-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1976" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于 PyCaret 最新版本中添加的新功能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4c9b6f37a60a9d6d1089126220437610.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eiN589qR3wWadqHz-OWQQA.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)PyCaret 2.3.5 中的新特性</p></figure><h1 id="26cd" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">🚀介绍</h1><p id="dedd" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">PyCaret 是一个用 Python 编写的开源、低代码的机器学习库，可以自动化机器学习工作流。这是一个端到端的机器学习和模型管理工具，可以成倍地加快实验周期，提高您的工作效率。想了解更多关于 PyCaret 的信息，可以查看官方<a class="ae mj" href="https://www.pycaret.org" rel="noopener ugc nofollow" target="_blank">网站</a>或者<a class="ae mj" href="https://www.github.com/pycaret/pycaret" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。</p><p id="c9ce" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">本文展示了最近发布的<a class="ae mj" href="https://github.com/pycaret/pycaret/releases/tag/2.3.5" rel="noopener ugc nofollow" target="_blank"> PyCaret 2.3.5 </a>中添加的新功能的使用。</p><h1 id="f341" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">🤖新模型:DummyClassifier 和 DummyRegressor</h1><p id="a50d" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">在<code class="fe mp mq mr ms b">pycaret.classification</code>和<code class="fe mp mq mr ms b">pycaret.regression</code>模块的模型动物园中增加了 DummyClassifier 和 DummyRegressor。当您运行<code class="fe mp mq mr ms b">compare_models</code>时，它将使用简单的规则训练一个虚拟模型(分类器或回归器),结果将显示在排行榜上以供比较。</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="d641" class="mx kw iq ms b gy my mz l na nb"><strong class="ms ir"># load dataset<br/></strong>from pycaret.datasets import get_data<br/>data = get_data('juice')</span><span id="1872" class="mx kw iq ms b gy nc mz l na nb"><strong class="ms ir"># init setup<br/></strong>from pycaret.classification import *<br/>s = setup(data, target = 'Purchase', session_id = 123)</span><span id="d966" class="mx kw iq ms b gy nc mz l na nb"><strong class="ms ir"># model training &amp; selection</strong><br/>best = compare_models()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/45115d61fcedab482a45b97a15f6a0d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*siaSrhbMsHd_0X0HImdH-g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)compare _ models 函数的输出</p></figure><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="d09e" class="mx kw iq ms b gy my mz l na nb"><strong class="ms ir"># load dataset<br/></strong>from pycaret.datasets import get_data<br/>data = get_data('boston')</span><span id="cb2f" class="mx kw iq ms b gy nc mz l na nb"><strong class="ms ir"># init setup<br/></strong>from pycaret.regression import *<br/>s = setup(data, target = 'medv', session_id = 123)</span><span id="5bad" class="mx kw iq ms b gy nc mz l na nb"><strong class="ms ir"># model training &amp; selection</strong><br/>best = compare_models()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/52f265777bcbfa7c99d57df0af39e74b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KCx5vcRN_dYtpYiAVFvnow.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)compare _ models 函数的输出</p></figure><p id="757d" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">您也可以在<code class="fe mp mq mr ms b">create_model</code>功能中使用该模型。</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="0c98" class="mx kw iq ms b gy my mz l na nb"><strong class="ms ir"># train dummy regressor</strong><br/>dummy = create_model('dummy', strategy = 'quantile', quantile = 0.5)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/ad8700ad0108f26c7ad70aa4878c8e13.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*eVydmF_Ffw689U4fNs1Cyg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)create _ model 函数的输出</p></figure><p id="887d" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">虚拟模型(分类器或回归器)是与其他(真实)回归器进行比较的简单基线。不要用它来解决实际问题。</p><h1 id="8c97" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">📈自定义概率截止值</h1><p id="bbf4" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">PyCaret 的<code class="fe mp mq mr ms b">create_model</code> <code class="fe mp mq mr ms b">compare_models</code> <code class="fe mp mq mr ms b">ensemble_model</code> <code class="fe mp mq mr ms b">blend_models</code>等所有训练函数中都引入了一个新参数<code class="fe mp mq mr ms b">probability_threshold</code>。默认情况下，所有能够预测概率的分类器都使用 0.5 作为截止阈值。</p><p id="3b57" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">这个新参数将允许用户传递一个介于 0 和 1 之间的浮点数来设置一个自定义的概率阈值。当使用<code class="fe mp mq mr ms b">probability_threshold</code>时，底层函数返回的对象是模型对象的包装器，这意味着当您在<code class="fe mp mq mr ms b">predict_model</code>函数中传递它时，它将尊重阈值，并将使用它们在传递的数据上生成硬标签。</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="f58e" class="mx kw iq ms b gy my mz l na nb"><strong class="ms ir"># load dataset<br/></strong>from pycaret.datasets import get_data<br/>data = get_data('juice')</span><span id="bc37" class="mx kw iq ms b gy nc mz l na nb"><strong class="ms ir"># init setup<br/></strong>from pycaret.classification import *<br/>s = setup(data, target = 'Purchase', session_id = 123)</span><span id="826d" class="mx kw iq ms b gy nc mz l na nb"><strong class="ms ir"># model training</strong><br/>lr = create_model('lr')<br/>lr_30 = create_model('lr', probability_threshold = 0.3)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/8760c09e554173e545e3e4bba75f402c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dxCzTOQq8_e79x86nd5fOw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)左侧- LR 没有概率阈值，使用默认的 0.5 |右侧-LR，概率阈值= 0.3。</p></figure><p id="e11c" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">您可以编写这样一个简单的循环来优化概率截止值:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="4728" class="mx kw iq ms b gy my mz l na nb"><strong class="ms ir"># train 10 models at diff thresholds</strong></span><span id="394a" class="mx kw iq ms b gy nc mz l na nb">recalls = []</span><span id="f094" class="mx kw iq ms b gy nc mz l na nb">for i in np.arange(0,1,0.1):<br/>   model = create_model('lr', probability_threshold = i, verbose=False)<br/>   recalls.append(pull()['Recall']['Mean'])</span><span id="475c" class="mx kw iq ms b gy nc mz l na nb"><strong class="ms ir"># plot it</strong><br/>import pandas as pd<br/>df = pd.DataFrame()<br/>df['threshold'], df['recall'] = np.arange(0,1,0.1), recalls<br/>df.set_index('threshold').plot()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/93008d99da9863c96154c8dceb70a783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*iEADIANo7lN3KMqdcjJHpg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)不同概率下的回忆 _ 阈值(x 轴是阈值，y 轴是回忆)</p></figure><p id="ff3b" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">您还可以简单地构建一个<code class="fe mp mq mr ms b">ipywidgets</code>仪表板来测试不同模型的不同概率阈值。</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="5c7a" class="mx kw iq ms b gy my mz l na nb">from ipywidgets import interact<br/>import ipywidgets as widgets</span><span id="b434" class="mx kw iq ms b gy nc mz l na nb">def f(x):<br/>   create_model('lr', probability_threshold = x, verbose = False)<br/>   return pull()</span><span id="e35d" class="mx kw iq ms b gy nc mz l na nb">interact(f, x=widgets.FloatSlider(min = 0.01, max = 1.0, step = 0.01, value = 0.5));</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/217dc5988e4792db538d6963114faa80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*oOScARTkZf7vsFReIsDPEA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)-当您更改滑块的值时，模型将重新训练，并且 CV 结果将实时更新。</p></figure><p id="c930" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">本公告中显示的所有代码示例都在这个<a class="ae mj" href="https://colab.research.google.com/drive/1WMSHAYHiQ4OPt8oNHvKQeg0oBAq0evDI?usp=sharing" rel="noopener ugc nofollow" target="_blank"> Google Colab 笔记本</a>中。</p></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h1 id="76f2" class="kv kw iq bd kx ky nq la lb lc nr le lf jw ns jx lh jz nt ka lj kc nu kd ll lm bi translated">重要链接</h1><p id="5d9f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">⭐ <a class="ae mj" href="https://github.com/pycaret/pycaret/tree/master/tutorials" rel="noopener ugc nofollow" target="_blank">教程</a>py caret 新？查看我们的官方笔记本！<br/>📋<a class="ae mj" href="https://github.com/pycaret/pycaret/tree/master/examples" rel="noopener ugc nofollow" target="_blank">社区创建的示例笔记本</a>。<br/>📙<a class="ae mj" href="https://github.com/pycaret/pycaret/tree/master/resources" rel="noopener ugc nofollow" target="_blank">博客</a>投稿人的教程和文章。<br/>📚<a class="ae mj" href="https://pycaret.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">文档</a>py caret 的详细 API 文档<br/>📺<a class="ae mj" href="https://www.youtube.com/channel/UCxA1YTYJ9BEeo50lxyI_B3g" rel="noopener ugc nofollow" target="_blank">视频教程</a>我们的视频教程来自各种赛事。<br/>📢<a class="ae mj" href="https://github.com/pycaret/pycaret/discussions" rel="noopener ugc nofollow" target="_blank">讨论</a>有疑问？与社区和贡献者互动。<br/> 🛠️ <a class="ae mj" href="https://github.com/pycaret/pycaret/blob/master/CHANGELOG.md" rel="noopener ugc nofollow" target="_blank">变更日志</a>变更和版本历史。<br/>🌳<a class="ae mj" href="https://github.com/pycaret/pycaret/issues/1756" rel="noopener ugc nofollow" target="_blank">路线图</a> PyCaret 的软件和社区开发计划。</p></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h1 id="b7c1" class="kv kw iq bd kx ky nq la lb lc nr le lf jw ns jx lh jz nt ka lj kc nu kd ll lm bi translated">作者:</h1><p id="f47e" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我写的是关于 PyCaret 及其在现实世界中的用例，如果你想自动得到通知，你可以在<a class="ae mj" href="https://medium.com/@moez-62905" rel="noopener"> Medium </a>、<a class="ae mj" href="https://www.linkedin.com/in/profile-moez/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae mj" href="https://twitter.com/moezpycaretorg1" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我。</p></div></div>    
</body>
</html>