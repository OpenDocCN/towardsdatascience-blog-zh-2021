<html>
<head>
<title>How to Serve Massive Computations Using Python Web Apps.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python Web应用服务于大规模计算？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-serve-massive-computations-using-python-web-apps-590e51624bc6?source=collection_archive---------14-----------------------#2021-08-08">https://towardsdatascience.com/how-to-serve-massive-computations-using-python-web-apps-590e51624bc6?source=collection_archive---------14-----------------------#2021-08-08</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="6355" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">克服Python的局限性，并通过web请求将其用于繁重的数据分析和机器学习。</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/0e972f1f6534c24e6421d456ceb34e56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BJzHDTLaSZwKerdaZVS6cA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">米格尔·Á拍摄的照片。来自<a class="ae kz" href="https://www.pexels.com/photo/photo-of-golden-cogwheel-on-black-background-3785935/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">佩克斯</a>的帕德里纳</p></figure><p id="0bfd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在<a class="ae kz" rel="noopener" target="_blank" href="/python-web-apps-are-a-terrible-idea-for-analytics-projects-36f1bd33e84b">的上一篇文章</a>中，我写了使用Python web应用进行分析项目的局限性。其中一些观点点燃了读者的好奇心，并激励我写另一个故事来补充它。</p><p id="fd66" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这篇文章的中心问题是，“如果Python因为其同步行为而存在严重缺陷，那么Instagram和Spotify等平台如何使用它来服务全球数百万人？”</p><p id="fa83" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">虽然我没有来自这些平台(或类似平台)的官方信息，但根据我的经验，我对处理如此大规模的请求有一些见解。</p><p id="185c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本文中，我准备了一个演示来展示基础知识。现实生活中的项目可能有其他几种技术；我没有把它们都包括在内。但是我在这个故事中暗示了一些我最喜欢的，并尽可能提供了参考资料的链接。</p><p id="ad7f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们再次从讨论同步-异步问题开始。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="0b1c" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">Python的同步行为和服务web请求的成本。</h1><p id="18a2" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">拥有一个精益技术栈是一个很好的选择。数据科学社区在这方面有Python的天赋。因为python是一种通用语言，所以可以用它来构建数据管道、机器学习、web应用等等。</p><p id="1266" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">使用Python web框架时需要注意的一点是它的同步行为。也就是说，Pyhton在每个线程中一次处理一个任务。在请求完成之前，其他人必须排队等候。如果您需要服务更多的并发请求，您必须增加内核和实例的数量。</p><p id="6a0c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果你的网络应用只为有限数量的用户服务，这不是一件事。此外，如果您不按需执行繁重的计算，您仍然可以。但是当你增长和计算更多的时候，你的hello world类型的网络应用可能会引起严重的问题。</p><p id="8db3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">即使是选择节点app也是如此。Node是基于JavaScript的，异步运行是这种语言的本性。关键是，在使用Python框架时，成本更高(如果未处理的话)。</p><p id="2f59" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">所以，我们来处理吧。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="1185" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">将计算从请求-响应周期中分离出来。</h1><p id="133f" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">想象一下，在Instagram上；你会看到一只巨大的蓝鲸。被它的美丽所震撼，你双击并喜欢上了这张图片。你希望你能看到更多。但这是你第一次在站台上遇到如此雄伟的照片。</p><p id="60d4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你一直向下滚动；下面几张图片是旧的数据科学迷因之类的东西。</p><p id="8f10" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">过一会儿，你会再次访问Instagram。太棒了！你会看到更多巨大的蓝鲸在游泳，和它们的幼崽玩耍。它让你着迷。</p><p id="c11a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这是大多数平台向用户推荐内容的方式。不需要立即学习。它们甚至可能导致假阳性。</p><p id="a70f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">处理这个问题的一个聪明方法是将计算从请求-响应周期中分离出来。使用关于用户的先验知识来服务即时请求。积累更多的数据，以便以后更好的学习和表现。这就是我们如何通过继续向下滚动看到旧的数据科学迷因，并在下一次访问中看到更多蓝鲸。</p><p id="eba9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在大规模应用中，我们将用户的每一个动作都收集在一个专用的数据库中。像<a class="ae kz" href="https://cassandra.apache.org/_/index.html" rel="noopener ugc nofollow" target="_blank"> Cassandra </a>这样的数据存储是实现这一目的的绝佳选择。根据应用程序的性质，定期任务用新数据更新模型，或者系统使用触发器来做同样的事情。如果它们发生在你下一次访问平台之前，你很幸运得到了一个最新的模型。</p><p id="9054" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这就足够说明问题了；是时候把手弄脏了。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="9eef" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">在web请求之外执行繁重的计算。</h1><p id="6823" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">为了简单起见，我将使用Flask。但是这种技术同样适用于任何其他Python框架。我们使用芹菜来处理请求-响应周期之外的繁重计算。最后，我们将使用一个数据库来收集用户操作。</p><p id="71af" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在这个演示中，我们使用请求本身作为触发器，并立即开始计算。但是它可能会根据您的应用程序的性质而有所不同。通常，您可能还必须使用单独的管道。在这种情况下，你可能需要像<a class="ae kz" href="https://airflow.apache.org/" rel="noopener ugc nofollow" target="_blank">阿帕奇气流</a>或者<a class="ae kz" href="https://www.prefect.io/" rel="noopener ugc nofollow" target="_blank">提督</a>这样的技术。</p><h2 id="fee5" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">安装消息代理— Redis。</h2><p id="81f1" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">消息代理顾名思义。您可以向代理发送一条消息，代理同时将该消息传递给它的所有订阅者。尽管这个定义看起来很简单，但是对于工程师来说，在消息代理出现之前的生活是很困难的。</p><p id="8d72" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这里我们将安装Redis，一个著名的消息代理软件。相反，你也可以使用RabbitMQ、亚马逊SQS和许多其他芹菜经纪人。</p><p id="ac3f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Redis官方网站有所有操作系统的说明。一种与平台无关的方法是使用他们的官方docker映像。</p><pre class="kk kl km kn gu nm nn no np aw nq bi"><span id="ebe6" class="na me iu nn b gz nr ns l nt nu"><strong class="nn iv">$</strong> docker run --name redis-server -p 6379:6379 -d redis</span></pre><h2 id="7bcd" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">安装芹菜和烧瓶</h2><p id="0401" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">这两个模块的安装非常简单。就像许多其他Python包一样，您可以使用PyPI。</p><pre class="kk kl km kn gu nm nn no np aw nq bi"><span id="f9a9" class="na me iu nn b gz nr ns l nt nu"><strong class="nn iv">$ </strong>pip install celery Flask</span></pre><p id="8bdc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Flask的目的是通过HTTP服务web请求。这是一个极简主义的框架，其广受欢迎的替代方案Django是满足许多需求的一站式解决方案。我将要分享的技术将在这些方面发挥作用。</p><p id="7548" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">芹菜是Flask(或Django)和消息代理之间的桥梁。它将您的Python对象解析成代理软件可以理解的消息。更广泛的应用还包括任务调度和定期执行。</p><h2 id="0420" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">去耦hello world示例。</h2><p id="53c2" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">现在，我们已经安装了芹菜和烧瓶，我们的Redis服务正在运行。让我们尝试创建我们的第一个解耦应用程序。</p><p id="2084" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">创建一个名为app.py的文件，并添加以下内容。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nv nw l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">来自作者<a class="ae kz" href="https://medium.com/u/93ce19993bef" rel="noopener">的代码片段。</a></p></figure><p id="beb4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">上面的代码有四个部分。第一个是将返回芹菜对象的函数(make_celery)。</p><p id="77c7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">第二个是Flask应用程序创建。如果你有使用Flask的经验，你可能对这部分比较熟悉。我们传递额外的配置来通知Flask应用程序和Celery关于Redis服务器的信息。</p><p id="37e1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在第三部分中，我们使用make_celery函数创建芹菜应用程序。我们传入Flask应用程序实例，它包含Redis配置信息。</p><p id="5773" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有了这个设置，我们现在可以创建异步任务。这意味着它们的执行不会中断主线程的常规操作。这里的示例任务massive _ computation将返回“你好<name>”，不是立即返回，而是在五秒钟后返回。</name></p><p id="2fb7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了测试这一点，首先，我们需要启动芹菜服务器。这是一个解耦的过程，将运行您的大规模计算。下面的这个命令会做到这一点。</p><pre class="kk kl km kn gu nm nn no np aw nq bi"><span id="9cf6" class="na me iu nn b gz nr ns l nt nu"><strong class="nn iv">$</strong> celery -A app.celery worker -E</span></pre><p id="d7cc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在另一个终端中，运行下面录音中显示的命令。</p><p id="a463" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这从app模块中导入了我们的massive _ computation函数，并调用它。请注意用于调用该函数的独特延迟方法。@celery.task装饰器添加了这个额外的方法。</p><p id="82cd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一旦调用了函数并将它的值存储在变量中，就可以使用result属性来访问它的值。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nx"><img src="../Images/e6c4e1628f4cb4b011052b84e10f5406.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*kOsAWT-pBrqBGncftuEewg.gif"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://medium.com/u/93ce19993bef" rel="noopener">作者截屏。</a></p></figure><p id="cffa" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">正如您在录音中看到的，result属性在最初的几次调用中没有值。几秒钟后，屏幕上出现了“Hello Thuwarakesh”。</p><p id="4eca" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在函数返回值之前，您可以在同一个线程中执行其他活动。这不是使用同步语言(如Python)开发的应用程序的典型行为。</p><h2 id="91c7" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">通过web请求服务于大量计算。</h2><p id="ee82" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">我们已经安装了我们需要的技术，并创建了一个与应用程序线程并行运行的基本应用程序。现在，我们已经完成了最后一个部分web请求处理。</p><p id="5bf4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在用下面的代码替换massive _ computation函数和下面的所有内容。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nv nw l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">来自作者<a class="ae kz" href="https://medium.com/u/93ce19993bef" rel="noopener">的代码片段。</a></p></figure><p id="d3ca" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们创建了Redis数据库的一个实例来存储我们分离的计算结果。</p><p id="9aee" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们在这里执行的计算是斐波那契计算。massive _ computation函数接受一个数字，计算斐波那契数，并将其存储在数据库中。</p><p id="500f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们还创建了两个web API端点。第一个将设置上次计算的值，另一个将读取当前值。</p><p id="a0ca" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了测试这个应用程序，我们需要在已经运行的芹菜服务旁边运行一个Flask应用程序。您可以使用以下命令在不同的终端中启动Flask应用程序。</p><pre class="kk kl km kn gu nm nn no np aw nq bi"><span id="0e58" class="na me iu nn b gz nr ns l nt nu"><strong class="nn iv">$</strong> flask run</span></pre><p id="539e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，我们已经做好了使用Python web应用测试大规模计算的一切准备。让我们试一试。</p><p id="3b4d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你可以使用你的浏览器或者CURL来完成这项工作。我将在终端窗口中使用curl。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nx"><img src="../Images/841d65e724f07565880c5e2087a7d6d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Du8mJsS0Lnz0kNEgFAo1tg.gif"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://medium.com/u/93ce19993bef" rel="noopener">作者截屏。</a></p></figure><p id="5983" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">上面的录音清楚地解释了用法。当我们查询“/current”端点时，它给出初始值0。</p><p id="8c0f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然后，我们通过“/set”端点指定一个新值，即第40个斐波那契数。计算这个数字需要一些时间。然而，系统立即给出了回应，“新的斐波纳契数将很快分配。”这方便地通知用户关于后端任务的信息。</p><p id="71de" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">对“/current”终结点的立即查询再次得到0。这是因为计算尚未完成，数据库中的值仍为0。</p><p id="247e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然而，过了一会儿，同一个端点返回第40个斐波那契数列的值。后端计算已经完成，芹菜任务更新了数据库中的值。</p><p id="cd8f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">计算斐波那契数并不是你在现实生活中看到的大量计算。但这只是对它们可能样子的一个合理估计。你可以触发机器学习模型的再训练，而不是斐波那契。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="db9d" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">最后的想法</h1><p id="d7d1" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">你可能想知道大规模计算在哪里。然而，这篇文章不是关于计算本身。我们专注于如何为大规模计算服务。为了公平起见，我们使用了斐波那契数计算器。</p><p id="5057" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们已经将计算从web服务器的请求-响应周期中分离出来。这允许我们在不中断网络服务器的情况下执行计算。</p><p id="c1be" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本文中，我们使用芹菜来处理这种分离的任务。虽然芹菜能够在生产中运行，但现代替代品提供了更多功能。阿帕奇气流和提督是这方面的一些伟大的技术。</p><p id="6b32" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Python本质上是一种同步语言。试图使它异步会带来很多开销和缺点。使用芹菜进行繁重的计算是处理这个问题的一种优雅的方式。</p><p id="4823" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然而，这并不意味着异步语言可以摆脱它。大规模计算不应该通过请求-响应循环来完成。它们通常服务于不同的目的，而不是即时的、有意义的反应。因此这种方法在任何情况下都是有用的。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><blockquote class="ny nz oa"><p id="2e63" class="la lb ob lc b ld le jv lf lg lh jy li oc lk ll lm od lo lp lq oe ls lt lu lv in bi translated">感谢阅读，朋友！看来你和我有许多共同的兴趣。我很乐意通过LinkedIn、T2、Twitter和Medium与你联系</p></blockquote><p id="3a2a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">还不是中等会员？请使用此链接<a class="ae kz" href="https://thuwarakesh.medium.com/membership" rel="noopener"> <strong class="lc iv">成为</strong> </a>会员。你可以享受成千上万的有见地的文章，并支持我，因为我赚了一点佣金介绍你。</p></div></div>    
</body>
</html>