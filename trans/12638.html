<html>
<head>
<title>Tqdm, Pytorch and Telegram: Check training from your smartphone</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tqdm、Pytorch 和 Telegram:通过智能手机查看培训</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tqdm-pytorch-and-telegram-check-training-from-your-smartphone-722566918ff6?source=collection_archive---------22-----------------------#2021-12-28">https://towardsdatascience.com/tqdm-pytorch-and-telegram-check-training-from-your-smartphone-722566918ff6?source=collection_archive---------22-----------------------#2021-12-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c386" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让你的训练循环变得智能且易于使用</h2></div><div class="ki kj kk kl gt ab cb"><figure class="km kn ko kp kq kr ks paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><img src="../Images/a910b6af4510dc12e72127ebab543885.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*RTBGVtZ9h7jeYCz6zl_ONA.gif"/></div></figure><figure class="km kn ko kp kq kr ks paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><img src="../Images/30dc2616bbe1f54319c6e3ca0d4072c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*PeXbE0_ZUas070PGl6GCxA.jpeg"/></div><p class="kz la gj gh gi lb lc bd b be z dk ld di le lf translated">用电报机器人控制管道——图片由作者提供</p></figure></div><p id="f02a" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">无论你已经在深度学习领域工作了多年还是仅仅几个月，你无疑都会遇到一个典型的数据科学家的问题:<strong class="li iu">监控你的模型的训练</strong>。</p><p id="99ba" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我开始直接在<strong class="li iu"> Jupyter 笔记本</strong>里训练我的算法，间歇性地检查损失函数的趋势和准确性，希望观察谁知道趋势中的什么。我喜欢看训练曲线上下起伏。我会让你猜猜我在这上面浪费了多少时间，看着<strong class="li iu"> Tensorboard </strong>里面的曲线看得入迷。</p><p id="373c" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">然后我转向更结构化的方法，使用<strong class="li iu"> python </strong>和<strong class="li iu"> bash </strong>脚本，试图优化管道:但是<em class="mc">主动监控训练</em>的需求仍然存在。</p><blockquote class="md me mf"><p id="75bd" class="lg lh mc li b lj lk ju ll lm ln jx lo mg lq lr ls mh lu lv lw mi ly lz ma mb im bi translated">监控长训练流水线的执行是节省时间和最大化性能的关键任务。</p></blockquote><p id="faf5" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">❌错误监控</p><ul class=""><li id="2c01" class="mj mk it li b lj lk lm ln lp ml lt mm lx mn mb mo mp mq mr bi translated">浪费你的<strong class="li iu">时间</strong>:我们不会中断无用的模拟，也不会注意到分歧</li><li id="9113" class="mj mk it li b lj ms lm mt lp mu lt mv lx mw mb mo mp mq mr bi translated">浪费你的<strong class="li iu">金钱</strong>:运行模拟的电力或集群的成本</li><li id="fac7" class="mj mk it li b lj ms lm mt lp mu lt mv lx mw mb mo mp mq mr bi translated">浪费你的精神健康:我们都想知道我们的算法表现如何</li></ul><p id="3cf2" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">可以执行✅适当的监控</p><ul class=""><li id="4e6b" class="mj mk it li b lj lk lm ln lp ml lt mm lx mn mb mo mp mq mr bi translated">通过可以通过 CLI 定期检查的日志文件</li><li id="35a7" class="mj mk it li b lj ms lm mt lp mu lt mv lx mw mb mo mp mq mr bi translated">通过<strong class="li iu">张量板</strong>等功能接口</li><li id="35ad" class="mj mk it li b lj ms lm mt lp mu lt mv lx mw mb mo mp mq mr bi translated">通过自定义界面</li></ul><figure class="ki kj kk kl gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mx"><img src="../Images/5ae580ae562ed19d5c1590dc85b2ccbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MUgXPfjd1CUmHspT"/></div></div><p class="kz la gj gh gi lb lc bd b be z dk translated">照片由<a class="ae my" href="https://unsplash.com/@williamtm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">威廉·胡克</a>在<a class="ae my" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="6624" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">因此，在这篇文章中，我们将看到如何将监控带在身边:使用一个著名的消息平台<strong class="li iu"> Telegram </strong>的机器人，再加上<strong class="li iu"> Tqdm </strong>和<strong class="li iu"> PyTorch </strong>。</p><h1 id="89ee" class="mz na it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated"><strong class="ak"> Tqdm 表示进度</strong></h1><blockquote class="md me mf"><p id="6551" class="lg lh mc li b lj lk ju ll lm ln jx lo mg lq lr ls mh lu lv lw mi ly lz ma mb im bi translated"><a class="ae my" href="https://tqdm.github.io/" rel="noopener ugc nofollow" target="_blank"> Tqdm </a>在阿拉伯语中是“进步”的意思(<em class="it"> taqadum </em>，تقدّم)，在西班牙语中是“我如此爱你”的缩写(<em class="it"> te quiero demasiado </em>)。</p></blockquote><p id="a2de" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">对于监控 python 中的循环来说，这是一个非常方便的工具。你只需要传递一个 iterable 作为参数，就大功告成了！</p><figure class="ki kj kk kl gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi nr"><img src="../Images/4687502f2ba666d77fed00282d549bc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qK8l_55g9rQEyptUq5cL_A.png"/></div></div><p class="kz la gj gh gi lb lc bd b be z dk translated">tqdm 应用示例—作者图片</p></figure><p id="d66e" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我发现这个工具非常方便，我已经开始在任何地方使用它，甚至在普通编程中，因为它允许你方便地监控任何迭代。</p><figure class="ki kj kk kl gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ns"><img src="../Images/7bbe61cf0d435145bdac16c153522932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_M0apQ-KypDRduww"/></div></div><p class="kz la gj gh gi lb lc bd b be z dk translated">迪米特里·卡拉斯泰列夫在<a class="ae my" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="875b" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">在这个工具的各种功能中，与<a class="ae my" href="https://web.telegram.org/z/" rel="noopener ugc nofollow" target="_blank"> <strong class="li iu"> Telegram </strong> </a>的简单集成，“一个免费的、跨平台的、基于云的即时通讯服务”脱颖而出。我经常使用 Telegram 进行常规信息传递、文件传输或应用程序提供的大量机器人和服务。这就是为什么我发现在这个平台上创建一个机器人来监控我的代码的可能性非常有趣。</p><h1 id="bb22" class="mz na it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated">电报用 Tqdm</h1><p id="1f19" class="pw-post-body-paragraph lg lh it li b lj nt ju ll lm nu jx lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">使用 python 语言创建一个与之交互的机器人既简单又直观。遵循<a class="ae my" href="https://tqdm.github.io/docs/contrib.telegram/" rel="noopener ugc nofollow" target="_blank">官方文件</a>中的规定就足够了:</p><h2 id="05f1" class="ny na it bd nb nz oa dn nf ob oc dp nj lp od oe nl lt of og nn lx oh oi np oj bi translated">创建一个机器人</h2><p id="5bb3" class="pw-post-body-paragraph lg lh it li b lj nt ju ll lm nu jx lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">要创建这个机器人，你需要在 Telegram 上搜索<strong class="li iu">机器人父亲</strong>。</p><blockquote class="md me mf"><p id="fd96" class="lg lh mc li b lj lk ju ll lm ln jx lo mg lq lr ls mh lu lv lw mi ly lz ma mb im bi translated">机器人父亲是统治他们所有人的机器人。使用它来创建新的机器人帐户和管理您现有的机器人。</p></blockquote><p id="2811" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">使用下图所示的简单命令集，我们可以创建一个<strong class="li iu">新机器人</strong>:只需指定<strong class="li iu">名称</strong>和<strong class="li iu">用户名</strong>(注意:它必须是唯一的)。然后我们会收到一个用于我们机器人的<strong class="li iu">令牌</strong>，但是要小心！这个令牌是私有的，不应该被共享。它将用于集成到我们的 python API 中，以及修改机器人的名称、图像和各种属性。</p><figure class="ki kj kk kl gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ok"><img src="../Images/e983bf51eb4dc8330a4f5d0b0d74b3be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tThHmKtXPmWlPePW5vScMw.png"/></div></div><p class="kz la gj gh gi lb lc bd b be z dk translated">父亲对话—作者图片</p></figure><p id="59b2" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">然后，我们在应用程序上通过名字搜索我们的机器人，并与他开始对话。用命令<strong class="li iu"> /start 启动它。为了与机器人通信，我们需要我们刚刚创建的聊天的标识符。我们可以在“聊天 id”下找到它:</strong></p><blockquote class="md me mf"><p id="fc5e" class="lg lh mc li b lj lk ju ll lm ln jx lo mg lq lr ls mh lu lv lw mi ly lz ma mb im bi translated"><a class="ae my" href="https://api.telegram.org/bot%7Btoken%7D/getUpdates" rel="noopener ugc nofollow" target="_blank">https://api.telegram.org/bot</a><code class="fe ol om on oo b"><a class="ae my" href="https://api.telegram.org/bot%7Btoken%7D/getUpdates" rel="noopener ugc nofollow" target="_blank">{token}</a></code><a class="ae my" href="https://api.telegram.org/bot%7Btoken%7D/getUpdates" rel="noopener ugc nofollow" target="_blank">/get updates</a></p></blockquote><p id="c6b5" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">完成了！我们只需要使用通过这种方式获得的<strong class="li iu">令牌</strong>和<strong class="li iu"> chat_id </strong>就可以在我们与机器人的聊天中直接接收。我们将像在正常对话中一样收到通知，在聊天中获得一个方便的进度条。</p><figure class="ki kj kk kl gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi nr"><img src="../Images/a721708ef0bef573e096d95d3008deca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jfvXL3T6SIKa1xLQYCNsMQ.png"/></div></div><p class="kz la gj gh gi lb lc bd b be z dk translated">Tqdm 和电报集成—图片由作者提供</p></figure><p id="5a84" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我测试了这个程序，用于训练一个用<strong class="li iu"> PyTorch </strong>构建的卷积神经网络进行图像分类。我发现 PyTorch 对于实现<strong class="li iu">定制训练循环</strong>非常方便，因此特别适合于实现这种监控策略。同时，我们可以在一个<strong class="li iu">自定义 Tensorflow </strong> <strong class="li iu">回调</strong>内使用这些调用。</p><figure class="ki kj kk kl gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi nr"><img src="../Images/3e3c37da2fb3097d7492ff2acb11fd0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eIIoy-ZPVbr-CsENWtnfZw.png"/></div></div><p class="kz la gj gh gi lb lc bd b be z dk translated">使用 Pytorch、tqdm 和 Telegram 定制训练循环—图片由作者提供</p></figure><h2 id="3eeb" class="ny na it bd nb nz oa dn nf ob oc dp nj lp od oe nl lt of og nn lx oh oi np oj bi translated">添加更多消息</h2><p id="bb82" class="pw-post-body-paragraph lg lh it li b lj nt ju ll lm nu jx lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">之前创建的机器人允许我们向机器人发送任何文本消息。我们可以创建损失或准确性日志，或通知，以了解新模拟何时启动或何时完成。为此，我们使用 python 包<strong class="li iu"> telegram-send </strong>，可以通过以下方式安装:</p><blockquote class="md me mf"><p id="092c" class="lg lh mc li b lj lk ju ll lm ln jx lo mg lq lr ls mh lu lv lw mi ly lz ma mb im bi translated">pip 安装电报-发送</p></blockquote><p id="5071" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">配置非常简单，类似于我们之前为 bot 所做的:在我们的 CLI 或笔记本中，我们启动配置:</p><blockquote class="md me mf"><p id="8376" class="lg lh mc li b lj lk ju ll lm ln jx lo mg lq lr ls mh lu lv lw mi ly lz ma mb im bi translated">电报-发送-配置</p></blockquote><p id="1f71" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我们将被要求提供机器人的<strong class="li iu">秘密</strong> <strong class="li iu">令牌</strong>，然后向机器人本身发送一条特定消息(5 个数字字符)以确认激活。一旦完成，将有可能自动生成任何文本消息。</p><figure class="ki kj kk kl gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi op"><img src="../Images/aaff523e41c313ba2a5fb3c76d61ac91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9kfsle3sOokx6G9Rb3b_dA.png"/></div></div><p class="kz la gj gh gi lb lc bd b be z dk translated">用电报发送一条普通信息-发送-作者图片</p></figure><h1 id="b426" class="mz na it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated">总结</h1><p id="b7b6" class="pw-post-body-paragraph lg lh it li b lj nt ju ll lm nu jx lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">在本文中，我们看到了如何创建一个<strong class="li iu">电报</strong> <strong class="li iu">机器人</strong>，它可以与<strong class="li iu"> tqdm </strong>接口，这是 Python 中一个很棒的可迭代管理包。我们看到了如何将其集成到<strong class="li iu"> Pytorch </strong>、<strong class="li iu"> Tensorflow </strong>、T30】训练循环 …以及如何将<strong class="li iu">文本</strong>、T34】消息直接从代码发送到我们的智能手机。</p><figure class="ki kj kk kl gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi oq"><img src="../Images/2946bfed658420964828d7bb39358c32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*idD05D9kWhiYMd2AJG7TQw.png"/></div></div><p class="kz la gj gh gi lb lc bd b be z dk translated">苹果手表通知和机器人快照——图片由作者提供</p></figure><p id="a457" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">📚在我的<a class="ae my" href="https://marcosanguineti.medium.com/" rel="noopener">个人资料</a>上阅读更多文章</p><p id="dca9" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">📨成为电子邮件订阅者，了解最新动态</p><p id="4613" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">💻加入媒体没有阅读限制</p><p id="18f1" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">✏️对疑点或新内容的评论</p><p id="b495" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">下次见，马可</p></div></div>    
</body>
</html>