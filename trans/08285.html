<html>
<head>
<title>Creating a Data Science Python Package Using Jupyter Notebook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Jupyter Notebook创建数据科学Python包</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-data-science-python-package-using-jupyter-notebook-6fa6e6b74a87?source=collection_archive---------12-----------------------#2021-07-30">https://towardsdatascience.com/creating-data-science-python-package-using-jupyter-notebook-6fa6e6b74a87?source=collection_archive---------12-----------------------#2021-07-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8f4d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解面向对象编程如何帮助您使用Jupyter notebook构建第一个Python包。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a024958b5a6069b6da3cc53c7892333c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YYHMI9MLhEWSCm9lS2-c_A.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者|元素作者<a class="ae kv" href="https://www.freepik.com/katemangostar" rel="noopener ugc nofollow" target="_blank"> katemangostar </a></p></figure><h1 id="2225" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="cad6" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">你想知道像Scikit-learn、pandas和NumPy这样的Python包是如何构建的吗？它们都基于面向对象编程(OOP)来创建复杂且易于使用的包。对于一个数据科学家来说，学习OOP是必要的，这样他们就可以在生产就绪产品的开发中使用它。</p><p id="753c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们将使用cloud Jupyter笔记本来简化环境的设置，并完全专注于创建一个包。该项目包括面向对象的基础知识，如继承，对象，类和神奇的功能。这个项目受AWS机器学习基础课程的影响很大，一旦我知道如何构建它，我花了10分钟来重新创建这个包。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="e1e3" class="kw kx iq bd ky kz mw lb lc ld mx lf lg jw my jx li jz mz ka lk kc na kd lm ln bi translated">分布</h1><h2 id="fa87" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">父类</h2><p id="4783" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">让我们深入编码并讨论我们的<strong class="lq ir">父</strong>类“分布<strong class="lq ir">”</strong>，它将被高斯和二项式类使用。我们将使用Jupyter笔记本的神奇功能<code class="fe nn no np nq b">%%witefile</code> <em class="nr">来创建python文件。</em></p><pre class="kg kh ki kj gt ns nq nt nu aw nv bi"><span id="5b57" class="nb kx iq nq b gy nw nx l ny nz">%%writefile distributions/general.py</span></pre><p id="cc77" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">上面的代码将在发行版文件夹中创建一个python文件，为了简单起见，您需要创建一个包含测试文件的<strong class="lq ir">测试</strong>文件夹，一个包含所有软件包文件的<strong class="lq ir">发行版</strong>文件夹，以及一个包含<code class="fe nn no np nq b">.txt</code>的<strong class="lq ir">数据</strong>文件夹。</p><p id="6b68" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">分布类有两个参数，<strong class="lq ir">表示</strong>和<strong class="lq ir">标准差</strong>，它还包含用于访问数据文件的<code class="fe nn no np nq b">read_data_file()</code>函数。</p><p id="4fee" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><code class="fe nn no np nq b">__init__</code>函数初始化变量。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h2 id="70c5" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">测试分布类</h2><p id="0002" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这个班的一切都很顺利。我们添加了均值、标准差，并加载了<code class="fe nn no np nq b">random.txt</code>文件来测试我们的<code class="fe nn no np nq b">Distribution</code>类。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oc ob l"/></div></figure></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="30ce" class="kw kx iq bd ky kz mw lb lc ld mx lf lg jw my jx li jz mz ka lk kc na kd lm ln bi translated">高斯分布</h1><p id="1dae" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">高斯分布在统计学中很重要，在社会科学中常用来表示分布未知的真实随机变量。<a class="ae kv" href="https://en.wikipedia.org/wiki/Normal_distribution" rel="noopener ugc nofollow" target="_blank"> —维基百科</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/2b44d4cf82c9fb6f85a831d635db0dea.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/format:webp/1*d9ic1op6KEdzZJ6lfnBJwQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图1 | <a class="ae kv" href="https://en.wikipedia.org/wiki/Normal_distribution" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><h2 id="a9c7" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">平均</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/14c6bababde78fa709e7a1272c166468.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/0*1cMNpq8lk2Pzgqwz.png"/></div></figure><p id="54c6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">一列数字的平均值是所有数字的总和除以样本数。<a class="ae kv" href="https://en.wikipedia.org/wiki/Mean" rel="noopener ugc nofollow" target="_blank">意思是——维基百科</a></p><h2 id="0d19" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">标准偏差</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/5cbc591029ba975876fae10213e4dac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/0*46tTIGH4tUsid5ZG.png"/></div></figure><p id="bb82" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这是对数据变化的一种度量。<a class="ae kv" href="https://www.bmj.com/content/312/7047/1654" rel="noopener ugc nofollow" target="_blank">BMJ</a></p><h2 id="8ab1" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">概率密度函数</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/432201ec30e30fbe26116db90aed473e.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/0*_BLzGt-SJcG1owuP.png"/></div></figure><p id="8724" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">参数<code class="fe nn no np nq b">mu </code>是均值，而参数sigma是标准差。<code class="fe nn no np nq b">x</code>是一个列表中的值。</p><h2 id="44e8" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">高斯类</h2><p id="1aa5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们将从父类<code class="fe nn no np nq b">Distribution</code>继承值和函数，并使用python这个神奇的函数。</p><ol class=""><li id="ded1" class="oh oi iq lq b lr mk lu ml lx oj mb ok mf ol mj om on oo op bi translated">初始化父类<strong class="lq ir">分配</strong></li><li id="2f17" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">创建<code class="fe nn no np nq b">plot_histogram_pdf</code>函数→ <strong class="lq ir">数据的归一化直方图，并可视化</strong> <strong class="lq ir">概率密度函数。</strong></li><li id="83fe" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">创建魔法函数<code class="fe nn no np nq b">__add__ </code> → <strong class="lq ir">将两个高斯分布对象相加。</strong></li><li id="778f" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">创建魔法函数<code class="fe nn no np nq b">__repr__</code> → <strong class="lq ir">输出高斯实例的特征。</strong></li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ov ob l"/></div></figure><h2 id="b65f" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">做实验</h2><p id="4896" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">测试<code class="fe nn no np nq b">__repr__</code>魔法功能。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ob l"/></div></figure><p id="9ff6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">用25个平均值和2个标准偏差初始化<code class="fe nn no np nq b">gaussian1 </code>对象，然后从数据文件夹中读取<code class="fe nn no np nq b">random.txt</code>文件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ox ob l"/></div></figure><p id="ad95" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">计算数据上<em class="nr"> 25 </em> means和<em class="nr"> 2 </em> Stdev的概率函数。然后，计算<code class="fe nn no np nq b">random.txt</code>的均值和标准差。新的均值是<em class="nr"> 125.1 </em>和Stdev到<em class="nr"> 210.77 </em>，这使得我们的概率密度函数值从<em class="nr"> 0.19947 </em>变为<em class="nr"> 0.00169 </em>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy ob l"/></div></figure><p id="8f43" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">绘制概率密度函数的直方图和线图。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oz ob l"/></div></figure><h2 id="b76e" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">单元测试</h2><p id="e5e4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">unittest是一个测试框架，最初受JUnit的启发，与其他语言中的主要单元测试框架有相似的风格。它支持测试自动化，共享测试的设置和关闭代码，将测试聚合到集合中，以及测试独立于报告框架，参见<a class="ae kv" href="https://docs.python.org/3/library/unittest.html" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><h2 id="6d15" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">创建高斯类测试文件</h2><blockquote class="pa pb pc"><p id="2cbb" class="lo lp nr lq b lr mk jr lt lu ml ju lw pd mm lz ma pe mn md me pf mo mh mi mj ij bi translated">测试优先是一个很好的工具。它在团队中创造了更好的理解和生产力。结果是高质量的代码——无论是在早期成功发现错误还是正确实现功能方面。— <a class="ae kv" href="https://www.infoq.com/news/2016/01/test-first-TDD-BDD/" rel="noopener ugc nofollow" target="_blank">吉尔·齐伯菲德</a></p></blockquote><p id="987a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们将使用unittest库来测试我们所有的函数，以便将来如果我们做了任何更改，我们可以在几秒钟内检测到错误。</p><p id="29b7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">创建包含所有函数的<code class="fe nn no np nq b">TestGaussianClass</code>来测试<code class="fe nn no np nq b">Gaussian </code>类中的函数。我们使用了<code class="fe nn no np nq b">assertEqual</code>方法来破解函数的有效性。</p><blockquote class="pa pb pc"><p id="ca6d" class="lo lp nr lq b lr mk jr lt lu ml ju lw pd mm lz ma pe mn md me pf mo mh mi mj ij bi translated">我自己测试了这些值，然后将它们逐个添加，以测试每种可能性。</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h2 id="188e" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">试探性试验</h2><p id="57be" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">让我们使用<code class="fe nn no np nq b">!python</code> <em class="nr">运行测试文件夹中的测试文件。</em></p><p id="42f9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如你所见，所有测试都通过了。<em class="nr"> </em>一开始我得到了多个<em class="nr"> </em>，调试这些问题帮助我更好地理解了<code class="fe nn no np nq b">Gaussian </code>类是如何在每一级工作的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pg ob l"/></div></figure></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="cc59" class="kw kx iq bd ky kz mw lb lc ld mx lf lg jw my jx li jz mz ka lk kc na kd lm ln bi translated">二项分布</h1><p id="da1f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">带参数<code class="fe nn no np nq b">n </code>和<code class="fe nn no np nq b">p </code>的二项式分布是一系列<code class="fe nn no np nq b">n</code>独立实验中成功次数的离散概率分布，每个实验都提出是或否的问题，并且每个实验都有自己的布尔值结果:成功(概率为p)或失败(概率为q = 1p)。<a class="ae kv" href="https://en.wikipedia.org/wiki/Binomial_distribution" rel="noopener ugc nofollow" target="_blank">二项式分布—维基百科</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ph"><img src="../Images/d585a829561dcf06d90375bd25c46532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4dKBtKOZxlS9CzxYa305kQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://en.wikipedia.org/wiki/File:Binomial_distribution_pmf.svg" rel="noopener ugc nofollow" target="_blank">二项分布图|维基百科</a></p></figure><h2 id="86cb" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">平均</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/4befcfd1cb8e898f27b3147178d7f798.png" data-original-src="https://miro.medium.com/v2/resize:fit:268/format:webp/1*nW-x2V4RIzV-PHkaPVQ43A.png"/></div></figure><h2 id="b918" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">差异</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/66199d05657ea123c855896b8cba109e.png" data-original-src="https://miro.medium.com/v2/resize:fit:324/format:webp/1*gURtI3X23Qg8oORh9tEBPg.png"/></div></figure><h2 id="280c" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">标准偏差</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/a6d360f5dd0ce20f0601b175f4054ec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/format:webp/1*syaE1E4In7sx4uMn_gZYcg.png"/></div></figure><h2 id="dd7d" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">概率密度函数</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/0f22a01be675bb34ddb2de2317c8d841.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*GY1npGLGUdmRmfDocnQvQA.png"/></div></figure><h2 id="873f" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">二项式类</h2><p id="2f06" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们将使用上面提到的数学函数来创建均值、标准差和概率密度函数。我们已经在上一个类中完成了具有挑战性的工作，现在我们将使用类似的模式来编写<code class="fe nn no np nq b">Binomial </code>类。</p><ol class=""><li id="241b" class="oh oi iq lq b lr mk lu ml lx oj mb ok mf ol mj om on oo op bi translated">初始化概率和大小变量→ <strong class="lq ir"> p，n </strong></li><li id="b63c" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">初始化父类分布→ <strong class="lq ir">计算</strong> <code class="fe nn no np nq b"><strong class="lq ir">mean </strong></code> <strong class="lq ir">和</strong> <code class="fe nn no np nq b"><strong class="lq ir">Stdev</strong></code> <strong class="lq ir">并将其添加到父类中。</strong></li><li id="120d" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">创建<em class="nr"> </em> <code class="fe nn no np nq b">replace_stats_with_data</code> <em class="nr"> </em>函数<em class="nr"> → </em> <strong class="lq ir">，从导入的数据中计算概率、大小。新的平均值和标准偏差将被更新。</strong></li><li id="b0d2" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">使用matplotlib库创建<code class="fe nn no np nq b"><em class="nr">plot_bar</em></code>函数→ <strong class="lq ir">显示条形图。</strong></li><li id="4f5d" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">创建<code class="fe nn no np nq b"><em class="nr">pdf</em> </code>函数→ <strong class="lq ir">使用均值和标准差计算数据的概率密度函数。</strong></li><li id="13fc" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">创建<code class="fe nn no np nq b"><em class="nr">plot_bar_pdf</em></code>函数→ <strong class="lq ir">绘制二项分布的pdf。</strong></li><li id="dc90" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">创建魔法函数<code class="fe nn no np nq b"><em class="nr">__add__</em></code> → <strong class="lq ir">用两个</strong> <code class="fe nn no np nq b"><strong class="lq ir">Binomial</strong></code> <strong class="lq ir">分配对象相加。</strong></li><li id="9942" class="oh oi iq lq b lr oq lu or lx os mb ot mf ou mj om on oo op bi translated">创建魔法函数<code class="fe nn no np nq b"><em class="nr">__repr__</em></code> → <strong class="lq ir">输出</strong> <code class="fe nn no np nq b"><strong class="lq ir">Binomial</strong></code> <strong class="lq ir">实例的特征</strong></li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pm ob l"/></div></figure><h2 id="af3a" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">做实验</h2><p id="b5ba" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">测试<code class="fe nn no np nq b">__repr__</code>魔法功能</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ob l"/></div></figure><p id="059f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">测试<code class="fe nn no np nq b">Binomial </code>对象和<code class="fe nn no np nq b">read_data_file</code>功能。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pn ob l"/></div></figure><p id="9e79" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">测试<strong class="lq ir"> p </strong> 0.4和<strong class="lq ir"> n </strong> 20的初始值的pdf。我们将使用<code class="fe nn no np nq b">replace_stats_with_data</code>来计算数据的<strong class="lq ir"> p </strong>和<strong class="lq ir"> n </strong>，然后重新计算<strong class="lq ir"> PDF。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="po ob l"/></div></figure><p id="8081" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">测试条形图</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pp ob l"/></div></figure><p id="3ef3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">测试概率密度函数柱状图。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pp ob l"/></div></figure><h2 id="ef86" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">二项式类别测试函数</h2><p id="e97b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们将使用unittest库来测试我们所有的函数，以便将来如果我们做了任何更改，我们可以在几秒钟内检测到错误。</p><p id="056e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">创建<code class="fe nn no np nq b">TestBinomialClass</code>，它具有测试<code class="fe nn no np nq b">Binomial </code>类的所有函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pq ob l"/></div></figure><h2 id="600c" class="nb kx iq bd ky nc nd dn lc ne nf dp lg lx ng nh li mb ni nj lk mf nk nl lm nm bi translated">试探性试验</h2><p id="3092" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">运行<em class="nr"> test_binomial.py </em>显示在测试过程中没有发现错误。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pg ob l"/></div></figure></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="0c7e" class="kw kx iq bd ky kz mw lb lc ld mx lf lg jw my jx li jz mz ka lk kc na kd lm ln bi translated">正在创建__init__。py函数</h1><p id="6249" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们需要在distributions文件夹中创建<code class="fe nn no np nq b">__init__.py</code>文件来初始化python文件中的类。这将帮助我们直接调用特定的类。</p><p id="9af7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们已经启动了二项式和高斯类。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pr ob l"/></div></figure><h1 id="3ca2" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">创建setup.py函数</h1><p id="6884" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这个<code class="fe nn no np nq b">setuptools</code>是构建python包所必需的。设置功能需要软件包信息、版本、描述、作者姓名和电子邮件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ps ob l"/></div></figure><h1 id="d76d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">目录</h1><p id="e86d" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">下图显示了包含所有必需文件的包目录。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/8a6f49d5e9ff92c8e2188d094969b19d.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*TFKcJJBkV99XMb3G3dST7Q.png"/></div></figure><h1 id="d42e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">安装分发包</h1><p id="8891" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><code class="fe nn no np nq b">(venv) <a class="ae kv" href="https://www.analyticsvidhya.com/cdn-cgi/l/email-protection" rel="noopener ugc nofollow" target="_blank">[email protected]</a>:~/work # pip install -U .</code></p><p id="f2be" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">使用<code class="fe nn no np nq b">pip install .</code>或<code class="fe nn no np nq b">pip install -U .</code>来安装我们可以在任何项目中使用的python包。正如我们所看到的，我们的分发包已经成功安装。</p><pre class="kg kh ki kj gt ns nq nt nu aw nv bi"><span id="1bf8" class="nb kx iq nq b gy nw nx l ny nz"><strong class="nq ir">Processing /work</strong><br/>Building wheels for collected packages: distributions<br/>  Building wheel for distributions (setup.py) ... done<br/>  Created wheel for distributions: filename=distributions-0.2-py3-none-any.whl size=4800 sha256=39bc76cbf407b2870caea42b684b05efc15641c0583f195f36a315b3bc4476da<br/>  Stored in directory: /tmp/pip-ephem-wheel-cache-ef8q6wh9/wheels/95/55/fb/4ee852231f420991169c6c5d3eb5b02c36aea6b6f444965b4b<br/><strong class="nq ir">Successfully built distributions</strong><br/>Installing collected packages: distributions<br/>  Attempting uninstall: distributions<br/>    Found existing installation: distributions 0.2<br/>    Uninstalling distributions-0.2:<br/>      Successfully uninstalled distributions-0.2<br/>Successfully installed distributions-0.2</span></pre><h1 id="30b2" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">测试我们的包</h1><p id="17c9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们将在Linius终端中运行Python内核，然后测试这两个类。</p><blockquote class="pu"><p id="1b4a" class="pv pw iq bd px py pz qa qb qc qd mj dk translated">做得好，你已经创建了你的第一个Python包。</p></blockquote><pre class="qe qf qg qh qi ns nq nt nu aw nv bi"><span id="847b" class="nb kx iq nq b gy nw nx l ny nz">&gt;&gt;&gt; from distributions import Gaussian<br/>&gt;&gt;&gt; from distributions import Binomial<br/>&gt;&gt;&gt; <br/>&gt;&gt;&gt; print(Gaussian(20,6))<br/><strong class="nq ir">mean 20, standard deviation 6</strong><br/>&gt;&gt;&gt; print(Binomial(0.4,50))<br/><strong class="nq ir">mean 20.0, standard deviation 3.4641016151377544, p 0.4, n 50</strong><br/>&gt;&gt;&gt;</span></pre><div class="qj qk gp gr ql qm"><a href="https://github.com/kingabzpro/Creating-Python-Package-using-Jupyter-Notebook" rel="noopener  ugc nofollow" target="_blank"><div class="qn ab fo"><div class="qo ab qp cl cj qq"><h2 class="bd ir gy z fp qr fr fs qs fu fw ip bi translated">GitHub-kingabzpro/Creating-Python-Package-using-Jupyter-Notebook:创建您的第一个数据…</h2><div class="qt l"><h3 class="bd b gy z fp qr fr fs qs fu fw dk translated">直接从Jupyter笔记本创建您的第一个数据科学python包。创建您的第一个数据科学python…</h3></div><div class="qu l"><p class="bd b dl z fp qr fr fs qs fu fw dk translated">github.com</p></div></div><div class="qv l"><div class="qw l qx qy qz qv ra kp qm"/></div></div></a></div><p id="80a4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果还面临问题，可以去看看我的<a class="ae kv" href="https://github.com/kingabzpro/Creating-Python-Package-using-Jupyter-Notebook" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir">GitHub</strong></a><strong class="lq ir"/>repo<strong class="lq ir"/>或者<strong class="lq ir"/><a class="ae kv" href="https://deepnote.com/project/Creating-Python-Package-in-Jupyter-Notebook-JvApLhCiQIqj-0yR-PAfdQ/%2Fpython_packages.ipynb" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir">Deepnote</strong></a><strong class="lq ir"/>项目。</p><blockquote class="pa pb pc"><p id="77bf" class="lo lp nr lq b lr mk jr lt lu ml ju lw pd mm lz ma pe mn md me pf mo mh mi mj ij bi translated">你可以关注我的领英和T21，我每周都会在那里发表文章。</p></blockquote></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><p id="8600" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="nr">本文中显示的媒体不归Analytics Vidhya所有，由作者自行决定使用。</em> </strong></p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><p id="6584" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="nr">原载于2021年7月30日https://www.analyticsvidhya.com</em><a class="ae kv" href="https://www.analyticsvidhya.com/blog/2021/07/creating-data-science-python-package-using-jupyter-notebook" rel="noopener ugc nofollow" target="_blank"><em class="nr"/></a><em class="nr">。</em></p></div></div>    
</body>
</html>