<html>
<head>
<title>10 Steps to Pass the Data Science Take–Home Task</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过数据科学带回家任务的10个步骤</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-steps-to-pass-the-data-science-take-home-task-c5a696679526?source=collection_archive---------27-----------------------#2021-05-13">https://towardsdatascience.com/10-steps-to-pass-the-data-science-take-home-task-c5a696679526?source=collection_archive---------27-----------------------#2021-05-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="943e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">确保包括以下内容，给你的面试官留下深刻印象</h2></div><p id="7990" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">注意:虽然这篇文章是专门针对表格数据的任务的，但是这些步骤中的大部分也适用于非表格数据(即NLP或CV任务)。</em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/8ed99d2ebf1b63b9a9eb431ebd378c92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vmqXLJjdCuoXzyLRjjFWTw.jpeg"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated"><a class="ae ls" href="https://unsplash.com/@richtervet?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Rich Tervet </a>在<a class="ae ls" href="https://unsplash.com/s/photos/code?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="5de7" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">1.数据分析和可视化📈</h1><p id="7616" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">这是显而易见的，这是数据科学家面对全新数据集时要经历的第一步。不幸的是，这一步没有模板，所以只要确保你的面试官能跟上你在做数据科学挑战时的思维过程就行了。你可能想要使用干净、漂亮的数据可视化来打动你的读者。</p><h1 id="43f6" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">2.数据转换和特征工程🏗</h1><p id="4cd7" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">这包括:</p><ul class=""><li id="4ba3" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">通过使用例如独热、目标、标签、计数或百分比编码来处理分类变量。使用<code class="fe mz na nb nc b">sklearn.pipeline.Pipeline</code>将转换合并到一个管道中是一个好主意。请记住，将训练数据上训练的同一编码器或管道用于测试数据集！</li><li id="8042" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la mv mw mx my bi translated">重新采样，例如，如果数据集不平衡(例如，<code class="fe mz na nb nc b">y==1</code>比<code class="fe mz na nb nc b">y==0</code>多得多)，则使用<code class="fe mz na nb nc b">imblearn</code></li><li id="2935" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la mv mw mx my bi translated">通过将日期转换成数字变量来处理日期。选择参考日期时要小心</li><li id="423b" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la mv mw mx my bi translated">特定数据集的特征工程技术。根据手头的数据集，创建您认为可能具有预测能力的要素。</li></ul><h1 id="a57e" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">3.训练最先进的预测模型</h1><p id="5ac5" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">当涉及到表格数据时，梯度推进方法(或者可能是随机森林)通常被认为是最先进的分类器。目前，梯度增强的三种变体被广泛使用，在以下Python库中实现:</p><ol class=""><li id="22b0" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la ni mw mx my bi translated"><code class="fe mz na nb nc b">xgboost</code></li><li id="89c5" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated"><code class="fe mz na nb nc b">lightgbm</code></li><li id="25d7" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated"><code class="fe mz na nb nc b">catboost</code></li></ol><p id="6aa7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">尽管每个数据集可能都不同，但从高层次上看，根据我的经验，当数据集有许多分类特征时，<code class="fe mz na nb nc b">catboost</code>的性能会更好，<code class="fe mz na nb nc b">lightgbm</code>的性能通常会稍差，但会快得多，<code class="fe mz na nb nc b">xgboost</code>的性能会很好，但通常会比<code class="fe mz na nb nc b">lightgbm</code>慢(尽管与其他一些方法相比非常快)。</p><p id="66cb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">记住也要为你的模型选择正确的度量标准。一个好的指标是AUC，因为它是稳健的，并且考虑了特异性和敏感性。对于更具体的情况，将需要使用其他度量，这取决于误报和漏报的成本。</p><h1 id="615f" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">4.训练基本预测模型</h1><p id="3071" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">如果您有时间，最好训练一个基本模型，如线性回归或逻辑回归，并证明性能差异是对更高级模型引入的复杂性的合理权衡。</p><h1 id="4a5f" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">5.使用交叉验证</h1><p id="f191" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">这似乎是显而易见的，但请记住，当报告模型的性能或试图改进它时。特别是当在模型中进行小的、递增的改进时，具有足够数量的折叠和重复以将性能度量的波动降低到最小是有用的。</p><p id="8626" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您使用目标编码，您可能还希望使用例如<code class="fe mz na nb nc b">RepeatedKFold</code>创建一个显式交叉验证循环，因为它可以让您完全控制包内数据集与包外数据集中发生的事情。</p><p id="1f4b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您想要进一步进行交叉验证，您可能想要运行几次，以查看您实际需要多少次折叠来获得模型性能的准确估计。</p><h1 id="3960" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">6.优化机器学习模型</h1><p id="e841" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">通过为所讨论的数据集找到最佳超参数，可以实现模型的最佳性能。尽管存在经验法则，但数据集的特征(例如变量之间的交互程度)将决定最佳超参数是什么。以下三种方法通常用于超参数调整:</p><ol class=""><li id="2f68" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la ni mw mx my bi translated"><strong class="kh ir">网格搜索</strong>:概念上简单但非常耗费资源，特别是在优化有大量超参数的算法时(比如<code class="fe mz na nb nc b">xgboost</code></li><li id="7eed" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated"><strong class="kh ir">随机搜索</strong>:比网格搜索好很多次，但可能达不到最佳解</li><li id="0966" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated"><strong class="kh ir">贝叶斯超参数优化</strong>:目前的最佳实践</li></ol><p id="073c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为超参数优化的当前最佳实践，推荐第三个选项。除了优化直接超参数之外，它还有一个重要的优势，即可以将其他变量视为超参数。例如，除了<code class="fe mz na nb nc b">xgboost</code>使用的超参数外，该方法还可用于确定</p><ul class=""><li id="ed73" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">根据基数，对哪些变量进行单热编码，对哪些变量进行目标编码(这个参数在catboost中被命名为<code class="fe mz na nb nc b">onehot_max_size</code>)</li><li id="9c97" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la mv mw mx my bi translated">给目标编码增加多少平滑度</li><li id="49ff" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la mv mw mx my bi translated">在对一个类别进行目标编码之前，该类别中所需的最小记录量</li></ul><p id="0f04" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">贝叶斯优化通常分为三个步骤:</p><ol class=""><li id="4967" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la ni mw mx my bi translated">定义目标函数。这包括依赖于超参数的转换和交叉验证结果</li><li id="ac34" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">定义超参数搜索空间，即从中采样的分布。</li><li id="33a3" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">在指定的迭代次数(例如1000次)上运行优化</li></ol><h1 id="9ba3" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">7.解释机器学习模型</h1><p id="aa4f" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">通常使用三种模型可解释性的方法，由Python包<code class="fe mz na nb nc b">Eli5</code>、<code class="fe mz na nb nc b">LIME</code>和<code class="fe mz na nb nc b">SHAP</code>代表。目前<code class="fe mz na nb nc b">SHAP</code>被许多人认为是建立在表格数据上的模型的最佳实践。SHAP有两个重要优势:</p><ul class=""><li id="d5b3" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">一致性:意味着我们可以比较模型之间的属性特征的重要性</li><li id="ceeb" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la mv mw mx my bi translated">准确性:我们可以将所有特征的重要性相加，以获得整个模型的重要性</li></ul><h2 id="dfa9" class="nj lu iq bd lv nk nl dn lz nm nn dp md ko no np mf ks nq nr mh kw ns nt mj nu bi translated">全局特征重要性</h2><p id="4d1e" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">用来解释模型的第一种方法通常是特征重要性。<code class="fe mz na nb nc b">xgboost</code>包有一个专用的方法，可以用来绘制每个变量的重要性。与为每个预测值生成一个系数的参数方法不同，有多种方法可以计算梯度增强的重要性。<code class="fe mz na nb nc b">xgboost</code>有三个选项:</p><ul class=""><li id="5911" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated"><strong class="kh ir">权重</strong>:由变量在树中出现的次数给出</li><li id="d854" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la mv mw mx my bi translated"><strong class="kh ir">增益</strong>:因使用特定变量进行分割而获得的平均精度增益</li><li id="00e3" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la mv mw mx my bi translated"><strong class="kh ir"> Cover </strong>:由受预测器影响的观察次数给出</li></ul><p id="9d07" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">尽管<code class="fe mz na nb nc b">plot_importance</code>中的默认选项是“重量”,但增益通常被认为是更好的衡量标准，并在下文中使用。</p><h2 id="ef53" class="nj lu iq bd lv nk nl dn lz nm nn dp md ko no np mf ks nq nr mh kw ns nt mj nu bi translated"><strong class="ak">局部特征重要性</strong></h2><p id="8733" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">解释单个观测值的预测在很多时候是有用的。这对于调试模型以及向利益相关者解释单个客户的预测都很有用。例如，市场营销中的利益相关者，当他们知道为什么一个客户会以一种特定的方式被评分时，他们可能会对与客户沟通更有信心。<code class="fe mz na nb nc b">shap</code>库中的局部力图提供了一个很好的可视化效果(见下文)。红色因素是推动预测分数上升的因素，蓝色因素是拉低预测分数的因素。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nv"><img src="../Images/6e419aa51a41dff493a5e1383e310824.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oaSrje9QLG3b82oh.png"/></div></div></figure><h1 id="4ad4" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">8.使用AWS或GCP —如果可能，使用☁️</h1><p id="3c6d" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">如果这项工作需要云计算，并且您有时间，那么在您的提交中包含在云虚拟机上运行代码的脚本可能是一个好主意。</p><p id="9778" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您收到的数据集很大并且训练需要很长时间，情况尤其如此。然而，即使不是这种情况，您仍然可以将VM用于资源密集型任务，例如超参数优化(如上所述)。</p><h1 id="d4b9" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">9.记录代码并使用Git —如果可能的话</h1><p id="3155" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">Git可能不是所有数据科学工作的要求。然而，如果你申请的是一家软件公司，那么展示一下你会使用git并且在版本控制方面很自律也无妨。</p><h1 id="3dda" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">10.包括单元测试—如果可能的话</h1><p id="2ef7" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">特别是如果你申请的公司是科技类的，如果你也包括单元测试，你可能会得到加分——如果时间允许的话。Python库将是一个不错的选择。即使你不能设法用单元测试覆盖你的所有代码，向公司展示你能够写出有弹性的、生产就绪的代码也是一个优势。</p></div><div class="ab cl nw nx hu ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ij ik il im in"><h1 id="8ecb" class="lt lu iq bd lv lw od ly lz ma oe mc md jw of jx mf jz og ka mh kc oh kd mj mk bi translated">结论</h1><p id="1323" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">取决于你有多少时间，你可能无法涵盖所有这些。不过，尽可能多的面试会让你给面试官留下深刻印象。以下是10个要点的清单:</p><ol class=""><li id="ac69" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la ni mw mx my bi translated">✅展示了一些深刻分析</li><li id="e001" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">✅设计了一些巧妙的功能</li><li id="b511" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">✅训练了一个复杂模型</li><li id="7fbd" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">✅训练了一个简单的模型</li><li id="5423" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">✅，别忘了交叉验证！</li><li id="628f" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">✅优化模型超参数</li><li id="fa95" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">✅解释这个模型</li><li id="caf9" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">✅使用AWS或GCP —如果可能的话</li><li id="bdb8" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">✅记录代码并使用Git —如果可能的话</li><li id="5205" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">✅包括单元测试—如果可能的话</li><li id="0dc8" class="mq mr iq kh b ki nd kl ne ko nf ks ng kw nh la ni mw mx my bi translated">🎉协商工资💰</li></ol><p id="cdf1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">祝你好运！🤞</p></div></div>    
</body>
</html>