<html>
<head>
<title>How To Drop Rows In Pandas DataFrames With NaN Values In Certain Columns</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何删除Pandas数据帧中某些列中有NaN值的行</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-drop-rows-in-pandas-dataframes-with-nan-values-in-certain-columns-7613ad1a7f25?source=collection_archive---------0-----------------------#2021-08-19">https://towardsdatascience.com/how-to-drop-rows-in-pandas-dataframes-with-nan-values-in-certain-columns-7613ad1a7f25?source=collection_archive---------0-----------------------#2021-08-19</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="9f96" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">讨论从pandas数据帧中删除某些列中值为空的行的多种方法</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/c2759908b142651192d751e97d398751.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vrvrShLtgnd9RZcjm_hxfA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@reeeed?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Reed Mok </a>在<a class="ae kz" href="https://unsplash.com/s/photos/rows?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><h2 id="3878" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h2><p id="78e2" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的简短指南中，我们将探索几种从pandas数据帧中删除某些列中有空值的行的方法。具体来说，我们将讨论如何删除带有以下内容的行:</p><ul class=""><li id="51b6" class="mp mq iu ly b lz mr mc ms lj mt ln mu lr mv mo mw mx my mz bi translated">至少有一列是<code class="fe na nb nc nd b">NaN</code></li><li id="5a59" class="mp mq iu ly b lz ne mc nf lj ng ln nh lr ni mo mw mx my mz bi translated">所有列值都是<code class="fe na nb nc nd b">NaN</code></li><li id="539a" class="mp mq iu ly b lz ne mc nf lj ng ln nh lr ni mo mw mx my mz bi translated">具有空值的特定列</li><li id="89a1" class="mp mq iu ly b lz ne mc nf lj ng ln nh lr ni mo mw mx my mz bi translated">至少N列具有非空值</li></ul></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><p id="fa21" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated">首先，让我们创建一个示例数据框架，我们将引用它来演示本文中的一些概念。</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="58ee" class="la lb iu nd b gz nx ny l nz oa">import pandas as pd</span><span id="b396" class="la lb iu nd b gz ob ny l nz oa">df = pd.DataFrame({<br/>    'colA':[None, False, False, True], <br/>    'colB': [None, 2, None, 4],<br/>    'colC': [None, 'b', 'c', 'd'],<br/>    'colD': [None, 2.0, 3.0, 4.0],<br/>})</span><span id="4c4a" class="la lb iu nd b gz ob ny l nz oa">print(df)<br/><em class="oc">    colA  colB  colC  colD<br/>0   None   NaN  None   NaN<br/>1  False   2.0     b   2.0<br/>2  False   NaN     c   3.0<br/>3   True   4.0     d   4.0</em></span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="2e4b" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">删除至少有一个空值的所有行</h2><p id="084d" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">当谈到删除熊猫数据帧中的空值时，<code class="fe na nb nc nd b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.dropna.html" rel="noopener ugc nofollow" target="_blank">pandas.DataFrame.dropna()</a></code>方法是你的朋友。当您在整个数据帧上调用<code class="fe na nb nc nd b">dropna()</code>而没有指定任何参数(即使用默认行为)时，该方法将删除至少有一个缺失值的所有行。</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="3281" class="la lb iu nd b gz nx ny l nz oa"><strong class="nd iv">df = df.dropna()</strong></span><span id="b772" class="la lb iu nd b gz ob ny l nz oa">print(df)<br/><em class="oc">    colA  colB colC  colD<br/>1  False   2.0    b   2.0<br/>3   True   4.0    d   4.0</em></span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="b345" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">删除只有缺失值的行</h2><p id="0cf0" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">现在，如果您想删除所有列值都为空的行，那么您需要指定<code class="fe na nb nc nd b">how='all'</code>参数。</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="d057" class="la lb iu nd b gz nx ny l nz oa"><strong class="nd iv">df = df.dropna(how='all')</strong></span><span id="1690" class="la lb iu nd b gz ob ny l nz oa">print(df)<br/><em class="oc">    colA  colB colC  colD<br/>1  False   2.0    b   2.0<br/>2  False   NaN    c   3.0<br/>3   True   4.0    d   4.0</em></span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="e98c" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">删除特定列值为空的行</h2><p id="3e78" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">如果您想只考虑特定的列，那么您需要指定<code class="fe na nb nc nd b">subset</code>参数。</p><p id="6f1a" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated">例如，让我们假设我们想要删除任何列<code class="fe na nb nc nd b">colA</code>或<code class="fe na nb nc nd b">colC</code>中缺少值的所有行:</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="1aae" class="la lb iu nd b gz nx ny l nz oa"><strong class="nd iv">df = df.dropna(subset=['colA', 'colC'])</strong></span><span id="89e7" class="la lb iu nd b gz ob ny l nz oa">print(df)<br/><em class="oc">    colA  colB colC  colD<br/>1  False   2.0    b   2.0<br/>2  False   NaN    c   3.0<br/>3   True   4.0    d   4.0</em></span></pre><p id="27f8" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated">此外，如果所有行在<code class="fe na nb nc nd b">colA</code>和<code class="fe na nb nc nd b">colB</code>中都缺少值，您甚至可以删除所有行:</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="7686" class="la lb iu nd b gz nx ny l nz oa"><strong class="nd iv">df = df.dropna(subset=['colA', 'colB'], how='all')</strong></span><span id="2939" class="la lb iu nd b gz ob ny l nz oa">print(df)<br/><em class="oc">    colA  colB colC  colD<br/>1  False   2.0    b   2.0<br/>2  False   NaN    c   3.0<br/>3   True   4.0    d   4.0</em></span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="1e8e" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">删除至少有N个非缺失值的行</h2><p id="3575" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">最后，如果您需要删除至少有N个非缺失值列的所有行，那么您需要指定<code class="fe na nb nc nd b"><strong class="ly iv">thresh</strong></code> <strong class="ly iv">参数，该参数指定为了不被删除，每一行应该存在的非缺失值的数量</strong>。</p><p id="7a30" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated">例如，如果您想要删除所有具有多个空值的列，那么您需要将<code class="fe na nb nc nd b">thresh</code>指定为<code class="fe na nb nc nd b">len(df.columns) — 1</code></p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="9e3d" class="la lb iu nd b gz nx ny l nz oa"><strong class="nd iv">df = df.dropna(thresh=len(df.columns)-1)</strong></span><span id="29a7" class="la lb iu nd b gz ob ny l nz oa">print(df)<br/><em class="oc">    colA  colB colC  colD<br/>1  False   2.0    b   2.0<br/>2  False   NaN    c   3.0<br/>3   True   4.0    d   4.0</em></span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="d4d2" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h2><p id="c0ef" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的简短指南中，我们讨论了在pandas数据帧中删除缺少值的行的4种方法。</p><p id="482f" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated">请注意，除了<code class="fe na nb nc nd b">pandas.DataFrame.dropna()</code>之外，您可以使用许多不同的方法(例如<code class="fe na nb nc nd b"> numpy.isnan()</code>方法)来删除行(和/或列)，后者是专门为pandas构建的，与更通用的方法相比，它具有更好的性能。</p></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><p id="8d18" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="ly iv">成为会员</strong> </a> <strong class="ly iv">阅读媒介上的每一个故事。你的会员费直接支持我和你看的其他作家。</strong></p></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated"><strong class="ly iv">你可能也会喜欢</strong></p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/how-to-add-a-new-column-to-an-existing-pandas-dataframe-310a8e7baf8f"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">如何向现有的Pandas数据框架添加新列</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">讨论在熊猫数据框中插入新列的4种方法</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kt og"/></div></div></a></div><div class="od oe gq gs of og"><a href="https://medium.com/geekculture/use-performance-visualization-to-monitor-your-python-code-f6470592a1cb" rel="noopener follow" target="_blank"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">使用性能可视化来监控Python代码</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">如何持续测量、可视化和提高Python代码在生产中的性能</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">medium.com</p></div></div><div class="op l"><div class="ov l or os ot op ou kt og"/></div></div></a></div><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/how-to-upload-your-python-package-to-pypi-de1b363a1b3"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">如何将Python包上传到PyPI</h2><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou kt og"/></div></div></a></div></div></div>    
</body>
</html>