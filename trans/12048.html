<html>
<head>
<title>Webhook vs API — Which One Do You Need?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Webhook 和 API——你需要哪一个？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/webhook-vs-api-which-one-do-you-need-8c430f8ea71b?source=collection_archive---------3-----------------------#2021-12-05">https://towardsdatascience.com/webhook-vs-api-which-one-do-you-need-8c430f8ea71b?source=collection_archive---------3-----------------------#2021-12-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="688a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基于事件和基于请求的数据传输的快速非技术性介绍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a97726fb40d6a9048982d6f340f48cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MYSUGt1TcVjtr4qJ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一个钩子。照片由<a class="ae ky" href="https://unsplash.com/@grant_durr?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">格兰特·杜尔</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="9102" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">即使你对技术完全不熟悉，你也可能每天都在使用 API。无论是从网上商店订购，确定您的火车时刻表，还是查看天气应用程序，我们都会不断地请求信息，这些信息是从我们不一定了解的系统或数据库中检索出来的。我们的信息请求和底层系统之间的层是<em class="mc">应用编程接口</em>或<strong class="li iu"> API </strong>。Webhooks 也许不太为人所知，但却越来越受欢迎。本文将对这两者进行简短的非技术性介绍。</p><h1 id="5e05" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">什么是 API？</h1><p id="b47a" class="pw-post-body-paragraph lg lh it li b lj mv ju ll lm mw jx lo lp mx lr ls lt my lv lw lx mz lz ma mb im bi translated">一个<strong class="li iu"> API </strong>是一个软件连接其他软件的接口。它以预先指定的格式接收请求，在内部处理它们，并返回所请求的信息(例如，以 JSON 或 XML 格式)。处理步骤可能是简单的数据检索，但也可能涉及更复杂的子程序。API 是<strong class="li iu">请求驱动的</strong>，当进行调用时被触发。</p><p id="f506" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">利用 API 可以隐藏软件的内部机制，只输出相关的结果。此外，它允许不同的应用程序用一种通用语言进行通信。API 通常相当稳定；即使底层系统频繁改变，依赖软件也可能继续使用相同的 API。</p><p id="f973" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">最后，API 是双向的。本质上，你必须发送一个请求来接收某样东西。你也可以<em class="mc">给系统添加</em>一些东西。例如，如果你在社交媒体上发布了一些东西，你的帖子会通过一个 API 被路由到底层数据库。简而言之:API 可以用于发送数据和请求数据。</p><p id="f982" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">日常生活中使用的 API 的一些常见示例:</p><ul class=""><li id="047e" class="na nb it li b lj lk lm ln lp nc lt nd lx ne mb nf ng nh ni bi translated"><strong class="li iu">在线支付:</strong>有没有想过如何让 PayPal 的支付近乎即时？零售商的网站连接到 PayPal API。这是一个明显的例子，你不想分享完整的源代码；由于通过 API 进行通信，最终用户只有有限的权限。</li><li id="11f1" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">旅游预订:每当查询<em class="mc">booking.com</em>或<em class="mc">skyscanner.com</em>时，这些平台都会向许多酒店和航空公司的 API 提出请求，以便为你找到最优惠的价格。</li><li id="6919" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">社交媒体登录:许多网站提供通过<em class="mc"/>、<em class="mc"> LinkedIn </em>等的登录，而不是为你访问的每个网站创建唯一的用户账户。它是如何工作的？你猜对了，登录 API。</li><li id="0142" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">天气预报:谷歌天气预报中灰色的雨云和寒冷的气温？它从<em class="mc">weather.com</em>API 提取数据。</li></ul><h1 id="0fb7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">什么是 webhook？</h1><p id="e682" class="pw-post-body-paragraph lg lh it li b lj mv ju ll lm mw jx lo lp mx lr ls lt my lv lw lx mz lz ma mb im bi translated">与 API 相反，web hook 是<strong class="li iu">事件驱动的</strong>。每当系统发生变化时，webhook 就会广播新的信息。因此，它也被称为<strong class="li iu">反向 API </strong>。另一种看待它的方式是，将 API 视为<strong class="li iu">拉系统</strong>，将 webhook 视为<strong class="li iu">推系统</strong>。</p><p id="eedb" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">自然地，你可能会订阅你想要得到通知的特定事件。您不必经常检查数据是否已经更新或事件是否已经发生，而只需在事件发生时得到通知。因此，webhook 比 API 更加轻量级和资源高效。但是它们的设计有点困难，因为它们必须被定制来推动特定的事件。</p><p id="c276" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">webhooks 的几个例子:</p><ul class=""><li id="4308" class="na nb it li b lj lk lm ln lp nc lt nd lx ne mb nf ng nh ni bi translated"><strong class="li iu">交易系统:</strong>这是一个作家都会熟悉的媒介。支付通知是网络陷阱的一个简单例子。</li><li id="60df" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">Twitter 机器人: <em class="mc"> Twitter 机器人</em>通知你，例如，被喜欢的推文或新的关注者。</li><li id="658f" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">电子邮件服务:像 MailChimp 这样的服务提供了许多网页挂钩。例如，当有人订阅你的时事通讯时，一个 webhook 可能会自动转发这个事件来更新你的 CRM 系统。</li><li id="658a" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated"><strong class="li iu">购物平台</strong>:类似<em class="mc"> Shopify </em>的平台利用 webhooks，例如，发送订单或通知会计系统收到付款。推送的事件会自动触发动作。</li></ul><h1 id="75c4" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">哪个更好？</h1><p id="a73e" class="pw-post-body-paragraph lg lh it li b lj mv ju ll lm mw jx lo lp mx lr ls lt my lv lw lx mz lz ma mb im bi translated">正如你可能猜到的，两者之间没有“更好”的。是使用 webhook 还是 API 确实取决于问题的背景。请考虑以下注意事项:</p><h2 id="810f" class="no me it bd mf np nq dn mj nr ns dp mn lp nt nu mp lt nv nw mr lx nx ny mt nz bi translated">答:鞋店</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/6fdfd8bd9a9340f23916b41e71138993.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yANdnalqQQcmBIi4"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@nwphoto?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">内森·沃克</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="0a06" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">假设你订购了一双鞋，急切地等待着从商店里拿起它的那一刻。你不耐烦地给商店打电话。销售人员尽职尽责地走进杂志查看——还没有。五分钟后，你再次打电话——还是没有。又过了五分钟——什么也没有。这将是一个非常无效的 API:员工总是忙于处理你烦人的请求，而你实际上只对<em class="mc">事件</em>感兴趣:你想知道你的鞋子什么时候在那里。在 webhook 实现中，员工只需在鞋子到达时给你打电话。</p><p id="3b9d" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">这可能意味着 webhook 比 API 更有效，这也是可能的。然而，现在考虑你每年买两双鞋；您还没有决定选择哪一对，将根据可用的选择来决定。所以，每次鞋店接到新订单或者卖出一双鞋，销售员工都会热情地给你打电话，沟通目前的库存。由于每年只有两个决策时刻，webhook 方法现在提供了过载的数据；API 在这里会更合适。</p><h2 id="111a" class="no me it bd mf np nq dn mj nr ns dp mn lp nt nu mp lt nv nw mr lx nx ny mt nz bi translated">什么时候用哪个？</h2><p id="b8f1" class="pw-post-body-paragraph lg lh it li b lj mv ju ll lm mw jx lo lp mx lr ls lt my lv lw lx mz lz ma mb im bi translated">好吧，也许没有一个天生比另一个更好，但是对于特定的用例来说，它们肯定更好。以下指南可能有用:</p><p id="36b4" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu"> API </strong></p><p id="9bf7" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><em class="mc">想用 API 就用吧……</em></p><ul class=""><li id="e0bc" class="na nb it li b lj lk lm ln lp nc lt nd lx ne mb nf ng nh ni bi translated">…与底层应用程序的双向通信，例如向 API 背后的数据库发送更新。</li><li id="68f8" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">…只是为了了解当前或请求时的系统状态，而不是每个中间数据突变。</li><li id="13dc" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">…比事件提供的信息更多，无法在自定义 webhook 中捕获所有信息。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/799f26bd1fb2efa0ddd6c77958e890de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mm_nHmj_i0Fmb-GUvIRe5Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">API 和 Webhook 的比较。如果您只需要调用时的系统状态(例如，做决定时)，API 通常更有用。[图片由作者提供]</p></figure><p id="7eaf" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu"> Webhook </strong></p><p id="23d4" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><em class="mc">如果你愿意，可以使用 web hooks……</em></p><ul class=""><li id="04b3" class="na nb it li b lj lk lm ln lp nc lt nd lx ne mb nf ng nh ni bi translated">…在(特定)事件发生时获得通知。</li><li id="0a10" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">…自定义缓存中最新的数据<em class="mc">就绪</em>。</li><li id="dd1d" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">…构建自定义内容工作流。</li><li id="845a" class="na nb it li b lj nj lm nk lp nl lt nm lx nn mb nf ng nh ni bi translated">…与第三方系统同步数据。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/78cc4df0d405b356f2c9bc4d86ec1a7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q4VTCyqTXMgI8Y4isY354w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">API 和 Webhook 的比较。如果你想在事件发生的那一刻得到通知，Webhook 通常更合适。[图片由作者提供]</p></figure><p id="7bcc" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">当然，单个应用程序通常同时支持 webhooks 和 API。如果两者都有有效的用例，就没有理由局限于一个。</p><h1 id="85ea" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">最后的话</h1><p id="66cd" class="pw-post-body-paragraph lg lh it li b lj mv ju ll lm mw jx lo lp mx lr ls lt my lv lw lx mz lz ma mb im bi translated">本文关注的是对最终用户来说相当明显的 API 和 webhooks，但这只是冰山一角。还有更多这两种情况的例子，大多数都涉及到表面下的信息交换。提醒他们促进<em class="mc">个软件</em>之间的联系，而不是<em class="mc">个人</em>之间的联系；除非你是程序员，否则你可能永远不会直接观察 API 或 webhook。</p><p id="360b" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">本文的底线是:批判性地评估你的用例是基于请求的还是基于事件的，并基于此使用 API 或 webhook。API 可能更广为人知，但是 webhooks 通常提供了一种轻量级的高效替代方案。</p><h1 id="559e" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">参考</h1><div class="od oe gp gr of og"><a href="https://agilitycms.com/resources/posts/-api-vs-webhooks-what-s-the-difference" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">Webhooks vs API:有什么区别？敏捷 CMS</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">随着现代 web 开发的发展，与人有效交流的愿望树立了一个很大的先例。至…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">agilitycms.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://www.mparticle.com/blog/apis-vs-webhooks" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">APIs vs. Webhooks:有什么区别？</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">API(应用程序编程接口)支持软件应用程序之间的双向通信，由…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.mparticle.com</p></div></div><div class="op l"><div class="ov l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://sendgrid.com/blog/webhook-vs-api-whats-difference/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">Webhook vs API:两者有什么区别？-发送网格</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">随着你熟悉 SendGrid 的服务，甚至许多互联网公司的服务，你会看到术语“API”…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">sendgrid.com</p></div></div><div class="op l"><div class="ow l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://nordicapis.com/5-examples-of-apis-we-use-in-our-everyday-lives/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">我们日常生活中使用的 5 个 API 示例|北欧 APIs |</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">APIs 也就是应用程序编程接口——在今天的经济中比以往任何时候都发挥着更大的作用。他们允许…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">nordicapis.com</p></div></div><div class="op l"><div class="ox l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://sendgrid.com/blog/whats-webhook/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">什么是网钩？</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">webhook 是一个越来越受欢迎的 API 概念。随着越来越多我们在网上做的事情可以用…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">sendgrid.com</p></div></div><div class="op l"><div class="oy l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://www.culttt.com/2014/01/22/webhooks" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">什么是 Webhooks？</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">过去 10 年左右，互联网的一个有趣趋势是从静态网站演变到…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.culttt.com</p></div></div></div></a></div></div></div>    
</body>
</html>