<html>
<head>
<title>Loading Well Log Data From DLIS using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python从DLIS加载测井数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/loading-well-log-data-from-dlis-using-python-9d48df9a23e2?source=collection_archive---------9-----------------------#2021-04-21">https://towardsdatascience.com/loading-well-log-data-from-dlis-using-python-9d48df9a23e2?source=collection_archive---------9-----------------------#2021-04-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2a4e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用dlisio和matplotlib加载和显示处理过的声波波形数据的简短教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/02d60de67c91846a79b421bc15adf729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e0dawHnkhHg79BTOTvgTdg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">matplotlib图左侧显示外观图，右侧显示波形数据。图片由作者提供。</p></figure><h1 id="2df4" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">介绍</h1><p id="c584" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">测井记录和岩石物理数据可以以多种不同的格式存储。在本系列的早期文章和笔记本中，我们主要关注于从CSV文件(<a class="ae mm" href="https://github.com/andymcdgeo/Petrophysics-Python-Series/blob/master/01%20-%20Loading%20and%20Displaying%20Well%20Data%20From%20CSV.ipynb" rel="noopener ugc nofollow" target="_blank">这里</a>)和LAS文件(<a class="ae mm" rel="noopener" target="_blank" href="/loading-multiple-well-log-las-files-using-python-39ac35de99dd">这里</a>和<a class="ae mm" href="https://andymcdonaldgeo.medium.com/loading-and-displaying-well-log-data-b9568efd1d8" rel="noopener">这里</a>)加载数据。尽管LAS文件是一种常见的格式，但它们具有扁平的结构，标题部分包含关于油井和文件的元数据，后面是一系列包含每条测井曲线值的列。因为它们是平面的，所以不容易存储数组数据。这是可能的，但是阵列的单个元素被分割成LAS文件中的单个列/曲线，而不是单个阵列。这就是DLIS档案的用处。</p><p id="7170" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">在本文中，我们将涵盖:</p><ul class=""><li id="68f4" class="ms mt it ls b lt mn lw mo lz mu md mv mh mw ml mx my mz na bi translated">加载DLIS文件的基础</li><li id="2e19" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">探索DLIS文件中的内容和参数</li><li id="0696" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">显示经处理的声波波形数据</li></ul><p id="c88c" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">我们将不讨论声波波形处理。只显示以前处理过的数据。</p><p id="cbf3" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这篇文章的灵感来自厄伦德·m·维根(<a class="ae mm" href="https://erlend-viggen.no/dlis-files/" rel="noopener ugc nofollow" target="_blank">https://erlend-viggen.no/dlis-files/</a>)的作品，他创作了一个优秀的Jupyter笔记本，里面有更多关于DLIS文件的细节。</p><h2 id="df28" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">DLIS档案</h2><p id="865d" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">数字测井交换标准(DLIS)文件是结构化的二进制文件，包含油井信息和测井数据的数据表。该文件格式由Schlumberger在20世纪80年代后期开发，随后由美国石油协会在1991年发布，以创建标准化的测井数据格式。标准格式的全部细节可在此处找到<a class="ae mm" href="http://w3.energistics.org/rp66/v1/Toc/main.html" rel="noopener ugc nofollow" target="_blank">。</a>由于DLIS文件格式是近30年前开发的，因此使用起来有时会很困难和尴尬，不同的软件包和供应商可以通过添加新的结构和对象类型来创建自己的DLIS风格。</p><p id="6656" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">DLIS文件包含大量与油井和数据相关的元数据。这些部分不包含井数据，这些数据存储在帧中，其中可能有许多代表不同的测井通道/运行或处理阶段(例如原始或解释)。框架是包含测井数据的表格对象，其中每一列代表一条测井曲线，数据按时间或深度进行索引。帧内的每条测井曲线被称为一个通道。通道可以是一维或多维的</p><h2 id="4e6d" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">德利西奥</h2><p id="e53e" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">dlsio是一个python库，由Equinor ASA开发，用于读取DLIS文件和日志信息标准79 (LIS79)文件。图书馆的细节可以在这里找到。</p><h2 id="a3c9" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">数据</h2><p id="48b8" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">本文中使用的数据来源于<a class="ae mm" href="https://www.nlog.nl/en/welcome-nlog" rel="noopener ugc nofollow" target="_blank"> NLOG:荷兰石油和天然气门户</a>。</p><p id="4153" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated"><strong class="ls iu"> <em class="ns">隐私声明:</em></strong><em class="ns">【DLIS】文件可以包含能够识别参与登录操作的个人的信息。为了保护他们的身份不在未经他们明确同意的情况下出现在搜索引擎结果中，本文中隐藏了这些字段。</em></p><p id="4eb5" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这篇文章是我的Python &amp;岩石物理学系列的一部分。完整系列的详情可在<a class="ae mm" href="http://andymcdonald.scot/python-and-petrophysics" rel="noopener ugc nofollow" target="_blank">这里</a>找到。您也可以在我的GitHub存储库中找到我的Jupyter笔记本和数据集，链接如下</p><div class="nt nu gp gr nv nw"><a href="https://github.com/andymcdgeo/Petrophysics-Python-Series" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd iu gy z fp ob fr fs oc fu fw is bi translated">andymcdgeo/岩石物理学-Python-系列</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">本系列Jupyter笔记本将带您了解使用Python和岩石物理数据的各个方面。一个…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok ks nw"/></div></div></a></div><p id="2a64" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">要阅读这篇文章，可以在上面的链接中找到Jupyter笔记本，这篇文章的数据文件可以在Python &amp; Petrophysics库的<a class="ae mm" href="https://github.com/andymcdgeo/Petrophysics-Python-Series/tree/master/Data" rel="noopener ugc nofollow" target="_blank"> Data子文件夹</a>中找到。</p><h1 id="afb8" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">库导入</h1><p id="728a" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">任何项目的第一步都是加载我们想要使用的库。对于这个笔记本，我们将使用<a class="ae mm" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank"> NumPy </a>处理数组，<a class="ae mm" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> pandas </a>存储数据，以及<a class="ae mm" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> matplotlib </a>显示数据。为了加载数据，我们将使用dlisio 库。</p><p id="c349" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">此外，由于我们将使用数据帧来查看参数，这些参数可能很多，因此我们需要更改调用该数据帧时将显示的最大行数。这是通过<code class="fe ol om on oo b">pd.set_option('display.max_rows', 500)</code>实现的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><h1 id="db4d" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">加载DLIS文件</h1><p id="0ef9" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">因为我们正在处理一个DLIS文件，所以我们可以使用下面的代码来加载这个文件。一个物理DLIS文件可以包含多个逻辑文件，因此使用这个语法允许第一个文件输出到<code class="fe ol om on oo b">f</code>，任何后续的逻辑文件被放入<code class="fe ol om on oo b">tail</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="a02d" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">我们可以通过呼唤它们的名字来看到每一个的内容。如果我们调用<code class="fe ol om on oo b">f</code>，我们可以看到它返回一个<code class="fe ol om on oo b">LogicalFile(00001_AC_WORK</code>，如果我们调用<code class="fe ol om on oo b">tail</code>，我们得到一个空白列表，这让我们知道在DLIS中没有其他逻辑文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="9c2c" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">它返回:</p><pre class="kj kk kl km gt or oo os ot aw ou bi"><span id="39bd" class="ng kz it oo b gy ov ow l ox oy">LogicalFile(00001_AC_WORK)<br/>[]</span></pre><p id="a65f" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">要查看文件的高级内容，我们可以使用<code class="fe ol om on oo b">.describe()</code>方法。这将返回有关逻辑文件中的帧数、通道数和对象数的信息。当我们将其应用于<code class="fe ol om on oo b">f</code>时，我们可以看到我们有一个包含4帧和484个通道(测井曲线)的文件，此外还有一些已知和未知的对象。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="aaa3" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">它返回:</p><pre class="kj kk kl km gt or oo os ot aw ou bi"><span id="940c" class="ng kz it oo b gy ov ow l ox oy">------------<br/>Logical File<br/>------------<br/>Description : LogicalFile(FMS_DSI_138PUP)<br/>Frames      : 4<br/>Channels    : 484<br/><br/>Known objects<br/>--<br/>FILE-HEADER             : 1<br/>ORIGIN                  : 1<br/>AXIS                    : 50<br/>EQUIPMENT               : 27<br/>TOOL                    : 5<br/>PARAMETER               : 480<br/>CALIBRATION-MEASUREMENT : 22<br/>CALIBRATION-COEFFICIENT : 12<br/>CALIBRATION             : 341<br/>PROCESS                 : 3<br/>CHANNEL                 : 484<br/>FRAME                   : 4<br/><br/>Unknown objects<br/>--<br/>440-CHANNEL                  : 538<br/>440-PRESENTATION-DESCRIPTION : 1<br/>440-OP-CHANNEL               : 573</span></pre><h1 id="dcc6" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">查看文件的元数据</h1><h2 id="33fe" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">数据来源</h2><p id="a2d8" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们要看的第一组元数据是原点。这提供了关于文件中数据源的信息。有时，数据可能来自多个来源，因此我们需要通过将来源分解为两个变量来说明这一点。我们总是可以通过打印列表的长度来检查是否有其他来源信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="883b" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">当我们查看origin_tail的长度时，我们可以看到它的长度为2。对于本文，我们将重点关注<code class="fe ol om on oo b">origin</code>。我们可以通过调用<code class="fe ol om on oo b">describe()</code>来查看它的细节。这提供了关于字段、井和其他文件信息的细节。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="8dea" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">它返回:</p><pre class="kj kk kl km gt or oo os ot aw ou bi"><span id="d7bf" class="ng kz it oo b gy ov ow l ox oy">------<br/>Origin<br/>------<br/>name   : DLIS_DEFINING_ORIGIN<br/>origin : 41<br/>copy   : 0<br/><br/>Logical file ID          : FMS_DSI_138PUP<br/>File set name and number : WINTERSHALL/L5-9 / 41<br/>File number and type     : 170 / PLAYBACK<br/><br/>Field                   : L5<br/>Well (id/name)          :  / L5-9<br/>Produced by (code/name) : 440 / Schlumberger<br/>Produced for            : Wintershall Noordzee B.V.<br/>Run number              : -1<br/>Descent number          : -1<br/>Created                 : 2002-02-17 18:18:52<br/><br/>Created by              : OP, (version: 9C2-303)<br/>Other programs/services : MESTB: Micro Electrical Scanner - B (Slim)  SGTL: Scintillation Gamma-Ray - L DTAA: Downhole Toolbus Adapter - A          DSSTB: Dipole Shear Imager - B DTCA: DTS Telemetry CartridgeACTS: Auxiliary Compression Tension Sub - B DIP: Dip Computation DIR: Directional Survey Computation HOLEV: Integrated Hole/Cement Volume</span></pre><h2 id="864a" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">框架</h2><p id="fba2" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">DLIS文件中的帧可以代表不同的测井通道或不同阶段的数据，如原始测井测量到岩石物理解释或处理后的数据。每一帧都有许多属性。下面的示例代码以易读的格式打印出属性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="8905" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这将返回以下摘要。这表明该文件中存在两个帧。第一帧包含钻头尺寸(BIT)、井径(CAL)、伽马射线(GR)和张力(TEN)的基本测井曲线。第二帧包含后处理的声波波形数据。</p><pre class="kj kk kl km gt or oo os ot aw ou bi"><span id="4c4f" class="ng kz it oo b gy ov ow l ox oy">Frame Name: 		 60B<br/>Index Type: 		 BOREHOLE-DEPTH<br/>Depth Interval: 	 0 - 0 0.1 in<br/>Depth Spacing: 		 -60 0.1 in<br/>Direction: 		 DECREASING<br/>Num of Channels: 	 77<br/>Channel Names: 		 [Channel(TDEP), Channel(BS), Channel(CS), Channel(TENS), Channel(ETIM), Channel(DEVI), Channel(P1AZ_MEST), Channel(ANOR), Channel(FINC), Channel(HAZI), Channel(P1AZ), Channel(RB), Channel(SDEV), Channel(GAT), Channel(GMT), Channel(ECGR), Channel(ITT), Channel(SPHI), Channel(DCI2), Channel(DCI4), Channel(SOBS), Channel(DTCO), Channel(DTSM), Channel(PR), Channel(VPVS), Channel(CHR2), Channel(DT2R), Channel(DTRP), Channel(CHRP), Channel(DTRS), Channel(CHRS), Channel(DTTP), Channel(CHTP), Channel(DTTS), Channel(CHTS), Channel(DT2), Channel(DT4P), Channel(DT4S), Channel(SPCF), Channel(DPTR), Channel(DPAZ), Channel(QUAF), Channel(DDIP), Channel(DDA), Channel(FCD), Channel(HDAR), Channel(RGR), Channel(TIME), Channel(CVEL), Channel(MSW1), Channel(MSW2), Channel(FNOR), Channel(SAS2), Channel(SAS4), Channel(PWF2), Channel(PWN2), Channel(PWF4), Channel(PWN4), Channel(SVEL), Channel(SSVE), Channel(SPR2), Channel(SPR4), Channel(SPT4), Channel(DF), Channel(CDF), Channel(CLOS), Channel(ED), Channel(ND), Channel(TVDE), Channel(VSEC), Channel(CWEL), Channel(AREA), Channel(AFCD), Channel(ABS), Channel(IHV), Channel(ICV), Channel(GR)]<br/><br/><br/><br/>Frame Name: 		 10B<br/>Index Type: 		 BOREHOLE-DEPTH<br/>Depth Interval: 	 0 - 0 0.1 in<br/>Depth Spacing: 		 -10 0.1 in<br/>Direction: 		 DECREASING<br/>Num of Channels: 	 4<br/>Channel Names: 		 [Channel(TDEP), Channel(IDWD), Channel(TIME), Channel(SCD)]<br/><br/><br/><br/>Frame Name: 		 1B<br/>Index Type: 		 BOREHOLE-DEPTH<br/>Depth Interval: 	 0 - 0 0.1 in<br/>Depth Spacing: 		 -1 0.1 in<br/>Direction: 		 DECREASING<br/>Num of Channels: 	 84<br/>Channel Names: 		 [Channel(TDEP), Channel(TIME), Channel(EV), Channel(BA28), Channel(BA17), Channel(BB17), Channel(BC13), Channel(BD13), Channel(BB28), Channel(BA13), Channel(BB13), Channel(BC17), Channel(BD17), Channel(BA22), Channel(BA23), Channel(BA24), Channel(BC28), Channel(BA25), Channel(BA26), Channel(BA27), Channel(BA11), Channel(BA12), Channel(BA14), Channel(BA15), Channel(BA16), Channel(BA18), Channel(BA21), Channel(BC11), Channel(BC12), Channel(BC14), Channel(BC15), Channel(BC16), Channel(BC18), Channel(BC21), Channel(BC22), Channel(BC23), Channel(BC24), Channel(BC25), Channel(BC26), Channel(BC27), Channel(BB22), Channel(BB23), Channel(BB24), Channel(BD28), Channel(BB25), Channel(BB26), Channel(BB27), Channel(BB11), Channel(BB12), Channel(BB14), Channel(BB15), Channel(BB16), Channel(BB18), Channel(BB21), Channel(BD11), Channel(BD12), Channel(BD14), Channel(BD15), Channel(BD16), Channel(BD18), Channel(BD21), Channel(BD22), Channel(BD23), Channel(BD24), Channel(BD25), Channel(BD26), Channel(BD27), Channel(SB1), Channel(DB1), Channel(DB2), Channel(DB3A), Channel(DB4A), Channel(SB2), Channel(DB1A), Channel(DB2A), Channel(DB3), Channel(DB4), Channel(FCAX), Channel(FCAY), Channel(FCAZ), Channel(FTIM), Channel(AZSNG), Channel(AZS1G), Channel(AZS2G)]<br/><br/><br/><br/>Frame Name: 		 15B<br/>Index Type: 		 BOREHOLE-DEPTH<br/>Depth Interval: 	 0 - 0 0.1 in<br/>Depth Spacing: 		 -15 0.1 in<br/>Direction: 		 DECREASING<br/>Num of Channels: 	 12<br/>Channel Names: 		 [Channel(TDEP), Channel(TIME), Channel(C1), Channel(C2), Channel(U-MBAV), Channel(AX), Channel(AY), Channel(AZ), Channel(EI), Channel(FX), Channel(FY), Channel(FZ)]</span></pre><h2 id="19bd" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">DLIS文件中的参数</h2><p id="e2cc" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">如前所述，我们有许多与DLIS文件相关的对象。为了使它们更容易阅读，我们可以创建一个简短的函数来创建包含参数的pandas数据帧。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="8f5f" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">通过调用<code class="fe ol om on oo b">f.parameters</code>可以访问记录参数。要访问参数，我们可以使用属性<code class="fe ol om on oo b">name</code>、<code class="fe ol om on oo b">long_name</code>和<code class="fe ol om on oo b">values</code>，并将它们传递给汇总函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="3621" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这将返回每个参数的长表。下面例子是表格的一小部分。从中可以看到井底测井间隔、井眼矿化度、井底温度等参数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/9a3baa9870089bbedb07086773c37f53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oYRIU4OK4Z0rn7JgUtMUmg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">存储在DLIS文件中的关键油井参数。图片作者。</p></figure><h2 id="6b91" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">DLIS文件中的频道</h2><p id="f16e" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">帧内的通道是单独的曲线或阵列。为了查看这些的快速总结，我们可以向<code class="fe ol om on oo b">summary_dataframe()</code>方法传递一些属性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="3c11" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这将返回另一个长表，其中包含文件中包含的所有曲线，以及数据所属的帧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/9539c487137524bc7db12283a6485259.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yXu8AZ4KZtZpCn0bKWbtFw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">DLIS文件中的通道代表单独的测井曲线。图片由作者提供。</p></figure><h2 id="9d42" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">DLIS文件中的工具</h2><p id="9400" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">DLIS文件中的工具对象包含与用于获取数据的工具相关的信息。通过调用<code class="fe ol om on oo b">summary_dataframe</code>方法，我们可以获得可用工具的摘要。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="5c9e" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这将返回一个包含5个工具的简短表格:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/c3cdaaee721982c055519f4f25bbb04b.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*Z_P-qYudifdGS3Ufu8nEUA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">存储在DLIS文件中的工具列表。图片由作者提供。</p></figure><p id="4a6f" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">当我们要绘制声波波形数据时，我们可以看看DSSTB——偶极横波成像器工具的参数。首先，我们需要从dlis中获取对象，然后将其传递给<code class="fe ol om on oo b">summary_dataframe</code>函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="67a0" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">从返回的表中，我们可以查看与工具和数据处理相关的每个参数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/2624efbee6dba9b6c68fd5ac1ef8f242.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*9JRTYlHZI7sxpd_Qu3gLAQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">DSST刀具的刀具加工参数。图片由作者提供。</p></figure><h1 id="5358" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">绘图数据</h1><p id="e809" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">既然已经研究了一些元数据，我们现在可以尝试访问存储在文件中的数据。</p><p id="0824" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">通过调用文件的<code class="fe ol om on oo b">.object()</code>可以访问帧和数据。首先，我们可以将帧分配给变量，这将使访问其中的数据变得更容易，特别是如果帧包含同名的通道/曲线。<code class="fe ol om on oo b">.object()</code>方法需要被访问对象的类型，即“帧”或“通道”及其名称。在这种情况下，我们可以参考包含通道和帧名的上一步。我们可以看到，基本测井曲线在一个框架中，而声学数据在另一个框架中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="973f" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">我们也可以直接访问特定曲线的通道。但是，当处理包含同名通道/曲线的帧时，这可能会导致混淆。</p><p id="9354" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">以下示例显示了如何调用通道/曲线的关键属性。详情可在此处找到<a class="ae mm" href="https://dlisio.readthedocs.io/en/stable/dlis/api.html#dlisio.dlis.Channel" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="154d" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">它返回:</p><pre class="kj kk kl km gt or oo os ot aw ou bi"><span id="2307" class="ng kz it oo b gy ov ow l ox oy">Name: 		DTCO<br/>Long Name: 	Delta-T Compressional<br/>Units: 		us/ft<br/>Dimension: 	[1]</span></pre><h2 id="a8b7" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">将通道分配给变量</h2><p id="4b30" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">现在我们知道了如何访问DLIS文件的框架和通道，我们现在可以为我们要绘制的曲线分配变量名。在本文中，我们将策划:</p><ul class=""><li id="fcd6" class="ms mt it ls b lt mn lw mo lz mu md mv mh mw ml mx my mz na bi translated">DTCO:德尔塔-T压缩</li><li id="702a" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">DTSM:δ-T切变</li><li id="a047" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">SPR4: STC慢度投影，接收器阵列-单极P&amp;S</li><li id="b5ae" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">PWF4: DSST打包波形数据—单极P&amp;S</li></ul><p id="e6b9" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">我们还需要从帧中指定一条深度曲线(TDEP)。回头看框架的信息部分，<code class="fe ol om on oo b">Depth Interval</code>是0.1英寸。这需要通过乘以0.00254来转换为米。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="007e" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">当深度最小值和最大值打印出来时，我们得到以下数据范围:</p><pre class="kj kk kl km gt or oo os ot aw ou bi"><span id="e933" class="ng kz it oo b gy ov ow l ox oy">4574.4384765625 - 4819.04052734375</span></pre><p id="d238" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">为了对数据进行初步检查，我们可以使用matplotlib创建DTCO和DTSM相对于深度的快速测井图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/90acc27ab01fd5a1b396d1e565095507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EM6TxG-lIoC8g5msP2pysA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">简单绘制DTCO和DTSM曲线，以检查其内容。图片作者。</p></figure><h2 id="d18a" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">绘制处理后的外观图</h2><p id="c823" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们将开始设置一个有两个轴的副情节，并使用<code class="fe ol om on oo b">subplot2grid</code>。第一个轴将包含外观图，第二个轴将与第一个轴成对出现。这允许数据绘制在同一y轴上。</p><p id="6acb" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">为了绘制外观数据，我们需要使用<code class="fe ol om on oo b">imshow</code>。当我们这样做时，我们需要在深度范围(使用<code class="fe ol om on oo b">depth.min() and depth.max()</code>)和数据范围(40 - 240 us/ft)方面传递数组的范围。</p><p id="0a8f" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">除此之外，还可以绘制DTCO和DTSM曲线。这让我们可以看到这些曲线是如何从外观图中挑选出来的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/614265e7c50b9beafbe06ea1f3cfd480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bx4fdkm57lxBCMGRzbeKlQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用matplotlib绘制声波波形相似图。声波压缩(声波)和剪切曲线绘制在外观图的顶部。图片由作者提供。</p></figure><h2 id="ddec" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">绘制处理后的波形</h2><p id="780c" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们可以修改该图，以便为与外观图相关联的声波波形数据添加子图。如果我们看看<code class="fe ol om on oo b">wf_mono</code>的形状，我们可以看到它返回<code class="fe ol om on oo b">(1606, 8, 512)</code>。这表明数组是多维的。中间的数字表示我们有8个接收器的数据。</p><p id="34e2" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">要访问第一个接收器，通常是距离发射器阵列最近的接收器，我们可以创建一个数据切片，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="d0cf" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这段代码返回数组的最小值和最大值，可以用来作为缩放颜色的指导。</p><p id="432c" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">从外观图部分获取情节代码，我们可以通过添加另一个子情节来增强它。在这个支线剧情中，我们将使用另一个<code class="fe ol om on oo b">imshow()</code>剧情，并传入相关参数。<code class="fe ol om on oo b">vmin</code>和<code class="fe ol om on oo b">vmax</code>参数可用于调整图像以显示或减少波形中的细节。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="7aa8" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这会生成以下图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/cbea3ba4ff7cae104919ba2340ec9f77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t1qhU4x3-OWCYIIPE24DhQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Python的matplotlib库绘制的声单极外观图(左)和接收器1的波形(右)。图片由作者提供。</p></figure><h2 id="0444" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">添加交互式控件</h2><p id="c81f" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们可以添加一些交互式小部件来帮助完成这一任务，而不是每次需要改变深度和/或DT绘图比例时都重新运行单元。这可以通过进口<code class="fe ol om on oo b">ipywidgets</code>和<code class="fe ol om on oo b">IPython.display</code>来实现。</p><p id="f520" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">情节代码可以放在函数中，并用小部件代码装饰。在下面的例子中，我们传入了MinDepth、MaxDepth、MinDT和MaxDT。这四个都可以在代码中调用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/ddb3a74344363a878997b984d3989da6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UtDKgc0WjH30SNzhwXMBNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">交互式绘图允许您更改关键参数，而无需重新运行Jupyter笔记本中的单元。图片由作者提供。</p></figure><h1 id="aa57" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">摘要</h1><p id="8e15" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在本文中，我们介绍了如何使用dlisio Python库加载DLIS文件。加载DLIS文件后，可以查看和提取不同的参数表和测井曲线。我们还看到了如何使用matplotlib获取经过处理的声波波形数据并绘制出来。在Python中处理DLIS文件并不令人畏惧。一旦理解了dlisio的基本结构和命令，事情就变得简单多了。</p><p id="5cc2" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated"><strong class="ls iu"> <em class="ns">感谢阅读！</em> </strong></p><p id="62b2" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">如果您觉得这篇文章很有用，请随时查看我的其他文章，这些文章介绍了Python和测井数据的各个方面。你也可以在GitHub的<a class="ae mm" href="https://github.com/andymcdgeo" rel="noopener ugc nofollow" target="_blank"><em class="ns"/></a><em class="ns">找到我和其他人在本文中使用的代码。</em></p><p id="c3fb" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">如果你想联系我，你可以在<a class="ae mm" href="https://www.linkedin.com/in/andymcdonaldgeo/" rel="noopener ugc nofollow" target="_blank"><em class="ns">LinkedIn</em></a><em class="ns">或者我的</em> <a class="ae mm" href="http://andymcdonald.scot/" rel="noopener ugc nofollow" target="_blank"> <em class="ns">网站</em> </a> <em class="ns">找到我。</em></p><p id="acb0" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated"><em class="ns">有兴趣了解更多关于python和测井数据或岩石物理学的知识吗？跟我上</em> <a class="ae mm" href="https://medium.com/@andymcdonaldgeo" rel="noopener"> <em class="ns">中</em> </a> <em class="ns">。</em></p><h1 id="e2a1" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">参考</h1><p id="ac93" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><a class="ae mm" href="https://erlend-viggen.no/dlis-files/" rel="noopener ugc nofollow" target="_blank"> Viggen，E.M .</a><br/><a class="ae mm" href="https://www.researchgate.net/publication/340645995_Getting_started_with_acoustic_well_log_data_using_the_dlisio_Python_library_on_the_Volve_Data_Village_dataset" rel="noopener ugc nofollow" target="_blank">从DLIS文件中提取数据Viggen，E . M .，Harstad，E .和Kvalsvik J. (2020)，在Volve数据村数据集上使用dlisio Python库开始使用声波测井数据</a> <a class="ae mm" href="https://www.nlog.nl/en/welcome-nlog" rel="noopener ugc nofollow" target="_blank"> NLOG:荷兰石油和天然气门户网站</a></p></div></div>    
</body>
</html>