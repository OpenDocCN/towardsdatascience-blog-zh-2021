<html>
<head>
<title>Rfviz: An Interactive Visualization Package for Interpreting Random Forests in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Rfviz:一个交互式可视化包，用于解释R</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/rfviz-an-interactive-visualization-package-for-random-forests-in-r-8fb71709c8bf?source=collection_archive---------11-----------------------#2021-09-03">https://towardsdatascience.com/rfviz-an-interactive-visualization-package-for-random-forests-in-r-8fb71709c8bf?source=collection_archive---------11-----------------------#2021-09-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="9103" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="83e0" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">从随机森林算法的最初创建者和他们在Java中的最初实现开始，他们的工作被翻译成R包Rfviz。</h2></div></div><div class="ab cl ko kp hu kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ij ik il im in"><h1 id="4683" class="kv kw iq bd kx ky kz la lb lc ld le lf kf lg kg lh ki li kj lj kl lk km ll lm bi translated">背景故事</h1><p id="5548" class="pw-post-body-paragraph ln lo iq lp b lq lr ka ls lt lu kd lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">首先，我想说的是，我不应该因为这个计划而得到任何荣誉。这应归功于Leo Breiman博士和Adele Cutler博士，他们是这一广受欢迎的成功算法的最初创造者。我只是一个幸运的学生，在我的研究生项目中与卡特勒博士一起工作。</p><p id="58b2" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">Breiman博士和Cutler博士最初用Java创建了允许你可视化和解释随机森林的图。你可以在这里看看原著的剧情和风格:</p><div class="mo mp gp gr mq mr"><a href="https://www.stat.berkeley.edu/~breiman/RandomForests/cc_graphics.htm" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ja gy z fp mw fr fs mx fu fw iz bi translated">随机森林.分类手册</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">RAFT(随机森林工具)是一个新的基于java的可视化工具，由Adele Cutler和Leo Breiman为…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">www.stat.berkeley.edu</p></div></div><div class="na l"><div class="nb l nc nd ne na nf ng mr"/></div></div></a></div><p id="633e" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我有幸从2017年开始去了犹他州立大学，卡特勒博士是那里统计系的教授。我想做机器学习方面的研究生工作，并请她做我的研究生导师。她同意了，并向我展示了潜在的项目。在这个时候，我不知道她帮助创建了随机森林算法。事实上，直到我的项目进行到一半的时候，我才从另一个教员那里得知。当我走近她，问她为什么不告诉我时，她回答说，“哦，我真的不喜欢自吹自擂。”我希望这能告诉你她是多么脚踏实地，是一个怎样的人。</p><p id="9261" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">总之，她向我展示的一个潜在项目是将一些用于交互式可视化和随机森林解释的Java plots翻译成R。我选择了这个项目，并在2018年完成了R的翻译，并将包作为Rfviz发布到CRAN。</p><p id="aea4" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">最近，我一直在工作中使用它，在我看来，能够获得比通过Shapley方法或整体变量重要性图等方法更深入的见解。我认为其他人应该更多地了解我从布雷曼博士和卡特勒博士的工作中获得的益处。这是这篇文章的灵感来源。</p></div><div class="ab cl ko kp hu kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ij ik il im in"><h1 id="e549" class="kv kw iq bd kx ky kz la lb lc ld le lf kf lg kg lh ki li kj lj kl lk km ll lm bi translated">理论背景</h1><h2 id="79dd" class="nh kw iq bd kx ni nj dn lb nk nl dp lf lw nm nn lh ma no np lj me nq nr ll iw bi translated">随机森林</h2><p id="739f" class="pw-post-body-paragraph ln lo iq lp b lq lr ka ls lt lu kd lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">随机森林(Breiman (2001))使许多树木(通常500或更多)适合回归或分类数据。每棵树都适合数据的引导样本，因此一些观察值不包括在每棵树的拟合中(这些被称为树的<em class="ns">出袋</em>观察值)。在每棵树的每个节点上独立地随机选择相对较少数量的预测变量(称为<em class="ns"> mtry </em>),这些变量用于寻找最佳分割。树长得很深，没有修剪。为了预测一个新的观察值，观察值被传递到所有的树上，预测值被平均(回归)或投票(分类)。</p><h2 id="2be4" class="nh kw iq bd kx ni nj dn lb nk nl dp lf lw nm nn lh ma no np lj me nq nr ll iw bi translated">可变重要性</h2><p id="905d" class="pw-post-body-paragraph ln lo iq lp b lq lr ka ls lt lu kd lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">对于每个变量，为数据集中的每个观察值获得局部重要性分数。为了获得观察值<em class="ns"> i </em>和变量<em class="ns"> j </em>的局部重要性分数，对观察值<em class="ns"> i </em>超出范围的每棵树随机置换变量<em class="ns"> j </em>，并将变量<em class="ns"> j </em>置换数据的误差与实际误差进行比较。观察值<em class="ns"> i </em>超出范围的所有树的平均误差差是其局部重要性分数。</p><p id="bf58" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">变量<em class="ns"> j </em>的(总体)变量重要性分数是所有观测值的局部重要性分数的平均值。</p><h2 id="5724" class="nh kw iq bd kx ni nj dn lb nk nl dp lf lw nm nn lh ma no np lj me nq nr ll iw bi translated">邻近</h2><p id="ee8b" class="pw-post-body-paragraph ln lo iq lp b lq lr ka ls lt lu kd lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">邻近度是当两个观测值都超出范围时，两个观测值在同一终端节点结束的时间比例。获得所有观察对组合的接近度分数，给出对称的接近度矩阵。</p><p id="556e" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">注意:在处理近似时，建议使用9或10倍的树，因为这是两个观测值都超出范围的概率。这是为了确保每个观察结果能够与后续观察结果进行比较。</p><h2 id="be7d" class="nh kw iq bd kx ni nj dn lb nk nl dp lf lw nm nn lh ma no np lj me nq nr ll iw bi translated">平行坐标图</h2><p id="4577" class="pw-post-body-paragraph ln lo iq lp b lq lr ka ls lt lu kd lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">平行坐标图用于绘制一些变量的观察值。变量可以是离散的或连续的，甚至是分类的。每个变量都有自己的轴，这些轴用等间距的平行垂直线表示。通常，轴从观察数据值的最小值延伸到最大值，尽管其他定义也是可能的。通过使用分段线性函数连接每个变量的观察值，绘制出给定的观察值。</p><p id="ad49" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">静态平行坐标图不太适合发现变量之间的关系，因为显示很大程度上取决于图中变量的顺序。此外，对于大型数据集来说，它们承受着过度绘制的痛苦。然而，通过<em class="ns">刷</em>图(用对比色突出显示观察值的子集)平行坐标图可用于调查不寻常的观察值组，并将观察值组与变量的高/低值相关联。</p></div><div class="ab cl ko kp hu kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ij ik il im in"><h1 id="79fa" class="kv kw iq bd kx ky kz la lb lc ld le lf kf lg kg lh ki li kj lj kl lk km ll lm bi translated">Rfviz制作的图</h1><h2 id="1ab8" class="nh kw iq bd kx ni nj dn lb nk nl dp lf lw nm nn lh ma no np lj me nq nr ll iw bi translated">输入数据的平行坐标图。</h2><p id="06b9" class="pw-post-body-paragraph ln lo iq lp b lq lr ka ls lt lu kd lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">预测变量绘制在平行坐标图中。观察值根据其响应变量的值进行着色。刷这个图允许研究者交互地检查输入数据，寻找不寻常的观察，异常值，或预测和反应之间的任何明显的模式。该图通常与局部重要性图结合使用，这使得用户可以更专注于对给定观察组重要的预测值。</p><h2 id="3c70" class="nh kw iq bd kx ni nj dn lb nk nl dp lf lw nm nn lh ma no np lj me nq nr ll iw bi translated">局部重要性分数的平行坐标图。</h2><p id="3d41" class="pw-post-body-paragraph ln lo iq lp b lq lr ka ls lt lu kd lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">每个观察值的局部重要性分数绘制在平行坐标图中。具有高局部重要性的刷牙观察可允许用户查看原始输入平行坐标图上的相应变量，并观察该变量是否具有高值或低值，从而允许诸如“对于该组，最重要的变量是变量<em class="ns">j’</em>”的解释。</p><h2 id="23d3" class="nh kw iq bd kx ni nj dn lb nk nl dp lf lw nm nn lh ma no np lj me nq nr ll iw bi translated">邻近度的旋转散点图。</h2><p id="86f2" class="pw-post-body-paragraph ln lo iq lp b lq lr ka ls lt lu kd lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">该图允许用户选择看起来相似的观察值组，并刷过它们，相应的观察值显示在两个平行的坐标图中。例如，在分类中，如果用户刷一组来自类1的观察值，那么他们可以检查局部重要性平行坐标图。对于正确分类该组很重要的变量将被突出显示，然后可以在原始输入平行坐标图中研究任何具有高重要性的变量，以查看重要变量的高值或低值是否与该组相关联。</p><h1 id="c2df" class="kv kw iq bd kx ky nt la lb lc nu le lf kf nv kg lh ki nw kj lj kl nx km ll lm bi translated">使用案例:</h1><p id="2add" class="pw-post-body-paragraph ln lo iq lp b lq lr ka ls lt lu kd lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">这里使用的数据是来自图书馆<a class="ae ny" href="https://rdrr.io/cran/OneR/man/breastcancer.html" rel="noopener ugc nofollow" target="_blank"> OneR </a>的乳腺癌数据集。它最初来自UCI机器学习资源库<a class="ae ny" href="https://archive.ics.uci.edu/ml/datasets/Breast+Cancer+Wisconsin+(Original)" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="830e" class="nh kw iq oe b gy oi oj l ok ol">library(OneR)<br/>library(rfviz)<br/>library(tidyverse)<br/>data(breastcancer)<br/>bc[is.na(bc)] &lt;- -3<br/>data_x &lt;- bc[,-10]<br/>data_y &lt;- bc$Class<br/>head(breastcancer)</span></pre><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi om"><img src="../Images/08455a34ea3bc4793e46bbb104742655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_KdUrVJCXk0-0ISta2kIg.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图1</p></figure><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="028e" class="nh kw iq oe b gy oi oj l ok ol">#The prep function. This runs default randomForest() and prepares it for the plotting function.</span><span id="7eed" class="nh kw iq oe b gy ox oj l ok ol">rfprep &lt;- rf_prep(data_x, data_y)</span></pre><p id="37e4" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我们的用例:假设我们查看随机森林中的可变重要性图。</p><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="7a51" class="nh kw iq oe b gy oi oj l ok ol">varImpPlot(rfprep$rf)</span></pre><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi oy"><img src="../Images/efdff6c847ed0b6a75335d98cfd2bcac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GUKQinGAsWClbHziLlUYWA.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图2</p></figure><p id="d91f" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">查看一些最重要的变量，我们可以看到，根据基尼系数的平均下降,“细胞大小的均匀性”和“细胞形状的均匀性”是两个最重要的预测指标。但是，这些价值观中哪些是最重要的，对哪个阶层最重要？让我们打开可视化工具，深入研究其中一个。</p><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="9e0c" class="nh kw iq oe b gy oi oj l ok ol">#Pull up the visualization tool</span><span id="462b" class="nh kw iq oe b gy ox oj l ok ol">bcrf &lt;- rf_viz(rfprep, input=TRUE, imp=TRUE, cmd=TRUE)</span></pre><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi oz"><img src="../Images/67eb732e05ff99a73381d63bdf06422e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g-ZeNAwV18diWEnYU-LMEQ.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图三</p></figure><p id="aa4f" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我们可以看到这里有三个情节，还有一个“loon inspector”与情节进行交互。对于每列数据，每个平行坐标图都有单独的刻度，这就是为什么没有y轴刻度或标签的原因。刻度与该列的最大值和最小值相关。邻近图是一个XYZ散点图。主要是在空间上显示不同的类在树中是如何分组的。</p><p id="f02e" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">首先，让我们看看什么颜色与每个类相关。在右侧的“loon inspector”中的“select”部分，单击“by color”子部分下的一种颜色。我们先点蓝色。在屏幕截图5中，您可以看到结果。</p><figure class="nz oa ob oc gt on gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/d07967c2bf6a80f1ce3aa91669e7c8ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*tcM-2BEmu4gnOddO5KWN5g.png"/></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图4</p></figure><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi pb"><img src="../Images/d987b808a92831ad32137cfba6dcd88f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YfWmnDmUlCFU2baqS9F0ow.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图5</p></figure><p id="3bc9" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我们可以看到，所有与蓝色类相关的数据现在都突出显示了。这与哪一类相关？回到休息状态，运行:</p><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="0b4b" class="nh kw iq oe b gy oi oj l ok ol">bc[bcrf$imp['selected'],'Class']</span></pre><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi pc"><img src="../Images/a132f9e448920f86163e367303ebc984.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*szzCwj66AZm2St42gjNGsA.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图6</p></figure><p id="97fc" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我知道这是最基本的，但这是我目前为止能快速简单地识别类的所有方法。我还没想好怎么在检查员身上标注颜色。现在我们知道蓝色是恶性或1级，灰色是良性或0级。现在单击可视化工具上的任意位置，将会取消选择。</p><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi oz"><img src="../Images/67eb732e05ff99a73381d63bdf06422e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g-ZeNAwV18diWEnYU-LMEQ.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图7</p></figure><p id="06c2" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我们现在知道，蓝色是1类或患有恶性癌症的人。现在，让我们关注“细胞形状的一致性”列，这是基尼系数总体重要性图中平均下降的第二个最重要的变量。看一下局部重要性分数图，以及截图7中的“细胞形状的一致性”栏。从视觉上看，1级/恶性肿瘤的局部重要性分值似乎倾向于高于0级/良性肿瘤。</p><p id="5137" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">现在，这里是深入解释和理解的地方。在局部重要性分数图上，用鼠标单击并向上拖动“细胞形状一致性”栏，靠近您认为两类或两种颜色的线会发生分离的位置。以下是我在截图8中选择的内容。</p><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi pd"><img src="../Images/044a52894b9e1ccb4049a167703b81f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*onr0t1Re-w02YX09emcPkA.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图8</p></figure><p id="ef71" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">在R中，运行:</p><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="d76c" class="nh kw iq oe b gy oi oj l ok ol">bc[bcrf$imp['selected'],'Uniformity of Cell Shape']<br/>c1 &lt;- bc[bcrf$imp['selected'],]<br/>summary(c1$`Uniformity of Cell Shape`)<br/>table(c1$Class)</span></pre><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi pe"><img src="../Images/5dc3724fb477a4b481ab458c9f90461c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M5VFw5fUzXaKcfLTJ21qIg.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图9</p></figure><p id="14f7" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">现在对我们没有在局部重要性分数图上的“细胞形状的一致性”列中选择的数据部分做同样的操作。以下是我在截图10中选择的内容。</p><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi oz"><img src="../Images/60e8ee13382b7e8a721f5e0d772880d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f27iw9at22DYr6UYaZ28UQ.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图10</p></figure><p id="19f2" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">再次在R中运行:</p><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="5b41" class="nh kw iq oe b gy oi oj l ok ol">bc[bcrf$imp['selected'],'Uniformity of Cell Shape']<br/>c2 &lt;- bc[bcrf$imp['selected'],]<br/>summary(c2$`Uniformity of Cell Shape`)<br/>table(c2$Class)</span></pre><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi pf"><img src="../Images/308d1cb6cf3718ef903d4c5824be4ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-GcgASxxLAKuAqjUs96x0Q.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图11</p></figure><p id="3095" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">现在让我们看看结果。在我们最初选择的患者中，198/236 (~84%)来自1级/恶性肿瘤。“细胞形状均匀度”值的第一个四分位数为4，中位数为6，第三个四分位数为9。</p><p id="ec1f" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">对于第二组，423/466 (91%)来自0级/良性。“细胞形状均匀度”值的第一个四分位数为1，中位数为1，第三个四分位数为2。</p><p id="593b" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">由此，我们可以得出结论，对于预测的第二个最重要的变量，第一个四分位数为4，中位数为6，第三个四分位数为9的较高“细胞形状均匀性”值通常对随机森林的1类/恶性分类很重要。我说“一般”是因为我们选择数据中包括了一些0级/良性的。</p><p id="7a81" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">另一方面，第一个四分位数为1、中位数为1、第三个四分位数为2的较低值“细胞形状的均匀性”通常对随机森林的0级很重要。更重要的是，我们可以查看确切的数据，并将其保存为R中的对象，以便进行更多的操作。</p><p id="38f8" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">例如，假设我们不希望其他类的任何值出现在每个数据选择的“细胞形状一致性”的汇总数据中。</p><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="8748" class="nh kw iq oe b gy oi oj l ok ol">summary(c1$`Uniformity of Cell Shape`[c1$Class!='benign'])<br/>summary(c2$`Uniformity of Cell Shape`[c2$Class!='benign'])</span></pre><figure class="nz oa ob oc gt on gh gi paragraph-image"><div role="button" tabindex="0" class="oo op di oq bf or"><div class="gh gi pg"><img src="../Images/dd24cafd04a9bd27059dc2ea8b3e54cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y7DbSr7lpxki00fBpoK4UQ.png"/></div></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">截图12</p></figure><p id="a235" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">那么Rfviz允许我们做什么呢？Rfviz允许我们对随机森林进行更深入的交互和解释。我们可以可视化数据并与之交互，<em class="ns">快速查看类别之间的差异，并查看总体重要变量对每个类别的局部重要性。</em></p><p id="dea4" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">关于如何与工具交互的更深入的教程，请看<a class="ae ny" href="https://chrisbeckett8.github.io/Rfviz.html" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="2c2b" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我希望你喜欢这篇文章，并祝你在随机森林的解释和推断中好运。</p><p id="9bc3" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">参考资料:</p><p id="cfb3" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">布雷曼，2001年。“随机森林。”<em class="ns">机器学习</em>。<a class="ae ny" href="http://www.springerlink.com/index/u0p06167n6173512.pdf" rel="noopener ugc nofollow" target="_blank">http://www.springerlink.com/index/u0p06167n6173512.pdf</a>。</p><p id="9f76" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">布雷曼，我，和一个卡特勒。2004.<em class="ns">随机森林</em>。<a class="ae ny" href="https://www.stat.berkeley.edu/~breiman/RandomForests/cc_graphics.htm" rel="noopener ugc nofollow" target="_blank">https://www . stat . Berkeley . edu/~ brei man/random forests/cc _ graphics . htm</a>。</p><p id="1a74" class="pw-post-body-paragraph ln lo iq lp b lq mj ka ls lt mk kd lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">C Beckett，<em class="ns">Rfviz:R中随机森林的交互式可视化包</em>，2018，https://chrisbeckett8.github.io/Rfviz.</p></div></div>    
</body>
</html>