<html>
<head>
<title>Complete Guide on Model Deployment with Flask and Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Flask和Heroku部署模型的完整指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/complete-guide-on-model-deployment-with-flask-and-heroku-98c87554a6b9?source=collection_archive---------11-----------------------#2021-08-08">https://towardsdatascience.com/complete-guide-on-model-deployment-with-flask-and-heroku-98c87554a6b9?source=collection_archive---------11-----------------------#2021-08-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ef18" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个完整的一步一步的方法来建立一个机器学习模型，并使它对网络上的其他人可用。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7d61016a01a7fd90a93179fefd8bea45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qOmMp1RjQf0hnqsfLRX0iQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由来自<a class="ae kv" href="https://www.pexels.com/photo/yellow-arrow-led-signage-394377/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">佩克斯</a>的<a class="ae kv" href="https://www.pexels.com/@isaquepereira?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">伊萨克·佩雷拉</a>拍摄</p></figure><p id="c0ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi ls translated"><span class="l lt lu lv bm lw lx ly lz ma di">当我部署我的第一个机器学习模型时，我</span>感到喜悦的泪水顺着脸颊流下，当我望向窗外时，我看到了远处的彩虹。我认为这是我将在这个世界上做大事的标志。</p><p id="57a2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">至少我是这么想象的。实际上，我花了两天时间处理Heroku可能抛给我的各种错误。当我最终部署好我的模型后，我立刻关上电脑，喝下我的预健身饮料，然后去了健身房。</p><p id="368b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文旨在向您展示在使用模型部署时如何正确操作，同时向您展示在此过程中需要注意的事项。最终产品可以在这里看到<a class="ae kv" href="https://my-xgboost-model.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"/>，而同一型号的更高级部署可以在这里看到<a class="ae kv" href="https://advanced-deployment.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"/>(你可能需要一些耐心来访问web应用程序，因为Heroku会在一段时间不活动后让应用程序“休眠”——应用程序会在几秒钟的延迟响应后“醒来”)。</p><p id="9c1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">文章分为三个部分:</p><ol class=""><li id="3226" class="mb mc iq ky b kz la lc ld lf md lj me ln mf lr mg mh mi mj bi translated">构建机器学习模型</li><li id="0627" class="mb mc iq ky b kz mk lc ml lf mm lj mn ln mo lr mg mh mi mj bi translated">设置Flask web应用程序</li><li id="e9a9" class="mb mc iq ky b kz mk lc ml lf mm lj mn ln mo lr mg mh mi mj bi translated">在Heroku的部署</li></ol><h1 id="6cb1" class="mp mq iq bd mr ms mt mu mv mw mx my mz jw na jx nb jz nc ka nd kc ne kd nf ng bi translated">构建机器学习模型</h1><p id="dd44" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">我们旅程的第一步是训练一个机器学习(ML)模型，但是鉴于我的主要重点是部署，我不会在文章的这一部分投入太多精力。</p><p id="1aa6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将基于自行车共享计划的数据构建一个XGBoost模型。该模型将根据三个特征预测某一天出租的自行车数量；<em class="nm">温度</em>、<em class="nm">湿度、</em>和<em class="nm">风速</em>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/cb0f6b9aa7d1831b768c04b9c5731004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pAFivxw1wHillgKoVSoDsw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="9809" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此阶段的重点是方法而不是模型性能，因此模型是XGBoost、RF、LG还是任何其他模型都不重要。</p><p id="26ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面的代码是您训练和保存模型所需的全部内容。随着我们的进展，在哪里存储保存的模型将变得更加明显。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">构建和保存我们的XGBoost模型</p></figure><p id="8f90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个阶段，你应该创建一个空的目录，我称之为“MyApp ”,并在其中存储你的模型。我将使用Visual Studio代码(VSCode)来演示这个过程，但是您也可以使用其他方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/c0382f39d43d15f6955edbba1a17c3b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*8zxpcoE9Z6LTenBYE7rggA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h1 id="56e8" class="mp mq iq bd mr ms mt mu mv mw mx my mz jw na jx nb jz nc ka nd kc ne kd nf ng bi translated">设置Flask web应用程序</h1><p id="4d53" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">与用户只阅读页面内容的静态网站相反，我们希望用户与我们的网页互动。具有功能和交互元素的网站被称为web应用程序。</p><p id="2938" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的例子中，用户将看到三个输入字段，通过提交一些数据，我们希望给用户一个预测。在此之前，我们需要理解浏览器通过发送请求与其他网页进行交互。典型的浏览器将发送遵循所谓的HTTP协议的GET请求以访问页面，并发送POST请求以通过网页发送数据。你将有希望沿着这条路走下去(双关语)！</p><p id="97bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为python程序员，我们通常必须编写大量代码来处理用户请求。一个家伙(名叫阿明·罗纳彻)没有编写重复的代码来处理请求，而是把它放在了一个库中，作为一个笑话，并把它命名为flask。</p><p id="2f61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Flask是一个web服务器框架，因为它要求我们的代码以某种方式组织。首先在“MyApp”目录中添加两个名为“Models”和“Templates”的文件夹。我们暂时不会使用“静态”文件夹，但是可以随意添加任何可选的CSS代码。您应该在与文件夹相同的根级别上创建一个python文件，并使用与me 'app.py '相同的命名约定。然后，创建一个名为index的HTML文件，并将其放在templates目录中。不用担心app.py和index.html文件是空的；现阶段重点关注框架。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/ef0bb4dc91f1c34fb47c316bf4101743.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*pciWobt-QE7H1647LT3XcA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="d693" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您的目录应该类似于下图。请注意，我将我们的ML模型放在了模型的文件夹中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/29550c906a6e3146eee9c1649921db1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*JVcfVeRi7RgmtB14xdGIvA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="2f9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在一步步浏览这些文件之前，我需要你创建一个虚拟环境。</p><h2 id="dc7e" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">虚拟环境</h2><p id="7d64" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">鉴于flask只是一个第三方库，我们可以使用pip (pip install flask)轻松安装Flask并运行我们的web应用程序，但当web应用程序依赖于特定版本的python和其他第三方库时，就会出现问题。想象一下，您的web应用程序运行良好，但是突然之间，第三方库的更新出现了，并且更改了某些函数的名称。这将使你的程序停止运行。为了解决这个问题，我们可以使用一个所谓的虚拟环境(<em class="nm"> virtualenv </em>)。</p><p id="a677" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将虚拟环境想象成一个文件夹，它不知道计算机上安装的其他库。只能访问安装在该文件夹中的库。</p><p id="3361" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了创建一个虚拟环境，我们需要你在当前的Python安装上安装<em class="nm"> virtualenv </em>。换句话说，打开终端(或命令)行并键入:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="16c3" class="nt mq iq og b gy ok ol l om on">pip install virtualenv</span></pre><p id="c20e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要检查您的系统中是否安装了它，请键入以下命令:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="2188" class="nt mq iq og b gy ok ol l om on">virtualenv --version</span></pre><p id="003e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也可以用<em class="nm"> pyvenv </em>代替<em class="nm"> virtualenv </em>，但是你必须找到另一个向导。</p><p id="ec07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦安装了virtualenv，您就可以创建一个虚拟环境。虚拟环境文件应该在“MyApp”目录中生成。你可以使用命令行界面更改当前目录(使用<em class="nm"> ls </em>和<em class="nm"> cd </em>)，或者右键单击你的“MyApp”文件夹，选择“在文件夹中新建终端”(如果你没有这个选项，不用担心，花10.000美元或目前的任何价格购买一台Mac)。</p><p id="745c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">键入以下命令，<strong class="ky ir">根据您使用的是Windows还是Mac，仅使用其中一个命令:</strong></p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="baf9" class="nt mq iq og b gy ok ol l om on">python3 -m venv virtual (Mac)<br/>py -3 -m venv virtual (Windows)</span></pre><p id="b48c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过这样做，您只需使用Python和venv库创建一个名为“virtual”的文件夹，其中包含所有必需的虚拟环境文件。</p><p id="364b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在必须通过键入以下命令来激活虚拟环境:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="4cdd" class="nt mq iq og b gy ok ol l om on">. virtual/bin/activate (Mac)<br/>virtual\Scripts\activate (Windows)</span></pre><p id="e8e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你总是可以通过简单地输入<code class="fe oo op oq og b">deactivate</code>来做相反的事情。如果一切顺利，您应该会在命令行界面中看到类似这样的内容:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="225b" class="nt mq iq og b gy ok ol l om on">(virtual) &lt;user name&gt; myapp %</span></pre><p id="62cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以通过打开并查看“bin”文件夹(或Windows上的“Scripts ”)来浏览新的“虚拟”文件夹。您应该在预安装的文件夹中看到pip和python。任何新安装的库都可以在“bin”文件夹中找到。</p><p id="6000" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们终于可以下载flask库了:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="96e9" class="nt mq iq og b gy ok ol l om on">pip install Flask</span></pre><p id="c0e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你应该可以很容易地在Mac的<code class="fe oo op oq og b">virtual/bin/</code>或者windows的<code class="fe oo op oq og b">virtual\Scripts\ </code>中找到flask:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/f605d1b7da6a403886b87c4fb06bb1e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*BndIMZjydeYOjFg234cwqw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="4433" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你应该在这个阶段找到最近的镜子，重复这句话:只要我下定决心，我可以做任何事情。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="os np l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">GIF by Giphy</p></figure><h2 id="858d" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">App.py</h2><p id="1360" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">让我们打开“app.py”文件，开始插入一些代码。app文件是将在Heroku上运行的web应用程序的核心。它将监听特定端口上的用户请求，并根据请求的类型使用特定的函数进行响应。</p><p id="086a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该应用程序可以分为三个部分。第一步包括导入库和初始化flask应用程序。我们使用<code class="fe oo op oq og b">Flask(__name__)</code>来告诉flask我们的应用程序位于哪里。Flask将定位与我们的应用程序位置相关的模板和静态文件。</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="9c51" class="nt mq iq og b gy ok ol l om on"><strong class="og ir">from</strong> flask <strong class="og ir">import</strong> Flask, render_template, request<br/><strong class="og ir">import</strong> pickle<br/><strong class="og ir">import</strong> pandas as pd</span><span id="a6c2" class="nt mq iq og b gy ot ol l om on"># Initialise the Flask app<br/>app = Flask(__name__)</span></pre><p id="3af3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们使用pickle从/models目录导入保存的模型，并将其保存为“model”:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="0612" class="nt mq iq og b gy ok ol l om on"># Use pickle to load in the pre-trained model<br/>filename = "models/model.sav"<br/><strong class="og ir">model</strong> = pickle.load(open(filename, "rb"))</span></pre><p id="617e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的web应用程序只有一个页面，称为主页或默认页面。“/”路由是主URL。默认情况下，这应该指向index.html文件，即主页。</p><p id="a3fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们想在用户访问主页时触发一个特定的功能。为此，我创建了一个名为<em class="nm"> main </em>的函数，它将根据请求是GET还是POST来响应用户请求。</p><ul class=""><li id="a65d" class="mb mc iq ky b kz la lc ld lf md lj me ln mf lr ou mh mi mj bi translated">当目的是阅读或访问我们的主页时，用户发送GET请求。在这种情况下，我只想显示我们接下来将创建的index.html文件的内容。为此，我使用了<em class="nm"> render_template </em>函数，其目的是在模板目录中查找一个文件并显示其内容。</li><li id="4733" class="mb mc iq ky b kz mk lc ml lf mm lj mn ln mo lr ou mh mi mj bi translated">当信息被发送回web服务器时，用户发送POST请求。我们将允许用户输入特定的温度、湿度和风速。我将使用<em class="nm"> request.form.get </em>函数从index.html文件中检索这些信息。我已经给了输入字段一个特定的名称，所以函数知道在哪里查找。然后，我使用pandas获取数据并从中创建一个数据帧，然后将数据馈送到我们的ML模型，并将结果存储在一个预测变量中，然后将其发送回index.html文件以显示结果。</li></ul><p id="8d09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意，默认的app.route被配置为接收GET请求，所以我添加了方法=["GET "，" POST"]来处理POST请求。</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="3776" class="nt mq iq og b gy ok ol l om on"># Set up the main route<br/>@app.route('/', methods=["GET", "POST"])<br/>def <strong class="og ir">main</strong>():<br/>    if request.method == "POST":<br/>       # Extract the input from the form<br/>       temperature = request.form.get("temperature")<br/>       humidity = request.form.get("humidity")<br/>       windspeed = request.form.get("windspeed")</span><span id="0789" class="nt mq iq og b gy ot ol l om on">       # Create DataFrame based on input<br/>       input_variables = pd.DataFrame([[temperature, humidity, windspeed]],<br/>     columns=['temperature', 'humidity', 'windspeed'], dtype=float, index=['input'])</span><span id="c52d" class="nt mq iq og b gy ot ol l om on">       # Get the model's prediction<br/>       # Given that the prediction is stored in an array we simply  <br/>         extract by indexing<br/>       prediction = model.predict(input_variables)[0]</span><span id="d529" class="nt mq iq og b gy ot ol l om on">       # We now pass on the input from the from and the prediction <br/>         to the index page<br/>       return <strong class="og ir">render_template</strong>("index.html", original_input {'Temperature':temperature, 'Humidity':humidity, 'Windspeed':windspeed}, result=prediction)</span><span id="7ad4" class="nt mq iq og b gy ot ol l om on">     # If the request method is GET<br/>     return <strong class="og ir">render_template</strong>("index.html")</span></pre><p id="0b10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完整的代码如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">app.py文件</p></figure><h2 id="e0b9" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">/模板</h2><p id="423d" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">现在，我们将创建默认页面，用户将通过。让我们将index.html代码分成三个部分，正如我在前面的演练中所做的那样。尽管如此，如果你从未读过或写过HTML代码，我还是会推荐你看一段简单的HTML教程视频。</p><p id="417a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的索引文件的第一部分只是由自愿的CSS代码组成。或者，我可以将它放在一个名为' styles.css '的样式表中，并存储在静态目录中。我在更高级的部署中这样做(<a class="ae kv" href="https://github.com/sg-tarek/HTML-CSS-and-JavaScript/tree/main/Model%20Deployment" rel="noopener ugc nofollow" target="_blank"> GitHub </a>)。</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="019f" class="nt mq iq og b gy ok ol l om on">&lt;<strong class="og ir">head</strong>&gt;<br/>   &lt;!-- CSS code --&gt;<br/>   &lt;<strong class="og ir">style</strong>&gt;<br/>     form {<br/>          margin: auto;<br/>          width: 35%;<br/>          }</span><span id="3e66" class="nt mq iq og b gy ot ol l om on">     .result {<br/>          margin: auto;<br/>          width: 35%;<br/>          border: 1px solid #ccc;<br/>             }<br/>    &lt;/<strong class="og ir">style</strong>&gt;</span><span id="b90b" class="nt mq iq og b gy ot ol l om on">    &lt;<strong class="og ir">title</strong>&gt;Bike Usage Model&lt;/title&gt;<br/>&lt;/<strong class="og ir">head</strong>&gt;</span></pre><p id="16f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二部分由一个带有三个输入字段的表单组成。注意“required”属性，它保证用户的输入。当我使用<em class="nm"> request.form.get </em>函数获取数据时，name属性被用作app.py文件中的引用。</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="2d29" class="nt mq iq og b gy ok ol l om on">&lt;!-- Use the action attribute to call the 'main' function --&gt;<br/>&lt;<strong class="og ir">form</strong> action="{{ url_for('main') }}" method="POST"&gt;<br/>&lt;<strong class="og ir">fieldset</strong>&gt;<br/>     &lt;legend&gt;Input values:&lt;/legend&gt;<br/>     Temperature:<br/>     &lt;input name="temperature" type="number" required&gt;<br/>     &lt;br&gt;<br/>     &lt;br&gt; Humidity:<br/>     &lt;input name="humidity" type="number" required&gt;<br/>     &lt;br&gt;<br/>     &lt;br&gt; Windspeed:<br/>     &lt;input name="windspeed" type="number" required&gt;<br/>     &lt;br&gt;<br/>     &lt;br&gt;<br/>     &lt;input type="submit"&gt;<br/>&lt;/<strong class="og ir">fieldset</strong>&gt;<br/>&lt;/<strong class="og ir">form</strong>&gt;</span></pre><p id="e59e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的表单，使用给定的CSS，为我们提供了以下输入字段和提交按钮:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/9b81bd79b146d7455d39298e3f057ae9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*F_f3Y73dMCwKOeJ7t0o-bQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="e4d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可能已经注意到了上面的{{ }}括号。每当看到这些，你应该马上想到:那哥们儿在用Jinja。Flask支持模板语言Jinja，它使用{% %}和{{}}语法来包含占位符块或其他代码块。在这种情况下，我编写了“{{ url_for('main') }}”来触发app.py文件中的' main '函数。</p><p id="1f0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我使用if条件和for循环来显示预测。仅当条件为真时，才会显示或创建该块。请记住，我们将用户输入存储在app.py文件中的字典‘original _ input’中。因此，我遍历字典来打印用户输入，最后但同样重要的是，我显示预测。</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="25a4" class="nt mq iq og b gy ok ol l om on">&lt;!-- Our 'result' is false until a prediction has been made --&gt;<br/>{% <strong class="og ir">if</strong> result %}<br/>     &lt;!-- Loop through dictionary and print key:value pair --&gt;<br/>     {% <strong class="og ir">for</strong> variable in original_input %}<br/>         &lt;b&gt;{{ variable }}:&lt;/b&gt; {{ original_input[variable] }}<br/>     {% <strong class="og ir">endfor</strong> %}<br/>     &lt;br&gt;</span><span id="dca7" class="nt mq iq og b gy ot ol l om on">     &lt;!-- Print prediction --&gt;<br/>     &lt;br&gt; Predicted number of bikes in use:<br/>     &lt;p style="font-size:50px"&gt;{{ result }}&lt;/p&gt;<br/>{% <strong class="og ir">endif</strong> %}</span></pre><p id="dede" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完整的代码如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">index.html档案</p></figure><p id="ceaf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过运行flask web应用程序来庆祝您到目前为止所做的工作。您需要在您的虚拟环境中安装所有的库(使用pip或conda来安装pandas、xgboost、scikit-learn和pickle-mixin)。事后类型:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="475f" class="nt mq iq og b gy ok ol l om on">flask run</span></pre><p id="4dfe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将在本地地址上运行您的应用程序，如<a class="ae kv" href="http://127.0.0.1:5000/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:5000/ </a>。通过访问这个网址，你应该会遇到index.html的文件。你可以通过输入<em class="nm"> ctrl+c </em>来停止服务器。请注意，该命令触发了“__pycache__”文件的创建。是我们app.py的编译版。</p><h1 id="bfcc" class="mp mq iq bd mr ms mt mu mv mw mx my mz jw na jx nb jz nc ka nd kc ne kd nf ng bi translated">在Heroku的部署</h1><p id="d05f" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">为了让其他人也能使用这个应用程序，我们还需要几个小步骤。让我们先在<a class="ae kv" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GIT </a>和<a class="ae kv" href="http://www.heroku.com" rel="noopener ugc nofollow" target="_blank"> Heroku </a>为你注册一个免费账户。为了与这两者交互，我们需要安装<a class="ae kv" href="https://git-scm.com/downloads" rel="noopener ugc nofollow" target="_blank"> GIT </a>和Heroku命令行接口，称为<a class="ae kv" href="https://toolbelt.heroku.com/" rel="noopener ugc nofollow" target="_blank"> Heroku-CLI </a>。如果您使用的是VSCode，那么我建议安装Heroku和Heroku-CLI扩展。</p><h2 id="ad46" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">格尼科恩</h2><p id="3288" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">虽然flask很棒，但它主要用于本地开发。它不是为处理普通web服务器收到的请求而设计的。为了处理更多的请求，我们需要安装gunicorn python库。</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="b920" class="nt mq iq og b gy ok ol l om on">pip install gunicorn</span></pre><h2 id="2473" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">Procfile</h2><p id="9bb7" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">安装了gunicorn之后，我们现在需要告诉Heroku使用它。我们通过创建一个没有文件扩展名的名为procfile的文件(例如，Procfile.txt无效)来实现这一点。).该文件将指定启动时要执行的命令。</p><p id="818b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在空的Procfile文件中输入这一行:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="9d39" class="nt mq iq og b gy ok ol l om on">web: gunicorn app:app</span></pre><ul class=""><li id="d6d5" class="mb mc iq ky b kz la lc ld lf md lj me ln mf lr ou mh mi mj bi translated">第一个“app”代表运行您的应用程序的python文件的名称或它所在的模块的名称(例如，如果您有一个名为run.py的应用程序，那么它应该是run:app)。</li><li id="4e2b" class="mb mc iq ky b kz mk lc ml lf mm lj mn ln mo lr ou mh mi mj bi translated">第二个“app”代表您的应用名称(即app = Flask(__name__))。</li></ul><h2 id="39a4" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">Requirements.txt</h2><p id="a02b" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">Heroku需要知道安装哪些库来运行您的应用程序。我们可以通过运行以下命令来自动化这一过程:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="1ee8" class="nt mq iq og b gy ok ol l om on">pip freeze &gt; requirements.txt</span></pre><p id="7096" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将生成一个名为requirements.txt的txt文件，其中包含您的应用程序中使用的库。虽然很棒，但它没有包括所有必需的包。下面的列表显示了我的需求文件的内容(注意我已经包含了scikit-learn，因为<code class="fe oo op oq og b">XGBClassifier</code>对象直接与scikit-learn API交互):</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="6099" class="nt mq iq og b gy ok ol l om on">click==8.0.1<br/>Flask==2.0.1<br/>gunicorn==20.1.0<br/>itsdangerous==2.0.1<br/>Jinja2==3.0.1<br/>MarkupSafe==2.0.1<br/>Werkzeug==2.0.1<br/>pandas<br/>xgboost<br/>scikit-learn<br/>pickle-mixin</span></pre><p id="693a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我没有添加我所有库的特定版本，但是你可以随意这样做。</p><h2 id="4f23" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">Runtime.txt</h2><p id="89b6" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">虽然不是必需的，但是如果您希望指定特定的python版本，可以添加一个runtime.txt文件。您可以通过输入以下命令来检查您正在运行的python版本:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="3ead" class="nt mq iq og b gy ok ol l om on">python -V</span></pre><p id="be7b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的runtime.txt文件包含以下内容:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="2a7d" class="nt mq iq og b gy ok ol l om on">python-3.9.6</span></pre><p id="1a31" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是部署前的最后一个阶段，MyApp目录看起来应该如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/b4b397309d336d21d7e882d8855fa6d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*OqA9LcXyYZv8N95el45q5A.png"/></div></figure><h2 id="77f1" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">登录Heroku</h2><p id="2fa8" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">如果一切顺利，您应该开始通过命令行与您的Heroku帐户进行交互。在项目文件夹中打开命令行，然后键入:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="4d7b" class="nt mq iq og b gy ok ol l om on">heroku login</span></pre><p id="8b07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用创建Heroku帐户时使用的电子邮件地址和密码。该命令将打开一个浏览器窗口，但是如果您更喜欢呆在命令行中，只需键入:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="2cf7" class="nt mq iq og b gy ok ol l om on">heroku login -i</span></pre><p id="073a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">成功登录的示例:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/3d83aee5e31005d26aafb4af29f45072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ArjbZmkTkVfm9Mc5ZWM2jw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="5c8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">##########################################</p><p id="bb3e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您在错误的环境中，登录可能不会成功。在这种情况下，以下命令可能有用:<em class="nm"> conda deactivate </em></p><p id="be88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">##########################################</p><h2 id="fddc" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">告诉git你是谁</h2><p id="395c" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">在使用git命令将我们的文件发送到Heroku之前，您需要告诉git您是谁。这很重要，因为每次Git提交都会用到这些信息。</p><p id="2d54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，请在命令行中键入以下内容:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="19a6" class="nt mq iq og b gy ok ol l om on">git config --global user.name "John Doe"</span></pre><p id="b8eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按enter键，然后键入:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="71e5" class="nt mq iq og b gy ok ol l om on">git config --global user.email johndoe@example.com</span></pre><p id="a2f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请确保在保留双引号的行中适当替换您的电子邮件地址和您的姓名。如果您传递了— global选项，则只需要这样做一次。</p><h2 id="478a" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated"><strong class="ak">为你的网络应用创建一个git库</strong></h2><p id="5b89" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">通过键入以下命令创建本地git存储库:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="fa7a" class="nt mq iq og b gy ok ol l om on">git init</span></pre><p id="9996" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过键入以下内容，将所有本地文件添加到在线存储库中:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="dad2" class="nt mq iq og b gy ok ol l om on">git add .</span></pre><p id="eacb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保在<em class="nm">后加上</em>的点。圆点表示您正在将整个目录添加到存储库中。</p><p id="0bc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">提交您的文件:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="29e3" class="nt mq iq og b gy ok ol l om on">git commit -m "First commit"</span></pre><h2 id="ea2b" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated"><strong class="ak">在Heroku上创建一个空应用</strong></h2><p id="c99e" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">接下来的步骤包括在Heroku上创建一个空应用程序，并将我们的本地文件发送到该应用程序。我们将使用git发送文件。</p><p id="26d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建一个空Heroku应用程序:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="ab25" class="nt mq iq og b gy ok ol l om on">heroku create &lt;app-name-you-choose&gt;</span></pre><p id="33a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">应用程序创建完成后，您可以进入您的Heroku帐户获得概述:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/4e0fbaa9eeccd0bd15a0e664124904df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPoVd7jLjqdYGehpiEvMTA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="e9e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后的步骤包括获取我们所有的文件，将它们推送到Heroku，然后激活应用程序:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="754e" class="nt mq iq og b gy ok ol l om on">git push heroku master</span></pre><p id="dbba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">激活应用程序，并设置dynos的数量(任何超过一个将花费):</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="6f34" class="nt mq iq og b gy ok ol l om on">heroku ps:scale web=1</span></pre><h2 id="24c9" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated"><strong class="ak">访问应用程序并查看性能</strong></h2><p id="f432" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">如果一切顺利，您应该可以通过以下网址访问您的应用程序:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="51f6" class="nt mq iq og b gy ok ol l om on">&lt;app-name-you-choose&gt;.herokuapp.com</span></pre><p id="a00e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您只需通过上面的URL或键入以下内容即可打开它:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="f712" class="nt mq iq og b gy ok ol l om on">heroku open</span></pre><p id="2e25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可能需要一段时间才能发挥作用，所以要有耐心。如果一切顺利，你应该有一个应用程序运行在网络上。你应该为自己感到骄傲。</p><p id="0f6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你觉得舒服或者想看部署的不同变化，我可以推荐访问我的高级<a class="ae kv" href="https://advanced-deployment.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">部署</a>。这些文件可以在我的<a class="ae kv" href="https://github.com/sg-tarek/HTML-CSS-and-JavaScript/tree/main/Model%20Deployment" rel="noopener ugc nofollow" target="_blank"> git </a>上获得。</p><h2 id="afb5" class="nt mq iq bd mr nu nv dn mv nw nx dp mz lf ny nz nb lj oa ob nd ln oc od nf oe bi translated">很高兴知道</h2><p id="dbbf" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">下面的命令很好地处理了我在这个过程中看到的所有错误:</p><ul class=""><li id="1da4" class="mb mc iq ky b kz la lc ld lf md lj me ln mf lr ou mh mi mj bi translated">使用它在本地服务器上打开Heroku。记得安装所有需要的库。</li><li id="c001" class="mb mc iq ky b kz mk lc ml lf mm lj mn ln mo lr ou mh mi mj bi translated">应该是不言自明的。</li><li id="445d" class="mb mc iq ky b kz mk lc ml lf mm lj mn ln mo lr ou mh mi mj bi translated"><code class="fe oo op oq og b">heroku run 'ls -al'</code>您的dyno副本，让它列出目录内容。当您添加更多文件，并需要检查它们是否已添加到Heroku上时，这很有用。</li><li id="91e1" class="mb mc iq ky b kz mk lc ml lf mm lj mn ln mo lr ou mh mi mj bi translated"><code class="fe oo op oq og b">heroku logs --tail</code>使用这个Heroku命令，一旦你的应用启动并运行，你就可以访问它的性能信息。</li><li id="9332" class="mb mc iq ky b kz mk lc ml lf mm lj mn ln mo lr ou mh mi mj bi translated"><code class="fe oo op oq og b">heroku restart</code>应该是不言自明的。</li><li id="6039" class="mb mc iq ky b kz mk lc ml lf mm lj mn ln mo lr ou mh mi mj bi translated"><code class="fe oo op oq og b">heroku apps:rename &lt;newname&gt;</code>重命名你的应用程序。</li></ul></div><div class="ab cl oz pa hu pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="ij ik il im in"><p id="0de7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望你像我喜欢写这篇文章一样喜欢它。如果你理解我的代码有任何困难，请留下评论。数据科学社区给了我很多，所以我总是乐于回馈。</p><p id="f51c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请随时在Linkedin 上与我联系，并在Medium上关注我以接收更多文章。</p></div></div>    
</body>
</html>