<html>
<head>
<title>How To Do Exploratory Data Analysis in Python With One Line of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用一行代码在Python中进行探索性数据分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-do-exploratory-data-analysis-with-one-line-of-code-1364e16a102e?source=collection_archive---------18-----------------------#2021-07-11">https://towardsdatascience.com/how-to-do-exploratory-data-analysis-with-one-line-of-code-1364e16a102e?source=collection_archive---------18-----------------------#2021-07-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="dda1" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">大蟒</h2><div class=""/><div class=""><h2 id="b6fb" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">用熊猫档案为你的下一个项目节省时间</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/6f88eeaf307974e70d895888e7ce505d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oITxjJh5l7dll2ulHUuehQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片由cottonbro提供。来源:<a class="ae lh" href="https://www.pexels.com/photo/man-in-white-dress-shirt-holding-white-ceramic-mug-4114623/" rel="noopener ugc nofollow" target="_blank"> Pexels </a></p></figure><p id="bf33" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们想象一下，你要做一个探索性的数据分析。你从哪里开始？您加载数据集，打印数据，查找观察值的数量、数据类型、缺失值、重复值和统计汇总。然后，您可能需要创建一些数据可视化来更好地理解您所拥有的。所有这些都需要多行代码，可能需要几个小时。如果我告诉你，你可以节省你的宝贵时间，跳过所有这些步骤，只专注于分析数据，会怎么样？魔法？不，那是熊猫侧写。</p><p id="265f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有相当多的博客是关于熊猫在媒体上的简介。然而，这是我对这个伟大图书馆的看法。令人惊讶的是，我认识的大多数数据科学家要么不知道熊猫概况，要么很熟悉但从未尝试过使用它。</p><div class="ks kt ku kv gt ab cb"><figure class="me kw mf mg mh mi mj paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/f913f2b0e951d42478eb20eea98f913d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*l-3QwuVyOGnJx-t_7tY7mw.png"/></div></figure><figure class="me kw mf mg mh mi mj paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/486e2ed67fe6e9e3a409ac0334ac98f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*RF_xg_BPqZq9_tJW2eX_Tw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk mk di ml mm translated">左图:熊猫下载趋势。右图:熊猫简介下载趋势。来源:<a class="ae lh" href="https://snyk.io/advisor/" rel="noopener ugc nofollow" target="_blank"> Snyk顾问</a></p></figure></div><p id="884d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">看看上面熊猫简介和熊猫的下载趋势，我们可以看到熊猫的受欢迎程度是熊猫简介的几十倍。这当然是意料之中的。然而，我们也可以看到，熊猫烧香并没有得到应有的普及。好吧，如果你不知道它，让我们一起探索它，如果你已经知道它，让我告诉你为什么你应该在你工作的每个项目中使用它。</p><h1 id="cc33" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">熊猫简介</h1><p id="51d7" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">简而言之，Pandas Profiling是一个低代码库，允许我们执行彻底的探索性数据分析。通过键入一行代码，您将省去我在本文开头提到的所有步骤，并获得一个漂亮的交互式HTML文件，您可以在笔记本中可视化该文件，或者与任何人共享该文件。这就像把你的Jupyter笔记本变成一个Tableau仪表板。我们开始吧！</p><h1 id="f949" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">如何使用熊猫概况</h1><p id="5292" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">首先，你需要安装熊猫概况。您可以通过键入以下代码行使用<code class="fe nk nl nm nn b">pip</code>来安装它:</p><pre class="ks kt ku kv gt no nn np nq aw nr bi"><span id="fb5d" class="ns mo it nn b gy nt nu l nv nw">pip install -U pandas-profiling[notebook]<br/>jupyter nbextension enable --py widgetsnbextension</span></pre><p id="1a1a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你喜欢使用<code class="fe nk nl nm nn b">conda</code>，你只需要输入下面的代码:</p><pre class="ks kt ku kv gt no nn np nq aw nr bi"><span id="0226" class="ns mo it nn b gy nt nu l nv nw">conda env create -n pandas-profiling<br/>conda activate pandas-profiling<br/>conda install -c conda-forge pandas-profiling</span></pre><p id="68d8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在你已经安装好了，是时候享受乐趣了。在这个演示中，我将使用著名的泰坦尼克号数据集，你可以在这里找到它<a class="ae lh" href="https://www.kaggle.com/c/titanic/data" rel="noopener ugc nofollow" target="_blank"/>。</p><pre class="ks kt ku kv gt no nn np nq aw nr bi"><span id="e599" class="ns mo it nn b gy nt nu l nv nw"><strong class="nn jd"># Importing pandas and pandas profiling</strong><br/>import pandas as pd<br/>from pandas_profiling import ProfileReport</span><span id="568e" class="ns mo it nn b gy nx nu l nv nw"><strong class="nn jd"># Importing the dataset</strong><br/>df = pd.read_csv('world-happiness-report-2021/world-happiness-report-2021.csv')</span></pre><p id="47aa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这就是你最后使用熊猫档案所需要做的。很简单，对吧？现在，让我们创建报告。我将输入下面一行代码，我们就可以开始了。</p><pre class="ks kt ku kv gt no nn np nq aw nr bi"><span id="da3f" class="ns mo it nn b gy nt nu l nv nw">profile = ProfileReport(df, title='Titanic Report')<br/>profile</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ny"><img src="../Images/73f3d895225a1b8bb55c9dcee0934a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*al_zGkK4URNdM1Bi0S-QoA.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="b3f8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们走吧。这份报告在我的电脑上运行了5.67秒，只用了一行代码。我将把它分成几个部分，这样我们可以更好地分析我们得到的信息。</p><h1 id="6878" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">概观</h1><p id="a043" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">首先，我们对数据集进行概述，显示变量、缺失值、重复行的数量，有多少值是数值，有多少值是分类的。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nz"><img src="../Images/c707c05fd7c9a89f2a198b2626efd1c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p56jS65Ffbt2Wx2EF-YmLQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="16fd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，我们有一个选项卡显示关于数据集的警告。如果你的期末项目和机器学习有关，这些警告会有很大帮助。它显示了具有高基数、高相关性、高缺失值百分比、高零百分比等的类别。在我看来，这两个特点已经使熊猫轮廓值得。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oa"><img src="../Images/28490105d43c9e6c053369a5f558f209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rNmZGrFgmLCVEjm8QsUD4A.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><h1 id="a40d" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated"><strong class="ak">变数</strong></h1><p id="d7c9" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">现在，我们可以探索变量。Pandas Profiling将向我们显示每个类别的细分，包括统计信息，如最小值、最大值、无穷大数，以及不同值的百分比。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ob"><img src="../Images/df072605ff151ab931bdbdced167b44c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*BFUXm0nqJrPhW8PTzHXbpw.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="b773" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果我们点击<code class="fe nk nl nm nn b">Toggle details</code>，会看到更复杂的信息，包括范围、变异系数、偏度、标准差、百分位数等。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/59b8ec5b3f7578d86f35a763e813a0b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l1L-HRmyrQDTEniYfJP3og.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="5cc6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你是否使用了5行以上的代码来得到一个像样的图表，以便更好地理解一个类别？熊猫档案将帮助你做到这一点。点击<code class="fe nk nl nm nn b">Histogram</code>，您将能够看到类别分布。请记住，这一切都是在5秒钟内完成的！</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/10a585c6f03a3319f3c18d9b2c91266f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*69U9Qm2S0LyVXlPfZRBwxg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="ea8d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">不用输入<code class="fe nk nl nm nn b">df['age'].value_counts(normalize=True)</code>，你只需点击一下就可以看到一个类别中每个值出现的频率。哦，看起来好多了。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/c3602244434552c2f9f0589c9df4d299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fLmdZo3OFRoADm0fG2vnVA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="2ac8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，我们可以很容易地看到数据集中的极值(或异常值)。举个例子，好像有0.92岁的人。这可能意味着它们是婴儿，或者数据集是错误的。无论哪种方式，如果您手动操作，都不会很容易发现这一点。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/58bd4bea0c804d25c8f308b9e1aa84e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*264sXH3-Vwfa6b457O7E_A.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><h1 id="4116" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated"><strong class="ak">互动</strong></h1><p id="c317" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">熊猫烧香提供的另一个非常酷的功能是查看类别之间的交互。然而，泰坦尼克号数据集并不是分析这一特征的最佳选择。为此，我将使用<a class="ae lh" href="https://www.kaggle.com/unsdsn/world-happiness" rel="noopener ugc nofollow" target="_blank">世界幸福报告2021 </a>。</p><p id="c073" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要做到这一点，你需要做的就是选择你想要比较的两个特征，熊猫轮廓将创建瞬时散点图。多酷啊。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/a55deef1575d5afba4f6b3dfbd232819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6wYyAFD8CjfENGBNFLsuiA.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><h1 id="c85b" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">相关</h1><p id="794c" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">因为我们可以看到每个特性是如何与其他特性交互的，所以想象我们也可以看到一个相关表是有意义的。Pandas Profiling前进了几步，显示了四个不同的相关表:Pearson的、Spearman的、Kendall的、Phik的和Cremér的。不确定这些都是什么？没问题。点击<code class="fe nk nl nm nn b">Toggle correlation descriptions</code>，你会得到每一条的解释。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/bcc4169cdbf01cf4e10ed96477344dc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QPGSX-uFdRC2EN8yAeG0uA.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><h1 id="def2" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">第一行和最后一行</h1><p id="3918" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">Pandas Profiling背后的开发人员希望确保他们涵盖了探索性数据分析的每一步。因此，它们包含了数据集的第一行和最后一行——这是一种非常好的处理方式</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oe"><img src="../Images/6e0935fca3835ec7d96a6fce39dacc62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YFo4VNOIG3_JE6Jej-EDMw.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><h1 id="de9b" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">共享报告</h1><p id="ee50" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">熊猫概况的另一个优点是它使得分享报告变得非常容易。您将共享一个文件以备分析，而不是共享一个Jupyter笔记本，让其他用户运行所有代码。您可以通过键入<code class="fe nk nl nm nn b">profile.to_file('report_name.html')</code>来下载报告，您将看到一个新文件将被创建在与您正在使用的笔记本相同的文件夹中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi of"><img src="../Images/d86e73263aff59dc830d5f9cb5601e2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Y9EH11UqClEr5tFNUEjkSw.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><h1 id="bac1" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">结论</h1><p id="a247" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">在过去的几个月里，熊猫简介变得越来越受欢迎。然而，它并没有得到应有的普及。你应该学习如何手动做EDA来提高你的编码技能，但是让我们承认你可以用Pandas Profiling节省至少一个小时的时间。</p><p id="84d4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你使用这个伟大的图书馆，你不会不专业。事实上，这是一个节省时间和专注于重要事情的聪明方法:分析！我强烈推荐你尝试这个库，如果你尝试了，让我知道它是如何进行的。编码快乐！</p></div></div>    
</body>
</html>