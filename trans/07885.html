<html>
<head>
<title>Coding a Matrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编码矩阵</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/coding-a-matrix-5e1d7eb1e6e5?source=collection_archive---------30-----------------------#2021-07-19">https://towardsdatascience.com/coding-a-matrix-5e1d7eb1e6e5?source=collection_archive---------30-----------------------#2021-07-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="48eb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们将实现一个矩阵数据结构，支持像乘积和分解这样的线性代数计算</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/afb98cc8bae8fd03572f365f87124839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*lXacEZ1TXLgAF_JndVVndA.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">一种3×3矩阵数据结构。图片作者。</p></figure><p id="b72a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">通用数组类</strong></p><p id="1cc6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">矩阵将从一般的类似数组的类继承。array类可以支持额外的数据结构，如向量和张量。我们希望array类支持以下常规属性和方法:</p><ul class=""><li id="7278" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">以嵌套列表的形式返回数组数据，并计算数组形状。</li><li id="6cf5" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">确保数组对象只能用有效的输入数据初始化。</li><li id="0a63" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">支持索引，以便我们可以检索和更新数组的内容。</li><li id="0124" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">支持加、减、标量乘、标量除等运算符。</li></ul><p id="b7e3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">数组初始化</strong></p><p id="a518" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">数组对象将通过传递包含<code class="fe mb mc md me b">complex</code>或<code class="fe mb mc md me b">float</code>数字的嵌套数据列表进行初始化。我们将通过检查其形状来验证输入数据是否有效。<code class="fe mb mc md me b">[1,2,3]</code>的输入有效，而<code class="fe mb mc md me b">[1,[2,3]]</code>的输入无效。一旦输入数据形状得到验证，我们将计算数组形状。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="8d54" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">阵列形状</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/44045e35900f779e1a8cfedb42cccbb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*vp7zkT6l3kM-1WAWnZSq0w.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">具有2行2列的矩阵的形状是(2，2)。图片作者。</p></figure><p id="8237" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了验证数组的形状是否有效，我们可以沿着给定维度的宽度进行迭代，以检查每个元素(将是可迭代的对象)是否具有相同的形状。然后，我们可以使用递归来更深入地遍历数组。停止条件将是当我们到达一个不可迭代的对象(这将是数组元素本身)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="4e6d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了计算数组的形状，我们可以假设数据具有有效的数组形状，并递归计算每个维度的长度。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="7aac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">数组索引</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mi"><img src="../Images/da716045bcac27716c2ed76a0c90695d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F23rI9hNJ4gr-HzUOc4jbw.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">设置(左)和获取(右)一个矩阵的元素。图片作者。</p></figure><p id="bcdd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以使用Python的特殊索引方法来实现数组getter和setter函数。我们需要确保数组对象有多个维度，这样索引才是允许的。对于setter，我们需要检查新数组是否具有有效的形状。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="e03a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">数组运算符</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mn"><img src="../Images/1eedd032439804ec78375a93102a8992.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1VPy3LQ9yvNoAW49D1J8jA.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">添加数组将添加每个数组的相应元素。图片作者。</p></figure><p id="6efb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以利用Python的特殊运算符方法来实现加、减、标量乘、标量除等运算。下面是数组加法的实现。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="8e1f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">矩阵初始化</strong></p><p id="3b08" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要实现一个矩阵类，我们可以从通用数组类继承，并对其形状应用约束。如果输入数据不具有矩阵的形状，则矩阵对象不能被初始化。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="f0d6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">矩阵属性</strong></p><p id="4d07" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们可以初始化一个矩阵对象，我们可以计算矩阵的各种属性，包括:</p><ul class=""><li id="7e26" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">无论是<em class="mo">方阵</em></li><li id="da78" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">是否是一个<em class="mo">单位矩阵</em></li><li id="a764" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">矩阵<em class="mo">行列式</em></li><li id="41fd" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">矩阵<em class="mo">轨迹</em></li><li id="9659" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">矩阵<em class="mo">转置</em></li><li id="dc89" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">是否是一个<em class="mo">对称矩阵</em></li></ul><p id="5a42" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">方阵</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/4f7bb7e4900ed672b3e3b9c54e421c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*rzFL8e8xcMZTtcKvPblv0w.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">行数和列数相同的矩阵是正方形。图片作者。</p></figure><p id="99cd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以通过比较矩阵的行和列来检查矩阵是否是正方形的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="dd91" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">单位矩阵</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/afbd3d0a3e89c12af5e63373b5323692.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*3RIhCTC8UJ1bl_CjdjPGmg.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">主对角线上为1而其他地方为0的矩阵是单位矩阵。图片作者。</p></figure><p id="c041" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果一个矩阵的每个主对角线元素的值都是1，而其他元素的值都是0，那么这个矩阵就是单位矩阵。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="2630" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">矩阵行列式</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mq"><img src="../Images/1b7bac0854c3dca0263400fe07b67e00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bb2Ru9nw7bR7Wb-ekRwhbQ.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">2×2矩阵的行列式是对角线乘积的差。图片作者。</p></figure><p id="12e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以用一个<a class="ae mr" href="https://en.wikipedia.org/wiki/Laplace_expansion" rel="noopener ugc nofollow" target="_blank">拉普拉斯展开</a>来计算矩阵行列式。请注意，还有更有效的算法，如矩阵分解。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="e903" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">矩阵轨迹</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi ms"><img src="../Images/e1eeaeccacfd0fe439642583773565ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dYVptbX108eZ8aFkg4sIpw.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">矩阵的迹是主对角线元素的和。图片作者。</p></figure><p id="a111" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">轨迹可以通过沿着矩阵的主对角线对每个元素求和来计算。我们还需要检查矩阵是否是正方形的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="84bd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">矩阵转置</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mt"><img src="../Images/5fd844c18ec5d8c975aaee43b9f530bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zJ3Q8gUpU4PyrAjtKeutqw.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">矩阵的转置会翻转行和列。图片作者。</p></figure><p id="8ff9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要在一行代码中计算矩阵转置，我们可以使用一些Python语言的特性；即<code class="fe mb mc md me b">zip</code>方法、使用<code class="fe mb mc md me b">*</code>操作符的参数解包和列表理解。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="8618" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">对称矩阵</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/a77ba86ee0436dcd4822929ad486a33d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*QHebHTyo5AEXYJFOmPET1Q.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">对称矩阵等于它们的转置矩阵。图片作者。</p></figure><p id="699e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以通过比较一个矩阵与其转置矩阵来检验它是否对称。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="7799" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">包括单元测试在内的整个matrix类实现可以在<a class="ae mr" href="https://github.com/ashbellett/linear-algebra" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></div></div>    
</body>
</html>