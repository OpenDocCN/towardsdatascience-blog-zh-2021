<html>
<head>
<title>Performing Statistical Estimation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">执行统计估计</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/performing-statistical-estimation-82368ad89486?source=collection_archive---------32-----------------------#2021-03-18">https://towardsdatascience.com/performing-statistical-estimation-82368ad89486?source=collection_archive---------32-----------------------#2021-03-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2c03" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">试图用最简单的形式解释统计学中的估计过程。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8ee42595f39809e1f055b6ef4416c693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Atd8GWLNvULICMQcR8nNw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><p id="13ea" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">众所周知，统计学是一门研究收集数据、总结和可视化数据、识别模式、差异、局限性和不一致性以及从样本中推断人口信息的学科。</p><p id="18a2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这种从样本中推断总体信息的过程被称为<strong class="kx ir">估计</strong>。因为不可能从人口中的每一个成员那里收集信息，所以我们从样本中收集信息，并以我们的方式估计人口的信息。在这个过程中，我们使用一种叫做“估计器”的东西来进行估计。</p><p id="631d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当对整个人口计算一个值时，它被称为<strong class="kx ir">参数</strong>，而人口子集(也称为样本)的相应术语被称为<strong class="kx ir">统计量</strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lr ls l"/></div></figure><h2 id="c724" class="lt lu iq bd lv lw lx dn ly lz ma dp mb le mc md me li mf mg mh lm mi mj mk ml bi translated">什么是评估者？</h2><p id="dfc3" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">u '(读作mu)是指总体的平均值或总体的真实平均值。但在大多数情况下，我们不知道这个值，所以我们试图确定一个称为xbar的统计量，它是样本的平均值。然后Xbar成为我们的估计器。</p><p id="2b14" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用xbar来估计u似乎是合理的，但是让我们假设我承担这个任务来确定我所在城市所有人的平均身高。我真的不可能去问这个城市的每一个人他们的身高。因此，我决定选择一个较小的样本，即我所在大楼中的人，来估计人们的平均身高。由于我的心不在焉，我最终做了一个不正确的输入，将其中一个值的小数放在了错误的位置(8.0变成了80.0)。</p><p id="ad45" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我的样本看起来是这样的英寸:[4，5.3，5.2，5.5，5.8，6.0，6.1，80.0]。该样品的平均“xbar”为14.73英寸。人真的平均那么高吗？在这种情况下,“Xbar”似乎不是估计“u”的最佳选择。</p><p id="0a7a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，我决定使用另一种叫做中位数的统计方法。中位数不过是中间值。这个样本的中值是5.65，这看起来更合理，更接近“u”的实际值。</p><h2 id="d5e6" class="lt lu iq bd lv lw lx dn ly lz ma dp mb le mc md me li mf mg mh lm mi mj mk ml bi translated">我的估计量是有偏的还是无偏的？</h2><p id="7a66" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">方差是一种常用的估计量，用于确定数据的分布，通常由以下公式给出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/bc663d0359b0102c680c36941d1978d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*ubi_4Ex6bsVieDfDhSLrsQ.png"/></div></figure><p id="8348" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是，当我们转向更大的样本(或总体)时，这个方差公式往往会低估方差的值。换句话说，是有倾向性的。偏差只不过是期望值和实际值之间的差异或“xbar-u”。当这个偏差等于0时，我们说估计量是无偏的。上述公式产生非零偏差。这方面的证据可以在这里找到:<a class="ae ms" href="https://en.wikipedia.org/wiki/Bias_of_an_estimator" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Bias_of_an_estimator</a></p><p id="df92" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，我们使用下面的公式来计算样本方差，用1/(n-1)代替1/n</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/2a28b17e3920b9bf36f3bf0b79da1ab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*ez14sBikZVL4ZqEe2CaX5Q.png"/></div></figure><p id="8d13" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个公式得出的偏差等于零。它也没有低估人口方差。直觉上，由于分母现在是一个较小的数字，方差的值较大，因此对于一个较大的样本(或总体)，我们自然期望一个较大的方差。</p><p id="a252" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">样本均值总是总体均值的无偏估计量。这是因为均值的期望值等于总体的实际值或真实均值。一些样本的均值可能大于总体均值，而一些样本的均值可能低于总体均值。然而，当这个过程重复多次，并且在这些迭代中计算估计值的<strong class="kx ir">平均值</strong>时，这些采样实验的平均值将最终等于总体平均值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lr ls l"/></div></figure><h2 id="0670" class="lt lu iq bd lv lw lx dn ly lz ma dp mb le mc md me li mf mg mh lm mi mj mk ml bi translated">我们如何确定最佳估计量？</h2><p id="e332" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">这实际上取决于我们是在试图最小化错误还是最大化获得正确答案的机会。</p><p id="507b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果我们试图将误差最小化，我们使用一种叫做<strong class="kx ir">均方误差</strong>或均方根误差的东西。在真实的实验中，计算估计量的过程在许多不同的样本上重复多次。在没有异常值的情况下，样本均值“xbar”使均方误差(MSE)最小化:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/d64473ca82a45cc60c87b40c9b5b5b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*zJfGCad1T1he2XrzWhCoEQ.png"/></div></figure><p id="bb41" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">其中“m”是迭代次数。RMSE不过是MSE的平方根。</p><p id="818b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是最小化MSE/RMSE总是最好的选择吗？想象一下掷骰子的情况。掷骰子的平均值是(1+2+3+4+5+6)/6 = 3.5。我们永远不可能掷出3.5的骰子。再一次，想象我们掷出一个6面骰子3次，我们被要求估计掷骰子的总数。如果我们使用MSE方法，并试图确定使MSE最小的值，我们将得出结论，总和的期望值将是3*3.5 = 10.5。</p><p id="96cf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是掷骰子的总和永远不会是小数。在这种情况下，我们应该选择一个最有可能得到正确答案的估计量，也称为<strong class="kx ir">最大似然估计量</strong>。对于掷骰子的情况，如果我们说3次掷骰子的和是3、10或12，我们得到正确答案的机会就会增加。</p><h2 id="de31" class="lt lu iq bd lv lw lx dn ly lz ma dp mb le mc md me li mf mg mh lm mi mj mk ml bi translated">估计量的分布是什么？</h2><p id="90fa" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">回到我寻找我所在城市的人们平均身高的好奇心。我在我的大楼里挑选了一个人的样本(显然我犯了一个错误，最终我改正了这个错误),然后计算了一个统计数据——样本的平均值。那里的样本量是8。我对我的分析不完全满意，所以我决定对更多相同大小的样本重复这个过程。我决定将这个样本集扩展到我朋友的4栋楼。然后每个样本产生一个统计数据(不可救药的我仍然坚持样本均值，尽管它有缺陷并且无法处理异常值)。</p><p id="2a8e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下是我的样品:</p><pre class="kg kh ki kj gt mu mv mw mx aw my bi"><span id="e655" class="lt lu iq mv b gy mz na l nb nc">Sample1:[4,5.3,5.2,5.5,5.8,6.0,6.1,8.0]   Mean1: 5.74  Std dev: 1.13<br/>Sample2:[4.8,6.1,6.3,5.0,5.5,5.9,5.8,5.6] Mean2: 5.62  Std dev: 0.51<br/>Sample3:[6.1,6.2,6.3,6.0,5.11,5.10,6.0,6.1]Mean3: 5.86 Std dev: 0.48<br/>Sample4:[5.1,5.2,5.4,5.9,5.5,5.10,5.9,5.5] Mean4: 5.45 Std dev: 0.32<br/>Sample5:[2.5,4.11,5.7,5.3,5.8,5.9,5.2,5.1] Mean5: 4.95 Std dev: 1.14</span></pre><p id="aa2c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我对平均高度有了一些基本的概念，我决定对大约100个样本进行模拟，并计算每个样本的平均值。我使用均值为5.5、标准差为0.5、样本大小为8的正态分布来生成样本均值。</p><pre class="kg kh ki kj gt mu mv mw mx aw my bi"><span id="9e6a" class="lt lu iq mv b gy mz na l nb nc">import numpy as np<br/>import random<br/>means = [5.74,5.62,5.86,5.45,4.95]<br/>for i in range(100):<br/>    x = np.random.normal(5.5, 0.5, 8)<br/>    xbar = np.mean(x)<br/>    means.append(xbar)</span></pre><p id="17dc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这种统计分布，即样本均值，被称为<strong class="kx ir">抽样分布</strong>。可视化样品的分布意味着:</p><pre class="kg kh ki kj gt mu mv mw mx aw my bi"><span id="9048" class="lt lu iq mv b gy mz na l nb nc">import seaborn as sns<br/>sns.displot(means,color='green')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/9a66b7844660eeb4c0592fcfc45881d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QD8bvYQp8SH61YrMCOspIQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图1:样本平均值的分布(图片由作者提供)</p></figure><p id="97e9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">想象一下，如果我的分析只基于样本3:[6.1，6.2，6.3，6.0，5.11，5.10，6.0，6.1]。从样本的外观来看，我似乎选择了最高的人。这种由于随机选择或噪声造成的估计值的变化，其中一个样本可能没有完全反映真实总体，被称为<strong class="kx ir">抽样误差</strong>。</p><h2 id="f0b9" class="lt lu iq bd lv lw lx dn ly lz ma dp mb le mc md me li mf mg mh lm mi mj mk ml bi translated">我们对评估有多少信心？</h2><p id="d4c8" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">我们观察样本均值、样本中值和样本标准差来估计相应的总体值。我们使用一个单独的值来表示我们试图估算的值。这叫做<strong class="kx ir">点估计</strong>。当我们使用一系列值来估计相应的总体值时，它被称为<strong class="kx ir">区间估计</strong>。</p><p id="ca80" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们的抽样分布以一个<strong class="kx ir">标准误差</strong>和<strong class="kx ir">置信区间为特征。</strong></p><p id="f644" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">平均而言，标准误差衡量的是我们期望估计值偏离真实值的程度，这与标准偏差不同，标准偏差是样本本身的变化。我们在图1中看到的是样本平均值的抽样分布的标准偏差。反过来，这就是我们在上一节中看到的RMSE，即“xbar-u”所有值的平均值的平方根。在上例中，标准误差为0.17英寸:</p><pre class="kg kh ki kj gt mu mv mw mx aw my bi"><span id="c74e" class="lt lu iq mv b gy mz na l nb nc">u = 5.5<br/>error = [(mean-u)**2 for mean in means]<br/>rmse = math.sqrt(np.mean(error))</span></pre><p id="bfd0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当‘n’足够大，n&gt;30时，标准误差将等于σ/n的根，其中σ是真正的标准偏差。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/ddd2f65d694098abe4f9405031259006.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*UJRQUqaiy_1IN0yBSeOQQw.png"/></div></figure><p id="2217" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请看图1，直观地将高度的样本平均值视为一系列值。置信区间是一个区间估计值，它提供了包含在抽样分布的给定部分中的一系列值。如图2所示，90%置信区间将是第5和第95百分位之间的值的范围，即大约(5.2，5.7)英寸。更简单地说，这意味着90%的人口参数(u)将在5.2-5.7英寸的范围内。这并不意味着我们的总体参数(u)有90%的概率位于5.2-5.7英寸的范围内。</p><pre class="kg kh ki kj gt mu mv mw mx aw my bi"><span id="6385" class="lt lu iq mv b gy mz na l nb nc">import matplotlib.pyplot as plt<br/>from matplotlib import mlab<br/>fig, ax = plt.subplots(figsize=(8, 4))<br/>ax.hist(means, density=1, cumulative=True, label='CDF', color='green')<br/>plt.axhline(y=0.05, color='b', linestyle='-')<br/>plt.axhline(y=0.95, color='b', linestyle='-')<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/7f2dfeeb2dd0ed70a8dcd65ccd715f7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RboTvzCbJ9emV44niroedg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图2:样本均值的累积分布函数图(作者图片)</p></figure><p id="7064" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">置信区间和标准误差是抽样分布的特征，但是它们没有考虑由于抽样偏差和/或测量不精确而产生的误差或噪声。</p><p id="d94c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">回到我痴迷于寻找我所在城市的人们的平均身高。我没有实际测量他们的身高，而是决定给他们发电子邮件让他们填写调查问卷。这种方法会有一定的局限性。他们中的一些人可能没有电子邮件，或者他们没有办法回复我的电子邮件，或者有些人可能有时间或可能没有时间填写调查，因为他们的日程安排很忙或不太忙。然后我会对某一类人群进行抽样调查。这被称为<strong class="kx ir">采样偏差</strong>。收入、可用资源、回应意愿(自我选择:一些回应者拒绝回应)等外部因素可能会间接影响我的评估。</p><p id="6a96" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在回复电子邮件调查时，回答者可能会低估或高估或向上或向下舍入他们的身高，这可能会导致<strong class="kx ir">测量误差。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lr ls l"/></div></figure><h2 id="db26" class="lt lu iq bd lv lw lx dn ly lz ma dp mb le mc md me li mf mg mh lm mi mj mk ml bi translated">结论</h2><p id="ab75" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">进行估计时，重要的是要记住置信区间和标准误差是有用的，但不是抽样误差的唯一指标，并且估计很可能受到其他未考虑的误差的影响，如抽样偏差和测量不准确性。</p><h2 id="5298" class="lt lu iq bd lv lw lx dn ly lz ma dp mb le mc md me li mf mg mh lm mi mj mk ml bi translated">参考资料:</h2><p id="6244" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">这一汇编深受艾伦·B·唐尼的<em class="ng"> Thinkstats </em>书的影响。</p></div></div>    
</body>
</html>