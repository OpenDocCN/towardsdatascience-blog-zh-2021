<html>
<head>
<title>From clipboard to DataFrame with Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从剪贴板到熊猫数据框</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/from-clipboard-to-dataframe-with-pandas-6c212b1d7ed8?source=collection_archive---------17-----------------------#2021-07-19">https://towardsdatascience.com/from-clipboard-to-dataframe-with-pandas-6c212b1d7ed8?source=collection_archive---------17-----------------------#2021-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5f72" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">直接从剪贴板读取数据，无需先保存</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6fdf72a6c8dd3d14aed1914d5acc58f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WkYJ7x1bYekWPJniLdpwfw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="bd48" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我写一个库或一个新概念时，我通常喜欢通过例子展示它的工作。我在文章中使用的数据集的来源千差万别。有时我会创建简单的玩具数据集，而在其他场合，我会使用像<a class="ae lu" rel="noopener" target="_blank" href="/5-real-world-datasets-for-exploratory-data-analysis-21b7cc5afe7e?sk=145c99771bacf641f080c410a54ecf9e"> Kaggle </a>和<a class="ae lu" rel="noopener" target="_blank" href="/getting-datasets-for-data-analysis-tasks-advanced-google-search-b1c01f9cc324"> Google search </a>这样的已建立的数据集网站。然而，每当我需要展示一个概念时，我都必须经历从源复制数据、将数据保存到我的系统并最终在我的开发环境中使用它的费力工作。想象一下，当我发现熊猫有一个内置的方法来解决这个问题时，我有多惊讶。当你想快速尝试一些新的函数或库时，这个被恰当地命名为<code class="fe lv lw lx ly b">read_clipboard</code>的方法绝对是救星，在本文中，我们将学习如何使用它。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="5739" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">使用pandas.read_clipboard()函数</h1><p id="060a" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">pandas的<code class="fe lv lw lx ly b"><a class="ae lu" href="https://pandas.pydata.org/docs/reference/api/pandas.read_clipboard.html" rel="noopener ugc nofollow" target="_blank">read_clipboard()</a></code>方法从复制到剪贴板的数据创建一个dataframe。<em class="nd"> </em> It <em class="nd"> </em>从剪贴板中读取文本，并将其传递给<code class="fe lv lw lx ly b"><a class="ae lu" href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html" rel="noopener ugc nofollow" target="_blank">read_csv()</a></code>，后者随后返回一个经过解析的DataFrame对象。</p><h2 id="7762" class="ne mh it bd mi nf ng dn mm nh ni dp mq lh nj nk ms ll nl nm mu lp nn no mw np bi translated">句法</h2><pre class="kj kk kl km gt nq ly nr ns aw nt bi"><span id="2e2b" class="ne mh it ly b gy nu nv l nw nx">pandas.read_clipboard<!-- -->(<em class="nd">sep='\\s+'</em>, <em class="nd">**kwargs</em>)</span></pre><p id="4062" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你和熊猫<code class="fe lv lw lx ly b">read_csv(),</code>一起工作过，那么<code class="fe lv lw lx ly b">read_clipboard()</code>的方法基本上是一样的。唯一的区别是后者中的数据源来自剪贴板缓冲区，而不是CSV文件。</p><blockquote class="ny nz oa"><p id="b2ec" class="ky kz nd la b lb lc ju ld le lf jx lg ob li lj lk oc lm ln lo od lq lr ls lt im bi translated">如果你想深入了解熊猫的<code class="fe lv lw lx ly b">read_csv</code>功能的一些参数，我会为你提供帮助。</p></blockquote><div class="oe of gp gr og oh"><a rel="noopener follow" target="_blank" href="/there-is-more-to-pandas-read-csv-than-meets-the-eye-8654cb2b3a03"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">“pandas.read_csv()”并不像看上去那样简单</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">深入研究pandas中read_csv函数的一些参数</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">towardsdatascience.com</p></div></div><div class="oq l"><div class="or l os ot ou oq ov ks oh"/></div></div></a></div></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="dbd3" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">使用</h1><p id="f251" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">现在让我们看看使用这种方法的各种方式。涉及的主要步骤是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/0fcbdfdc19244ef8da29f5bc0a05f523.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*mnBXUo3q_Wo4rFDuwNkwtQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">涉及的步骤|作者提供的图片</p></figure><h2 id="f28e" class="ne mh it bd mi nf ng dn mm nh ni dp mq lh nj nk ms ll nl nm mu lp nn no mw np bi translated">1.从Excel文件复制数据</h2><p id="0775" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">我们将从从excel文件复制一些数据集开始。这是最常见的情况。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/9b274684305a5fb755d72b5eb3128708.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*GHNz3AxZv6UgJKDU7ByQwQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者将数据复制到剪贴板|图像</p></figure><p id="d132" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在数据已经被复制到剪贴板上。接下来，我们将导航到Jupyter笔记本(或任何IDE)实例，并键入以下代码片段:</p><pre class="kj kk kl km gt nq ly nr ns aw nt bi"><span id="3d83" class="ne mh it ly b gy nu nv l nw nx">import pandas as pd<br/>df = pd.read_clipboard()<br/>df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/4ae10eb5fe935f9de7d2d2e8dbbccf26.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*fSkeAy4nOuiSGZDRC79L0w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者从复制的数据集|图像中获得的数据帧</p></figure><p id="693c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">复制的数据集被传递到变量<code class="fe lv lw lx ly b">df</code>中，现在可以在您的环境中使用了。下面是一张GIF，清晰地演示了这个过程。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/05546438dac8c924fe961165f864b9a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iPDYow5J_F6smvQQKwH4dg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">pandas_read_clipboard()方法|作者图片</p></figure><h2 id="ff95" class="ne mh it bd mi nf ng dn mm nh ni dp mq lh nj nk ms ll nl nm mu lp nn no mw np bi translated">2.从CSV文件复制数据</h2><p id="925d" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">如果您有一个CSV文件，步骤保持不变。您只需要对函数的参数进行某些更改。考虑以下CSV数据:</p><pre class="kj kk kl km gt nq ly nr ns aw nt bi"><span id="532b" class="ne mh it ly b gy nu nv l nw nx">,Order ID,Category,Sales,Quantity,Discount<br/>0,1,Apparels,16.448,2,0.2<br/>1,2,Electronics,65.0,87,0.2<br/>2,3,Cosmetics,272.736,3,0.2<br/>3,4,Apparels,3.54,2,0.8<br/>4,5,Electronics,19.536,3,0.2<br/>5,6,Cosmetics,19.44,3,0.0<br/>6,7,Grocery,12.78,3,0.0<br/>7,8,Grocery,2573.82,9,0.0<br/>8,9,Apparels,609.98,2,0.0<br/>9,10,Cosmetics,300.0,10,0.5</span></pre><p id="8f7a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">复制上面的数据，运行下面的代码。</p><pre class="kj kk kl km gt nq ly nr ns aw nt bi"><span id="e94f" class="ne mh it ly b gy nu nv l nw nx">df = pd.read_clipboard(<br/>    sep=",",<br/>    header="infer",<br/>    index_col=0,<br/>    names=["Order", "ID", "Category", "Sales", "Quantity", "Discount"],<br/>)</span><span id="4329" class="ne mh it ly b gy pa nv l nw nx">df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/f48cd2cd3ebd8c1bb6f63aadf6ffdac4.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*awOYPfomdLxuEaixUWlDtA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者从复制的数据集|图像中获得的数据帧</p></figure><p id="6a7c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们得到与步骤1相同的数据帧。我们只需要传入列名和关于<code class="fe lv lw lx ly b">header</code>和<code class="fe lv lw lx ly b"> index column.</code>的信息</p><h2 id="b08c" class="ne mh it bd mi nf ng dn mm nh ni dp mq lh nj nk ms ll nl nm mu lp nn no mw np bi translated">3.从网页拷贝数据</h2><p id="8695" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">您还可以从任何来源复制数据，包括网页，只要它是以dataframe的形式构造的。这是一个从<a class="ae lu" href="https://stackoverflow.com/questions/62318682/get-pandas-datframe-values-by-key" rel="noopener ugc nofollow" target="_blank"> StackOverflow </a>示例中复制数据并将其导入dataframe的示例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/f375aca07211c7056fee0c6cedea6691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yr_M50-p1noXmhwfNlmzbA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者从<a class="ae lu" href="https://stackoverflow.com/questions/62318682/get-pandas-datframe-values-by-key" rel="noopener ugc nofollow" target="_blank">网页</a> |图片中复制数据帧</p></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="0105" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">保存数据</h1><p id="794a" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">我们可以使用剪贴板数据以期望的格式保存数据集以供将来使用。</p><pre class="kj kk kl km gt nq ly nr ns aw nt bi"><span id="856a" class="ne mh it ly b gy nu nv l nw nx">df.to_csv('data.csv')</span></pre><p id="6fbd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您也可以将数据保存为HTML格式，以HTML表格的形式显示数据。</p><pre class="kj kk kl km gt nq ly nr ns aw nt bi"><span id="0074" class="ne mh it ly b gy nu nv l nw nx">df.to_html('data.html')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/d5410b959c959ea51f2644393bd4f08a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*A2NjvvYww0HfW-S0nRbBgw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫数据帧保存为HTML表格|作者图片</p></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="92b6" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">结论</h1><p id="e89e" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">既然你已经了解了<code class="fe lv lw lx ly b">read_clipboard</code>方法，你肯定会想尝试一下。我敢肯定，如果你喜欢创建数据相关的教程，这将派上用场。你也可以看看我写的关于熊猫功能的其他博客。例如，<a class="ae lu" rel="noopener" target="_blank" href="/get-interactive-plots-directly-with-pandas-13a311ebf426">这个</a>帮助你直接创建与熊猫互动的情节，而<a class="ae lu" rel="noopener" target="_blank" href="/a-hands-on-guide-to-sorting-dataframes-in-pandas-384996ca6bb8">这个</a>是一个在熊猫中“分类”数据帧的实践指南。</p></div></div>    
</body>
</html>