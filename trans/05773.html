<html>
<head>
<title>Highly Interactive Data Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">高度交互式数据可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/highly-interactive-data-visualization-cd3a9b082370?source=collection_archive---------25-----------------------#2021-05-23">https://towardsdatascience.com/highly-interactive-data-visualization-cd3a9b082370?source=collection_archive---------25-----------------------#2021-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1cd9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Panel-Highcharts在Python中创建高图表</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f66f3e10bf57e9ad72bd7e61c12b646b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-eZFAYYSjyUQgPRL3ugP_A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a>)</p></figure><p id="2610" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据可视化影响你讲故事，因为它帮助用户更清楚地了解你想说什么，并且用户可以实际可视化模式、见解等。你想告诉我的。可视化有配色方案，图案，不同类型的图表，如果展示得漂亮，会让用户着迷。</p><p id="88db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建可视化有不同的方法，python也有不同的库，可以创建视觉上吸引人的可视化。<a class="ae ky" href="https://github.com/MarcSkovMadsen/panel-highcharts" rel="noopener ugc nofollow" target="_blank"> Panel-Highcharts </a>是一个python库，使得在python中使用Highcharts进行探索性数据分析变得很容易。我们可以用它来使用Highcharts创建可视化效果，或者使用Panel创建仪表板。</p><p id="1c4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将探索可以使用Panel-Highcharts创建的不同类型的图表。</p><p id="c6ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧…</p><h1 id="2af4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">安装所需的库</h1><p id="c116" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">像任何其他python库一样，我们将使用pip安装Panel-Highcharts。下面给出的命令将安装所需的库及其依赖项。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="897f" class="mx lw it mt b gy my mz l na nb">pip install panel-highcharts</span></pre><h1 id="c214" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">导入所需的库</h1><p id="9fb7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">安装后，现在我们将导入创建可视化、加载数据等所需的库。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="b8d7" class="mx lw it mt b gy my mz l na nb">import panel_highcharts as ph<br/>import panel as pn<br/>pn.extension('highchart')</span></pre><h1 id="5b5c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">创建图表和绘图</h1><p id="863f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在，我们将开始可视化使用Panel-Highcharts创建的不同图表和绘图。</p><ol class=""><li id="f953" class="nc nd it lb b lc ld lf lg li ne lm nf lq ng lu nh ni nj nk bi translated"><strong class="lb iu">折线图</strong></li></ol><p id="6535" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将首先创建一个基本的折线图，然后创建一个小部件来处理该图表。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0c48" class="mx lw it mt b gy my mz l na nb">#Define the configuration and the data to be used in chart <br/>configuration = {<br/>    "title": {"text": "Line Chart Pane"},<br/>    "series": [<br/>        {<br/>            "name": "Sales",<br/>            "data": [100, 250, 150, 400, 500],<br/>        }<br/>    ]<br/>}</span><span id="81c6" class="mx lw it mt b gy nl mz l na nb">ph.HighChart(object=configuration, sizing_mode="stretch_width")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/f9d3b1c4c51835a40a979a0753422981.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wpG3xxyRp4Xi3LVBRohMng.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">折线图(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a>)</p></figure><p id="c7b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们可以看到使用Highcharts创建的折线图。在给出的图像中，右侧有一个切换按钮，允许用户下载不同格式的图表和数据。</p><p id="ff33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们创建一个小部件框，它可以用来处理这个图表。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4802" class="mx lw it mt b gy my mz l na nb">chart = ph.HighChart(object=configuration, sizing_mode= "stretch_width")</span><span id="aa40" class="mx lw it mt b gy nl mz l na nb">settings = pn.WidgetBox(<br/>    pn.Param(<br/>        chart,<br/>        parameters=["height", "width", "sizing_mode", "margin", "object", "event", ],<br/>                widgets={"object": pn.widgets.LiteralInput, "event": pn.widgets.StaticText},<br/>        sizing_mode="fixed", show_name=False, width=250,<br/>    )<br/>)<br/>pn.Row(settings, chart, sizing_mode="stretch_both")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/fe7cf9b5b3c483f11130af5cd669012e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dNobqOrknzDrzCiAdK2Ihg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有小部件的折线图(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a>)</p></figure><p id="b021" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们可以看到一个小部件框，我们可以调整这些值，并在折线图中查看结果。这有助于向观众展示特性的变化如何导致价值观的变化。</p><p id="1b55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.<strong class="lb iu">股票走势图</strong></p><p id="9301" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用这个库创建图表来表示股票数据。我们将导入request和json来下载股票数据，并使用highstock扩展。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2511" class="mx lw it mt b gy my mz l na nb">pn.extension('highstock')<br/>import requests, json</span><span id="bc65" class="mx lw it mt b gy nl mz l na nb">#Downloading Data<br/>data = requests.get('<a class="ae ky" href="https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/new-intraday.json').json()" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/new-intraday.json').json()</a></span><span id="10c7" class="mx lw it mt b gy nl mz l na nb">#Creating Configuration<br/>configuration = {<br/>    "title": {"text": "AAPL stock price by minute"},<br/>    "rangeSelector": {<br/>        "buttons": [<br/>            {"type": "hour", "count": 1, "text": "1h"},<br/>            {"type": "day", "count": 1, "text": "1D"},<br/>            {"type": "all", "count": 1, "text": "All"},<br/>        ],<br/>        "selected": 1,<br/>        "inputEnabled": False,<br/>    },<br/>    "series": [<br/>        {"name": "AAPL", "type": "candlestick", "data": data, "tooltip": {"valueDecimals": 2}}<br/>    ],<br/>}</span><span id="4fc0" class="mx lw it mt b gy nl mz l na nb">#Visualizing the chart<br/>chart = ph.HighStock(object=configuration,  sizing_mode= "stretch_width", height=600)<br/>chart</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/4d118605f7a9f46d741718777a76d406.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*anpkI3kRWemiKwjQD_Uc3Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">股票图表(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a></p></figure><p id="5464" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们可以使用Highstock扩展来可视化股票数据，该扩展创建了一个蜡烛图。类似于折线图，您也可以在此绘制小部件框。</p><p id="5b01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.<strong class="lb iu">地理图</strong></p><p id="f430" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以使用高图表来创建一个地理图。为此，我们将加载扩展highmap并从在线源加载数据。我们将创建一个情节，然后将其作为一个应用程序与部件框渲染。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="e713" class="mx lw it mt b gy my mz l na nb">pn.extension('highmap')</span><span id="0ec7" class="mx lw it mt b gy nl mz l na nb"><strong class="mt iu">#Creating configuration</strong><br/>configuration = {<br/>    "chart": {"map": "custom/europe", "borderWidth": 1},<br/>    "title": {"text": "Nordic countries"},<br/>    "subtitle": {"text": "Demo of drawing all areas in the map, only highlighting partial data"},<br/>    "legend": {"enabled": False},<br/>    "series": [<br/>        {<br/>            "name": "Country",<br/>            "data": [["is", 1], ["no", 1], ["se", 1], ["dk", 1], ["fi", 1]],<br/>            "dataLabels": {<br/>                "enabled": True,<br/>                "color": "#FFFFFF",<br/>                "formatter": """function () {<br/>                if (this.point.value) {<br/>                    return this.point.name;<br/>                }<br/>            }""",<br/>            },<br/>            "tooltip": {"headerFormat": "", "pointFormat": "{point.name}"},<br/>        }<br/>    ],<br/>}</span><span id="b67f" class="mx lw it mt b gy nl mz l na nb"><strong class="mt iu">#Creating Visualization</strong><br/>chart = ph.HighMap(object=configuration, sizing_mode= "stretch_width", height=600)</span><span id="d2f7" class="mx lw it mt b gy nl mz l na nb">#Adding widget box<br/>settings = pn.WidgetBox(<br/>    pn.Param(<br/>        chart,<br/>        parameters=["height", "width", "sizing_mode", "margin", "object", "object_update", "event", ],<br/>                widgets={"object": pn.widgets.LiteralInput, "object_update": pn.widgets.LiteralInput, "event": pn.widgets.StaticText},<br/>        sizing_mode="fixed", show_name=False, width=250,<br/>    )<br/>)<br/>pn.Row(settings, chart, sizing_mode="stretch_both")</span><span id="df63" class="mx lw it mt b gy nl mz l na nb"><strong class="mt iu">#Creating Events</strong><br/>event_update = {<br/>    "series": [<br/>        {<br/>            "allowPointSelect": "true",<br/>            "point": {<br/>                "events": {<br/>                    "click": "@click;}",<br/>                    "mouseOver": "@mouseOverFun",<br/>                    "select": "@select",<br/>                    "unselect": "@unselect",<br/>                }<br/>            },<br/>            "events": {<br/>                "mouseOut": "@mouseOutFun",<br/>            }<br/>        }<br/>    ]<br/>}<br/>chart.object_update=event_update</span></pre><p id="8bc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这之后，我们都创建应用程序并呈现它。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="f034" class="mx lw it mt b gy my mz l na nb">chart.object =configuration = {<br/>    "chart": {"map": "custom/europe", "borderWidth": 1},<br/>    "title": {"text": "Nordic countries"},<br/>    "subtitle": {"text": "Demo of drawing all areas in the map, only highlighting partial data"},<br/>    "legend": {"enabled": <strong class="mt iu">False</strong>},<br/>    "series": [<br/>        {<br/>            "name": "Country",<br/>            "data": [["is", 1], ["no", 1], ["se", 1], ["dk", 1], ["fi", 1]],<br/>            "dataLabels": {<br/>                "enabled": <strong class="mt iu">True</strong>,<br/>                "color": "#FFFFFF",<br/>                "formatter": """function () {<br/>                if (this.point.value) {<br/>                    if (this.point.name=="Denmark"){<br/>                        return "❤️ " + this.point.name;<br/>                    } else {<br/>                        return this.point.name;<br/>                    }<br/>                }<br/>            }""",<br/>            },<br/>            "tooltip": {"headerFormat": "", "pointFormat": "<strong class="mt iu">{point.name}</strong>"},<br/>            "allowPointSelect": "true",<br/>            "point": {<br/>                "events": {<br/>                    "click": "@click;}",<br/>                    "mouseOver": "@mouseOverFun",<br/>                    "select": "@select",<br/>                    "unselect": "@unselect",<br/>                }<br/>            },<br/>            "events": {<br/>                "mouseOut": "@mouseOutFun",<br/>            }<br/>        }<br/>    ],<br/>}</span><span id="02a9" class="mx lw it mt b gy nl mz l na nb">#Rendering Application<br/>app = pn.template.FastListTemplate(<br/>    site="Panel Highcharts",<br/>    title="HighMap Reference Example", <br/>    sidebar=[settings], <br/>    main=[chart]<br/>).servable()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/85613645318ebfbc755c2261bc90a50c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*A1HbEpvExAFVQFtb"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">HighMap地理图(来源:www.github.com)</p></figure><p id="5f9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是我们如何使用Panel-highcharts创建不同的图。还有很多其他的剧情可以尝试。</p><p id="68cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我们已经经历了某些情节以及如何创建它们，这些情节是高度交互和可下载的。继续尝试不同的数据集，并让我知道您在回复部分的评论。</p><p id="e7d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文是与<a class="np nq ep" href="https://medium.com/u/40808d551f5a?source=post_page-----cd3a9b082370--------------------------------" rel="noopener" target="_blank">皮尤什·英格尔</a>合作完成的</p><h1 id="b0ae" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">在你走之前</h1><p id="61cb" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><strong class="lb iu"> <em class="nr">感谢</em> </strong> <em class="nr">的阅读！如果你想与我取得联系，请随时通过hmix13@gmail.com联系我或我的</em> <a class="ae ky" href="http://www.linkedin.com/in/himanshusharmads" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="nr"> LinkedIn个人资料</em> </strong> </a> <em class="nr">。可以查看我的</em><a class="ae ky" href="https://github.com/hmix13" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="nr">Github</em></strong><em class="nr"/></a><em class="nr">简介针对不同的数据科学项目和包教程。还有，随意探索</em> <a class="ae ky" href="https://medium.com/@hmix13" rel="noopener"> <strong class="lb iu"> <em class="nr">我的简介</em> </strong> </a> <em class="nr">，阅读我写过的与数据科学相关的不同文章。</em></p></div></div>    
</body>
</html>