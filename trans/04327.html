<html>
<head>
<title>Book Writing Pattern Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">书籍写作模式分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/book-writing-pattern-analysis-625f7c47c9ad?source=collection_archive---------36-----------------------#2021-04-12">https://towardsdatascience.com/book-writing-pattern-analysis-625f7c47c9ad?source=collection_archive---------36-----------------------#2021-04-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="60aa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过一个用例开始NLTK和Python文本分析。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/21fad9a7b96d96c229e32c4d7f0c656d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d6nJbuGmlTZc9bksbP2EjA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">西雅图图书馆Andrew Zhu摄</p></figure><p id="6826" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi lu translated">当我还是学生的时候，我读到一些文章，说语言学家可以使用文本分析技术来确定一本匿名书的作者。我当时觉得很酷。</p><p id="dccf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">回想起来，感觉这个手法还是很酷的。但是，如今在NLTK和Python的帮助下，你和我可以通过几行代码成为“真正的”语言学家。</p><h2 id="fd8e" class="md me it bd mf mg mh dn mi mj mk dp ml lh mm mn mo ll mp mq mr lp ms mt mu mv bi translated">准备分析目标</h2><p id="fd47" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">您不需要编写一个爬虫来搜索分析语料库。出于学习和研究的目的，NLTK包中已经有一个巨大的文本数据库。如果您没有安装这个包，只需运行pip来安装它。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="6de2" class="md me it nd b gy nh ni l nj nk">pip install nltk</span></pre><p id="dfb4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后从<a class="ae nb" href="http://www.gutenberg.org/" rel="noopener ugc nofollow" target="_blank">古腾堡</a>下载书籍数据，这是古腾堡项目电子文本档案中的一小部分文本。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="3bfa" class="md me it nd b gy nh ni l nj nk">import nltk<br/>nltk.download("gutenberg")</span></pre><p id="0590" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下载应该在1或2秒内完成。让我们列出下载书籍的名单。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="8814" class="md me it nd b gy nh ni l nj nk">from nltk.corpus import gutenberg<br/>gutenberg.fileids()</span></pre><p id="fc9b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你会看到像莎士比亚的《凯撒》、奥斯汀的《爱玛》和《圣经》等书籍。让我们看看圣经KJV版本中包含了多少单词。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="6f77" class="md me it nd b gy nh ni l nj nk">bible = gutenberg.words('bible-kjv.txt')<br/>len(bible)</span></pre><p id="8b14" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">共计1010654字。</p><h2 id="cac5" class="md me it bd mf mg mh dn mi mj mk dp ml lh mm mn mo ll mp mq mr lp ms mt mu mv bi translated">衡量图书作者写作模式的标准</h2><p id="d078" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">我将使用以下3个指标来检测作者的写作模式。</p><ol class=""><li id="bd8f" class="nl nm it la b lb lc le lf lh nn ll no lp np lt nq nr ns nt bi translated"><strong class="la iu">平均字数</strong> <br/>这个指标反映了作者的词汇使用偏好，长词还是短词。</li><li id="043b" class="nl nm it la b lb nu le nv lh nw ll nx lp ny lt nq nr ns nt bi translated"><strong class="la iu">一个句子的平均字数</strong> <br/>这个度量反映了作者的句子偏好，喜欢用长句还是短句。</li><li id="fef7" class="nl nm it la b lb nu le nv lh nw ll nx lp ny lt nq nr ns nt bi translated"><strong class="la iu">书中使用的平均不同词汇</strong> <br/>这个指标反映了作者的词汇量，很难伪造。</li></ol><p id="9cdf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可能会说，为什么不从每个作者那里获取最常用的单词和短语。是的，这很好，可能会产生更有趣的结果。但是频繁的单词检测也会给上下文带来额外的逻辑，可能会破坏这篇文章的可读性。(也许值得再写一篇如何自动检测关键词的文章)。</p><h2 id="e42b" class="md me it bd mf mg mh dn mi mj mk dp ml lh mm mn mo ll mp mq mr lp ms mt mu mv bi translated">在古腾堡的书上应用3个标准</h2><p id="a04e" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">现在，用Python代码将这三个指标应用到古腾堡的书中。逻辑很简单，用NLTK的<code class="fe nz oa ob nd b">raw()</code>、<code class="fe nz oa ob nd b">words()</code>和<code class="fe nz oa ob nd b">sents()</code>来捕捉字符#、单词#、句子#。并使用酷炫的Python comprehensive with <code class="fe nz oa ob nd b">set </code>数据容器在一行代码中获取词汇编号。</p><p id="0055" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你愿意，你可以把它复制并粘贴到你的Jupyter笔记本上来看看结果。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="654a" class="md me it nd b gy nh ni l nj nk">import pandas as pd <br/>data = []<br/>for fileid in gutenberg.fileids():<br/>    num_chars = len(gutenberg.raw(fileid))<br/>    num_words = len(gutenberg.words(fileid))<br/>    num_sents = len(gutenberg.sents(fileid))<br/>    # get total vocabulary used in this book<br/>    num_vocab = len(set(w.lower() for w in gutenberg.words(fileid))) <br/>    data.append([<br/>        fileid.split('.')[0] # remove .txt from file name<br/>        ,round(num_chars/num_words)    <br/>        ,round(num_words/num_sents)<br/>        # total vocabulary used divide total words used<br/>        ,round(num_vocab/num_words,2) <br/>    ])<br/>pattern_metrics = pd.DataFrame(data,columns=['author-book','chars_per_word','words_per_sentence','vocabulary_rate'])<br/>pattern_metrics</span></pre><p id="16e2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从结果集中，我们可以很容易地看到奥斯汀每句话使用25到28个单词，而莎士比亚使用更多的短句，一致为12个。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/af4e237c1ac69f4fa5916ae28b1a223b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5HbnPhR-GcTVKJYCIUS1A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据表中的3个度量结果</p></figure><p id="5c85" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">莎士比亚被誉为英语的奠基者，的确，除了布莱克的诗之外，他的作品显然比其他作品用了更多的词汇。</p><p id="31e4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">结果是如此惊人和明显，你可以从这个表中得出更多的结论。如果数字不够清楚，条形图应该更直观地显示结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/a522a405cf8ff4cab2e2ee3a69537153.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1gu-mp8CAkawVxte23MolA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">可视化指标</p></figure><p id="d248" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有了这种图表，你也可以为你的孩子列出阅读清单。开始阅读时使用较少的词汇和短句。嗯，Edgeworth的<a class="ae nb" href="https://en.wikipedia.org/wiki/The_Parent%27s_Assistant" rel="noopener ugc nofollow" target="_blank">家长助手</a>看起来是个不错的开始。半夜睡不着的时候，去读几首布莱克的诗可能是个不错的选择。</p><h2 id="7e48" class="md me it bd mf mg mh dn mi mj mk dp ml lh mm mn mo ll mp mq mr lp ms mt mu mv bi translated">结论</h2><p id="f245" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">下次，当J.K .罗琳<a class="ae nb" href="https://www.theguardian.com/books/2013/jul/14/jk-rowling-crime-novel-cuckoos-calling" rel="noopener ugc nofollow" target="_blank">用假名</a>出版另一本小说时。你可以很容易地运行几行Python代码来确定这本新小说是不是J.K .罗琳写的。发表在杂志上，做一个“语言学家”。也许另一个年轻的头脑会阅读它，并成为数据科学家。</p></div></div>    
</body>
</html>