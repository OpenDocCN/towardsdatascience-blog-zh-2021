<html>
<head>
<title>Einstein index notation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">爱因斯坦指数符号</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/einstein-index-notation-d62d48795378?source=collection_archive---------11-----------------------#2021-08-24">https://towardsdatascience.com/einstein-index-notation-d62d48795378?source=collection_archive---------11-----------------------#2021-08-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="741f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">爱因斯坦求和、指数符号和数值</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bf7111caf64e8682e4694949100c7bd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0ntPvTfvTYI2NmLJ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@weristhari?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">汉尼斯·里克特</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="a8d7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">爱因斯坦符号与矩阵</h1><p id="4bda" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">作为一个线性代数迷，向量和矩阵迷，我很长一段时间都不清楚为什么我应该使用爱因斯坦符号。但是当我对反向传播微积分感兴趣的时候，我到了一个点，张量参与其中，然后我意识到用矩阵的方式思考将我的思维限制在二维。在这篇文章中，我仍然会使用许多矩阵和向量的类比，以便这个主题变得更容易理解。</p><h1 id="ec7a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">自由指数</h1><p id="e633" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">自由指数是出现在等式两边的指数。例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/f7d998d4fb727b6b4a63a6a68b16a067.png" data-original-src="https://miro.medium.com/v2/resize:fit:494/format:webp/1*eTgnlcKQ4NEKtAJOH65Pfg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="50ec" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">𝑣现在可以表示一行或一列向量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/e462245390ebc447661ed8c3b5be6699.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*EuJLTXTuT8Rvu0tWZX6R_A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="a2ee" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">这并不是索引符号的要点。你把自己从任何矢量的具体表示中解放出来。</p><p id="254b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们还可以有两个自由指数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/62e98eeaf4179509af949b89184cc517.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*QDo0_gXAJcS1crcjCgpPtQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="8915" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们可以想象这个方程描述了矩阵的行和列<strong class="lt iu"> 𝐴 </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/7904f8ddbf9e06ce98b46b2ed7471433.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*nSrI2gtskufluSucr-SlEQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="25f3" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">然而，如果我们继续增加自由指数的数量，就越来越难以想象一个具体的表示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/05bca8289cb602828485439ef758c848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*eZP0NCYfdxmZjk44ILyyCA.png"/></div></figure><p id="23de" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如果有3个自由指数，它将是一个张量，我们可以把它想象成一个矩阵向量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/a14811eda82343df457a1e9e1c795764.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*T3HAYaeXP_ePrX7xim28tA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><h1 id="dc8b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">虚拟指数</h1><p id="d1bd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">哑元可以出现在等式的一边，作为指数，它们在每个产品中出现的次数是偶数。</p><p id="470b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">一个例子是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/60b70acf58b21060f6c43d71278e05c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*Xp-JanIwOnaKLTxVcOM5qA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="708e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">这个等式也可以写成一个行向量和一个列向量的内积。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/8711470cd4cd4370ebb803995a305b15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nRRW46JZd4LB1Y7hQEb9BQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><h1 id="21e9" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">爱因斯坦求和约定</h1><p id="79a4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当我们使用应用这一惯例时，即使没有求和符号，我们也会对虚拟索引求和。这个约定是有用的，因为虚拟指数的求和在线性代数中经常发生。</p><p id="0626" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">应用这一约定，最后一个等式可以改写如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/4bb4fca71b5bd4d4ae51a13954810cad.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*e5y04xCRW8AUH7cXglFP_g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><h1 id="4d9a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">上限和下限指数</h1><p id="8f47" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">有些人适用以下约定，有些人不适用。如果我必须在索引符号和矢量化形式之间快速转换，我自己也会使用它。</p><p id="148e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">使用这个惯例，我们写下和上索引。请不要将上面的指数与“的幂”相混淆。</p><p id="f6cf" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">那么只有彼此对角的相同指数被求和。</p><p id="1e8b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">重复索引的示例，我们对其求和:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/2736ef3a2ce90f617603dd01b670550a.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*4ySh4WFt4sSSsHT68lrpIA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="603c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">另一个例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/5765896b8e52a077b3ea6197d31199d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*A_9p8EYgntX6jZmibmqZuw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="9b38" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">重复索引的示例，我们<strong class="lt iu">不对其进行</strong>求和:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/8c7c31894539bd11f9b63fdfb5ca4acf.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*QNhEZsIxjOwycywkVFnQbA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><h1 id="81e8" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">组合自由和虚拟索引</h1><p id="ab4c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">大多数情况下，我们会在同一个等式中找到空闲和虚拟索引。对于一些读者来说，这可能一开始听起来很可怕，但是看过几次之后，我相信你会欣赏它的抽象性。</p><p id="eee5" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">让我们看看下面的等式:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/da457da2a9705387a296385c34b7294c.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*gag8zzPKjuI2eq8rzO4ajg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="c980" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们将用索引符号重写它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/14fc5c2b23b7c59073d4643ce6e0551a.png" data-original-src="https://miro.medium.com/v2/resize:fit:274/format:webp/1*aB3pB0yma1p1hVY_H7lhdQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="5c22" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">这里可以看到，索引I是一个自由索引，索引j是一个伪索引，get被求和。</p><p id="5657" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如果你想只使用下标，你可以这样写:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/5d9055a982ad3b46d7b5a5963021bbb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:290/format:webp/1*xIsLPyGOirpGBtZXOQG8rg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><h1 id="5e0d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">np.einsum</h1><p id="60fe" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在numpy中，你可以使用爱因斯坦符号来乘数组。这为np.dot()函数提供了一个替代方法，它是线性代数点积的numpys实现。</p><p id="93a0" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">但是np.einsum能做的比np.dot多。</p><p id="c1e7" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">np.einsum可以以任何可能的方式将数组相乘，此外:</p><ul class=""><li id="3a5e" class="nf ng it lt b lu mo lx mp ma nh me ni mi nj mm nk nl nm nn bi translated">沿轴求和</li><li id="aaa0" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm nk nl nm nn bi translated">转置输入和输出数组</li></ul><p id="f780" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">以及这些操作以任何顺序的任何可能的组合。</p><h2 id="967b" class="nt la it bd lb nu nv dn lf nw nx dp lj ma ny nz ll me oa ob ln mi oc od lp oe bi translated">np.einsum的第一个例子</h2><p id="1eca" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们先来看一个例子。我们创建两个2D数组:<strong class="lt iu"> A </strong>和<strong class="lt iu"> B </strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者代码)</p></figure><p id="874b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">当现在计算A与B的点积时:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者代码)</p></figure><p id="b5e5" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">输出是:</p><pre class="kj kk kl km gt oh oi oj ok aw ol bi"><span id="6b38" class="nt la it oi b gy om on l oo op">[[ 6 12 18]<br/> [ 9 18 27]<br/> [12 24 36]]</span></pre><p id="1e2b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们现在想对np.einsum做同样的事情:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者代码)</p></figure><p id="abae" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">结果是一样的:</p><pre class="kj kk kl km gt oh oi oj ok aw ol bi"><span id="9194" class="nt la it oi b gy om on l oo op">[[ 6 12 18]<br/> [ 9 18 27]<br/> [12 24 36]]</span></pre><p id="f27b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">但是这是怎么回事呢？我们必须理解所谓的签名字符串:“ik，kj-&gt;ij”。</p><p id="de06" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">箭头的左边是:ik，kj。这部分指定了输入数组的索引。</p><p id="ab81" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">箭头的右边是:ij。这部分指定了结果数组的索引。</p><p id="3524" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">整个签名串将意味着:“第一输入数组具有索引ik，第二输入串具有索引kj。这些索引被转换成输出数组中的索引ij”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/043eec12f140d87269ae7fda9a0c50b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bYrGQJs-v9qEPNDIKgPQ_w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="dcaa" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">相应的数学等式如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/6fce2458eafb3c8b674ef730fe816e52.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*roJWz3EqHnEkOhTHqmOEFg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="e967" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu">NP . einsum的第二个例子</strong></p><p id="a78c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">假设我们有相同的两个数组<strong class="lt iu"> A </strong>和<strong class="lt iu"> B </strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者代码)</p></figure><p id="5f09" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们想在元素方面增加它们。在numpy中，我们可以这样做:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="b3bb" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">结果将是:</p><pre class="kj kk kl km gt oh oi oj ok aw ol bi"><span id="32b9" class="nt la it oi b gy om on l oo op">[[ 1 4 9 ]<br/> [ 2 6 12]<br/> [ 3 8 15]]</span></pre><p id="e79d" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们对np.einsum做同样的事情:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者代码)</p></figure><p id="26b8" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">得到的数组是相同的。</p><pre class="kj kk kl km gt oh oi oj ok aw ol bi"><span id="c7c7" class="nt la it oi b gy om on l oo op">[[ 1 4 9 ]<br/> [ 2 6 12]<br/> [ 3 8 15]]</span></pre><p id="0986" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">阵列乘法以如下方式执行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/757c4a5e7d3a9c8e38f87259e2078251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ShFodQHxpqlAStrmCEcAKg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="904e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu">NP . einsum的第三个例子</strong></p><p id="f3e7" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们现在想要A和b的转置的点积。</p><p id="9c6b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们编写了与A和B的点积相同的代码，但是我们交换了B的索引。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="31af" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">阵列乘法以如下方式执行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/f4967bdad23844d926906a40fbcd2171.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ybDytjDsJ_YosgVJrFA2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="89b6" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu">NP . einsum的第四个例子</strong></p><p id="8f5a" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">好吧，假设我们想要执行相同的元素乘法，但是想要在列轴(轴1)上求和。</p><p id="b40f" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">np.einsum可以做到:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="374e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">结果如下所示:</p><pre class="kj kk kl km gt oh oi oj ok aw ol bi"><span id="dc18" class="nt la it oi b gy om on l oo op">[14 20 26]</span></pre><p id="0978" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">请注意，numpy减少了输出结果中的一个维度，得到的向量只是1D。</p><p id="d1a3" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">数组乘法是这样执行的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/5fbdd6b231e6e3d90823a62f1f1ac070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*zvFL1x61CB0T_73miDvC6w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><h1 id="8471" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="c7e8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">到目前为止，您应该对爱因斯坦符号和np.einsum的工作原理有了基本的了解。如果对你来说这是一个新的话题，那么我强烈建议你用np.einsum做实验，改变虚拟索引和自由索引，看看结果如何变化。</p><h1 id="28b8" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关文章</h1><p id="8bc0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/backpropagation-in-neural-networks-6561e1268da8">https://towards data science . com/back propagation-in-neural-networks-6561 e 1268 da 8</a></p><p id="566b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/backpropagation-in-neural-networks-6561e1268da8">https://towards data science . com/back propagation-in-neural-networks-6561 e 1268 da 8</a></p><h2 id="a1d2" class="nt la it bd lb nu nv dn lf nw nx dp lj ma ny nz ll me oa ob ln mi oc od lp oe bi translated">想联系支持我？</h2><p id="e5fe" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">LinkedIn<br/><a class="ae ky" href="https://www.linkedin.com/in/vincent-m%C3%BCller-6b3542214/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/vincent-m%C3%BCller-6b3542214/</a><br/>脸书<br/><a class="ae ky" href="https://www.facebook.com/profile.php?id=100072095823739" rel="noopener ugc nofollow" target="_blank">https://www.facebook.com/profile.php?id=100072095823739</a><br/>Twitter<br/><a class="ae ky" href="https://twitter.com/Vincent02770108" rel="noopener ugc nofollow" target="_blank">https://twitter.com/Vincent02770108</a><br/>Medium<br/><a class="ae ky" href="https://medium.com/@Vincent.Mueller" rel="noopener">https://medium.com/@Vincent.Mueller</a><br/>成为Medium会员并支持我(你的部分会费直接归我)<br/><a class="ae ky" href="https://medium.com/@Vincent.Mueller/membership" rel="noopener">https://medium.com/@Vincent.Mueller/membership</a></p></div></div>    
</body>
</html>