<html>
<head>
<title>Applied Models of Production Planning Systems in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中生产计划系统的应用模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/applied-models-of-production-planning-systems-in-python-942a2c91e6ad?source=collection_archive---------6-----------------------#2021-10-24">https://towardsdatascience.com/applied-models-of-production-planning-systems-in-python-942a2c91e6ad?source=collection_archive---------6-----------------------#2021-10-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b9f9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在Python中开发了生产计划系统之后，可以扩展我们的系统，以包括人员配备和材料模型，从而将这些计划作为详细的工作计划和订单报告来实施。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dcb05150b5d983e8a1db5cf470df004a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8J26tptJLc9B7NLWRyAwhQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者在谷歌地球上拍摄的制造工厂照片</p></figure><p id="4230" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们的上一篇文章<a class="ae lu" rel="noopener" target="_blank" href="/production-planning-and-resource-management-of-manufacturing-systems-in-python-5458e9c04183">Python中制造系统的生产计划和资源管理</a>中，我们介绍了如何获取一系列具有已知持续时间、依赖性和所需资源的制药任务，并加载一个矩阵以最小化计划中的停机时间。从这个矩阵中，我们可以生成资源利用统计数据，以及用于跟踪进度的交互式甘特图。</p><p id="1a80" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然我们项目的最后一次迭代生成了一个功能齐全的时间表，但真正的制造计划需要分配、跟踪和报告额外的信息和资源。在本文中，我们将介绍上一个项目的一些扩展，这些扩展允许我们的生产计划具有额外的覆盖范围和高级分析。</p><p id="3047" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将讨论的主题包括:</p><ul class=""><li id="d85b" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">调度过程中的任务优先级</li><li id="4d2a" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">操作员的任务培训要求</li><li id="ab2f" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">操作员培训跟踪、装载、利用和成本核算</li><li id="7ffb" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">增值任务分析</li><li id="ef21" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">逐班报告和说明</li><li id="46f3" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">消耗材料报告和计划</li></ul><p id="1acd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你还没有阅读前一篇文章，请点击<a class="ae lu" rel="noopener" target="_blank" href="/production-planning-and-resource-management-of-manufacturing-systems-in-python-5458e9c04183">这里</a>来看看目前为止都报道了些什么！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="b6b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们调度模型的所有任务数据都来自一个JSON文件。下面的文件描述了我们的任务数据，修改后包括附加数据以帮助后期调度，以及一些附加任务。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="598e" class="mv mw it mr b gy mx my l mz na">{<br/>  "Items": [<br/>    {<br/>      "ID":1,<br/>      "Name":"Seed",<br/>      "Description":"Start fermentation from vial of seed material.",<br/>      "Process":"Fermentation",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":2,<br/>        "SafetyCabinet":1<br/>      },<br/>      "Dependencies":[0],<br/>      "Duration":2,<br/>      "TrainingRequirements":["1A"],<br/>      "ValueAdding":1,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "SeedVial":4<br/>      }<br/>    },<br/>    {<br/>      "ID":2,<br/>      "Name":"Flasks",<br/>      "Description":"Ferment seed material in flasks.",<br/>      "Process":"Fermentation",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":2,<br/>        "SafetyCabinet":1<br/>      },<br/>      "Dependencies":[1],<br/>      "Duration":3,<br/>      "TrainingRequirements":["1A"],<br/>      "ValueAdding":1,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "Flasks":4,<br/>        "Agar":2<br/>      }<br/>    },<br/>    {<br/>      "ID":3,<br/>      "Name":"Small Fermentor",<br/>      "Description":"Ferment in small fermentation vessel.",<br/>      "Process":"Fermentation",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":2,<br/>        "SmallFermentor":1<br/>      },<br/>      "Dependencies":[2],<br/>      "Duration":3,<br/>      "TrainingRequirements":["1B"],<br/>      "ValueAdding":1,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "GrowthMedium":10<br/>      }<br/>    },<br/>    {<br/>      "ID":4,<br/>      "Name":"Large Fermentor",<br/>      "Description":"Ferment and inactivare in large fermentation vessel.",<br/>      "Process":"Fermentation",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":2,<br/>        "LargeFermentor":1<br/>      },<br/>      "Dependencies":[3],<br/>      "Duration":4,<br/>      "TrainingRequirements":["1B"],<br/>      "ValueAdding":1,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "GrowthMedium":50<br/>      }<br/>    },<br/>    {<br/>      "ID":5,<br/>      "Name":"Prepare Filters",<br/>      "Description":"Prep purification filters for next step.",<br/>      "Process":"Purification",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":1,<br/>        "PurificationTank":1<br/>      },<br/>      "Dependencies":[3],<br/>      "Duration":1,<br/>      "TrainingRequirements":["2A"],<br/>      "ValueAdding":0,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "Ethanol":20,<br/>        "Filters":2<br/>      }<br/>    },<br/>    {<br/>      "ID":6,<br/>      "Name":"Purification Filters",<br/>      "Description":"Start purification in first purification assembly.",<br/>      "Process":"Purification",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":3,<br/>        "PurificationTank":1<br/>      },<br/>      "Dependencies":[4,5],<br/>      "Duration":4,<br/>      "TrainingRequirements":["2A"],<br/>      "ValueAdding":1,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>      }<br/>    },<br/>    {<br/>      "ID":7,<br/>      "Name":"Centrifuge",<br/>      "Description":"Separate material in centrifuges.",<br/>      "Process":"Purification",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":2,<br/>        "Centrifuge":2<br/>      },<br/>      "Dependencies":[6],<br/>      "Duration":4,<br/>      "TrainingRequirements":["2B"],<br/>      "ValueAdding":1,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "Bowls":2,<br/>        "Inserts":2<br/>      }<br/>    },<br/>    {<br/>      "ID":8,<br/>      "Name":"Sterile Filter",<br/>      "Description":"Start sterilization of material.",<br/>      "Process":"Sterile Boundary",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":3,<br/>        "SterileAssembly":1<br/>      },<br/>      "Dependencies":[7],<br/>      "Duration":2,<br/>      "TrainingRequirements":["2C"],<br/>      "ValueAdding":1,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "SterileFilters":4,<br/>        "SterileTubing":4<br/>      }<br/>    },<br/>    {<br/>      "ID":9,<br/>      "Name":"Adjuvants",<br/>      "Description":"Add adjuvants to bulk material.",<br/>      "Process":"Sterile Boundary",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":2,<br/>        "SterileAssembly":1<br/>      },<br/>      "Dependencies":[8],<br/>      "Duration":2,<br/>      "TrainingRequirements":["3A"],<br/>      "ValueAdding":1,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "Aluminum":10<br/>      }<br/>    },<br/>    {<br/>      "ID":10,<br/>      "Name":"Prepare Vials",<br/>      "Description":"Sterilize bulk vials.",<br/>      "Process":"Sterile Boundary",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":2,<br/>        "VialFiller":1<br/>      },<br/>      "Dependencies":[8],<br/>      "Duration":1,<br/>      "TrainingRequirements":["3B"],<br/>      "ValueAdding":0,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "Vials":1000<br/>      }<br/>    },<br/>    {<br/>      "ID":11,<br/>      "Name":"Fill",<br/>      "Description":"Fill vials with bulk material.",<br/>      "Process":"Sterile Boundary",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":2,<br/>        "VialFiller":1<br/>      },<br/>      "Dependencies":[9,10],<br/>      "Duration":3,<br/>      "TrainingRequirements":["3B"],<br/>      "ValueAdding":1,<br/>      "Priority":1,<br/>      "Materials":<br/>      {<br/>        "Caps":1000<br/>      }<br/>    },<br/>    {<br/>      "ID":12,<br/>      "Name":"Clean Vial Filler",<br/>      "Description":"Clean vial filling machine.",<br/>      "Process":"Sterile Boundary",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":2,<br/>        "VialFiller":1<br/>      },<br/>      "Dependencies":[11],<br/>      "Duration":2,<br/>      "TrainingRequirements":["4A"],<br/>      "ValueAdding":0,<br/>      "Priority":2,<br/>      "Materials":<br/>      {<br/>        "CleaningAgent":5<br/>      }<br/>    },<br/>    {<br/>      "ID":13,<br/>      "Name":"Decontaminate",<br/>      "Description":"Decontaminate fermentation suite.",<br/>      "Process":"Fermentation",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":1,<br/>        "SafetyCabinet":1,<br/>        "SmallFermentor":1,<br/>        "LargeFermentor":1<br/>      },<br/>      "Dependencies":[4],<br/>      "Duration":2,<br/>      "TrainingRequirements":["4A"],<br/>      "ValueAdding":0,<br/>      "Priority":2,<br/>      "Materials":<br/>      {<br/>        "CleaningAgent":5<br/>      }<br/>    },<br/>    {<br/>      "ID":14,<br/>      "Name":"Autoclave Waste",<br/>      "Description":"Autoclave fermentation materials post-decontamination.",<br/>      "Process":"Fermentation",<br/>      "ResourcesRequired":<br/>      {<br/>        "Operator":1,<br/>        "Autoclave":1<br/>      },<br/>      "Dependencies":[13],<br/>      "Duration":1,<br/>      "TrainingRequirements":["4A"],<br/>      "ValueAdding":0,<br/>      "Priority":2,<br/>      "Materials":<br/>      {<br/>      }<br/>    }<br/>  ],<br/>  "ResourceCapacities":{<br/>      "Operator":3,<br/>      "SafetyCabinet":1,<br/>      "SmallFermentor":1,<br/>      "LargeFermentor":1,<br/>      "PurificationTank":1,<br/>      "Centrifuge":3,<br/>      "SterileAssembly":1,<br/>      "VialFiller":1,<br/>      "Autoclave":1<br/>  },<br/>  "Operators":[<br/>    {<br/>      "Name":"AA",<br/>      "Employment":"01/01/2000",<br/>      "Shift":1,<br/>      "Training":["1A","1B","2A","2B","2C","3A","3B","4A"],<br/>      "Pay":25.5<br/>    },<br/>    {<br/>      "Name":"BB",<br/>      "Employment":"01/01/2001",<br/>      "Shift":1,<br/>      "Training":["1A","2A","2B","2C","3A","3B","4A"],<br/>      "Pay":25.5<br/>    },<br/>    {<br/>      "Name":"CC",<br/>      "Employment":"01/01/2002",<br/>      "Shift":1,<br/>      "Training":["1A","1B","2A","2B","2C","3A","3B","4A"],<br/>      "Pay":25.5<br/>    },<br/>    {<br/>      "Name":"DD",<br/>      "Employment":"01/01/2000",<br/>      "Shift":2,<br/>      "Training":["1A","1B","2A","2B","2C","3A","3B","4A"],<br/>      "Pay":28.5<br/>    },<br/>    {<br/>      "Name":"EE",<br/>      "Employment":"01/01/2001",<br/>      "Shift":2,<br/>      "Training":["1A","1B","2A","2B","2C","3A","3B","4A"],<br/>      "Pay":28.5<br/>    },<br/>    {<br/>      "Name":"FF",<br/>      "Employment":"01/01/2002",<br/>      "Shift":2,<br/>      "Training":["1A","1B","2A","2B","2C","3A","3B","4A"],<br/>      "Pay":28.5<br/>    }<br/>  ]<br/>}</span></pre><p id="754b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，我们批处理的每个任务都包括:</p><ul class=""><li id="f35a" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">ID —整数值</li><li id="6796" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">名称-字符串简短描述</li><li id="853f" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">描述—字符串详细描述</li><li id="e337" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">流程-字符串(步骤的三个类别之一)</li><li id="e2a2" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">所需资源—所需资源和整数计数的字典</li><li id="6843" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">依赖项-依赖的ID整数列表</li><li id="6598" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">持续时间—所需小时数的整数(不必是整数)</li><li id="3d5e" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">培训要求—培训字符串标识符列表</li><li id="bd81" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">增值—一个整数，1或0，用于标识任务是否增值(1)或不增值(0)</li><li id="de45" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">优先级—标识任务优先级的调度顺序的整数，其中较低的数字应在具有相同相关性的较高数字之前被调度</li><li id="d531" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">物料——任务操作期间消耗的物料和数量的字典</li></ul><p id="1618" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在调度期间，我们的资源能力保持不变，但现在我们也有我们团队中六个操作员的数据，三个在第一班，三个在第二班。请注意，我们认为一个班次是12个小时的跨度，从午夜到中午或从中午到午夜。还要注意的是，与同行相比，我们的一些技术人员缺少培训任务，由于轮班差异，第二班的工资更高。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="000d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们再次使用下面的包，并如下读取我们的JSON数据。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="54c3" class="mv mw it mr b gy mx my l mz na">import pandas as pd<br/>import datetime<br/>import numpy as np<br/>import plotly.figure_factory as ff<br/>import json<br/>import random<br/>import plotly.express as px</span><span id="bd88" class="mv mw it mr b gy nb my l mz na">with open('tasks.json') as json_file:<br/>    data = json.load(json_file)</span></pre><p id="7682" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们可以将数据加载到相应的数据框表中。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="3dfc" class="mv mw it mr b gy mx my l mz na">Tasks = pd.DataFrame.from_dict(data['Items'])<br/>CapacitiesDict = data['ResourceCapacities']<br/>Operators = pd.DataFrame.from_dict(data['Operators'])</span></pre><div class="kj kk kl km gt ab cb"><figure class="nc kn nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/c21426c70059b8e791777d25854a25ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*8SLmVeOkUnjNF302Wf0yew.png"/></div></figure><figure class="nc kn ni ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/164c425977b01fa6c3e03e4025f505a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*03-g1EbnQQAuWlOgFZKRzg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk nj di nk nl translated">任务和操作员的相应数据框</p></figure></div><p id="9bb1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此时，我们可以实现我们的第一个目标——实现任务优先级。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="fc3f" class="mv mw it mr b gy mx my l mz na">Tasks['dependancyPriority']=0<br/>for i in range(len(Tasks['Dependencies'])):<br/>    Tasks['dependancyPriority'][i]=Tasks['Dependencies'][i][0]<br/>Tasks = Tasks.sort_values(by=['dependancyPriority','Priority']).drop('dependancyPriority',axis=1)</span></pre><p id="3602" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的代码片段是一个启发，用于确保优先级更高的任务优先于次要任务。这在优先考虑增值流程步骤而不是清洁和检查任务时非常有用，因为我们可能不希望其中一个步骤阻碍我们的流程，可以在以后有可用资源时完成它。此外，现在对这个数据帧进行排序，比在我们后面的算法中添加进一步的检查要快得多。请注意，下面的任务12现在在日程中的位置更高，但次于任务5。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/2fe8dbfba46a20d057c3672457a7a6da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZvQ0QddoMpIZAFfHp7tqRg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">优先排序的任务</p></figure><p id="4bce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">实际安排任务的任务从我们的第一个项目开始就没有改变。下面的代码与上一篇文章中的<a class="ae lu" rel="noopener" target="_blank" href="/production-planning-and-resource-management-of-manufacturing-systems-in-python-5458e9c04183">相同。</a></p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="48ac" class="mv mw it mr b gy mx my l mz na">start_date = datetime.datetime(2021, 1, 1,0,0,0)<br/>number_of_days = 2</span><span id="6597" class="mv mw it mr b gy nb my l mz na">intervals = []<br/>for minute in range(number_of_days*96):<br/>    interval = (start_date + datetime.timedelta(minutes = 15*minute)).isoformat()<br/>    intervals.append(interval)</span><span id="05a0" class="mv mw it mr b gy nb my l mz na">headings = list(CapacitiesDict.keys())<br/>loading = pd.DataFrame(columns = headings)<br/>loading['index']=intervals<br/>loading = loading.fillna(0)</span><span id="854f" class="mv mw it mr b gy nb my l mz na">loadingMax = pd.DataFrame(columns = headings)<br/>loadingMax['index']=intervals<br/>for item in headings:<br/>    loadingMax[item] = CapacitiesDict[item]</span><span id="ebe3" class="mv mw it mr b gy nb my l mz na">jobsToAdd = Tasks.copy()<br/>jobsToAdd['TimeAddedToSchedule']=jobsToAdd['Duration']*60<br/>jobsToAdd['Start'] = start_date<br/>jobsToAdd['End'] = start_date</span><span id="537e" class="mv mw it mr b gy nb my l mz na">for i in range(len(loading.index)): # Go through loading schedule time by time<br/>    print(str(round(i/len(loading.index)*100,2))+'%')<br/>    for j in range(len(jobsToAdd.index)): # Go through list of jobs, job by job<br/>        if jobsToAdd['TimeAddedToSchedule'][j]&gt;0: # Continue if job needs to be scheduled still<br/>            available = True<br/>            for resource in list(jobsToAdd['ResourcesRequired'][j].keys()): # Continue if all required resources are available<br/>                if loading[resource][i] + jobsToAdd['ResourcesRequired'][j][resource] &gt; loadingMax[resource][i]:<br/>                    available=False<br/>            if available:<br/>                dependenciesSatisfied = True<br/>                if jobsToAdd['Dependencies'][j][0] == 0: #Skip checking dependencies if there are none<br/>                    pass<br/>                else:<br/>                    for dependency in jobsToAdd['Dependencies'][j]: # Check if a task's dependencies have been fully scheduled<br/>                        if jobsToAdd.loc[jobsToAdd['ID'] == dependency]['TimeAddedToSchedule'].item() &gt; 0:<br/>                            dependenciesSatisfied = False # Check if fully scheduled<br/>                        if jobsToAdd.loc[jobsToAdd['ID'] == dependency]['End'].item() == datetime.datetime.strptime(loading['index'][i],'%Y-%m-%dT%H:%M:%S')+ datetime.timedelta(minutes = 15):<br/>                            dependenciesSatisfied = False # Check that dependent end time isnt after the start of this time<br/>                if dependenciesSatisfied:<br/>                    if jobsToAdd['TimeAddedToSchedule'][j]==jobsToAdd['Duration'][j]*60: # Set the start time<br/>                        jobsToAdd['Start'][j]=datetime.datetime.strptime(loading['index'][i],'%Y-%m-%dT%H:%M:%S')<br/>                    for resource in list(jobsToAdd['ResourcesRequired'][j].keys()): # Allocate Resources<br/>                        loading[resource][i] = loading[resource][i] + jobsToAdd['ResourcesRequired'][j][resource]<br/>                    jobsToAdd['TimeAddedToSchedule'][j] = jobsToAdd['TimeAddedToSchedule'][j]-15 # Reduce needed time<br/>                    if jobsToAdd['TimeAddedToSchedule'][j] == 0: # Set the end time<br/>                        jobsToAdd['End'][j]=datetime.datetime.strptime(loading['index'][i],'%Y-%m-%dT%H:%M:%S')+ datetime.timedelta(minutes = 15)</span></pre><p id="ccdd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，现在我们也想加载我们的操作符。我们的技术人员有特定的培训要求，对于他们来说，作为一个接受过培训的人被安排执行某项任务，培训要求必须是他们名册的一个子集。这意味着，如果任务1要求完成培训任务“1A ”,那么要将操作员AA分配到他们的花名册上，就必须包括“1A”。从Python技术的角度来看，我们不能将列表作为集合进行比较，而是必须将它们转换成不可变的对象，比如元组。下面的代码将我们的需求和花名册初始化为元组，并为我们的操作员初始化一个加载矩阵，以便将它们分配给任务。就像我们的设备资源负载能力分析一样，一次只能给每个技术人员分配一项任务。我们还将在jobsToAdd表中添加一个新列，以跟踪哪些操作员被分配了哪些任务。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="9e5f" class="mv mw it mr b gy mx my l mz na">Tasks['TrainingRequirementsTuple'] = tuple(Tasks['TrainingRequirements'])</span><span id="c4cc" class="mv mw it mr b gy nb my l mz na">Operators['TrainingTuple'] = tuple(Operators['Training'])</span><span id="7640" class="mv mw it mr b gy nb my l mz na">operatorAssignments = pd.DataFrame(columns = list(Operators['Name']))<br/>operatorAssignments['index']=intervals<br/>operatorAssignments = operatorAssignments.fillna(0)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/88d565b28cbf834b789aaf71e9a5d660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*tpLdnDlTID6P8UuzP8j4zg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">空载操作员利用率矩阵</p></figure><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="36de" class="mv mw it mr b gy mx my l mz na">jobsToAdd['AssignedTechnicians'] = ""<br/>for i in range(len(jobsToAdd['ID'])):<br/>    jobsToAdd['AssignedTechnicians'][i] = []</span><span id="207c" class="mv mw it mr b gy nb my l mz na">for j in range(len(jobsToAdd.index)): <br/>    # Go through list of jobs, job by job<br/>    print(str(round(j/len(jobsToAdd.index)*100,2))+'%')<br/>    for i in range(len(operatorAssignments.index)): <br/>        # Go through operator assignment schedule time by time<br/>        if datetime.datetime.strptime(operatorAssignments['index'][i],'%Y-%m-%dT%H:%M:%S') &gt;= jobsToAdd['Start'][j] and datetime.datetime.strptime(operatorAssignments['index'][i],'%Y-%m-%dT%H:%M:%S') &lt; jobsToAdd['End'][j]: <br/>            # If loading time is inbetween start and end<br/>            if datetime.datetime.strptime(operatorAssignments['index'][i],'%Y-%m-%dT%H:%M:%S').time() &lt; datetime.time(12):<br/>                # If on first shift<br/>                Operators['temp']=0<br/>                for k in range(len(Operators['TrainingTuple'])):    <br/>                    Operators['temp'][k] = set(jobsToAdd['TrainingRequirements'][j]).issubset(Operators['TrainingTuple'][k])<br/>                candidates = Operators[Operators.Shift == 1]<br/>                candidates = candidates[Operators.temp == True]<br/>                # Get list of trained operators for tasks on shift<br/>                count = jobsToAdd['ResourcesRequired'][j]['Operator']<br/>                for candidate in candidates['Name']:<br/>                    if count &gt; 0:<br/>                        # Only consider assigning if needed<br/>                        if operatorAssignments[candidate][i] == 0:<br/>                            #Only assign if not already assigned<br/>                            operatorAssignments[candidate][i] = jobsToAdd['ID'][j]<br/>                            count -= 1<br/>                            <br/>                            if datetime.datetime.strptime(operatorAssignments['index'][i],'%Y-%m-%dT%H:%M:%S') == jobsToAdd['Start'][j] or datetime.datetime.strptime(operatorAssignments['index'][i],'%Y-%m-%dT%H:%M:%S').time() == datetime.time(0):<br/>                                # document the assignment in the jobsToAdd dataframe <br/>                                jobsToAdd['AssignedTechnicians'][j].append(candidate)<br/>            else:<br/>                Operators['temp']=0<br/>                for k in range(len(Operators['TrainingTuple'])):    <br/>                    Operators['temp'][k] = set(jobsToAdd['TrainingRequirements'][j]).issubset(Operators['TrainingTuple'][k])<br/>                candidates = Operators[Operators.Shift == 2]<br/>                candidates = candidates[Operators.temp == True]<br/>                count = jobsToAdd['ResourcesRequired'][j]['Operator']<br/>                for candidate in candidates['Name']:<br/>                    if count &gt; 0:<br/>                        if operatorAssignments[candidate][i] == 0:<br/>                            operatorAssignments[candidate][i] = jobsToAdd['ID'][j]<br/>                            count -= 1<br/>                            <br/>                            if datetime.datetime.strptime(operatorAssignments['index'][i],'%Y-%m-%dT%H:%M:%S') == jobsToAdd['Start'][j] or datetime.datetime.strptime(operatorAssignments['index'][i],'%Y-%m-%dT%H:%M:%S').time() == datetime.time(12):<br/>                                 jobsToAdd['AssignedTechnicians'][j].append(candidate)<br/>                                    </span></pre><p id="2811" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们所有的操作员都被指派不超过利用率，并确保在设定的时间间隔内将一项任务分配给任何给定的技术人员。让我们也将我们的负载矩阵缩写为处理的最后时间间隔。这对于作业矩阵来说比操作符要容易得多，因为我们关注的重点是不要对作业使用操作符，而是对操作符矩阵使用任何操作符。请注意，loading跟踪分配了多少操作员，而operator assignments跟踪分配给操作员的任务的ID。分配的缩写过程通过检查行的总和来搜索空行。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="e4c0" class="mv mw it mr b gy mx my l mz na">loading = loading[loading.Operator != 0]</span><span id="1939" class="mv mw it mr b gy nb my l mz na">operatorAssignments['temp'] = ''<br/>nointerval = operatorAssignments.drop('index',axis=1)<br/>nointerval['sum'] = nointerval.sum(axis=1)<br/>for i in range(len(operatorAssignments['index'])):<br/>    if nointerval['sum'][i] &gt; 0:<br/>        operatorAssignments['temp'][i] = True<br/>    else:<br/>        operatorAssignments['temp'][i] = False<br/>operatorAssignments = operatorAssignments[operatorAssignments['temp']==True]<br/>operatorAssignments = operatorAssignments.drop('temp',axis=1)<br/>operatorAssignments</span></pre><div class="kj kk kl km gt ab cb"><figure class="nc kn no ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/17b759855a57127ad35e22ef19163899.png" data-original-src="https://miro.medium.com/v2/resize:fit:1472/format:webp/1*LF63mZuQGiFH3hTuL6B5AA.png"/></div></figure><figure class="nc kn np ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/4531b0e8271c60eca671ff2c6779062a.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*fWaW2G1sOMOfbSd2f4BOgQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk nq di nr nl translated">我们简化的加载矩阵</p></figure></div><p id="eee0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们的JSON文件中，我们看到操作员BB缺少培训任务“1B”。在下面，我们可以检查他们是否没有被分配相关任务，操作员CC是否已经取代了他们的位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/1273cfe6bac725bc8355a9758db3ce20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bMqz9oMfx5hoJ592_BiP3Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">jobsToAdd添加分配了技术人员的数据框</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="4a40" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在已经加载了所有的任务，我们可以再次生成甘特图。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="70c6" class="mv mw it mr b gy mx my l mz na">report = jobsToAdd.drop(['TrainingRequirementsTuple','TimeAddedToSchedule'],axis=1)</span><span id="b569" class="mv mw it mr b gy nb my l mz na">x = report[['Name','Start','End','Process']].copy()<br/>x = x.rename(columns={'Name':'Task','Process':'Resource','End':'Finish'})</span><span id="ca26" class="mv mw it mr b gy nb my l mz na">df = []<br/>for r in range(len(x.index)):<br/>    df.append(dict(Task=x['Task'][r],Start=x['Start'][r],Finish=x['Finish'][r],Resource=x['Resource'][r]))</span><span id="1bac" class="mv mw it mr b gy nb my l mz na">r = lambda: random.randint(0,255)<br/>colors = ['#%02X%02X%02X' % (r(),r(),r())]</span><span id="e816" class="mv mw it mr b gy nb my l mz na">for i in range(len(x.Resource.unique().tolist())):              <br/>    colors.append('#%02X%02X%02X' % (r(),r(),r()))</span><span id="96fb" class="mv mw it mr b gy nb my l mz na">fig = ff.create_gantt(df, colors=colors, index_col='Resource', show_colorbar=True, group_tasks=True)<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/ab6b0f3b9e3ca9db8817d2c8d551ac45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M2Rol6kXpRiFSNqR_F9hwg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">优先级较低的任务安排在以后的甘特图</p></figure><p id="d99e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，让我们检查一下我们的资源利用率。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="083a" class="mv mw it mr b gy mx my l mz na">desc = loading.describe()<br/>descT = desc.transpose()<br/>descT['averageUtilization'] = descT['mean']/descT['max']<br/>desc = descT.transpose()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/b1bd64ffaa4bd36ca793ba556a670f4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NgG17zrnZR5GXJU5VtRYuQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">利用率数据帧</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="ae96" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的报告数据框架现在包含了非常有用的信息:</p><ul class=""><li id="768a" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">身份证明</li><li id="7947" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">名字</li><li id="5158" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">描述</li><li id="3341" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">过程</li><li id="4db2" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">所需资源</li><li id="46ce" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">属国</li><li id="77db" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">持续时间</li><li id="e4d4" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">培训要求</li><li id="de58" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">增值</li><li id="7b07" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">优先</li><li id="e851" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">材料</li><li id="dedd" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">开始</li><li id="06cf" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">结束</li><li id="dd4a" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">指派的技术人员</li></ul><p id="f03c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们开始分析我们的刷新报告。我们可以开始寻找我们的直接人工成本，并指定任务的班次。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="742a" class="mv mw it mr b gy mx my l mz na">report['LaborCost'] = 0.0<br/>report['TotalLaborCost'] = 0.0<br/>totalCost=0.0<br/>for i in range(len(report['ID'])):<br/>    cost = 0.0<br/>    for operator in report['AssignedTechnicians'][i]:<br/>        pay = Operators.loc[Operators['Name'] == operator]['Pay'].item()<br/>        cost += report['Duration'][i] * pay<br/>    report['LaborCost'][i] = cost<br/>    totalCost += cost<br/>    report['TotalLaborCost'][i] = totalCost</span><span id="5df0" class="mv mw it mr b gy nb my l mz na">report['Shift'] = 0<br/>for i in range(len(report['ID'])):<br/>    if report['Start'][i].time() &lt; datetime.time(12):<br/>        report['Shift'][i] = 1<br/>    else:<br/>        report['Shift'][i] = 2</span></pre><p id="54e9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然这种方法不适用于在班次之间拆分的任务，但这是计算与每项任务相关的直接人工费用的快速方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/72704f40f63b2a81919d2369dd70ca52.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*2fwhf6YNh0g__ug8OU3Lgg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">每项任务的直接人工费用</p></figure><p id="9ee2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们直观地表示这些成本数据。我们可以看到发酵是我们过程中最昂贵的阶段。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="2ebb" class="mv mw it mr b gy mx my l mz na">#Fermentation is slightly more expensive in terms of labor than purification and the sterile boundary<br/>fig = px.pie(report, values='LaborCost', names='Process')<br/>fig.update_layout(title_text='Labor Costs of Batch by Process')<br/>fig.update_traces(textinfo='percent+value')<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/2173ac4a81e98974d297d0fb84499955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I0QkblvtWlrFABwfshwp_w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按流程阶段列出的批次直接人工成本</p></figure><p id="382f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还可以评估我们的劳动增值了多少。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="8032" class="mv mw it mr b gy mx my l mz na">#80% of process duration is spent on value adding time<br/>fig = px.pie(report, values='Duration', names='ValueAdding')<br/>fig.update_layout(title_text='Value Added Manufacturing Time in Batch')<br/>fig.update_traces(textinfo='percent+value')<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/b7f042301ddc5cdce2f63d53307cd59a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C5zV4JfZRUgsJgYwZLl6HQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">批量增值制造时间</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="fc3e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的消耗材料需求可以来自各种来源，包括ERP系统，如SAP和物料清单(BOM)。我们还可以使用我们的报告来生成我们自己的BOM、车间需求清单或高级采购的预定订单。</p><p id="1e3a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于发酵，让我们看看在给定的批次中我们将使用什么材料。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="2fc2" class="mv mw it mr b gy mx my l mz na">fermentationMaterials = report[report['Process']=='Fermentation']['Materials']<br/>print('Fermenation Material Requirements:')<br/>for i in range(len(fermentationMaterials.values)):<br/>    for key in fermentationMaterials.values[i].keys():<br/>        print(key+" - "+str(fermentationMaterials.values[i][key]))</span><span id="0391" class="mv mw it mr b gy nb my l mz na">out:<br/>Fermenation Material Requirements:<br/>SeedVial - 4<br/>Flasks - 4<br/>Agar - 2<br/>GrowthMedium - 10<br/>GrowthMedium - 50<br/>CleaningAgent - 5</span></pre><p id="b629" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们把同类商品组合起来，给我们的库存经理一个简明的订单。生长培养基应该显示60，而不是10和50。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="7441" class="mv mw it mr b gy mx my l mz na">fermMaterialsTotals = {}<br/>for i in range(len(fermentationMaterials.values)):<br/>    for key in fermentationMaterials.values[i].keys():<br/>        if key in fermMaterialsTotals:<br/>            fermMaterialsTotals[key] += fermentationMaterials.values[i][key]<br/>        else:<br/>            fermMaterialsTotals[key] = fermentationMaterials.values[i][key]</span><span id="994a" class="mv mw it mr b gy nb my l mz na">print('Fermenation Material Requirements Totals:')<br/>for key in fermMaterialsTotals:<br/>    print(key+" - "+str(fermMaterialsTotals[key]))</span><span id="28c4" class="mv mw it mr b gy nb my l mz na">out:<br/>Fermenation Material Requirements Totals:<br/>SeedVial - 4<br/>Flasks - 4<br/>Agar - 2<br/>GrowthMedium - 60<br/>CleaningAgent - 5</span></pre><p id="dc06" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那就好多了；现在我们的库存经理知道订购60单位的发酵培养基。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="0107" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们如何将我们的计划作为一个简明的计划与车间分享？我们的技术人员通常主要需要关注我们对这种转变的期望。让我们通过检索报告中仅适用于技术人员和第一天第一次轮班的部分来生成一个轮班记录表。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="dae4" class="mv mw it mr b gy mx my l mz na">def date(element):<br/>    return element.date()</span><span id="2ed3" class="mv mw it mr b gy nb my l mz na">shiftNotes = report.copy()<br/>firstDay = datetime.date(2021, 1, 1)<br/>shiftNotes = shiftNotes[shiftNotes['Start'].apply(date) == firstDay]<br/>shiftNotes = shiftNotes[shiftNotes['Shift'] == 1]<br/>shiftNotes = shiftNotes[['Process','Name','Description','Start','AssignedTechnicians']]<br/>shiftNotes</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/21bc0ac542d0def854eee64fc16df0c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ldENcUznQcGSNd2aomWVcg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">2021–01–01第一班的换档说明</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="cdc2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果某个特定的技术人员正在寻找他们这一周的工作报告，以计划他们的个人时间表和财务状况，该怎么办？</p><p id="e277" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以使用过滤器为特定的技术人员AA创建一个单独的细分，如下所示。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="ad60" class="mv mw it mr b gy mx my l mz na">AASchedule = pd.DataFrame(columns = ['Process','Name','Description','Start','End','Duration','Pay'])<br/>for i in range(len(report['AssignedTechnicians'])):<br/>    for technician in report['AssignedTechnicians'][i]:<br/>        if technician == 'AA':<br/>            added = {<br/>                        'Process': report['Process'][i], <br/>                        'Name': report['Name'][i], <br/>                        'Description': report['Description'][i],<br/>                        'Start': report['Start'][i],<br/>                        'End': report['End'][i],<br/>                        'Duration': report['Duration'][i],<br/>                        'Pay': report['Duration'][i] * Operators.loc[Operators['Name'] == 'AA']['Pay'].item()<br/>                    }<br/>            AASchedule = AASchedule.append(added, ignore_index = True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/3fd67ea22811942dce878badfd9abb85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eB9bpsZ9OpTL79_cOPknwg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">操作员AA整个星期的工作分解</p></figure><p id="0fa1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们也可以报告他们的总收入。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="070d" class="mv mw it mr b gy mx my l mz na">AASchedule['Pay'].sum()</span><span id="bc76" class="mv mw it mr b gy nb my l mz na">out:<br/>459.0</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="868c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们现在已经证明，我们可以使用Python跟踪平均批处理运行的几乎所有属性。我们跟踪了设备的资源分配、培训要求和操作员利用率。还有许多其他方法可以让我们区分工作的优先次序，进一步优化我们的时间表。假设我们的技术团队都是新的？我们可以优先安排一个人员充足的日程表，而不是尽快结束。我们还可以安排最大限度地减少劳动力成本，因为第二次轮班工作会产生更昂贵的轮班差异。所有这些都可以在一个更健壮的脚本中实现。然而，即便如此，这种模式也能切实改善我们在制药和其他任何行业中安排生产的方式。</p><p id="0de8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请继续关注Dash和Plotly主持的交互式报告中的进一步分析和高级可视化！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="e902" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请让我知道您的想法，并随时通过LinkedIn 联系我，向我提供反馈，提出问题，或者看看我们如何将这些工具和思维方式引入您的组织！点击<a class="ae lu" href="https://medium.com/@willkeefe" rel="noopener">这里</a>查看我的其他一些关于数据分析和生产计划的文章！</p></div></div>    
</body>
</html>