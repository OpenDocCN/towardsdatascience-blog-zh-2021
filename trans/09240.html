<html>
<head>
<title>Fix non-uniform colormaps with fixthejet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用fixthejet修复不均匀的色彩映射表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/fix-non-uniform-colormaps-with-fixthejet-7446375204c2?source=collection_archive---------35-----------------------#2021-08-26">https://towardsdatascience.com/fix-non-uniform-colormaps-with-fixthejet-7446375204c2?source=collection_archive---------35-----------------------#2021-08-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8cbb" class="pw-subtitle-paragraph jr is it bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">为什么(以及如何)避免感知上不一致的色彩映射表</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/7f5f9eed8a10752dfe1ccfbf455135a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0WjuXe1Dgqy_SclK"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">Pawel Czerwinski 在<a class="ae kz" href="https://unsplash.com/s/photos/color?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="3f4e" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">信息是<em class="lw">而不是</em>知识。</p><p id="0b07" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果信息背后的模式被很好地理解，信息可以被转化为知识。在当今这个科技飞速发展的时代，数据是一个重要的信息来源。因此，我们产生大量的数据也就不足为奇了——每天大约有2.5万亿字节。</p><p id="2de5" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">理解科学数据(并因此将其转化为知识)的最有力的方法之一是绘制它。</p><p id="bb85" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">想知道人的体重和身高有关系吗？<a class="ae kz" href="https://statisticsbyjim.com/basics/correlations/" rel="noopener ugc nofollow" target="_blank">剧情吧</a>！</p><p id="fffa" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">想知道宇宙膨胀是否在加速？<a class="ae kz" href="http://hyperphysics.phy-astr.gsu.edu/hbase/Astro/univacc.html" rel="noopener ugc nofollow" target="_blank">剧情吧</a>！</p><p id="dd10" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">想知道离赤道越远越热吗？<a class="ae kz" href="https://gradsaddict.blogspot.com/2015/02/tutorial-use-basemapgs-to-make.html" rel="noopener ugc nofollow" target="_blank">剧情</a> …小心出错！</p><p id="bb36" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">尽管可视化对于快速消费数据和获得洞察力非常有效，但如果处理不当，它们也可能是有害的。</p><p id="fe24" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">在这篇文章中，我们将学习:</strong></p><ol class=""><li id="5c60" class="lx ly it lc b ld le lg lh lj lz ln ma lr mb lv mc md me mf bi translated">为什么要小心选择色彩映射表？</li><li id="88bf" class="lx ly it lc b ld mg lg mh lj mi ln mj lr mk lv mc md me mf bi translated">为什么不使用“喷射”和所有其他感知不一致的色彩映射表？</li><li id="f2b4" class="lx ly it lc b ld mg lg mh lj mi ln mj lr mk lv mc md me mf bi translated">如何使用一个新的python包来改变制作拙劣的图形的色彩映射表</li></ol><h1 id="8936" class="ml mm it bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated">非均匀色彩映射表的问题是</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nd"><img src="../Images/62844a3b64a7cf9b514e7fc1d7685113.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-9ulG6B0pu-y5KRK"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">平均海面温度(来源:<a class="ae kz" href="https://gradsaddict.blogspot.com/2015/02/tutorial-use-basemapgs-to-make.html" rel="noopener ugc nofollow" target="_blank"> GrADS-aholic </a></p></figure><p id="708e" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">看上面的海面温度(SST)图，试着用一句话概括。当我把上面的图表给我的10个朋友看时，他们中的7个人给出了某种版本的回答:“随着我们远离赤道，温度下降，<em class="lw">在大约北纬30度或南纬30度处突然转变</em>(斜体是我的)。我的朋友认为温度突然变化的原因是高亮度的颜色(如黄色)在我们的眼中很突出。换句话说，上面使用的色彩映射表在不存在对比的地方制造了人为的对比。在更好的色图中的相同数据(下面显示了具有“绿色”的例子)显示没有这样的突然转变。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nd"><img src="../Images/de7c6aeeb98dd8e66ebd25063943d4bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6SogzYqTSDTQtWUy"/></div></div></figure><p id="741f" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果这是一次性的，我们可以原谅。不幸的是，<a class="ae kz" href="https://www.nature.com/articles/s41467-020-19160-7" rel="noopener ugc nofollow" target="_blank">科学文献中充斥着使用糟糕的、感觉不一致的彩色地图的地图</a>，比如“喷射”、“彩虹”、“光谱”、“要点”等等。雪上加霜的是，许多彩色地图对色盲人群也不友好。</p><p id="69c7" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">2015年，很多人注意到了这个现象，并在R、Python、Matlab等中轻推各自的社区。以改变它们的默认色图，使其在感觉上一致，从而不会在亮度上引入任何人为的梯度。关于更新的更多信息，<a class="ae kz" href="https://www.youtube.com/watch?v=xAoljeRJ3lU" rel="noopener ugc nofollow" target="_blank">查看Python中matplotlib的新默认颜色图的发布</a>。我鼓励每个人使用他们可以得到的感觉上统一的颜色图(他们可以在这里找到<a class="ae kz" href="https://matplotlib.org/stable/tutorials/colors/colormaps.html" rel="noopener ugc nofollow" target="_blank"> Python </a>和<a class="ae kz" href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html" rel="noopener ugc nofollow" target="_blank"> R </a>)。</p><p id="2621" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">但这仍然给我们留下了2015年前的劣质地图。如果不固定，它们可能很难在海报或演示中引用。迄今为止，它们继续出现在顶级会议、期刊和报告中。我们如何继续使用“喷气机”时代的知识，但避免与解释它们相关的陷阱？</p><h1 id="f63a" class="ml mm it bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated">输入fixthejet</h1><p id="7d5a" class="pw-post-body-paragraph la lb it lc b ld ne jv lf lg nf jy li lj ng ll lm ln nh lp lq lr ni lt lu lv im bi translated">fixthejet是一个python包，可以将图像(jpg/。png)从“jet”色彩映射表转换为基于用户输入的任何其他色彩映射表。该脚本仅选择性地更改喷射颜色。图像中的所有其他颜色保持不变。因此，图像的背景和文本保持不变(假设它们与“jet”中的颜色明显不同)。由于包只需要一个图像文件，因此避免了获取图像的原始数据所需的时间和精力。</p><p id="7e51" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，更改他人制作的劣质图像的色彩映射表就像在终端中输入以下内容一样简单:</p><pre class="kk kl km kn gt nj nk nl nm aw nn bi"><span id="2618" class="no mm it nk b gy np nq l nr ns">python fixthejet.py —-input &lt;input file&gt; —-output &lt;output file&gt;</span></pre><p id="23f7" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这里有两个例子，展示了该软件包如何将图像从“喷射”色图转换为感知均匀的色图。</p><h2 id="0745" class="no mm it bd mn nt nu dn mr nv nw dp mv lj nx ny mx ln nz oa mz lr ob oc nb od bi translated">示例1</h2><pre class="kk kl km kn gt nj nk nl nm aw nn bi"><span id="e505" class="no mm it nk b gy np nq l nr ns">python fixthejet.py —-input .\images\cube.png —-output .\images\cube_plasma.png —-colormap plasma</span></pre><p id="e6d6" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">输入文件:</strong></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/24ced4c0a202c496410d1a018f08d289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/0*PDvPlzUZMJGH2Dye"/></div></figure><p id="ccac" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">输出文件:</strong></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/41e72aa598d81c1cea45675ff11b5851.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/0*-y5RB9OwWBoZ86JK"/></div></figure><h2 id="f6d8" class="no mm it bd mn nt nu dn mr nv nw dp mv lj nx ny mx ln nz oa mz lr ob oc nb od bi translated">示例2</h2><pre class="kk kl km kn gt nj nk nl nm aw nn bi"><span id="4afe" class="no mm it nk b gy np nq l nr ns">python fixthejet.py —-input .\images\cone.jpg —-output .\images\cone_inferno.jpg —-colormap inferno</span></pre><p id="0793" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">输入文件:</strong></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi of"><img src="../Images/19e01b22d182303825e98c10d343f651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QRFHFJLenbVHVkGI"/></div></div></figure><p id="7845" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">输出文件:</strong></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi of"><img src="../Images/6cf40d3a9f705a1d63ccbfd6e142e71e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HG1pfJYv4pgxOof-"/></div></div></figure><p id="3bbb" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">传递颜色图参数来控制outfile的颜色图。默认为“viridis”。仅支持Matplotlib颜色映射。</p><pre class="kk kl km kn gt nj nk nl nm aw nn bi"><span id="18ad" class="no mm it nk b gy np nq l nr ns">--colormap &lt;output colormap&gt; </span></pre><p id="61e4" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">对使用fixthejet python包感兴趣？</strong> <a class="ae kz" href="https://github.com/kkraoj/fixthejet" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu">下面是下载说明</strong> </a> <strong class="lc iu">。</strong></p><h1 id="d8fb" class="ml mm it bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated">概述</h1><p id="67fe" class="pw-post-body-paragraph la lb it lc b ld ne jv lf lg nf jy li lj ng ll lm ln nh lp lq lr ni lt lu lv im bi translated">使用像“jet”这样的糟糕的色彩映射表会导致人为的渐变，在某些情况下，这会导致错误的推断。善待你的观众，避免不一致的色彩，如“喷射”、“彩虹”、“光谱”等。</p><p id="0e7f" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">总而言之，</p><ol class=""><li id="4b2d" class="lx ly it lc b ld le lg lh lj lz ln ma lr mb lv mc md me mf bi translated">如果你正在制作你自己的地图，不要使用“喷射”或者其他感觉上不一致的颜色。</li><li id="135b" class="lx ly it lc b ld mg lg mh lj mi ln mj lr mk lv mc md me mf bi translated">如果你想在你的演示中使用别人制作得很差的图形，使用fixthejet python包来改变色彩映射表并删除任何人工创建的图案。</li></ol></div><div class="ab cl og oh hx oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="im in io ip iq"><p id="6f2e" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="lw">本文的一个版本最初出现在</em> <a class="ae kz" href="https://datascience.stanford.edu/news/fixing-non-uniform-colormaps-fixthejet" rel="noopener ugc nofollow" target="_blank"> <em class="lw">斯坦福数据科学博客</em> </a> <em class="lw">。</em></p></div></div>    
</body>
</html>