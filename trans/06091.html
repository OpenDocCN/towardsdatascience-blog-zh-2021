<html>
<head>
<title>How accurate is your accuracy?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你的准确度有多高？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-accurate-is-your-accuracy-d420f903bbae?source=collection_archive---------43-----------------------#2021-05-31">https://towardsdatascience.com/how-accurate-is-your-accuracy-d420f903bbae?source=collection_archive---------43-----------------------#2021-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8940" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">比例标准误差概述</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bd99c0db130489ea647b611e16385604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lSyAAqTVIjDH0J4V.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">照片由</em><a class="ae kz" href="https://unsplash.com/@enginakyurt?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"><em class="ky">engin akyurt</em></a><em class="ky"/><a class="ae kz" href="https://unsplash.com/s/photos/accuracy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"><em class="ky">Unsplash</em></a></p></figure><p id="1b5d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在二元分类模型中，我们经常使用比例来计算模型的准确性。例如，我们使用准确度、精确度和召回率。但是我们如何计算这些估计的误差呢？两个准确率95%的模型其实是等价的吗？</p><p id="e16e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">答案是否定的。让我们看看为什么。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="9a11" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">标准误差</h1><p id="1b7b" class="pw-post-body-paragraph la lb it lc b ld mv ju lf lg mw jx li lj mx ll lm ln my lp lq lr mz lt lu lv im bi translated">任何测量都必须有一个误差估计，它代表了测量的精度。我有一个物理学学位，物理学家总是被讨厌，因为他们通常在每次测量结果后假装有一个误差估计。例如，我可以说我身高1.93米，但如果这个数字后面没有对误差的估计，它就不会给出任何信息。如果我说1.93米误差3%，另一个人说1.93米误差30%，你会更相信谁？</p><p id="86b8" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这就是为什么我们需要估计我们测量的误差，计算所谓的标准误差。</p><p id="f6da" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">一个<em class="na"> N </em>点样本的标准误差定义如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/7988618d7aca8547173a0ea0de689575.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/format:webp/1*TumSTgiVQNdHuwWKaZ2whw.png"/></div></figure><p id="ea7a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">其中，σ是对样本计算的标准偏差。如您所见，样本越大，标准误差越低，我们的测量精度就越准确。这是大数定律的自然结果。</p><h1 id="2205" class="md me it bd mf mg nc mi mj mk nd mm mn jz ne ka mp kc nf kd mr kf ng kg mt mu bi translated">比例的标准误差</h1><p id="4738" class="pw-post-body-paragraph la lb it lc b ld mv ju lf lg mw jx li lj mx ll lm ln my lp lq lr mz lt lu lv im bi translated">让我们考虑一个由<em class="na"> N </em>个点组成的数据集，其中<em class="na"> n </em>个点与一个成功的事件相关(即我们的模型的正确预测)。简单来说，整个样本的成功率是:</p><p id="352f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这可以是准确度(其中<em class="na"> N </em>是混淆矩阵的值的总和，并且<em class="na"> n </em>是其迹线)、精确度(其中<em class="na"> N </em>是模型已经用1预测的事件的数量，并且<em class="na"> n </em>是真阳性的数量)或者另一个比例。</p><p id="eeaf" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，我们要计算标准误差。我们可以使用类似于<a class="ae kz" href="https://www.yourdatateacher.com/2021/04/19/the-bootstrap-the-swiss-army-knife-of-any-data-scientist/" rel="noopener ugc nofollow" target="_blank"> bootstrap </a>的算法来计算它，但是对于比例，我们可以使用一个简单的封闭公式。</p><p id="456a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">首先，我们需要计算标准差。我们的事件可以建模为一个随机变量<em class="na"> x </em>，其值以概率<em class="na"> p </em>为1，以概率<em class="na"> 1-p </em>为0。</p><p id="ef72" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">那么，它的期望值是，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/f608808501fec0913fd531767fbe1e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*0lreIElUJvod_lM1Lt_QoQ.png"/></div></figure><p id="b01f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">那么，它的方差是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/cd4357549a66985620218e58e385d1ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*1kKTi5g7RJCwlkLkrfZEFw.png"/></div></figure><p id="c169" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">因此，标准误差变为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/6735bd28125d91cdf4aa8d1d4c04af9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*chN7JCkF04G_SxL7Xymhnw.png"/></div></figure><h1 id="b6a4" class="md me it bd mf mg nc mi mj mk nd mm mn jz ne ka mp kc nf kd mr kf ng kg mt mu bi translated">置信区间</h1><p id="7b7b" class="pw-post-body-paragraph la lb it lc b ld mv ju lf lg mw jx li lj mx ll lm ln my lp lq lr mz lt lu lv im bi translated">标准误差可用于计算置信区间，即我们可以预期真实值具有一定置信度的区间。</p><p id="70e5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们如何计算比例的置信区间？</p><p id="ee98" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们首先计算下面的<em class="na"> z </em>变量</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/4469d5110d869cf51abc021bc473a657.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*CwTSV3FI7438-5NyTqkckg.png"/></div></figure><p id="6133" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">其中μ和σ是我们比例的均值和标准差。可以证明，如果我们使用比例并给定合理高的<em class="na"> N </em>值，这个变量可以近似为一个正态变量(即它是正态分布的)。正态分布的95%置信区间为(-1.96，1.96)。这是正态分布的一个性质。</p><p id="4d72" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">因此，回到比例，我们可以将95%的置信区间定义为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/d1d2e6661d8ce33a4b84d039b961d21e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*tgvtjVziOp1LmfQVm0u_Wg.png"/></div></figure><p id="e950" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">照例，<em class="na"> N </em>的值越高，由于大数定律，间隔越紧。</p><p id="77a0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在让我们看看如何在实践中应用这些概念。</p><h1 id="5776" class="md me it bd mf mg nc mi mj mk nd mm mn jz ne ka mp kc nf kd mr kf ng kg mt mu bi translated">简单的例子</h1><p id="80cd" class="pw-post-body-paragraph la lb it lc b ld mv ju lf lg mw jx li lj mx ll lm ln my lp lq lr mz lt lu lv im bi translated">假设我们有两个模型。其中一个正在100条记录上进行测试，它给了我们70%的准确率。另一个模型在400条记录上进行测试，给出了67%的准确率。哪款比较好？任何人都会说是前者，因为准确率更高。但是，让我们看看，如果计算两种精度的标准误差，会发生什么情况:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/e3efed2195bf05626dd6a48113794380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*MfMjvJlwJ2oU4yhujqO4Og.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/dbb4490c44a823a63e5925796d8215ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*35MRzNyFIeuGoDgpeAqpEg.png"/></div></figure><p id="c1a9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">第二个模型给我们一个更精确的精度估计，因为标准误差较低。如果我们计算置信区间，我们得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/c960e07e86577781d67caff2c944a426.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLfRH3HULch5nAEd4esDYg.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/6ddaf740624243024c4596d918f55d62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6C6Y0G9KMoEFWhzat2NZ_g.png"/></div></div></figure><p id="6761" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">可以看到，置信区间下界最高的模型是第二个，而不是第一个。如果我们不得不考虑一种保守的方法，在这种方法中，我们考虑统计上最差的情况，我们会寻找置信区间的下限，在这种情况下，选择第二个模型而不是第一个模型。这就是我们计算标准误差的原因。如果我们不计算误差估计，估计本身是没有用的，正如我们所看到的，较大的样本比较小的样本能给我们更多的信息，所以通过计算标准误差，我们可以做出更好的决策。</p><h1 id="dcde" class="md me it bd mf mg nc mi mj mk nd mm mn jz ne ka mp kc nf kd mr kf ng kg mt mu bi translated">结论</h1><p id="6583" class="pw-post-body-paragraph la lb it lc b ld mv ju lf lg mw jx li lj mx ll lm ln my lp lq lr mz lt lu lv im bi translated">计算误差估计值经常被忽略，但是如果我们不知道我们的测量有多精确，就会导致错误的结果。对于比例，标准误差和置信区间的计算非常简单，对于从数据集中提取尽可能多的信息非常有用。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="f1e2" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="na">原载于2021年5月31日https://www.yourdatateacher.com</em><em class="na"/><a class="ae kz" href="https://www.yourdatateacher.com/2021/05/31/how-accurate-is-your-accuracy/" rel="noopener ugc nofollow" target="_blank"><em class="na">。</em></a></p></div></div>    
</body>
</html>