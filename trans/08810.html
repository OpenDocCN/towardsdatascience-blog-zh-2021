<html>
<head>
<title>The Fastest Way to Visualize Correlation in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python可视化相关性的最快方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-fastest-way-to-visualize-correlation-in-python-ce10ed533346?source=collection_archive---------7-----------------------#2021-08-14">https://towardsdatascience.com/the-fastest-way-to-visualize-correlation-in-python-ce10ed533346?source=collection_archive---------7-----------------------#2021-08-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="3e78" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/getting-started" rel="noopener" target="_blank">入门</a></h2><div class=""/><div class=""><h2 id="900c" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">关于如何在没有第三方绘图包的情况下可视化与熊猫的相关性的简短教程。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/71bf08c54aa12ded159c2e414c52a1f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*b_82A0QwENmb_63Y"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@jeremythomasphoto?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">杰瑞米·托马斯</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="b745" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated">作为一名数据科学家，我经常使用相关性来计算和可视化特征之间的关系。</p><p id="1223" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我以前都是从导入matplotlib和seaborn包开始，渲染出好看的剧情。但是，当从一个空的Jupyter笔记本开始时，导入这两个包只是为了可视化这种关联，这是很麻烦的。</p><h2 id="1c05" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">有没有更好的办法？</h2><p id="2a05" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">我决定做一点研究，因为我经常使用这个命令——在Python中一定有更好(更快)的可视化相关性的方法。瞧，还有…</p><p id="19d3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">通过阅读这篇简短的教程，你将学会一种更快捷的方法来计算和可视化与熊猫的相关性。</p><p id="acc0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">这里有几个你可能会感兴趣的链接:</strong></p><pre class="ks kt ku kv gt nk nl nm nn aw no bi"><span id="a134" class="mn mo it nl b gy np nq l nr ns">- <a class="ae lh" href="https://trymito.io/" rel="noopener ugc nofollow" target="_blank">Complete your Python analyses 10x faster with Mito</a> [Product]</span><span id="cf78" class="mn mo it nl b gy nt nq l nr ns">- <a class="ae lh" href="https://aigents.co/skills" rel="noopener ugc nofollow" target="_blank">Free skill tests for Data Scientists &amp; ML Engineers</a> [Test]</span><span id="1e41" class="mn mo it nl b gy nt nq l nr ns">- <a class="ae lh" href="https://imp.i115008.net/c/2402645/1116216/11298" rel="noopener ugc nofollow" target="_blank">All New Self-Driving Car Engineer Nanodegree</a><strong class="nl jd"> </strong>[Course]</span></pre><p id="9b53" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="nu">你愿意多看一些这样的文章吗？如果是这样，你可以点击上面的任何链接来支持我。其中一些是附属链接，但你不需要购买任何东西。</em></p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="c26d" class="oc mo it bd mp od oe of ms og oh oi mv ki oj kj my kl ok km nb ko ol kp ne om bi translated">可视化与熊猫相关的最快方法是什么？</h1><p id="b7df" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">假设我们有下面的数据帧(它只有4列随机数):</p><pre class="ks kt ku kv gt nk nl nm nn aw no bi"><span id="c7cc" class="mn mo it nl b gy np nq l nr ns">import numpy as np<br/>import pandas as pd</span><span id="be21" class="mn mo it nl b gy nt nq l nr ns">df = pd.DataFrame(np.random.randint(0, 100, size=(15, 4)), columns=list("ABCD"))</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi on"><img src="../Images/035d7bd48a437196933b543a466e650b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z8pYV-knb8cLUZpEwwG0Iw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">带有随机数的熊猫数据框(图片由作者制作)</p></figure><p id="8879" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">计算和可视化相关性非常简单(不需要其他第三方软件包):</p><pre class="ks kt ku kv gt nk nl nm nn aw no bi"><span id="1115" class="mn mo it nl b gy np nq l nr ns">df.corr().style.background_gradient(cmap="Blues")</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/1b52d39d03447a3e3c6347200b766729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xPGh77X0SZ-xabcvjqknaA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">与熊猫的关联(图片由作者制作)</p></figure><h1 id="cf0a" class="oc mo it bd mp od op of ms og oq oi mv ki or kj my kl os km nb ko ot kp ne om bi translated">不喜欢蓝色？</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ou"><img src="../Images/55d5c0f1e890cf1d43be60f284eba1da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Le0zdsrNPG4hZSsV80HvQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">试试cmap='Greys '(图片由作者提供)</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ov"><img src="../Images/9acfa67ac5fb1ca5bda81696a0862426.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Q-Uri05Mon6-_QfYSXtgw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">试试cmap='YlOrBr ' '(图片由作者提供)</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ow"><img src="../Images/2863a9d5087a5a404bc09e6df3ce56cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9l36AduLyyqGuCcKNr0sxA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">试试cmap='GnBu '(图片由作者提供)</p></figure></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="f212" class="oc mo it bd mp od oe of ms og oh oi mv ki oj kj my kl ok km nb ko ol kp ne om bi translated">有不同类型的相关性</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ox"><img src="../Images/9fbe5b608a99929d276d25c095ef5d19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tu4N5ndQ3ZGBDjvM"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@deonblack?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Deon Black </a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="fd59" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在我们深入研究其他类型的相关性之前，我必须承认，在实践中，除了皮尔逊相关性，我从未使用过其他任何相关性。不管怎样，很高兴知道其他人确实存在，熊猫支持其中一些开箱即用。</p><p id="1161" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">请在评论中告诉我，你是否在实践中使用过除皮尔逊相关之外的任何方法，以及用例是什么。</p><p id="8171" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">默认情况下，pandas计算<a class="ae lh" href="https://en.wikipedia.org/wiki/Pearson_correlation_coefficient" rel="noopener ugc nofollow" target="_blank">皮尔逊相关</a>，这是两组数据之间线性相关的度量。</p><p id="c0fe" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.corr.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd">熊猫也支持</strong> </a> <strong class="lk jd"> : </strong></p><ul class=""><li id="3809" class="oy oz it lk b ll lm lo lp lr pa lv pb lz pc md pd pe pf pg bi translated">肯德尔相关性—与df.corr('kendall ')一起使用</li><li id="39d5" class="oy oz it lk b ll ph lo pi lr pj lv pk lz pl md pd pe pf pg bi translated">Spearman <strong class="lk jd"> <em class="nu"> </em> </strong>关联—与df.corr('spearman ')一起使用</li></ul><h2 id="0cf1" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">斯皮尔曼相关用于什么？</h2><blockquote class="pm pn po"><p id="f337" class="li lj nu lk b ll lm kd ln lo lp kg lq pp ls lt lu pq lw lx ly pr ma mb mc md im bi translated"><a class="ae lh" href="https://support.minitab.com/en-us/minitab-express/1/help-and-how-to/modeling-statistics/regression/supporting-topics/basics/a-comparison-of-the-pearson-and-spearman-correlation-methods/" rel="noopener ugc nofollow" target="_blank">来自minitab: </a></p><p id="2e67" class="li lj nu lk b ll lm kd ln lo lp kg lq pp ls lt lu pq lw lx ly pr ma mb mc md im bi translated">Spearman相关性通常用于评估涉及顺序变量的关系。例如，您可以使用Spearman相关性来评估员工完成测试练习的顺序是否与他们受雇的月数有关。</p></blockquote><h2 id="62d5" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">肯德尔相关用于什么？</h2><blockquote class="pm pn po"><p id="ce0d" class="li lj nu lk b ll lm kd ln lo lp kg lq pp ls lt lu pq lw lx ly pr ma mb mc md im bi translated"><a class="ae lh" href="https://www.statsdirect.com/help/nonparametric_methods/kendall_correlation.htm" rel="noopener ugc nofollow" target="_blank">从统计数据直接:</a></p><p id="718b" class="li lj nu lk b ll lm kd ln lo lp kg lq pp ls lt lu pq lw lx ly pr ma mb mc md im bi translated">Spearman的秩相关对于检验两个变量之间独立性的零假设是令人满意的，但是当零假设被拒绝时就很难解释了。肯德尔的等级相关性通过反映被比较的变量之间的相关性的强度对此进行了改进。</p></blockquote><p id="5a99" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">不出所料，Spearman correlation产生了与Pearson不同的值:</p><pre class="ks kt ku kv gt nk nl nm nn aw no bi"><span id="e1c0" class="mn mo it nl b gy np nq l nr ns">df.corr('spearman').style.background_gradient(cmap="Blues")</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ps"><img src="../Images/e0c3e834540c00083025bbbf49bbba9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LkzIexLYYHalsoyroE1n8g.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">具有随机值的数据帧上的皮尔逊相关(左)与斯皮尔曼相关(右)</p></figure><h1 id="70ea" class="oc mo it bd mp od op of ms og oq oi mv ki or kj my kl os km nb ko ot kp ne om bi translated">结论</h1><p id="26a8" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">在不使用其他包的情况下可视化相关性是一个巧妙的技巧，这使得实践数据科学变得更加有趣。</p><p id="c43c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一个这样的命令可能看起来不多，但是在您的工具箱中添加10个这样的技巧可以产生很大的不同。</p><p id="429b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">将<strong class="lk jd">style . background _ gradient</strong>应用于关联结果只是冰山一角。这个概念对我已经描述过的很多事情都很有用:</p><div class="pt pu gp gr pv pw"><a rel="noopener follow" target="_blank" href="/how-to-color-a-pandas-dataframe-41ee45db04f6"><div class="px ab fo"><div class="py ab pz cl cj qa"><h2 class="bd jd gy z fp qb fr fs qc fu fw jc bi translated">如何给熊猫数据框上色？</h2><div class="qd l"><p class="bd b dl z fp qb fr fs qc fu fw dk translated">towardsdatascience.com</p></div></div><div class="qe l"><div class="qf l qg qh qi qe qj lb pw"/></div></div></a></div></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="fc6e" class="oc mo it bd mp od oe of ms og oh oi mv ki oj kj my kl ok km nb ko ol kp ne om bi translated">在你走之前</h1><p id="9c10" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">在<a class="ae lh" href="https://twitter.com/romanorac" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，在那里我定期<a class="ae lh" href="https://twitter.com/romanorac/status/1328952374447267843" rel="noopener ugc nofollow" target="_blank">发布关于数据科学和机器学习的</a>消息。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qk"><img src="../Images/b5d426b68cc5a21b1a35d0a157ebc4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*69rP1pwjJi9mLSFE"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">康特尼·赫格尔在<a class="ae lh" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div></div>    
</body>
</html>