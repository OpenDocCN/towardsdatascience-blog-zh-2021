<html>
<head>
<title>5 Must-Know Pandas Functions for Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学中熊猫的5个必备功能</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-must-know-pandas-functions-for-data-science-d29d04653190?source=collection_archive---------8-----------------------#2021-07-10">https://towardsdatascience.com/5-must-know-pandas-functions-for-data-science-d29d04653190?source=collection_archive---------8-----------------------#2021-07-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="88a5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">大多数数据科学项目都在使用熊猫</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7d2baad9508c21def4c1e80d48bc6372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PxK7pdusLO7oDwdB"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">斯蒂芬·莱昂纳迪在Unsplash<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">拍摄的照片</a></p></figure><p id="8f98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个数据科学项目都是从数据分析开始的。当我们谈到数据分析时，熊猫是最受重视的玩家。Pandas是一个python库，也因面板数据分析而闻名。<br/> <br/>在本文中，我将分享一些你必须知道的得心应手的熊猫功能。这些是处理数据集中不同操作的最有用的函数。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="e775" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将参考的本文数据集是Kaggle的房价预测数据。你可以从<a class="ae ky" href="https://www.kaggle.com/shree1992/housedata" rel="noopener ugc nofollow" target="_blank">这里</a>下载。</p><p id="6e48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">先来看看我们的数据。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="ca41" class="mh mi it md b gy mj mk l ml mm">import pandas as pd<br/>df = pd.read_csv("House data.csv")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/1ef25a47331a05c8f0450fb5b54a0ae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TJ5kbznIB9bQ86EFjvc5kg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">资料截图</p></figure><p id="8809" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们数据的样子。由于这是房价预测数据——我们有卧室、浴室、地板和其他因素，可以帮助我们决定任何规格的房子的价格。</p><p id="6103" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们对这些数据应用一些pandas函数。</p><h1 id="d143" class="mo mi it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">1.Count()函数</h1><p id="501c" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">假设您想快速检查表中是否有空值。在这种情况下，count函数为我们提供了其中有值的单元格的计数。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="8fda" class="mh mi it md b gy mj mk l ml mm">df.count()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/961ae8d107809639b0858e5eaf0c0a6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*ACisZg96LazC4pT-056pzg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">计数功能</p></figure><p id="7a32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好消息是，我们的数据集中没有空值。所以，让我们指定一个空值，看看变化。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="5712" class="mh mi it md b gy mj mk l ml mm">df.at[0,'price']= np.nan</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/1e6a74f5dd66ae2c7938cc842a08c39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lWQWktiGEqT0VxX7IwmGXA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">分配空值后</p></figure><p id="c70a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我检查计数，我会得到下面的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8832afd09375e861e1a2796adda59b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*ovuTrW6KK44b9vctvZziHQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用null计数</p></figure><h1 id="4c81" class="mo mi it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">2.idxmin()和idxmax()函数</h1><p id="04c3" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">这些函数返回满足所需条件的特定行的索引。</p><p id="155f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比方说想得到房价最低的房子的详细信息。应用数据子集化方法可以有多种方式。但是，最有效的方法是使用这些函数。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="5e46" class="mh mi it md b gy mj mk l ml mm">df.loc[df['price'].idxmin()]</span></pre><p id="84af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过运行上面的代码，我可以得到房子的详细信息，它的价格是最低的，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/6a36e9bf80477ecdfc0fa820f644cf9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*I_7p0jDfPAP8wm-dbe-sRA.png"/></div></div></figure><p id="d159" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，我们在联邦路市以零价格买了一栋三居室的房子。😁</p><p id="5a12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我知道这是数据错误，因为我们在玩开源虚拟数据。但是，我认为你得到了东西。:)同样我们可以用<code class="fe no np nq md b">idxmax()</code>来得到最高价格的房子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/ebc8739f08942fd40548028de0bb70a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*vjDa1X754Vjte4RlTyg0vQ.png"/></div></div></figure><p id="1834" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果呢？你有不止一个房子的最低或最高价格。在这种情况下，这些函数将返回第一个匹配项。在下一篇文章中，我们将看到如何处理这种情况。😉</p><h1 id="a2ed" class="mo mi it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">3.cut()函数</h1><p id="eb8a" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">假设你有一个连续值的变量。但是，根据您的业务理解，这个变量应该被视为分类变量。</p><p id="54b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">cut()函数可以帮助您存储连续变量，方法是对它们进行排序，然后将它们存储在数据范围存储桶中。</p><p id="5b7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个数据中，我想做一桶价格数据，因为价格值的范围是从0到26590000。如果我能把它桶起来，那么做决定会容易一点。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="1615" class="mh mi it md b gy mj mk l ml mm">pd.cut(df["price"], 4)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/2c35c01852c93a3fb68538193d498c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sil1W_0qcoZONZIhNL2omQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">分桶数据</p></figure><p id="313e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以为每个存储桶分配标签，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/601665ef82a5f0456ea39d9976578b78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oBUzcMSdqFPW-RL7tJqXNA.png"/></div></div></figure><p id="db20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来不错！对吗？我们可以用它替换price列，也可以创建一个新的列。</p><h1 id="506b" class="mo mi it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">4.数据透视表()</h1><p id="e9fe" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">每个excel的人一定都在他们的数据中使用过这个函数。我们可以对熊猫做同样的事情。</p><p id="52d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们想根据不同的卧室找到每个城市的平均房价。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="ee16" class="mh mi it md b gy mj mk l ml mm"><strong class="md iu">df.pivot_table(index="city" , columns="bedrooms" ,values="price" , aggfunc="mean")</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/8c81058189a5a4cc2981191863db7828.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*brou1wkHckqSTCKnlGdWjA.png"/></div></div></figure><p id="eba5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里您可以找到空值，因为这是不必要的—每个城市都有两个卧室。这要看数据。</p><h1 id="4436" class="mo mi it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">5.nsmallest()和nlargest()函数</h1><p id="609e" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我们已经看到了如何使用idxmin()和idxmax()函数来获得最小和最大观察值。</p><p id="4fb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果呢？你想得到前3个最高价格的房子数据。在这种情况下，这些功能可以节省我们的时间。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="f22e" class="mh mi it md b gy mj mk l ml mm">df.nlargest(3, "price")[["city","price"]]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/65c1e9647e8a43bd1a3171acfe7fa6a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*Iaj53g_UG2IkItsxrQNnTA.png"/></div></figure><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="dd74" class="mh mi it md b gy mj mk l ml mm">df.nsmallest(3, "price")[["city","price"]]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/8d1fa0f4928d3ca668e4f166ab3531a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*DjtEJ-6pmBxwo6b4n0JfCg.png"/></div></figure><p id="29c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开始了。我们现在有三个城市的房价为零。:)</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ade3" class="mo mi it bd mp mq nx ms mt mu ny mw mx jz nz ka mz kc oa kd nb kf ob kg nd ne bi translated">结论</h1><p id="2122" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">嗯，那些是一些令人惊奇的熊猫功能。这些函数在您的日常数据科学任务中非常方便。</p><p id="39c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你喜欢这篇文章。更多精彩文章敬请期待！</p><p id="bda7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你的阅读！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="000e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我的一些最佳选择:</p><p id="ba68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://betterprogramming.pub/10-python-tricks-that-will-wow-you-de450921d96a" rel="noopener ugc nofollow" target="_blank">https://better programming . pub/10-python-tricks-that-wow-you-de 450921d 96 a</a></p><p id="7fbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/7-amazing-python-one-liners-you-must-know-413ae021470f">https://towards data science . com/7-amazing-python-one-liners-you-must-know-413 AE 021470 f</a></p><p id="d770" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/5-data-science-projects-that-you-can-complete-over-the-weekend-34445b14707d">https://towards data science . com/5-data-science-projects-the-you-can-complete-over-the-weekend-34445 b 14707d</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><blockquote class="oc od oe"><p id="f9ac" class="kz la of lb b lc ld ju le lf lg jx lh og lj lk ll oh ln lo lp oi lr ls lt lu im bi translated"><em class="it">走之前……</em></p></blockquote><p id="8394" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢这篇文章，并希望<strong class="lb iu">关注</strong>更多关于<strong class="lb iu"> Python &amp;数据科学</strong>的<strong class="lb iu">精彩文章</strong>——请点击这里<a class="ae ky" href="https://pranjalai.medium.com/membership" rel="noopener">https://pranjalai.medium.com/membership</a>考虑成为中级会员。</p><p id="3d59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请考虑使用<a class="ae ky" href="https://pranjalai.medium.com/membership" rel="noopener">我的推荐链接</a>注册。通过这种方式，会员费的一部分归我，这激励我写更多关于Python和数据科学的令人兴奋的东西。</p><p id="0215" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有，随时订阅我的免费简讯:<a class="ae ky" href="https://pranjalai.medium.com/subscribe" rel="noopener"> <strong class="lb iu">普朗加尔的简讯</strong> </a>。</p></div></div>    
</body>
</html>