<html>
<head>
<title>Discover Music’s Mood with expert.ai</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用expert.ai发现音乐的情绪</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/discover-musics-mood-with-expert-ai-459fb2e73b57?source=collection_archive---------34-----------------------#2021-11-08">https://towardsdatascience.com/discover-musics-mood-with-expert-ai-459fb2e73b57?source=collection_archive---------34-----------------------#2021-11-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a27f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">音乐是一种强大的情绪调节器:NLP可以应用于歌词或评论，根据音乐的情绪对艺术家进行分类</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/29be2a151882361d1adefcfa369bb0a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ylrs15a3IiYKrmrq"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kv" href="https://unsplash.com/@cdx2?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> C D-X </a>拍摄的照片</p></figure><p id="9ca3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">难怪人们会根据自己的感受来创建播放列表。音乐是一种非常强大的情绪调节剂，我们都至少使用过一次，来给我们所需的能量，或者将它与我们的悲伤配对。如果我们可以根据音乐的情绪对音乐进行分类，而不必主动听音乐或手动给每首歌曲贴标签，会怎么样？</p><p id="9575" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用NLP(自然语言处理)功能，我们可以通过分析某个艺术家的歌词或评论，根据歌曲在听众中引起的情绪对歌曲进行分类。使用评论的文本，我们还可以将它们从最积极的到最消极的进行分类，以便从最高评级到最低评级的专辑来组织艺术家。一旦你有了一个分类，你可以用它来安排你的音乐，并实现一个应用程序，只为某个预定义的情绪加载曲目，或者你可以找到新的艺术家，创造一个类似于你最喜欢的歌曲的情绪。</p><p id="2219" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将看到如何为这样的目标建立一个简单的NLP应用程序，我们将使用expert.ai NL API，因为它提供了情绪和心情分类。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9dbc" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">数据集</h1><p id="d4eb" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在这篇文章中，我们将关注<a class="ae kv" href="https://en.wikipedia.org/wiki/Penguin_Cafe_Orchestra" rel="noopener ugc nofollow" target="_blank">企鹅咖啡馆乐团</a>，他是我最喜欢的艺术家之一，我们将看到如何构建一个音乐分类应用程序的核心。我们使用了皮耶罗·斯卡鲁菲的网站提供的评论，其中包含了对不同音乐流派的许多艺术家的丰富而有趣的分析。第一步是将所选艺术家的<a class="ae kv" href="https://www.scaruffi.com/vol3/penguin.html" rel="noopener ugc nofollow" target="_blank">专辑评论</a>复制粘贴到文本文件中，并以相应专辑的名称保存在我的本地机器上。请注意:如果你想使用斯卡鲁菲的评论，请务必阅读<a class="ae kv" href="https://www.scaruffi.com/service/terms.html" rel="noopener ugc nofollow" target="_blank">使用条款</a>并在有疑问时联系他。</p><h1 id="11de" class="lz ma iq bd mb mc mw me mf mg mx mi mj jw my jx ml jz mz ka mn kc na kd mp mq bi translated">企鹅咖啡馆乐团是关于什么的？</h1><p id="24e3" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">首先，让我们通过分析评论中使用的单词来看看评论中会出现什么。我们将首先在一个变量中连接所有的评论，以便对整个艺术家的作品有一个单一的评论。然后，我们将看看最常用的词，希望它们能揭示更多关于企鹅咖啡馆乐团的信息:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="ce6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看这种浅层语言学方法在艺术家评论上能做什么，并产生一个词云来突出管弦乐队的关键元素:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5f50e2f49a5f493dea6e46d6fa1a0942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1oiaM8gx6ZAMXosv.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="f270" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你所看到的，我们现在对他们创作的音乐类型有了更详细的了解，我们可以根据这里出现的一些词对其进行分类，例如他们混合的流派，他们演奏的乐器，等等…不幸的是，没有浅层语言学的方法可以给我们关于文本情绪的提示。我们需要使用一种更精细的方法来解决这个问题。</p><h1 id="4df1" class="lz ma iq bd mb mc mw me mf mg mx mi mj jw my jx ml jz mz ka mn kc na kd mp mq bi translated">他们的音乐让你感觉如何？</h1><p id="7051" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">多亏了“云”这个词，我们对企鹅咖啡馆乐团有了更多的了解，但我们仍然不知道他们音乐的基调。通过斯卡鲁菲的评论，我们可以从他们的作品中找到更多的情感。为此，我们将使用expert.ai NL API。如果你还没有，请注意，你可以在这里注册<a class="ae kv" href="https://developer.expert.ai/" rel="noopener ugc nofollow" target="_blank">，并在我之前的</a><a class="ae kv" rel="noopener" target="_blank" href="/visualizing-what-docs-are-really-about-with-expert-ai-cd537e7a2798">文章</a>中找到101指南。一旦创建了凭证，我们就可以开始使用expert.ai NL API了。</p><p id="07b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将使用<a class="ae kv" href="https://docs.expert.ai/nlapi/latest/guide/classification/emotional-traits/" rel="noopener ugc nofollow" target="_blank"> <em class="nd">情感特征分类法</em> </a>，这是基于情感的文本分类器。要使用它，我们需要初始化客户端，然后设置正确的参数:我们选择情感分类，设置文档的语言，并将文本传递给服务。请记住，我们的文本是企鹅咖啡馆乐团专辑所有评论的集合。然后我们获得每种情绪及其百分比。数字越高，这种情绪在文本中就越突出:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="042f" class="nj ma iq nf b gy nk nl l nm nn">['Happiness', 'Excitement', 'Joy', 'Amusement', 'Love']<br/>[15.86, 31.73, 15.86, 31.73, 4.76]</span></pre><p id="17d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用matplotlib绘制这些数据，并生成一个饼图:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/d6aa9ad328a3e4f83c8b4d81bfbdf8d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/0*WH_JXI0TPYfRlpBd.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="74ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们有了基于情感的分类，我们可以根据评论的好坏来排列企鹅咖啡馆乐团的专辑。未来的应用程序可以根据情绪对音乐进行分类，然后将包含每位艺术家最佳作品的播放列表作为第一个结果呈现出来。</p><h1 id="906d" class="lz ma iq bd mb mc mw me mf mg mx mi mj jw my jx ml jz mz ka mn kc na kd mp mq bi translated">他们最好的专辑是什么？</h1><p id="afa7" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">为了根据作者表达的观点对文本进行分类，我们可以使用情感分析。这给了我们一个分数:如果它高于0，这意味着该文本表达了积极的观点，如果它正好是0(或非常接近于0)，那么我们可以说该文本是中性的，如果它小于0，它是消极的。情绪分析根据积极和消极的极性进行分类，不应该与情绪分类法混淆，后者根据过多的不同情绪进行分类。</p><p id="033d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以看一下对每张专辑评论的情感分析，以了解哪张专辑的评论最好。为此，我们对每张专辑的评论进行迭代，并使用expert.ai NL API来检索其情感和力量:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="202e" class="nj ma iq nf b gy nk nl l nm nn">[11.6, 2.7, 10.89, 3.9]<br/>['Broadcasting From Home', 'Concert Program', 'Music From the Penguin Cafe', 'Signs of Life']</span></pre><p id="4e6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用matplotlib绘制这些数据，并制作一个条形图——根据评论，条形图越高，专辑越好:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/d350e8c1a759cf49419247906a3c9728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/0*9BR9EhzEYXq__fh4.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="89e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的柱状图中，我们很容易看到所有专辑评论都是正面的，说明评论者喜欢每一张专辑。我们还可以看到，有些专辑比其他专辑更积极，而且<em class="nd">在家广播</em>是得分最高的专辑，这意味着根据评论家的说法，这是最好的专辑。</p><h1 id="ea0f" class="lz ma iq bd mb mc mw me mf mg mx mi mj jw my jx ml jz mz ka mn kc na kd mp mq bi translated">结论</h1><p id="3242" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们每天遇到的许多意义都是通过语言来传达的:这当然适用于我们收到的电子邮件和我们写的推文，但对于其他话题也是如此。利用我们可以在网上自由找到的东西，比如歌词或评论，我们可以将NLP应用到音乐中，并定制像这样的个人体验。</p><p id="292a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们希望您喜欢本教程，并期待了解使用expert.ai NL API可以做些什么。</p></div></div>    
</body>
</html>