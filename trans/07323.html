<html>
<head>
<title>AMLSim Fraud Detection with TigerGraph and Google Vertex Part II: Using AutoML with TigerGraph Data on Vertex AI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TigerGraph和Google Vertex的AMLSim欺诈检测第二部分:在Vertex AI上使用AutoML和TigerGraph数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/amlsim-fraud-detection-with-tigergraph-and-google-vertex-part-ii-using-automl-with-tigergraph-data-65cb86fc34b3?source=collection_archive---------20-----------------------#2021-07-03">https://towardsdatascience.com/amlsim-fraud-detection-with-tigergraph-and-google-vertex-part-ii-using-automl-with-tigergraph-data-65cb86fc34b3?source=collection_archive---------20-----------------------#2021-07-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ad64" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在TigerGraph数据上使用Google的AutoML</h2></div><blockquote class="kf kg kh"><p id="7d71" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">这是用TigerGraph和Google Vertex检测AMLSim欺诈的第二篇博客。在这里找到第一篇博客<a class="ae lf" rel="noopener" target="_blank" href="/amlsim-fraud-detection-with-tigergraph-and-google-vertex-part-i-preparing-the-data-2f3e6487f398"/>:<a class="ae lf" rel="noopener" target="_blank" href="/amlsim-fraud-detection-with-tigergraph-and-google-vertex-part-i-preparing-the-data-2f3e6487f398">https://towards data science . com/AML sim-fraud-detection-with-tiger graph-and-Google-vertex-part-I-preparing-the-data-2f3e 6487 f 398</a>。</p></blockquote><h1 id="9b04" class="lg lh iq bd li lj lk ll lm ln lo lp lq jw lr jx ls jz lt ka lu kc lv kd lw lx bi translated">概观</h1><blockquote class="kf kg kh"><p id="8043" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">这个项目是由<a class="ly lz ep" href="https://medium.com/u/9ee92495f34e?source=post_page-----65cb86fc34b3--------------------------------" rel="noopener" target="_blank">德州陈</a> ( <a class="ae lf" href="https://www.linkedin.com/in/dezhou-chen-625904206" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>)在<a class="ly lz ep" href="https://medium.com/u/571f80cc8b69?source=post_page-----65cb86fc34b3--------------------------------" rel="noopener" target="_blank">乔恩赫尔克</a> ( <a class="ae lf" href="https://www.linkedin.com/in/jonherke" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>)的帮助下创建的。</p></blockquote><p id="128d" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">欢迎光临！这是Tiger Vertex系列的第二部分，集成了TigerGraph和Vertex AI。</p><p id="b9bd" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">在前面的模块中，我们使用TigerGraph加载数据，然后使用图形算法更新数据，最后将数据导出到CSV中。在本模块中，我们将使用我们在Google Vertex AI的控制台中导出的CSV，并且我们将使用Google的AutoML来创建预测。我们开始吧！</p><h1 id="60db" class="lg lh iq bd li lj lk ll lm ln lo lp lq jw lr jx ls jz lt ka lu kc lv kd lw lx bi translated">第一步:在Google Cloud上创建一个项目</h1><p id="918a" class="pw-post-body-paragraph ki kj iq kl b km md jr ko kp me ju kr ma mf ku kv mb mg ky kz mc mh lc ld le ij bi translated">首先，你需要在Google Cloud上创建一个项目。为此，首先导航至<a class="ae lf" href="https://console.cloud.google.com/vertex-ai" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/vertex-ai</a>。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mi"><img src="../Images/8bfb0121d5e2292caeac2c60b1b4a762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b5USI3n9OacmjYnqE7F66w.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated"><a class="ae lf" href="https://console.cloud.google.com/vertex-ai" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/vertex-ai</a></p></figure><p id="4537" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">在左上方显示“选择一个项目”的地方，如果您已经有一个现有的项目，请从窗口中选择一个项目。如果没有，请按右上角的“新建项目”并按照提示的步骤创建您的项目。</p><blockquote class="kf kg kh"><p id="3b51" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">注意:要使用Google Vertex AI，必须启用计费。</p></blockquote><p id="b353" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">一旦你点击进入你的项目，并导航到顶点人工智能仪表板，你会看到如下所示的屏幕(虽然你的项目可能不会与数据填充)。如果是这样，恭喜你！你已经准备好进入下一步了！</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi my"><img src="../Images/35d80ca5d0b1b40aa452237475f4fc7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SuCEIhD2p7IW_8awjX3pMw.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">选定项目的Vertex AI仪表板</p></figure><h1 id="a684" class="lg lh iq bd li lj lk ll lm ln lo lp lq jw lr jx ls jz lt ka lu kc lv kd lw lx bi translated">第二步:上传TigerGraph数据集到Vertex AI</h1><p id="dd89" class="pw-post-body-paragraph ki kj iq kl b km md jr ko kp me ju kr ma mf ku kv mb mg ky kz mc mh lc ld le ij bi translated">接下来，我们需要创建一个数据集。在仪表板上，单击“创建数据集”这将把您重定向到设置数据集的页面。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mz"><img src="../Images/248a011f3f96c4f7b1d3ea10258ae941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KDAefyO4mSK7R0wsr8b97g.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">点击“创建数据集”</p></figure><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi na"><img src="../Images/9eb1badffa1a8f44b105d35514fbaa25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kCu8TAKGcN0Yub38Mcdnzw.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">创建数据集GUI</p></figure><p id="6ba1" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">首先将数据集重命名为类似“tg_amlsim”的名称。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nb"><img src="../Images/395746d78779ad0599285fc8546047b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*31BktUd3QH3FYCARHfoqnQ.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">更新数据集的名称</p></figure><p id="6530" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">接下来，由于我们想要上传一个CSV，我们需要选择一个“表格”数据集。由于我们想要确定交易是否是欺诈性的，我们将为该类型选择一个回归/分类。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mi"><img src="../Images/89e1dc3a61c35e0169cfd2e6f5a6f080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J1T0NwZj0iKLhWUJyzkkqA.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">点击表格并选择回归/分类</p></figure><p id="948e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">您不需要更改任何高级选项。向下滚动并点击“创建”当你这样做时，你将被重定向到如下页面。这是我们将数据添加到数据集的地方。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mi"><img src="../Images/db5b767c2f283c3d8f703f4f736f170b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MFzwwsBaNN_RRCma5ePOFA.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">我们将在这里添加数据。</p></figure><p id="8369" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">确保选择了“从您的计算机上传CSV文件”,然后按“选择文件”按钮。上传我们从TigerGraph数据创建的CSV。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nc"><img src="../Images/8a0e7083f7aa4091a0882e71c1c7db2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3U4Y-MsPR6Ce3j-3d1Q27w.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">从TigerGraph中选择我们在过去模块中创建的CSV</p></figure><p id="abfe" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">将云存储路径改为Google Cloud上的bucket。点击“浏览”，然后选择一个出现的选项。(应该只出现一个，但是如果有多个，请选择您喜欢的存储桶。)单击您想要的选项，然后按“选择”</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mi"><img src="../Images/afa347523cdf5da69f8fd3eac5a5094a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FiPrlkkH6sJ7QDPkMUlXCA.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">选择你的桶</p></figure><p id="8ba9" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">最后，按“继续”</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nc"><img src="../Images/07d11189c850712af85f796f65d1176c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*an7Nr9yq9aZW5kHdCFhdGQ.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">按继续</p></figure><p id="24cd" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">您的CSV将开始上传。这可能需要几秒钟才能完成。上传后，您将被重定向到如下页面，在这里您可以看到您所有的栏目名称。如果你达到了这一点，祝贺你！您已经正式上传了您的数据，并准备运行分析！</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nc"><img src="../Images/477c72428ecbeb0e740ccac5e197fc39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hC4qHif9j2E8__0UsrKhaQ.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">CSV上传！</p></figure><h1 id="99d8" class="lg lh iq bd li lj lk ll lm ln lo lp lq jw lr jx ls jz lt ka lu kc lv kd lw lx bi translated">第三步:训练你的模型</h1><p id="2508" class="pw-post-body-paragraph ki kj iq kl b km md jr ko kp me ju kr ma mf ku kv mb mg ky kz mc mh lc ld le ij bi translated">最后，我们来训练模型！在上面的屏幕中，按“训练新模型”</p><p id="29e8" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">对于第一个屏幕，将目标更改为“分类”然后确保您使用的是AutoML。然后按“继续”</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nd"><img src="../Images/3b097a5e058b7496c8834fb2e0e95fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2D8xARFNAyL0e2jHxDiJ_w.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">使用分类和自动</p></figure><p id="1945" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">在下一个屏幕中，将型号名称更改为您喜欢的名称。对于目标列，选择tx_fraud。我们不会改变任何高级选项。按继续。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi ne"><img src="../Images/d7336b0b2bc78ab4d843ce379cd8adcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1fFCqPRM6q2A3MTxe6WtMw.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">选择tx_fraud。</p></figure><p id="560c" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">滚动到培训选项的底部，点击高级选项。在那里，选择“AUC PRC”这将使模型专注于最大限度地提高不太常见的欺诈交易类别的准确性。然后按继续。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nf"><img src="../Images/9c81b5cbc7cec5cb1cc738dbf1294f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t5FeWtShHhAN1XBfcy1mpw.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">在高级选项中，单击AUC PRC。</p></figure><p id="081e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">最后，选择你的预算。这里，我们将使用最小值1。当你准备好开始训练时，点击“开始训练”这将需要大约一个小时，所以在等待Vertex AI的电子邮件时，请随意休息一下。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi ng"><img src="../Images/bbff2dbc8cea122dd07030a8b25086bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ncB2BEn6Wwxek0phoQ05A.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">键入1(或您的偏好)，然后按“开始训练”</p></figure><h1 id="4f10" class="lg lh iq bd li lj lk ll lm ln lo lp lq jw lr jx ls jz lt ka lu kc lv kd lw lx bi translated">第四步:探索分析</h1><p id="f8f6" class="pw-post-body-paragraph ki kj iq kl b km md jr ko kp me ju kr ma mf ku kv mb mg ky kz mc mh lc ld le ij bi translated">现在您的模型已经训练好了，您可以查看它了。</p><p id="4329" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">您将看到一个概述，其中包含PR和ROC AUC、log loss、F1得分和其他指标等数据。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nh"><img src="../Images/53dbc32d43037cf59de4af1b90e8b062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iLqaXf00vLyi4CbXQRMGtA.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">韵律学</p></figure><p id="a473" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">接下来，还显示了精确召回和ROC曲线。现在，它们不是很合理，这可能是由于我们的数据不平衡。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi ni"><img src="../Images/78ccb939da79957646ae0c17f153de75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PMmzOYVsRvG50ecG_5lDfg.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">曲线</p></figure><p id="5917" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">可能对我们来说最重要的是，Google Vertex也有一个混淆矩阵。在这里，对我们来说最重要的部分是真实和真实部分。在这种情况下，我们的模型只能正确识别52%的欺诈交易。这个不太好(基本随机)。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nj"><img src="../Images/e672534c06edb85e55e7c736eaf90c73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NoTS_A8SC8ZWK8tBjoMWnw.png"/></div></div></figure><p id="1229" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">最后，Vertex有一个特性重要性图表。从这里，我们可以看到交易金额是最重要的变量，其次是发送方交易的最大值、平均值和最小值，但是像接收方交易的最大值、平均值和最小值这样的变量在我们创建的模型中并不重要。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nk"><img src="../Images/84181d3baaa7777ac3ff97c83d574e81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FofqWzxqKw-rohwoRAbNbg.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">特征重要性图表</p></figure><p id="4e65" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">为了获得更好的结果，我们可以训练更长的时间，限制我们传递的变量，并生成更多的数据来平衡我们的数据集。</p><h1 id="c12e" class="lg lh iq bd li lj lk ll lm ln lo lp lq jw lr jx ls jz lt ka lu kc lv kd lw lx bi translated">第五步:祝贺你！+资源</h1><p id="cea3" class="pw-post-body-paragraph ki kj iq kl b km md jr ko kp me ju kr ma mf ku kv mb mg ky kz mc mh lc ld le ij bi translated">恭喜你。你已经正式使用AutoML对TigerGraph的数据进行分析了！</p><p id="34c1" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr ma kt ku kv mb kx ky kz mc lb lc ld le ij bi translated">如果您有任何问题，请加入TigerGraph Discord并提问:</p><div class="nl nm gp gr nn no"><a href="https://discord.gg/gRHWBZNpxW" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">加入TigerGraph Discord服务器！</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">查看Discord上的TigerGraph社区-与572名其他成员一起玩，享受免费的语音和文本聊天。</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">不和谐. gg</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc ms no"/></div></div></a></div></div></div>    
</body>
</html>