<html>
<head>
<title>Monty Hall Problem — An empirical proof</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蒙蒂·霍尔问题——一个经验证明</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/monty-hall-problem-an-empirical-proof-60e7e0761503?source=collection_archive---------8-----------------------#2021-06-26">https://towardsdatascience.com/monty-hall-problem-an-empirical-proof-60e7e0761503?source=collection_archive---------8-----------------------#2021-06-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7e27" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">蒙蒂霍尔问题的Python模拟</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/83d5d107f1955974ef5043b59e1dd004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tfWlh16wFKZ792wNkd3hBA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由来自pexels.com<a class="ae kv" href="https://www.pexels.com/photo/three-yellow-wooden-doors-2726517/" rel="noopener ugc nofollow" target="_blank">的</a>Oleg Magni拍摄</p></figure><p id="95f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">蒙蒂霍尔问题是一个处理概率决策的数学脑筋急转弯。它起源于1963年蒙蒂·霍尔主持的一个电视节目。这是一个很好的例子，说明概率情景看似简单，但有时却很难让我们理解。</p><h1 id="a6b0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">场景…</h1><p id="1f00" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">问题很简单，你去蒙蒂的游戏节目《我们做个交易吧》。你面前有三扇门。其中一扇门后有一辆汽车，其余两扇门后是山羊！如果你选择车停在哪个门后面，你就把它开回家。主人让你选一扇门，你选一扇。接下来是有趣的部分。你选好一扇门后，主人会打开剩下的两扇门中的一扇，让<strong class="ky ir">总是</strong>露出一只山羊。现在他会问你，你是要改变你的选择，还是坚持你最初的选择？这就是进退两难的地方。</p><p id="59de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从表面上看，坚持原来的决定或改变它似乎没有明显的优势。由于现在有两个未打开的门，我们认为这是一个对半的选择。但事实上，如果你深思熟虑，你会发现当主持人问你是否想改变时，改变你的决定有明显的好处！！！</p><p id="0fb3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这不是一个50-50的场景的关键原因是，在你做出最初的选择后，主持人打开了剩下的门<strong class="ky ir">中的一扇门，他拥有你不知道的信息——哪扇门后面有车。而他<strong class="ky ir">从来不</strong>打开后面有车的门。如果我们把这条信息结合到计算概率中，我们最终得到的数字是，如果你改变，你有2/3的概率获胜。</strong></p><h1 id="4dea" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">说明</h1><p id="7df2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">互联网上有很多使用多种方法的好解释。(我觉得<a class="ae kv" href="https://www.youtube.com/watch?v=4Lb-6rxZxx0" rel="noopener ugc nofollow" target="_blank">这个</a>、<a class="ae kv" href="https://www.youtube.com/watch?v=hdo4CZC76fA" rel="noopener ugc nofollow" target="_blank">那个</a>、<a class="ae kv" href="https://www.statisticshowto.com/probability-and-statistics/monty-hall-problem/" rel="noopener ugc nofollow" target="_blank">另一个</a>挺有意思的。)但我个人觉得，在概率上，任何事情都可以用树形图简单直观的解释。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/2b32b230556ab23146382b43c0b43f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6dM33P7b4qm25XsxqDZ6qQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图1 —树形图显示了与Monty Hall问题相关的概率(图表由作者提供)</p></figure><p id="4234" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你被要求做出你的第一选择时，有相等的概率汽车在三个门的任何一个后面。所以你有1/3的几率猜对。这意味着你的猜测有2/3是错误的。所以现在主人来了，他打开一扇门，露出一只山羊。在这一点上，他开门的选择不是随意的。这是由你之前的选择决定的，因为他有一个规则，开门时不要露出车。</p><p id="af15" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们先考虑一下你的第一选择是正确的情况。然后剩下的两扇门后面有山羊。在这种情况下，主人可以打开这两扇门中的任何一扇门。所以现在如果你改变你最初的选择，你肯定会失去主人选择的门。但是请记住，这种情况只发生1/3次，因为你最初的选择只有那么多次是正确的。</p><p id="d7ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在考虑你最初的选择是错误的情况。你选择一扇门，门后有一只山羊。现在剩下的两扇门中，一扇门后面有汽车，一扇门后面有山羊。现在主人不能随便开门了。车在后面，他打不开门。所以他是<strong class="ky ir">强迫</strong>开门，另一只山羊跟在后面。此时，如果你改变最初的选择，你一定会赢。如果我们回顾最初的概率，我们可以意识到这是最有可能的情况，因为我们最初的猜测有2/3是错误的。所以你应该经常切换！据统计，如果你玩这个游戏无数次，你会在2/3的游戏中获胜，如果你总是进行转换的话。</p><p id="e2fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我和我的一个朋友讨论这个问题，他说，“是的，这似乎可以理解，但要理解这个解释还是有点晕”。所以我想，“嘿，让我们模拟一下，得到同样的数字！”。那样的话，看到经验证据会更有说服力！</p><h1 id="0149" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">蟒之道！</h1><p id="4f8d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我们开始有趣的部分吧！我创建了整个程序，门的数量是可配置的，所以如果有人想模拟有更多门的场景(如这里的<a class="ae kv" href="https://www.statisticshowto.com/probability-and-statistics/monty-hall-problem/" rel="noopener ugc nofollow" target="_blank">所解释的</a>)，这是可以做到的。</p><p id="8e17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们来看一下<code class="fe mq mr ms mt b">Contestant</code>类。它有一个构造函数参数<code class="fe mq mr ms mt b">switch</code>。这个参数定义了当被问到“你想交换吗？”时，参赛者的反应。。通过在实例化竞争者对象时改变这个参数，我们可以模拟一个总是切换的竞争者和一个从不切换的竞争者。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="4555" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mq mr ms mt b">Contestant</code>类有两个方法。第一个是<code class="fe mq mr ms mt b">select_door()</code>。这是用来做初始选择的。当给定门的数量(<code class="fe mq mr ms mt b">door_count</code>)作为输入时，它以随机的均匀概率选择并返回一个门(<code class="fe mq mr ms mt b">selection</code>)。下一个方法是<code class="fe mq mr ms mt b">wanna_switch()</code>。当主持人打开所有剩余的门，展示一个备选门，并询问参赛者是否想改变她的/他的决定时，将调用此方法。它需要一个输入:T5。如果参赛选手的属性<code class="fe mq mr ms mt b">switch</code>是<code class="fe mq mr ms mt b">False</code>，这个方法返回旧的<code class="fe mq mr ms mt b">selection</code>(坚持原来的决定)。如果参赛选手的属性<code class="fe mq mr ms mt b">switch</code>为真，则返回<code class="fe mq mr ms mt b">new_door</code>(改变原来的选择)。</p><p id="3895" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来我们有<code class="fe mq mr ms mt b">Host</code>类。它采用一个构造函数参数<code class="fe mq mr ms mt b">door_count</code>。在实例化过程中，<code class="fe mq mr ms mt b">Host</code>类通过设置私有属性<code class="fe mq mr ms mt b">_car_index</code>将虚拟汽车随机“放置”在其中一扇门后。<em class="mw">我已经做了</em> <code class="fe mq mr ms mt b"><em class="mw">_car_index</em></code> <em class="mw">，</em> <code class="fe mq mr ms mt b"><em class="mw">door_counts</em></code> <em class="mw">属性的</em> <code class="fe mq mr ms mt b"><em class="mw">Host</em></code> <em class="mw">类，既然主人已经知道了这些。</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="24e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mq mr ms mt b">Host</code>类有三个方法。第一个是<code class="fe mq mr ms mt b">present_doors()</code>，用于通过返回<code class="fe mq mr ms mt b">door_count</code>向参赛者显示门。接下来的方法是<code class="fe mq mr ms mt b">eliminate_others_and_present_one_door()</code>。该方法将参赛者的第一个选择(<code class="fe mq mr ms mt b">contestant_selection</code>)作为输入，并返回一个<code class="fe mq mr ms mt b">alternative_door</code>作为输出，以询问参赛者她/他是否想要切换？如果参赛者的第一个选择是后面有车的门，它随机返回另一个门作为<code class="fe mq mr ms mt b">alternative_door</code>。如果参赛者的首选不是后面有车的门，这个方法返回<code class="fe mq mr ms mt b">_car_index</code>(后面有车的门)作为<code class="fe mq mr ms mt b">alternative_door</code>。(<em class="mw"/><code class="fe mq mr ms mt b"><em class="mw">alternative_door</em></code><em class="mw">的这种回归，就好比打开了所有其他的门，露出了身后的山羊。</em>)最后一个方法是<code class="fe mq mr ms mt b">reveal_if_winner()</code>。它将参赛选手的<code class="fe mq mr ms mt b">final_selection</code>作为输入，并返回参赛选手是否获胜。</p><p id="9d00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将所有东西放在一起，我们可以使用下面的代码片段模拟一次竞争。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="cdaa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，要获得实际的获胜概率，我们需要无限多次模拟(这是不可能的)。因此，我对此进行了一百万次模拟，并使用结果数字作为实际概率的代理。随着迭代次数的增加，我们可以在图2中看到，经验概率向(预期的)实际概率收敛。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/d35873519e68ff1faca854915049e623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iOCI9OOxFNDf3V7k1JLaug.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图2——显示随着迭代次数的增加，经验获胜概率向理论概率收敛的图表(作者的图表)</p></figure><p id="475a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我模拟了两个参赛者:一个总是改变她/他的决定，另一个总是坚持原来的决定。从上面的结果，我们可以清楚地看到，如果我们在被要求时改变我们的决定，我们有更好的机会把想象中的车开回家。</p><p id="2659" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安全驾驶…😁</p><p id="80cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想访问完整的代码(我不知道为什么有人会想要)，可以在这里找到<a class="ae kv" href="https://github.com/bmsknight/monty-hall-problem" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="a9a4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">参考</h1><div class="my mz gp gr na nb"><a href="https://en.wikipedia.org/wiki/Monty_Hall_problem" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd ir gy z fp ng fr fs nh fu fw ip bi translated">蒙蒂霍尔问题-维基百科</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">蒙蒂霍尔问题是一个脑筋急转弯，以概率谜题的形式，大致基于美国电视…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">en.wikipedia.org</p></div></div><div class="nk l"><div class="nl l nm nn no nk np kp nb"/></div></div></a></div><div class="my mz gp gr na nb"><a href="https://www.statisticshowto.com/probability-and-statistics/monty-hall-problem/" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd ir gy z fp ng fr fs nh fu fw ip bi translated">蒙蒂霍尔问题:简单解释解决方案</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">内容(点击跳转到该部分):什么是蒙蒂霍尔问题？一种更直观的方式来看待蒙蒂…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">www.statisticshowto.com</p></div></div><div class="nk l"><div class="nq l nm nn no nk np kp nb"/></div></div></a></div><p id="9ccd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">“数字迷”解说视频—<a class="ae kv" href="https://www.youtube.com/watch?v=4Lb-6rxZxx0" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=4Lb-6rxZxx0</a></p><p id="83a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">“信息图表展示”解说视频—【https://www.youtube.com/watch?v=hdo4CZC76fA T2】</p></div></div>    
</body>
</html>