<html>
<head>
<title>How to Pretty-Print Pandas DataFrames and Series</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何漂亮地打印熊猫数据帧和系列</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-pretty-print-pandas-dataframes-and-series-b301fa78bb6c?source=collection_archive---------11-----------------------#2021-05-24">https://towardsdatascience.com/how-to-pretty-print-pandas-dataframes-and-series-b301fa78bb6c?source=collection_archive---------11-----------------------#2021-05-24</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="4039" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">如何在同一行显示熊猫数据框的所有列</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/88a2af456ffbf973836b5afdf57a9eb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XuNg3F5mNjKD7VxHCmi1Ag.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@stonewyq?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">斯通王</a>在<a class="ae kz" href="https://unsplash.com/s/photos/pandas?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="3c45" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当我们必须处理可能有多列和多行的大熊猫数据帧时，能够以可读的格式显示数据帧是很重要的。这在调试代码时可能也很有用。</p><p id="dd61" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">默认情况下，当数据帧被打印出来并且具有相当多的列时，只有一部分列被显示到标准输出中。显示的列甚至可以打印成多行。</p><p id="cfef" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在今天的文章中，我们将探讨如何配置所需的pandas选项，这将允许我们“漂亮地打印”pandas数据帧。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="650b" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">问题是</h1><p id="9a47" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">假设我们有以下数据帧:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="na nb l"/></div></figure><p id="b1e8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，如果列数超过显示选项<code class="fe nc nd ne nf b">display.max_rows</code>的值，则输出数据帧可能不完整，如下所示。仅显示列的子集(<code class="fe nc nd ne nf b">column4</code>和<code class="fe nc nd ne nf b">column5</code>缺失)，而剩余的列以多行方式打印。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ng"><img src="../Images/fdc8f066c96ac4909a40b396b10f0ad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OOjEZtl4sLkvsdcV_avchA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">来源:作者</p></figure><p id="027a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">虽然输出仍然具有一定的可读性，但是忽略列或多行打印肯定是不理想的。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="23b6" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">如何漂亮地打印熊猫数据帧</h1><p id="993b" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">如果您的显示器足够宽，能够容纳更多的列，您可能需要调整一些显示选项。我将在下面使用的值可能不适合您的设置，因此请确保对它们进行相应的调整。就我个人而言，我使用超宽显示器，必要时可以打印出相当多的栏目。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="7cc5" class="nh me iu bd mf ni nj dn mj nk nl dp mn lj nm nn mp ln no np mr lr nq nr mt ns bi translated">如何在同一行打印所有列和</h2><p id="6890" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">现在，为了显示所有的列(如果你的显示器能够容纳它们的话)，并且在一行中，你所要做的就是将显示选项<code class="fe nc nd ne nf b">expand_frame_repr</code>设置为<code class="fe nc nd ne nf b">False</code>:</p><pre class="kk kl km kn gu nt nf nu nv aw nw bi"><span id="ad23" class="nh me iu nf b gz nx ny l nz oa">pd.set_option('expand_frame_repr', False)</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ob"><img src="../Images/2acedf1b52f9ac3e81d7a1e0e11bf3fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FMTbEXByQNewSQyPThdAEg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">来源:作者</p></figure><blockquote class="oc od oe"><p id="5c76" class="la lb of lc b ld le jv lf lg lh jy li og lk ll lm oh lo lp lq oi ls lt lu lv in bi translated"><code class="fe nc nd ne nf b"><a class="ae kz" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/options.html" rel="noopener ugc nofollow" target="_blank">display.expand_frame_repr</a></code></p><p id="17b1" class="la lb of lc b ld le jv lf lg lh jy li og lk ll lm oh lo lp lq oi ls lt lu lv in bi translated">默认:<code class="fe nc nd ne nf b">True</code></p><p id="c2fc" class="la lb of lc b ld le jv lf lg lh jy li og lk ll lm oh lo lp lq oi ls lt lu lv in bi translated">是否打印多行宽数据帧的完整数据帧报告，<code class="fe nc nd ne nf b">max_columns</code>仍受关注，但如果其宽度超过<code class="fe nc nd ne nf b">display.width</code>，输出将跨越多个“页面”</p></blockquote><p id="aadc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">或者，您可以更改<code class="fe nc nd ne nf b">display.max_rows</code>的值，而不是将<code class="fe nc nd ne nf b">expand_frame_repr</code>设置为<code class="fe nc nd ne nf b">False</code>:</p><pre class="kk kl km kn gu nt nf nu nv aw nw bi"><span id="e862" class="nh me iu nf b gz nx ny l nz oa">pd.set_option(‘display.max_rows’, False)</span></pre><p id="93e5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">注意，如果各栏仍打印在多页中，那么您可能也需要调整</strong> <code class="fe nc nd ne nf b"><strong class="lc iv">display.width</strong></code> <strong class="lc iv">。</strong></p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="487c" class="nh me iu bd mf ni nj dn mj nk nl dp mn lj nm nn mp ln no np mr lr nq nr mt ns bi translated">如何打印所有行</h2><p id="9258" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">现在，如果您的数据帧包含超过一定数量的行，将只显示少数记录(来自df的头部和尾部):</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="na nb l"/></div></figure><p id="02ef" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您想要显示更大范围(甚至所有)的行，您需要将<code class="fe nc nd ne nf b">display.max_rows</code>设置为您想要输出的行数。如果要显示所有行，将其设置为<code class="fe nc nd ne nf b">None</code>:</p><pre class="kk kl km kn gu nt nf nu nv aw nw bi"><span id="b11f" class="nh me iu nf b gz nx ny l nz oa">pd.set_option('display.max_rows', None)</span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="dac3" class="nh me iu bd mf ni nj dn mj nk nl dp mn lj nm nn mp ln no np mr lr nq nr mt ns bi translated">使用上下文管理器</h2><p id="2f32" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">更好的方法是使用<code class="fe nc nd ne nf b"><a class="ae kz" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.option_context.html" rel="noopener ugc nofollow" target="_blank">option_context()</a></code>,它是一个上下文管理器，可以用来临时设置<code class="fe nc nd ne nf b">with</code>语句上下文中的特定选项。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="na nb l"/></div></figure></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="e7ee" class="nh me iu bd mf ni nj dn mj nk nl dp mn lj nm nn mp ln no np mr lr nq nr mt ns bi translated">其他有用的显示选项</h2><p id="9950" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">有更多的显示选项，你可以调整和改变熊猫数据帧的显示方式。</p><ul class=""><li id="5557" class="oj ok iu lc b ld le lg lh lj ol ln om lr on lv oo op oq or bi translated"><code class="fe nc nd ne nf b">display.max_colwidth</code> : <strong class="lc iv"> </strong>这是为列名显示的最大字符数。如果某个列名溢出，将添加一个占位符(<code class="fe nc nd ne nf b">…</code>)来代替。</li></ul><pre class="kk kl km kn gu nt nf nu nv aw nw bi"><span id="4c26" class="nh me iu nf b gz nx ny l nz oa">pd.set_option('display.max_colwidth', None)</span></pre><ul class=""><li id="43b5" class="oj ok iu lc b ld le lg lh lj ol ln om lr on lv oo op oq or bi translated"><code class="fe nc nd ne nf b">display.precision</code>:这是将用于浮点的精度。它指定了小数点后<em class="of">的位数。</em></li><li id="0517" class="oj ok iu lc b ld os lg ot lj ou ln ov lr ow lv oo op oq or bi translated"><code class="fe nc nd ne nf b">display.width</code>:这是显示器的总字符数。如果您想显示更多的列，有时您可能还需要调整<code class="fe nc nd ne nf b">display.width</code>。</li></ul><p id="f544" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以使用<code class="fe nc nd ne nf b">describe_option()</code>找到显示的完整列表:</p><pre class="kk kl km kn gu nt nf nu nv aw nw bi"><span id="40b9" class="nh me iu nf b gz nx ny l nz oa">pd.describe_option(‘display’)<!-- --> . </span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="3f56" class="nh me iu bd mf ni nj dn mj nk nl dp mn lj nm nn mp ln no np mr lr nq nr mt ns bi translated">Jupyter用户注意事项</h2><p id="1507" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">如果您正在使用Jupyter笔记本，只需使用<code class="fe nc nd ne nf b"><a class="ae kz" href="https://ipython.readthedocs.io/en/stable/api/generated/IPython.display.html#IPython.display.display" rel="noopener ugc nofollow" target="_blank">display(df)</a></code>而不是<code class="fe nc nd ne nf b">print(df)</code>，宽度将会相应调整。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="1544" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">结论</h1><p id="6d50" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">在今天的文章中，我们讨论了熊猫的几个显示选项，让你可以根据你想要显示的内容以及你使用的显示器来漂亮地打印数据帧。</p><p id="762e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">熊猫配备了一个<code class="fe nc nd ne nf b">options</code>系统，让用户调整和定制显示功能。我们只讨论了可用显示选项的一小部分。确保阅读官方文件的<a class="ae kz" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/options.html" rel="noopener ugc nofollow" target="_blank">选项和设置</a>部分。</p></div></div>    
</body>
</html>