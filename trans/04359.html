<html>
<head>
<title>An Analysis of Your Fantasy Premier League Team with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python解析你的梦幻英超球队</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-analysis-of-your-fantasy-premier-league-team-with-python-de4acf77e444?source=collection_archive---------18-----------------------#2021-04-13">https://towardsdatascience.com/an-analysis-of-your-fantasy-premier-league-team-with-python-de4acf77e444?source=collection_archive---------18-----------------------#2021-04-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="08ef" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用几行Python代码来可视化您的FPL团队的表现</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ea40a7f1a758a39164b237c7ff2c6504.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SCH0NnPTYv3YDGddGR2fXw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="fec7" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">#动机</h1><p id="55c3" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">如果你关注足球，你一定在某个时候听说过梦幻足球游戏。很多足球联赛都有自己的，有自己特定的规则，英超也不例外。不仅如此，这个游戏在那个岛上非常受欢迎，全世界有超过800万人玩这个游戏。在这篇文章中，我们将看看梦幻英超的经理们如何使用Python来分析他们的球队。</p><p id="844e" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated">虽然这个游戏很好地展示了你对你的团队的一些见解，但它可能比页面上的数字更生动。这就是FPL API和几行Python代码派上用场的地方，它们可以构建不同类型的可视化，显示任何经理团队和他们一周接一周的开发游戏的最重要方面。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="f930" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">#识别和获取相关数据</h1><p id="5d54" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">这里的想法是从小处着手，从基本要素开始(点数、等级、团队价值、转会、队长选择和每个位置的点数)。这已经带来了大量关于经理团队的见解。</p><p id="d45f" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated">为了获得这个项目所需的数据，我们将使用FPL API。尽管没有围绕它们构建的文档，但由于使用Google Chrome DevTools对不同的FPL网页进行了简单的网络扫描，我们可以找到我们需要的URL端点。然后，对这些特定端点的请求使您能够访问JSON格式的数据，这在Python中处理起来非常实用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/ff3593b7b865728058adec982acf0806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XI9F-FKWMTQWXfJHOWIbzw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Google Chrome“Inspect”工具的屏幕截图URL端点以黄色突出显示</p></figure><p id="9a91" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated">以下是我们用来获取所需数据的4个端点:</p><p id="b53d" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated"><strong class="lw ir">https://fantasy.premierleague.com/api/bootstrap-static/</strong><br/>关于PL球队、球员和比赛周详情的一般信息</p><p id="52be" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated"><strong class="lw ir">https://fantasy.premierleague.com/api/entry/<em class="mw">teamID</em>/event/<em class="mw">GW number</em>/picks/<br/></strong>关于给定的FPL队和给定的比赛周的详细信息</p><p id="5b89" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated"><strong class="lw ir">https://fantasy.premierleague.com/api/entry/<em class="mw">团队id</em>/</strong>/<br/>给定FPL团队的一般信息</p><p id="d213" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated"><strong class="lw ir">https://fantasy.premierleague.com/api/element-summary/<em class="mw">playerID</em>/</strong><br/>具体英超球员的详细信息</p><p id="793b" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated">也就是说，这就是数据挖掘部分的样子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="c1c6" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated">在此基础上，让我们构建几个函数来获取英超球员的具体数据:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="c6f9" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated">有了这个，我们就可以开始了！</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="d961" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">#组织数据</h1><p id="58bc" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">既然我们已经从FPL API获得了所有的原始数据，游戏的名称就是只保留我们需要的东西，整理东西，并把所有东西组织在列表和字典中。这将使在我们的仪表板上绘制数据变得更加简单。</p><p id="2523" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated">在初始化了我们想要建立的所有列表和字典之后，我们循环通过所有的游戏周来获取我们需要的数据并填充我们刚刚定义的对象。我们使用append方法向列表中添加元素，而对于字典，我们直接添加(键，值)对。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="0af6" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">#创建图表</h1><p id="a303" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">好了，现在让我们来建造这个东西。将所有数据正确地排列在列表和字典中，我们真正需要的就是matplotlib！</p><h1 id="43ce" class="lc ld iq bd le lf mz lh li lj na ll lm jw nb jx lo jz nc ka lq kc nd kd ls lt bi translated">1.游戏周分数以及与最高和平均分数的比较</h1><p id="dfde" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">让我们从基础开始。一个队每周得到的分数以及与比赛周最高和平均分数的比较是要建立的第一个图表。我从未接近过比赛周的最高分数，但与平均分数相比还是很有趣的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/08fbba30691972cccffc95d4f5e3f843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XP6WLnxrPHPU4DSB5a9ySg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h1 id="e399" class="lc ld iq bd le lf mz lh li lj na ll lm jw nb jx lo jz nc ka lq kc nd kd ls lt bi translated">2.每个比赛周的排名变化</h1><p id="7af5" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">其次，我们来看看每个比赛周的队伍排名，以及整体排名的演变。有了这张图表，你可以监测你的球队一周接一周的比赛表现和整体趋势。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/4ff0b018d13b46978fb25376ea03f953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XafeDiW1Xs8omLMT7f483Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h1 id="19b6" class="lc ld iq bd le lf mz lh li lj na ll lm jw nb jx lo jz nc ka lq kc nd kd ls lt bi translated">3.每个比赛周团队价值的演变</h1><p id="bb39" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">如果你不想在赛季结束时落后，FPL的“金融”部分是至关重要的。关注你的财务状况是很重要的，这张图表就是这么做的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/331264f042065e160ca12f7c5d69a8f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ggbS4Z3yFQpWukfSGvl7BA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h1 id="f9a7" class="lc ld iq bd le lf mz lh li lj na ll lm jw nb jx lo jz nc ka lq kc nd kd ls lt bi translated">4.转让次数和相关费用</h1><p id="d435" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">现在让我们来看看到目前为止，这位经理在这个赛季中有多活跃。该图显示了所进行的转移及其潜在的相关成本。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/6e3521667722c063cd00405f948324a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*airXkpZzxt9OOZSL-DfgoA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h1 id="a648" class="lc ld iq bd le lf mz lh li lj na ll lm jw nb jx lo jz nc ka lq kc nd kd ls lt bi translated">5.船长付款</h1><p id="b89e" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">在FPL，队长的选择非常重要，它可以完全改变一支球队在特定比赛周的表现。下一张图将向你展示你的队长在哪些地方表现不佳，哪些地方表现过度。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/92de95e368acad4ca7a7d25971c59dd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2UusliIyWlLlVn6r9mJuTQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h1 id="f1ce" class="lc ld iq bd le lf mz lh li lj na ll lm jw nb jx lo jz nc ka lq kc nd kd ls lt bi translated">6.每个位置的点数</h1><p id="a88c" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">我们仪表盘上的最后一张图显示了您每个职位获得的积分。多亏了这张图表，你将清楚地了解到哪些球员给你带来了最多的分数，以及你在整个赛季中遵循了哪些策略。这可能是一个好主意，比较它与游戏中的顶级玩家，看看你可以做什么不同！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/ff5ef273a0b7fb016459cdae1c2328fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*rGbwhM9rugdS25MkVX6-_Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="f2f6" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">#结论</h1><p id="9e6c" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">以我的团队为例，在10个游戏周之后，仪表板最终看起来是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/4dc4a8050ec46c8aaba54d6bc4819df4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8KoVa_McgENMP8DMOxJbDA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="2127" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated">我们在这个项目中制作的图表集是分析FPL团队的良好开端。然而，不言而喻，通过我们设法获得的所有数据，可以得出更多的FPL洞见。在这里，我把重点放在观想最重要的事情上，可能会有更多的事情发生！</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="dbf3" class="pw-post-body-paragraph lu lv iq lw b lx mq jr lz ma mr ju mc md ms mf mg mh mt mj mk ml mu mn mo mp ij bi translated">如果你想分析你的团队，完整的代码可以在这里找到:<br/>【https://github.com/Guigs11/fpl_team_analysis】T2</p></div></div>    
</body>
</html>