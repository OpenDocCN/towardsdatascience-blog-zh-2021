<html>
<head>
<title>Flipping USB Connectors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">翻转USB连接器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/flipping-usb-connectors-5ac65ea9f355?source=collection_archive---------23-----------------------#2021-06-21">https://towardsdatascience.com/flipping-usb-connectors-5ac65ea9f355?source=collection_archive---------23-----------------------#2021-06-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="0d99" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="9463" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">贝叶斯决策分析显示为什么你必须翻转USB连接器两次</h2></div><p id="ab24" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">艾伦·唐尼</p><p id="9770" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我不是第一个观察到有时需要尝试几次才能插入USB连接器(特别是矩形的<a class="ae lk" href="https://en.wikipedia.org/wiki/USB" rel="noopener ugc nofollow" target="_blank">A型连接器</a>，不可逆)。有关于它的<a class="ae lk" href="https://knowyourmeme.com/memes/usb-insertion-issues" rel="noopener ugc nofollow" target="_blank">迷因</a>，有关于它的<a class="ae lk" href="https://www.smbc-comics.com/?id=2388" rel="noopener ugc nofollow" target="_blank">漫画</a>，而且在Quora这样的网站上，<a class="ae lk" href="https://www.quora.com/Why-do-you-always-have-to-flip-a-USB-twice-when-trying-to-plug-it-in-Shouldn-t-it-have-gone-in-the-first-time-when-you-had-it-the-right-way" rel="noopener ugc nofollow" target="_blank">人</a> <a class="ae lk" href="https://www.quora.com/There-is-a-50-chance-of-plugging-in-a-USB-cable-the-right-way-on-the-first-try-Why-does-it-only-happen-20-of-the-time-when-I-do-it" rel="noopener ugc nofollow" target="_blank">有</a> <a class="ae lk" href="https://www.quora.com/Why-doesnt-the-USB-go-in-the-first-time-but-does-after-youve-turn-it-a-few-times" rel="noopener ugc nofollow" target="_blank">问</a> <a class="ae lk" href="https://www.quora.com/People-that-can-plug-the-USB-in-on-their-first-try-How" rel="noopener ugc nofollow" target="_blank">关于</a> <a class="ae lk" href="https://www.quora.com/Why-cant-we-plug-in-USB-devices-correctly-the-first-time" rel="noopener ugc nofollow" target="_blank">它</a>不止一次。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/5cdbcbb3860c7d7c2945feb5d8b36127.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*VD9oWP0Aw1pFnI-6DzVCnQ.jpeg"/></div><p class="lt lu gj gh gi lv lw bd b be z dk translated">杰斯·贝利在<a class="ae lk" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="5358" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">但我可能是第一个使用贝叶斯决策分析来找出插入USB连接器的最佳策略的人。具体来说，我算出了你翻第一面要试多久，再翻第二面要试多久，第三面要试多久，等等。</p><p id="2879" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">当然，我的分析是基于一些建模决策:</p><ol class=""><li id="78da" class="lx ly iq kq b kr ks ku kv kx lz lb ma lf mb lj mc md me mf bi translated">让我们假设连接器处于正确方向的初始概率是0.5；</li><li id="eab8" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj mc md me mf bi translated">如果是，成功所需的时间遵循平均为1.1秒的<a class="ae lk" href="https://en.wikipedia.org/wiki/Exponential_distribution" rel="noopener ugc nofollow" target="_blank">指数分布</a>；</li><li id="af2a" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj mc md me mf bi translated">翻转连接器需要0.1秒。</li></ol><p id="989e" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">有了这些假设，我们就可以开始了。</p><h1 id="0401" class="ml mm iq bd mn mo mp mq mr ms mt mu mv kf mw kg mx ki my kj mz kl na km nb nc bi translated">贝叶斯定理</h1><p id="2708" class="pw-post-body-paragraph ko kp iq kq b kr nd ka kt ku ne kd kw kx nf kz la lb ng ld le lf nh lh li lj ij bi translated">第一步是计算出连接器处于正确方向的概率，作为你尝试了多长时间的函数。</p><p id="51c8" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">例如，假设连接器方向正确的先验概率为0.5，而您已经尝试了0.9秒。你可能会开始怀疑自己是否做对了。</p><p id="7dbe" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">为了计算后验概率，我们将从0.9秒内无法连接的可能性开始，给定方向:</p><ul class=""><li id="87fb" class="lx ly iq kq b kr ks ku kv kx lz lb ma lf mb lj ni md me mf bi translated">如果你站在错误的一边，你失败的可能性是100%。</li><li id="cb1a" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj ni md me mf bi translated">如果你在右边，可能性由指数分布的<a class="ae lk" href="https://en.wikipedia.org/wiki/Survival_function" rel="noopener ugc nofollow" target="_blank">生存函数</a>给出，即exp(—<em class="nj">λt</em>，其中<em class="nj"> λ </em>是速率参数，<em class="nj"> t </em>是时间。</li></ul><p id="da04" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">因此，对于连接器方向正确的假设，似然比是exp(<em class="nj">λt</em>):1。</p><p id="3512" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在可以方便地使用对数比形式的贝叶斯定理:</p><p id="e934" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">log<em class="nj">O</em>(<em class="nj">H</em>| D)= log<em class="nj">O</em>(<em class="nj">H</em>)+log<em class="nj">LR(D)</em></p><p id="147a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在哪里</p><ul class=""><li id="2d22" class="lx ly iq kq b kr ks ku kv kx lz lb ma lf mb lj ni md me mf bi translated">log <em class="nj"> O </em> ( <em class="nj"> H </em>)是假设的先验log odds，在我们看到数据之前，</li><li id="2b19" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj ni md me mf bi translated">log <em class="nj"> O </em> ( <em class="nj"> H </em> |D)是假设的后验对数赔率，我们看到数据后，和</li><li id="dc45" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj ni md me mf bi translated">log <em class="nj"> LR(D) </em>是两种假设下数据的对数似然比。</li></ul><p id="87b5" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">由于似然比是exp(–<em class="nj">λt</em>)，对数似然比是<em class="nj"> λt </em>，因此我们可以写为:</p><p id="1c59" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">log<em class="nj">O</em>(<em class="nj">H</em>| D)= log<em class="nj">O</em>(<em class="nj">H</em>)<em class="nj">λt</em></p><p id="aeba" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">给定后验对数概率，我们可以计算出你站在正确一边的概率，作为你尝试了多久的函数。下图显示了结果:</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/b872b59d1a740227718bdd3cea97758a.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/0*8XnUn5w5DyyMe64N.png"/></div></figure><p id="6535" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">经过几秒钟的摆弄，你应该有理由相信连接器的方向是错误的。</p><p id="80dd" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们可以从两个方向阅读这个图表:考虑到你已经摆弄了多长时间，你可以查找你在正确一边的概率。或者，给定一个目标概率，你可以查一下到达那里需要多长时间。这对下一步很有用。</p><h1 id="24e0" class="ml mm iq bd mn mo mp mq mr ms mt mu mv kf mw kg mx ki my kj mz kl na km nb nc bi translated">战略</h1><p id="2ffd" class="pw-post-body-paragraph ko kp iq kq b kr nd ka kt ku ne kd kw kx nf kz la lb ng ld le lf nh lh li lj ij bi translated">现在让我们来思考如何将信念转化为行动。我将从一个猜想开始:我怀疑最佳策略是在第一面尝试，直到正确定向的概率下降到某个阈值以下，我将它称为<em class="nj"> r </em>，然后在第二面尝试，直到概率再次下降到该阈值以下，并根据需要重复。</p><p id="2ff9" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">为了实现这个策略，我们可以使用上一节的结果来计算在给定先验概率的情况下，后验概率降到阈值以下需要多长时间，我称之为<em class="nj"> p </em>。</p><p id="b85e" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我编写了一个Python函数来模拟这个过程，同时跟踪总时间和翻转次数。以下是步骤:</p><ol class=""><li id="443b" class="lx ly iq kq b kr ks ku kv kx lz lb ma lf mb lj mc md me mf bi translated">基于<em class="nj"> p </em>和<em class="nj"> r </em>，计算翻转前的<em class="nj">最大尝试时间</em>。</li><li id="e8b4" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj mc md me mf bi translated">如果我们站在错误的一边，我们就不会成功，所以将<em class="nj">最大时间</em>加到总数上，翻转连接器，然后转到步骤1。</li><li id="c170" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj mc md me mf bi translated">否则，从指数分布中随机抽取一个<em class="nj">连接时间</em>。</li><li id="ab15" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj mc md me mf bi translated">如果<em class="nj">连接时间</em>小于<em class="nj">最大时间</em>，则表示我们成功了，所以将<em class="nj">连接时间</em>加到总数上，然后返回总时间和翻转次数。</li><li id="cb08" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj mc md me mf bi translated">否则，将<em class="nj">最大时间</em>加到总数上，翻转连接器，转到步骤1。</li></ol><p id="209c" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">模拟的细节在一个Jupyter笔记本里，你可以在<em class="nj"> Think Bayes </em>网站或者在Colab 上运行<a class="ae lk" href="https://colab.research.google.com/github/AllenDowney/ThinkBayes2/blob/master/examples/usb.ipynb" rel="noopener ugc nofollow" target="_blank">阅读。</a></p><p id="5f39" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">对于<em class="nj"> r </em>的一系列值，我多次运行模拟，50%的时间从正确的方向开始，并计算连接的平均时间。结果如下:</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/0b12dc5e91de3e493126df081dd2c103.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/0*TcyJozFt2r-kT6y6.png"/></div></figure><p id="2fad" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">圆点示出了不同阈值概率的模拟结果。该线显示了结果的局部回归。</p><p id="3a8d" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">当<em class="nj"> r </em>接近0.3时，平均连接时间最小。这意味着我们应该继续尝试第一面，直到我们认为有30%的机会方向是正确的——这需要大约0.9秒——然后尝试第二面。</p><p id="0df7" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在翻转之后，我们认为有70%的机会方向是正确的。我们应该继续尝试，直到它再次下降到30%——这需要大约1.8秒——然后再次翻转，重复直到我们连接上。</p><h1 id="007b" class="ml mm iq bd mn mo mp mq mr ms mt mu mv kf mw kg mx ki my kj mz kl na km nb nc bi translated">几个空翻？</h1><p id="a16a" class="pw-post-body-paragraph ko kp iq kq b kr nd ka kt ku ne kd kw kx nf kz la lb ng ld le lf nh lh li lj ij bi translated">现在我们用<em class="nj"> r </em>的最优值来看看连接需要多长时间，要翻转多少次。</p><p id="daf9" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我从两个方向开始进行模拟，记录了总时间和翻转次数。下图显示了每个方向的总时间分布，以累积分布函数(CDF)表示。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/2d54ca6a536a84f1205052e9f00f8bec.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/0*yGS2qU-TSKmREBN3.png"/></div></figure><p id="df17" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果我们从右边开始，平均时间是2.2秒，如果我们从错误的尺寸开始，平均时间是2.6秒。但有时需要两倍或更多的时间:如果我们从右边开始，第90百分位大约是4.6秒，否则是5.6秒。</p><p id="a9ea" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这是翻转总数的分布。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/b573efe9cdaa3206ef778def513de5a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/0*zXWoI0aLq7WGDCyJ.png"/></div></figure><p id="2f03" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">第一次尝试连接的概率只有28%，这意味着当我们以正确的方向开始时，我们几乎有一半的时间会翻转(50次中有22次)。</p><p id="bc43" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">最常见的结果是，我们翻转一次，大约40%的时间。而臭名昭著的双翻的概率大概是18%。</p><p id="6a78" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">幸运的是，翻转三次或三次以上的情况很少见。</p><h1 id="388d" class="ml mm iq bd mn mo mp mq mr ms mt mu mv kf mw kg mx ki my kj mz kl na km nb nc bi translated">摘要</h1><p id="44ad" class="pw-post-body-paragraph ko kp iq kq b kr nd ka kt ku ne kd kw kx nf kz la lb ng ld le lf nh lh li lj ij bi translated">至此，我想我们已经解决了USB连接器的问题。</p><ol class=""><li id="1ff2" class="lx ly iq kq b kr ks ku kv kx lz lb ma lf mb lj mc md me mf bi translated">我们使用贝叶斯定理(对数比数形式)来计算连接器方向正确的后验概率，这取决于您拨弄的时间。</li><li id="d1c1" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj mc md me mf bi translated">我们基于我的推测定义了一个策略，你应该继续摆弄，直到后验概率低于一个给定的阈值。</li><li id="9fd6" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj mc md me mf bi translated">给定连接(在正确方向上)的平均时间和翻转所需的时间，我们找到了最小化总连接时间的阈值概率。</li><li id="34ac" class="lx ly iq kq b kr mg ku mh kx mi lb mj lf mk lj mc md me mf bi translated">给定这个最优值，我们估计了总时间和翻转次数的分布。</li></ol><p id="d775" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这些结果解释了为什么翻转USB连接器不止一次是如此普遍，即使你从正确的方向开始。</p><p id="4c5b" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">可悲的是，我们的乐趣被越来越流行的USB-C连接器破坏了，这种连接器可以在两个方向上工作。</p><p id="71c5" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><em class="nj">这个例子是根据新二版中的方法</em> <a class="ae lk" href="https://greenteapress.com/wp/think-bayes/" rel="noopener ugc nofollow" target="_blank"> <em class="nj">想贝叶斯</em> </a> <em class="nj">。关于贝叶斯决策分析的其他例子，参见</em> <a class="ae lk" href="https://allendowney.github.io/ThinkBayes2/chap09.html" rel="noopener ugc nofollow" target="_blank"> <em class="nj">第九章</em> </a> <em class="nj">和</em> <a class="ae lk" href="https://allendowney.github.io/ThinkBayes2/chap10.html" rel="noopener ugc nofollow" target="_blank"> <em class="nj">第十章</em> </a> <em class="nj">。</em></p><p id="5340" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><em class="nj">艾伦·唐尼(Allen Downey)是奥林学院的教授，著有《Think Python</em><a class="ae lk" href="https://greenteapress.com/wp/think-python-2e/" rel="noopener ugc nofollow" target="_blank"/><em class="nj">、</em> <a class="ae lk" href="https://greenteapress.com/wp/think-stats-2e/" rel="noopener ugc nofollow" target="_blank"> Think Stats </a> <em class="nj">以及其他关于软件和数据科学的书籍——所有这些都可以从</em> <a class="ae lk" href="https://greenteapress.com/wp/" rel="noopener ugc nofollow" target="_blank"> <em class="nj">绿茶出版社</em> </a> <em class="nj">获得。他的博客</em> <a class="ae lk" href="https://www.allendowney.com/blog/" rel="noopener ugc nofollow" target="_blank">可能想多了</a> <em class="nj">，以关于贝叶斯统计和数据科学的文章为特色。</em></p><p id="0bb4" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><em class="nj">版权所有2021艾伦·唐尼。</em></p><p id="14d4" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><em class="nj">许可:</em> <a class="ae lk" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener ugc nofollow" target="_blank"> <em class="nj">归属-非商业性-共享4.0国际(CC BY-NC-SA 4.0) </em> </a></p></div></div>    
</body>
</html>