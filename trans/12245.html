<html>
<head>
<title>RegNet: The Most Flexible Network Architecture For Computer Vision</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RegNet:最灵活的计算机视觉网络体系结构</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/regnet-the-most-flexible-network-architecture-for-computer-vision-2fd757f9c5cd?source=collection_archive---------5-----------------------#2021-12-13">https://towardsdatascience.com/regnet-the-most-flexible-network-architecture-for-computer-vision-2fd757f9c5cd?source=collection_archive---------5-----------------------#2021-12-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f813" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为高效率或高精度而缩放的模型设计</h2></div><p id="2c38" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">传统上，卷积神经网络架构是为一个特定目的而设计和优化的。例如，ResNet 模型系列在最初发布时就在 ImageNet 上进行了最高精度的优化。顾名思义，MobileNets 是为在移动设备上运行而优化的。最后，EfficientNet 被设计成在视觉识别任务中非常高效。</p><p id="ddd7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在他们的论文“设计网络设计空间”中，Radosavovic 等人决定设定一个非常不同寻常但非常有趣的目标:他们着手探索和设计一个高度灵活的网络架构。一个可以被调整为高效的或者在移动设备上运行的，但是当被调整为最佳分类性能时也是高度准确的。这种适应应该通过在量化的线性函数(一组具有特定参数的公式)中设置正确的参数来控制，以<strong class="kk iu">确定网络的宽度和深度</strong>。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/2e49a51cca6b79e7ac95b80496c95396.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-tWyCOuvO5dFeVVGeasckw.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">网络设计空间的可视化。空间不断优化，以达到一个更小的设计空间与最好的模型。来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="c533" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">他们采用的方法也是非传统的:他们没有手工制作模型架构，而是建立了他们所谓的网络设计空间。</p><h1 id="96ab" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">从网络设计空间中导出 RegNet 模型</strong></h1><p id="6d83" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">如果您只是在这里看到 RegNet 模型的描述，请随意跳过这一部分。我强烈建议您阅读全文，因为如果不了解网络设计领域，就很难理解 RegNet。<strong class="kk iu">说到底，RegNet 其实不是一个架构，而是一个网络设计空间</strong>。</p><p id="1379" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个<strong class="kk iu">网络设计空间</strong>不仅仅是，顾名思义，由不同的模型架构组成，而是由<strong class="kk iu">不同的参数组成，这些参数定义了一个可能的模型架构空间</strong>。这与神经架构搜索不同，你所做的只是尝试不同的架构，搜索最合适的架构。这些参数可以是宽度、深度、组等。网络的一部分。RegNet 也仅使用许多不同架构中的一种类型的网络块，例如瓶颈块。</p><p id="7409" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了达到最终的 RegNet 设计空间，作者首先定义了一个所有可能模型的空间，他们称之为<strong class="kk iu"> AnyNet。</strong>该空间通过不同参数的各种组合创建各种模型。所有这些模型都使用一致的训练机制(时期、优化器、权重衰减、学习率调度程序)在 ImageNet 数据集上进行训练和评估。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ms"><img src="../Images/6ad48f5fadcca34f1a3a05d06780775f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*muYLEc49TIeSYPnJmlMpmg.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">AnyNet 设计空间的统计数据，W4 代表第 4 阶段的网络宽度。来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="ce17" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从这个 AnyNet 空间，<strong class="kk iu">他们通过分析什么参数负责 AnyNet 设计空间中最佳模型的良好性能，创建初始 AnyNet 设计空间</strong>的逐步简化版本。<strong class="kk iu">基本上，他们正在试验不同参数的重要性，以便将设计空间缩小到只有好的型号。</strong></p><p id="9fba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些从当前设计空间到更窄设计空间的改进包括设置共享瓶颈比率和共享组宽度，将宽度和深度参数化以随后期阶段增加。</p><p id="85c7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，他们到达优化的<strong class="kk iu"> RegNet 设计空间</strong>，其中仅包含好的模型以及定义模型所需的量化线性函数！</p><h1 id="9a9b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">RegNet 设计空间</h1><p id="b15c" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">该网络由多个阶段组成，该多个阶段由多个块组成，形成茎(开始)、体(主要部分)和头(结束)。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mt"><img src="../Images/b3dd013a82cff60ab94a8539c33f752c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7PGJzWFw-A50MUCULP-dwA.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">RegNet 由茎、体和头组成。来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="ab8f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在主体内部，定义了多个阶段，每个阶段由多个块组成。如前所述，在 RegNet 中只使用了一种类型的块，即具有群卷积的标准剩余瓶颈块。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mu"><img src="../Images/08505a4f2e362be1e4ea4a3cc228c78a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S2dQ6kYfshd5r7P-wBiFNg.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">用群卷积实现剩余瓶颈阻塞。在右侧，应用了步幅 2。来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="f854" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如上所述，RegNet 模型的设计不是由诸如深度和宽度的固定参数定义的，而是由所选参数控制的<strong class="kk iu">量化线性函数。</strong>优化后，<strong class="kk iu">块宽</strong>计算如下:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mv"><img src="../Images/d11eda6c83340738afb8f66ffe021958.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j5Bd4FvPxY0FBc9C4i3Crw.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">uj 是 j 阶段的块宽度，w0 是初始宽度，wa 是斜率参数。j 从 0 开始，到网络的深度结束。来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="fb42" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">值得注意的是，对于每个额外的块，每个块的宽度以<em class="mw"> wa </em>的因子增加。<br/>作者随后引入一个额外的参数<em class="mw"> wm </em>(这可以由你设置)并计算<em class="mw"> sj </em>:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mx"><img src="../Images/83712ed71db286b16bb12aad253cb92e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cFhbA0431Tqq58nY6koBbA.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">引入<em class="my"> wm </em>计算 sj 的必要公式。来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="befe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，为了量化<em class="mw"> uj </em>，作者舍入<em class="mw"> sj </em>并计算量化的每块宽度:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mz"><img src="../Images/a07227988903b4e92c2b1c7fc24060da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jL9Y-BV_vWn3c9EKBEFdSA.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">使用初始宽度和 wm 的 sj 次幂计算的每块宽度。来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="74a9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">既然已经计算了每个块的宽度，让我们移动到阶段级别。为了得出每个阶段<em class="mw"> i </em>的宽度，所有具有相同宽度的块被简单地计数以形成一个阶段，因为一次所有的块应该具有相同的宽度。</p><p id="6fe1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在要在 RegNet 设计空间之外创建一个 RegNet，必须设置参数<em class="mw"> d </em>(深度)<em class="mw"> w0 </em>(初始宽度)<em class="mw"> wa </em>(斜率)<em class="mw"> wm </em>(宽度参数)<em class="mw"> b </em>(瓶颈)和<em class="mw"> g </em>(组)。</p><p id="a45a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作者现在不同地设置这些参数，以获得具有不同属性的不同 RegNets:</p><ul class=""><li id="cb57" class="na nb it kk b kl km ko kp kr nc kv nd kz ne ld nf ng nh ni bi translated">为移动使用而优化的 RegNet</li><li id="62df" class="na nb it kk b kl nj ko nk kr nl kv nm kz nn ld nf ng nh ni bi translated">一个有效的 RegNet</li><li id="3121" class="na nb it kk b kl nj ko nk kr nl kv nm kz nn ld nf ng nh ni bi translated">高度精确的 RegNet</li></ul><p id="c6bc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看这些网络与其他架构相比表现如何。</p><h1 id="fa80" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结果</h1><p id="e9f7" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">首先，让我们检查 RegNet 的移动性能。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi no"><img src="../Images/afce9e60c6a5fa72670428f13fd42447.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OcUjyC37voJ_jXkE2UI_lg.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">与其他架构相比的 RegNets。X 或 Y 代表剩余块或挤压退出块，其余代表网络所需的触发器。来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="11a8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在所需的 FLOPS 数量相同的情况下，两种 RegNets 都优于其他移动优化网络，或者表现出相似的性能。但是它并没有就此停止。</p><p id="73c3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如简介中所述，<strong class="kk iu">RegNet 被设计成高度灵活的</strong>。接下来的两次评估完美地展示了这一点。</p><p id="1bfc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，RegNets 高效性能与 EfficientNet 架构。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi np"><img src="../Images/b9239545f82aac460e7a984d0fc2b928.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pKBw2ox6UT86t1tyn5lViQ.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">RegNet 与 EfficientNet。来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="82b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">令人印象深刻的是，在所有比较中，RegNet 都有优势。<strong class="kk iu">要么是在更高的训练和推理速度下具有相似的准确性，要么是更准确和更快，特别是在低端。</strong>此外，作者声称<strong class="kk iu"> RegNetX-F8000 大约比 EfficientNet-B5 </strong>快<em class="mw"> 5 </em> × <em class="mw">。这是一个不可思议的飞跃！</em></p><p id="ec43" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当 RegNet 被配置为高精度时，结果看起来也不错。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nq"><img src="../Images/1445286fdab7874a41703902524b9cbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sZ19tRvffjJ-k1KSNAAYhA.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">RegNet 与 ResNet 和 ResNe(X)t 的比较来源:<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">【1】</a></p></figure><p id="48b1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这再次显示了 RegNet 的灵活性:<strong class="kk iu">模型可以指定为高效快速或者高度准确。</strong>这在以前的单一架构中是可能的。</p><h1 id="8b90" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">包装它</h1><p id="4c4c" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">在本文中，您了解了 RegNet，这是一个高度灵活的模型设计空间，采用了非常不同的方法。RegNet 不是单一的架构，它是一个由量化的线性函数定义的设计空间。虽然我希望这个故事能让你对这篇论文有一个很好的初步了解，但是还有很多东西需要发现。因此，我会鼓励你自己阅读这篇论文，即使你是这个领域的新手。你必须从某个地方开始；)</p><p id="3d72" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你对论文中介绍的方法有更多的细节感兴趣，请随时在 Twitter 上给我留言，我的账户链接在我的媒体简介上。</p><p id="30a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望你喜欢这篇论文的解释。如果你对这篇文章有任何意见，或者如果你看到任何错误，请随时留下评论。</p><p id="1647" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">最后但同样重要的是，如果你想在高级计算机视觉领域更深入地探索，考虑成为我的追随者</strong>。我试着每周发一篇文章，让你和其他人了解计算机视觉研究的最新进展。</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><p id="ab05" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">参考资料:</p><p id="a4a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[1] Radosavovic，Ilija 等，“设计网络设计空间”<em class="mw">IEEE/CVF 计算机视觉和模式识别会议论文集</em>。2020.<a class="ae lu" href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Radosavovic_Designing_Network_Design_Spaces_CVPR_2020_paper.pdf" rel="noopener ugc nofollow" target="_blank">https://open access . the CVF . com/content _ CVPR _ 2020/papers/Radosavovic _ Design _ Network _ Design _ Spaces _ CVPR _ 2020 _ paper . pdf</a></p></div></div>    
</body>
</html>