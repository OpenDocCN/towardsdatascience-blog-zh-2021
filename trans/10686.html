<html>
<head>
<title>13 ways to access data in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨Pythonè®¿é—®æ•°æ®çš„13ç§æ–¹æ³•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/13-ways-to-access-data-in-python-bac5683e0063?source=collection_archive---------0-----------------------#2021-10-14">https://towardsdatascience.com/13-ways-to-access-data-in-python-bac5683e0063?source=collection_archive---------0-----------------------#2021-10-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8c42" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">å¦‚ä½•ä»æœ¬åœ°æ–‡ä»¶ã€æ•°æ®åº“ã€APIå’Œæ•°æ®è®¿é—®åº“ä¸­è·å–æ•°æ®åˆ°æ‚¨çš„Pythonç¯å¢ƒä¸­</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/030484439198b4889d599d0f8e41a26e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tYWM6La6f02Sh5AOTQMAmw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">å…°æ–¯Â·æ ¼å…°è¾¾å°”åœ¨<a class="ae kv" href="https://unsplash.com/photos/nShLC-WruxQ" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>æ‹æ‘„çš„å›¾ç‰‡</p></figure><h1 id="d194" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ä»‹ç»</h1><p id="8fe6" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">å¤§å¤šæ•°Pythonåˆ†æéƒ½æ˜¯ä»å°†æ•°æ®å¯¼å…¥ç¯å¢ƒå¼€å§‹çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿™äº›æ•°æ®æ»ç•™åœ¨æ•°æ®åº“ä¸­ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿˜æ˜¯èƒŒåä¸€ä¸ªAPIï¼Ÿè¿˜æ˜¯åœ¨ä¸€å †å°æ–‡ä»¶é‡Œï¼Ÿ</p><p id="7ace" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¹¸è¿çš„æ˜¯ï¼ŒPythonéå¸¸çµæ´»ï¼Œæœ‰å¾ˆå¤šç”¨äºè®¿é—®å’Œå¤„ç†æ•°æ®çš„å¼€æºåº“ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ 13ç§å°†æ•°æ®æ”¾å…¥ç†ŠçŒ«æ•°æ®æ¡†çš„æ–¹æ³•ï¼Œä¹‹åå¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ¸…ç†ã€åˆ†æå’Œå¯è§†åŒ–ã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™äº›æ–¹æ³•åˆ†ä¸ºå››å¤§ç±»:</p><ol class=""><li id="4961" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">æœ¬åœ°æ–‡ä»¶</li><li id="a98d" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">æ•°æ®åº“</li><li id="f674" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">èœœèœ‚</li><li id="fd1d" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">æ•°æ®é›†è®¿é—®åº“</li></ol><p id="cc09" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å”¯ä¸€çš„ä¸»è¦éœ€æ±‚æ˜¯å®‰è£…<code class="fe nd ne nf ng b">pandas</code>åº“:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="3817" class="nl kx iq ng b gy nm nn l no np">$ pip install pandas</span></pre><p id="e393" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¥½äº†ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ï¼</p><h1 id="1855" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ğŸ“æœ¬åœ°æ–‡ä»¶</h1><p id="6477" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">é€šå¸¸ï¼Œæ‚¨éœ€è¦çš„æ•°æ®å­˜å‚¨åœ¨è®¡ç®—æœºçš„æœ¬åœ°æ–‡ä»¶ä¸­ã€‚æ ¹æ®æ‚¨è¿è¡ŒPythonç¯å¢ƒçš„ä½ç½®ï¼Œæ‚¨å¯ä»¥å°†æ–‡ä»¶åæŒ‡å®šä¸ºç›¸å¯¹è·¯å¾„<a class="ae kv" href="https://www.earthdatascience.org/courses/intro-to-earth-data-science/python-code-fundamentals/work-with-files-directories-paths-in-python/" rel="noopener ugc nofollow" target="_blank">æˆ–ç»å¯¹è·¯å¾„</a>:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="06bd" class="nl kx iq ng b gy nm nn l no np"># Absolute path<br/>file1 = "~/Users/johnreid/Documents/my_project/data/example.csv"</span><span id="529d" class="nl kx iq ng b gy nq nn l no np"># Relative path, assuming current working directory is my_project<br/>file2 = "./data/example.csv"</span></pre><h2 id="9f94" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">1.CSVæ–‡ä»¶</h2><p id="baaa" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">CSVæ˜¯å­˜å‚¨è¡¨æ ¼æ•°æ®çš„æµè¡Œé€‰æ‹©ï¼Œä¹Ÿæ˜¯æœ€ç®€å•çš„å…¥é—¨æ–¹å¼ã€‚è®©æˆ‘ä»¬å‡è®¾æ‚¨å·²ç»ä»æ•°æ®ä¸­çš„<a class="ae kv" href="https://ourworldindata.org/grapher/population-by-country" rel="noopener ugc nofollow" target="_blank">æˆ‘ä»¬çš„ä¸–ç•Œä¸‹è½½äº†è¿™ä¸ªäººå£æ•°æ®é›†:</a></p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="afc3" class="nl kx iq ng b gy nm nn l no np">import pandas as pd</span><span id="e624" class="nl kx iq ng b gy nq nn l no np">csv_file = "/Users/johnreid/Downloads/population-by-country.csv"<br/>df_from_csv = pd.read_csv(csv_file)<br/>df_from_csv.info()</span></pre><p id="e735" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¯¼å…¥æ•°æ®åï¼Œè¿è¡Œ<code class="fe nd ne nf ng b">df.info()</code>æœ‰åŠ©äºäº†è§£æ•°æ®çš„ç»“æ„ï¼Œä¾‹å¦‚æœ‰å¤šå°‘è¡Œã€åˆ—å’Œéç©ºå€¼ã€‚è¿è¡Œè¯¥ä»£ç ä¼šäº§ç”Ÿä»¥ä¸‹è¾“å‡º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/0e9121386f0580897f8405e1ff6d6ccc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d4s8_fQhg1dGrbUt"/></div></div></figure><p id="86a5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¿™ç§æ–¹æ³•ä¹Ÿé€‚ç”¨äºé€šè¿‡URLè®¿é—®çš„æ–‡ä»¶ï¼Œæ¯”å¦‚å…¬å…±Github repoä¸­çš„å…¬å…±Google Sheetæˆ–CSVæ–‡ä»¶ã€‚å¦å¤–ï¼Œå¦‚æœä½ ä¸€ç›´å¾—åˆ°ä¸€ä¸ª<code class="fe nd ne nf ng b">FileNotFoundError</code>ï¼Œé‚£ä¹ˆå°è¯•é‡å‘½åä½ çš„æ–‡ä»¶åï¼Œç”¨ä¸‹åˆ’çº¿ä»£æ›¿ç©ºæ ¼ï¼Œä¾‹å¦‚â€œFinancial Sample.xlsxâ€å˜æˆâ€œFinancial_Sample.xlsxâ€ã€‚</p><h2 id="eb42" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">2.Excelæ–‡ä»¶</h2><p id="7f93" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æ‚¨éœ€è¦å¯¹Excelæ–‡ä»¶æ›´åŠ å°å¿ƒï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½åŒ…å«ä¸æ­¢ä¸€å¼ æ•°æ®å’Œå¤æ‚çš„è§†è§‰æ ¼å¼ï¼Œä¾‹å¦‚é¢å¤–çš„æ ‡é¢˜è¡Œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¯­æ³•éå¸¸ç›¸ä¼¼â€”â€”ä¸‹é¢æ˜¯ä¸€ä¸ª<a class="ae kv" href="https://go.microsoft.com/fwlink/?LinkID=521962" rel="noopener ugc nofollow" target="_blank">è´¢åŠ¡æ•°æ®</a>çš„ä¾‹å­:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="1549" class="nl kx iq ng b gy nm nn l no np">import pandas as pd</span><span id="481b" class="nl kx iq ng b gy nq nn l no np">excel_file = "/Users/johnreid/Downloads/Financial_Sample.xlsx"<br/>df_from_excel = pd.read_excel(excel_file, sheet_name = "Sheet1")<br/>df_from_excel.info()</span></pre><h2 id="e22c" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">3.æ–‡æœ¬æ–‡ä»¶</h2><p id="ff39" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æ–‡æœ¬æ–‡ä»¶é€šå¸¸éœ€è¦æ›´å¤šçš„æ•°æ®å¤„ç†â€”â€”é¦–å…ˆçœ‹çœ‹æ•°æ®æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Œä»¥åŠæ‚¨å¸Œæœ›å¦‚ä½•åœ¨Pythonä¸­è¡¨ç¤ºå®ƒã€‚ä»é‚£é‡Œï¼Œæ‚¨å¯ä»¥ç¼–å†™ä»£ç å°†æ–‡æœ¬è¾“å…¥è½¬æ¢æˆæ•°æ®å¸§ã€‚è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªè´­ç‰©æ¸…å•çš„ä¾‹å­ï¼Œæ¯ä¸€è¡ŒåŒ…å«ä¸€ä¸ªé¡¹ç›®å’Œæ•°é‡:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/79f4bc84b9e5a056376ffa45d3e48c3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FMBg56mcfWMB1t8p"/></div></div></figure><p id="4803" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¦å°†å…¶è½¬æ¢ä¸ºæ•°æ®å¸§ï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="9b40" class="nl kx iq ng b gy nm nn l no np">shopping_list = "/Users/johnreid/Downloads/shopping_list.txt"</span><span id="8bbe" class="nl kx iq ng b gy nq nn l no np">results = []</span><span id="e88e" class="nl kx iq ng b gy nq nn l no np">with open(shopping_list) as f:<br/>    line = f.readline()</span><span id="549e" class="nl kx iq ng b gy nq nn l no np">    while line:<br/>        results.append(line.strip().split(" "))<br/>        line = f.readline()</span><span id="f647" class="nl kx iq ng b gy nq nn l no np">f.close()</span><span id="a942" class="nl kx iq ng b gy nq nn l no np">df_from_textfile = pd.DataFrame(results, columns = ["Item", "Quantity"])</span></pre><p id="a635" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æˆ‘ä»¬ä¸€è¡Œä¸€è¡Œåœ°è¯»ï¼Œå»æ‰å¤šä½™çš„ç©ºæ ¼ï¼ŒæŠŠè¿™ä¸€è¡Œåˆ†æˆä¸¤éƒ¨åˆ†ã€‚å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ•°æ®å¸§æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŒ‡å®šåˆ—åã€‚</p><h2 id="ad6e" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">4.å¤šä¸ªæ–‡ä»¶/æ–‡ä»¶å¤¹</h2><p id="20ae" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">å¦‚æœéœ€è¦ä»å¤šä¸ªå­˜å‚¨çš„æ–‡ä»¶ä¸­æå–æ•°æ®ä¼šæ€ä¹ˆæ ·ï¼Ÿè®©æˆ‘ä»¬ç»“åˆæˆ‘ä»¬å­¦åˆ°çš„ä¸€äº›ä¸œè¥¿ï¼Œä»<a class="ae kv" href="http://mlg.ucd.ie/datasets/bbc.html" rel="noopener ugc nofollow" target="_blank"> BBCä½“è‚²æ–‡æœ¬æ•°æ®é›†</a>ä¸­æå–æ•°æ®ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/c5e5f72b357f6d653599d22d00879386.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aBaD94EclppmxPA4"/></div></div></figure><p id="7fd6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æˆ‘ä»¬æœ‰5ä¸ªå­æ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªå¤§çº¦æœ‰100ä¸ªæ–‡ä»¶ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½ä»¥æ ‡é¢˜å¼€å§‹ï¼Œç„¶åæ˜¯æ–‡ç« çš„æ­£æ–‡ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†æ‰€æœ‰è¿™äº›æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªå…·æœ‰â€œæ ‡é¢˜â€ã€â€œå‰¯æ ‡é¢˜â€ã€â€œæ­£æ–‡â€å’Œâ€œæµæ´¾â€åˆ—çš„å•ä¸€æ•°æ®æ¡†æ¶ã€‚è¿™é‡Œçš„<code class="fe nd ne nf ng b">glob</code>åº“åˆ—å‡ºäº†æ‰€æœ‰å¯èƒ½çš„æ–‡ä»¶åï¼Œéå¸¸æ–¹ä¾¿:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="3525" class="nl kx iq ng b gy nm nn l no np">import glob<br/>import pandas as pd</span><span id="817e" class="nl kx iq ng b gy nq nn l no np">base_path = "/Users/johnreid/Downloads/bbcsport/"<br/>genres = ["athletics", "cricket", "football", "rugby", "tennis"]</span><span id="1070" class="nl kx iq ng b gy nq nn l no np">def read_and_split_file(filename):<br/>    with open(filename, 'r', encoding="latin-1") as f:<br/>        lines = f.readlines() # Get lines as a list of strings<br/>        lines = list(map(str.strip, lines)) # Remove /n characters<br/>        lines = list(filter(None, lines)) # Remove empty strings</span><span id="1c93" class="nl kx iq ng b gy nq nn l no np">    return lines</span><span id="abbe" class="nl kx iq ng b gy nq nn l no np">def get_df_from_genre(path, genre):<br/>    files = glob.glob(path + genre + "/*.txt")<br/>    titles = []<br/>    subtitles = []<br/>    bodies = []</span><span id="85c6" class="nl kx iq ng b gy nq nn l no np">    for f in files:<br/>        lines = read_and_split_file(f)<br/>        titles.append(lines[0]) # First line is the title<br/>        subtitles.append(lines[1]) # Second line is the subtitle<br/>        bodies.append(' '.join(lines[2:])) # Combine all the rest</span><span id="546a" class="nl kx iq ng b gy nq nn l no np">    return(pd.DataFrame({<br/>        'genre': genre,<br/>        'title': titles,<br/>        'subtitle': subtitles,<br/>        'body': bodies<br/>        })<br/>    )</span><span id="a648" class="nl kx iq ng b gy nq nn l no np">final_df = pd.concat([get_df_from_genre(base_path, g) for g in genres])</span><span id="2ad3" class="nl kx iq ng b gy nq nn l no np">final_df</span></pre><p id="816b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æˆ‘ä»¬åœ¨globä¸­ä½¿ç”¨<code class="fe nd ne nf ng b">*</code>æ“ä½œç¬¦æ¥è·å–æ‰€æœ‰å¯èƒ½ä»¥<code class="fe nd ne nf ng b">.txt</code>ç»“å°¾çš„æ–‡ä»¶åã€‚æ³¨æ„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code class="fe nd ne nf ng b">pd.concat</code>å°†å¤šä¸ªæ•°æ®å¸§è¿æ¥åœ¨ä¸€èµ·ã€‚è¿è¡Œè¯¥ä»£ç ä¼šäº§ç”Ÿä»¥ä¸‹è¾“å‡º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/f3e43fafcdbb18ffb0edd1ea6297084d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DMVCrpt-MdsotIxv"/></div></div></figure><h1 id="128c" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ğŸ—„æ•°æ®åº“</h1><p id="8c9d" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">å¤§å¤šæ•°ç»„ç»‡å°†ä»–ä»¬çš„ä¸šåŠ¡å…³é”®æ•°æ®å­˜å‚¨åœ¨ç±»ä¼¼Postgresæˆ–MySQLçš„å…³ç³»æ•°æ®åº“ä¸­ï¼Œä½ éœ€è¦çŸ¥é“ç»“æ„åŒ–è¯­è¨€æ¥è®¿é—®æˆ–æ›´æ–°å­˜å‚¨åœ¨é‚£é‡Œçš„æ•°æ®ã€‚æ•°æ®åº“æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œæ¯”å¦‚æ•°æ®æ ‡å‡†åŒ–</p><h2 id="2f7e" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">5.SQLite</h2><p id="7146" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">SQLiteæ˜¯ä¸€ä¸ªå­˜å‚¨ä¸ºå•ä¸ªæ–‡ä»¶çš„åµŒå…¥å¼æ•°æ®åº“ï¼Œæ‰€ä»¥å®ƒæ˜¯å¼€å§‹æµ‹è¯•æŸ¥è¯¢çš„å¥½åœ°æ–¹ã€‚è¿™é‡Œæˆ‘ä»¬å°†å±•ç¤ºä¸€ä¸ªè¿æ¥åˆ°<a class="ae kv" href="https://github.com/lerocha/chinook-database" rel="noopener ugc nofollow" target="_blank"> Chinook </a>æ•°æ®åº“çš„SQLiteæ–‡ä»¶çš„ä¾‹å­:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="6994" class="nl kx iq ng b gy nm nn l no np">import pandas as pd<br/>import sqlite3 as sql</span><span id="cd84" class="nl kx iq ng b gy nq nn l no np">conn = sql.connect('/Users/johnreid/Downloads/chinook.db')</span><span id="4417" class="nl kx iq ng b gy nq nn l no np"># First pattern - turn query directly into dataframe:<br/>df1 = pd.read_sql_query("SELECT * FROM invoice", conn)</span><span id="4647" class="nl kx iq ng b gy nq nn l no np"># Second pattern - get row-level data, but no column names<br/>cur = conn.cursor()<br/>results = cur.execute("SELECT * FROM invoice LIMIT 5").fetchall()<br/>df2 = pd.DataFrame(results)</span></pre><p id="ad7d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æˆ‘å…³äºä½¿ç”¨SQLæ„å»ºäº¤äº’å¼ä»ªè¡¨æ¿çš„å®Œæ•´æ•™ç¨‹:</p><div class="og oh gp gr oi oj"><a rel="noopener follow" target="_blank" href="/building-an-interactive-python-dashboard-using-sql-and-datapane-46bd92294fd3"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">ä½¿ç”¨SQLå’ŒDatapaneæ„å»ºäº¤äº’å¼Pythonä»ªè¡¨æ¿</h2><div class="oq l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow kp oj"/></div></div></a></div><h2 id="8ccf" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">6.è¿œç¨‹æ•°æ®åº“</h2><p id="a311" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">è¿æ¥åˆ°è¿œç¨‹æ•°æ®åº“(å¦‚Postgresã€Redshiftæˆ–SQLServer)ä½¿ç”¨å‡ ä¹ç›¸åŒçš„è¯­æ³•ï¼Œä½†éœ€è¦è®¿é—®å‡­è¯ã€‚å‡ºäºå®‰å…¨åŸå› ï¼Œæœ€å¥½å°†è¿™äº›å‡­è¯å­˜å‚¨åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼Œå¹¶å°†å…¶åŠ è½½åˆ°Pythonè„šæœ¬ä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¿¡æ¯åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„<code class="fe nd ne nf ng b">.py</code>æ–‡ä»¶:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="e6f0" class="nl kx iq ng b gy nm nn l no np">host = "localhost"<br/>database= "suppliers"<br/>user = "postgres"<br/>password = "SecurePas$1"</span></pre><p id="34ae" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ç„¶åå°†å…¶å¯¼å…¥Pythonè„šæœ¬ï¼Œå¦‚ä¸‹æ‰€ç¤º(æ‚¨è¿˜éœ€è¦<code class="fe nd ne nf ng b">psychopg2</code>åº“):</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="0644" class="nl kx iq ng b gy nm nn l no np">import psycopg2<br/>import config</span><span id="59eb" class="nl kx iq ng b gy nq nn l no np">conn = psycopg2.connect(<br/>    host=config.host,<br/>    database=config.database,<br/>    user=config.user,<br/>    password=config.password)</span><span id="3167" class="nl kx iq ng b gy nq nn l no np">df1 = pd.read_sql_query("SELECT * FROM invoice", conn)</span></pre><p id="88de" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ç¡®ä¿ä¿å­˜å¥½ä½ çš„<code class="fe nd ne nf ng b">config.py</code>æ–‡ä»¶ï¼Œä¸è¦æŠŠå®ƒä¸Šä¼ åˆ°å…¶ä»–åœ°æ–¹â€”â€”ä½ å¯ä»¥æŠŠå®ƒæ·»åŠ åˆ°ä½ çš„<code class="fe nd ne nf ng b">.gitignore</code>ä¸­ï¼Œä»¥ç¡®ä¿å®ƒä¸ä¼šåŒ…å«åœ¨gitæäº¤ä¸­ã€‚</p><h2 id="df27" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">7.SQLAlchemy</h2><p id="f921" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">å¦‚æœæ‚¨æƒ³è¦ä¸€ç§æ›´â€œpythonicåŒ–â€çš„æ–¹å¼æ¥æŸ¥è¯¢æ•°æ®åº“ï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹<a class="ae kv" href="https://www.sqlalchemy.org/" rel="noopener ugc nofollow" target="_blank"> SQLAlchemy </a>åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡å…³ç³»æ˜ å°„å™¨ã€‚å®ƒé€šå¸¸ç”¨äºåº”ç”¨ç¨‹åºï¼Œè¿™æ ·å¼€å‘äººå‘˜å°±ä¸å¿…ç¼–å†™çº¯SQLæ¥æ›´æ–°ä»–ä»¬çš„æ•°æ®åº“ï¼Œä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæ¥æŸ¥è¯¢æ•°æ®ï¼</p><p id="f705" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ç›¸åŒChinookéŸ³ä¹å•†åº—æ•°æ®åº“çš„ç¤ºä¾‹:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="a21b" class="nl kx iq ng b gy nm nn l no np">import sqlalchemy as db</span><span id="9b80" class="nl kx iq ng b gy nq nn l no np">engine = db.create_engine('sqlite:///chinook.db')<br/>connection = engine.connect()<br/>metadata = db.MetaData()</span><span id="adf0" class="nl kx iq ng b gy nq nn l no np">invoice = db.Table('invoice', metadata, autoload=True, autoload_with=engine)</span><span id="bdd7" class="nl kx iq ng b gy nq nn l no np"># Get the first 10 invoices from the USA<br/>query = (db.select([invoice])<br/>    .filter_by(billing_country = 'USA')<br/>    .limit(10)<br/>        )</span><span id="4040" class="nl kx iq ng b gy nq nn l no np">df = pd.read_sql(query, engine)</span></pre><p id="e831" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬è¿æ¥åˆ°æ•°æ®åº“ï¼Œç„¶ååœ¨SQLAlchemyä¸­è®¾ç½®ä¸€äº›è¡¨å’Œå…ƒæ•°æ®ã€‚ä¸€æ—¦å®šä¹‰å¥½äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸€ç§æ›´â€œpythonicåŒ–â€çš„æ–¹å¼ç¼–å†™ä¸€ä¸ªæŸ¥è¯¢ï¼Œå¹¶å°†ç»“æœç›´æ¥è¯»å–åˆ°Pandasæ•°æ®å¸§ä¸­ã€‚è¿è¡Œè¯¥ä»£ç ä¼šäº§ç”Ÿä»¥ä¸‹è¾“å‡º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/e97a5dd60299fad5af00634136d83ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ny184a5Zzl-foqOheejl1g.png"/></div></div></figure><h1 id="3db6" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ğŸ“¶èœœèœ‚</h1><p id="d15e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æœ‰æ—¶å€™ï¼Œä½ éœ€è¦ä»ä½ å…¬å¸ä½¿ç”¨çš„ç‰¹å®šå¹³å°è·å–æ•°æ®ï¼Œæ¯”å¦‚Hubspotã€Twitteræˆ–Trelloã€‚è¿™äº›å¹³å°é€šå¸¸æœ‰ä¸€ä¸ªå…¬å…±APIï¼Œæ‚¨å¯ä»¥ç›´æ¥åœ¨Pythonç¯å¢ƒä¸­ä»ä¸­æå–æ•°æ®ã€‚</p><p id="3942" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åŸºæœ¬æ€æƒ³æ˜¯å‘ç«¯ç‚¹å‘é€ä¸€ä¸ªè¯·æ±‚(å¯èƒ½åŒ…æ‹¬æŸ¥è¯¢å‚æ•°å’Œè®¿é—®å‡­è¯)ã€‚è¯¥ç«¯ç‚¹å°†è¿”å›ä¸€ä¸ªå“åº”ä»£ç å’Œæ‚¨è¯·æ±‚çš„æ•°æ®(å¸Œæœ›å¦‚æ­¤)ã€‚æ‚¨éœ€è¦æŸ¥çœ‹APIæ–‡æ¡£æ¥äº†è§£å“ªäº›æ•°æ®å­—æ®µæ˜¯å¯ç”¨çš„ã€‚æ•°æ®é€šå¸¸ä»¥JSONæ ¼å¼è¿”å›ï¼Œè¿™å…è®¸æ·±åº¦åµŒå¥—çš„æ•°æ®ã€‚</p><h2 id="b67d" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated"><strong class="ak"> 8ã€‚æ²¡æœ‰è¯ä»¶</strong></h2><p id="dc72" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">è®©æˆ‘ä»¬ä½¿ç”¨<a class="ae kv" href="http://open-notify.org/Open-Notify-API/People-In-Space/" rel="noopener ugc nofollow" target="_blank"> OpenNotify </a> APIæ¥åšä¸€ä¸ªæœ€å°çš„ä¾‹å­ï¼Œå®ƒè·Ÿè¸ªå½“å‰åœ¨ç©ºé—´ä¸­çš„æ‰€æœ‰äºº:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="7467" class="nl kx iq ng b gy nm nn l no np">import requests</span><span id="a177" class="nl kx iq ng b gy nq nn l no np">response = requests.get("http://api.open-notify.org/astros.json")</span><span id="2c79" class="nl kx iq ng b gy nq nn l no np">print(response.status_code)<br/>print(response.json())</span><span id="7b42" class="nl kx iq ng b gy nq nn l no np">res = pd.DataFrame(response.json()["people"])</span><span id="2c6a" class="nl kx iq ng b gy nq nn l no np">res.head()</span></pre><p id="609d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¿è¡Œè¯¥ä»£ç ä¼šäº§ç”Ÿä»¥ä¸‹è¾“å‡º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/ed79b00054e24aa39d4560a15f7ae77b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2xCpCjNjI4IFWm1r"/></div></div></figure><p id="efe8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å“åº”ä»£ç å‘Šè¯‰æ‚¨APIè°ƒç”¨çš„ç»“æœâ€”â€”æ ¹æ®<a class="ae kv" href="https://www.dataquest.io/blog/python-api-tutorial/" rel="noopener ugc nofollow" target="_blank"> Dataquest </a>æœ€å¸¸è§çš„æ˜¯:</p><ul class=""><li id="98a0" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj oz mv mw mx bi translated">ä¸€åˆ‡é¡ºåˆ©ï¼Œç»“æœå·²ç»è¿”å›(å¦‚æœæœ‰çš„è¯)ã€‚</li><li id="2851" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj oz mv mw mx bi translated"><code class="fe nd ne nf ng b">301</code>:æœåŠ¡å™¨æ­£åœ¨å°†æ‚¨é‡å®šå‘åˆ°ä¸åŒçš„ç«¯ç‚¹ã€‚å½“å…¬å¸åˆ‡æ¢åŸŸåæˆ–ç«¯ç‚¹åç§°æ›´æ”¹æ—¶ï¼Œå¯èƒ½ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚</li><li id="3a8f" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj oz mv mw mx bi translated"><code class="fe nd ne nf ng b">400</code>:æœåŠ¡å™¨è®¤ä¸ºä½ æå‡ºäº†ä¸€ä¸ªé”™è¯¯çš„è¯·æ±‚ã€‚å½“ä½ æ²¡æœ‰å‘é€æ­£ç¡®çš„æ•°æ®æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚</li><li id="7cd8" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj oz mv mw mx bi translated"><code class="fe nd ne nf ng b">403</code>:ä½ è¯•å›¾è®¿é—®çš„èµ„æºè¢«ç¦æ­¢:ä½ æ²¡æœ‰æŸ¥çœ‹å®ƒçš„æƒé™ã€‚</li><li id="bf20" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj oz mv mw mx bi translated"><code class="fe nd ne nf ng b">404</code>:åœ¨æœåŠ¡å™¨ä¸Šæ‰¾ä¸åˆ°æ‚¨è¯•å›¾è®¿é—®çš„èµ„æºã€‚</li><li id="469b" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj oz mv mw mx bi translated"><code class="fe nd ne nf ng b">503</code>:æœåŠ¡å™¨æœªå‡†å¤‡å¥½å¤„ç†è¯·æ±‚ã€‚</li></ul><h2 id="3402" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">9.ä½¿ç”¨å‡­æ®å’ŒæŸ¥è¯¢å‚æ•°</h2><p id="7c2f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æœ‰æ—¶æ‚¨å¯èƒ½éœ€è¦æ¥è‡ªAPIçš„æ›´å…·ä½“çš„ä¿¡æ¯ï¼Œæˆ–è€…å¿…é¡»è¿›è¡Œèº«ä»½éªŒè¯ã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§æ–¹æ³•æ˜¯åœ¨è¯·æ±‚ä¸­æ·»åŠ URLå‚æ•°ã€‚</p><p id="d39e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«APIå¯†é’¥çš„<code class="fe nd ne nf ng b">config.py</code>æ–‡ä»¶:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="cb3a" class="nl kx iq ng b gy nm nn l no np">personal_api_key = "wouldntyouliketoknow"</span></pre><p id="2646" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ç„¶åæˆ‘ä»¬ä¸ºæ‰€æœ‰çš„å‚æ•°åˆ›å»ºä¸€ä¸ªå­—å…¸(è¿™æ˜¯ä¸€ä¸ªè™šæ„çš„ä¾‹å­)å¹¶ä¼ é€’å®ƒ:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="3565" class="nl kx iq ng b gy nm nn l no np">import config<br/>import pandas as pd<br/>import requests</span><span id="8178" class="nl kx iq ng b gy nq nn l no np">parameters = {<br/>    "personal_api_key": config.personal_api_key, <br/>    "date": "2021-09-22"<br/>}</span><span id="8652" class="nl kx iq ng b gy nq nn l no np">response = requests.get(url, params = parameters)<br/>    <br/>print(response.status_code)<br/>print(response.json())<br/>    <br/>res = pd.DataFrame(response.json()["people"])<br/>res.head()</span></pre><p id="29ff" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¦‚æœä½ ä¸æƒ³å¤„ç†JSONï¼Œä½ å¯ä»¥å°è¯•æœç´¢è¯¥APIçš„Pythonåº“â€”â€”è¿™äº›åº“é€šå¸¸æ˜¯å¼€æºçš„ï¼Œç”±å…¬å¸æˆ–ç¬¬ä¸‰æ–¹ç»´æŠ¤ã€‚</p><h1 id="e620" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ğŸ“šæ•°æ®é›†è®¿é—®åº“</h1><p id="e86c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">å¦‚æœæ‚¨éœ€è¦ä¸€äº›å‚è€ƒæ•°æ®æ¥è¿›è¡Œæ¯”è¾ƒæˆ–æ·»åŠ ä¸Šä¸‹æ–‡ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿæœ‰è®¸å¤šåº“å¯ä»¥å°†å…¬å…±æ•°æ®é›†ç›´æ¥ä¸‹è½½åˆ°æ‚¨çš„ç¯å¢ƒä¸­â€”â€”å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä»APIä¸­æå–ï¼Œè€Œä¸å¿…ç®¡ç†æ‰€æœ‰é¢å¤–çš„å¤æ‚æ€§ã€‚</p><h2 id="ba33" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">10.ç†ŠçŒ«_datareader</h2><p id="9cfa" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><a class="ae kv" href="https://pandas-datareader.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> Pandas_datareader </a>æ˜¯ä¸€ç§å°†æ•°æ®ä»äº’è”ç½‘æå–åˆ°Pythonç¯å¢ƒä¸­çš„å¥½æ–¹æ³•ã€‚å®ƒç‰¹åˆ«é€‚åˆé‡‘èæ•°æ®ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ä¸–ç•Œé“¶è¡Œçš„æ•°æ®æºã€‚è¦äº†è§£Zoomè¿‡å»å‡ å¹´çš„æ¯æ—¥è‚¡ä»·ï¼Œè¯·å°è¯•ä»¥ä¸‹æ–¹æ³•:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="a519" class="nl kx iq ng b gy nm nn l no np">from pandas_datareader import data<br/>import datetime as dt</span><span id="bdd6" class="nl kx iq ng b gy nq nn l no np">zm = data.DataReader(<br/>    "ZM",<br/>    start='2019-1-1',<br/>    end=dt.datetime.today(),<br/>    data_source='yahoo'<br/>).reset_index()</span><span id="1566" class="nl kx iq ng b gy nq nn l no np">zm.head()</span></pre><p id="ab56" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¿è¡Œè¯¥ä»£ç ä¼šäº§ç”Ÿä»¥ä¸‹è¾“å‡º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/c21a79123bd06588ce232883aaa09a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wJaAtxjh1n9wMxVT"/></div></div></figure><h2 id="e7c6" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">11.æ•°æ®å…±äº«</h2><p id="884c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><a class="ae kv" href="https://datacommons.org/" rel="noopener ugc nofollow" target="_blank"> Datacommons </a>æ˜¯è°·æ­Œçš„ä¸€ä¸ªé¡¹ç›®ï¼Œæä¾›å¯¹æ ‡å‡†åŒ–å’Œæ¸…æ´çš„å…¬å…±æ•°æ®é›†çš„è®¿é—®ã€‚åº•å±‚æ•°æ®ä»¥å›¾è¡¨çš„å½¢å¼å‘ˆç°ï¼Œè¿™ä½¿å¾—æŸ¥è¯¢å’Œè¿æ¥æ¥è‡ªè®¸å¤šä¸åŒæ•°æ®æºçš„æ•°æ®å˜å¾—éå¸¸å®¹æ˜“ï¼Œä¾‹å¦‚ç¾å›½äººå£æ™®æŸ¥å±€ã€ä¸–ç•Œé“¶è¡Œã€ç»´åŸºç™¾ç§‘ã€ç–¾ç—…æ§åˆ¶ä¸­å¿ƒç­‰ç­‰ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªåŸºæœ¬çš„ä¾‹å­:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="ca8b" class="nl kx iq ng b gy nm nn l no np">!pip install datacommons datacommons_pandas --upgrade --quiet</span><span id="771e" class="nl kx iq ng b gy nq nn l no np">import datacommons_pandas as dc<br/>import pandas as pd</span><span id="b4b5" class="nl kx iq ng b gy nq nn l no np">city_dcids = dc.get_property_values(["CDC500_City"], "member", limit=500)["CDC500_City"]</span><span id="4fae" class="nl kx iq ng b gy nq nn l no np">cdc500_df = dc.build_multivariate_dataframe(<br/>    city_dcids,<br/>    ["Percent_Person_Obesity",  # Prevalence of obesity from CDC<br/>    "Median_Income_Person",<br/>    "Median_Age_Person",<br/>    "UnemploymentRate_Person",  # Unemployment rate from BLS<br/>    "Count_Person_BelowPovertyLevelInThePast12Months",  # Persons living below the poverty line from Census<br/>    "Count_Person",  # Total population from Census<br/>    ],<br/>)</span><span id="41e6" class="nl kx iq ng b gy nq nn l no np">cdc500_df.info()</span></pre><p id="d9d8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¿è¡Œè¯¥ä»£ç ä¼šå¾—åˆ°ä»¥ä¸‹ç»“æœ:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/45fb498b570fa11c1240e11c0fa240c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LS0A_CNMmPEpBxJl"/></div></div></figure><p id="3a2e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¦‚æœä½ æƒ³å­¦ä¹ å¦‚ä½•ä½¿ç”¨DataCommonsï¼Œè¯·åœ¨è¿™é‡Œé˜…è¯»æˆ‘çš„å®Œæ•´æ•™ç¨‹:</p><div class="og oh gp gr oi oj"><a rel="noopener follow" target="_blank" href="/exploring-datacommons-the-api-powering-google-search-afc366ec242b"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">æ¢ç´¢æ•°æ®å…±äº«â€”â€”æ”¯æŒè°·æ­Œæœç´¢çš„API</h2><div class="pc l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">è®¿é—®å…¬å¼€å¯ç”¨æ•°æ®é›†çš„æ–°èŒƒå¼</h3></div><div class="oq l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="pd l ot ou ov or ow kp oj"/></div></div></a></div><h2 id="3d7c" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">12.PyTrends(è°·æ­Œè¶‹åŠ¿)</h2><p id="4f7b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">PyTrends æ˜¯ä¸€ä¸ªéå®˜æ–¹ä½†å¾ˆæœ‰ç”¨çš„åº“ï¼Œç”¨äºæŸ¥è¯¢<a class="ae kv" href="https://trends.google.com/trends/explore?date=today%205-y&amp;q=oat%20milk,soy%20milk,almond%20milk" rel="noopener ugc nofollow" target="_blank"> Google Trends </a>æ•°æ®â€”â€”è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="9d80" class="nl kx iq ng b gy nm nn l no np">import pandas as pd</span><span id="2bf8" class="nl kx iq ng b gy nq nn l no np">from pytrends.request import TrendReq</span><span id="dfcd" class="nl kx iq ng b gy nq nn l no np">pytrends = TrendReq()<br/>keywords = ["oat milk", "soy milk", "almond milk"]</span><span id="d55a" class="nl kx iq ng b gy nq nn l no np">pytrends.build_payload(keywords, cat=0, geo='', gprop='') # Get data from the last 5 years</span><span id="65ca" class="nl kx iq ng b gy nq nn l no np">top_queries = pytrends.interest_over_time()[keywords]</span><span id="7758" class="nl kx iq ng b gy nq nn l no np">top_queries.head()</span></pre><p id="1ffa" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¿è¡Œè¯¥ä»£ç ä¼šäº§ç”Ÿä»¥ä¸‹è¾“å‡º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pe"><img src="../Images/42dff0556a84ef75ffe175cc572be6af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WuUEWgBmU6n2EcRo"/></div></div></figure><h2 id="12d1" class="nl kx iq bd ky nr ns dn lc nt nu dp lg lx nv nw li mb nx ny lk mf nz oa lm ob bi translated">13.å¡æ ¼å°”</h2><p id="d5d7" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Kaggleæ˜¯ä¸€ä¸ªæ•°æ®ç§‘å­¦ç¤¾åŒºï¼Œå®ƒæ‹¥æœ‰å¤§é‡å­¦ä¹ Pythonçš„æ•°æ®é›†å’Œç«èµ›ã€‚æ‚¨å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œç•Œé¢ä¸‹è½½å…¶ä¸­çš„ä¸€äº›æ•°æ®é›†è¿›è¡Œå®éªŒ(æ³¨æ„:æ‚¨éœ€è¦æ³¨å†Œä¸€ä¸ªKaggleå¸æˆ·)ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦ä¸‹è½½ä¸€äº›<a class="ae kv" href="https://www.kaggle.com/zillow/zecon" rel="noopener ugc nofollow" target="_blank"> Zillow economicsæ•°æ®</a>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤(Jupyterç”¨æˆ·:ç”¨Pythonä»£ç ä¸­çš„<code class="fe nd ne nf ng b">!</code>æ›¿æ¢<code class="fe nd ne nf ng b">$</code>:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="fc9b" class="nl kx iq ng b gy nm nn l no np">$ pip install kaggle<br/>$ export KAGGLE_USERNAME=datadinosaur<br/>$ export KAGGLE_KEY=xxxxxxxxxxxxxx<br/>$ kaggle datasets download zillow/zecon<br/>$ unzip zecon.zip</span></pre><p id="96b4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¿™å°†ä¸‹è½½æ•°æ®é›†çš„å‹ç¼©æ–‡ä»¶ï¼Œç„¶åè§£å‹ç¼©å®ƒä»¬ã€‚ä»é‚£é‡Œï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬ä½œä¸ºç†ŠçŒ«çš„æœ¬åœ°æ–‡ä»¶æ‰“å¼€:</p><pre class="kg kh ki kj gt nh ng ni nj aw nk bi"><span id="dbff" class="nl kx iq ng b gy nm nn l no np">import pandas as pd</span><span id="e2ab" class="nl kx iq ng b gy nq nn l no np">csv_file = "/Users/johnreid/Downloads/Zip_time_series.csv"<br/>df_from_csv = pd.read_csv(csv_file)<br/>df_from_csv.info()</span></pre><p id="24d6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹<a class="ae kv" href="https://github.com/Kaggle/kaggle-api" rel="noopener ugc nofollow" target="_blank"> Kaggle APIæ–‡æ¡£</a>ã€‚</p><h1 id="d979" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">ç»“è®º</strong></h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pf pg l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">å›¾ç‰‡æ¥è‡ª<a class="ae kv" href="https://giphy.com/gifs/angry-spongebob-squarepants-strong-D7z8JfNANqahW" rel="noopener ugc nofollow" target="_blank"> Giphy </a></p></figure><p id="088c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ä½ æˆåŠŸäº†ï¼ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ–°è·å¾—çš„èƒ½åŠ›æ¥è®¿é—®å¤šä¸ªæ•°æ®æºï¼Œå¹¶ä½¿ç”¨<code class="fe nd ne nf ng b">pd.merge</code>æˆ–<code class="fe nd ne nf ng b">pd.concat</code>å°†å®ƒä»¬è¿æ¥åœ¨ä¸€èµ·ï¼Œç„¶åä½¿ç”¨Altairã€Pandasæˆ–leavç­‰äº¤äº’å¼åº“æ¥å¯è§†åŒ–å®ƒä»¬ã€‚</p><p id="7108" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æœ‰æ²¡æœ‰æˆ‘æ¼æ‰çš„æ–¹æ³•ï¼Ÿè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚</p></div></div>    
</body>
</html>