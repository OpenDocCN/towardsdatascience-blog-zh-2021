<html>
<head>
<title>120 years of Olympic Games — How to analyze and visualize the history with R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">奥运会120年——如何用R分析和形象化历史</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/120-years-of-olympic-games-how-to-analyze-and-visualize-the-history-with-r-3c2a5f3bf875?source=collection_archive---------14-----------------------#2021-08-01">https://towardsdatascience.com/120-years-of-olympic-games-how-to-analyze-and-visualize-the-history-with-r-3c2a5f3bf875?source=collection_archive---------14-----------------------#2021-08-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="231a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="a1d9" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">找出哪些国家赢得了最多的奖牌，以及这些国家的参与程度是如何随着时间的推移而变化的</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/89faa1d07c9a5247149463ff2ab254df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*99QwNe-Sdkg968spV89reA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">仪表板看到生成的关于奥运会的情节。文末的链接</p></figure><p id="95cb" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我最喜欢的季节之一是奥运会到来的季节。许多运动员成为整整一代人的英雄，高举他们国家的名义，更重要的是，为儿童和青年提供了一个伟大的榜样和灵感。</p><p id="ac65" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">从公元前776年到公元393年，古代奥运会在希腊的奥林匹亚举行。1503年后，再次出现。1896年，第一届现代奥运会在希腊雅典举行。从1896年雅典奥运会到2016年里约奥运会，所有的奥运会都被称为“现代奥运会”。1894年，皮埃尔·德·顾拜旦男爵提出了这个想法。</p><p id="756b" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在1912年到1920年之间，以及1936年到1948年之间，有两个很长的时期没有任何游戏，分别对应于一战和二战。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi md"><img src="../Images/0d9b63f778f4112187edcfe157db4de1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8GLon41TzTPOoZOA"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae me" href="https://unsplash.com/@mcghavan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿莱士·史密斯</a>在<a class="ae me" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="7fba" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">也许视觉分析最重要的好处是，它使复杂的数据更容易解释，同时以清晰、简洁和合适的方式呈现出来。这篇文章对1896年至2016年的奥运会进行了有益的可视化分析。本文旨在通过具体的分析实例，为您提供一个高效、实用、方便的模型。</p><p id="d7d6" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">主要目的是演示如何从构建的系统的可视化表示中获益。在向人们介绍奥运会的同时，用户界面非常重要，而且简单，很容易用RStudio制作。</p><p id="0e7f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这篇文章的主要问题是:哪些国家最占优势？参与是如何演变的？哪些国家的各个学科奖牌最多？参加奥运会的男女比例是多少？</p><h1 id="0cdc" class="mf mg it bd mh mi mj mk ml mm mn mo mp ki mq kj mr kl ms km mt ko mu kp mv mw bi translated">数据准备</h1><p id="d306" class="pw-post-body-paragraph lh li it lj b lk mx kd lm ln my kg lp lq mz ls lt lu na lw lx ly nb ma mb mc im bi translated">数据特征:事件(夏季和冬季)，体育层面的数据，艺术比赛不包括在运动员数据中(侧重于田径)</p><p id="595a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在对各种数据集进行广泛研究后，120年的奥运会正在接受代表性检查。它的数据集有几个优势，包括作为一个跨越1896年至2016年的大规模数据集。最后但并非最不重要的一点是，奥运会数据集被认为值得从视觉表现的角度进行研究，并提供最佳的用户体验。</p><p id="80e9" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">此外，这篇文章旨在吸引对奥运会感兴趣的人，并直接回答他们的问题。为了回答这个主要问题，从<a class="ae me" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lj jd"> Kaggle </strong> </a>中选择了一个数据集，它由两个不同的表组成，运动员事件和事件区域。</p><p id="646a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要创建可视化效果，您将使用两种不同的数据框。在审查数据集后，决定不删除任何数据，而是使用<strong class="lj jd"> dplyr </strong>软件包来操作和修改数据，使其更加适用和真实。</p><p id="614c" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">一些特征，比如运动员的年龄、体重和身高，在这些例子中没有实现，但是你可以用这些数据进行你自己的更广泛的分析。</p><p id="5272" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">也就是说，您可以开始了，首先，您需要加载将要使用的库，加载数据并进行第一次查看。</p><pre class="ks kt ku kv gt nc nd ne nf aw ng bi"><span id="d18b" class="nh mg it nd b gy ni nj l nk nl"># REQUIRED LIBRARIES</span><span id="9133" class="nh mg it nd b gy nm nj l nk nl">library("gganimate")<br/>library("data.table")<br/>library("knitr")<br/>library("gridExtra")<br/>library("tidyverse")<br/>library("plotly")</span><span id="f5ff" class="nh mg it nd b gy nm nj l nk nl"># LOAD ATHLETES EVENTS DATA</span><span id="5baa" class="nh mg it nd b gy nm nj l nk nl">dataOlympics &lt;- read_csv("datasets/athleteEvents.csv", col_types = cols(<br/>                   ID = col_character(),<br/>                   Name = col_character(),<br/>                   Sex = col_factor(levels = c("M","F")),<br/>                   Age =  col_integer(),<br/>                   Height = col_double(),<br/>                   Weight = col_double(),<br/>                   Team = col_character(),<br/>                   NOC = col_character(),<br/>                   Games = col_character(),<br/>                   Year = col_integer(),<br/>                   Season = col_factor(levels = c("Summer","Winter")),<br/>                   City = col_character(),<br/>                   Sport = col_character(),<br/>                   Event = col_character(),<br/>                   Medal = col_factor(levels = c("Gold","Silver","Bronze"))<br/>                 )<br/>)</span><span id="045e" class="nh mg it nd b gy nm nj l nk nl">glimpse(dataOlympics)<br/>head(dataOlympics)</span></pre><p id="3c9c" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您将找到271116个观察值，在第一个数据集中有15个变量。现在，您将加载第二个数据集，其中包含NOC(国家奥委会)信息。</p><pre class="ks kt ku kv gt nc nd ne nf aw ng bi"><span id="9416" class="nh mg it nd b gy ni nj l nk nl"># LOAD DATA MATCHING NOCs (NATIONAL OLYMPIC COMMITTEE) WITH COUNTRIES</span><span id="bdf8" class="nh mg it nd b gy nm nj l nk nl">NOCs &lt;- read_csv("datasets/nocRegions.csv", col_types = cols(<br/>                  NOC = col_character(),<br/>                  region = col_character()<br/>                ))<br/>glimpse(NOCs)<br/>head(NOCs)</span></pre><h1 id="28a3" class="mf mg it bd mh mi mj mk ml mm mn mo mp ki mq kj mr kl ms km mt ko mu kp mv mw bi translated">随着时间的推移，运动员、国家和项目的数量是增加了还是减少了？</h1><p id="a8c8" class="pw-post-body-paragraph lh li it lj b lk mx kd lm ln my kg lp lq mz ls lt lu na lw lx ly nb ma mb mc im bi translated">这是你可以用第一个数据集中的数据回答的第一个问题。您可以创建一个可视化图形来识别国家和运动员以及事件的参与情况是如何变化的。</p><pre class="ks kt ku kv gt nc nd ne nf aw ng bi"><span id="c899" class="nh mg it nd b gy ni nj l nk nl"># NUMBER OF NATIONS, ATHLETES AND AND EVENTS, WITHOUT ART COMPETITIONS</span><span id="039a" class="nh mg it nd b gy nm nj l nk nl">numbers &lt;- dataOlympics %&gt;%<br/>  group_by(Year, Season) %&gt;%<br/>  summarize(Nations = length(unique(NOC)), Athletes = length(unique(ID)), Events = length(unique(Event))<br/>  )</span><span id="c028" class="nh mg it nd b gy nm nj l nk nl">numbers &lt;- numbers %&gt;%<br/>  mutate(gap= if(Year&lt;1920) 1 else if(Year&gt;=1920 &amp; Year&lt;=1936) 2 else 3)</span><span id="13ac" class="nh mg it nd b gy nm nj l nk nl">plotNations &lt;- ggplot(numbers, aes(x=Year, y=Nations, group=interaction(Season,gap), color=Season)) +<br/>  geom_point(size=2) +<br/>  geom_line() +<br/>  scale_color_manual(values=c("chocolate","deepskyblue4")) +<br/>  labs(x = " ", y = "Nations", <br/>       title="Nations, Athletes and Events", <br/>       subtitle = "Olympic Games from 1896 to 2016")<br/>  <br/>plotAthletes &lt;- ggplot(numbers, aes(x=Year, y=Athletes, group=interaction(Season,gap), color=Season)) +<br/>  geom_point(size=2) +<br/>  geom_line() +<br/>  scale_color_manual(values=c("chocolate","deepskyblue4")) +<br/>  xlab("")</span><span id="e437" class="nh mg it nd b gy nm nj l nk nl">plotEvents &lt;- ggplot(numbers, aes(x=Year, y=Events, group=interaction(Season,gap), color=Season)) +<br/>  geom_point(size=2) +<br/>  geom_line() +<br/>  scale_color_manual(values=c("chocolate","deepskyblue4")) <br/>  <br/>grid.arrange( plotNations, plotAthletes, plotEvents, ncol=1)</span></pre><p id="b50c" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您将得到如下结果，您可以看到它是如何随着时间的推移而增加的。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nn"><img src="../Images/06cdfbfd15772d8e02d4a948f8653965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QeKpTo5D1pSLnoXSnjjAgQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">120年的奥运会——如何用R分析和可视化历史:绘制国家、运动员和事件随时间的变化</p></figure><h1 id="7c39" class="mf mg it bd mh mi mj mk ml mm mn mo mp ki mq kj mr kl ms km mt ko mu kp mv mw bi translated">哪个国家获得的奖牌最多？</h1><p id="e989" class="pw-post-body-paragraph lh li it lj b lk mx kd lm ln my kg lp lq mz ls lt lu na lw lx ly nb ma mb mc im bi translated">这是你可以回答的第二个问题，如果能够直观地显示每个国家获得的金牌、银牌和铜牌的比例，那将会很有趣。假设你想进入前30名。</p><pre class="ks kt ku kv gt nc nd ne nf aw ng bi"><span id="e7b9" class="nh mg it nd b gy ni nj l nk nl"># THE TOTAL NUMBER OF MEDALS GIVEN TO EACH TEAM</span><span id="13ea" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- dataOlympics %&gt;% filter(!is.na(Medal))%&gt;% <br/>  group_by(NOC, Medal, Event, Games) %&gt;%<br/>  summarize(isMedal=1)</span><span id="5ed2" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;-  medalCounts %&gt;% <br/>  group_by(NOC, Medal) %&gt;%<br/>  summarize(Count= sum(isMedal))</span><span id="7cbc" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- left_join(medalCounts, NOCs, by= "NOC" )</span><span id="ca19" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- medalCounts %&gt;% <br/>  mutate (Team = region)</span><span id="389e" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- medalCounts %&gt;% select( Medal, Team, Count)</span><span id="1870" class="nh mg it nd b gy nm nj l nk nl"># ORDERING TEAM BY TOTAL MEDAL COUNT</span><span id="e65c" class="nh mg it nd b gy nm nj l nk nl">levelsTeam &lt;- medalCounts %&gt;%<br/>  group_by(Team) %&gt;%<br/>  summarize(Total=sum(Count)) %&gt;%<br/>  arrange(desc(Total)) %&gt;%<br/>  select(Team) %&gt;%<br/>  slice(30:1)</span><span id="5f8e" class="nh mg it nd b gy nm nj l nk nl">medalCounts$Team &lt;- factor(medalCounts$Team, levels=levelsTeam$Team)</span><span id="de5c" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- medalCounts %&gt;% filter(Team != "NA")</span><span id="9407" class="nh mg it nd b gy nm nj l nk nl"># PLOT MEDAL COUNTS</span><span id="d9ac" class="nh mg it nd b gy nm nj l nk nl">ggplot(medalCounts, aes(x=Team, y=Count, fill=Medal)) +<br/>  geom_col() +<br/>  coord_flip() +<br/>  scale_fill_manual(values=c("gold3","gray64","sienna")) +<br/>  labs(x = "Nations", y = "Count", <br/>       title="Top 30 - Nations with the most medals won in history", <br/>       subtitle = "Olympic Games from 1896 to 2016")</span></pre><p id="acb1" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你会得到如下图。你可以看到美国、俄罗斯和德国是领先的国家。你的国家在顶端吗？可悲的是，我来自的国家不是。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi no"><img src="../Images/6d58097abd2b9794f115f3983b93e94b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_Qtt7jKQ9eVIeqysQM31Q.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">奥运会120年——如何用R分析和可视化历史:描绘历史上获得奖牌最多的国家</p></figure><h1 id="b06d" class="mf mg it bd mh mi mj mk ml mm mn mo mp ki mq kj mr kl ms km mt ko mu kp mv mw bi translated">哪个国家获得的奖牌最多？—动画剧情</h1><p id="ec02" class="pw-post-body-paragraph lh li it lj b lk mx kd lm ln my kg lp lq mz ls lt lu na lw lx ly nb ma mb mc im bi translated">另一个有趣和有吸引力的方法是用动画情节来显示以前获得的奖牌，它可以详细显示每个国家多年来获得的奖牌，假设为此你只需要前10名。</p><pre class="ks kt ku kv gt nc nd ne nf aw ng bi"><span id="f9c6" class="nh mg it nd b gy ni nj l nk nl"># NUMBER OF MEDALS GIVEN TO EACH TEAM</span><span id="de54" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- dataOlympics %&gt;% filter(!is.na(Medal))%&gt;% <br/>  group_by(NOC, Medal, Event, Games, Year) %&gt;%<br/>  summarize(isMedal=1)</span><span id="69c4" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;-  medalCounts %&gt;% <br/>  group_by(NOC, Medal, Year) %&gt;%<br/>  summarize(Count= sum(isMedal))</span><span id="53de" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- left_join(medalCounts, NOCs, by= "NOC" )</span><span id="a18a" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- medalCounts %&gt;% <br/>  mutate (Team = region)</span><span id="6eb9" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- medalCounts %&gt;% select( Medal, Team, Count, Year)</span><span id="97e2" class="nh mg it nd b gy nm nj l nk nl"># ORDERING TEAM BY TOTAL MEDAL COUNT</span><span id="4b46" class="nh mg it nd b gy nm nj l nk nl">levelsTeam &lt;- medalCounts %&gt;%<br/>  group_by(Team) %&gt;%<br/>  summarize(Total=sum(Count)) %&gt;%<br/>  arrange(desc(Total)) %&gt;%<br/>  select(Team) %&gt;%<br/>  slice(10:1)</span><span id="8872" class="nh mg it nd b gy nm nj l nk nl">medalCounts$Team &lt;- factor(medalCounts$Team, levels=levelsTeam$Team)</span><span id="062f" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- medalCounts %&gt;% filter(Team != "NA")</span><span id="f33d" class="nh mg it nd b gy nm nj l nk nl"># ANIMATED PLOT MEDAL COUNT<br/> <br/>plotMedalsAnim&lt;- ggplot(medalCounts, aes(x=Team, y=Count, fill=Medal)) +<br/>  labs(x = "Nations", y = "Count", <br/>       title='Top 10 - Comparison over time, nations with the most medals', <br/>       subtitle = 'Olympic Games from 1896 to 2016 - Year: {frame_time}')  +<br/>  transition_time(Year)+<br/>  geom_col() +<br/>  coord_flip() +<br/>  scale_fill_manual(values=c("gold3","gray64","sienna"))<br/>  <br/>animate(plotMedalsAnim,fps=2)</span></pre><p id="2d26" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你将得到一个吸引人的动画情节，如下图所示，如果你想知道你加载<strong class="lj jd"> gganimate </strong>库的目的，这里是原因。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi np"><img src="../Images/9ddc97dd26c2d610e9beffb7dabc38be.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*-OtVUfJdfxtUH4gzsYjSKw.gif"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">奥运会120年——如何用R分析和可视化历史:历史上获得奖牌最多的国家</p></figure><h1 id="c043" class="mf mg it bd mh mi mj mk ml mm mn mo mp ki mq kj mr kl ms km mt ko mu kp mv mw bi translated">查看地图，看看哪些国家赢得了最多的奖牌</h1><p id="4ce7" class="pw-post-body-paragraph lh li it lj b lk mx kd lm ln my kg lp lq mz ls lt lu na lw lx ly nb ma mb mc im bi translated">另一种直观显示每个国家累积奖牌数量的方法是通过地图。这也将从总体上提供整个地球的视觉概观。</p><pre class="ks kt ku kv gt nc nd ne nf aw ng bi"><span id="210f" class="nh mg it nd b gy ni nj l nk nl"># MAP NATIONS WITH MOST MEDALS WON</span><span id="9be5" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- dataOlympics %&gt;% filter(!is.na(Medal))%&gt;% <br/>  group_by(NOC, Medal, Event, Games) %&gt;%<br/>  summarize(isMedal=1)</span><span id="1802" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;-  medalCounts %&gt;% <br/>  group_by(NOC, Medal) %&gt;%<br/>  summarize(Count= sum(isMedal))</span><span id="551c" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- left_join(medalCounts, NOCs, by= "NOC" ) %&gt;% <br/>  select(region, NOC, Medal, Count)</span><span id="615d" class="nh mg it nd b gy nm nj l nk nl">medalCounts &lt;- medalCounts %&gt;%<br/>  group_by(region) %&gt;%<br/>  summarize(Total=sum(Count))</span><span id="de75" class="nh mg it nd b gy nm nj l nk nl">data_regions &lt;- medalCounts %&gt;% <br/>  left_join(NOCs,by="region") %&gt;%<br/>  filter(!is.na(region))</span><span id="404b" class="nh mg it nd b gy nm nj l nk nl">earth &lt;- map_data("world")</span><span id="15e6" class="nh mg it nd b gy nm nj l nk nl">earth &lt;- left_join(earth, data_regions, by="region")</span><span id="67d5" class="nh mg it nd b gy nm nj l nk nl"># PLOT MAP</span><span id="d8bc" class="nh mg it nd b gy nm nj l nk nl">plotMapMedals &lt;- ggplot(earth, aes(x = long, y = lat, group = group)) +<br/>  geom_polygon(aes(fill = Total, label= region)) +<br/>  labs(x = "", y = "", <br/>       title="Map of nations with the most medals won", <br/>       subtitle = "Olympic Games from 1896 to 2016") +<br/>  guides(fill=guide_colourbar(title="medals")) +<br/>  scale_fill_gradient(low="white",high="gold3")<br/>plotMapMedals</span><span id="f466" class="nh mg it nd b gy nm nj l nk nl">ggplotly(plotMapMedals)</span></pre><p id="62f6" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">然后你会看到一张类似下图的地图，在那里你可以看到那些直到2016年里约奥运会还没有获得一枚奖牌的国家，比如洪都拉斯、玻利维亚和阿尔巴尼亚。希望2020年东京奥运会对这些国家来说是一个很好的机会。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/02bf4dc829457517dfa2d7e0fffabc67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyQqxAD2IrebNLwamjReTw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">奥运会120年——如何用R分析和可视化历史:历史上获得奖牌最多的国家地图</p></figure><h1 id="9e8f" class="mf mg it bd mh mi mj mk ml mm mn mo mp ki mq kj mr kl ms km mt ko mu kp mv mw bi translated">一段时间内男女运动员的参与情况</h1><p id="240e" class="pw-post-body-paragraph lh li it lj b lk mx kd lm ln my kg lp lq mz ls lt lu na lw lx ly nb ma mb mc im bi translated">我们知道，很长一段时间以来，不幸的是纵观历史，人类在许多方面大多是性别歧视的，奥运会运动员中包括女性也不例外。你可以看看在这次全球活动中包容性是如何增加或减少的。为了更吸引人，你可以创造另一个动画情节。</p><pre class="ks kt ku kv gt nc nd ne nf aw ng bi"><span id="c7af" class="nh mg it nd b gy ni nj l nk nl"># PARTICIPATION OF MALE AND FEMALE ATHLETES OVER TIME, WITHOUT ART COPETITIONS</span><span id="ca64" class="nh mg it nd b gy nm nj l nk nl">dataOlympics &lt;- dataOlympics %&gt;% <br/>  filter(Sport != "Art Competitions")</span><span id="9f7a" class="nh mg it nd b gy nm nj l nk nl"># AFTER 1992, CHANGE THE YEAR OF THE WINTER GAMES TO COINCIDE WITH THE NEXT SUMMER GAMES. THE TERM "YEAR" CURRENTLY REFERS TO THE OLYMPICS TOOK PLACE</span><span id="ded2" class="nh mg it nd b gy nm nj l nk nl">original &lt;- c(1994,1998,2002,2006,2010,2014)</span><span id="8fd1" class="nh mg it nd b gy nm nj l nk nl">new &lt;- c(1996,2000,2004,2008,2012,2016)</span><span id="2aac" class="nh mg it nd b gy nm nj l nk nl">for (i in 1:length(original)) {<br/>  dataOlympics$Year &lt;- gsub(original[i], new[i], dataOlympics$Year)<br/>}</span><span id="1898" class="nh mg it nd b gy nm nj l nk nl">dataOlympics$Year &lt;- as.integer(dataOlympics$Year)</span><span id="bb3a" class="nh mg it nd b gy nm nj l nk nl"># COUNT NUMBER OF ATHLETES BY SEX AND YEAR</span><span id="4402" class="nh mg it nd b gy nm nj l nk nl">countsSex &lt;- dataOlympics %&gt;% <br/>  group_by(Year, Sex) %&gt;%<br/>  summarize(Athletes = length(unique(ID)))</span><span id="45e2" class="nh mg it nd b gy nm nj l nk nl">countsSex$Year &lt;- as.integer(countsSex$Year)</span><span id="92b4" class="nh mg it nd b gy nm nj l nk nl"># PLOT MALE AND FEMALE ATHLETES OVER TIME</span><span id="3540" class="nh mg it nd b gy nm nj l nk nl">ggplot(countsSex, aes(x=Year, y=Athletes, group=Sex, color=Sex)) +<br/>  geom_point(size=2) +<br/>  geom_line()  +<br/>  transition_reveal(Year)+<br/>  scale_color_manual(values=c("deepskyblue4","red4")) +<br/>  labs(x = "Year", y = "Athletes", <br/>       title="Male and Female athletes over time", <br/>       subtitle = "Olympic Games from 1896 to 2016")</span></pre><p id="cffa" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">正如你所看到的，女性参加比赛的人数明显增加，然而，男性仍然占主导地位，尽管今天这种差异没有以前那么大。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi np"><img src="../Images/63e19f21952d8fd9de904cefdf7a2ec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*ub68VJHzaJ1JKNCRwViEkw.gif"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">奥运会120年——如何用R分析和可视化历史:男女运动员随时间的情节参与</p></figure><p id="91df" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在你知道了如何处理数据，我邀请你继续用获得的信息进行你自己的分析，并回答许多其他有趣的问题。</p><p id="c2cf" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">非常感谢您的善意阅读。和我的大部分文章一样，我在一个<strong class="lj jd"> flexdashboard </strong>中分享了用<strong class="lj jd">plotely</strong>生成的情节，我把它放在一起更美观一点:【https://rpubs.com/cosmoduende/olympic-games】T4</p><p id="1567" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这里你可以找到完整的代码:<a class="ae me" href="https://github.com/cosmoduende/r-olympic-games" rel="noopener ugc nofollow" target="_blank">https://github.com/cosmoduende/r-olympic-games</a></p><p id="9c23" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">感谢你坚持到最后，祝你分析非常愉快，可以把一切都付诸实践，对结果感到惊讶，和我一样开心！</p></div></div>    
</body>
</html>