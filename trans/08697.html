<html>
<head>
<title>Working with JSON data in python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在python中使用JSON数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/working-with-json-data-in-python-45e25ff958ce?source=collection_archive---------12-----------------------#2021-08-11">https://towardsdatascience.com/working-with-json-data-in-python-45e25ff958ce?source=collection_archive---------12-----------------------#2021-08-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/75b24b909a109af51c74b03c98723a9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eZHz3OOmbKijikNS"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">由<a class="ae kc" href="https://unsplash.com/@flowforfrank?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">费伦茨·阿尔马西</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="15b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我想重点介绍一种叫做JSON的格式类型。我很确定你以前听说过JSON。但是如果没有，让我简单地向你描述一下JSON。</p><p id="c3c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JSON是JavaScript对象符号，其灵感来自于JS编程语言处理对象字面语法的子集。然而，它同时是语言不可知的，这意味着如果你不写JavaScript也没关系。您可以用任何其他编程语言处理JSON格式的数据。</p><p id="4d4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是为什么JSON对你很重要，你关心数据科学对吗？我在构建自己的python项目，试图获得数据科学/机器学习工程师的工作时，偶然发现了JSON。稍后会详细介绍。【小节:“真实世界？”]因此，如果你和我走在同一条路上，并且想学习另一种有用的工具。这篇文章是给你的。即使您正处于职业生涯的不同阶段，我也相信，既然标题引起了您的注意，您一定想更新关于JSON格式的知识来解决当前的问题，或者您想在您的数据科学python库中寻找新的技能。</p><h1 id="97e2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">JSON看起来怎么样</h1><p id="da83" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">好的，JSON看起来怎么样，它支持什么？</p><p id="9a45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是文件<code class="fe me mf mg mh b">example.json</code></p><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="ba6c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如你所见，它支持基本类型，如字符串、整数、列表和嵌套对象。它看起来像Python。但是请注意，我提供了一个读转换和写转换表，以便您了解JSON和python之间的区别。</p><h1 id="ca56" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">为什么使用JSON模块在Python中存储数据？</h1><ol class=""><li id="82c7" class="mo mp iq kf b kg lz kk ma ko mq ks mr kw ms la mt mu mv mw bi translated">JSON格式使程序员能够将简单的数据结构转储到一个文件中，并在需要时将它们加载回程序中</li><li id="b941" class="mo mp iq kf b kg mx kk my ko mz ks na kw nb la mt mu mv mw bi translated">使用JSON格式的文件可以在其他语言的程序之间共享数据。</li></ol><p id="9dc6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于JSON格式的优势来自于存储和获取数据，所以本文将与您分享一些函数和示例，以便下次您想要处理数据时，JSON格式技巧就在您的掌握之中。</p><p id="a3f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想要更多关于这个话题的文章，你有必要了解一些词汇。将数据编码成JSON称为序列化(数据存储为一系列字节)。从JSON格式的文件中获取数据的反向过程称为反序列化。但是我觉得对于基本任务来说没必要知道这些。所以现在开始做一些体验吧。</p><h1 id="88bf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数据到json —序列化</h1><p id="a15b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">假设您构建了一个创建数据的程序，但是您还想与其他用户/程序共享数据和底层信息。这就是为什么您想要获取数据并将其存储在JSON格式的文件中。但是数据是如何翻译的呢？我给你提供一个Python的换算表。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/eef2e3518e24a7f4d5c03841704e2545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*eIkhqBzFdhnDk1U9JrxxdQ.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">按作者分类的表格</p></figure><p id="b97b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好了，现在我们知道了在存储过程中我们可以从转换中得到什么，我们可以看看内置的json包中的函数。</p><pre class="mi mj mk ml gt nd mh ne nf aw ng bi"><span id="579b" class="nh lc iq mh b gy ni nj l nk nl">import json</span></pre><p id="2b2a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">json库中有两个函数叫做<code class="fe me mf mg mh b">json.dump()</code>和<code class="fe me mf mg mh b">json.dumps()</code>，它们可能用于序列化。</p><p id="eea4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们一次看一个。</p><h1 id="2e3f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">json.dump()将数据对象作为json字符串存储在。json文件</h1><p id="1f5f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">json.dump(data, file_object)</code>函数接受两个参数:</p><ol class=""><li id="cacd" class="mo mp iq kf b kg kh kk kl ko nm ks nn kw no la mt mu mv mw bi translated">需要写入JSON文件的数据。</li><li id="c099" class="mo mp iq kf b kg mx kk my ko mz ks na kw nb la mt mu mv mw bi translated">可用于保存数据的文件对象</li></ol><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="5b5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">example.json如下所示</p><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="ee2f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">json.dumps()将python对象转换成json字符串</h1><p id="8420" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">这很简单。</p><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="a59a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">JSON到数据—反序列化</h1><p id="2843" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">同样，反序列化是将JSON数据转换成本地数据类型的过程。这里，我们将JSON数据转换回Python中的字典。但是我们必须再次考虑Python的转换表，以便意识到可能发生的错误。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/13ccd1dc83e71a42bacdd53441ac3372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*fMMo87u69C80vi4PHPkkzQ.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">按作者分类的表格</p></figure><p id="3ee7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看，如果我们编码一个元组，它变成一个数组，数组变成一个列表。请记住这个。</p><p id="ba5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们想要检查用于反序列化的两个函数。</p><h1 id="e719" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">json.load()将json文件读入python类型</h1><p id="e35b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">json.load(filename)</code></p><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="90aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">数据来自<code class="fe me mf mg mh b">example.json</code>文件，并存储在名为data的字典中。</p><h1 id="091a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">json.loads()将json字符串转换成python类型</h1><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="c25c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">真实世界？</h1><p id="3e05" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我在介绍中已经提到，我在构建自己的python项目试图获得数据科学/机器学习工程师的工作时偶然发现了JSON。我的目标是将我从API收集的数据存储到一个文件中，这样我可以在以后的测试中使用它。从API接收json字符串形式的数据是很常见的。通过名为<code class="fe me mf mg mh b">requests</code>的库，你可以从一个API获取数据。然后，您需要将数据转换成python对象，这可以很容易地完成，只需使用<code class="fe me mf mg mh b">response.json()</code>而无需任何参数。</p><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="4d52" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，假设您进行了一些争论，并决定获取数据的一个子集，并希望将其存储起来以备后用。您了解到您可以使用<code class="fe me mf mg mh b">json.dump(data, filename)</code>并在以后使用它。耶！</p><h1 id="40e4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="85ee" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">很高兴您学会了如何以一种在许多其他语言中都可以管理的方式存储数据。您还知道在哪里查找换算表，并且您看到了一些无需太多努力就可以进行更改的示例，这些示例对您自己的需求非常有用。我将关键的工作流程步骤总结为以下4点。</p><ol class=""><li id="77c6" class="mo mp iq kf b kg kh kk kl ko nm ks nn kw no la mt mu mv mw bi translated">导入<code class="fe me mf mg mh b">json</code>包</li><li id="2298" class="mo mp iq kf b kg mx kk my ko mz ks na kw nb la mt mu mv mw bi translated">用<code class="fe me mf mg mh b">json.load(JSON_string)</code>或<code class="fe me mf mg mh b">json.loads(filename)</code>读取数据</li><li id="a844" class="mo mp iq kf b kg mx kk my ko mz ks na kw nb la mt mu mv mw bi translated">处理数据</li><li id="4b92" class="mo mp iq kf b kg mx kk my ko mz ks na kw nb la mt mu mv mw bi translated">用<code class="fe me mf mg mh b">dump(data, filename)</code>或<code class="fe me mf mg mh b">dumps(data)</code>写入更改的数据</li></ol><p id="10b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">谢谢你坚持到最后。我欢迎你阅读我的另一篇文章。</p><div class="nq nr gp gr ns nt"><a rel="noopener follow" target="_blank" href="/skip-gram-neural-network-for-graphs-83b8f308bf87"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">图的跳格神经网络</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">本文将深入探讨节点嵌入的更多细节。如果你缺乏直觉和对节点嵌入的理解…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh jw nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a rel="noopener follow" target="_blank" href="/node-embeddings-for-beginners-554ab1625d98"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">初学者的节点嵌入</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">节点嵌入在开始时可能很困难。这篇文章为你提供了直觉，这样你就可以阅读更多…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="oi l oe of og oc oh jw nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a rel="noopener follow" target="_blank" href="/graph-coloring-with-networkx-88c45f09b8f4"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">网络图着色</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">图着色问题的解决方案在概念上很简单，但在应用上却很强大。本教程展示了…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="oj l oe of og oc oh jw nt"/></div></div></a></div></div></div>    
</body>
</html>