<html>
<head>
<title>When Your Machine Learning model teams up with Django REST API, A successful deployment into production</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">当您的机器学习模型与 Django REST API 合作时，成功地部署到了生产中</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/when-your-machine-learning-model-teams-up-with-django-rest-api-a-successful-deployment-into-2f720bd67ff1?source=collection_archive---------8-----------------------#2021-11-29">https://towardsdatascience.com/when-your-machine-learning-model-teams-up-with-django-rest-api-a-successful-deployment-into-2f720bd67ff1?source=collection_archive---------8-----------------------#2021-11-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3651" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于如何构建机器学习模型并使用 Django REST API 部署它的完整概述</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cbc13397e65cd205be300cc27634e9e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KeaKc2dvIXDjiZT-"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@spacex" rel="noopener ugc nofollow" target="_blank"> SpaceX </a>在<a class="ae ky" href="https://unsplash.com/photos/uj3hvdfQujI" rel="noopener ugc nofollow" target="_blank">号航天飞机</a>上拍摄的照片</p></figure><h1 id="9b31" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="dcda" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们考虑一下下面的场景:您已经实现了一个出色的机器学习模型，该模型可以预测患者是否患有帕金森病。然后，您所在城市的医院希望将您的模型集成到他们的系统中，以供一般使用。但是这些系统是用完全不同的编程语言开发的。这是否意味着他们将不能再使用您的模型了？答案是否定的，因为有了 RESTful 服务，无论应用程序开发人员使用哪种编程语言，他们都可以使用您的模型。</p><p id="5f02" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">本文分为两个部分:</p><ul class=""><li id="7600" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">构建一个机器学习模型，预测给定患者是否患有糖尿病。</li><li id="eba6" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">演练 REST 的步骤-使用 Django REST APIs 启用您的机器学习模型。</li></ul><h1 id="b858" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">第一部分:模型构建</h1><p id="cc55" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">目标不是拥有一个花哨的模型，而是快速拥有一个模型并将其序列化，以便创建最终的 REST API。</p><p id="4d83" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下图描述了模型构建项目的结构。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/43110eb10eaeb1fe5e9c69f70b9e5e5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*37GBRYtagj-R3WqW4UKvIA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者列出的项目结构</p></figure><h2 id="bf0d" class="nh la it bd lb ni nj dn lf nk nl dp lj ma nm nn ll me no np ln mi nq nr lp ns bi translated">先决条件</h2><p id="4fea" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">本节的目的是安装正确实现分类模型所需的所有库。</p><p id="a57d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1-创建并激活虚拟环境</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="6315" class="nh la it nu b gy ny nz l oa ob">python3 -m venv mlAPIEnv   # Create the environment<br/>source mlAPIEnv/bin/activate  # Activate the environment</span></pre><p id="ff90" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2-安装<strong class="lt iu"> <em class="oc">熊猫</em> </strong>进行数据读取</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="418d" class="nh la it nu b gy ny nz l oa ob">pip install pandas</span></pre><p id="3085" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3-安装<strong class="lt iu"> <em class="oc"> sklearn </em> </strong>导入机器学习模型</p><pre class="kj kk kl km gt nt nu od bn oe of bi"><span id="6876" class="og la it nu b be oh oi l oj ob">pip install -U scikit-learn</span></pre><p id="e8d5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">4-安装<strong class="lt iu"> <em class="oc">作业库</em> </strong>以序列化最终模型</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="b3c2" class="nh la it nu b gy ny nz l oa ob">pip install joblib</span></pre><h2 id="f40f" class="nh la it bd lb ni nj dn lf nk nl dp lj ma nm nn ll me no np ln mi nq nr lp ns bi translated">每个文件的内容</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="065e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">运行以下命令后，您将看到下面的图像:前 7 行，后 7 行，以及分类报告中的模型性能。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="564b" class="nh la it nu b gy ny nz l oa ob">cd src # move to the <strong class="nu iu"><em class="oc">scr</em></strong> folder</span><span id="8edb" class="nh la it nu b gy om nz l oa ob">python3 run_training.py # Run the model training</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/7d3f068ec35df0a6bf2993dab5b7a435.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K8YXycDxGKEMNcoT_iudaA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据帧的头和尾</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/60aae11b44fa3cb2660be90eb1be788d.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*OPbjHe8B7xmgRUzkUB26Ug.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">分类报告</p></figure><p id="caf0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，您应该在<em class="oc">模型</em><em class="oc">文件夹下找到一个新文件<strong class="lt iu"><em class="oc">diabete _ detector _ model . pkl</em></strong>。</em></p><p id="1b3b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您的机器学习模型已经准备好了。现在是时候休息了——用 Django REST API 启用它。</p><h1 id="1ad8" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">第 2 部分:应用编程接口的实现</h1><h2 id="1f2b" class="nh la it bd lb ni nj dn lf nk nl dp lj ma nm nn ll me no np ln mi nq nr lp ns bi translated">先决条件</h2><p id="8e8e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">本节的目的是安装正确实现 REST API 所需的所有库。</p><p id="4463" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1-安装姜戈</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="d198" class="nh la it nu b gy ny nz l oa ob">pip install django</span></pre><p id="a745" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2-安装 Django REST 框架</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="eeba" class="nh la it nu b gy ny nz l oa ob">pip install djangorestframework</span></pre><h2 id="08cd" class="nh la it bd lb ni nj dn lf nk nl dp lj ma nm nn ll me no np ln mi nq nr lp ns bi translated">Django 项目和 REST API</h2><p id="a160" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">所有库都已安装。下一步是创建一个姜戈项目和姜戈 rest API。</p><p id="facc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1-从项目的根文件夹创建您的姜戈项目。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="0c04" class="nh la it nu b gy ny nz l oa ob">django-admin startproject diabete_deployment</span></pre><p id="3efa" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">运行前面的指令将创建一个名为 diabete_deployment 的新文件夹。移动到该文件夹并创建您的应用编程接口。</p><p id="3251" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2-创建您的 API 文件夹</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="5782" class="nh la it nu b gy ny nz l oa ob">cd diabete_deployment # Move into the folder</span><span id="0078" class="nh la it nu b gy om nz l oa ob">django-admin startapp diabete_api # Create your API folder</span></pre><p id="98ea" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从下图中，我们可以看到前面的附加文件夹及其相应的文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/6cd2a21b8e1e0b0b02c8df02ccd2a113.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7pxXh9Z9QwXkgot5RxM5A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者列出的带有附加文件夹的项目结构</p></figure><p id="5258" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对于构建我们的 API 很重要的文件是<strong class="lt iu"> <em class="oc"> settings.py </em> </strong>，<strong class="lt iu"> <em class="oc"> diabete_api/views.py，</em> </strong>和<strong class="lt iu"><em class="oc">diabete _ deployment/URLs . py .</em></strong>我们稍后需要创建额外的文件和文件夹。</p><ul class=""><li id="08be" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu"> <em class="oc"> settings.py </em> </strong>:用于注册项目中的所有新应用/API。新信息注册在下面突出显示的<strong class="lt iu"> INSTALLED_APPS </strong>变量下(<strong class="lt iu"> diabete_api </strong>和<strong class="lt iu"> rest_framework </strong>)。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/3c61f264af2ffba6dc7048f77e7c0f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*vVElCbBjomNKfHZnWm_nvQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">settings.py 内容</p></figure><p id="f053" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">每次更新设置文件时，进行迁移是很重要的，以便将更改传播到数据库模式中。确保在<strong class="lt iu"> <em class="oc"> manage.py </em> </strong>所在的 diabete_deployment 文件夹下运行该命令。</p><p id="ebc1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">运行迁移</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="fa2d" class="nh la it nu b gy ny nz l oa ob">python manage.py makemigrations</span></pre><p id="2728" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">b-迁移更改</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="b732" class="nh la it nu b gy ny nz l oa ob">python manage.py migrate</span></pre><p id="fe77" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">以下是运行 migrate 命令后的输出</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/1780afb4969839a81773081a1043b630.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*udItj_K82A_2VG7wBYEALA.png"/></div></figure><p id="cd1a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">运行服务器，检查到目前为止是否一切正常</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="5777" class="nh la it nu b gy ny nz l oa ob">python manage.py runserver</span></pre><p id="db79" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">前面的命令生成以下信息来访问通向 Django 接口的 URL，这意味着到目前为止一切正常。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="bb7e" class="nh la it nu b gy ny nz l oa ob">Watching for file changes with StatReloader<br/>Performing system checks...</span><span id="40a9" class="nh la it nu b gy om nz l oa ob">System check identified no issues (0 silenced).<br/>November 29, 2021 - 03:47:18<br/>Django version 3.2.9, using settings 'diabete_deployment.settings'<br/>Starting development server at <a class="ae ky" href="http://127.0.0.1:8000/" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8000/</a></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/649f9edf9e40856349b1ed468167d9bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mlOCVKYKcnkvM_Zx2hoP9w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Django web 界面，意味着配置是成功的</p></figure><ul class=""><li id="3a58" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu"><em class="oc">diabete _ API/views . py</em></strong>:用于实现调用特定路线时会触发的所有功能。在我们的例子中，实现将基于预测函数。为了进行预测，我们的函数需要加载模型。为此:我们需要<strong class="lt iu"> <em class="oc">在主<strong class="lt iu"><em class="oc">diabete _ deployment</em></strong>文件夹下创建一个新的静态/模型</em> </strong>文件夹，该文件夹将包含序列化的<strong class="lt iu"> <em class="oc">。pkl </em>型号</strong>型号。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">diabete_api 文件夹的 views.py</p></figure><ul class=""><li id="3fad" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu">新建一个文件</strong><strong class="lt iu"><em class="oc">diabete _ API/URLs . py</em></strong>，内容如下</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><ul class=""><li id="1589" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu"><em class="oc">diabete _ deployment/URLs . py</em></strong>:用于将所有的 URL 链接到它们在 views.py 文件中实现的对应函数。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="f6bb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，所有重要的文件都已更新，新的文件也已创建，我们终于准备好重新启动网址，并确保一切正常！</p><p id="c6c5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">运行服务器</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="f2b3" class="nh la it nu b gy ny nz l oa ob">python manage.py runserver</span></pre><p id="a12d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们可以访问前面命令行生成的 url。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="e7d8" class="nh la it nu b gy ny nz l oa ob">System check identified no issues (0 silenced).<br/>November 29, 2021 - 16:23:24<br/>Django version 3.2.9, using settings 'diabete_deployment.settings'<br/>Starting development server at <a class="ae ky" href="http://127.0.0.1:8000/" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8000/</a><br/>Quit the server with CONTROL-C.</span></pre><p id="9ef9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这是我们得到的屏幕，它指向<strong class="lt iu"> <em class="oc">索引</em> </strong>页面，显示视图文件内<strong class="lt iu"> <em class="oc">索引</em> </strong>功能中指定的信息。</p><p id="71a4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">此页面显示<strong class="lt iu"> <em class="oc"> HTTP 200 OK </em> </strong>表示页面请求成功。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/9b00218d42f0846b82abbeaa8dc78237.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YCHH_zct1VwAXPB05xl8fg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="f296" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从该页面中，我们可以通过在 URL 中添加<strong class="lt iu"> <em class="oc"> /predict </em> </strong>来最终调用预测函数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/8e5169ac440bd2884b0761675ece21ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kaPGXCQM30K9RuGXorjXrA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="7feb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在上一页中，我们可以通过将以下 JSON 数据粘贴到 content 部分来模拟预测。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/6d76485a67a10e482a38e557baa0a92c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kPjj91WRdOOb-mX2uukd0g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="22af" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从前面的图像中，我们观察了从请求到预测的整体交互。</p><h2 id="4774" class="nh la it bd lb ni nj dn lf nk nl dp lj ma nm nn ll me no np ln mi nq nr lp ns bi translated">用 CURL 测试您令人敬畏的 API</h2><p id="d3a5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下面是我们正在进行的 post 请求的语法</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="4e41" class="nh la it nu b gy ny nz l oa ob">curl -d "param1=val1&amp;param2=val2...paramN=valN" [URL]/funct_to_call</span></pre><ul class=""><li id="0652" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu"> <em class="oc"> param1 </em> </strong>:第一个参数和<strong class="lt iu"> <em class="oc"> val1 </em> </strong>是对应的值</li><li id="4dc2" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu"> <em class="oc"> param2 </em> </strong>:第二个参数和<strong class="lt iu"> <em class="oc"> val2 </em> </strong>是对应的值</li><li id="0b8e" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">等等。</li><li id="17b6" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu"> <em class="oc"> URL </em> </strong>:要使用的 URL，在我们的例子中是<a class="ae ky" href="http://127.0.0.1:8000" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:8000 </a></li><li id="975f" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu"><em class="oc">【funct _ to _ call】</em></strong>:请求调用的函数，在我们这里是<strong class="lt iu"> <em class="oc"> /predict </em> </strong></li></ul><p id="0888" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">将所有内容相加，我们得到以下请求:</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="d98c" class="nh la it nu b gy ny nz l oa ob">curl -d  'pregnancies=6&amp;glucose=148&amp;bloodpressure=72&amp;skinthickness=35&amp;insulin=0&amp;bmi=33.6&amp;diabetespedigreefunction=0.627&amp;age=50' http://127.0.0.1:8000/predict</span></pre><p id="ee38" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">以下是请求的结果:</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="2dd4" class="nh la it nu b gy ny nz l oa ob">{"info":"success","patient_status":1,"model_confidence_proba":63.36}</span></pre><h1 id="7f52" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">文章结尾</h1><p id="dc9a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">从本文中，您已经学习了如何使用 Django 构建您的机器学习模型和创建 REST API。你现在可以将你的 API 提供给你所在城市的医院，从而拯救生命😃。</p><h2 id="7489" class="nh la it bd lb ni nj dn lf nk nl dp lj ma nm nn ll me no np ln mi nq nr lp ns bi translated">额外资源</h2><p id="cf66" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://www.django-rest-framework.org/" rel="noopener ugc nofollow" target="_blank"> Django REST 框架</a></p><p id="ca66" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><a class="ae ky" href="https://svitla.com/blog/testing-rest-api-with-postman-and-curl" rel="noopener ugc nofollow" target="_blank">用 Postman 和 curl 测试 REST API</a></p><p id="8f5e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">再见🏃🏾</p></div></div>    
</body>
</html>