<html>
<head>
<title>Building a Streamlit app to visualise Covid-19 data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建一个可视化新冠肺炎数据的Streamlit应用</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/interactive-dashboard-in-streamlit-to-analyse-owid-covid-19-data-180b1c3372e4?source=collection_archive---------32-----------------------#2021-07-21">https://towardsdatascience.com/interactive-dashboard-in-streamlit-to-analyse-owid-covid-19-data-180b1c3372e4?source=collection_archive---------32-----------------------#2021-07-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/865c1f36365da04f895d845aea7c4551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*H9Zjg1jW_C-AGMzG"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">埃德温·胡珀在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div><div class="ab cl kd ke hu kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="ij ik il im in"><h1 id="1be7" class="kk kl iq bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">语境</h1><p id="3306" class="pw-post-body-paragraph li lj iq lk b ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated"><a class="ae kc" href="https://ourworldindata.org/" rel="noopener ugc nofollow" target="_blank">我们的数据世界</a> (OWID)是一个开源的在线研究出版物。他们拥有广泛的公共数据集，涵盖疾病、气候变化、社会不公和贫困等主题。</p><blockquote class="mg mh mi"><p id="1e03" class="li lj mj lk b ll mk ln lo lp ml lr ls mm mn lv lw mo mp lz ma mq mr md me mf ij bi translated">我们工作的目标是让大问题上的知识变得容易理解。我们的数据世界是关于研究和数据的，以针对世界上最大的问题取得进展。</p></blockquote><p id="58d0" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">因此，当您发现OWID在他们的<a class="ae kc" href="https://github.com/owid/covid-19-data" rel="noopener ugc nofollow" target="_blank"> GitHub </a>存储库中托管了大量新冠肺炎数据集时，您不会感到惊讶。</p><p id="4adb" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">我采用了他们的一些新冠肺炎数据，着手开发一款能够让用户可视化和分析新冠肺炎数据的Streamlit应用。特别重要的是，用户能够<strong class="lk ir">与数据</strong>进行交互，从而进行定制分析并回答以下问题:</p><ul class=""><li id="7a96" class="ms mt iq lk b ll mk lp ml lt mu lx mv mb mw mf mx my mz na bi translated"><em class="mj">人口密度和总病例数有关系吗？</em></li><li id="35c9" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated"><em class="mj">哪些国家在疫苗接种方面领先，哪些国家落后了？</em></li><li id="a624" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated"><em class="mj">什么特征与死亡最密切相关？</em></li></ul><p id="4f14" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">我希望它看起来很容易，所以<a class="ae kc" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank">是我完成这项任务的首选图表库。我特别想制作一些可视化的动画，Plotly是少数几个能以代码高效的方式做到这一点的库之一。</a></p><p id="96ac" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">最终的Streamlit已经部署，您可以在下面的链接中找到它，但我想介绍一下我构建它的一些关键步骤，并谈谈在整个开发过程中的一些想法。</p><p id="5086" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated"><a class="ae kc" href="https://share.streamlit.io/kitsamho/covid-19-data/covid_streamlit_app.py" rel="noopener ugc nofollow" target="_blank">https://share . streamlit . io/kitsa mho/新冠肺炎数据/covid_streamlit_app.py </a></p></div><div class="ab cl kd ke hu kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="ij ik il im in"><h1 id="4b03" class="kk kl iq bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">我们可以访问哪些数据？</h1><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/f837e4f5233d0995f696044fff462450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZWYXyhz5lRHO1vOH"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@mbaumi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">米卡·鲍梅斯特</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="44f2" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">OWID GitHub存储库中有许多数据集，但是它们已经将许多关键数据点聚合到一个组合结构中。这使得生活变得相当容易，因为转换不那么密集。</p><p id="1289" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">让我们看看CSV。</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="5456" class="nq kl iq nm b gy nr ns l nt nu">import pandas as pd</span><span id="a75e" class="nq kl iq nm b gy nv ns l nt nu">df = pd.read_csv('owid-covid-data.csv')<br/>print(df.shape)</span><span id="6837" class="nq kl iq nm b gy nv ns l nt nu">(101752, 60)</span><span id="dba7" class="nq kl iq nm b gy nv ns l nt nu">print('Total unique continents:',len(df.continent.unique()))<br/>print('Total unique countries:',len(df.location.unique()))<br/>print('Date span:',df.date.min(),df.date.max())</span><span id="0a56" class="nq kl iq nm b gy nv ns l nt nu">Total unique continents: 7<br/>Total unique countries: 231<br/>Date span: 2020-01-01 2021-07-11</span></pre><p id="ee44" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">让我们检查数据帧的头部..</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/4bfe736407407eca697e3796213dea72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FlD7dHAVh3dp6ejaGCrX8g.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">按作者分类的图像-示例数据框架</p></figure><h2 id="cac0" class="nq kl iq bd km nx ny dn kq nz oa dp ku lt ob oc ky lx od oe lc mb of og lg oh bi translated">观察</h2><ul class=""><li id="eca0" class="ms mt iq lk b ll lm lp lq lt oi lx oj mb ok mf mx my mz na bi translated">我们有60列，101，000多行(截至2021年7月正确)，每行代表<strong class="lk ir">年中的一天</strong></li><li id="e20b" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">我们有横跨六大洲的231个国家</li><li id="6df7" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">几乎所有的变量都是<strong class="lk ir">连续的</strong>，而国家和大陆是<strong class="lk ir">分类的</strong>。</li><li id="d3ae" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">有许多空值<strong class="lk ir"/>(稍后会详细介绍)。</li><li id="d531" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">鉴于我们分析的性质，这些变量中有些是<strong class="lk ir">相关</strong>的，有些最好描述为<strong class="lk ir">独立</strong>的，尤其是如果我们透过风险因素及其对新冠肺炎疫情的影响来看。</li></ul><p id="bbfc" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated"><em class="mj">注意——我选择了24个我认为对演示仪表盘最有用的变量，概述如下。如果你想你可以发展这个应用程序，并包括更多。</em></p><h2 id="56ef" class="nq kl iq bd km nx ny dn kq nz oa dp ku lt ob oc ky lx od oe lc mb of og lg oh bi translated">因变量</h2><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="7e91" class="nq kl iq nm b gy nr ns l nt nu">dependent_var = [‘total_deaths’,’total_deaths_per_million’,’total_cases_per_million’,’icu_patients_per_million’,‘people_vaccinated_per_hundred’,<br/>’total_vaccinations’,'hosp_patients_per_million]</span></pre><h2 id="a89c" class="nq kl iq bd km nx ny dn kq nz oa dp ku lt ob oc ky lx od oe lc mb of og lg oh bi translated">自变量</h2><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="ab17" class="nq kl iq nm b gy nr ns l nt nu">independent_var = [‘gdp_per_capita’,’population’,’stringency_index’,’population’, <br/>‘population_density’, ‘median_age’, ‘aged_65_older’,<br/>‘aged_70_older’, ‘gdp_per_capita’, ‘extreme_poverty’,<br/>‘cardiovasc_death_rate’, ‘diabetes_prevalence’, <br/>‘female_smokers’,’male_smokers’, ‘handwashing_facilities’, <br/>‘hospital_beds_per_thousand’,’life_expectancy’,'continent', 'location']</span></pre><p id="0fe1" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">这些指标中的大多数都是不言自明的。关于它们代表什么以及如何测量的详细分类，这里有一个广泛的数据字典<a class="ae kc" href="https://github.com/owid/covid-19-data/blob/master/public/data/owid-covid-codebook.csv" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl kd ke hu kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="ij ik il im in"><h1 id="0556" class="kk kl iq bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">数据准备</h1><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/287f15e1939b626f331889b3fb6eb655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ejcK0ASctTjw9mpY"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@kate5oh3?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">凯蒂·史密斯</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="d11d" class="nq kl iq bd km nx ny dn kq nz oa dp ku lt ob oc ky lx od oe lc mb of og lg oh bi translated">缺失值和插值</h2><p id="4f4c" class="pw-post-body-paragraph li lj iq lk b ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">当我们准备数据时，经常会遇到缺失值。这可能是因为收集管道中的错误，也可能是因为开始时没有任何数据。当我们处理符合高斯分布的数据时，一个有效的策略是用平均值代替零值，在其他情况下可能用中位数。对于随时间累积的数据，更合适的方法是使用插值法，根据其周围的值来估计和估算值。Pandas有一个方法<code class="fe om on oo nm b">pd.interpolate()</code>，默认替换是线性的。</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/fd31cae64b60ccf01939b646552ab3bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yqj3TPMfr7OTXQEKIMpbEg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">按作者分类的影像-我是如何在OWID新冠肺炎数据集中发现缺失值的</p></figure><p id="c1c3" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">对原始OWID数据集的检查显示，丢失值是常见的。下面是一些解决这个问题的函数。</p><figure class="nh ni nj nk gt jr"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="74d6" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">下面是生成可在应用程序中使用的干净/格式化数据的主要函数。</p><figure class="nh ni nj nk gt jr"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="f4f4" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">让我们来看看最终的数据框架，看看英国是什么样子的。</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi os"><img src="../Images/345d483fe83f74733a9eb142d13f1763.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xofMbX2nH_9W-R8WlasBBQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">按作者分类的图像—示例数据框架</p></figure><h2 id="55e1" class="nq kl iq bd km nx ny dn kq nz oa dp ku lt ob oc ky lx od oe lc mb of og lg oh bi translated">观察</h2><ul class=""><li id="3939" class="ms mt iq lk b ll lm lp lq lt oi lx oj mb ok mf mx my mz na bi translated">我们的新冠肺炎<strong class="lk ir">因变量</strong>按周分组(例如，总病例数、死亡人数、住院人数、疫苗接种数),但是随着时间的推移，您可以看到数据存在差异</li><li id="d03a" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">每个<strong class="lk ir">独立</strong>特征(如人均GDP、人口密度、吸烟率)也按周分组，尽管数据不会改变，因为这些东西不会像新冠肺炎那样移动得那么快。</li></ul><p id="356f" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">太好了，现在我们有了符合我们需要的正确格式的数据。接下来，我们需要开始思考如何在我们的应用程序上以有意义和有用的方式呈现这些数据！</p></div><div class="ab cl kd ke hu kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="ij ik il im in"><h1 id="7876" class="kk kl iq bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">简化应用程序设计</h1><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ot"><img src="../Images/c1616bb6830ac1e86d31fcae6048623b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jAsnd8wL5CXV0BGF"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">由<a class="ae kc" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">凯利·西克玛</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="ca64" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">这篇文章假设你对Streamlit的工作原理有所了解。如果你不知道，那么请看看下面的这篇文章</p><div class="ou ov gp gr ow ox"><a rel="noopener follow" target="_blank" href="/streamlit-101-an-in-depth-introduction-fc8aad9492f2"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ir gy z fp pc fr fs pd fu fw ip bi translated">Streamlit 101:深入介绍</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">利用Airbnb数据深入了解Streamlit</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl jw ox"/></div></div></a></div><h2 id="ce14" class="nq kl iq bd km nx ny dn kq nz oa dp ku lt ob oc ky lx od oe lc mb of og lg oh bi translated">分析方法</h2><p id="3cf5" class="pw-post-body-paragraph li lj iq lk b ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">查看这些数据有两种有用的方法:</p><ul class=""><li id="c414" class="ms mt iq lk b ll mk lp ml lt mu lx mv mb mw mf mx my mz na bi translated"><strong class="lk ir">横截面</strong>——探索在<em class="mj">给定时间点</em>多个自变量和因变量之间的关系</li><li id="2ac0" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated"><strong class="lk ir">时间序列</strong> —探究多个自变量和因变量之间的关系，以及<em class="mj">如何随时间变化</em></li></ul><p id="3d1b" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">我想让应用程序一直亮着，不想让多个图显示不同的数据点，所以我决定只使用一个<strong class="lk ir">散点图</strong>可视化，但允许用户进行高级定制。这将鼓励互动，并希望有一定程度的发现。</p><h2 id="95a0" class="nq kl iq bd km nx ny dn kq nz oa dp ku lt ob oc ky lx od oe lc mb of og lg oh bi translated">多页</h2><p id="280b" class="pw-post-body-paragraph li lj iq lk b ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">我在应用程序中建立了两个页面，一个用于横截面可视化，一个用于时间序列可视化。</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/9010ca15dba370bef9ee010f83043d49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*pWpuQZKPuGzo1GN5eZCHSw.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">作者提供的图片——应用程序截图</p></figure><p id="9216" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated"><em class="mj">注意——使用pages导航Streamlit应用并不是Streamlit平台的固有功能，但</em> <a class="pn po ep" href="https://medium.com/u/ffa230f1042d?source=post_page-----180b1c3372e4--------------------------------" rel="noopener" target="_blank"> Praneel Nihar </a>在此概述了一个解决方案:</p><div class="ou ov gp gr ow ox"><a href="https://medium.com/@u.praneel.nihar/building-multi-page-web-app-using-streamlit-7a40d55fa5b4" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ir gy z fp pc fr fs pd fu fw ip bi translated">使用Streamlit构建多页面Web应用程序</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">在前一篇博客中，我们看到了如何安装streamlit并构建一个简单的hello world应用程序。在这篇博客中，我们将看到如何…</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">medium.com</p></div></div><div class="pg l"><div class="pp l pi pj pk pg pl jw ox"/></div></div></a></div><h2 id="188e" class="nq kl iq bd km nx ny dn kq nz oa dp ku lt ob oc ky lx od oe lc mb of og lg oh bi translated">散点图</h2><p id="977c" class="pw-post-body-paragraph li lj iq lk b ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">我喜欢散点图。如果散点图是静态的并且是二维的，我们有能力在一张图中显示多达五个变量。</p><ul class=""><li id="190e" class="ms mt iq lk b ll mk lp ml lt mu lx mv mb mw mf mx my mz na bi translated">横坐标</li><li id="108c" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">y轴</li><li id="ca09" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">分散点</li><li id="6ad9" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">散布大小</li><li id="a257" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">分散颜色</li></ul><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/5ea9b5e632fe378a41d38bc08847c59e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*W_uaNJ3Tvnjib_wKrGTb3Q.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">按作者分类的图像-横截面分析示例</p></figure><p id="6f6e" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">如果我们把这些图做成动画，我们也可以在可视化中增加第六维度的时间</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pr"><img src="../Images/f71058464a86a2969c0c72fc5c60e85f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9KybUeETHTXCcHnWZy0nA.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">按作者分类的图像-时间序列分析示例</p></figure><p id="c8e5" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">最后，如果我们能给用户机会来改变这些变量中的每一个，那么分析的范围可以进一步扩大。Streamlit中的小部件允许我们提供这个特性。</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ps"><img src="../Images/b38df45a470e1b493349ef86c8dd3dda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IUKSp75u4lCJUxPprqQKEg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片Streamlit下拉小工具的屏幕截图</p></figure><h2 id="1f94" class="nq kl iq bd km nx ny dn kq nz oa dp ku lt ob oc ky lx od oe lc mb of og lg oh bi translated">其他功能</h2><p id="0cb9" class="pw-post-body-paragraph li lj iq lk b ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">除了X、Y和分散数据点，我还包括了一些其他可视化选项:</p><ul class=""><li id="cc61" class="ms mt iq lk b ll mk lp ml lt mu lx mv mb mw mf mx my mz na bi translated">选择<strong class="lk ir">按洲屏蔽</strong>，即只显示特定洲的国家</li><li id="20e1" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf mx my mz na bi translated">对于X和Y图，用一条垂直/水平线表示某一特征的集中趋势。这允许您查看哪些标记高于或低于任何绘制的指标的平均值</li></ul><h1 id="2fdb" class="kk kl iq bd km kn pt kp kq kr pu kt ku kv pv kx ky kz pw lb lc ld px lf lg lh bi translated">应用程序示例输出—横截面散点图</h1><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi py"><img src="../Images/28440b91392d35b86ede05c4754873bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WWTP_iEXBKx73Zm3I0VEsg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">按作者分类的图像-横截面散点图示例</p></figure><p id="21f5" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">下面的代码块概述了创建上述横截面散点图所需的步骤。</p><figure class="nh ni nj nk gt jr"><div class="bz fp l di"><div class="oq or l"/></div></figure><h1 id="c600" class="kk kl iq bd km kn pt kp kq kr pu kt ku kv pv kx ky kz pw lb lc ld px lf lg lh bi translated">示例输出-时间序列散点图</h1><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi py"><img src="../Images/56664e708760f6a701776b9064d84c39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VPae4nD82iUx9gi4BvhZ7Q.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">按作者分类的图像-带动画的横截面散点图示例</p></figure><p id="d21e" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">下面的代码块概述了创建动画横截面散点图所需的步骤。</p><figure class="nh ni nj nk gt jr"><div class="bz fp l di"><div class="oq or l"/></div></figure><h1 id="af8a" class="kk kl iq bd km kn pt kp kq kr pu kt ku kv pv kx ky kz pw lb lc ld px lf lg lh bi translated">摘要</h1><p id="f625" class="pw-post-body-paragraph li lj iq lk b ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">希望这个简短的介绍已经为您提供了一些我们如何以一种令人信服的方式可视化数据的例子。通过选择正确的工具与数据进行交互，并通过使用适当的可视化，探索性分析比单独使用条形图更有效、更有趣、信息量更大。</p><p id="3031" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">无论如何，请使用我的Streamlit代码并在此基础上进行构建——这里有大量的数据，尽管我已经编写了一些全面的代码来可视化这些数据，但我确信还有许多其他途径可以探索和构建。</p><p id="570f" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">下次见！</p><p id="35ba" class="pw-post-body-paragraph li lj iq lk b ll mk ln lo lp ml lr ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">萨姆（男子名）</p><h1 id="62c8" class="kk kl iq bd km kn pt kp kq kr pu kt ku kv pv kx ky kz pw lb lc ld px lf lg lh bi translated">链接和资源</h1><p id="ec2c" class="pw-post-body-paragraph li lj iq lk b ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">要在本地启动此应用程序，您应该克隆我的分叉OWID repo，并在命令行中运行:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="4683" class="nq kl iq nm b gy nr ns l nt nu">$ streamlit run covid_streamlit_app.py</span></pre><ol class=""><li id="50e0" class="ms mt iq lk b ll mk lp ml lt mu lx mv mb mw mf pz my mz na bi translated"><a class="ae kc" href="https://share.streamlit.io/kitsamho/covid-19-data/covid_streamlit_app.py" rel="noopener ugc nofollow" target="_blank"> Streamlit App </a></li><li id="cab1" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf pz my mz na bi translated"><a class="ae kc" href="https://github.com/kitsamho/covid-19-data" rel="noopener ugc nofollow" target="_blank">用我的应用程序分叉OWID存储库</a></li><li id="17c6" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf pz my mz na bi translated">简化应用程序<a class="ae kc" href="https://github.com/kitsamho/covid-19-data/blob/master/requirements.txt" rel="noopener ugc nofollow" target="_blank">要求</a></li><li id="0693" class="ms mt iq lk b ll nb lp nc lt nd lx ne mb nf mf pz my mz na bi translated"><a class="ae kc" href="https://github.com/owid/covid-19-data" rel="noopener ugc nofollow" target="_blank">原始数据回购中的我们的世界</a></li></ol></div></div>    
</body>
</html>