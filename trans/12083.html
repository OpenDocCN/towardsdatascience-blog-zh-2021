<html>
<head>
<title>Essential guide to Machine Learning Model Monitoring in Production</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生产中机器学习模型监控的基本指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/essential-guide-to-machine-learning-model-monitoring-in-production-2fbb36985108?source=collection_archive---------20-----------------------#2021-12-06">https://towardsdatascience.com/essential-guide-to-machine-learning-model-monitoring-in-production-2fbb36985108?source=collection_archive---------20-----------------------#2021-12-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="eefa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">检测数据漂移的技术</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c0b4f46177653f764eaf7b4974f021f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KOv1M9nvcKrAJgf2OfbXlQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/users/mediamodifier-1567646/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=3078546" rel="noopener ugc nofollow" target="_blank"> Mediamodifier </a>来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=3078546" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="71e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">模型监控是端到端数据科学模型开发管道的重要组成部分。该模型的稳健性不仅取决于特征工程数据的训练，还取决于该模型在部署后的监控程度。</p><p id="885e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，机器学习模型的性能会随着时间的推移而下降，因此检测模型性能下降的原因至关重要。其主要原因可能是独立或/和从属特征的漂移，这可能违反模型的假设和数据分布。</p><p id="e7c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将讨论各种技术，以检测数据漂移独立或独立的特征，在生产推断数据。</p><h1 id="2067" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">为什么需要模型监控？</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/688c145322c665d45bc590d9b5d17781.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*MgRyyhYwKv08N9uBlt1Bcg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)、模型训练、验证和监控工作流</p></figure><p id="f0b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">模型的性能随着时间的推移而下降有多种原因:</p><ul class=""><li id="9cfd" class="mo mp it lb b lc ld lf lg li mq lm mr lq ms lu mt mu mv mw bi translated">推理模型性能</li><li id="f9d6" class="mo mp it lb b lc mx lf my li mz lm na lq nb lu mt mu mv mw bi translated">推断数据分布不同于基线数据分布</li><li id="ec2e" class="mo mp it lb b lc mx lf my li mz lm na lq nb lu mt mu mv mw bi translated">业务KPI的变化</li></ul><p id="82f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面提到的是模型性能随时间下降的主要原因。在部署之后，需要监控已部署的模型，以测量模型性能和数据分布。在确定了模型衰减的原因之后，用更新的数据集重新训练现有的模型。</p><h1 id="6d35" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">如何进行模型监控？</h1><p id="b9d1" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">推断数据的实际目标类标签通常不会在前面出现。因此，很难使用标准的评估指标(如精确度、召回率、准确度、日志损失等)来衡量模型的性能。</p><p id="7198" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时，直到实际的目标类标签可用需要时间。但是也可以通过观察数据分布来衡量模型的稳健性。有各种技术来测量独立和从属特征中的数据漂移。</p><h1 id="3121" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">测量独立特征的漂移:</h1><p id="6197" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">有各种方面来监控独立特征的漂移。</p><h2 id="f9d9" class="nh lw it bd lx ni nj dn mb nk nl dp mf li nm nn mh lm no np mj lq nq nr ml ns bi translated">1.监控每个特征的分布:</h2><p id="c329" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">如果我们观察到推理数据的工程特征或原始特征的分布发生了变化，我们可以预期模型性能会下降。测量偏差的一些流行的统计技术有:</p><ul class=""><li id="d6ec" class="mo mp it lb b lc ld lf lg li mq lm mr lq ms lu mt mu mv mw bi translated">KL (Kullback Leibler)散度检验</li><li id="e664" class="mo mp it lb b lc mx lf my li mz lm na lq nb lu mt mu mv mw bi translated">科尔莫戈罗夫-斯米尔诺夫试验</li><li id="3300" class="mo mp it lb b lc mx lf my li mz lm na lq nb lu mt mu mv mw bi translated">卡方检验</li></ul><h2 id="f3b8" class="nh lw it bd lx ni nj dn mb nk nl dp mf li nm nn mh lm no np mj lq nq nr ml ns bi translated">2.监控统计特征:</h2><p id="be64" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我们需要监控推断和基线数据的统计特征，以观察数据集中的差异。一些统计特征是:</p><ul class=""><li id="1c65" class="mo mp it lb b lc ld lf lg li mq lm mr lq ms lu mt mu mv mw bi translated">可能值的范围(分位数、平均值、最大值、最小值)</li><li id="5938" class="mo mp it lb b lc mx lf my li mz lm na lq nb lu mt mu mv mw bi translated">缺失值或空值的数量</li><li id="0efe" class="mo mp it lb b lc mx lf my li mz lm na lq nb lu mt mu mv mw bi translated">数字特征的直方图分布</li><li id="4074" class="mo mp it lb b lc mx lf my li mz lm na lq nb lu mt mu mv mw bi translated">分类特征的不同值</li></ul><h2 id="c351" class="nh lw it bd lx ni nj dn mb nk nl dp mf li nm nn mh lm no np mj lq nq nr ml ns bi translated">3.监控多元特征的分布:</h2><p id="e762" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">机器学习模型开发特征之间的一些交互来进行预测。如果特征之间的模式或分布发生变化，则可能导致模型性能下降。检测多元特征分布的技术是:</p><ul class=""><li id="771f" class="mo mp it lb b lc ld lf lg li mq lm mr lq ms lu mt mu mv mw bi translated">克拉默Phi试验</li></ul><h1 id="6e6d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">测量从属特征的漂移:</h1><p id="08a6" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">推理目标类的相关特征(目标标签)可能不会在生产中提前出现。一旦存在相关特征，就有各种技术来测量漂移，并得出模型性能是否恶化的结论。</p><h2 id="da64" class="nh lw it bd lx ni nj dn mb nk nl dp mf li nm nn mh lm no np mj lq nq nr ml ns bi translated">1.目标类别的分布:</h2><p id="a503" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">对于分类任务，目标类标签本质上是分类的。其思想是比较推理数据和基础数据之间目标类标签的分布。</p><p id="1d58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于回归任务，直方图或连续目标标签的统计特征可用于测量数据中的漂移。</p><h2 id="6b9d" class="nh lw it bd lx ni nj dn mb nk nl dp mf li nm nn mh lm no np mj lq nq nr ml ns bi translated">2.监控推理模型性能:</h2><p id="92a3" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">一旦实际的目标类标签可用，那么可以通过评估和比较模型在标准度量上的性能来检测模型漂移。如果模型度量显示少于预期的数字，则需要重新训练模型。</p><h1 id="f355" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论:</h1><p id="fc3c" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">在本文中，我们讨论了在产品中部署模型之后，检测推理数据集中的偏差的各种技术。随着时间的推移，模型漂移可能导致模型性能恶化。因此，在生产后监控模型的性能是很重要的。</p><h1 id="10ae" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">参考资料:</h1><p id="ac92" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">[1] Vivek Kumar YouTube播放列表:<a class="ae ky" href="https://www.youtube.com/playlist?list=PLmpREe1kbYUk348hS7W2EzUyWtgCSN54J" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/playlist?list = PLM pree 1k byuk 348 hs 7w 2 ezuywtgcsn 54j</a></p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><p id="b5a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oa">喜欢这篇文章吗？成为</em> <a class="ae ky" href="https://satyam-kumar.medium.com/membership" rel="noopener"> <em class="oa">中等会员</em> </a> <em class="oa">继续无限制学习。如果你使用下面的链接，我会收到你的一小部分会员费，不需要你额外付费。</em></p><div class="ob oc gp gr od oe"><a href="https://satyam-kumar.medium.com/membership" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd iu gy z fp oj fr fs ok fu fw is bi translated">加入我的推荐链接-萨蒂扬库马尔媒体</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">satyam-kumar.medium.com</p></div></div><div class="on l"><div class="oo l op oq or on os ks oe"/></div></div></a></div><blockquote class="ot"><p id="5101" class="ou ov it bd ow ox oy oz pa pb pc lu dk translated">感谢您的阅读</p></blockquote></div></div>    
</body>
</html>