<html>
<head>
<title>Intro to Probability Distributions and Distribution Fitting with Python’s SciPy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python的SciPy介绍概率分布和分布拟合</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/probability-distributions-with-pythons-scipy-3da89bf60565?source=collection_archive---------0-----------------------#2021-10-22">https://towardsdatascience.com/probability-distributions-with-pythons-scipy-3da89bf60565?source=collection_archive---------0-----------------------#2021-10-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8ff5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何用分布来模拟随机过程，并使它们适合观察数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/fbd64efa88ca78dd42b5dafd2b390f47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*NEKjA3JhvHKqW-EJAP9hHg.jpeg"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated"><a class="ae ku" href="https://pixabay.com/photos/needle-threads-sewing-thread-4854847/" rel="noopener ugc nofollow" target="_blank">针线缝纫线眼——pix abay</a>上的免费照片，由Myriams-Fotos拍摄</p></figure><p id="ff93" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">以下示例教程:</p><ul class=""><li id="60de" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">SciPy的概率分布及其性质和方法</li><li id="b150" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">通过拟合威布尔极值分布来模拟组件寿命的示例</li><li id="e8f9" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">一个自动化的拟合程序，从大约60个候选分布中选择最佳分布</li></ul><p id="e9a5" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">概率分布描述了受随机过程影响的现象:</p><ul class=""><li id="b048" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">自然发生的随机过程；</li><li id="a63d" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">或者知识不全导致的不确定性。</li></ul><p id="0d2b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">随机过程的结果称为随机变量x。分布函数将概率映射到x的出现次数。</p><p id="4eb0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">SciPy统计了104个连续分布和19个离散分布，这些分布可以在它的<em class="mf"> stats.rv_continuous </em>和<em class="mf"> stats.rv_discrete </em>类中实例化。<em class="mf">离散</em>分布处理可计数的结果，例如顾客到达柜台。<em class="mf">连续</em>分布计算x轴上两个结果或点之间发生的概率，如高度、温度或时间的变化。</p><p id="f9b3" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">近年来，在传感器数据和其他大量可量化信息来源的快速增长的推动下，与工程和技术相关的分布已经蓬勃发展，这些分布试图对设备的寿命或故障时间以及生物学和药剂学进行建模。SciPy包括威布尔和极值分布的几种变体，以及对数正态和疲劳寿命或伯恩鲍姆-桑德斯分布，它们适用于可靠性工程中的任务。在文献中，人们可以找到更多最近的合并，如Weibull-Birnbaum-Saunders或Kummer-beta-Birnbaum-Saunders分布等，用于生产、供应链、建筑、生物、水文和工程等领域。因此，概率分布不仅是股票和期权交易者的主要工具。除了我们经常遇到的均匀分布和正态分布之外，我们还应该看一看。我们的许多数据科学方法依赖于正态分布的数据或残差。然而，为了模拟真实世界的随机过程，我们需要准备识别和评估可选的随机模型。</p><p id="eb80" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">SciPy中提供了123个发行版:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/c4cbf4344f0e22e72411aab085584368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*vfEoBvGoC2EoXa6NrejKiA.png"/></div></figure><p id="a2dd" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我已经将60+的Scipy连续分布导入到下面将要描述的fitter脚本中。不可否认的是，当我看到fitter可以相对较快地处理我导入的最初10个发行版时，我感到非常高兴。我的结论是，我可以在几分钟内追加50个，看看拟合过程是否会在一个或另一个更具外来参数化的分布上出错。到目前为止，它工作得很顺利。</p><h1 id="38cb" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">0.属国</h1><p id="2119" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">我们首先引入——除了我们的全天候核心库如pandas和numpy——SciPy的<em class="mf"> stats </em>类。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="7ff7" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">应该添加两个常数:Kolmogorov-Smirnov拟合优度检验将从选定的分布中抽取的样本数；显著性水平为0.05。</p><p id="e254" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，我们编写了一个大约60个SciPy发行版的列表，我们希望为fitter实例化并导入它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="396c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Python在其导入语句中不接受像<em class="mf">发行版</em>这样的列表对象，因此相同的发行版名称必须列出两次。像AST这样的库理论上可以帮助自动读取和重新插入导入的内容，但是这些循环比将导入的发行版复制到列表<em class="mf">发行版</em>需要更多的代码行。</p><p id="edc9" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">列表<em class="mf">分布</em>包含我们想要作为我们选择的候选分布传递给fitter程序的选择。当然，您可以将列表缩减到更少的候选人，以便从中搜索最合适的候选人。</p><h1 id="424d" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">1.SciPy分布及其性质</h1><p id="ccdf" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">在我们深入研究钳工的构造之前，让我们围绕SciPy的分发对象进行一次快速的观光旅行，以了解它们是如何工作和交互的。</p><h2 id="0ac6" class="ng mk it bd ml nh ni dn mp nj nk dp mt le nl nm mv li nn no mx lm np nq mz nr bi translated">1.1选择并实例化一个发行版</h2><p id="acd8" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">我们选择β分布作为第一个例子，并通过将其两个形状参数a(α)和b(η)设置为2和6来对其进行参数化。</p><p id="c2c8" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">贝塔分布有非常灵活的形状，比正态分布更灵活。它的默认支持或域是区间[0；下面，我们将看到如何通过向两个共享参数添加位置和比例参数来将支持扩展到更宽的区间。我们对形状参数的选择将使它看起来类似于正态分布的钟形曲线，但并不完全与之一致——它将有点正偏，右边有一条拉长的尾巴。</p><p id="20ea" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们通过应用<em class="mf"> rvs() </em>函数生成1000个遵循Beta(2，6)分布的随机变量x，然后将它们绘制成直方图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/d20c81243d5ad6f17230875b802834af.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*W7L35XnJcjNw6DlG7J7fzQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">1，000个随机变量的Beta(2，6)</p></figure><p id="2d7e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">SciPy的beta是一个类型为<em class="mf">分布生成器beta_gen </em>的对象，继承自它的连续分布类。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi nt"><img src="../Images/19cb420d6214cf88c577fe97bb991ea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JwK_1nye2OoZ7pOThkxivw.png"/></div></div></figure><h2 id="eceb" class="ng mk it bd ml nh ni dn mp nj nk dp mt le nl nm mv li nn no mx lm np nq mz nr bi translated">1.2分布的属性</h2><p id="026f" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">让我们检索Beta(2，6)的更多属性:矩和形状参数。我们分别计算它们，然后将它们收集在字典<em class="mf"> stats </em>中，在那里我们将它们与描述性名称配对，最后我们使用列表理解来逐行美化字典。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/fbe56d7ecf8318d62b63620bfa4e8004.png" data-original-src="https://miro.medium.com/v2/resize:fit:424/format:webp/1*R_Vih8ewz-ZTPi1NJCUyGg.png"/></div></figure><p id="568a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">为了一次获得四个核心统计量，即阶为4的矩，我们使用了带有关键字<em class="mf">矩=‘mvsk’:</em>均值、方差、偏斜度和峰度的<em class="mf">统计量</em>方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/d1d5c7a3a5a091398f703b9f0871d44b.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*ZTtAm2UoZC1quCRCoJXBnw.png"/></div></figure><p id="7de6" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们观察到一个<strong class="kx iu">偏斜度</strong>不同于我们从标准正态分布中得到的尺度0。偏斜度衡量分布关于其平均值的不对称性。Beta(2，6)是中度正偏、右尾或右偏的。它的曲线看起来是左倾的，但偏度指的是尾巴的不对称。尾部不会相互平衡，相反，分布的主体或质量集中在平均值的左边，而右边的尾部被拉长。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/d20c81243d5ad6f17230875b802834af.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*W7L35XnJcjNw6DlG7J7fzQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">1，000个随机变量的Beta(2，6)</p></figure><p id="6985" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">峰度是对分布“尾部”的度量(不是它的“峰值”，与各种来源提供的解释相反)。偏斜度测量尾部之间的不平衡<em class="mf">。相反，峰度高的分布在<em class="mf">或</em>尾部有产生更多异常值的倾向；它相对于中心是尾部加权的，因此它的中心看起来更薄。尾部比正态分布的平均值的三个标准差延伸得更远，这构成了其质量的99.7%。在金融或工程中，高峰值表示经历非常小或非常大的观察值的风险较高。</em></p><p id="2b2c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">作为衡量标准，正态分布的峰度为3.0。但是SciPy使用了<em class="mf">过度</em>峰度并将正态分布的度量校准为0。过度峰度衡量尾部与正态分布的差异程度。</p><p id="6b2b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Beta(2，6)有一个0.11的小正超额峰度。接近于零的值表示它是<em class="mf">中间型</em>-它的尾部仅比正态分布略重，因此其极值模式将是相似的。一个更有特色的正峰度使分布<em class="mf">变细</em>，意为“瘦”；它在x轴上的异常值离中心更远，因此看起来没那么大。相比之下，具有负峰度的宽峰分布有短尾巴；与正态分布相比，它表现出降低的极值倾向。它的行为更容易预测。我们的β(2，6)变量具有足够接近于零的过度峰度，我们可以认为它是中等峰度，仍然非常类似于正态分布。</p><h2 id="afb9" class="ng mk it bd ml nh ni dn mp nj nk dp mt le nl nm mv li nn no mx lm np nq mz nr bi translated">1.3冻结参数化</h2><p id="20ff" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">在之前的所有代码行中，我们一次又一次地引用beta(a，b ),将Beta(2，6)参数化。如果我们不需要在未来的代码行中修改参数，我们可以将分布对象及其当前参数赋给变量<em class="mf"> rv。SciPy称之为冻结随机变量对象。</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/bef021a83d632d9e272e2b969df82a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/1*NTP-wtwuLMDNvJI98DiWtg.png"/></div></figure><h2 id="7248" class="ng mk it bd ml nh ni dn mp nj nk dp mt le nl nm mv li nn no mx lm np nq mz nr bi translated">1.4获取概率和分位数</h2><p id="31da" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">我们引入另外两个函数:概率密度函数pdf和百分点函数ppf。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/5ba8910901bf5c488e1f5718b9b0dadd.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/format:webp/1*fNslfGYTmyMuhAitCKNE8w.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">可移植文档格式文件的扩展名（portable document format的缩写）</p></figure><p id="2a40" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">为了绘制概率密度函数pdf，我们通过让<em class="mf"> linspace() </em>绘制一条坐标点线来校准x轴。作为端点，我们选择1%和99%的分位数:这是β(2，6)分布分别以1%和99%的概率不会超过的x值。百分点函数ppf()提供了这些概率下的x值。最小值和最大值不适用于具有无界区域的许多分布:理论上，它们的x轴可以延伸到正和/或负无穷大，就像正态分布的情况一样；实际上，脚本会报告一个设置为无穷大的轴端点的错误。</p><h2 id="15c3" class="ng mk it bd ml nh ni dn mp nj nk dp mt le nl nm mv li nn no mx lm np nq mz nr bi translated">1.5发行版的领域或支持</h2><p id="0f88" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">贝塔分布的范围是什么？让我们通过调用它的<em class="mf"> support() </em>方法来询问SciPy。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/41d5402a1d1448f3356351252eae5b15.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*dgv0vSSwqAjKyZrzeBFeWg.png"/></div></figure><p id="f67a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">标准的贝塔分布沿着x轴从0延伸到1。在这一点上，它与以平均值0和标准偏差1为中心的标准正态分布没有什么不同，这意味着除了零左右3个偏差之外，标准正态分布只携带其质量的极小部分——尽管其尾部理论上确实延伸到无穷大，这些值被观察到的概率越来越小。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/7fee1ea8b80c32e99363b7cda5764451.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*_WHcAQQtSx-vFDt2V6nmwA.png"/></div></figure><p id="8d52" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">伽马(1，1)分布沿着x轴一直延伸到正无穷大。</p><p id="dc0a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">标准的贝塔分布对于许多实际应用来说太有限了。所以，除了它的两个形状参数，我们再给它配备位置和比例参数。“位置”和“比例”是参数化的，也适用于大多数其他SciPy发行版。</p><h2 id="61ef" class="ng mk it bd ml nh ni dn mp nj nk dp mt le nl nm mv li nn no mx lm np nq mz nr bi translated">1.6重新调整和改变分布</h2><p id="3bb5" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">我们通过在行5中输入beta(shape_a，shape_b，loc，scale)来定义移位和重新缩放的beta分布，并将结果赋给变量rv。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/0b6995d8ffa438264e4f8aacc03dd7ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*FHI9L8nmL6NgfL1p8VTvCg.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">可移植文档格式文件的扩展名（portable document format的缩写）</p></figure><p id="41cc" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">位置参数<em class="mf"> loc </em>沿x轴将其最小支持移动到值100；位置和比例之和将其最大值移动到100+220 = 320。这种分布可以很好地反映一种现实世界的现象，这种现象服从于100和320边界之间的随机过程或不确定性。</p><p id="8003" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，我们通过应用stats()计算前四个矩，并将结果元组转换为第3行中的一个列表。因为方差很难解释，我们也计算标准偏差，我们把它附加到第4行的矩列表中。我们写下五个指标的名称，然后将值列表与字典中的名称列表进行压缩组合<em class="mf"> moments </em>，最后将字典交给list comprehension，它将在第8行中一行一行地打印其内容。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi of"><img src="../Images/e3dfdd7bf77977fabdfc7acacda97989.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*JvL084vHPGRpVQPXGoBU8Q.png"/></div></div></figure><p id="cd62" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">随机过程以平均值155为中心，标准偏差为31.8。因为我们只移动和缩放了曲线，所以它的形状保持不变——它保留了它的偏斜度和过度峰度。</p><p id="ff16" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">让我们画出累积分布函数<em class="mf"> cdf </em>和它的逆函数，百分点或分位数函数<em class="mf"> ppf </em>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/4beab463b4bd16647199cd761e05bfe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*H9Pr7g2QmLkoZnaqxwqinQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">累积分布函数（Cumulative Distribution Function的缩写）</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/1b4eb5e5dd33bf20e2228ace44792742.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*YGtGfCOPHmEE9zgt8hV70g.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">反向cdf或ppf</p></figure><p id="a796" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们将x轴上选定的点(第2行中的均值、中值、1%和99%分位数)提供给cdf和pdf函数，以获得比浏览图表更精确的结果。第5行中的字典理解将x值(用作键)与cdf和pdf值组合，然后打印它们，cdf在左边，pdf在右边。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/bfdb6c8ca78d55bf607e7a8e34ba3311.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*eNOj402jY7oVXwBYnOSYDg.png"/></div></figure><ul class=""><li id="4135" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">在x = 150.3时，我们观察到中位数:50%的观察值x低于150.3。</li><li id="e5a2" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">在x = 241.5时，我们观察到99%的分位数-99%的x值不超过241.5。</li></ul><p id="57d2" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">最后，我们将cdf的累积概率传递给百分点函数ppf。第5行中的字典理解用ppf函数返回的分位数列表压缩了我们上面评估的x值。ppf计算的x值应该与我们传递给cdf的原始x值相匹配。在下表中，我们看到左侧列中的x值和右侧的匹配分位数。因此，我们证实了它们的一致性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/36a1befced570ff3fdf7894cdf61e7c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*2Ori-qWE5hXMW_DZjj5LDg.png"/></div></figure><h1 id="47fb" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">2.分布拟合</h1><h2 id="a6d7" class="ng mk it bd ml nh ni dn mp nj nk dp mt le nl nm mv li nn no mx lm np nq mz nr bi translated">2.1原则</h2><p id="27d1" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">描述随机过程时，首先想到的分布是正态分布。尽管它在教科书中占主导地位，但它不符合大量随机过程的条件:</p><ul class=""><li id="411a" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">正态分布关于它的平均值和中间值是对称的。但通常，观察数据表明，产生它们的随机过程是左偏或右偏的，尤其是如果定义域是有界的，例如，如果它在零处有一个硬最小值。</li><li id="1a5a" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">正态分布是无界的:它的定义域延伸到正负无穷大。大多数真实的现象都无法用无限的增长或数量来描述；或者它们不能假设负值，这使得正态分布的概率质量的一半无效。</li><li id="feaf" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">正态分布不是重尾的。许多随机过程，例如金融市场中的随机过程，表现出所谓的长尾效应:极端结果发生的概率——对工程或金融决策至关重要——高于正态分布本身的预测。</li></ul><p id="7d3e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们希望符合观测日期的候选分布应根据以下标准进行选择:</p><ul class=""><li id="b54f" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">随机过程的<strong class="kx iu">性质</strong>如果我们能辨别它的话。在现有的200多种分布模型中(是的，真的——甚至SciPy也没有列举出所有这些模型),许多模型都是为描述特定类型的随机过程而定制的。示例:为了模拟设备故障前的时间——如果故障取决于设备运行的时间——威布尔分布应该是拟合过程中选择的候选分布之一；疲劳寿命或伯恩鲍姆-桑德斯分布是模拟设备寿命的另一种方法。然而，排队——一种不同的随机过程——需要泊松变量来描述。</li><li id="d9ac" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">分布的<strong class="kx iu">域</strong>或<strong class="kx iu">支持</strong>代表定义它的x值的区间。例如，大多数自然现象和大多数技术过程不能假定为负值。技术故障间隔时间不能为负数。这些过程的候选分布需要有一个非负域。对他们中的一些人来说，这个领域是他们数学定义中固有的。其他的可以进行变换:它们可以被截断或移位，并重新缩放以将其重新校准到非负域，例如半正态分布。SciPy提供了位置和比例参数，用于将分布的域移动到适当的区间。大多数正态变量代表标准正态分布的移位和重标度变量:平均值从0移位到观察值或估计值；标准偏差已从1重新校准为围绕移动平均值的重新调整区间，因此，3个偏差范围内包含约99.7%的所有事件。</li><li id="fcb5" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">观测数据的<strong class="kx iu">形状</strong>。如果随机过程的性质不能被先验地描述，那么直方图的形状将提供关于例如对称、左偏或右偏分布是否将是更好的拟合的线索。</li><li id="0a75" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated"><strong class="kx iu">多模型验证:</strong>当我们运行数据科学模型时，我们不会将调查局限于单个模型。相反，我们将<strong class="kx iu">几个备选模型</strong>或至少备选超参数元组应用于数据。类似地，我们需要在拟合过程中尝试几种可选的分布。我们将传递给fitter的大量60+候选人将有助于确定我们不会因为缩短搜索而最终得到一个次优的模型。</li><li id="9d36" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated"><strong class="kx iu">拟合优度测试</strong>，如Kolmogorov-Smirnov测试，为我们提供了比图表更精确的测试结果，这些图表将观察值的直方图与拟合的分布曲线进行比较。</li></ul><h2 id="d390" class="ng mk it bd ml nh ni dn mp nj nk dp mt le nl nm mv li nn no mx lm np nq mz nr bi translated">2.2设备故障时间:拟合威布尔分布</h2><p id="5b13" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">在我们构建自动拟合器之前，我们希望了解如何将选定的个体分布拟合到观测数据中。让我们举一个例子，用威布尔分布来拟合设备寿命问题。</p><p id="bdee" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们将使用一个虚构的数据集:电子电路板的故障时间，该数据集将用于第一艘将宇航员送往火星的宇宙飞船。因此，在地球轨道之外的一些卡车停靠站将没有容易的方法来获得替换零件。</p><p id="7649" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">威布尔模型可以从数学上推导为平行失效过程中最薄弱环节出现的时间。它被广泛应用于可靠性工程、水文学、生物学或风能分析等领域。</p><p id="d873" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">SciPy的“威布尔最小极值”分布(<a class="ae ku" href="https://docs.scipy.org/doc/scipy/reference/tutorial/stats/continuous_weibull_min.html" rel="noopener ugc nofollow" target="_blank">威布尔最小极值分布—SciPy 1 . 7 . 1手册，与SciPy的“威布尔最大极值”变量相对)</a>相当于NIST解释的威布尔分布(美国国家标准与技术研究所，<a class="ae ku" href="https://www.itl.nist.gov/div898/handbook/eda/section3/eda3668.htm" rel="noopener ugc nofollow" target="_blank"> 1.3.6.6.8)。威布尔分布(nist.gov)</a>)和维基百科(<a class="ae ku" href="https://en.wikipedia.org/wiki/Weibull_distribution" rel="noopener ugc nofollow" target="_blank">威布尔分布—维基百科</a>)。您会发现，用于参数的符号在不同的源之间有很大的不同，将它们标识为形状、比例和位置更安全。</p><p id="cf77" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">SciPy以标准化的形式表达它的分布对象。weibull_min分布只有一个形状参数c(在维基百科中称为k，在NIST称为gamma，在其他来源中称为beta)。比例和位置参数是可选的。</p><ul class=""><li id="3074" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">如果形状&lt; 1: the failure rate decreases with time, after a kind of burn-in phase</li><li id="5a9d" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">if shape =1: constant failure rate =&gt;威布尔分布符合指数分布</li><li id="16f3" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">如果形状&gt; 1:故障率随时间增加</li></ul><p id="e40f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">比例参数——在各种来源中表示为λ、α或β——也称为<em class="mf">特征寿命</em>。随着比例的增加，威布尔分布变得更加对称，类似于正态分布。</p><p id="0d80" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">一个位置参数，如果包括在内形成一个三参数威布尔变量，也被称为<em class="mf">等待时间:</em>在L小时之前不会发生故障，L ≥ 0。</p><p id="bbcb" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，在等待电路板制造商提供真实数据的同时，我们创建了一组合成观察数据来准备我们的模型。我们希望模拟1000个组件的故障时间，以小时为单位，这些组件的测试数据很快就会到达。</p><p id="0b1f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们选择1.5的形状——因此，故障率随时间增加——和50，000小时的特征寿命或标度。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/a2068bdd4dd2461f726b29e26900523b.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*jXz5nFKR6aa2J9BWr5uPIA.jpeg"/></div></figure><p id="c44f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">右长尾表明实际数据相当右偏，高于1.0，而正态分布为0。故障从时间零点开始，因此不涉及等待时间或位置参数——相反，质量问题会在第一批电路通过工厂大门并在航天中心制成原型后立即出现并开始淘汰。</p><p id="4f73" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，我们将实际数据输入到第6行中weibull_min分布对象的<em class="mf"> fit() </em>函数中。</p><p id="3992" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">注意参数<em class="mf"> floc = 0 </em>。<em class="mf"> floc </em>表示我已经通过输入带有前缀‘f’的参数名称将位置参数的值固定为0。fit()函数将搜索形状和比例值，以便威布尔分布反映实际数据；但是它会将位置保持在0不变。原因是灵活的位置参数可以极大地影响形状和比例的值。如果我们不阻止fitter访问location参数，它会在所有三个参数之间寻找最佳折衷。如果我们没有关于随机过程的先验知识，我们可能会对位置犹豫不决。但是，如果我们知道故障可能从时间零点开始发生，即使实际记录开始得稍晚一些，我们也应该将位置设置为零，并让验配员专注于形状和比例，而不受不准确的位置值的不当干扰。验配员不应在较高的位置值与较高或较低的比例或形状值之间进行权衡。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/3b7eba1967dce53807aceee548b46a24.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*DlUuM7d2gEKf7sESmPbLHA.png"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/332567d7d2d9a0c8ad44d65d0eb68a1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*2bMo2cuWbrljvQ0bNrI7WQ.png"/></div></figure><p id="0cb6" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">pdf曲线紧密地跟踪直方图的轮廓。让我们用一个拟合优度的假设检验来确认视觉印象:Kolmogorov-Smirnov KS检验。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/8cccd79136f10376a5506b00c7a93711.png" data-original-src="https://miro.medium.com/v2/resize:fit:232/format:webp/1*pBo2xsMNQ-7WcVBBOAnjzg.png"/></div></figure><p id="6bff" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">KS检验非常高的p值几乎肯定地证实了三参数威布尔最小值(1.54，0，49201)变量反映了实际数据的结构。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/27d9e51d8177477730b25e143331850d.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*f5otEZZIjYJkaa9V6K7uDA.png"/></div></figure><p id="c157" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">平均无故障时间为45，137小时。</p><p id="708a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">让我们假设一个阈值时间点位于T = 20，000小时。在时间T之后，电路不再被认为是任务关键的，它们将完成它们被分配的任务。</p><ul class=""><li id="5f98" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">下面，我们计算累积分布函数cdf，它告诉我们在20，000小时后，所有电路的22.4%将已经烧坏。</li><li id="9ac0" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">生存函数sf(T)也可以计算为1 — cdf(T)。它报告说，在20，000小时时，77.6%的电路仍将起作用。</li><li id="6551" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">在10，000小时时，91.4%的电路将会存活。</li><li id="69fc" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">我们还观察到，在最初的500小时测试中，只有前0.1%的电路会出现故障。</li><li id="0250" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">百分点函数ppf告诉我们，直到1.0%的组件出现故障，需要2329个小时。因此，生产后立即进行500小时甚至2300小时的延长测试不会显著减少故障数量。大多数电路稍后会断开，即不会在地面条件下断开。</li><li id="06b9" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">我们的结论是，我们需要大量的备件库存来替换在最初的20，000小时内会烧毁的22.4%的电路；并且需要训练宇航员安装它们。或者，我们可以尝试提高电路设计的鲁棒性或减少使用时间。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/d6f2f5c5387464d14e6e34589e983034.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*8d9qvrVlf_KbkRmrm_TinA.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/c88f840b9b18c5f5697ebe8ddc7390b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*2o_80PeQL8eQhtW606HBFA.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi oq"><img src="../Images/e497c6e22abb002ae93886e1614b204c.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*VAqUciu9AGm5kqV_Qsb-AQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/ba843a562e57b745eb324b180fd757b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*237GV02wrr60i5FyxzqQ5g.png"/></div></figure><h1 id="681b" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">3.自动装配工</h1><p id="6d57" class="pw-post-body-paragraph kv kw it kx b ky nb ju la lb nc jx ld le nd lg lh li ne lk ll lm nf lo lp lq im bi translated">SciPy提供了一种方法。分别为每个分布对象安装()。为了建立多模型评估流程，我们将为自动验配程序编写一个脚本。我们将把60个候选人的列表输入到装配员的嘴里，让它找到一个与实际观察最接近的随机变量。</p><p id="06ca" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们从KS拟合优度测试的函数开始，该函数将被调用60次，以比较给定候选分布与实际数据的距离。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="03cb" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，我们编写一个短函数<em class="mf"> fitdist()，</em>，它适合所选的候选项，然后调用KS测试。和以前一样，我们将所有候选对象的位置参数冻结为0:<em class="mf">floc = 0</em>。这是一个默认设置，如果您想扩大解决方案的范围，可以选择修改它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="ea8d" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">第二行让列表理解发挥作用。理解从脚本顶部的列表<em class="mf">分布、</em>中提取每个分布对象，并将其传递给fitter函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="bdc0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">comprehension <em class="mf"> res </em>返回所有拟合分布的参数，以及它们各自KS测试的p值，并将它们列表在数据框中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi os"><img src="../Images/12a1d8ab3f6b9ccd84be3704b55f9505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fKy8P66v4GrrW5zfGbQ7mw.png"/></div></div></figure><p id="7358" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">数据框包含61个拟合分布及其参数。</p><p id="7627" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们准备了一个绘图函数，可以绘制出函数调用方传递给它的所有分布。</p><p id="3e9e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">绘图功能</p><ul class=""><li id="5d4c" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">确定绘制数据帧中的所有分布需要多少行，每行三个子图，</li><li id="3099" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">从数据帧中提取分布的行及其参数，</li><li id="c840" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">忽略具有NaN值的参数，</li><li id="c756" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">将x轴的端点校准到1%和99%分位数，</li><li id="db42" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">绘制实际观察值的直方图，</li><li id="0d63" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">并绘制所选分布的pdf。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="0e42" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在调用绘图函数之前，我们在第2行中进行选择:我们只需要那些显示KS测试结果的候选分布的图表，其p值高于显著性水平ALPHA = 0.05。我们忽略提供更差匹配的候选人。在这个例子中，61个候选人中只有6个成功通过了KS测试。在代码调用绘图仪函数<em class="mf"> plot_fitted_pdf() </em>之前，脚本创建一个数据帧df_ks，该数据帧仅限于这六个ks批准的发行版。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi ot"><img src="../Images/ca1e9bc20d8deca18524aeb0c007c6bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ulROz4XWHjcUzEYMH8RDgg.png"/></div></div></figure><ul class=""><li id="fde0" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">不出所料，双参数威布尔最小分布以42.5%的p值领先该领域。</li><li id="b5ae" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">具有2个形状值和1个比例值的3参数Beta分布达到35.2%。</li><li id="1ab6" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">双参数Nakagami分布是Gamma家族的亲戚，达到26.9%的固体p值。</li><li id="9ee5" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">非中心f分布、Mielke分布和Burr分布是更奇特的候选分布，其p值超过了显著性阈值，但与威布尔分布和贝塔分布相比，拟合质量有所下降。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi ou"><img src="../Images/db4e0693a12f1414d884348fa6c82fdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pjekZ0ECpx3H6ZR88z4Vlw.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi ov"><img src="../Images/27b7ba69b4797113778dc9cb835ad8e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ns-zEN3U_LWQ439ntlmMHw.png"/></div></div></figure><p id="4ea0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">脚本选择具有最高KS p值的候选，weibull_min，并将其赋给变量<em class="mf"> D_opt </em>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi ow"><img src="../Images/3575062abddb7f94ce369124e5e5bb71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WvtajZUUgLXVn_HOXdoC7Q.png"/></div></div></figure><p id="3bba" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们可以开始检查和处理这个最佳拟合，就像我们在示例中处理任何其他分布实例一样。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/75ad6abfa1f88d0a183b015c34994d51.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*2BPds6iIstNV2GssFZQJWw.png"/></div></figure><ul class=""><li id="5d6b" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">stats()函数报告拟合分布的四个主要矩。</li><li id="ec57" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">我们可以获得平均故障时间，并询问在该时间点有百分之多少的组件会发生故障:57.8%。统计和百分点函数告诉我们平均无故障时间将是42，879小时。当所有电路的50%将变暗时，平均故障时间将为36，949小时。</li><li id="25d3" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">威布尔最小分布的支持当然是在从时间零到正无穷大的区间内。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi oy"><img src="../Images/d1cff2e764d610a57b2cae9de5465e93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JUk0cjiH1sINx6SCSmXpJA.png"/></div></div></figure><p id="f9f4" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">今天的教程到此结束。</p><ul class=""><li id="8db7" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">我们已经回顾了SciPy的分布类以及与它们相关的方法和属性。</li><li id="a712" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">我们将选定的分布(威布尔最小值)拟合到一组代表故障时间观察值的合成数据中，从而模拟了可靠性工程中的一个问题。</li><li id="8b00" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">最后，我们编写了一个更合适的过程，根据61个候选分布的列表测试实际分布，其中三个在我们的示例中提供了非常好的拟合，当我们对它们运行Kolmogorov-Smirnov测试函数时，p值超过20%。</li></ul><p id="feb3" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Jupyter笔记本可以在GitHub上下载:<a class="ae ku" href="https://github.com/h3ik0th/DistFitter" rel="noopener ugc nofollow" target="_blank">h3ik0th/dist fitter:SciPy distribution fitting(github.com)</a></p><ul class=""><li id="8d58" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">标题图片:皮查拜的Myriams-Fotos</li><li id="51fa" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">所有其他图片:作者</li></ul></div></div>    
</body>
</html>