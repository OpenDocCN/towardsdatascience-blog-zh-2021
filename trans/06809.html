<html>
<head>
<title>Do Not Use Print For Debugging In Python Anymore</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不要再在Python中使用Print进行调试了</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/do-not-use-print-for-debugging-in-python-anymore-6767b6f1866d?source=collection_archive---------0-----------------------#2021-06-20">https://towardsdatascience.com/do-not-use-print-for-debugging-in-python-anymore-6767b6f1866d?source=collection_archive---------0-----------------------#2021-06-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/0312b5669375f68748e85801051dc03c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QGtCXNsurnfKhV9sREZIjw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3611698" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/ritae-19628/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3611698" rel="noopener ugc nofollow" target="_blank"> RitaE </a></p></figure><div class=""/><div class=""><h2 id="2b69" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">Python中用于调试的改进的“打印”函数</h2></div><p id="0ae2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Python中最常用的函数是什么？嗯，可能在大多数编程语言中，它必须是<code class="fe lu lv lw lx b">print()</code>函数。我相信大多数像我一样的开发人员会在开发过程中多次使用它将消息打印到控制台中。</p><p id="86b4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，没有替代方案可以完全取代<code class="fe lu lv lw lx b">print()</code>功能。然而，当我们出于调试目的想要输出一些东西时，肯定有更好的方法。在本文中，我将介绍一个非常有趣的Python第三方库，名为“Ice Cream”。它可以为快速简单的调试提供很多便利。</p><h1 id="865f" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">一个坏例子</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/178937ce28fad97f281c46327710cf2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oaivoTnqqtoKb2gFcq_ynw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=350376" rel="noopener ugc nofollow" target="_blank">pix abay</a>Krzysztof Pluta</p></figure><p id="6012" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">先说一个相对不好的例子。假设我们已经定义了一个函数，我们想看看它是否像预期的那样工作。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="04db" class="my lz jj lx b gy mz na l nb nc">def square_of(num):<br/>    return num*num</span></pre><p id="b67e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个函数只是返回作为参数传入的数字的平方。我们可能需要多次测试，如下所示。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="f5f4" class="my lz jj lx b gy mz na l nb nc">print(square_of(2))<br/>print(square_of(3))<br/>print(square_of(4))</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/8c784e50939a976bd5c77f673faffcf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*cmnoulzNyRbm6_Gnp9Eivg.png"/></div></figure><p id="85ac" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在这样还可以。然而，在实践中我们会有更多的代码行。此外，可能有许多<code class="fe lu lv lw lx b">print()</code>函数将不同的东西打印到输出区域。在这种情况下，有时我们可能会搞不清楚哪个输出是由哪个<code class="fe lu lv lw lx b">print()</code>函数生成的。</p><p id="288d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，给<code class="fe lu lv lw lx b">print()</code>函数的内容添加一些简短的描述来提醒我们它是关于什么的是一种很好的方式。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="9c52" class="my lz jj lx b gy mz na l nb nc">print('square of 2:', square_of(2))<br/>print('square of 3:', square_of(3))<br/>print('square of 4:', square_of(4))</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/209dc63437a4a6562b3067181cc01589.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*6b9iEu8fYUES59HUhaGuoA.png"/></div></figure><p id="44dd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在好多了，但是每次都这样太累了。此外，当我们完成开发时，很可能不得不删除大多数调试打印。</p><h1 id="2bf9" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">基本用法—检查变量</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/baea2090a8efb99f01bb9ff218d85ffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d8137Xr_4yfL2vN0TRO2Nw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/stocksnap-894430/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=926426" rel="noopener ugc nofollow" target="_blank"> StockSnap </a>来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=926426" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="24bf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看看冰淇淋图书馆。它如何解决上面提到的问题？</p><p id="6cbe" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们需要使用<code class="fe lu lv lw lx b">pip</code>从PyPI存储库中安装它。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="c475" class="my lz jj lx b gy mz na l nb nc">pip install icecream</span></pre><p id="3a19" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们按如下方式导入库。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="9089" class="my lz jj lx b gy mz na l nb nc">from icecream import ic</span></pre><p id="e96d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们可以用它来打印任何我们想打印的调试信息。</p><h2 id="6300" class="my lz jj bd ma nf ng dn me nh ni dp mi lh nj nk mk ll nl nm mm lp nn no mo np bi translated">调用函数</h2><p id="532f" class="pw-post-body-paragraph ky kz jj la b lb nq kk ld le nr kn lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">我们可以直接使用冰淇淋打印功能，就像我们之前使用<code class="fe lu lv lw lx b">print()</code>功能所做的一样。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="de58" class="my lz jj lx b gy mz na l nb nc">ic(square_of(2))<br/>ic(square_of(3))<br/>ic(square_of(4))</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/02f9a9495814a2e4857865f0d1a19529.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*i7svAYVijTl32TYe_PgJzQ.png"/></div></figure><p id="958a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">太好了！我们从不在<code class="fe lu lv lw lx b">ic()</code>函数中指定任何东西，但是它会自动输出函数名和参数以及结果。因此，我们不必再手动添加“简要描述”了。</p><h2 id="ba45" class="my lz jj bd ma nf ng dn me nh ni dp mi lh nj nk mk ll nl nm mm lp nn no mo np bi translated">查阅字典</h2><p id="58e2" class="pw-post-body-paragraph ky kz jj la b lb nq kk ld le nr kn lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">不仅仅是调用一个函数，Ice Cream还可以输出所有便于调试的详细内容，比如访问字典的键值对。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="0df7" class="my lz jj lx b gy mz na l nb nc">my_dict = {<br/>    'name': 'Chris',<br/>    'age': 33<br/>}</span><span id="5319" class="my lz jj lx b gy nw na l nb nc">ic(my_dict['name'])</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/1f1cc016513a0737540217de55628a63.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*IRXiVGu6ihhAZVgue8T9ng.png"/></div></figure><p id="c91b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个例子中，我定义了一个字典，并试图从它的键中访问其中的一个值。冰淇淋输出了字典的变量名和我正在访问的键。</p><h2 id="d099" class="my lz jj bd ma nf ng dn me nh ni dp mi lh nj nk mk ll nl nm mm lp nn no mo np bi translated">访问对象的属性</h2><p id="dee0" class="pw-post-body-paragraph ky kz jj la b lb nq kk ld le nr kn lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">再举一个例子，让我们定义一个类并从中实例化一个对象。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="6faa" class="my lz jj lx b gy mz na l nb nc">class Dog():<br/>    num_legs = 4<br/>    tail = True</span><span id="e9fc" class="my lz jj lx b gy nw na l nb nc">dog = Dog()</span></pre><p id="bcae" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们用冰淇淋来输出它的一个属性。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="652f" class="my lz jj lx b gy mz na l nb nc">ic(dog.tail)</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/d761b5b0c5b0d90f86135ea5d70c5ed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*Tpy0WT4oTD-yPq9S02ukrg.png"/></div></figure><h1 id="af58" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">在If条件下调试</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/67bef95b527abeb67a777d5d9595c8d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YlhRqeYdKwjOllRrEEGsAQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2239377" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/silviarita-3142410/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2239377" rel="noopener ugc nofollow" target="_blank"> silviarita </a></p></figure><p id="185a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">冰激凌库不仅在检查变量时有用，在控制语句(如if条件)中也很有用。比如，我们写一个简单的if-else条件如下。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="b8cc" class="my lz jj lx b gy mz na l nb nc">input = 'Chris'</span><span id="64c8" class="my lz jj lx b gy nw na l nb nc">if input == 'Chris':<br/>    ic()<br/>else:<br/>    ic()</span></pre><p id="20b0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们只是把冰激凌函数放在if和else块中，看看会发生什么。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/129572b814c62a38bfba45da53876ae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*YNtvAbeyV0pYfxbF_IxzbQ.png"/></div></figure><p id="40f8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然if-else语句此刻什么都不做，但是<code class="fe lu lv lw lx b">ic()</code>函数仍然告诉我们它在何时何地被调用过，以及行号。</p><p id="0959" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">顺便说一句，我用Python笔记本做这个演示。如果这是运行在一个”。py”文件，它还会告诉我们调用它的文件名。</p><p id="aa29" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们考虑一个更实际的用法如下。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="7058" class="my lz jj lx b gy mz na l nb nc">def check_user(username):<br/>    if username == 'Chris':<br/>        # do something<br/>        ic()<br/>    else:<br/>        # do something else<br/>        ic()</span><span id="fd53" class="my lz jj lx b gy nw na l nb nc">check_user('Chris')<br/>check_user('Jade')</span></pre><p id="06f7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该功能将为不同的用户做一些事情。出于调试目的，我们总是想知道哪个是当前用户。然后，<code class="fe lu lv lw lx b">ic()</code>函数会一直告诉我们。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/508ed4b13f843693a913df63926aaa66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*mKri_wlWNTLZiVWN9t2UZw.png"/></div></figure><h1 id="41e2" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">插入到现有代码中</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/944cce47035a1943bc1d4b61c56e3691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bl4Tnnt5txzsktwPqGF7jA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/stocksnap-894430/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2576622" rel="noopener ugc nofollow" target="_blank"> StockSnap </a>从<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2576622" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>获取</p></figure><p id="69c2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我看来，冰淇淋图书馆的这一酷功能需要得到强调。也就是说，<code class="fe lu lv lw lx b">ic()</code>函数不仅会输出详细信息，还会传递值，以便它可以是任何内容的包装。换句话说，我们可以把<code class="fe lu lv lw lx b">ic()</code>函数放到代码中的任何地方，而不会影响它。</p><p id="cc2f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们继续使用我们在上一节中定义的<code class="fe lu lv lw lx b">sqaure_of()</code>函数。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="80e0" class="my lz jj lx b gy mz na l nb nc">num = 2</span><span id="b569" class="my lz jj lx b gy nw na l nb nc">square_of_num = square_of(ic(num))</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/198cdc560675dc71f9ef03efeeeddaca.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*fR_FtfFelp7viEvuxDwBfQ.png"/></div></figure><p id="ff8d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个例子中，假设我们有一个变量<code class="fe lu lv lw lx b">num</code>，我们想计算它的平方。我把<code class="fe lu lv lw lx b">ic()</code>函数放在变量<code class="fe lu lv lw lx b">num</code>之外，而不是<code class="fe lu lv lw lx b">square_of(num)</code>。因此，变量<code class="fe lu lv lw lx b">num</code>的值被打印，分配给<code class="fe lu lv lw lx b">square_of_num</code>的结果不会受到影响。</p><p id="b904" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以如下测试结果。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="d709" class="my lz jj lx b gy mz na l nb nc">if ic(square_of_num) == pow(num, 2):<br/>    ic('Correct!')</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/c77ac26ff7024d961ed0882402e2d346.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*BNsneL_MCQZfcz4zHTZd9Q.png"/></div></figure><p id="5a45" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，<code class="fe lu lv lw lx b">square_of_num</code>等于变量<code class="fe lu lv lw lx b">num</code>的平方。还有，在这个if-condition中，我也在不影响用途的情况下使用了<code class="fe lu lv lw lx b">ic()</code>函数，但是打印变量<code class="fe lu lv lw lx b">square_of_num</code>是为了调试！</p><h1 id="5646" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">禁用冰淇淋</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/c15a3974ce38367108b949588ee40dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4y7b9zp5C9i0yayRzLwAuQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1245727" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/photos/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1245727" rel="noopener ugc nofollow" target="_blank">免费照片</a></p></figure><p id="dbc4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用<code class="fe lu lv lw lx b">print()</code>函数进行调试的最大问题之一是它们太多了。当我们完成开发时，到处都有它们是很常见的。那么，如果我们想清理代码来删除它们，那将是一场灾难。</p><p id="5bec" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们正在使用冰淇淋库进行调试，我们需要做的就是简单地禁用它。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="dcf7" class="my lz jj lx b gy mz na l nb nc">ic.disable()</span></pre><p id="9d46" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">之后，所有的<code class="fe lu lv lw lx b">ic()</code>功能将停止输出任何东西。例如，下面的代码将不输出任何内容。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi od"><img src="../Images/43cbd233e209d74d22aacc41dab39941.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*iHHl5Ga4p3bBjqLWQkestQ.png"/></div></figure><p id="9ba0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可能会问，变量<code class="fe lu lv lw lx b">square_of_num</code>呢？如果我们禁用了冰淇淋功能，它还会通过吗？别担心，禁用功能只会禁用输出，我们不需要担心任何其他功能。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="00ee" class="my lz jj lx b gy mz na l nb nc">if ic(square_of_num) == pow(num, 2):<br/>    print('Correct!')</span></pre><p id="7dbf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们把输出变回<code class="fe lu lv lw lx b">print()</code>函数，它仍然可以输出。这意味着<code class="fe lu lv lw lx b">ic(square_of_num)</code>仍然相当于<code class="fe lu lv lw lx b">square_of_num</code>。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/8020242e62e5a8c45980b01cb5402551.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*q2DdkNswFvVDRdSctdyY1w.png"/></div></figure><p id="231e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，如果我们想回到调试模式，冰淇淋可以重新启用。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="f325" class="my lz jj lx b gy mz na l nb nc">ic.enable()</span></pre><h1 id="1897" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">定制冰淇淋输出</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/22cd58b7435ee874c39015a0f9acc500.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*135y3gBLd41SJX17zyatQQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=410330" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/jeshoots-com-264599/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=410330" rel="noopener ugc nofollow" target="_blank">Jan vaek</a></p></figure><p id="2423" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">冰淇淋也可以根据产量进行定制。最常用的定制是改变前缀。您可能已经注意到，默认输出总是带有前缀<code class="fe lu lv lw lx b">ic | </code>。是的，我们可以定制。</p><p id="b1d4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，我们可以将其更改为<code class="fe lu lv lw lx b">Debug |</code>，这对其调试目的更有意义。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="8e29" class="my lz jj lx b gy mz na l nb nc">ic.configureOutput(prefix='Debug | ')<br/>ic('test')</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi of"><img src="../Images/569a69444aff13e84fafe59ba6918a94.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*bm0s5MRQumzr8Mpm17xP7w.png"/></div></figure><p id="e074" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实上，前缀也可以设置为函数，而不是静态字符串。例如，让我们定义一个以格式化字符串返回当前时间戳的函数。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="cd33" class="my lz jj lx b gy mz na l nb nc">from datetime import datetime</span><span id="5783" class="my lz jj lx b gy nw na l nb nc">def now():<br/>    return f'[{datetime.now()}] '</span></pre><p id="74e7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们可以将该函数设置为冰淇淋前缀。</p><pre class="mq mr ms mt gt mu lx mv mw aw mx bi"><span id="1068" class="my lz jj lx b gy mz na l nb nc">ic.configureOutput(prefix=now)<br/>ic('test')</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/d8a745b34a85e98c385adab1b7781f32.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*NNJF0N8e-qAwrPPGeMHiCw.png"/></div></figure><h1 id="3329" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">摘要</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6ba5895673f89184e4c8be1f65f4e976.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V11kGQli6jMKdFs1F_jlzg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5928048" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/kerdkanno-1334070/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5928048" rel="noopener ugc nofollow" target="_blank"> Seksak Kerdkanno </a></p></figure><p id="a110" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我介绍了一个很棒的Python第三方库，叫做“冰激凌”。它用详细输出增强了Python的常规<code class="fe lu lv lw lx b">print()</code>功能。因此，它使得调试非常方便。</p><p id="a634" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">冰激凌库永远不会取代<code class="fe lu lv lw lx b">print()</code>函数，因为它是为调试目的而设计的。此外，这也不意味着要替换日志记录系统。在我看来，它介于这两者之间。快来看看，试试吧！</p><div class="is it gp gr iu og"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd jk gy z fp ol fr fs om fu fw ji bi translated">通过我的推荐链接加入Medium克里斯托弗·陶</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ja og"/></div></div></a></div><p id="dd70" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入Medium会员来支持我和成千上万的其他作者！(点击上面的链接)</p></div></div>    
</body>
</html>