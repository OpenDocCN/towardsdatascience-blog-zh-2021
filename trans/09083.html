<html>
<head>
<title>PyQt &amp; Relational Databases</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PyQt &amp;关系数据库</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pyqt-relational-databases-e6bdbed7ebdf?source=collection_archive---------13-----------------------#2021-08-22">https://towardsdatascience.com/pyqt-relational-databases-e6bdbed7ebdf?source=collection_archive---------13-----------------------#2021-08-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6fa8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">易于使用的全功能部件，用于处理关系数据库数据。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b1f33a630ed2ebb6affd387dedd02529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8W186Oc71SMIevOj"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@sigmund?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">西格蒙德</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="a66f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python是一种简单易学、功能强大的编程语言。</p><p id="c5da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以获得复杂的输出，并且与其他语言相比，您需要编写的代码行要少得多。</p><p id="6a9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，当涉及到GUI应用程序开发时，您可能会遇到困难。尤其是当你需要处理巨大的数据集时。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="19e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文是PyQt &amp;关系数据库系列的一部分:</p><div class="mc md gp gr me"><div role="button" tabindex="0" class="ab bv gv cb fp mf mg bn mh ks ex"><div class="mi l"><div class="ab q"><div class="l di"><img alt="Stefan Melo" class="l de bw mj mk fe" src="../Images/b28b9ceb41c488532f34fbb9b4e5b485.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*ulugY22Ollx0QvWgTOPQSg.jpeg"/><div class="fb bw l mj mk fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://melo-stefan.medium.com/?source=post_page-----e6bdbed7ebdf--------------------------------" rel="noopener follow" target="_top">斯特凡·梅洛</a></p></div></div><div class="mn mo gw l"><h2 class="bd iu ui ov fp uj fr fs no fu fw is bi translated">PyQt &amp;关系数据库系列</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi uk au ul um un qz uo an eh ei up uq ur el em eo de bk ep" href="https://melo-stefan.medium.com/list/pyqt-relational-databases-series-9ded67b27631?source=post_page-----e6bdbed7ebdf--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="us l fo"><span class="bd b dl z dk">6 stories</span></div></div></div><div class="na dh nb fp ab nc fo di"><div class="di ms bv mt mu"><div class="dh l"><img alt="" class="dh" src="../Images/edba3e23850732675eaf821bf15d8dfe.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*-lqsR31ZIk0x2h0I"/></div></div><div class="di ms bv mv mw mx"><div class="dh l"><img alt="" class="dh" src="../Images/dac62b021212cceabb22d8eb8de637ba.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*hGqwpPX6N-yLYsC4"/></div></div><div class="di bv my mz mx"><div class="dh l"><img alt="" class="dh" src="../Images/f544d0802f13c5585dbcd029343af724.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*s6zoQDf6AOkb-_ET"/></div></div></div></div></div><p id="f3f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nh">如果你想阅读更多这样的内容，成为会员:</em> </strong></p><div class="mc md gp gr me ni"><a href="https://melo-stefan.medium.com/membership" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">加入我的推荐链接-斯特凡梅洛媒体</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">melo-stefan.medium.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw ks ni"/></div></div></a></div><p id="1e78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nh">或者你可以订阅我下面的简讯。谢谢你。</em>T13】</strong></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="5b20" class="nx ny it bd nz oa ob dn oc od oe dp of li og oh oi lm oj ok ol lq om on oo op bi translated">为什么选择PyQt？</h2><p id="762e" class="pw-post-body-paragraph kz la it lb b lc oq ju le lf or jx lh li os lk ll lm ot lo lp lq ou ls lt lu im bi translated">python中GUI的第一个问题是选择合适的框架。</p><p id="bdab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于数据库应用，我强烈推荐PyQt。它保存了大量的样板代码，并且它的数据库支持是广泛的。</p><p id="aa1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，我已经尽可能避免第三方模块导入。这种方法最重要的优点是在包更新时与代码无关。</p><p id="3411" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，维护工作大大减少。除了python的内部模块之外，这里唯一需要的包是PyQt。</p><p id="f1af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:我假设您熟悉</p><ul class=""><li id="a044" class="ov ow it lb b lc ld lf lg li ox lm oy lq oz lu pa pb pc pd bi translated"><em class="nh"> PyQt安装</em></li><li id="bf85" class="ov ow it lb b lc pe lf pf li pg lm ph lq pi lu pa pb pc pd bi translated"><em class="nh">框架的基本用法</em></li><li id="62bf" class="ov ow it lb b lc pe lf pf li pg lm ph lq pi lu pa pb pc pd bi translated"><em class="nh"> SQLite数据库</em></li><li id="b09d" class="ov ow it lb b lc pe lf pf li pg lm ph lq pi lu pa pb pc pd bi translated"><em class="nh">关系数据库基础</em></li></ul><h2 id="7f7e" class="nx ny it bd nz oa ob dn oc od oe dp of li og oh oi lm oj ok ol lq om on oo op bi translated">关系数据库</h2><p id="f188" class="pw-post-body-paragraph kz la it lb b lc oq ju le lf or jx lh li os lk ll lm ot lo lp lq ou ls lt lu im bi translated">理解关系数据库至少由两个表组成是很重要的，这是最简单的情况。为了避免我们的例子看起来无聊，我们将有三个表。</p><p id="83e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nh">关系数据库</em> </strong>根据特定标准将数据分组到表格中。一些表可以相互关联；它们是联系在一起的。</p><p id="d9b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些链接基于<em class="nh">共享的</em>数据。与其挑战定义，不如让我们看一个相关表的例子。</p><h2 id="f496" class="nx ny it bd nz oa ob dn oc od oe dp of li og oh oi lm oj ok ol lq om on oo op bi translated">我们的例子</h2><p id="7067" class="pw-post-body-paragraph kz la it lb b lc oq ju le lf or jx lh li os lk ll lm ot lo lp lq ou ls lt lu im bi translated">为了保持简单，我们将使用SQLite数据库。这个决定背后有多种理由。</p><p id="4ffd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SQLite是一个快速、小型、独立、高度可靠、功能全面的SQL数据库引擎。</p><p id="d804" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据库存储在单个磁盘文件中。任何人都可以出于任何目的访问它，<code class="fe pj pk pl pm b">sqlite3</code>模块是python的内置模块。</p><p id="5c38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们用一些数据创建主表“订单”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/9c6d60f3ae8cf42791fe68368a424e7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*14Ur9mCJZlaNHnlz-rhF4g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表格“订单”</p></figure><p id="f20a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们有了一个基本的<em class="nh">订单预订系统</em>来玩。这个表很难看，因为它包含了非人类可读的值。是的，的确！</p><p id="4690" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管<code class="fe pj pk pl pm b">OrderID</code>、<code class="fe pj pk pl pm b">Customer_id</code>和<code class="fe pj pk pl pm b">Product_id</code>值有意义——它们是id，但是在<code class="fe pj pk pl pm b">Price</code>列和<code class="fe pj pk pl pm b">Product_id</code>列中有相同的奇怪值。</p><p id="0cf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不是意外。表<code class="fe pj pk pl pm b">orders</code>中的<code class="fe pj pk pl pm b">Price</code>值不是实际价格。是对<code class="fe pj pk pl pm b">products</code>表中<code class="fe pj pk pl pm b">Product_id</code>的引用。每当<code class="fe pj pk pl pm b">Product_id</code>改变时，将<code class="fe pj pk pl pm b">Product_id</code>值赋给<code class="fe pj pk pl pm b">Price</code>是开发者的责任。</p><p id="cad1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还有<code class="fe pj pk pl pm b">customers</code>和<code class="fe pj pk pl pm b">products</code>表格，如下所示。这些表格保存了<code class="fe pj pk pl pm b">orders</code>表格所需的信息(值)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/5b930c0fdde95c70766a34ae5af7d9d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ZHZj6YZCjOnbk5TFNd37w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表“客户”</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/48d69764ec2e57ba06f20c7303723a42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sQfulH8hGc2a6kWC4D9BDg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表“产品”</p></figure><h2 id="16ce" class="nx ny it bd nz oa ob dn oc od oe dp of li og oh oi lm oj ok ol lq om on oo op bi translated">应用程序设置</h2><p id="37c1" class="pw-post-body-paragraph kz la it lb b lc oq ju le lf or jx lh li os lk ll lm ot lo lp lq ou ls lt lu im bi translated">让我们现在开始编码。首先，我们导入不可避免的模块。</p><pre class="kj kk kl km gt pq pm pr ps aw ng bi"><span id="1f81" class="nx ny it pm b gy pt pu l pv pw">import sys<br/>from PyQt6.QtWidgets import QApplication, QMainWindow, QMessageBox, QTableView<br/>from PyQt6.QtSql import QSqlDatabase, QSqlRelation, QSqlRelationalTableModel</span></pre><p id="114c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我想说明一下，我用的是PyQt6。然而，该代码将与PyQt5一起工作，没有任何问题。</p><p id="8431" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将包含运行PyQt应用程序所需的典型代码片段。没什么特别的。</p><pre class="kj kk kl km gt pq pm pr ps aw ng bi"><span id="041e" class="nx ny it pm b gy pt pu l pv pw">if __name__ == "__main__":<br/>    app = QApplication(sys.argv)<br/>    form = MainWindow()<br/>    form.show()<br/>    app.exec()</span></pre><p id="4f56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们创建了<code class="fe pj pk pl pm b">app</code>，PyQt <code class="fe pj pk pl pm b">QApplication</code>类的一个实例，<code class="fe pj pk pl pm b">form</code>是<code class="fe pj pk pl pm b">MainWindow</code>类的一个实例；我们稍后会创建它。</p><p id="7d81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们确保表单会显示出来，并执行<code class="fe pj pk pl pm b">app</code>。</p><p id="16a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将创建一个返回布尔值的函数<code class="fe pj pk pl pm b">createConnection()</code>。</p><p id="1915" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该函数将处理数据库连接，并在一切正常且数据库连接稳定时返回<code class="fe pj pk pl pm b">True</code>。</p><pre class="kj kk kl km gt pq pm pr ps aw ng bi"><span id="34b1" class="nx ny it pm b gy pt pu l pv pw"><em class="nh"># Type hint for return value</em><br/>def createConnection() -&gt; bool:<br/>    <em class="nh"># SQLite type database connection instance</em>    <br/>    con = QSqlDatabase.addDatabase('QSQLITE') <br/>    <em class="nh"># Connect to the database file</em><br/>    con.setDatabaseName('testDB.db')<br/>    <em class="nh"># Show message box when there is a connection issue</em><br/>    if not con.open():<br/>        QMessageBox.critical(<br/>            None,<br/>            'QTableView Example - Error!',<br/>            'Database Error: %s' % con.lastError().databaseText(),<br/>        )<br/>        return False<br/>    return True</span></pre><p id="512d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们不希望应用程序在没有正确的数据库连接的情况下启动。</p><p id="f59c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">验证链接的最佳时机是在GUI完全启动之前。所以我们必须修改上面的应用程序初始化代码。</p><pre class="kj kk kl km gt pq pm pr ps aw ng bi"><span id="e7f2" class="nx ny it pm b gy pt pu l pv pw">if __name__ == "__main__":<br/>    app = QApplication(sys.argv)<br/>    <strong class="pm iu">if not createConnection():<br/>        sys.exit(1)</strong><br/>    form = MainWindow()<br/>    form.show()<br/>    app.exec()</span></pre><h2 id="ea70" class="nx ny it bd nz oa ob dn oc od oe dp of li og oh oi lm oj ok ol lq om on oo op bi translated">创建图形用户界面</h2><p id="109f" class="pw-post-body-paragraph kz la it lb b lc oq ju le lf or jx lh li os lk ll lm ot lo lp lq ou ls lt lu im bi translated">是时候为方便的数据呈现编写我们想要的GUI了。</p><p id="27e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经准备好了应用程序的主窗体(窗口)。你可以在上面的<code class="fe pj pk pl pm b">form = MainWindow()</code>中看到，这个<code class="fe pj pk pl pm b">MainWindow</code>类的实例名为<code class="fe pj pk pl pm b">form</code>。尽管如此，我们还是没有<code class="fe pj pk pl pm b">MainWindow</code>级！</p><p id="323f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在就做点什么。这是最吸引人的部分。</p><p id="286c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我现在可以透露，我们将使用<code class="fe pj pk pl pm b">QTableView</code>小部件。它有我们需要的魔力。</p><pre class="kj kk kl km gt pq pm pr ps aw ng bi"><span id="ce58" class="nx ny it pm b gy pt pu l pv pw"><em class="nh"># Inherit from QMainWindow</em><br/>class MainWindow(QMainWindow):<br/>    def __init__(self, parent = None):<br/>        super().__init__(parent)<br/>        <em class="nh"># Set the window title</em><br/>        self.setWindowTitle('QTable Example')<br/>        <em class="nh"># Create the model</em><br/>        model = QSqlRelationalTableModel(self)<br/>        <em class="nh"># Set the table to display</em><br/>        model.setTable('orders')<br/>        <em class="nh"># Set relations for related columns to be displayed</em><br/>        model.setRelation(1, QSqlRelation('products', 'ProductID', 'Price'))<br/>        model.setRelation(2, QSqlRelation('customers', 'CustomerID', 'Customer'))<br/>        model.setRelation(3, QSqlRelation('products', 'ProductID', 'Product'))<br/>        model.select()</span><span id="f1d1" class="nx ny it pm b gy px pu l pv pw">        <em class="nh"># Setup the view<br/>        # Create the view = a table widget</em><br/>        view = QTableView(self)<br/>        <em class="nh"># Set the data model for table widget</em><br/>        view.setModel(model)<br/>        <em class="nh"># Adjust column widths to their content</em><br/>        view.resizeColumnsToContents()<br/>        <em class="nh"># Add the widget to main window</em><br/>        self.setCentralWidget(view)</span></pre><h2 id="e016" class="nx ny it bd nz oa ob dn oc od oe dp of li og oh oi lm oj ok ol lq om on oo op bi translated">SqlRelationalTableModel</h2><p id="bcaa" class="pw-post-body-paragraph kz la it lb b lc oq ju le lf or jx lh li os lk ll lm ot lo lp lq ou ls lt lu im bi translated">上面的代码显示了整个应用程序的GUI设置。注释解释了每一步的细节。</p><p id="de71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，我想澄清和分析模型的<code class="fe pj pk pl pm b">setRelation()</code>方法和<code class="fe pj pk pl pm b">QSqlRelation</code>对象的使用。</p><p id="04d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看我们在这里做了什么，除了链接到GUI本身的行。我们将关注我们的数据模型。</p><p id="d24b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">PyQt包括几个我们可以有效使用的模型对象。在视图中，我们使用关系表；<code class="fe pj pk pl pm b">SqlRelationalTableModel</code>类完全适合。我们将使用的模型完成了所有我们需要的艰苦工作。</p><p id="8d30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe pj pk pl pm b">setRelation()</code>方法需要两个参数:<code class="fe pj pk pl pm b">column</code>和<code class="fe pj pk pl pm b">relation</code>。该方法指定<code class="fe pj pk pl pm b">column</code>(外键)的行为由<code class="fe pj pk pl pm b">relation</code>对象定义。</p><p id="817f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们以第一种情况为例:</p><pre class="kj kk kl km gt pq pm pr ps aw ng bi"><span id="396e" class="nx ny it pm b gy pt pu l pv pw">model.setTable(‘orders’) <br/>model.setRelation(1, QSqlRelation('products', 'ProductID', 'Price'))</span></pre><p id="dd26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">行为是<code class="fe pj pk pl pm b">orders</code>表中的列1映射到<code class="fe pj pk pl pm b">products</code>表中的字段<code class="fe pj pk pl pm b">ProductID</code>，视图应该向用户显示<code class="fe pj pk pl pm b">products</code> ' <code class="fe pj pk pl pm b">Price</code>字段。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="a4c5" class="nx ny it bd nz oa ob dn oc od oe dp of li og oh oi lm oj ok ol lq om on oo op bi translated">结论</h2><p id="870f" class="pw-post-body-paragraph kz la it lb b lc oq ju le lf or jx lh li os lk ll lm ot lo lp lq ou ls lt lu im bi translated">使用QSqlRelationalTableModel，我们很好地避免了SQL语言知识和其他用于构造复杂SQL查询的样板代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi py"><img src="../Images/87e539f85eb567d425e1b148cf44166a.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*WF2esii3TCKI2cat-yki4Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="10ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将使我们的表格小部件更吸引人。</p></div></div>    
</body>
</html>