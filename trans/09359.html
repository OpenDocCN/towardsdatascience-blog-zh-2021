<html>
<head>
<title>Equivocal Zones in a Classification Model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分类模型中的可疑区域</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/equivocal-zones-in-a-classification-model-f156208f3994?source=collection_archive---------33-----------------------#2021-08-30">https://towardsdatascience.com/equivocal-zones-in-a-classification-model-f156208f3994?source=collection_archive---------33-----------------------#2021-08-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9132" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">朴素贝叶斯模型中具有可疑区域的分析示例。</h2></div><p id="58cf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">由吉纳·戈麦斯<br/>与格雷戈·佩奇</strong></p><p id="94da" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">可疑区域:概述</strong></p><p id="b9ca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通常，当我们度量分类模型的性能时，我们通过使用某个特定数据集中的所有记录来完成。例如，我们可能会说，一个模型“对训练集达到了71%的准确性，对验证集达到了68.4%的准确性”，或者该模型“对训练集的敏感度为81.2%。”但是，并没有要求我们在进行预测时必须考虑所有的记录。</p><p id="374c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">相反，在某些情况下，我们可能希望根据模型做出分类决策的潜在概率，只关注某个特定的记录子集。</p><p id="6cc9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，假设我们正在运行订阅服务，并且我们已经建立了一个模型来预测客户的订阅续订。与其只关注“是”或“否”的分类预测结果，我们可能更喜欢关注我们数据库中每个消费者的更新概率。为了以最有效的方式集中我们的精力，我们可能会忽略续订预测低于0.20的客户(也许他们是一个失败的原因)，以及那些概率高于0.80的客户(他们似乎是续订的“锁”)。通过将我们的精力引向概率在0.20和0.80之间的人，我们可以最有效地利用我们的营销资源。</p><p id="c2e0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者，企业可能会遇到这样一种情况，在这种情况下，关注类成员的概率非常高的记录是最有意义的。也许我们正在出售豪华度假屋出租，我们的方法依赖于人力密集型，亲自推销。在这种情况下，我们可以将销售资源集中在那些购买概率超过某个高阈值的客户身上——通过只锁定这些客户，我们可以避免</p><p id="0e91" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<em class="lb">应用预测建模</em>中，库恩和约翰逊描述了“模棱两可或不确定区域”的使用，在该区域中，某个分类根本无法预测。例如，对于两类问题，建模者可以简单地将预测概率在0.40到0.60之间的样本标记为“不确定”或“不确定”，而使用其余样本进行计算和更详细的分析。<em class="lb"> 1 </em></p><p id="367d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">白俄罗斯二手车:准备数据&amp;建立模型</strong></p><p id="93d2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在下面的模型中，我们从包含白俄罗斯二手车供应信息的数据集开始。在宁滨之后，二手车价格(我们的结果变量)被分成三个相对平均大小的组，在宁滨之后，其他几个输入变量被用于朴素贝叶斯过程，</p><p id="3317" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个二手的CC0公共领域汽车数据集，由从Kaggle下载的数据科学家Kirill Lepchenkov创建，包含38145个观察值。</p><p id="8c15" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要下载CC0公共领域数据集，请点击链接:【https://www.kaggle.com/lepchenkov/usedcarscatalog T2】</p><p id="c206" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="lb">变量</em> </strong></p><p id="3c5a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">制造商名称:</strong>汽车的制造商名称。有50多个分类选项，如讴歌，阿尔法罗密欧，奥迪，宝马，别克，雪佛兰，奔驰，日产，沃尔沃等。</p><p id="6b52" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">变速器:</strong>变速器是机械的还是自动的。</p><p id="94b5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">颜色:</strong>汽车外观的颜色，有12种独特的级别。</p><p id="e0e3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">year _ producted:</strong>汽车生产的年份。这个变量是数字，但是我们把它转换成一个因子。“老”车是指在中间年份之前生产的车，“新”车是指在中间年份或之后生产的车。</p><p id="2533" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">发动机_燃料:</strong>汽车使用的燃料类型(柴油、电动或燃气)</p><p id="b8a5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> engine_has_gas: </strong>汽车的发动机是否装有丙烷罐和油管。</p><p id="f832" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> engine_capacity: </strong>发动机容量是一个以升为单位的数字变量，但我们将其转换为具有5个级别的分类变量:最低发动机容量、略低于平均发动机容量、平均发动机容量、略高于平均发动机容量和最高发动机容量。</p><p id="5294" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">车身_类型:</strong>汽车的车身类型。这个变量有12个级别，包括敞篷车，轿跑车，豪华轿车，皮卡，轿车，通用，SUV和其他。</p><p id="80e7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">已_质保:</strong>车是否还有有效质保。</p><p id="3dfb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">状态:</strong>该变量包含三个级别:新建、已拥有和紧急。紧急意味着汽车已经被损坏，有时是严重的。</p><p id="b42c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> drive_train: </strong>汽车是否有前置、后置或全轮驱动的传动系统。</p><p id="59af" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">is _ exchange:</strong>车主是否准备将这辆车换成另一辆车，只需很少或不需要额外付款。</p><p id="5f0c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> location_region: </strong>有六个级别的类别，每个级别代表白俄罗斯的不同地区。</p><p id="d399" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> duration_listed: </strong>汽车在目录中的上市时间，以天为单位。变量是数字，但是我们把它转换成两类:更短的和更长的。</p><p id="3c5f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">照片数量:</strong>目录中发布的汽车照片数量。这个变量是数字，但我们把它转换成两个类别:更高和更低。</p><p id="7f70" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> price_USD: </strong>目录中所列汽车的价格，单位为美元。这个变量是数值型的，但是我们转换成了一个分类变量，有三个分类:便宜的、中等的和昂贵的。</p><p id="6acb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们需要加载我们将用于分析的所有库，并将数据集加载到环境中。此处使用read_csv2()，因为数据集包含一些西里尔字符，还因为它包含一个“；”列之间的分隔符。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="a3c3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">原始数据集附带了一系列10个具有布尔值的其他特征变量。我们不清楚这些变量的含义，因此我们从数据集中删除了它们。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/53fdff5b903efdd4ac325800c0e09d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nkKeWg7ySgoPZucKzKA9aA.png"/></div></div></figure><p id="2e28" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们需要绑定<em class="lb"> price_usd </em>变量，以便它可以用作朴素贝叶斯模型中的分类结果。</p><p id="8d7e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们确定了386条缺少price_usd值的记录，并从数据集中删除了这些记录:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="4d73" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在quantile()函数的帮助下，如下所示，我们将记录分成三个平衡的组，分别标记为“便宜”、“中等”和“昂贵”</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/4a8617d9ade64391e8f24532b32b90e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*hlSMwtsKCLCCdTTtkabOfA.png"/></div></figure><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="d1b1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下是三个结果类别组，每组中的记录数量几乎相同:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/feb0f59a9f5aa23974dc609c85dcf846.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*EKgZAGr_M9XJOawnoWynOg.png"/></div></figure><p id="095b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">修改后的数据集将被重命名为carsMod。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="fc7b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们将字符变量和逻辑变量转换成因子。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lt"><img src="../Images/b098eea71cc22b2432e93bd03e0a54e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Cem7M6KdEiBSCwHONxoTw.png"/></div></div></figure><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lu"><img src="../Images/d639dd38aab07e59cd843a882f7c2e7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4vL_PppxQX6Kw6CUkBTDew.png"/></div></div></figure><p id="9af8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb"> engine_capacity </em>变量是数值型的，因此我们将其转换为四个分类箱，如下所示:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="7ec5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<em class="lb">里程表</em>变量转换成五个分类箱，如下所示:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="8f5c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">变量<em class="lb"> year_produced、number_of_photos、up_counter、</em>和<em class="lb"> duration_listed </em>均根据各自的中值分为两个结果组。这些转换按如下方式进行:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="f0f8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，如下所示，我们的变量被完全转换为因子:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lv"><img src="../Images/00d6b85fa07066d1770cb70a60af4ff5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*41q4ORI_MUjEOFk5ZwjlZw.png"/></div></div></figure><p id="8909" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们对这些数据进行分区，随机将60%的记录分配给训练集，另外40%分配给验证集。这里使用种子值699是为了代码的可复制性。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="85c6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了评估我们的潜在独立变量在朴素贝叶斯模型中的适用性，我们构建了比例柱状图。这些柱状图仅使用训练集数据构建，它们展示了这些潜在输入变量的不同级别之间price_usd的比例差异。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lw"><img src="../Images/fd74b3eb3b67cc7b33fe0c84f62fb245.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GM3GbWhVPLxdfbIf1eX3Zw.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lx"><img src="../Images/64a98658495c69d9017d568c548ff0db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VR3SlCPbUc-hG9LF8J3r6g.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ly"><img src="../Images/4bc279f781190d3408e917568ce0534c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TaFDhTHzy530MuPOrN9Bqg.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lz"><img src="../Images/6d7cb5f44a8ee1a48df5959a008c4400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LhBUab4ff_Y2jOYoY6Lf0A.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ma"><img src="../Images/2660242c57ca2ce29363e39130d25144.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4iO9yRe3Kw1_VQZWUkSNOw.png"/></div></div></figure><p id="589c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于这些图表，我们决定删除<em class="lb">列出的</em>和<em class="lb">可交换的</em>，因为这些变量的不同水平不会显著影响价格。</p><p id="7a89" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还删除了<em class="lb">制造商名称</em>和<em class="lb">型号名称</em>，它们分别包含55个和1，116个唯一级别。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="e643" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们运行朴素贝叶斯分类模型:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="eb21" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们使用训练集数据生成了以下混淆矩阵:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/5c192134e3a3e25393a1ad1e7a0ca296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*cu-XT1WW5jdMEWf27oRCOw.png"/></div></figure><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/26dd1184a71b905ac416c75250b74717.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*Ha3cTMfzXnetHYGjgMKX2Q.png"/></div></figure><p id="a8f5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从上面显示的两个混淆矩阵中，我们可以看到训练集和验证集的模型性能非常相似，这表明模型没有过度适应训练集。在这两种情况下，我们都可以看到朴素规则(无信息率)的显著优势，准确率提高了一倍以上。</p><p id="9fde" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">改变游戏:缩小关注范围</strong></p><p id="76c8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们的目标不是预测一辆车将落入三个结果类别中的哪一个，而是将我们的注意力转移到最有可能<em class="lb">落入特定结果类别的车，会怎么样？通过检查与类别预测相关联的概率，我们可以实现这一点。</em></p><p id="2068" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们使用带有type="raw "参数的predict()函数，该函数返回我们的模型分配给每个记录的类成员的百分比可能性。(为了简洁起见，我们不会解释这些数字产生的整个过程，但是我们<a class="ae lc" href="https://www.youtube.com/watch?v=kIpNabtoj6s" rel="noopener ugc nofollow" target="_blank">推荐这个YouTube教程</a>来分解分类概率是如何产生的)。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="24ea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将结果类概率预测附加到验证集之后，我们可以使用dplyr中的arrange()函数按照预测的类概率对记录进行排序。例如，下面的第一行代码给出了验证集中最有可能属于“便宜”结果组的500辆汽车；它下面的一行生成一个表，显示这500条记录的实际结果类。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi md"><img src="../Images/3a66f7f1dfda1d28bc20719a1d7080e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*DBRM1JUuqZeAocYeFI-z-Q.png"/></div></figure><p id="f048" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从这个组中，我们可以看到89.2%的汽车属于“便宜”的结果组。如果我们专门寻找价格未知但预计在此范围内的汽车，这样的过程将具有巨大的实用价值——对于我们决定更仔细检查的每10辆汽车，9辆将定价在我们的目标范围内。</p><p id="7bcb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以对其他结果类使用类似的过程:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi me"><img src="../Images/0b094ebd9047f1ecfca6b3cd8b919bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*WYIHvLXPfEh-HtjdKD8xnA.png"/></div></figure><p id="b2ea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们可以对“昂贵的”结果组重复这个过程:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="li lj l"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/f3c8fe440087d01c1b7769ed8200ec3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*jzGqLVE49wNELzjjIPVekA.png"/></div></figure><p id="2d89" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们在模型中筛选出我们的模型<em class="lb">最强烈地</em>预测为“昂贵”的500条记录时，我们几乎总是会识别出昂贵的汽车。</p><p id="8584" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">但是等等，这不是作弊吗？</strong></p><p id="73c9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，仅<em class="lb">对潜在分类概率满足某个阈值的记录进行分类的概念可能看起来不公平。在某些方面，这是不公平的——如果我们将使用这种方法的模型的性能与试图对它看到的每条记录进行分类的模型的性能进行比较，那么是的，这将是一个完全不公平的比较。</em></p><p id="271b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当然，计划发布或分享结果的公司或研究人员必须非常明确地向观众披露，这些结果是在可疑区域的记录被排除在考虑范围之外之后才获得的。例如，我们永远不能声称上面显示的朴素贝叶斯模型在标记昂贵的汽车时达到了“98.6%的准确率”，而没有非常清楚地指出这只是在以这样一种方式过滤数据后发生的，即只有最有可能属于“昂贵”组的汽车保留下来。</p><p id="702c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，在商业世界中，模型不是为黑客马拉松或出版物而构建的。相反，它们是出于实际目的而构建的，从大量记录中消除“可疑区域”记录可以带来非常重要的实际好处。对于回答诸如客户是否会续订、潜在客户是否会购买或当前客户是否会升级到高级计划等业务问题，支持模型分类预测的概率可以提供大量信息线索，表明企业应集中精力在哪些方面，以获得最大的投资回报(ROI)。承认51%的可能性和99%的可能性是非常有意义的不同——即使它们导致相同的预测分类结果——是从任何分类模型生成最佳可能ROI的一大步。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mg"><img src="../Images/759c0d4149f23cc0d712f3285e6624d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OyTDWzsk71G2Pg8m"/></div></div><p class="mh mi gj gh gi mj mk bd b be z dk translated">摄影师Pix的生活。(2015年8月11日)。Fotografì a de paisaje de coches汽车查看照片。从Pexels检索。</p></figure><p id="9298" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">参考文献</strong></p><ol class=""><li id="7962" class="ml mm iq kh b ki kj kl km ko mn ks mo kw mp la mq mr ms mt bi translated">库恩，马克斯和杰尔·约翰逊。<em class="lb">应用预测建模</em>。斯普林格，2013年:第254页。</li><li id="2147" class="ml mm iq kh b ki mu kl mv ko mw ks mx kw my la mq mr ms mt bi translated"><a class="ae lc" href="https://www.kaggle.com/lepchenkov" rel="noopener ugc nofollow" target="_blank">基里尔·列普琴科</a>。(2019年12月2日)。特许CC0公共领域二手车目录数据集。从卡格尔那里取回的。<a class="ae lc" href="https://www.kaggle.com/lepchenkov/usedcarscatalog" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/lepchenkov/usedcarscatalog</a></li></ol></div></div>    
</body>
</html>