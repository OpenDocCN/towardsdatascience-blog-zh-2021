<html>
<head>
<title>Don’t Make This Mistake with Scaling Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不要在缩放数据时犯这种错误</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dont-make-this-mistake-with-scaling-data-f39435eb71d2?source=collection_archive---------14-----------------------#2021-05-06">https://towardsdatascience.com/dont-make-this-mistake-with-scaling-data-f39435eb71d2?source=collection_archive---------14-----------------------#2021-05-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="06f4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">MinMaxScaler可以返回小于0且大于1的值。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dfb5fdcb00f48f80131e447ebbeb02c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MxrT_ZtQgVn0hTZJ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">凯利·西克玛在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="faef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MinMaxScaler.html" rel="noopener ugc nofollow" target="_blank"> MinMaxScaler </a>是机器学习中最常用的缩放技术之一(紧随StandardScaler之后)。</p><blockquote class="lv lw lx"><p id="6a3f" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MinMaxScaler.html" rel="noopener ugc nofollow" target="_blank">来自sklearns的文档</a>:</p><p id="91d5" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">通过将每个要素缩放到给定范围来变换要素。</p><p id="e83e" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">该估计器单独缩放和翻译每个特征，使得它在训练集的给定范围内，例如在0和1之间。</p></blockquote><p id="e05d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，当我们使用MinMaxScaler时，我们在0和1之间缩放值。</p><p id="f4bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您知道MinMaxScaler可以返回小于0且大于1的值吗？我不知道这件事，这让我很惊讶。</p><h2 id="0525" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">如果您感兴趣，Udacity提供免费访问:</h2><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="7b8f" class="mc md it mw b gy na nb l nc nd">- <a class="ae ky" href="https://imp.i115008.net/c/2402645/788201/11298" rel="noopener ugc nofollow" target="_blank">Intro to Machine Learning with PyTorch</a></span><span id="4d61" class="mc md it mw b gy ne nb l nc nd">- <a class="ae ky" href="https://imp.i115008.net/c/2402645/788202/11298" rel="noopener ugc nofollow" target="_blank">Deep Learning Nanodegree and more</a></span></pre><h1 id="068b" class="nf md it bd me ng nh ni mh nj nk nl mk jz nm ka mn kc nn kd mq kf no kg mt np bi translated">问题是</h1><p id="b687" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">让我们看一个例子。我用两个特性初始化scaler。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="5a5e" class="mc md it mw b gy na nb l nc nd">import numpy as np<br/>from sklearn.preprocessing import MinMaxScaler</span><span id="0023" class="mc md it mw b gy ne nb l nc nd">data = [[-1, 2], [-0.5, 6], [0, 10], [1, 18]]<br/>scaler = MinMaxScaler()<br/>scaler.fit(data)</span></pre><p id="d9be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们检查这两个特性的最小值和最大值:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="da46" class="mc md it mw b gy na nb l nc nd">scaler.data_min<br/># [-1.  2.]</span><span id="35c0" class="mc md it mw b gy ne nb l nc nd">scaler.data_max_<br/># [ 1. 18.]</span></pre><p id="398a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那些估计和预期的一样。</p><p id="bc6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们尝试输入大于最大值的值:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="15bf" class="mc md it mw b gy na nb l nc nd">scaler.transform(np.array([[2, 20]]))</span><span id="cf47" class="mc md it mw b gy ne nb l nc nd"># array([[1.5  , 1.125]])</span></pre><p id="94fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">标量返回一个大于1的值。</strong></p><p id="b1f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或更低的最小值:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="ad34" class="mc md it mw b gy na nb l nc nd">scaler.transform(np.array([[-2, 1]]))</span><span id="2699" class="mc md it mw b gy ne nb l nc nd"># array([[-0.5   , -0.0625]])</span></pre><p id="22b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">标量返回一个小于0的值。</strong></p><h1 id="156e" class="nf md it bd me ng nh ni mh nj nk nl mk jz nm ka mn kc nn kd mq kf no kg mt np bi translated">没什么大不了的，对吧？</h1><p id="e67d" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">当我们训练线性分类器时，这个问题可能发生，线性分类器将缩放特征与系数相乘。</p><p id="7f8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分类器还没有看到某个特征的负值，它可以反转系数，这使得分类器工作不正确。</p><h1 id="5054" class="nf md it bd me ng nh ni mh nj nk nl mk jz nm ka mn kc nn kd mq kf no kg mt np bi translated">解决方案</h1><p id="b6a8" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">我建议您将MinMaxScaler的输出限制在0到1之间。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="55e4" class="mc md it mw b gy na nb l nc nd">scaler.transform(np.array([[-2, 1]]))</span><span id="5a9e" class="mc md it mw b gy ne nb l nc nd"># array([[0., 0.]])</span></pre><h1 id="395d" class="nf md it bd me ng nh ni mh nj nk nl mk jz nm ka mn kc nn kd mq kf no kg mt np bi translated">在你走之前</h1><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="45d8" class="mc md it mw b gy na nb l nc nd">- <a class="ae ky" href="https://gumroad.com/l/mjyDQ" rel="noopener ugc nofollow" target="_blank">Deploy Your 1st Machine Learning Model in the Cloud</a> [Ebook]</span><span id="c969" class="mc md it mw b gy ne nb l nc nd">- <a class="ae ky" href="https://aigents.co/skills" rel="noopener ugc nofollow" target="_blank">Free skill tests for Data Scientists &amp; Machine Learning Engineers</a></span></pre><p id="3897" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ly">上面的一些链接是附属链接，如果你通过它们购买，我会赚取佣金。请记住，我链接课程是因为它们的质量，而不是因为我从你的购买中获得的佣金。</em></p><p id="dea3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://twitter.com/romanorac" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，在那里我定期<a class="ae ky" href="https://twitter.com/romanorac/status/1328952374447267843" rel="noopener ugc nofollow" target="_blank">发布关于数据科学和机器学习的</a>消息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/b5d426b68cc5a21b1a35d0a157ebc4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*69rP1pwjJi9mLSFE"/></div></div></figure></div></div>    
</body>
</html>