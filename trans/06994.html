<html>
<head>
<title>A Random Walk in Real-Time Computer Graphics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实时计算机图形学中的随机漫步</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-random-walk-in-real-time-computer-graphics-6f4315537464?source=collection_archive---------43-----------------------#2021-06-24">https://towardsdatascience.com/a-random-walk-in-real-time-computer-graphics-6f4315537464?source=collection_archive---------43-----------------------#2021-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b3c6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">GLSL的照明、纹理和位移映射</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7b260cd7427e0b167bacc20ba8fc733e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HCO-seOVyvgfrtU4b7Hv1w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图一。一个遥远的场景(2021) | Sean Zhai |用ShaderToy创作</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="77d6" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">数学建模</h1><p id="d43d" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">计算机图形学从数学上定义形状开始。建模球体和立方体可以很容易地解决，但是定义真实世界的对象是具有挑战性的。著名的3D茶壶模型是由犹他大学的Martin Newell于1975年创建的，由于在计算机图形学的早期只有非常有限的模型可用，所以它在许多研究论文中被提及。</p><p id="de3d" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">建模的另一种方法是用多边形网格来逼近形状；结合3D数字化仪和扫描仪，高分辨率多边形模型被广泛使用，但往往需要较长的渲染时间。1995年第一部CG故事片<em class="my">玩具总动员</em>上映，需要80万机时。</p><p id="0448" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">硬件的进步极大地改善了这种情况，尤其是现代的GPU使得实时计算机图形成为现实。但即使在今天，多边形模型仍然需要高度优化，游戏引擎经常使用低多边形模型。用数学定义形状仍然有明显优势。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="28fd" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">用光描绘现实</h1><p id="043d" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">光线被记录为图像中像素的颜色。现代图形处理器的奇迹使得实时制作惊人的图形成为可能，与图形处理器接口的语言是OpenGL着色语言(GLSL)。使用GLSL，我们定义如何渲染像素的颜色；其余的是自动执行的，并且是并行完成的。</p><p id="9f85" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">我们有完全的自由以任何方式设置场景，但是，遵循现实世界的原则是有帮助的。作为人类，我们的情感经常与和过去经历有相似之处的事物产生共鸣。甚至在构建一个抽象的构图时，我们往往需要一定的熟悉度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/f7cc9f962e138a5e079785a064fbe627.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zSvAiCUuurCXDZg0ngGJ8A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图二。灯光的维度|翟的影像创作</p></figure><p id="d639" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">通过观察，我们知道光在表面上的反射是由表面的法线决定的，漫射光对方向不敏感。使用GLSL，一种简单有效的数字照明方式通常被配置为遵循3点工作室照明。根据经验，主光的亮度大约是补光的10倍。</p><p id="ca30" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">在技术术语中，计算机图形照明或多或少取决于双向反射分布函数(BRDF)，它描述了光线在撞击表面时如何表现的理论。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="6f79" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">纹理、UV贴图和长方体贴图</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/3d43a3d3534cb3e7fcbf8c336774d516.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8s_6PxKK5Pi4nnlQ.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图三。特雷西·里斯秀2008 |图片来源:commons.wikimedia.org</p></figure><p id="21e3" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">为了创造更真实的外观，最直接的想法是引入一张图片。如果我们想在数字世界中创作岩石时，有一张岩石的照片可以使用，这将使生活变得更容易。一个迫在眉睫的问题是，图像如何包裹物体的表面，当形状复杂时，这可能相当复杂。典型的解决方案在计算机图形学中称为uv映射，其中u和v是定义纹理的坐标。这非常类似于时装业使用织物的方式，这本身就是一门艺术，让不同表面交汇处的图案看起来很漂亮。</p><p id="d58b" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">下图展示了一种叫做“盒子贴图”的技术。这是米奇·普拉特在皮克斯制作RenderMan时发明的。基本思想是从围绕物体的一个假想立方体投射纹理，纹理根据相对于x、y或z轴的方向混合。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/231ffa50139898c5dfcd0c46ff6bde21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s6rNqlAiqBjSGZesvRV4RA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4。纹理映射演示| Sean Zhai |使用ShaderToy创建</p></figure><p id="cb25" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">以下是GLSL代码中<code class="fe nb nc nd ne b">boxmap</code>的功能，由Inigo Quilez在ShaderToy开发。</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="a0a9" class="nj lg it ne b gy nk nl l nm nn">// "p" point being textured <br/>// "n" surface normal at "p" <br/>// "k" controls the sharpness of the blending in the transitions areas <br/>// "s" texture sampler <br/>vec4 boxmap( in sampler2D s, in vec3 p, in vec3 n, in float k ) <br/>{     <br/>     // texture along x, y, z axis<br/>     vec4 x = texture( s, p.yz );<br/>     vec4 y = texture( s, p.zx );<br/>     vec4 z = texture( s, p.xy );<br/>          <br/>     // blend factors<br/>     vec3 w = pow( abs(n), vec3(k) );</span><span id="ee4f" class="nj lg it ne b gy no nl l nm nn">     // blend and return     <br/>     return (x*w.x + y*w.y + z*w.z) / (w.x + w.y + w.z); <br/>}</span></pre><h1 id="9f9b" class="lf lg it bd lh li np lk ll lm nq lo lp jz nr ka lr kc ns kd lt kf nt kg lv lw bi translated">噪音，逼真的触感</h1><p id="414f" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">噪声和随机的区别在于，噪声不是随机的。噪声，即使看起来不规则，也需要产生可重复的结果。为了在计算机图形中有用，噪声函数需要创建平滑和渐进的变化。柏林噪音是为电影《创》(1982)开发的，以增加真实感。该算法具有突破性，因为它可以在没有大量数据集或昂贵计算的情况下创建丰富而细致的图像，并激发了其他噪声的发展，如voronoi、worly和单纯形噪声。计算机图形学再也不会回到没有噪声功能的日子了。</p><blockquote class="nu nv nw"><p id="fce8" class="lx ly my lz b ma mt ju mc md mu jx mf nx mv mi mj ny mw mm mn nz mx mq mr ms im bi translated"><em class="it">Perlin Noise的发展使计算机图形艺术家能够更好地在电影行业的视觉效果中表现自然现象的复杂性。</em></p><p id="b221" class="lx ly my lz b ma mt ju mc md mu jx mf nx mv mi mj ny mw mm mn nz mx mq mr ms im bi translated">— 1997年奥斯卡颁奖典礼</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/9125c7fb51a8312dd163d63647b4d2e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VeNqgRA72I167CcU.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图五。Bloodie写了一首颂歌| Rebecca Xu，Sean Zhai(使用柏林噪音场创建的生成动画，在处理中编程)</p></figure><h1 id="d074" class="lf lg it bd lh li np lk ll lm nq lo lp jz nr ka lr kc ns kd lt kf nt kg lv lw bi translated">分形噪声和自相似性</h1><blockquote class="nu nv nw"><p id="e3fc" class="lx ly my lz b ma mt ju mc md mu jx mf nx mv mi mj ny mw mm mn nz mx mq mr ms im bi translated">几乎所有自然界常见的模式都是粗糙的。它们有着极其不规则和支离破碎的方面——不仅比欧几里得的奇妙的古代几何学更加精细，而且复杂得多。几个世纪以来，测量粗糙度的想法只是一个空想。这是我毕生致力于的梦想之一。—伯努瓦·曼德尔布罗</p></blockquote><p id="f176" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">分数布朗运动有时被描述为“随机行走过程”。Mandelbrot揭示了fBm最重要的特征，即自相似性。为了说明这一点，Mandelbrot展示了可以在自然界的许多地方观察到的自相似性，例如花椰菜的结构，其中植物的一部分与整体具有相同的结构。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图六。伯努瓦·曼德尔布罗的TED演讲</p></figure><p id="2538" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">为了实时看到这一点，让我们在GLSL实现fBM。下面是一个例子。复杂性是通过添加用于操纵采样纹理的噪声迭代而逐渐建立的；每次采样频率增加一倍，其幅度减小一半。通过这样做，自相似性得以保持。</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="ce25" class="nj lg it ne b gy nk nl l nm nn">// code by ig at shadertoy.com</span><span id="5b7b" class="nj lg it ne b gy no nl l nm nn">float noise1f( sampler2D tex, in vec2 x )<br/>{<br/>    return texture(tex,(x+0.5)/64.0).x;<br/>}</span><span id="c4ef" class="nj lg it ne b gy no nl l nm nn">float fbm1f( sampler2D tex, in vec2 x )<br/>{<br/>    float f = 0.0;<br/>    f += 0.5000*noise1f(tex,x); x*=2.01;<br/>    f += 0.2500*noise1f(tex,x); x*=2.01;<br/>    f += 0.1250*noise1f(tex,x); x*=2.01;<br/>    f += 0.0625*noise1f(tex,x);<br/>    f = 2.0*f-0.9375;<br/>    return f;<br/>}</span></pre><p id="9bc3" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">对于偶然发现ShaderToy的人来说，随机改变着色器中的参数以获得不同的外观是很有吸引力的，但如果不理解基本原理，可能很难掌握构造着色器的艺术，并且当出现伪像时会令人沮丧。</p><h1 id="d091" class="lf lg it bd lh li np lk ll lm nq lo lp jz nr ka lr kc ns kd lt kf nt kg lv lw bi translated">位移映射</h1><p id="c340" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">噪波也可以用来改变对象的实际形状，这通常称为置换贴图。将fBm噪波作为位移贴图添加到图4中，我创建了图1的标题图像。源代码可以在下面找到。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oc l"/></div></figure><p id="94a1" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">形象很简单，希望还是营造出一种偏僻大气的感觉。我想分享一些笔记，而使这一点。</p><ul class=""><li id="dbca" class="oe of it lz b ma mt md mu mg og mk oh mo oi ms oj ok ol om bi translated">构图:一般你的主要对象不要在死点；相机目标位置<code class="fe nb nc nd ne b">ta</code>在x轴上轻微移动。</li><li id="ebc6" class="oe of it lz b ma on md oo mg op mk oq mo or ms oj ok ol om bi translated">“建筑结构”的建模是用两个球体连接在一起完成的，减去一个球体来创建凹面形状(可以很容易地在图4中看到)。)</li><li id="4dec" class="oe of it lz b ma on md oo mg op mk oq mo or ms oj ok ol om bi translated">触摸位移图可以完全改变图像的情绪(比较图4)。和图1。).</li></ul><p id="5258" class="pw-post-body-paragraph lx ly it lz b ma mt ju mc md mu jx mf mg mv mi mj mk mw mm mn mo mx mq mr ms im bi translated">你可以访问ShaderToy查看实时版本。</p><div class="os ot gp gr ou ov"><a href="https://www.shadertoy.com/view/flBGzK" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">Shadertoy</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">构建着色器，共享它们，并向最佳社区学习。</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">www.shadertoy.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj ks ov"/></div></div></a></div><h1 id="a507" class="lf lg it bd lh li np lk ll lm nq lo lp jz nr ka lr kc ns kd lt kf nt kg lv lw bi translated">收场白</h1><p id="2b5d" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">有可能你做过在画布上画线的图形编程，基本上可以解释为“画家的模型”。GLSL提供的是更强大的东西。可以实时体验，可以印象更深刻。尝试使用ShaderToy或另一个GLSL合成工具。干杯！</p></div></div>    
</body>
</html>