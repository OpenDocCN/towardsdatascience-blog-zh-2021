<html>
<head>
<title>How to Rename Columns in Pandas — A Quick Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何重命名Pandas中的列—快速指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-rename-columns-in-pandas-a-quick-guide-a934aa977bd5?source=collection_archive---------8-----------------------#2021-09-11">https://towardsdatascience.com/how-to-rename-columns-in-pandas-a-quick-guide-a934aa977bd5?source=collection_archive---------8-----------------------#2021-09-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7b1f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于在pandas数据框架中重命名列的多种选项的简短指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a9305fe6c01637973b1d788a9b15a7a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1mFWIXXkmFV3g4Ue"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@giuliogabrieli?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">朱利奥·加布里埃里</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="c03c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保dataframe列的名称正确对于理解其中包含的数据是至关重要的，尤其是当我们将数据传递给其他人时。在这篇短文中，我们将介绍在一个<a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> pandas </a> dataframe中重命名列的多种方法。</p><p id="3c7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是首先，熊猫是什么？Pandas 是一个强大、快速、常用的python库，用于执行数据分析。熊猫的名字本身代表“Python数据分析库”。<a class="ae ky" href="https://en.wikipedia.org/wiki/Pandas_(software)" rel="noopener ugc nofollow" target="_blank">根据维基百科</a>，该名称来源于“面板数据”一词。它允许从多种文件格式(CSV、XLS、XLSX、Pickle等)加载数据。)并存储在类似表格的结构中。这些表格(数据框)可以使用pandas中的各种功能进行操作、分析和可视化</p><h1 id="796d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">库导入和数据创建</h1><p id="243c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">第一步包括导入<a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> pandas库</a>并创建一些虚拟数据，我们可以用它们来说明列重命名的过程。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="1dc8" class="mx lw it mt b gy my mz l na nb">import pandas as pd</span></pre><p id="45d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将创建一些虚拟数据来说明各种技术。我们可以通过调用<code class="fe nc nd ne mt b">.DataFrame()</code>来做到这一点，这里我们将创建三列，分别命名为A、B和c。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="eca7" class="mx lw it mt b gy my mz l na nb">df = pd.DataFrame({'A':[1,2,3,4,5], <br/>                   'B':[101,102,103,104,105],<br/>                  'C':[42,42,42,42,42]})</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nf"><img src="../Images/9c7d46c6204703c3248323a64ee7c250.png" data-original-src="https://miro.medium.com/v2/format:webp/1*GzJ_t5qf4cv5Hak4vz_jeA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">开始使用pd创建数据帧。数据帧()</p></figure><h1 id="75d2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">加载数据时重命名列</h1><p id="87bd" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">创建数据帧的另一种方法是从现有文件(如csv或xlsx文件)中加载数据。当我们加载数据时，我们可以使用names参数来更改列的名称。当我们这样做时，我们需要确保使用<code class="fe nc nd ne mt b">header=0</code>删除现有的标题行。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="43b9" class="mx lw it mt b gy my mz l na nb">df = pd.read_csv('data.csv', <br/>                     names=['ColA', 'ColB', 'ColC'],<br/>                     header=0)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nf"><img src="../Images/268e1e2f7d59ac2596cddf0887d324e5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*JHZvICXhjvn6XjW2w7V-gA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在加载csv文件的过程中，重命名列后的Pandas dataframe。</p></figure><h1 id="25b5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用<code class="fe nc nd ne mt b">.rename()</code>重命名所有列</h1><p id="2f1f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们要看的第一个方法是<code class="fe nc nd ne mt b"><a class="ae ky" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.rename.html?highlight=rename#pandas.DataFrame.rename" rel="noopener ugc nofollow" target="_blank">.rename()</a></code>函数。在这里，我们可以向关键字参数<code class="fe nc nd ne mt b">columns</code>传递一个字典。字典允许我们提供旧列名和我们想要的新列名之间的映射。</p><p id="d13c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还将把<code class="fe nc nd ne mt b">inplace</code>参数设置为True，这样我们就可以直接对数据帧df进行修改，而不是复制它。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="dd35" class="mx lw it mt b gy my mz l na nb">df.rename(columns= {'A':'Z', 'B':'Y', 'C':'X' }, inplace=True)</span></pre><p id="897f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一种方法是指定轴，但是，与使用columns参数相比，这种方法可读性较差，并且可能不清楚该参数的作用。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="6a08" class="mx lw it mt b gy my mz l na nb">df.rename({'A':'Z', 'B':'Y', 'C':'X' }, inplace=True, axis=1)</span></pre><p id="9105" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们调用df时，我们现在看到我们的列已经分别从A、B和C重命名为Z、Y和X。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nf"><img src="../Images/1abdb755308afc91a31adec0c01f7080.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ZkmUbocWcZkDi_8GuazA7Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用df.rename()重命名列后，显示dataframe。</p></figure><h1 id="d83d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用<code class="fe nc nd ne mt b">.rename()</code>重命名特定列</h1><p id="e0e0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果我们想要重命名特定的列，我们可以再次使用<a class="ae ky" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.rename.html?highlight=rename#pandas.DataFrame.rename" rel="noopener ugc nofollow" target="_blank">重命名功能</a>。我们可以使用<code class="fe nc nd ne mt b">df.columns</code>并通过在方括号中提供列索引位置来选择列，而不是为字符串映射提供一个字符串。然后，我们将它映射到一个新的列名字符串。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="01bb" class="mx lw it mt b gy my mz l na nb">df.rename(columns={df.columns[0]:'New Name'}, inplace=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nf"><img src="../Images/1c8ca19c0572c211932ea2273171382b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*dozK2j8IopgvuhgvRKMI_w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用df.rename()后，Pandas dataframe带有重命名的列。</p></figure><p id="b282" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以指定现有列名和新列名之间的映射。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="b9cd" class="mx lw it mt b gy my mz l na nb">df.rename(columns= {'X':'XX' }, inplace=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/703d7f94b754b7e6f91a5ebccc5c8a3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:548/format:webp/1*ga2bGNnDc2PsUx5YgSma8A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用df.rename()后，Pandas dataframe带有一个重命名的列。</p></figure><h1 id="9ada" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用<code class="fe nc nd ne mt b">Set_axis()</code>重命名列</h1><p id="a35b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">下一个方法是<code class="fe nc nd ne mt b"><a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.set_axis.html" rel="noopener ugc nofollow" target="_blank">set_axis()</a></code>，用于设置数据帧的轴(列:轴=1或行:轴=0)。</p><p id="5945" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用这个方法来重命名列，首先定义我们想要替换列的名称列表，并设置<code class="fe nc nd ne mt b">axis=1</code>或<code class="fe nc nd ne mt b">axis='columns'</code>。请注意，这里名称的数量需要等于列的总数。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="82e5" class="mx lw it mt b gy my mz l na nb">df.set_axis(['Column A', 'Column B', 'Column C'], <br/>            axis='columns', <br/>            inplace=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nf"><img src="../Images/6bcab22bbaa22a0ef6be7e85156a85b4.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-n98PNZq1VEqwr7LsPUTrw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在使用。set_axis()</p></figure><h1 id="290c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用。columns()来分配新的名称列表</h1><p id="224c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们可以通过分配一个新的列表来直接重命名列，该列表包含我们想要重命名的列的名称。这是使用数据帧的<code class="fe nc nd ne mt b"><a class="ae ky" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.columns.html?highlight=columns#pandas.DataFrame.columns" rel="noopener ugc nofollow" target="_blank">df.columns</a></code>属性实现的。</p><p id="4b4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该方法要求新的名称列表的长度与数据帧中的列数相同。因此，如果我们只想重命名一两列，这可能不是最佳方法。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="c4d3" class="mx lw it mt b gy my mz l na nb">df.columns = ['1', '2', '3']</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nf"><img src="../Images/e1d2370f867522abf0912b352357731c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*X_62m3k7eb5kamJ4W-NOMA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用列表替换df.columns后的Dataframe</p></figure><h1 id="64fe" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用columns.str.replace()</h1><p id="cf1f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们要看的最后一种方法是使用<code class="fe nc nd ne mt b">str.replace()</code>，它可以用来替换特定的字符或整个列名。</p><p id="99f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本例中，我们将用字母z替换第1列。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="366b" class="mx lw it mt b gy my mz l na nb">df.columns = df.columns.str.replace('1', 'Z')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nf"><img src="../Images/39223274e321aba617e34a9844cd0f65.png" data-original-src="https://miro.medium.com/v2/format:webp/1*LUrENES9MMrM34L7mO1X5A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用df.columns和str.replace重命名列后的Dataframe。</p></figure><h1 id="c5df" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">摘要</h1><p id="1ddc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">熊猫数据帧中的列有多种重命名方法，包括<a class="ae ky" href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html?highlight=read_csv" rel="noopener ugc nofollow" target="_blank"> pd.read_csv </a>、<a class="ae ky" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.set_axis.html?highlight=set_axis" rel="noopener ugc nofollow" target="_blank">。set_axis </a>、<a class="ae ky" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.rename.html?highlight=rename#pandas.DataFrame.rename" rel="noopener ugc nofollow" target="_blank"> df.rename </a>和<a class="ae ky" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.columns.html?highlight=columns#pandas.DataFrame.columns" rel="noopener ugc nofollow" target="_blank"> df.columns </a>。这说明了在<a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> pandas </a> python库中可用的巨大灵活性，并且使得确保数据帧中的列被适当地标记变得容易。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="5490" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="no">感谢阅读！</em></p><p id="ecd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="no">如果您觉得这篇文章很有用，请随意查看我的其他文章，这些文章探讨了Python和测井数据的各个方面。你也可以在</em><a class="ae ky" href="https://github.com/andymcdgeo/Andys_YouTube_Notebooks" rel="noopener ugc nofollow" target="_blank"><em class="no">GitHub</em></a><em class="no">找到我在这篇文章和其他文章中使用的代码。</em></p><p id="3c2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想联系我，你可以在LinkedIn或我的网站上找到我。</p><p id="fb2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有兴趣了解更多关于python、岩石物理学或测井数据岩石物理学的知识吗？在<a class="ae ky" href="https://andymcdonaldgeo.medium.com/" rel="noopener">媒体</a>或<a class="ae ky" href="https://www.youtube.com/channel/UCn1O_4_ApzbYwrsUdRoMmOg" rel="noopener ugc nofollow" target="_blank"> YouTube </a>上关注我。</p></div></div>    
</body>
</html>