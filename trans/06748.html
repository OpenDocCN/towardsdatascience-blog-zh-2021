<html>
<head>
<title>Schedule Optimisation using Linear Programming in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python中的线性规划进行日程优化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/schedule-optimisation-using-linear-programming-in-python-9b3e1bc241e1?source=collection_archive---------4-----------------------#2021-06-18">https://towardsdatascience.com/schedule-optimisation-using-linear-programming-in-python-9b3e1bc241e1?source=collection_archive---------4-----------------------#2021-06-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4d32" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">医院手术室排班的优化模型</h2></div><p id="0abf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于许多组织来说，日程安排是一项日常挑战。从生产线上的工作分配到医院手术病例的时间安排，如何有效管理有限资源的问题无时无刻不在出现。</p><p id="d258" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然“信封背面”的规划可以带我们走这么远，但通常情况下，更高级的说明性分析工具(如线性规划)可以帮助决策者快速确定最佳选择。</p><p id="e953" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这项技术并不新鲜——数学编程已经存在几十年了——但是最近几年它变得更容易使用了。线性求解器算法性能的改进使得更复杂的问题能够在合理的时间框架内得到解决；Pyomo等开源库使得用熟悉的编码语言构建模型成为可能，数字化增加了高质量数据的可用性。</p><p id="56fe" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，尽管有这些进步，传统的优化方法经常被数据科学家和分析师忽视。</p><p id="9503" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我希望展示线性编程的价值，并展示如何开始用Python构建模型。为此，我们将构建一个基本模型来优化医院的手术室安排。</p><p id="47cc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我假设你熟悉Python和线性优化概念的基础知识。</p><p id="f660" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">源代码和数据可以在这里找到:<a class="ae lb" href="https://github.com/Lewisw3/theatre-scheduling" rel="noopener ugc nofollow" target="_blank">https://github.com/Lewisw3/theatre-scheduling</a></p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="e309" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated"><strong class="ak">医院为什么要排班？</strong></h2><p id="5911" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">排班对于手术室的顺利运转至关重要。有效的时间安排对所有各方都有利:医务人员、医疗保健提供者，尤其是病人。但是手术计划仍然是医院面临的主要挑战。NHS Improvement委托进行的一项最新研究报告称，随着手术清单和假期预订管理的改善，每年可以完成额外的290，000例手术[1]。</p><p id="d7e2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那是Covid之前。自那以后，疫情在择期护理方面产生了大量的积压，因此有效地管理手术室的时间表比平时更加重要。</p><p id="7fa8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个复杂的挑战，解决方案不仅仅取决于分析。</p><p id="11ab" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将考虑一个简单的外科医生择期手术计划的例子。我们的目标是强调分析支持剧院规划的潜力——该模型是<strong class="kh ir">而不是</strong>旨在成为现实世界的决策支持工具！</p><p id="dede" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有大量关于剧院时间表优化的文献。如果你感兴趣，我推荐Guerriero和Guido [2]以及Cardoen等人[3]的综述论文。</p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mh"><img src="../Images/b926d5f8ae4e0537aa8994fbdad9450f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9N4FFhtZUd95pAGF"/></div></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">皮隆·纪尧姆在<a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="eabc" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated"><strong class="ak">问题陈述</strong></h2><p id="d28c" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">假设一家医院的手术室正在为一名眼科顾问医生计划选择性手术。医院有两份名单:</p><ul class=""><li id="8406" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nc nd ne nf bi translated">在截止日期前分配给顾问的操作清单(<em class="ng">案例</em>)</li><li id="7904" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nc nd ne nf bi translated">分配给顾问的手术室时间段(<em class="ng">手术室时段</em>)列表</li></ul><p id="1a9c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">剧院会议可以是半天(上午8.30-下午1点)或全天(上午8.30-下午6点)会议，顾问通常每周分配一次剧院会议。任务是将顾问即将进行的案例分配到他们的剧院会议中，这样我们可以最大限度地利用每个会议<strong class="kh ir">。</strong></p><blockquote class="nm nn no"><p id="5735" class="kf kg ng kh b ki kj jr kk kl km ju kn np kp kq kr nq kt ku kv nr kx ky kz la ij bi translated">利用率被定义为手术室时间段被手术病例填满的百分比。</p></blockquote><p id="2d15" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">病例必须在目标截止日期前完成，并且至少15%的剧场时段应空出来用于其他活动(如绝育、员工休息等)。)</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="cfeb" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">公式化——从商业问题到数学模型</h2><p id="208c" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">我们把这个问题公式化为一个灵活的车间调度问题，其中一个外科病例类似于一个<em class="ng">工作</em>，一个手术室类似于一台<em class="ng">机器</em>。我们首先定义决策变量、线性约束和线性目标函数。</p><h2 id="13d9" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated"><strong class="ak"> 1。导入数据</strong></h2><p id="08ed" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">在我们开始之前，让我们看看数据。我们有两个数据源:<em class="ng"> cases.csv </em>和<em class="ng"> sessions.csv </em>。</p><p id="e978" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ng"> cases.csv </em>包含所有即将进行的选择性手术列表:</p><figure class="mi mj mk ml gt mm"><div class="bz fp l di"><div class="ns nt l"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">案例数据(仅前4行)</p></figure><p id="7f66" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ng"> sessions.csv </em>包含所有即将举行的剧院会议的列表<em class="ng"> : </em></p><figure class="mi mj mk ml gt mm"><div class="bz fp l di"><div class="ns nt l"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">会话数据(仅前4行)</p></figure><p id="25d0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Github repo上提供了完整的CSV文件。</p><p id="1295" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们首先使用集合(类似于数组)和参数(键值对)将相关数据导入Pyomo ConcreteModel对象。</p><figure class="mi mj mk ml gt mm"><div class="bz fp l di"><div class="ns nt l"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">病例和会话数据作为集合和参数从CSV导入到模型中。</p></figure><p id="d7a9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用许多辅助函数来初始化Pyomo集合和参数。为了简洁起见，这里省略了这些，但是可以在Github repo上找到。</p><p id="cf1d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还定义了一个名为TASKS的集合，它包含(CaseID，SessionID)的所有可能组合的列表。这代表了所有可用的潜在案例分配决策:</p><figure class="mi mj mk ml gt mm"><div class="bz fp l di"><div class="ns nt l"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">我们生成案例和会话的所有可能组合，并将它们存储在任务集中。</p></figure><h2 id="8176" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">2.决策变量</h2><p id="dbd9" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">主要决定是将案例分配给会话。这需要对上述任务中的每个病例-会话组合做出二元是/否决定。</p><p id="a432" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还想计算每个案例的开始时间和每个会话的利用率。总而言之，我们有3个决策变量:</p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/5917b16ed9297fe3f4372ce32c55f04b.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*REyLprZYN_Ps2i0GrXbK-Q.png"/></div></figure><p id="9029" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在Pyomo模型中定义这些决策变量如下:</p><figure class="mi mj mk ml gt mm"><div class="bz fp l di"><div class="ns nt l"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">我们使用Var函数定义了3个决策变量</p></figure><h2 id="7457" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">3.目标函数</h2><p id="292c" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">线性规划的一个优点是可以灵活地定义一个代表我们业务需求的目标函数。我们可以自由定义任何(线性)函数，在我们的例子中，我们的目标是最大化所有会话的利用率:</p><figure class="mi mj mk ml gt mm"><div class="bz fp l di"><div class="ns nt l"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">我们的Pyomo模型的单一线性目标函数最大化。</p></figure><h2 id="8796" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">4.限制</h2><p id="b6b5" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">接下来，我们添加约束。约束捕获了所有的规则(在这个例子中不太现实！)确保由模型返回的解决方案构成可行的剧院时间表。这里我们有6条规则:</p><ol class=""><li id="1e07" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nv nd ne nf bi translated">案例的开始时间必须在它被分配到的会话的开始时间之后</li><li id="c3e3" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nv nd ne nf bi translated">案例必须在其分配的会话结束之前结束</li><li id="da2c" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nv nd ne nf bi translated">一个案例最多可以分配给<strong class="kh ir">一个会话</strong></li><li id="3d7c" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nv nd ne nf bi translated">案例不能在其截止日期后分配给会话</li><li id="91ea" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nv nd ne nf bi translated">两个案例不能重叠:一个案例的开始时间必须在另一个案例的结束时间之后</li><li id="78fc" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nv nd ne nf bi translated">一个时段的利用率等于外科病例所占用的时段的一部分</li></ol><p id="5f7d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还限制了决策变量的范围。利用率必须介于0和85%之间(因为15%的会话必须保持空闲以用于其他活动)，并且案例的开始时间必须介于0和一天的分钟数(1440)之间。</p><h2 id="204b" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated"><strong class="ak"> 4.1向模型添加约束</strong></h2><p id="33d4" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">通过为每个约束编写单独的Python函数并使用Pyomo的<em class="ng">约束</em>方法，将上述约束添加到模型中:</p><figure class="mi mj mk ml gt mm"><div class="bz fp l di"><div class="ns nt l"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">模型约束-使用Pyomo的GDP扩展添加非线性析取。</p></figure><p id="2c57" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了将这些约束定义为线性方程，我们利用了两个值得注意的有用技术:<a class="ae lb" href="https://en.wikipedia.org/wiki/Big_M_method" rel="noopener ugc nofollow" target="_blank">大M公式</a>和<a class="ae lb" href="https://en.wikipedia.org/wiki/Logical_disjunction" rel="noopener ugc nofollow" target="_blank">逻辑析取</a>。</p><p id="b810" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">大M公式</strong></p><p id="13ef" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">大M方法是一种打开和关闭约束的技巧。例如，上面的约束1规定案例必须在会话开始时间之后开始。这只对案例分配到的会话有效。它不应该适用于所有其他的会议。我们确保这种不平等会发生:</p><pre class="mi mj mk ml gt nw nx ny nz aw oa bi"><span id="988a" class="lj lk iq nx b gy ob oc l od oe">case_start_time &gt;= session_start_time - (1 - session_assigned)*M</span></pre><p id="1e0e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中<em class="ng"> M </em>是一个足够大的常数，而<em class="ng"> session_assigned </em>是一个二元变量。盯着这个足够长的时间后，它开始变得有意义。如果<em class="ng"> session_assigned </em>等于1，则必须保持该规则。然而，如果<em class="ng"> session_assigned </em>为0，则(假设M足够大)RHS上的第二项变得比第一项大得多，因此整个RHS总是负的。因为我们的可变边界强制<em class="ng"> case_start_time ≥ 0 </em>，所以实际上没有额外的限制。</p><p id="091f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">析取编程</strong></p><p id="086a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第5个约束是一个逻辑析取:由OR关系链接的一组约束。析取关系表明，对于同一会话中的任何一对案例，要么案例1发生在案例2 <strong class="kh ir">之前，要么</strong>案例2发生在案例1之前。</p><p id="6f51" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种关系是非线性的，因此我们必须将其转换为线性约束，以便使用标准的线性解算器。为此，我们使用了Pyomo的广义析取编程(GDP)建模扩展(参见上面代码片段中的第27行)。它允许我们将析取定义为一个简单的Python函数，要将“析取”模型转换回标准的混合内部编程(MIP)模型，我们需要做的就是包含以下代码行:</p><pre class="mi mj mk ml gt nw nx ny nz aw oa bi"><span id="29b8" class="lj lk iq nx b gy ob oc l od oe">pe.TransformationFactory("gdp.bigm").apply_to(model)</span></pre><p id="2b09" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">GDP扩展可以通过增加大M约束和引入新的二进制变量来避免，但我们将保持析取，因为它是可行的和可读的。</p><p id="6241" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们完成了！完整的线性规划模型是:</p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div class="gh gi of"><img src="../Images/c470c6cf11e655285e3d0a1b5657b3ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*mYjAy66xZJm9-9FVLGyeGA.png"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">择期手术计划的柔性作业车间调度模型。</p></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="ba0f" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">求解模型—生成剧院时间表</h2><p id="e2f5" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">使用Pyomo这样的接口的一个优点是很容易尝试不同的线性解算器，而不用用另一种编码语言重写模型。</p><p id="d0d5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里我们使用硬币或分支切割(CBC)——一个开源的混合整数程序求解器(<a class="ae lb" href="https://github.com/coin-or/Cbc" rel="noopener ugc nofollow" target="_blank">https://github.com/coin-or/Cbc</a>)。</p><p id="48b0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面的代码片段使用Pyomo的SolverFactory类求解模型。该类可以采用许多调整参数来控制所选求解器的操作，但为了简单起见，我们保留默认设置，除了60秒的时间限制。</p><figure class="mi mj mk ml gt mm"><div class="bz fp l di"><div class="ns nt l"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">使用CBC求解器求解Pyomo MIP模型</p></figure><h2 id="3df9" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">结果</h2><p id="8dce" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">下面是一个甘特图，显示了模型返回的解决方案。输入的案例和会话数据在处<a class="ae lb" href="https://github.com/Lewisw3/theatre-scheduling/tree/master/data" rel="noopener ugc nofollow" target="_blank">可用</a> <a class="ae lb" href="https://github.com/Lewisw3/theatre-scheduling/tree/master/data" rel="noopener ugc nofollow" target="_blank">:</a></p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div class="gh gi og"><img src="../Images/cc2c2835444b7c82cce50a71e66f23ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*pFJL3k060OX0aEXBeYxxdQ.png"/></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">模型结果:手术病例(编号1-30)被分配到四个手术室。每个剧场至少有15%的时间用于其他活动。</p></figure><p id="bb75" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的图表显示了一个可行的案例和会议时间表，在我们的限制下最大限度地利用所有会议。提供给模型的输入数据的需求(病例时间)多于容量(会话时间)，并且模型发现放弃病例#2(持续时间为70分钟的玻璃体切除术)是最大化所有会话的总利用率的最佳选择。</p><h2 id="371f" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">结论</h2><p id="b3d0" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">线性规划是帮助组织快速做出明智决策的强大工具。对于数据科学家来说，这是一项有用的技能，有了Pyomo这样的开源库，用Python来构建模型就很容易了。</p><p id="d07d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们创建了一个简单的优化模型来有效地安排手术。尽管不是真实世界的解决方案，但它展示了线性规划等优化方法如何支持规划者最大限度地利用他们的可用资源。</p><p id="088e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该模型的潜在后续步骤包括:</p><ul class=""><li id="6332" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nc nd ne nf bi translated">调整求解器参数以提高性能并缩短求解时间</li><li id="1f51" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nc nd ne nf bi translated">重构模型以简化问题并减少求解时间</li><li id="991a" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nc nd ne nf bi translated">调整目标函数以更好地表示性能目标</li><li id="319d" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nc nd ne nf bi translated">纳入额外的约束，以更好地代表现实世界的选择性剧院调度</li><li id="1d0e" class="mx my iq kh b ki nh kl ni ko nj ks nk kw nl la nc nd ne nf bi translated">使用更复杂的方法来预测案例时间</li></ul><p id="dc49" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">关于最后一点，线性规划等规范性分析技术正越来越多地与机器学习等预测性方法相结合。对于像这里介绍的调度应用程序，机器学习可以用来预测任务的持续时间，甚至哪些任务将会发生。一旦预测到需求，优化方法可以帮助规划。</p><p id="3e3b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢阅读！如果您有任何问题或意见，请随时联系我们。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="8762" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">参考</h2><p id="0379" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">[1] NHS改进(2019)。手术室:减少等候名单的机会。可在:<a class="ae lb" href="https://improvement.nhs.uk/resources/operating-theatres-opportunities-reduce-waiting-lists/" rel="noopener ugc nofollow" target="_blank">https://improvement . NHS . uk/resources/operating-theaters-opportunities-reduce-waiting-lists/</a>获取</p><p id="79b6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[2]f . Guerriero，r . Guido，手术室管理中的运筹学:调查。<em class="ng">卫生保健管理科学</em> <strong class="kh ir"> 14，</strong>89–114(2011)。<a class="ae lb" href="https://doi.org/10.1007/s10729-010-9143-6" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.1007/s10729-010-9143-6</a></p><p id="7439" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[3] Cardoen等.手术室规划和调度:文献综述。<em class="ng">欧洲运筹学杂志</em><strong class="kh ir">201(3)；</strong><em class="ng"/>921–932(2010)。<a class="ae lb" href="https://doi.org/10.1016/j.ejor.2009.04.011" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.1016/j.ejor.2009.04.011</a></p></div></div>    
</body>
</html>