<html>
<head>
<title>How to Differentiate Between Scaling, Normalization, and Log Transformations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何区分缩放、规范化和对数转换</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-differentiate-between-scaling-normalization-and-log-transformations-69873d365a94?source=collection_archive---------4-----------------------#2021-05-22">https://towardsdatascience.com/how-to-differentiate-between-scaling-normalization-and-log-transformations-69873d365a94?source=collection_archive---------4-----------------------#2021-05-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0631" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">获取特征工程数值变量的实用知识</h2></div><p id="e4da" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">了解标准化(缩放)、规范化和对数变换之间的根本区别。深入了解何时应用每种方法，并选择其中一种方法。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/23da48c86e2b2ae7b3cdf25861db8cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dOkqbBZxPp5ymRdV8jmicQ.jpeg"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated"><strong class="bd lu">照片由</strong> <a class="ae lv" href="https://www.pexels.com/@eye4dtail?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd lu">乔治·贝克尔</strong> </a> <strong class="bd lu">上</strong> <a class="ae lv" href="https://www.pexels.com/photo/grayscale-photography-of-three-wise-monkey-figurines-134402/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd lu">像素</strong> </a></p></figure><h2 id="24d4" class="lw lx it bd ly lz ma dn mb mc md dp me kr mf mg mh kv mi mj mk kz ml mm mn mo bi translated">符合统计方法意味着什么？</h2><p id="3e4c" class="pw-post-body-paragraph ki kj it kk b kl mp ju kn ko mq jx kq kr mr kt ku kv ms kx ky kz mt lb lc ld im bi translated">您可能在课程或文章中遇到过这种情况:</p><blockquote class="mu"><p id="41df" class="mv mw it bd mx my mz na nb nc nd ld dk translated">数据集中的要素应符合模型的统计假设。</p></blockquote><p id="16e0" class="pw-post-body-paragraph ki kj it kk b kl ne ju kn ko nf jx kq kr ng kt ku kv nh kx ky kz ni lb lc ld im bi translated">符合统计假设是什么意思？如果数字特征或多或少不遵循标准的<a class="ae lv" rel="noopener" target="_blank" href="/how-to-use-normal-distribution-like-you-know-what-you-are-doing-1cf4c55241e3?source=your_stories_page-------------------------------------">高斯(正态)分布</a>，那么在Sklearn中实现的许多模型可能表现不佳。除了基于树的模型，Sklearn算法的目标函数<em class="nj">假设</em>特征遵循正态分布。</p><p id="f65b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">实际上，用<em class="nj">这个词假设</em>会把事情看得很轻。对于像K-最近邻这样的模型，特征变换是算法预期执行的一个要求:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="31ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在实践中，您甚至可能面临这样的场景，其中特性转换的效果甚至比性能提高5%还要显著。</p><p id="1d8c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以应用多种技术来使您的要素或多或少地遵循正态分布，并且它们根据每个要素的基础分布而有所不同。</p><p id="1dce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这篇文章将教你三种技术:缩放、归一化和对数变换。您将对它们的差异以及何时在您的工作流程中应用它们有一个实际的了解。</p><div class="nm nn gp gr no np"><a href="https://ibexorigin.medium.com/membership" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">通过我的推荐链接加入Medium-BEXGBoost</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">获得独家访问我的所有⚡premium⚡内容和所有媒体没有限制。支持我的工作，给我买一个…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">ibexorigin.medium.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od lo np"/></div></div></a></div><p id="334e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">获得由强大的AI-Alpha信号选择和总结的最佳和最新的ML和AI论文:</p><div class="nm nn gp gr no np"><a href="https://alphasignal.ai/?referrer=Bex" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">阿尔法信号|机器学习的极品。艾总结的。</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">留在循环中，不用花无数时间浏览下一个突破；我们的算法识别…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">alphasignal.ai</p></div></div><div class="ny l"><div class="oe l oa ob oc ny od lo np"/></div></div></a></div></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><h2 id="4083" class="lw lx it bd ly lz ma dn mb mc md dp me kr mf mg mh kv mi mj mk kz ml mm mn mo bi translated">识别特征的基本分布</h2><p id="104b" class="pw-post-body-paragraph ki kj it kk b kl mp ju kn ko mq jx kq kr mr kt ku kv ms kx ky kz mt lb lc ld im bi translated">在应用您将要学习的任何技术之前，直观地探索每个特性是很重要的。你不必创造完美的情节；具有默认样式的简单直方图和箱线图将足以识别分布。看看这些来自Seaborn钻石数据集的直方图:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/e44610ea0cd0d097abaa47bdc74b5d47.png" data-original-src="https://miro.medium.com/v2/format:webp/1*_GfQ7xMQHU13vDQX8a5sGg.png"/></div></figure><p id="6025" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请密切注意分布的形状和X轴上的范围。支线剧情显示价格和克拉特征遵循偏斜分布，深度、表格和<em class="nj"> x </em>可能有点像正态分布。</p><p id="f756" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了分布之外，值的范围也是特性的一个重要方面。箱线图最好使用五位数的摘要来显示这一点:</p><pre class="lf lg lh li gt on oo op oq aw or bi"><span id="970e" class="lw lx it oo b gy os ot l ou ov">&gt;&gt;&gt; diamonds.boxplot()</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/22e38e00ab260ef905115748557971ab.png" data-original-src="https://miro.medium.com/v2/format:webp/1*JepychOBqbIv_1aaEKcfHA.png"/></div></figure><p id="00d7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的剧情足以告诉我们，特征有非常不同的尺度。由于钻石价格具有更大的价值尺度，他们将其他箱线图压成一条线。以下是五位数的总结，以供进一步比较:</p><pre class="lf lg lh li gt on oo op oq aw or bi"><span id="1b87" class="lw lx it oo b gy os ot l ou ov">&gt;&gt;&gt; diamonds.describe().T.round(2)</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/8d122645637811b100232dde54fd5826.png" data-original-src="https://miro.medium.com/v2/format:webp/1*t9Wv0wB2heWr06FjXcXrwg.png"/></div></figure><p id="f731" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">既然您已经了解了如何识别分布的形状以及每个要素的比例差异，那么到本文结束时，我们将使所有要素都具有相同的比例，并且或多或少地遵循正态分布，如下所示:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/dfe7737a57aeeca60e25baf9956eedc9.png" data-original-src="https://miro.medium.com/v2/format:webp/1*F8PbySgmZ-DxWWr06gVUig.png"/></div></figure></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><h2 id="6771" class="lw lx it bd ly lz ma dn mb mc md dp me kr mf mg mh kv mi mj mk kz ml mm mn mo bi translated">使用StandardScaler进行缩放或标准化</h2><p id="ce69" class="pw-post-body-paragraph ki kj it kk b kl mp ju kn ko mq jx kq kr mr kt ku kv ms kx ky kz mt lb lc ld im bi translated">解决一个要素的方差比其他要素大得多的情况的默认方法之一是使用缩放(也称为标准化):</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="4b82" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">根据<a class="ae lv" href="https://scikit-learn.org/stable/modules/preprocessing.html#standardization-or-mean-removal-and-variance-scaling" rel="noopener ugc nofollow" target="_blank">官方Sklearn关于缩放的指南</a>:</p><blockquote class="ow ox oy"><p id="6c73" class="ki kj nj kk b kl km ju kn ko kp jx kq oz ks kt ku pa kw kx ky pb la lb lc ld im bi translated">学习算法的目标函数中使用的许多元素假设所有特征都以零为中心，并且具有相同数量级的方差。如果某个特征的方差比其他特征的方差大几个数量级，那么它可能会主导目标函数，使估计器无法像预期的那样正确地从其他特征中学习。</p></blockquote><p id="14d6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，许多模型通常需要伸缩来实现高性能。Sklearn在<code class="fe pc pd pe oo b">StandardScaler()</code>转换器中实现了这一点，转换器<em class="nj">将</em>数字特征转换为平均值为0，方差为1。</p><p id="3958" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">SS通过两种操作实现这一点:</p><ol class=""><li id="085d" class="pf pg it kk b kl km ko kp kr ph kv pi kz pj ld pk pl pm pn bi translated"><strong class="kk iu">居中</strong>:从分布中的每个值中减去平均值。</li><li id="83d9" class="pf pg it kk b kl po ko pp kr pq kv pr kz ps ld pk pl pm pn bi translated"><strong class="kk iu">缩放</strong>:将每个结果除以标准偏差。</li></ol><p id="f9c9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些操作使原始特征遵循正态分布。下面是我们如何手动完成这项工作:</p><blockquote class="ow ox oy"><p id="bc88" class="ki kj nj kk b kl km ju kn ko kp jx kq oz ks kt ku pa kw kx ky pb la lb lc ld im bi translated">我们忽略了价格和克拉特征，因为它们遵循一个偏斜的分布。稍后将详细介绍。</p></blockquote><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/d3fdcb3339325cb88e9a77215a85b513.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-tbWDsXbYQ3_O3xx9Fktpg.png"/></div></figure><p id="616f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们对<code class="fe pc pd pe oo b">StandardScaler()</code>做同样的事情:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/3214f883de366dfd290e72c185ab88a8.png" data-original-src="https://miro.medium.com/v2/format:webp/1*QQCRGQYp0_kWWSAa1ojGmg.png"/></div></figure><p id="6184" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样的结果。</p><p id="2fd1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">检查平均值和方差:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="8eab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，让我们关注缩放的有效性。深度和x T4现在看起来真的像高斯分布。然而，特征表、<em class="nj"> y、</em>和<em class="nj"> z </em>仍然挤在它们的图的角落里，表明异常值的存在(否则，大部分直方图会在中心)。这意味着缩放在深度和<em class="nj"> x </em>特征上效果更好，但在其他特征上效果不佳。我们将在接下来的章节中记录这一点。</p></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><h2 id="b9b3" class="lw lx it bd ly lz ma dn mb mc md dp me kr mf mg mh kv mi mj mk kz ml mm mn mo bi translated">使用PowerTransformer进行日志转换</h2><p id="2a03" class="pw-post-body-paragraph ki kj it kk b kl mp ju kn ko mq jx kq kr mr kt ku kv ms kx ky kz mt lb lc ld im bi translated">当一个要素不遵循线性分布时，使用平均值和标准差对其进行缩放是不明智的。例如，如果我们缩放价格和克拉的偏态分布，会发生以下情况:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/6197a0c037769ea1babe6b250de68593.png" data-original-src="https://miro.medium.com/v2/format:webp/1*8Zjcrp-HrFA2tmv2UWZDgA.png"/></div></figure><p id="49b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">特征仍然是倾斜的这一事实证实了标准化对它们不起作用。</p><p id="21ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了实现非线性转换，Sklearn提供了一个<code class="fe pc pd pe oo b">PowerTransformer</code>类(使用对数函数),帮助最小化偏斜度，并将任何分布尽可能地映射到正态分布:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/fb3c5f09a3d59729e916017f77e6e943.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Gj8TqtXwbSzulppb6gvUqQ.png"/></div></figure><pre class="lf lg lh li gt on oo op oq aw or bi"><span id="4cba" class="lw lx it oo b gy os ot l ou ov">&gt;&gt;&gt; diamonds[["carat", "price"]].var()</span><span id="98d6" class="lw lx it oo b gy pt ot l ou ov">carat    1.000019<br/>price    1.000019<br/>dtype: float64</span></pre><p id="3e56" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">新功能看起来比旧的倾斜功能好得多。因此，每当面对偏斜分布时，使用<code class="fe pc pd pe oo b">PowerTransformer</code>类。</p></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><h2 id="8c82" class="lw lx it bd ly lz ma dn mb mc md dp me kr mf mg mh kv mi mj mk kz ml mm mn mo bi translated">使用最小最大缩放器归一化</h2><p id="49b5" class="pw-post-body-paragraph ki kj it kk b kl mp ju kn ko mq jx kq kr mr kt ku kv ms kx ky kz mt lb lc ld im bi translated">缩放的替代方法称为<em class="nj">归一化</em>。归一化不使用方差和平均值，而是使用分布的最小值和最大值。以下等式用于每个值:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/cafcb7a44502fc7708dcc98379af6b5e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*mzz4IR9dkFrenjCusB7hng.png"/></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">作者图片</p></figure><p id="fbfb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种变换的效果是给出分布的绝对最小值和最大值，通常在0和1之间。Sklearn提供了一个类似的<code class="fe pc pd pe oo b">MinMaxScaler</code>转换器来实现这一点:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl om"><img src="../Images/227ff82f0b7a3b9a4c044cc5e861ba3d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*qo0rXWlu-hDTCuepSxKq_Q.png"/></div></figure><p id="e1a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">即使强制要素遵循正态分布，要素也不会有单位方差和平均值0:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="25ea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，使用这种方法有一些注意事项。例如，如果训练集中的最大值小于测试集中的最大值，缩放可能会导致意外的预测。最小值也是如此。</p><p id="267e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，MinMaxScaler不能很好地处理含有异常值的要素。我留给你去思考为什么(提示:注意MMScaler的公式)。</p><p id="f708" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，MinMaxScaler根本不会改变分布的形状。归一化后，值位于给定范围内，但分布形状保持不变。</p><p id="5e72" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于这些原因，StandardScaler的使用频率更高。</p></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><h2 id="a2d8" class="lw lx it bd ly lz ma dn mb mc md dp me kr mf mg mh kv mi mj mk kz ml mm mn mo bi translated">把所有的放在一起</h2><p id="1260" class="pw-post-body-paragraph ki kj it kk b kl mp ju kn ko mq jx kq kr mr kt ku kv ms kx ky kz mt lb lc ld im bi translated">在本节中，我们将尝试使用逻辑回归算法来预测钻石切工。我们将在管道中使用StandardScaler和PowerTransformer。如果你不熟悉Sklearn管道和ColumnTransformers的工作原理，可以看看这篇文章:</p><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/how-to-use-sklearn-pipelines-for-ridiculously-neat-code-a61ab66ca90d"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">如何将Sklearn管道用于极其简洁的代码</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">编辑描述</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="pu l oa ob oc ny od lo np"/></div></div></a></div><p id="7cd0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们开始吧。首先，我们将构建特性/目标数组，并提取我们将应用转换器的列的名称:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="0604" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们将创建一个ColumnTransformer对象，该对象将转换器映射到相关的列:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="e380" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将把这个变压器插入一个以逻辑回归结尾的管道:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="4d29" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们将数据分为训练集和测试集，并测量分类器的性能:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="53f5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的ROC AUC值为0.83。此时，您可以开始超参数调整来改善这一点。</p></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><h2 id="8528" class="lw lx it bd ly lz ma dn mb mc md dp me kr mf mg mh kv mi mj mk kz ml mm mn mo bi translated">上述变压器的数据泄漏注意事项</h2><p id="97ed" class="pw-post-body-paragraph ki kj it kk b kl mp ju kn ko mq jx kq kr mr kt ku kv ms kx ky kz mt lb lc ld im bi translated">无论何时进行预处理，都要注意<a class="ae lv" href="https://www.forcepoint.com/cyber-edu/data-leakage#:~:text=Data%20leakage%20is%20the%20unauthorized,is%20transferred%20electronically%20or%20physically." rel="noopener ugc nofollow" target="_blank">数据泄漏</a>。因为我们今天学习的所有转换器都是从特性的底层分布中获得度量的，所以它们很容易从测试数据中泄露数据。</p><p id="f8cf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是为什么建议在预处理之前将数据分成训练/测试集。此外，不要在测试集上使用<code class="fe pc pd pe oo b">fit_transform()</code>方法。变压器应全部符合训练数据，随后的转换应仅使用<code class="fe pc pd pe oo b">transform</code>方法:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="1359" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，在管道中使用这些变压器就不用担心这个了。Sklearn在拟合和转换特征时会处理引擎盖下的数据泄漏。</p></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><h2 id="2d4b" class="lw lx it bd ly lz ma dn mb mc md dp me kr mf mg mh kv mi mj mk kz ml mm mn mo bi translated">摘要</h2><p id="7013" class="pw-post-body-paragraph ki kj it kk b kl mp ju kn ko mq jx kq kr mr kt ku kv ms kx ky kz mt lb lc ld im bi translated">在本文中，您学习了如何对数字要素进行特征工程，以符合许多模型的统计假设。具体来说，我们学习了如何:</p><ul class=""><li id="88d2" class="pf pg it kk b kl km ko kp kr ph kv pi kz pj ld pv pl pm pn bi translated">使用<code class="fe pc pd pe oo b">StandardScaler</code>缩放数据，当我们希望某个特征遵循均值为0且单位方差为正态分布时，会使用该转换器。最常用于没有太多异常值的分布或其他一般形状的分布。</li><li id="1363" class="pf pg it kk b kl po ko pp kr pq kv pr kz ps ld pv pl pm pn bi translated">使用<code class="fe pc pd pe oo b">PowerTransformer</code>记录转换数据，当我们希望将严重倾斜的特征转换为尽可能接近的正态分布时，可以使用该转换器。</li><li id="d579" class="pf pg it kk b kl po ko pp kr pq kv pr kz ps ld pv pl pm pn bi translated">使用<code class="fe pc pd pe oo b">MinMaxScaler</code>归一化数据，当我们希望特征值位于特定的最小值和最大值范围内时，可以使用这个转换器。它不能很好地处理许多异常值，如果测试集中的值超出了给定的范围，很容易出现意外的行为。这是一种不太受欢迎的缩放替代方案。</li></ul><p id="bec3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读！</p><div class="nm nn gp gr no np"><a href="https://ibexorigin.medium.com/membership" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">通过我的推荐链接加入Medium。</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">ibexorigin.medium.com</p></div></div><div class="ny l"><div class="pw l oa ob oc ny od lo np"/></div></div></a></div><div class="nm nn gp gr no np"><a href="https://ibexorigin.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">每当Bex T .发布时收到电子邮件。</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">每当Bex T .发布时收到电子邮件。注册后，如果您还没有中型帐户，您将创建一个…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">ibexorigin.medium.com</p></div></div><div class="ny l"><div class="px l oa ob oc ny od lo np"/></div></div></a></div></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><p id="414e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">我的更多故事:</strong></p><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/10-minute-effortless-sql-tutorial-for-die-hard-pandas-lovers-a64c36733fd0"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">10分钟轻松的SQL教程，适合铁杆熊猫爱好者</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">曾几何时，情况正好相反</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="py l oa ob oc ny od lo np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/how-to-create-slick-math-animations-like-3blue1brown-in-python-457f74701f68"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">如何用Python创建像3Blue1Brown这样流畅的数学动画</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">学习将你对数学和编程的热爱结合起来的最佳方式</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="pz l oa ob oc ny od lo np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/matplotlib-vs-plotly-lets-decide-once-and-for-all-dc3eca9aa011"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">Matplotlib vs. Plotly:让我们决定一劳永逸</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">从7个关键方面进行深入快速的比较</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="qa l oa ob oc ny od lo np"/></div></div></a></div><div class="nm nn gp gr no np"><a href="https://ibexorigin.medium.com/yes-these-unbelievable-masterpieces-are-created-with-matplotlib-b62e0ff2d1a8" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">是的，这些令人难以置信的杰作是用Matplotlib创作的</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">它们让我的作品看起来像孩子画的树</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">ibexorigin.medium.com</p></div></div><div class="ny l"><div class="qb l oa ob oc ny od lo np"/></div></div></a></div></div></div>    
</body>
</html>