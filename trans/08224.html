<html>
<head>
<title>Getting familiar with Rmarkdown HTML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熟悉Rmarkdown HTML</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/getting-familiar-with-rmarkdown-html-f5b3bc4ec210?source=collection_archive---------21-----------------------#2021-07-28">https://towardsdatascience.com/getting-familiar-with-rmarkdown-html-f5b3bc4ec210?source=collection_archive---------21-----------------------#2021-07-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ba67" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用R降价</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d0e5ede262fc0665e16c531aa0a3e08e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a6q38D_B7tPSA_Zp"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@homajob?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">斯科特·格雷厄姆</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><blockquote class="kw kx ky"><p id="66ea" class="kz la lb lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我认为开始做任何事都不晚，除了成为一名芭蕾舞演员。~温迪·利伯曼</p></blockquote><p id="a3aa" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir">简介</strong></p><p id="fb17" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">R Markdown最早发布于2014年。它是一个工具，为作者提供了一些强大的技术来将报告和分析合并到一个文档中。R Markdown的官方<a class="ae kv" href="https://rmarkdown.rstudio.com/" rel="noopener ugc nofollow" target="_blank">网站</a>声称这个工具可以用于可复制的文档，以优雅的格式放置叙述性文本和报告元素；使用像R、Python和SQL这样的语言。它允许作者以HTML、PDF、Word、演示文稿甚至书籍或仪表板的形式生成组合报告。多年来，许多研究人员、分析师、内容作者、开发人员和软件程序员一直在不懈地发布文章、书籍和帖子，以熟悉研究和分析工作区中的这一强大工具。如果没有这些资源的贡献，从构思将该工具集成到分析表示中，到设置工作站和实际执行任务的过程是不可能的。其中一些将在文章中分享。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lz"><img src="../Images/312b3c1a5f40b69f93c89ce04914849b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fK6W37rz7U5_JtEB"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@kaleidico?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">万花筒</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="f724" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">R Markdown被认为在研究和学术领域被学生和教授广泛采用。项目、作业、论文或论文的提交需要在结合数据集、图表、表格、见解、统计结果以及数学方程方面付出大量努力。下图显示了过去52周几个关键R Markdown包的下载趋势。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ma"><img src="../Images/2b9f96aa079b125f81313972311885f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c7EU7AfNaiDq_solXQvAyA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图-1 rmakrdown，knitr，tinytex的52周下载趋势。(闪亮App来源):<a class="ae kv" href="http://varianceexplained.org/r/cran-view/" rel="noopener ugc nofollow" target="_blank">链接</a></p></figure><p id="5e8f" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir">虽然通过减价来使用纯文本文档是为互联网用户创建格式良好的文档的关键，但由于多种原因，在企业工作区大规模采用这种做法可能会很麻烦</strong>。大多数公司的工作空间严重依赖于幻灯片，多个用户可以编辑和润色内容，而无需花费太多精力进行语法编码。幻灯片或办公工具允许不同类型和大小的内容众包来传达一个共同的信息。然而，如果一个作者主要使用像R或Python这样的开源编码平台，通过各种复杂的数据源来策划一个讲故事的练习，那么R Markdown可以为分析或科学文章提供几个这样的用例。</p><p id="4d1a" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir">议程</strong></p><p id="fbce" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">在<em class="lb">这篇</em>文章中，我们将主要关注R Markdown用于生成HTML文档的一些快速而有用的特性。<strong class="lc ir">目标是分享一些可用于生成HTML输出格式</strong>的基本和扩展元素。我的目标不是出版一本有效的手册或食谱给读者，而是分享我在过去几周收集的快乐和挑战。不过在RStudio编辑器中使用install.packages()函数预装这些包就好了；<em class="lb"> "rmarkdown "、" tinytex "、" gridExtra "、" kableExtra "、" summarytools "、" sjPlot "、" sjmisc "、" sjlabelled "、" stargazer" </em>。首先，无论如何，我们都将依赖这些实用程序来完成本文。</p><p id="f0a3" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir"> R降价元数据</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mb"><img src="../Images/4c6366e3d4051e86b0cf54060ef7de87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qXJ8pwZbpW8ImWNA4hHBgg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图-2 R降价元数据。(图片来源) :图片来自作者</p></figure><p id="a576" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">在RStudio中，如果我们遵循File → New file → R Markdown，那么我们将得到一个创建HTML文档的选项，该选项是默认选中的。一旦我们单击“OK ”,我们将被定向到一个. rmd脚本，其中元数据部分是自动填充的(<em class="lb">由包含三个破折号的线</em>分隔)。这种结构遵循YAML非标记语言(YAML)格式，它通过R进行通信，为HTML输出提供特定的结构指令。作者可以在引号内键入相关的<em class="lb">标题</em>、作者姓名和日期，这将允许R Markdown将它们放在文档的顶部。不像<em class="lb">标题，在双引号内键入姓名或日期并不是强制性的。</em>标题中的引用需要从文本中屏蔽冒号(:)。</p><p id="593f" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">下面的YAML元数据为HTML文档添加了标题、名称和当前系统日期。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi me"><img src="../Images/9622e0164d7d511141284bd8be269d34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mNPFF7Xbf8u2DtfIycJiBQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图3元数据输出。(图片来源) :图片来自作者</p></figure><p id="0260" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">还有更多在PDF格式中大量使用的元数据功能。<strong class="lc ir"> <em class="lb">大多为HTML用例；在我们不需要为分页符而烦恼的地方，对自动填充的YAML的上述修改就足够了</em> </strong>。</p><p id="44e7" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir">代码块设置</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="5d96" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">三个连续的反勾号后跟一对以字母“R”开头的花括号，调用环境中的R编辑器。这必须以另外三个连续的倒勾结束。在此期间，作者可以编写代码块。<em class="lb">setup部分中声明的任何选项将优先用于流向整个文档的剩余块，除非在单个块中明确更改</em>。设置选项是习惯性的，是文档特有的，是一次性的练习，也是很好的实践。我们不需要为同一个文档重复设置两次。include=FALSE选项告诉设置不要在输出中包含代码块中的任何内容。warning=FALSE和message=FALSE特别要求设置不要在HTML文档中包含来自R代码的任何警告消息。打开这些选项意味着作者想要打印代码中的所有内容。许多选项都有详细的记录，可以在<a class="ae kv" href="https://yihui.org/knitr/options/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。还有一个echo=FALSE选项，请求在输出文档中不包含源代码。我们将暂时在每个块中使用echo选项。</p><p id="8947" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir">哈希和文本</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mf"><img src="../Images/04235a0a3c5f79bcd50e36177d54c9e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pL0R0T5wf371k205wifCkg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图4使用多少个散列值？(图片来源) :图片来自作者</p></figure><p id="2e8d" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">在定义与R或Python相关的代码块的反斜杠之外，作者可以使用“#”符号后跟一个空格来定义部分。散列越多，意味着章节<em class="lb">标题</em>的字体越小。根本不使用散列意味着简单的降价文本。</p><p id="d70e" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">我遵循的一个非常快速简单的参考是这里的<a class="ae kv" href="https://monashbioinformaticsplatform.github.io/2017-11-16-open-science-training/topics/rmarkdown.html" rel="noopener ugc nofollow" target="_blank"/>。它快速提醒我如何使用斜体、粗体、项目符号列表或编号列表。</p><p id="ea04" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir">包摘要工具</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/e1ad4cb2840204fb4c41556b75f9b59a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yNJzrW1zW6ldOUSZibbFJw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图5使用dfSummary()在HTML中包含数据摘要。(图片来源) :图片来自作者</p></figure><p id="5922" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir"> <em class="lb">这个包在一个HTML报告</em> </strong>中显示数据集的有用的汇总统计数据。开发这个包的主要目标之一是确保通过R Markdown以HTML格式轻松呈现数据摘要。对于具有大量分类特征的数据集，通常需要在获得叙述性文本之前显示数据透视表的快照。这个包提供了一些其他的核心功能来满足这个目的。详细的链接是<a class="ae kv" href="https://cran.r-project.org/web/packages/summarytools/vignettes/Introduction.html" rel="noopener ugc nofollow" target="_blank">这里</a>，如果渲染HTML看起来很有趣，你可以把它加入书签。接下来的几个数字会给你一个基本的外观和感觉，你可以根据自己的兴趣进一步美化。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mh"><img src="../Images/b8f4b8a71aea58747855bbc7d9f21243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e9EA4aX6MyAadqYz7eFBuA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图6使用descr()在HTML中包含数值变量的单变量汇总。(图片来源) :图片来自作者</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mi"><img src="../Images/f5d44ab6ee86012ab7d68642c21ebedd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O_WJPD_n1N_xf6mqZ8fQFA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图7使用freq()处理HTML中的分类变量。(图片来源) :图片来自作者</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mj"><img src="../Images/09c086d77c7216323c3d6b08bd86abde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IUZ-bOPM1cxE8JlthmmY5w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图8使用stby()处理HTML中的分组摘要。(图片来源) :图片来自作者</p></figure><blockquote class="mk"><p id="1f35" class="ml mm iq bd mn mo mp mq mr ms mt lv dk translated">stby()中的INDICES参数接受多个分组变量作为列表。</p></blockquote><p id="c14a" class="pw-post-body-paragraph kz la iq lc b ld mu jr lf lg mv ju li lw mw ll lm lx mx lp lq ly my lt lu lv ij bi translated"><strong class="lc ir">打包kableExtra </strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/d1af5da308e6922c1030ccaa1d3291b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tq3V9aBg7iWCC3v2M4mXAQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图9在HTML中使用kableExtra。(图片来源) :图片来自作者</p></figure><p id="d2c2" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">这个包在使用R Markdown HTML时的意义是确保<strong class="lc ir"> <em class="lb">时尚且格式良好的表格显示在输出</em> </strong>中。这个实用程序产生的结果的外观和感觉与我们通常在R print()函数中看到的截然不同。这个实用程序的详细指南可以在<a class="ae kv" href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html" rel="noopener ugc nofollow" target="_blank">这里</a>找到，不用说，这个链接可以作为在R Markdown中编写语法的圣经。</p><p id="7437" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir">显示回归表</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/d1553f6110518cd0bf929c3f643ff408.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Py3E8qGnwjTq_OZR6GcVg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图10在HTML中使用tab_model()。(图片来源) :图片来自作者，(数据来源):<a class="ae kv" href="https://stats.idre.ucla.edu/r/dae/logit-regression/" rel="noopener ugc nofollow" target="_blank">链接</a></p></figure><p id="8d55" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir"> <em class="lb"> tab_model()允许作者在HTML文档</em> </strong>中显示格式良好的回归表。虽然无法将此工具用于PDF或Latex，但如果需要，可以通过导入来使用图像。这个函数有更多的参数，你可以使用<em class="lb">来检查？R控制台中的tab_model() </em>。请注意，在显示逻辑回归表时，<em class="lb"> tab_model() </em>已经自动将β系数转换为优势比，并显示了95%的置信区间，无需额外的努力。当作者想要展示建模实践中两到三个最重要的迭代或者甚至展示最终的模型时，这个模型就派上了用场。tab_model() 也是线性回归表或其他形式回归的常用工具。这里的链接<a class="ae kv" href="https://cran.r-project.org/web/packages/sjPlot/vignettes/tab_model_estimates.html" rel="noopener ugc nofollow" target="_blank">是在R Markdown中工作时的快速参考指南，我希望可以根据具体要求实现进一步的加速。</a></p><p id="1abd" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir"> HTML标签集</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/fa768397d062b71609f8c6d588160a64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D0pbGXQFgP6XAmENsRMLwg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图11在HTML中使用标签集。(图片来源) :图片来自作者</p></figure><p id="ac41" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">{.tabset}参数允许在HTML文档中创建选项卡。当调整了正确的哈希数后，我们可以看到每个选项卡都可以作为一个单独的页面，在这里可以放置进一步的分析和叙述性文本。当我们想要呈现不同公司的类似分析或者一个特定公司的不同模型时，这个选项卡集布局是有用的。选项卡集布局有助于放置分组的结果或模型输出，以便最终用户阅读和导航。</p><p id="a959" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><strong class="lc ir">结论</strong></p><p id="2104" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">R Markdown是一个很好的工具，可以为消费者生成可再现的分析图、表格、见解和图像。本文的目的不是鼓励Office套件和开源减价工具之间的任何争论。两者都有其独特的用法，并在提交分析结果时对作者有利。然而，随着R中如此强大的扩展的出现，R Markdown为作者提供了过多令人兴奋的特性来管理分析的外观和感觉。不用说，对于每一个分析，编写语法来美化HTML文档中的输出将是有用的和经济有效的，幻灯片或单词仍可能赢得比赛。然而，在使用R或Python分析数据时，R Markdown在增强分析师的工具箱方面取得了很大的进步。</p><p id="a384" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">除了栈溢出Q &amp; A forums 之外，本文中提供的超链接是我提到的最常访问的资源。<em class="lb">请看一下谢一辉、克里斯托夫·德维约和艾米丽·里德雷尔</em>写的 <a class="ae kv" href="https://bookdown.org/yihui/rmarkdown-cookbook/" rel="noopener ugc nofollow" target="_blank"> <em class="lb">书</em> </a> <em class="lb">。然而，我还想提一下这篇<a class="ae kv" href="https://medium.com/opex-analytics/r-markdown-my-favorite-tool-for-conducting-and-sharing-analysis-cf506bd85e2f" rel="noopener">文章</a>，它是一篇很好的读物，激励我写这篇文章。</em></p><p id="8d98" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">谢谢你。</p></div></div>    
</body>
</html>