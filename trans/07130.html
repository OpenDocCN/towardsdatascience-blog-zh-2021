<html>
<head>
<title>The case for using spatial SQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用空间SQL的案例</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-case-for-using-spatial-sql-1bf25b3b800d?source=collection_archive---------22-----------------------#2021-06-28">https://towardsdatascience.com/the-case-for-using-spatial-sql-1bf25b3b800d?source=collection_archive---------22-----------------------#2021-06-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9338" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为什么空间SQL很重要，以及它如何帮助您加快GIS和地理空间工作流的速度</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f4d50faab18f0dd6c186d9b228b34bb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZMHT3O8vAvVP12v9cVOgkw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">盖尔·加博雷尔在<a class="ae ky" href="https://unsplash.com/s/photos/globe?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="7cac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那是2012年的春天，我第一次遇到了SQL查询。</p><p id="f757" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2011年底，我刚搬到纽约，花了一个下午的时间在CARTO办公室观看他们平台的演示。CARTO的创始人贾维尔·德·拉·托雷向我展示了他们为上传、可视化和在网上发布地图而开发的神奇工具。</p><p id="4a45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后他按了一下屏幕上的开关，告诉我:</p><blockquote class="lv lw lx"><p id="9521" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">在这里，您可以在PostGIS中编写任何想要的查询，并立即将其显示在地图上！</p></blockquote><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="ff20" class="mh mi it md b gy mj mk l ml mm">SELECT * FROM us_states</span></pre><p id="494e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我第一次看到SQL查询，虽然我当时并不知道，但这个简单的语句将成为我未来日常工作中不可或缺的一部分，并以惊人的方式帮助我提高技能。</p><p id="96a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多年来，我已经成为空间SQL的主要倡导者，我相信这是我投资的最重要的技能之一。也就是说，开始可能会让人望而生畏。</p><p id="559d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用空间SQL，您需要有扎实的常规SQL基础，同时还要理解空间SQL的细微差别，这无疑需要时间。但最终，投资回报会弥补这一点:您可以更有效率，并获得大量自由，因为您将永远不必依赖任何工具或界面来分析或操作您的地理空间数据。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="9580" class="mu mi it bd mv mw mx my mz na nb nc nd jz ne ka nf kc ng kd nh kf ni kg nj nk bi translated">什么是空间SQL，为什么它与普通SQL不同？</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://giphy.com/gifs/nike-ad-9JgeSP0jlRAVBOG9FD" rel="noopener ugc nofollow" target="_blank">来源</a>来自GIPHY</p></figure><p id="4d07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很棒的问题！空间SQL使用普通SQL的所有相同元素和结构，但允许您使用另一种数据类型:几何或地理。</p><ul class=""><li id="8caf" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">几何是指数据位于投影坐标系或地球的平面表示中</li><li id="f5ea" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">地理是指你的数据在地球上(或其他地方，如<a class="ae ky" href="http://www.bostongis.com/blog/index.php/archives/266-geography-type-is-not-limited-to-earth.html?utm_source=postgresweekly&amp;utm_medium=email" rel="noopener ugc nofollow" target="_blank">火星</a>)以球面坐标表示的地方。你可以在这里阅读更多关于两个<a class="ae ky" href="https://blog.crunchydata.com/blog/postgis-and-the-geography-type" rel="noopener ugc nofollow" target="_blank">的区别。</a></li></ul><p id="595e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着这些新的数据类型而来的是一组函数，通常用ST(如ST_Intersects)表示，ST代表<strong class="lb iu">空间类型。</strong></p><p id="5c12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">许多数据库提供空间功能，例如:</p><ul class=""><li id="676b" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">带PostGIS的PostgreSQL</li><li id="eae1" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">Microsoft SQL Server</li><li id="1b50" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">关系型数据库</li><li id="be3b" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">带空间元素的SQLite</li><li id="547d" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">甲骨文空间</li></ul><p id="83fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以及数据仓库，例如:</p><ul class=""><li id="f8f6" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">谷歌大查询</li><li id="ac2b" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">雪花</li><li id="e140" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">AWS红移</li></ul><h1 id="b7d5" class="mu mi it bd mv mw ob my mz na oc nc nd jz od ka nf kc oe kd nh kf of kg nj nk bi translated">那么，为什么要学习空间SQL呢？</h1><p id="192e" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">就个人而言，它使我能够用空间数据和非空间数据做任何我能想到的事情。如果我能想到，我可以用空间SQL来实现。这也意味着我从不依赖任何单一的工具或数据管理解决方案。如果您将数据存储在具有空间化SQL的数据库中，您可以做任何需要做的事情。</p><p id="b646" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简而言之，它使您对空间数据的处理更加高效、可重复和可扩展。</p><h1 id="6a42" class="mu mi it bd mv mw ob my mz na oc nc nd jz od ka nf kc oe kd nh kf of kg nj nk bi translated">哪些人应该学习空间SQL？</h1><p id="4daf" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">就个人而言，我认为任何使用空间数据的人都应该有一些使用空间SQL的经验，但是有几个群体绝对应该在空间SQL上投入一些时间:</p><ul class=""><li id="454d" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">使用基于SQL的数据库(如PostgreSQL/PostGIS或空间化数据仓库)中的数据的团队</li><li id="6b78" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">空间数据科学家或使用空间数据的数据科学家</li><li id="cab5" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">寻求分析和工作流更大灵活性的GIS用户</li><li id="583b" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">前端开发人员使用空间数据(尤其是地图)创建应用程序</li><li id="e0d3" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">寻求传统建模工具或软件更大灵活性的分析师</li><li id="5f82" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">组织中处理大量可能具有空间成分(地名、地址、纬度/经度等)的数据的人员。)</li></ul><h1 id="ec56" class="mu mi it bd mv mw ob my mz na oc nc nd jz od ka nf kc oe kd nh kf of kg nj nk bi translated">空间SQL有什么优势？</h1><p id="d528" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">我将介绍几个关键领域，希望能让您相信学习空间SQL是一项值得的投资:</p><ul class=""><li id="7373" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">提高日常工作流程的效率</li><li id="7961" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">确保组织内外的可重复性</li><li id="b32f" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">在您的组织中跨职能工作</li><li id="523d" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">创建高效的工作流和任务管理</li><li id="ed80" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">在支持SQL的数据仓库中处理大规模数据</li></ul><p id="d7e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们详细分析一下每一项:</p><h1 id="d594" class="mu mi it bd mv mw ob my mz na oc nc nd jz od ka nf kc oe kd nh kf of kg nj nk bi translated">提高日常工作流程的效率</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://giphy.com/gifs/funny-elephant-fast-Gpu3skdN58ApO" rel="noopener ugc nofollow" target="_blank">资料来源</a>来自GIPHY</p></figure><p id="9508" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">空间SQL可以通过几种不同的方式提高工作效率。与传统GIS工作流中加载和读取文件不同，数据已经存在。即使您需要加载数据，也有许多工具可以帮助您这样做，并在数据发生变化时更新数据。不需要每次启动项目时都读取新文件，当数据变大时，这是非常有益的。</p><p id="96c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://open.spotify.com/show/57EmXdDgrUNYxtrer6LVsI" rel="noopener ugc nofollow" target="_blank">地图抓取</a>播客的“<em class="ly">空间SQL —没有GIS的GIS </em>”一集中，<a class="ae ky" href="http://blog.cleverelephant.ca/" rel="noopener ugc nofollow" target="_blank">保罗·拉姆齐</a>讲述了在GIS中学习和使用SQL的优势和必然性:</p><blockquote class="lv lw lx"><p id="ae60" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">毫无疑问，如果你想让你的职业生涯超越…由你和其他程序员提供的抽象概念，你会想要学习SQL…</p></blockquote><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">除此之外，还有SQL的灵活性。假设您想要返回一个包含以下内容的查询:</p></figure><p id="3bb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您始终可以使用空间SQL创建新要素，并动态连接/聚合数据:</p><ul class=""><li id="b520" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">多边形质心纬度/经度</li><li id="a6fe" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">到另一点的距离</li><li id="d3ea" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">连接另一个表中的值</li></ul><p id="a788" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这很容易在一个查询中完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on nm l"/></div></figure><p id="a76e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不仅如此，您还可以在一个查询中连接其他数据(空间数据和非空间数据)、限制和过滤数据等等。在更传统的GIS工作流中，您需要类似模型构建器的工具来完成这一任务。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/4ce6e425586ff6477ae791ef644f40df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hzzZ4bhD-w7FP17QrkZ1Mw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">QGIS中的GIS模型示例— <a class="ae ky" href="https://www.youtube.com/watch?v=1-ENmwX_buw" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="a27c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Python中，您可以执行许多相同的功能，特别是使用Geopandas处理空间关系。<a class="ae ky" href="https://blog.dask.org/2017/09/21/accelerating-geopandas-1" rel="noopener ugc nofollow" target="_blank">但是在规模</a>上，你通常需要添加一些其他库来匹配PostGIS或另一个SQL数据库的性能。</p><p id="3b72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更不用说在许多空间数据库中，你可以<a class="ae ky" href="http://blog.cleverelephant.ca/2021/05/indexes-and-queries.html" rel="noopener ugc nofollow" target="_blank">在你的几何图形上创建索引</a>以使使用几何图形的操作和功能运行得更快。</p><h1 id="bb3c" class="mu mi it bd mv mw ob my mz na oc nc nd jz od ka nf kc oe kd nh kf of kg nj nk bi translated">确保组织内外的可重复性</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://giphy.com/gifs/fallontonight-bryan-cranston-tonightshow-do-it-again-bNpLfNOskgvGIfKIZN" rel="noopener ugc nofollow" target="_blank">来源于GIPHY的</a></p></figure><p id="79e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SQL的一个优点是它非常具有可移植性，这意味着代码片段可以很容易地在您的团队中共享。</p><p id="2040" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当有人编写了一个非常棒的查询或查询的一部分时，你可以共享它，任何人(只要他们在同一个数据库上，并且可以访问相同的表)都可以使用它，这是我们CARTO团队每周至少发生一次的事情。</p><p id="54c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对模型构建器这样的东西做同样的事情不仅意味着来回传递文件，还意味着传递模型文件和其他数据。此外，只获取一个模式的一部分并添加到您的模型中并不像简单地复制和粘贴一段SQL代码那么简单。</p><p id="c366" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不仅如此，您还可以利用其他SQL用户在线共享的大量在线信息。您可以从博客、StackOverflow帖子、Gists以及spatial SQL社区中获得无穷无尽的资源。</p><p id="b167" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我反复使用的一个例子来自PostGIS的创始人之一保罗·拉姆齐的帖子，关于如何运行<a class="ae ky" href="https://carto.com/blog/lateral-joins/" rel="noopener ugc nofollow" target="_blank">批量最近邻查询</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/9eab5a526dbd8c7319224ac8e68698ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*BKLCFzn3EP4xqa6D1d7HLQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在大约3秒钟内找到30，000多块地产到最近的PostGIS消防栓的距离— <a class="ae ky" href="https://carto.com/blog/lateral-joins/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="89c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简而言之，它表明您可以快速地做事情并使其可重复，并提供代码供他人使用和扩展。</p><h1 id="4b14" class="mu mi it bd mv mw ob my mz na oc nc nd jz od ka nf kc oe kd nh kf of kg nj nk bi translated">在您的组织中跨职能工作</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://giphy.com/gifs/nfl-football-touchdown-l3mZjdRvlqk4LB0A0" rel="noopener ugc nofollow" target="_blank">来源</a>来自GIPHY</p></figure><p id="dd51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在一个执行GIS或地理空间分析的组织中与其他执行非空间分析的团队一起工作，那么您就知道将这些领域结合在一起会产生多大的潜力。</p><p id="c7a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“数据在哪里，就去哪里”的思想在这里适用，因为大多数团队将生产级数据存储在某种SQL数据库中。</p><p id="bd0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过确保您可以无缝地跨职能地工作，意味着您不仅仅局限于您团队的数据。你也可以把宝贵的空间专业知识带给其他团队学习，反之亦然。</p><p id="40ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这方面的一个例子是一家零售公司，它在不同的商店存储有关个人购买的交易数据。使用空间数据，您可以创建包含客户人口统计数据的贸易区，以与客户购买数据相结合，从而了解不同的人口统计特征如何影响不同产品的性能或需求。</p><h1 id="4e1b" class="mu mi it bd mv mw ob my mz na oc nc nd jz od ka nf kc oe kd nh kf of kg nj nk bi translated">创建高效的工作流和任务管理</h1><p id="225c" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">关于SQL和数据库，我最喜欢的一点是它们对于不同任务的可扩展性:</p><ul class=""><li id="a8be" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">当新数据可用时，用Update语句更新记录</li><li id="9aa5" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">使用触发器根据特定表中发生的事件设置操作</li><li id="47c7" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">使用几何索引使空间关系查询更快、更有效</li><li id="d747" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">使用用户定义的函数创建自己的函数</li></ul><p id="3610" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个非常简单的例子，但是让我们假设您有一个定期插入新数据的表，您想从数据中的纬度和经度字段创建一个几何，并从另一个表中计算一定距离内的位置数。</p><p id="27a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用PostgreSQL 中的<a class="ae ky" href="https://www.postgresqltutorial.com/postgresql-triggers/" rel="noopener ugc nofollow" target="_blank">触发器，您可以设置一次，并且(在大多数情况下)再也不用担心它了。</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://giphy.com/gifs/billy-mayes-1hMjJILpxoWpQad37L" rel="noopener ugc nofollow" target="_blank">来源于GIPHY的</a></p></figure><h1 id="8d8c" class="mu mi it bd mv mw ob my mz na oc nc nd jz od ka nf kc oe kd nh kf of kg nj nk bi translated">在支持SQL的数据仓库中处理大规模数据</h1><p id="6456" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">数据仓库在许多大大小小的组织中变得越来越普遍，因为它们能够在一个公共数据存储库中快速查询大型数据集。你可以在这里了解更多关于数据仓库的信息。</p><p id="dfc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">主要的数据仓库(如BigQuery、Snowflake和Redshift)预装了许多空间函数，随时可供使用。除了空间功能，您还可以使用机器学习工作流，如<a class="ae ky" href="https://cloud.google.com/bigquery-ml/docs/introduction" rel="noopener ugc nofollow" target="_blank"> BigQuery ML </a>和CARTO等平台，通过直接来自数据仓库的<a class="ae ky" href="https://docs.carto.com/spatial-extension-bq/overview/getting-started/" rel="noopener ugc nofollow" target="_blank">空间扩展</a>为空间分析和可视化带来额外的功能。</p><p id="9030" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了突出数据仓库的速度，您可以在下面看到一个示例查询，它计算OpenStreetMap中属于每个美国人口普查区块组的建筑物数量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/deb82a4e58564ecfbc59a6cd967d71b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zXxaPC2vES-jJ8VyetZKFg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">10秒钟内110万栋建筑物与所有美国区块组(270 GB数据)的空间交集！根据消耗的时间段，可能需要3个小时的事情—取自个人查询</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on nm l"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="432e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这能启发你自己尝试空间SQL，我还计划继续写一些教程！</p><p id="1790" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ly">马特·福里斯特目前在</em> <a class="ae ky" href="https://carto.com/" rel="noopener ugc nofollow" target="_blank"> <em class="ly"> CARTO </em> </a> <em class="ly">工作，这是一个使用大量空间SQL的空间平台。如果您对空间SQL或如何开始有任何疑问，请随时联系</em><a class="ae ky" href="https://www.linkedin.com/in/mbforr/" rel="noopener ugc nofollow" target="_blank"><em class="ly">LinkedIn</em></a><em class="ly">。</em></p></div></div>    
</body>
</html>