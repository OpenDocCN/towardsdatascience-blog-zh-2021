<html>
<head>
<title>Tune your machine learning workflow with weights and biases, mljar automl, hyperopt, shapash and evidently</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用weights and biases、mljar automl、hyperopt、shapash和appeally调整您的机器学习工作流程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tune-your-machine-learning-workflow-with-weights-and-biases-mljar-automl-hyperopt-shapash-and-f0646500ea1f?source=collection_archive---------31-----------------------#2021-06-27">https://towardsdatascience.com/tune-your-machine-learning-workflow-with-weights-and-biases-mljar-automl-hyperopt-shapash-and-f0646500ea1f?source=collection_archive---------31-----------------------#2021-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="b9a9" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="c061" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">在法国能源消耗的回归用例上发现紧急工具</h2></div><p id="1e5c" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我想用几周时间围绕ml/ds库写点东西，我有很多事情要做。每个库一篇文章可能太多了(而且不是很密集)，所以我决定将我的测试合并到一篇文章中，用于一个用例来测试它们，并对其进行快速总结。</p><p id="c959" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在本文中，您将对以下库进行一个快速测试:</p><p id="8046" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我将在一个简单的用例中应用这些库(以及我测试库的经典用例),并给出一些反馈。</p><p id="841b" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">本文的所有代码都可以在这个<a class="ae lk" href="https://github.com/jeanmidevacc/shotgun-20210627" rel="noopener ugc nofollow" target="_blank"> Github库</a>中找到。</p><h1 id="8fb9" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">ML设置</h1><p id="b9a0" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">在这一部分，将会有一个用于测试这些库的用例的描述。我的用例是我2016年在Udacity上做的MOOC的遗产，它是关于预测法国的日常用电量；你可以在<a class="ae lk" rel="noopener" target="_blank" href="/make-a-forecast-system-of-the-french-national-energy-consumption-4f946b91381b">这篇文章</a>中找到关于这个实验的更多细节。</p><p id="2143" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">总结这篇文章，有几个要点:</p><ul class=""><li id="686b" class="mi mj iq kq b kr ks ku kv kx mk lb ml lf mm lj mn mo mp mq bi translated">电力消耗很大程度上取决于季节(法国主要使用电加热)</li><li id="f3fb" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated">人们似乎在周日/周六比平日消耗更多的电力。</li></ul><p id="d875" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">基于此，我只是用来自以下方面的更新数据来重建用例:</p><ul class=""><li id="8b47" class="mi mj iq kq b kr ks ku kv kx mk lb ml lf mm lj mn mo mp mq bi translated">来自<a class="ae lk" href="https://opendata.reseaux-energies.fr/explore/dataset/consommation-quotidienne-brute/information/" rel="noopener ugc nofollow" target="_blank"> rte门户</a>的电力消耗，我进行了转储，直到1月1日(并在每日级别汇总数据)</li><li id="824d" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated">来自<a class="ae lk" href="https://power.larc.nasa.gov/data-access-viewer/" rel="noopener ugc nofollow" target="_blank"> NASA POWER数据源</a>的天气数据集中在11个最大的城市，以及2米(摄氏度)的最低、平均、最高温度加上总降水量(毫米)</li></ul><p id="ec5e" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">根据天气数据，我构建了四个特征，这些特征是基于城市人口的加权版本；你可以在<a class="ae lk" href="https://github.com/jeanmidevacc/shotgun-20210627/blob/master/1_prepare_data.ipynb" rel="noopener ugc nofollow" target="_blank">这本笔记本</a>里找到ETL。</p><p id="7f88" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在准备方面，我建立了:</p><ul class=""><li id="7a79" class="mi mj iq kq b kr ks ku kv kx mk lb ml lf mm lj mn mo mp mq bi translated">训练集+测试集，占2015-2020年间数据的80%和20%,随机选取</li><li id="8b4a" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated">2020年的数据集是2020年的数据</li></ul><p id="7264" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这个项目旨在看看我们如何能够建立一个良好的能源消耗预测器(以及如何利用这些库有效地做到这一点)。</p><h1 id="faf8" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">使用MLJAR automl构建基线模型</h1><p id="8a20" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">构建预测器的第一步是构建易于实施的基线模型，这是构建更好的预测器的良好起点。对于这个项目，主要评估指标将是<a class="ae lk" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_error.html" rel="noopener ugc nofollow" target="_blank"> RMSE </a>。这些首批基线模型将会是:</p><ul class=""><li id="c48d" class="mi mj iq kq b kr ks ku kv kx mk lb ml lf mm lj mn mo mp mq bi translated">随机预测值(在训练集周期的最小值和最大值之间随机选取一个值)</li><li id="cd0e" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated">较少随机预测值(根据星期几和月份，在训练集的最小值和最大值之间选择一个值)</li><li id="f7b7" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated">PTG: <a class="ae lk" href="https://github.com/jeanmidevacc/udacity_mlen/blob/master/capstone/report.pdf" rel="noopener ugc nofollow" target="_blank">从文献</a>来看，基于室外温度的分段回归是一个很好的预测器(所以我基于最小、平均、最大加权温度构建了三个版本)</li></ul><p id="8465" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">最后，这也是本节的重点，另一种构建基线模型的方法是使用automl库来创建这些模型，这可能需要更多的时间，但也更具挑战性。对于那些可能不熟悉这个概念的人来说，Bojan Tunguz 有一篇关于这个主题的优秀的<a class="ae lk" href="https://medium.com/@tunguz/six-levels-of-auto-ml-a277aa1f0f38" rel="noopener">文章。</a></p><p id="5cb8" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">尽管如此，还是让一个ML库在数据集上做一些研究和测试来建立模型，有很多库可以做到这一点(<a class="ae lk" href="https://docs.h2o.ai/h2o/latest-stable/h2o-docs/automl.html" rel="noopener ugc nofollow" target="_blank"> H20 automl </a>，<a class="ae lk" href="https://automl.github.io/auto-sklearn/master/" rel="noopener ugc nofollow" target="_blank"> auto-sklearn </a>，<a class="ae lk" href="https://autokeras.com/" rel="noopener ugc nofollow" target="_blank"> autokeras </a>)，但我想强调的是<a class="ae lk" href="https://mljar.com/" rel="noopener ugc nofollow" target="_blank"> MLJAR autoML </a>。</p><p id="2129" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">您可以在我的存储库中找到我放在palace中用mljar ( <a class="ae lk" href="https://github.com/jeanmidevacc/shotgun-20210627/blob/master/2_build_baselines.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>和<a class="ae lk" href="https://github.com/jeanmidevacc/shotgun-20210627/tree/master/AutoML_1" rel="noopener ugc nofollow" target="_blank">报告</a>)构建基线模型的部分，但对我来说，这个包的关键点是:</p><p id="9774" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在这种情况下，将选择最佳模型(它似乎是集合模型)</p><p id="689e" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">那么我们来看一下生产的各种基线模型的对比。</p><figure class="mx my mz na gt nb gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/d81973c735ed074129c484150f8f8ea9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*djERtvWTjxjeraAH.png"/></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="d16f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">仍然很高兴看到PTG仍然是一个很好的预测器，但是mljar输出的模型做得很好。</p><h1 id="ac97" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">用hyperopt优化超参数</h1><p id="0dd1" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">在模型开发中，执行网格搜索以找到模型的正确参数集需要时间，有多种方法可以在参数空间中导航:</p><ul class=""><li id="d4e7" class="mi mj iq kq b kr ks ku kv kx mk lb ml lf mm lj mn mo mp mq bi translated">全网格搜索:测试参数空间中的所有参数集(时间效率不高)</li><li id="adbe" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated">随机搜索:测试在空间中随机选择的特定数量的参数(节省时间，但是错过机会)</li></ul><p id="3c03" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这些方法非常标准，并且非常有效，但是有时您有一些时间限制来做一些实验，此时，可以使用像<a class="ae lk" href="http://hyperopt.github.io/hyperopt/" rel="noopener ugc nofollow" target="_blank"> hyperopt </a>这样的库。</p><p id="7c52" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">该软件包旨在使用贝叶斯方法通过调整特定方向的参数来优化损失函数(在这种情况下，基于rmse)。您可以在此找到此流程的更多详细信息:</p><ul class=""><li id="4b91" class="mi mj iq kq b kr ks ku kv kx mk lb ml lf mm lj mn mo mp mq bi translated">一篇<a class="ae lk" href="https://papers.nips.cc/paper/2011/file/86e8f7ab32cfd12577bc2619bc635690-Paper.pdf" rel="noopener ugc nofollow" target="_blank">论文</a>支持在hyperopt包中使用的TPE方法</li><li id="40f2" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated">威尔·科尔森对贝叶斯过程进行超参数调整的<a class="ae lk" rel="noopener" target="_blank" href="/a-conceptual-explanation-of-bayesian-model-based-hyperparameter-optimization-for-machine-learning-b8172278050f">一般解释</a></li></ul><p id="bdfc" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在预测电力消耗的情况下，有基于包的文档构建的<a class="ae lk" href="https://github.com/jeanmidevacc/shotgun-20210627/blob/master/3_hyperopt.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>，这是对随机森林回归器的100次迭代的计算研究。</p><p id="bda8" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我的研究没有带来一个优秀的模型来构建基线(这不是我的目标)。</p><p id="8316" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">从专业的角度来看，它工作得很好，在工作中的一些项目上进行了测试，当您执行Spark应用程序时，我可能有一些保留，但如果您的研究时间有限，它仍然是一个很好的包(这不是唯一可以做到这一点的包，例如，您可以找到<a class="ae lk" href="https://docs.ray.io/en/master/tune/index.html" rel="noopener ugc nofollow" target="_blank"> ray tune </a>)。</p><p id="a493" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">让我们进一步探讨这个模型的可解释性。</p><h1 id="af7d" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">用shapash让你的模型更容易解释</h1><p id="264d" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">我最近在工作中增加的另一个方面是研究我的机器学习模型的可解释性。我的研究让我找到了MAIF保险公司开发的一个名为<a class="ae lk" href="https://github.com/MAIF/shapash" rel="noopener ugc nofollow" target="_blank"> shapash </a>的软件包(我没想到会在我的博客上写这篇文章)。</p><p id="46dc" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果我们回到我的随机森林回归器来预测电力消耗，这个包提供了在模型顶部构建解释器级别的能力，以帮助解释模型的可解释性和预测输出。</p><p id="608f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">还有<a class="ae lk" href="https://github.com/jeanmidevacc/shotgun-20210627/blob/master/4_model_explainability_with_shapash.ipynb" rel="noopener ugc nofollow" target="_blank">这次探索沙帕什用的笔记本</a>。</p><p id="526a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我使用最好的模型，所有的功能都是预先计算好的；从scikit learn中，您可以很容易地提取出模型中特性的重要性(shapash正在提供一个优秀的可视化)。</p><figure class="mx my mz na gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ni"><img src="../Images/7f75ffcaeae048c19234cc1a292dd0f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yAL2xsNlW6hZ9wPh.png"/></div></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="c364" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">通知预测器捕捉到建模中一周中某一天和温度的重要性。这个包的一个令人兴奋的特性是查看x数据集中的特定值，就像这个例子一样；我专注于周末。</p><figure class="mx my mz na gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ni"><img src="../Images/de4fc07420b3eae6c3b761f41524416f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mKQZ6m9vLv3vEnes.png"/></div></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="7ccd" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">正如我们在这个例子中看到的，星期几比前面的表示更重要。另一个有用的特性如果你想直接挖掘某个特定特性的影响值，可以通过软件包设计贡献图(这里有一个例子)。</p><figure class="mx my mz na gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ni"><img src="../Images/78f81e6e060eb1c980c8d60dc91c2f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*j88H8zWXURef6_pl.png"/></div></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="9b1f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">(仍然很好地代表了周末对预测的影响)。</p><p id="3dd8" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">所有这些对影响的评估都受到用于评估这种影响的框架的影响。目前，可以使用两种框架:</p><ul class=""><li id="577c" class="mi mj iq kq b kr ks ku kv kx mk lb ml lf mm lj mn mo mp mq bi translated"><a class="ae lk" href="https://github.com/slundberg/shap" rel="noopener ugc nofollow" target="_blank"> SHAP </a>:也就是用Shapley值来建立特征对预测的影响；有一篇很好的<a class="ae lk" rel="noopener" target="_blank" href="/explain-your-model-with-the-shap-values-bc36aac4de3d">文章</a>正在阐述这个包</li><li id="effd" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated"><a class="ae lk" href="https://github.com/marcotcr/lime/tree/ce2db6f20f47c3330beb107bb17fd25840ca4606" rel="noopener ugc nofollow" target="_blank"> LIME </a>:另一种不基于Shapley值的方法，更多细节<a class="ae lk" href="https://www.youtube.com/watch?v=hUnRCxnydCc" rel="noopener ugc nofollow" target="_blank">此处</a></li></ul><p id="ad32" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果你对模型的可解释性感兴趣，你应该考虑Christoph Molnar的作品。他在这个主题上做得非常出色(他在一个名为<a class="ae lk" href="https://christophm.github.io/interpretable-ml-book/rulefit.html" rel="noopener ugc nofollow" target="_blank"> rulefit </a>的库后面，这个库对于构建基线模型非常有用)。</p><p id="287f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">总结一下这个包，可解释性可以直接应用于预测级别，对于一个特定的预测可以有更多的细节；预测的可解释性有一种表现形式。</p><figure class="mx my mz na gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ni"><img src="../Images/f63462adbf5225131e3f6f0319fc6d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PoNmvmsbxfua3AwJ.png"/></div></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="43cb" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">一个很酷的特性是这个explainer元素可以被保存并用于实时预测的预测器对象；2020年的数据上有个例子。</p><figure class="mx my mz na gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nn"><img src="../Images/f2949f7237808def36607e1396d098dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Kyz4u_2Ofq-MybJP.png"/></div></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="db85" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">其他功能可能会对你有所帮助(比如小的web应用程序或元素的预处理)，所以我会强烈邀请你来玩它(看看MAIF开源项目的网站<a class="ae lk" href="https://maif.github.io/" rel="noopener ugc nofollow" target="_blank">这里</a>他们在做很酷的东西)。</p><p id="b3a7" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在让我们继续评估模型和数据的漂移。</p><h1 id="1699" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">评估你的数据和模型</h1><p id="a2ec" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">我正在做的另一个项目是监控ml管道。我主要把我的工作集中在模型漂移上。在我的feed中，由于我的一个同事，我看到了这个包，它正在围绕数据模型漂移开发一个开源库，显然叫做<a class="ae lk" href="https://evidentlyai.com/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="4236" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这个包后面有公司，但是是开源工具；你可以在这个<a class="ae lk" href="https://datacast.simplecast.com/episodes/emeli-dral" rel="noopener ugc nofollow" target="_blank">数据广播</a>中听到一位联合创始人的声音；这个软件包使用起来非常简单。如我之前所说，关注漂移数据和模型，你可以在<a class="ae lk" href="https://github.com/jeanmidevacc/shotgun-20210627/blob/master/5_evidently_experiment.ipynb" rel="noopener ugc nofollow" target="_blank">这本笔记本</a>中找到实验。</p><p id="e426" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">让我们深入研究一下数据报告；前面的笔记本产生了一个例子；这样做的目的是将一个参考数据集(在本例中为训练集)与另一个数据集(在本例中为2020年)进行比较，并查看是否存在大量差异(这可以解释预测中模型的变化)。最后有一张制作的报告截图。</p><figure class="mx my mz na gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi no"><img src="../Images/7ecda7e556f7ddd26f2090dcfe857783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-KVJRyL3jNIUNZ3t.png"/></div></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="1ee0" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">对于模型中使用的每个要素，都会在参考数据集和当前数据集之间的相似性测试中进行评估(如果p值小于0.05，则有问题)，正如预期的那样，温度看起来有所不同，这是预期的，因为参考数据集中有五年的数据，而不是一年的数据)。还有一些图表可以更深入地了解数据集。</p><p id="ce33" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">模型报告是相似的，但是报告是更进化的；这里有个例子<a class="ae lk" href="https://github.com/jeanmidevacc/shotgun-20210627/blob/master/evidently_reports/model_report.html" rel="noopener ugc nofollow" target="_blank">。本报告的关键点是:</a></p><ul class=""><li id="6e8d" class="mi mj iq kq b kr ks ku kv kx mk lb ml lf mm lj mn mo mp mq bi translated">回归问题的传统评估指标显示在顶部。</li><li id="9dfc" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated">预测值与实际值的多幅图比较</li><li id="3aba" class="mi mj iq kq b kr mr ku ms kx mt lb mu lf mv lj mn mo mp mq bi translated">高估和低估的区别</li></ul><p id="58b4" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">该报告的输出不限于HTML文件；它可以以JSON格式提取。</p><p id="1962" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这个包是最近的，但是里面有很多很好的可视化和习惯。因此，我建议人们看看它(它也不局限于分类的回归工作)，因为它可以启发他们的仪表板(或者可能喂养它)。</p><h1 id="b3fe" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">更有效地用权重和偏见来构建你的探索管道</h1><p id="3448" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">最后，在这次探索中，我测试了另一个名为weights and bias的包，它在ML世界中制造了很多噪音(并且有一个很好的理由叫做<a class="ae lk" href="https://wandb.ai/site" rel="noopener ugc nofollow" target="_blank">weights and bias</a>)。这个包是帮助数据科学家轻松处理ml实验的监控并帮助他们进入生产的包的一部分。</p><p id="0bc7" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">包的第一个方面是日志信息；您可以记录来自数据、模型、表格或模型的各种元素。有一个代码的快速快照，用于版本化数据帧和模型(也加载)。</p><p id="3399" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这个特性在这种包中非常常见(正如你在我的<a class="ae lk" rel="noopener" target="_blank" href="/be-more-efficient-to-produce-ml-models-with-mlflow-c104362f377d">关于mlflow </a>的文章中看到的)。尽管如此，其中一个优势是您可以在一个漂亮的UI中使用这些构件来设计带有数据的图表，并以中等风格编写报告。</p><figure class="mx my mz na gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi no"><img src="../Images/061f2c7818fc86e6c8dda0a4272b3586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7sgIwIZKCsYjio3K.png"/></div></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="f214" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这个UI的一个显著特性是监视运行实验的机器的性能。</p><p id="b630" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我发现的另一个非常有趣的特性是sweep特性，它混合了用于计算的远视视觉和非常好的界面。你可以在<a class="ae lk" href="https://github.com/jeanmidevacc/shotgun-20210627/blob/master/6_wandb_sweep.ipynb" rel="noopener ugc nofollow" target="_blank">这个笔记本</a>里找到实验，不过有UI截图。</p><figure class="mx my mz na gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi no"><img src="../Images/6c3edf89dde28ddd28e5ee4617bf3a51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qHJ1eeayT6xRIWpT.png"/></div></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="d3a0" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">使用平行坐标图研究参数对优化损失的影响，用户界面很容易理解。但是我喜欢的这个UI的显著特征是右上角的重要性/相关性图表；关于参数对损失演变的重要性，你可以在这篇<a class="ae lk" href="https://docs.wandb.ai/ref/app/features/panels/parameter-importance" rel="noopener ugc nofollow" target="_blank">文章</a>中找到关于它们的方法的细节。</p><p id="092c" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">从全球来看，权重和偏差是一个很好的监控包；我可能不太喜欢项目中没有实验层的事实(项目&gt;实验&gt;运行对我来说可能更好)，但它非常有效。我可能只是为了专业用途而强调这一点；许可证需要按用户付费，所以做好准备(但在你的ml团队配置功能中可能是值得的)</p><h1 id="cda6" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">额外:通过data wrangler轻松连接熊猫和AWS存储</h1><p id="a402" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">有一个包我在这个项目中没有用到，但是我想在这里分享一下，因为我发现它非常有用。有一个AWS 的<a class="ae lk" href="https://github.com/awslabs/aws-data-wrangler" rel="noopener ugc nofollow" target="_blank">包帮助将pandas dataframe与AWS存储连接起来(有一个代码快照将pandas与各种AWS服务连接起来)</a></p><figure class="mx my mz na gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi np"><img src="../Images/aaae0973140bff1f0f46e8303d3e2edc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*k3svtomu4NvABjj4.png"/></div></div><p class="ne nf gj gh gi ng nh bd b be z dk translated">作者图片</p></figure><p id="040c" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">没什么好说的；如果您的机器在AWS服务上有足够的权限可以调用，那么这是一个很好的接口包(对我来说，。唯一的缺点是dynamodb上缺少读取功能。</p><h1 id="75ae" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">结论</h1><p id="12e2" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">我希望这篇文章激发了您测试这些包的好奇心，因为它们可以让您的ML/DS日常工作变得更加轻松。</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><p id="e5d1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><em class="nx">原载于2021年6月27日</em><a class="ae lk" href="https://www.the-odd-dataguy.com/2021/06/27/tune-your-machine-learning-workflow-with-weights-and-biases-mljar-automl-hyperopt-shapash-and-evidently/" rel="noopener ugc nofollow" target="_blank"><em class="nx">【https://www.the-odd-dataguy.com】</em></a><em class="nx">。</em></p></div></div>    
</body>
</html>