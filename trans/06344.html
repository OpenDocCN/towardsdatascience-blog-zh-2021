<html>
<head>
<title>The Best Spatial Analysis Packages to Use in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在R中使用的最佳空间分析包</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-best-spatial-analysis-packages-to-use-in-r-35855069f8b2?source=collection_archive---------25-----------------------#2021-06-07">https://towardsdatascience.com/the-best-spatial-analysis-packages-to-use-in-r-35855069f8b2?source=collection_archive---------25-----------------------#2021-06-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="48c6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">空间数据分析变得越来越重要。拥有最好的工具。</h2></div><p id="6751" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">随着数据变得更加地理化，越来越有必要使空间数据更易于访问和处理。虽然有很多工具可以让您在处理空间数据时更加轻松(例如，QGIS和ArcMap ),但使用R进行空间分析也同样简单。如果您不熟悉其中的一些包，并且不想通读所有文档来学习这个包，或者更乏味的是，编写数百行自己的代码来做一些相对简单的事情，那就更是如此。在本文中，我将讨论几个软件包，它们使得常见的空间统计方法在r。</p><p id="db18" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">地图</em></p><p id="91bd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">【https://cran.r-project.org/web/packages/maps/maps.pdf T2】号</p><p id="4fe3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">地图包的核心不是空间统计包。它实际上是一个基本的软件包，可以用很少的代码非常快速地制作简单的地图。这对于快速查看R中的矢量化数据非常有用。虽然不一定是查看shapefiles(用于存储几何信息的数据文件)的最佳方式，但如果你有一个带有纬度和经度坐标的数据集，将它们绘制到由<em class="le"> maps </em>包制作的地图上是相对容易的。</p><p id="b725" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">只需一行简单的代码，您就可以生成几乎任何地区的地图。我将以美国为例:</p><p id="8ee2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">地图(“美国”)</p><p id="365c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当您输入该内容时，您应该会看到如下所示的地图:</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/ccc25a990f53c5346786f26f80fce167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*FPFKc9L6O1MwFoUk"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">使用maps包的R中的基本地图mad的图像。图片来源:作者。</p></figure><p id="028e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">诚然，这是一个简单的地图，但你仍然可以利用它来获得一个良好的数据视图。如果您想更进一步，您可以更改投影，高亮显示国家的特定区域(查看“地图”功能的区域参数)或添加点、线和多边形，以便轻松显示您的数据。</p><p id="71c9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le"> spatstat </em></p><p id="cbac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae lf" href="https://cran.r-project.org/web/packages/spatstat/spatstat.pdf" rel="noopener ugc nofollow" target="_blank">https://cran . r-project . org/web/packages/spat stat/spat stat . pdf</a></p><p id="d9a2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Spatstat是一个非常好的用于二维空间数据集的软件包。它本质上是一个完整的空间统计包，可用于点模式分析。点模式分析是研究空间中的空间点。使用spatstat包，您不仅可以围绕空间点及其属性构建模型，还可以构建模型来预测未来的点移动。该软件包使用多种方法构建模型，包括最大似然法和逻辑回归法。</p><p id="c9ab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当您尝试分析空间点模式移动和分布时，应该使用spatstat包。一个模型可以用一个简单的glm()函数来拟合一个数据集，并且输出可以很容易地绘制到从地图部分提到的函数打印的地图上！Spatstat还允许您进行内核密度估计(KDE)。使用KDE为您的空间数据构建概率分布是非常棒的。例如，如果您正在检查一个州内站点的降雨量，您可以使用核密度估计值来确定该州的哪个部分的哪个站点最有可能产生最多的降雨(并查看哪个站点的降雨量最少)。虽然检查定量值可能更容易，但可视化有助于了解数量最低的站点周围的站点的行为表现。</p><p id="feb9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le"> spdep </em></p><p id="fc78" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">https://cran.r-project.org/web/packages/spdep/spdep.pdf<a class="ae lf" href="https://cran.r-project.org/web/packages/spdep/spdep.pdf" rel="noopener ugc nofollow" target="_blank"/></p><p id="49c0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您的数据中可能有不明显的关系，但是您需要发现它们，那么您应该使用spdep包。Spdep允许您为数据集构建空间权重，并对数据集进行自相关。空间权重允许您确定数据集中的哪些部分(位置)对数据本身的整体模式影响最大。如果您正在调查与数据集另一部分中的值(事件)相关的问题，那么空间权重非常有用。自相关对于测量两个变量之间的空间关系非常有用。比方说，你正试图确定一个城市的中等收入和犯罪之间的关系。您可以使用空间自相关来研究不同的财富分位数如何影响城市不同区域的犯罪率。</p><p id="f467" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下次想要探索空间数据集中的关系时，请使用spdep包。</p><p id="3556" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">地图工具</em></p><p id="8292" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae lf" href="https://cran.r-project.org/web/packages/maptools/maptools.pdf" rel="noopener ugc nofollow" target="_blank">https://cran . r-project . org/web/packages/maptools/maptools . pdf</a></p><p id="824b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Maptools允许您读入和操作空间数据。虽然这里讨论的大多数其他包都侧重于绘图和分析，但maptools用于读取、写入和导出空间数据。在KML、SHP和ASCII中，如果您的数据有坐标，您可以使用maptools来浏览其中的信息。有许多函数可以使导入空间数据变得尽可能简单。</p><p id="66b8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le"> GISTools </em></p><p id="123f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae lf" href="https://cran.r-project.org/web/packages/GISTools/GISTools.pdf" rel="noopener ugc nofollow" target="_blank">https://cran . r-project . org/web/packages/GIS tools/GIS tools . pdf</a></p><p id="2abf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于空间数据来说，这可能是R中最通用和必需的GIS包之一。GISTools不仅允许您制作地图，还允许您分析数据。您可以使用非常简单的函数进行内核密度估计:</p><p id="2e9d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">kde.points()</p><p id="2898" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果是输出可以很容易地在地图上可视化。</p><p id="b841" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">GISTools的其余功能允许您制作非常详细的制图产品。Choropleth地图(根据颜色显示数值)、levelplots、多边形掩膜，几乎所有你能想到的制图功能都能在GISTools中找到。</p><p id="56d5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是GISTools输出的一些示例。</p><p id="2f4a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然上述包在处理空间数据方面具有不可思议的通用性，但请记住，在r中进行分析时，没有一种包是万能的。例如，上述包可能难以处理大型栅格数据集，并且使用上述包制作的地图看起来相对简单，没有太多的细节。如果您想了解如何深入使用这些包或如何用R和Python制作漂亮的地图，请关注我或Found Spatial以了解更多信息！</p></div></div>    
</body>
</html>