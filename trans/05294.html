<html>
<head>
<title>ROC curve explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ROCæ›²çº¿è§£é‡Š</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/roc-curve-explained-50acab4f7bd8?source=collection_archive---------13-----------------------#2021-05-10">https://towardsdatascience.com/roc-curve-explained-50acab4f7bd8?source=collection_archive---------13-----------------------#2021-05-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="4133" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">æ•°æ®ç§‘å­¦åŸºç¡€</h2><div class=""/><div class=""><h2 id="a626" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">å­¦ä¹ ç”¨Pythonå¯è§†åŒ–ROCæ›²çº¿</h2></div><p id="5ab5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ROCæ›²çº¿ä¸‹é¢ç§¯æ˜¯è¯„ä¼°ç›‘ç£åˆ†ç±»æ¨¡å‹çš„æœ€æœ‰ç”¨çš„åº¦é‡ä¹‹ä¸€ã€‚è¿™ä¸€æŒ‡æ ‡é€šå¸¸è¢«ç§°ä¸ºROC-AUCã€‚è¿™é‡Œï¼ŒROCä»£è¡¨å—è¯•è€…æ“ä½œç‰¹å¾ï¼ŒAUCä»£è¡¨æ›²çº¿ä¸‹é¢ç§¯ã€‚åœ¨æˆ‘çœ‹æ¥ï¼ŒAUROCCæ˜¯ä¸€ä¸ªæ›´å‡†ç¡®çš„ç¼©å†™ï¼Œä½†å¬èµ·æ¥å¯èƒ½ä¸å¤ªå¥½å¬ã€‚åœ¨æ­£ç¡®çš„ä¸Šä¸‹æ–‡ä¸­ï¼ŒAUCä¹Ÿå¯ä»¥æš—ç¤ºROC-AUCï¼Œå³ä½¿å®ƒå¯ä»¥æŒ‡ä»»ä½•æ›²çº¿ä¸‹çš„é¢ç§¯ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/cf81b7b8979adf3de8c429d7e46466cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4Ezwl-EtJ5Y9c9MK"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ä¹”å°”Â·è²åˆ©æ™®åœ¨<a class="ae md" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„ç…§ç‰‡</p></figure><p id="6851" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£ROCæ›²çº¿æ˜¯å¦‚ä½•ä»æ¦‚å¿µä¸Šæ„å»ºçš„ï¼Œå¹¶ä»¥Pythonä¸­çš„é™æ€å’Œäº¤äº’å¼æ ¼å¼æ¥å¯è§†åŒ–è¯¥æ›²çº¿ã€‚</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="a8c0" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">ç†è§£æ›²çº¿</h1><p id="1fac" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">ROCæ›²çº¿å‘æˆ‘ä»¬å±•ç¤ºäº†ä¸åŒ<em class="ni">é˜ˆå€¼</em>ä¸‹<em class="ni">å‡é˜³æ€§ç‡</em>å’Œ<em class="ni">çœŸé˜³æ€§ç‡(TPR) </em>ä¹‹é—´çš„å…³ç³»ã€‚è®©æˆ‘ä»¬æ¥ç†è§£è¿™ä¸‰ä¸ªæœ¯è¯­çš„å«ä¹‰ã€‚</p><p id="e07b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æ··æ·†çŸ©é˜µçš„æ ·å­:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nj"><img src="../Images/12b6b82e2369c55c5ef038ef22752d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ydCmaJOnEKqXO6cTn4g4fQ.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="31d5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">åˆ·æ–°äº†æˆ‘ä»¬å¯¹æ··æ·†çŸ©é˜µçš„è®°å¿†åï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æœ¯è¯­ã€‚</p><h2 id="f19e" class="nk mm it bd mn nl nm dn mr nn no dp mv la np nq mx le nr ns mz li nt nu nb iz bi translated">å‡é˜³æ€§ç‡</h2><p id="d4fb" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ç®€å•å…¬å¼æ‰¾åˆ°FPR:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/9bebd898e1947c6f41f6ffe75a178378.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*wGXyrms1_eXDg1Iz5rHDlQ.png"/></div></figure><blockquote class="nw nx ny"><p id="5c4e" class="kr ks ni kt b ku kv kd kw kx ky kg kz nz lb lc ld oa lf lg lh ob lj lk ll lm im bi translated">FPRå‘Šè¯‰æˆ‘ä»¬ä¸æ­£ç¡®é¢„æµ‹çš„è´Ÿé¢è®°å½•çš„ç™¾åˆ†æ¯”ã€‚</p></blockquote><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oc"><img src="../Images/048b10798252cccf397c81aba4c7d16a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NQETPkZlLAAArbBaEvjFkQ.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><h2 id="f7a3" class="nk mm it bd mn nl nm dn mr nn no dp mv la np nq mx le nr ns mz li nt nu nb iz bi translated">çœŸå®é˜³æ€§ç‡</h2><p id="631e" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ç®€å•å…¬å¼æ‰¾åˆ°TPR:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi od"><img src="../Images/3cfda94296938ed6ebd62cf98f2366e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*OEBUc3WmHhDX1HFNd7dakg.png"/></div></figure><blockquote class="nw nx ny"><p id="3f36" class="kr ks ni kt b ku kv kd kw kx ky kg kz nz lb lc ld oa lf lg lh ob lj lk ll lm im bi translated">TPRå‘Šè¯‰æˆ‘ä»¬æ­£ç¡®é¢„æµ‹çš„æ­£é¢è®°å½•çš„ç™¾åˆ†æ¯”ã€‚è¿™ä¹Ÿè¢«ç§°ä¸ºå›å¿†æˆ–æ•æ„Ÿæ€§ã€‚</p></blockquote><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oe"><img src="../Images/21678c9cad3fa06144ad7fc9150d1ae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-HO-F3h937gpjlSBAw-Xww.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><h2 id="af96" class="nk mm it bd mn nl nm dn mr nn no dp mv la np nq mx le nr ns mz li nt nu nb iz bi translated">é˜ˆå€¼</h2><p id="5d14" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">é€šå¸¸ï¼Œåˆ†ç±»æ¨¡å‹å¯ä»¥é¢„æµ‹ç»™å®šè®°å½•æˆä¸ºæŸä¸ªç±»åˆ«çš„æ¦‚ç‡ã€‚é€šè¿‡å°†æ¦‚ç‡å€¼ä¸æˆ‘ä»¬è®¾ç½®çš„é˜ˆå€¼è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬å¯ä»¥å°†è®°å½•åˆ†ç±»ã€‚æ¢å¥è¯è¯´ï¼Œæ‚¨éœ€è¦å®šä¹‰ä¸€ä¸ªç±»ä¼¼å¦‚ä¸‹çš„è§„åˆ™:</p><blockquote class="nw nx ny"><p id="aa6e" class="kr ks ni kt b ku kv kd kw kx ky kg kz nz lb lc ld oa lf lg lh ob lj lk ll lm im bi translated">å¦‚æœä¸ºæ­£çš„æ¦‚ç‡å¤§äºæˆ–ç­‰äºé˜ˆå€¼ï¼Œåˆ™è®°å½•è¢«åˆ†ç±»ä¸ºæ­£é¢„æµ‹ï¼›å¦åˆ™ï¼Œä¸€ä¸ªè´Ÿé¢çš„é¢„æµ‹ã€‚</p></blockquote><p id="c715" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">åœ¨ä¸‹é¢çš„å°ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªè®°å½•çš„æ¦‚ç‡å¾—åˆ†ã€‚ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„é˜ˆå€¼(0.5å’Œ0.6)ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªè®°å½•åˆ†ç±»åˆ°ä¸€ä¸ªç±»ä¸­ã€‚æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œé¢„æµ‹çš„ç±»æ ¹æ®æˆ‘ä»¬é€‰æ‹©çš„é˜ˆå€¼è€Œå˜åŒ–ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi of"><img src="../Images/6ab583ad7c038d728a2a3465683639fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_3404EOaRMY9nERQJLcZxA.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="4321" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å½“æ„å»ºæ··æ·†çŸ©é˜µå’Œè®¡ç®—FPRå’ŒTPRç­‰æ¯”ç‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é¢„æµ‹çš„ç±»åˆ«ï¼Œè€Œä¸æ˜¯æ¦‚ç‡å¾—åˆ†ã€‚</p><h2 id="284a" class="nk mm it bd mn nl nm dn mr nn no dp mv la np nq mx le nr ns mz li nt nu nb iz bi translated">å—è¯•è€…å·¥ä½œç‰¹å¾æ›²çº¿</h2><p id="6e8c" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">æ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†ä»€ä¹ˆæ˜¯FPRã€TPRå’Œé˜ˆå€¼ï¼Œå°±å¾ˆå®¹æ˜“ç†è§£ROCæ›²çº¿æ˜¾ç¤ºäº†ä»€ä¹ˆã€‚å½“æ„å»ºæ›²çº¿æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè·¨å¤šä¸ªé˜ˆå€¼è®¡ç®—FPRå’ŒTPRã€‚ä¸€æ—¦æˆ‘ä»¬æœ‰äº†é˜ˆå€¼çš„FPRå’ŒTPRï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨xè½´ä¸Šç»˜åˆ¶FPRï¼Œåœ¨yè½´ä¸Šç»˜åˆ¶TPRï¼Œä»è€Œå¾—åˆ°ROCæ›²çº¿ã€‚å°±æ˜¯è¿™æ ·ï¼âœ¨</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi og"><img src="../Images/5d4e8d54d102c1c50407d5964d81970f.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*7bf8Su1IKptW5kCxnCWWWA.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="5247" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ROCæ›²çº¿ä¸‹çš„é¢ç§¯èŒƒå›´ä»0åˆ°1ã€‚å®Œå…¨éšæœºæ¨¡å‹çš„AUROCCä¸º0.5ï¼Œç”±ä¸‹é¢çš„è“è‰²ä¸‰è§’å½¢å¯¹è§’çº¿è™šçº¿è¡¨ç¤ºã€‚ROCæ›²çº¿ç¦»è¿™æ¡çº¿è¶Šè¿œï¼Œæ¨¡å‹çš„é¢„æµ‹æ€§è¶Šå¼ºã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/3074646fe89c3a7eaa2c36717909e569.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*gxVQZEdLXDFKzCiscKv0og.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><p id="10b6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ç°åœ¨ï¼Œæ˜¯æ—¶å€™çœ‹çœ‹ä¸€äº›ä»£ç ç¤ºä¾‹æ¥å·©å›ºæˆ‘ä»¬çš„çŸ¥è¯†äº†ã€‚</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="13aa" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">åœ¨Pythonä¸­æ„å»ºé™æ€ROCæ›²çº¿</h1><p id="d169" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">è®©æˆ‘ä»¬é¦–å…ˆå¯¼å…¥æœ¬æ–‡å‰©ä½™éƒ¨åˆ†æ‰€éœ€çš„åº“:</p><pre class="lo lp lq lr gt oi oj ok ol aw om bi"><span id="240d" class="nk mm it oj b gy on oo l op oq">import numpy as np<br/>import pandas as pd<br/>pd.options.display.float_format = "{:.4f}".format</span><span id="8fad" class="nk mm it oj b gy or oo l op oq">from sklearn.datasets import load_breast_cancer<br/>from sklearn.linear_model import LogisticRegression<br/>from sklearn.metrics import roc_curve, plot_roc_curve</span><span id="6049" class="nk mm it oj b gy or oo l op oq">import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>import plotly.express as px<br/>sns.set(palette='rainbow', context='talk')</span></pre><p id="2b9d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªå‡½æ•°ï¼Œåœ¨ç»™å®šæ­£ç¡®ç±»åˆ«ã€é¢„æµ‹ä¸ºé˜³æ€§ç±»åˆ«çš„æ¦‚ç‡å’Œé˜ˆå€¼çš„æƒ…å†µä¸‹ï¼Œè¯¥å‡½æ•°å°†æ‰¾åˆ°<em class="ni">å‡é˜³æ€§</em>å’Œ<em class="ni">çœŸé˜³æ€§</em>çš„æ•°é‡:</p><pre class="lo lp lq lr gt oi oj ok ol aw om bi"><span id="f306" class="nk mm it oj b gy on oo l op oq">def get_fp_tp(y, proba, threshold):<br/>    """Return the number of false positives and true positives."""<br/>    # Classify into classes<br/>    pred = pd.Series(np.where(proba&gt;=threshold, 1, 0), <br/>                     dtype='category')<br/>    pred.cat.set_categories([0,1], inplace=True)<br/>    # Create confusion matrix<br/>    confusion_matrix = pred.groupby([y, pred]).size().unstack()\<br/>                           .rename(columns={0: 'pred_0', <br/>                                            1: 'pred_1'}, <br/>                                   index={0: 'actual_0', <br/>                                          1: 'actual_1'})<br/>    false_positives = confusion_matrix.loc['actual_0', 'pred_1']<br/>    true_positives = confusion_matrix.loc['actual_1', 'pred_1']<br/>    return false_positives, true_positives</span></pre><p id="93f6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ni">è¯·æ³¨æ„ï¼Œæ‚¨å°†åœ¨ç°å®ä¸­ä½¿ç”¨åˆ†åŒºæ•°æ®é›†(ä¾‹å¦‚ï¼ŒåŸ¹è®­ã€æµ‹è¯•)ã€‚ä½†æ˜¯ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬ä¸ä¼šåœ¨æœ¬æ–‡ä¸­å¯¹æ•°æ®è¿›è¡Œåˆ’åˆ†ã€‚</em></p><p id="5732" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æˆ‘ä»¬å°†åœ¨ç©å…·æ•°æ®é›†ä¸Šæ„å»ºä¸€ä¸ªç®€å•çš„æ¨¡å‹ï¼Œå¹¶è·å¾—è¿™äº›è®°å½•ä¸ºæ­£çš„æ¦‚ç‡(ç”¨å€¼1è¡¨ç¤º):</p><pre class="lo lp lq lr gt oi oj ok ol aw om bi"><span id="1214" class="nk mm it oj b gy on oo l op oq"># Load sample data<br/>X = load_breast_cancer()['data'][:,:2] # first two columns only<br/>y = load_breast_cancer()['target']</span><span id="fafd" class="nk mm it oj b gy or oo l op oq"># Train a model<br/>log = LogisticRegression()<br/>log.fit(X, y)</span><span id="e141" class="nk mm it oj b gy or oo l op oq"># Predict probability<br/>proba = log.predict_proba(X)[:,1]</span></pre><p id="5703" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æˆ‘ä»¬å°†ä½¿ç”¨0åˆ°1ä¹‹é—´çš„1001ä¸ªä¸åŒçš„é˜ˆå€¼ï¼Œå¢é‡ä¸º0.001ã€‚æ¢å¥è¯è¯´ï¼Œé˜ˆå€¼çœ‹èµ·æ¥åƒ0ï¼Œ0.001ï¼Œ0.002ï¼Œâ€¦ 0.998ï¼Œ0.999ï¼Œ1ã€‚è®©æˆ‘ä»¬æ‰¾åˆ°é˜ˆå€¼çš„FPRå’ŒTPRã€‚</p><pre class="lo lp lq lr gt oi oj ok ol aw om bi"><span id="c587" class="nk mm it oj b gy on oo l op oq"># Find fpr &amp; tpr for thresholds<br/>negatives = np.sum(y==0)<br/>positives = np.sum(y==1)</span><span id="2810" class="nk mm it oj b gy or oo l op oq">columns = ['threshold', 'false_positive_rate', 'true_positive_rate']<br/>inputs = pd.DataFrame(columns=columns, dtype=np.number)<br/>thresholds = np.linspace(0, 1, 1001)</span><span id="5b45" class="nk mm it oj b gy or oo l op oq">for i, threshold in enumerate(thresholds):<br/>    inputs.loc[i, 'threshold'] = threshold<br/>    false_positives, true_positives = get_fp_tp(y, proba, threshold)<br/>    inputs.loc[i, 'false_positive_rate'] = false_positives/negatives<br/>    inputs.loc[i, 'true_positive_rate'] = true_positives/positives<br/>inputs</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi os"><img src="../Images/d2a3fe510ae5f72c9ae0c270d67742fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*AiKRDzgnY2il-IcsAnn9gA.png"/></div></figure><p id="649e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">è¯¥åœ°å—çš„æ•°æ®å·²å‡†å¤‡å¥½ã€‚è®©æˆ‘ä»¬ç”»å‡ºæ¥:</p><pre class="lo lp lq lr gt oi oj ok ol aw om bi"><span id="081b" class="nk mm it oj b gy on oo l op oq">def plot_static_roc_curve(fpr, tpr):<br/>    plt.figure(figsize=[7,7])<br/>    plt.fill_between(fpr, tpr, alpha=.5)<br/>    # Add dashed line with a slope of 1<br/>    plt.plot([0,1], [0,1], linestyle=(0, (5, 5)), linewidth=2)<br/>    plt.xlabel("False Positive Rate")<br/>    plt.ylabel("True Positive Rate")<br/>    plt.title("ROC curve");<br/>    <br/>plot_static_roc_curve(inputs['false_positive_rate'], <br/>                      inputs['true_positive_rate'])</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/1b328596cfe5dc9bc001ac4dfead1c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*Hj5TjRPBbhaujy4DABA4cA.png"/></div></figure><p id="33a1" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">è™½ç„¶æ„å»ºè‡ªå®šä¹‰å‡½æ•°æœ‰åŠ©äºæˆ‘ä»¬ç†è§£æ›²çº¿åŠå…¶è¾“å…¥ï¼Œå¹¶æ›´å¥½åœ°æ§åˆ¶å®ƒä»¬ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨<em class="ni"> sklearnçš„</em>åŠŸèƒ½è¿›è¡Œæ›´å¥½çš„ä¼˜åŒ–ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª<code class="fe ou ov ow oj b">roc_curve()</code>å‡½æ•°å¾—åˆ°FPRã€TPRå’Œé˜ˆå€¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç»˜å›¾åŠŸèƒ½ä»¥åŒæ ·çš„æ–¹å¼ç»˜åˆ¶æ•°æ®:</p><pre class="lo lp lq lr gt oi oj ok ol aw om bi"><span id="9243" class="nk mm it oj b gy on oo l op oq">fpr, tpr, thresholds = roc_curve(y, proba)<br/>plot_static_roc_curve(fpr, tpr)</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/24fd1dbf3417e483a596f6dec0fa225c.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*F_cFFiCwPFP6uZS-BIreNg.png"/></div></figure><p id="2cbc" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ni"> Sklearn </em>è¿˜æä¾›äº†ä¸€ä¸ª<code class="fe ou ov ow oj b">plot_roc_curve()</code>å‡½æ•°ï¼Œä¸ºæˆ‘ä»¬å®Œæˆæ‰€æœ‰çš„å·¥ä½œã€‚æ‚¨åªéœ€è¦ä¸€è¡Œä»£ç (æ·»åŠ æ ‡é¢˜æ˜¯å¯é€‰çš„):</p><pre class="lo lp lq lr gt oi oj ok ol aw om bi"><span id="248a" class="nk mm it oj b gy on oo l op oq">plot_roc_curve(log, X, y)<br/>plt.title("ROC curve"); # Add a title for clarity</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/5e2d1892796e6d083e893b8ca9111c82.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*0gKbEP4-K6yu9Fi-OXokOQ.png"/></div></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="2a86" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">ç”¨Pythonç»˜åˆ¶äº¤äº’å¼ROCæ›²çº¿</h1><p id="6846" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">ä½¿ç”¨é™æ€å›¾æ—¶ï¼Œå¾ˆéš¾çœ‹åˆ°æ›²çº¿ä¸Šä¸åŒç‚¹çš„ç›¸åº”é˜ˆå€¼ã€‚ä¸€ç§é€‰æ‹©æ˜¯æ£€æŸ¥æˆ‘ä»¬åˆ›å»ºçš„<code class="fe ou ov ow oj b">inputs </code>æ•°æ®æ¡†æ¶ã€‚å¦ä¸€ä¸ªé€‰é¡¹æ˜¯åˆ›å»ºå›¾å½¢çš„äº¤äº’å¼ç‰ˆæœ¬ï¼Œè¿™æ ·å½“æˆ‘ä»¬å°†é¼ æ ‡æ‚¬åœåœ¨å›¾å½¢ä¸Šæ—¶ï¼Œå¯ä»¥çœ‹åˆ°FPRå’ŒTPRä»¥åŠç›¸åº”çš„é˜ˆå€¼:</p><pre class="lo lp lq lr gt oi oj ok ol aw om bi"><span id="9143" class="nk mm it oj b gy on oo l op oq">def plot_interactive_roc_curve(df, fpr, tpr, thresholds):<br/>    fig = px.area(<br/>        data_frame=df, <br/>        x=fpr, <br/>        y=tpr,<br/>        hover_data=thresholds, <br/>        title='ROC Curve'<br/>    )<br/>    fig.update_layout(<br/>        autosize=False,<br/>        width=500,<br/>        height=500,<br/>        margin=dict(l=30, r=30, b=30, t=30, pad=4),<br/>        title_x=.5, # Centre title<br/>        hovermode = 'closest',<br/>        xaxis=dict(hoverformat='.4f'),<br/>        yaxis=dict(hoverformat='.4f')<br/>    )<br/>    hovertemplate = 'False Positive Rate=%{x}&lt;br&gt;True Positive Rate=%{y}&lt;br&gt;Threshold=%{customdata[0]:.4f}&lt;extra&gt;&lt;/extra&gt;'<br/>    fig.update_traces(hovertemplate=hovertemplate)<br/>    <br/>    # Add dashed line with a slope of 1<br/>    fig.add_shape(type='line', line=dict(dash='dash'), x0=0, x1=1, y0=0, y1=1)<br/>    fig.show()</span><span id="ef4a" class="nk mm it oj b gy or oo l op oq">plot_interactive_roc_curve(df=inputs, <br/>                           fpr='false_positive_rate', <br/>                           tpr='true_positive_rate', <br/>                           thresholds=['threshold'])</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/12a0d96a00dda10124d8acc19e1d958c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/0*HCTbI-NyeTa_mCVm.gif"/></div></figure><p id="aefa" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">äº’åŠ¨æ€§æŒºæœ‰ç”¨çš„å§ï¼Ÿ</p><p id="b126" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å¸Œæœ›ä½ å–œæ¬¢å­¦ä¹ å¦‚ä½•å»ºç«‹å’Œå¯è§†åŒ–ROCæ›²çº¿ã€‚ä¸€æ—¦ç†è§£äº†è¿™æ¡æ›²çº¿ï¼Œå°±å¾ˆå®¹æ˜“ç†è§£å¦ä¸€æ¡ç›¸å…³æ›²çº¿:<a class="ae md" href="https://levelup.gitconnected.com/precision-recall-curve-explained-fabfe58fb52e" rel="noopener ugc nofollow" target="_blank"> <em class="ni">ç²¾å‡†å¬å›æ›²çº¿</em> </a>ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi pa"><img src="../Images/714d5454bcf77c0d2f5e9db6d92984fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hLB30iTZy68D-kjP"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ç”±<a class="ae md" href="https://unsplash.com/@maelpg?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Mael Pavageau </a>åœ¨<a class="ae md" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</p></figure><p id="ce14" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ni">æ‚¨æƒ³è®¿é—®æ›´å¤šè¿™æ ·çš„å†…å®¹å—ï¼Ÿåª’ä½“ä¼šå‘˜å¯ä»¥æ— é™åˆ¶åœ°è®¿é—®åª’ä½“ä¸Šçš„ä»»ä½•æ–‡ç« ã€‚å¦‚æœæ‚¨ä½¿ç”¨</em> <a class="ae md" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="ni">æˆ‘çš„æ¨èé“¾æ¥</em></a><em class="ni">æˆä¸ºä¼šå‘˜ï¼Œæ‚¨çš„ä¸€éƒ¨åˆ†ä¼šè´¹å°†ç›´æ¥ç”¨äºæ”¯æŒæˆ‘ã€‚</em></p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="80de" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æ„Ÿè°¢æ‚¨é˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œè¿™é‡Œæœ‰æˆ‘å…¶ä»–ä¸€äº›å¸–å­çš„é“¾æ¥:</p><p id="1db9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">â—¼ï¸ <a class="ae md" rel="noopener" target="_blank" href="/interesting-ways-to-use-punctuations-in-python-43205a0bd67d">åœ¨Pythonä¸­ä½¿ç”¨æ ‡ç‚¹ç¬¦å·çš„æœ‰è¶£æ–¹æ³•</a> <br/> â—¼ï¸ <a class="ae md" rel="noopener" target="_blank" href="/5-tips-to-learn-python-from-zero-e4f6a9106558">ä»é›¶å¼€å§‹å­¦ä¹ Pythonçš„5ä¸ªæŠ€å·§</a><br/>â—¼ï¸<a class="ae md" rel="noopener" target="_blank" href="/introduction-to-python-virtual-environment-for-data-science-3c216929f1a7">pythonè™šæ‹Ÿç¯å¢ƒæ•°æ®ç§‘å­¦ç®€ä»‹</a><br/>â—¼ï¸<a class="ae md" rel="noopener" target="_blank" href="/introduction-to-git-for-data-science-ca5ffd1cebbe?source=your_stories_page-------------------------------------">gitæ•°æ®ç§‘å­¦ç®€ä»‹</a> <br/> â—¼ï¸ <a class="ae md" rel="noopener" target="_blank" href="/organise-your-jupyter-notebook-with-these-tips-d164d5dcd51f">ç”¨è¿™äº›æŠ€å·§æ•´ç†ä½ çš„Jupyterç¬”è®°æœ¬</a> <br/> â—¼ï¸ <a class="ae md" rel="noopener" target="_blank" href="/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393"> 6ä¸ªç®€å•æŠ€å·§è®©ä½ åœ¨Seaborn (Python)ä¸­çš„æƒ…èŠ‚æ›´æ¼‚äº®ã€æ›´å®šåˆ¶</a><br/>â—¼ï¸ï¸<br/></p><p id="8050" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å†è§ğŸƒğŸ’¨</p></div></div>    
</body>
</html>