<html>
<head>
<title>10 Technologies I Explored as an Applied Data Scientist in 2021</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在2021年作为应用数据科学家探索的10项技术</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-technologies-i-explored-as-an-applied-data-scientist-in-2021-b0cd04fcfa9d?source=collection_archive---------20-----------------------#2021-12-13">https://towardsdatascience.com/10-technologies-i-explored-as-an-applied-data-scientist-in-2021-b0cd04fcfa9d?source=collection_archive---------20-----------------------#2021-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/5a5f9d15a723dbe55abae2ccf86ac8e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WhfIifiuKb1HNH_J"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">来源:https://unsplash.com/photos/uCMKx2H1Y38</p></figure><div class=""/><div class=""><h2 id="f50c" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">广告技术和深度学习的ML</h2></div><p id="f2a8" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">2021年是我数据科学职业生涯技术技能发展的延续，重点是构建实时机器学习系统。虽然我去年开始构建生产级数据产品，正如我在<a class="ae jd" href="https://medium.com/r?url=https%3A%2F%2Ftowardsdatascience.com%2F8-new-tools-i-learned-as-a-data-scientist-in-2020-6dea2f847c32" rel="noopener"> 2020年回顾</a>中概述的那样，但今年我更加关注机器学习，重点是在生产工作流程中使用深度学习。今年，我的职称也发生了变化，这反映了我向应用科学家角色的转变，我将亲自动手构建高通量ML系统。</p><p id="bcc4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在深入研究我今年探索的技术列表之前，我想确定我在过去几年中在数据科学领域看到的两个趋势:</p><ol class=""><li id="113d" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">新领域中使用的自然语言处理方法</li><li id="18c6" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">应用数据科学不仅仅使用Python</li></ol><p id="f8ac" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我专注于在2021年建立广告技术，使用机器学习在这个领域建立高性能系统，并发现这个领域的系统借鉴了NLP研究的许多方法，我将在我的技术列表中提供更多细节。第二个趋势是，为了发布ML系统，应用数据科学家通常需要使用与服务于模型预测的部署相同的编程语言。虽然Python可以用来创作可以扩展到大量请求的web端点，但是工程团队可能使用不同的编程语言来服务ML模型。对2021年的我来说，这意味着学习Golang，以便更紧密地与我们的ML工程团队合作，推出数据产品。</p><p id="73cf" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">鉴于这些趋势，我专注于以下技术，以在2021年继续发展我的应用数据科学职业生涯:</p><ol class=""><li id="406e" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">Go编程语言</li><li id="49e1" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">AWS上的NoSQL</li><li id="e5c8" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">谷歌通用表达式语言(CEL)</li><li id="f24b" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">流畅位</li><li id="2ecd" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">库贝特尔</li><li id="48ed" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">DataProc</li><li id="1bbd" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">分布式深度学习</li><li id="f0cf" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">线性模型的深度学习</li><li id="cb58" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">特征嵌入</li><li id="39ee" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">Word2vec</li></ol><p id="18c9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于列表中的每一项，我将讨论学习该技术的动机，并为建立熟练程度提供指导。</p><h2 id="5e23" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">Go编程语言</h2><p id="45c4" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">对我来说，2021年最大的技术转变是学习Golang，以便构建能够处理大量请求的web服务。我以前依赖Java编程语言来构建这些类型的系统，但是遇到了Java中使用的大规模线程模型的限制。对我来说，使用Java的最大问题是处理异步调用，比如给NoSQL的一家商店打电话。虽然现在Java对异步调用有了一些支持，但是用Golang编写这些类型的系统并让编程语言处理许多关于并发性的问题要容易得多。我还想学习Golang，因为Zynga的许多团队现在都在使用Go来开发以前用Java编写的系统，接触Golang使我们的数据科学家能够直接与我们的工程团队合作来发布ML产品。</p><p id="5dfb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">虽然学习Golang对于数据科学家来说是一项艰巨的任务，但有几种方法可以提高这门语言的熟练程度。我的方法是从在Go中构建小型rest端点开始，学习使用编程语言的基础知识。它还提供了使用<code class="fe nd ne nf ng b">struct</code>数据类型解析JSON字符串的机会。一旦我能够启动并运行一个基本的端点，我就从Redis开始向端点添加一个NoSQL概要查找。我还利用了我过去用过的跨平台库，包括<a class="ae jd" href="https://developers.google.com/protocol-buffers" rel="noopener ugc nofollow" target="_blank">协议缓冲区</a>，它可以用于Java、Python和Go。接下来，我探索了用<code class="fe nd ne nf ng b">expvar</code>进行日志记录，以使用我们现有的日志堆栈和DataDog。然后我探索了一些用于ML模型推理的Golang模块，包括用于LightGBM实现的<a class="ae jd" href="https://github.com/dmitryikh/leaves" rel="noopener ugc nofollow" target="_blank">叶库</a>。最终，我对编程语言有了足够的了解，可以开始用Golang设计ML系统。</p><p id="9b80" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于初创公司的数据科学家和大型团队中的应用数据科学家来说，学习Go是非常好的，因为它可以帮助他们掌握生产系统的代码库。</p><h2 id="dfab" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">AWS上的NoSQL</h2><p id="2b7b" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">虽然2020年我的重点是GCP，但2021年我主要使用AWS来部署系统，因为许多Zynga服务都在那里运行。我继续使用Redis，但是从GCP管理的MemoryStore版本切换到AWS管理的ElastiCache版本。Redis非常适合需要亚毫秒级读写的情况，但是缺乏对列管理和并发写的支持。在许多情况下，为NoSQL的商店探索诸如DynamoDB这样的产品是有用的，它比简单的键值存储提供了更多的灵活性。在一个项目中，我们使用Redis的协议缓冲区，并使用Dynamo为系统存储元数据。如果我们对项目有不同的延迟需求，我们可能会在系统的更多方面利用Dynamo。</p><p id="085a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我对使用这些系统的建议是使用Docker来运行这些服务的本地实例。例如，<a class="ae jd" href="https://hub.docker.com/r/amazon/dynamodb-local" rel="noopener ugc nofollow" target="_blank"> dynamodb-local </a>使得运行本地实例进行开发变得很容易，这种方法可以用于Python和Golang。</p><h2 id="51ef" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">谷歌通用表达式语言(CEL)</h2><p id="40d8" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">我在2021年面临的挑战之一是在不同的运行时环境中处理训练模型和服务模型。在这种情况下，我们使用PySpark进行模型训练，使用Golang进行模型服务。虽然我们能够在两个运行时中使用LightGBM进行模型训练和模型推断，但是我们需要一种方法来确保在这些不同的环境中以一致的方式执行特性工程。</p><p id="fd87" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们的方法是在PySpark和Golang中使用谷歌的<a class="ae jd" href="https://opensource.google/projects/cel" rel="noopener ugc nofollow" target="_blank">通用表达式语言</a> (CEL)进行特征工程。CEL程序是在运行时被翻译成高效程序表达式的小脚本。该脚本可以返回单个结果或结果列表。您可以将变量作为输入传递给脚本，输入也可以是协议缓冲区对象。因为我们已经在PySpark和Golang管道中使用协议缓冲区来存储配置文件信息，所以我们利用CEL程序将这些对象翻译成可以传递给ML库的特征向量。这种方法为探索不同的特性集提供了很大的灵活性，但是当我们的特性集增长到超过成千上万个特性时，这种方法就成了问题。</p><p id="4d33" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你对查看CEL感兴趣，我推荐你首先查看一下<a class="ae jd" href="https://github.com/google/cel-spec" rel="noopener ugc nofollow" target="_blank"> CEL规范</a>，然后运行一个简单的脚本，使用一个语言实现，比如<a class="ae jd" href="https://github.com/google/cel-go" rel="noopener ugc nofollow" target="_blank"> cel-go </a>。</p><h2 id="eb47" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">流畅位</h2><p id="0313" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">流利位是我在2021年首次探索的另一项技术。它是一个日志处理器，用于将数据和指标传递到各个目的地，并且可以以各种新颖的方式使用。我们最终使用它将事件数据记录到S3，与我过去所做的相比，这是完成这项任务的一种简单得多的方法。例如，为了记录GCP上的事件数据，我通常会写一个PubSub主题，然后在数据流管道中使用该主题，该管道将事件传输到BigQuery或云存储。有了Fluent Bit，就有了一个直接将消息记录到<a class="ae jd" href="https://docs.fluentbit.io/manual/pipeline/outputs/s3" rel="noopener ugc nofollow" target="_blank"> S3 </a>的处理器，使得这个过程更加直接。一个警告是，消息将被写成JSON字符串，并且需要额外的ETL步骤来使数据在数据库中以结构化格式可用。</p><h2 id="5222" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">库贝特尔</h2><p id="a4db" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">当我在2020年使用Kubernetes部署web服务时，我依赖GCP控制台来执行许多部署任务，比如滚动更新。当我在2021年将重点转移到AWS时，我仍然使用Kubernetes进行部署，但开始使用EKS代替GKE。这意味着重新学习如何执行基本任务，例如查看pod的日志输出，使用Kubernetes control CLI (kubectl)而不是依赖于云提供商的控制台UI。学习kubectl的一些基本命令是很有用的，因为它是跨Kubernetes的不同云产品的标准化CLI。</p><p id="a6ad" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我对使用这个工具的建议是在GCP上运行一个小型GKE集群，并尝试复制kubectl中的命令，您也可以通过UI执行这些命令。随着时间的推移，您可能会发现自己越来越不依赖控制台来检查pod和管理部署。</p><h2 id="7f8a" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">DataProc</h2><p id="20ed" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">虽然自2018年加入Zynga以来，我一直在使用PySpark，但我一直使用Databricks平台来编写和部署PySpark工作流。2021年，我需要在GCP上运行PySpark作业，并且没有Databricks作为运行作业的选项。我最终使用了GCP的PySpark集群专用解决方案Cloud DataProc，类似于AWS上的EMR。虽然DataProc为运行PySpark作业提供了一个健壮的平台，但是通过命令行界面而不是笔记本环境使用PySpark还有一点学习曲线。在集群上设置依赖关系还需要更多的手动步骤，比如python库。</p><p id="87e4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于数据科学家，我建议在使用DataProc或EMR之前，先在笔记本环境中体验一下PySpark。我采用了一种渐进的方法来运行spark工作流的DataProc。我的第一步是建立一个小型DataProc集群，并使用内置的Jupyter端点在笔记本环境中工作，并在笔记本中建立依赖关系。下一步是学习如何编写初始化动作脚本，以便在新集群上设置Jar依赖项和Python库。最后一步是安排一个工作流来初始化集群，并运行一系列PySpark脚本。</p><h2 id="f007" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">分布式深度学习</h2><p id="a83b" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">今年我尝试了Horovod图书馆。它是用于TensorFlow和PyTorch模型的分布式训练的框架。Horovod还提供了<a class="ae jd" href="https://horovod.readthedocs.io/en/stable/spark_include.html" rel="noopener ugc nofollow" target="_blank"> spark绑定</a>用于PySpark框架。结果是一个类似于MLlib的接口，使数据科学家能够在跨机器集群的大型数据集上训练深度学习模型。</p><p id="7c15" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您已经在使用PySpark进行分布式ML模型训练，并希望探索在管道中使用深度学习，我建议您探索Horovod。如果你已经在使用Databricks，这里有一个<a class="ae jd" href="https://docs.databricks.com/applications/machine-learning/train-model/distributed-training/horovod-runner.html" rel="noopener ugc nofollow" target="_blank">快速启动</a>指南，帮助你使用Horovod。</p><h2 id="b26d" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">线性模型的深度学习</h2><p id="e934" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">由于实时数据产品的延迟要求，我在2021年广泛使用线性模型。虽然我们的系统基于可以实时服务的ML模型受到限制，但我们探索了训练深度学习模型来学习简单线性模型(如逻辑回归)的系数。使用这种方法，您可以用一个信号神经元训练一个神经网络，并将训练好的权重用作线性模型中的系数。当您希望训练具有自定义损失函数的模型时，或者在训练逻辑回归模型时需要支持连续标签时，这非常有用。</p><p id="2de9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以通过使用现有的线性模型(如使用波士顿住房数据集来预测房价)并使用自定义损失函数将结果与Keras模型进行比较来掌握这种方法。例如，在测量预测误差时，您可能希望使用对数标度。</p><h2 id="a2a4" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">特征嵌入</h2><p id="a460" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">我今年在生产中使用的一种深度学习方法是Keras嵌入层，以训练用作浅层模型输入的特征嵌入。当您希望在XGBoost模型中使用高维度的分类特征时，这种方法非常有用，例如用户所在的国家。您可以使用嵌入图层将输入表示为少量要素，而不是为每个国家创建一个要素。例如，您可以为用户的国家/地区训练2D嵌入，然后用两个数字特征替换国家/地区类别。这些特征嵌入可用于深度和浅层学习模型。<a class="ae jd" rel="noopener" target="_blank" href="/why-you-should-always-use-feature-embeddings-with-structured-datasets-7f280b40e716">这个博客</a>为模型训练提供了一个很好的特征嵌入介绍。</p><h2 id="87e5" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">Word2vec</h2><p id="f437" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">我今年探索的另一种深度学习方法是Word2Vec，用于将分类数据转换为数字特征。虽然Word2Vec是为文本分析开发的，但它在NLP之外还有许多应用。例如，您可以将用户看过的电影表示为文本文档，其中每部电影都是文档中代表用户的一个单词。然后，您可以使用Word2Vec将这个文档表示转换成数字表示，并在这个新的空间中找到对电影有相似兴趣的用户。<a class="ae jd" href="https://medium.com/square-corner-blog/using-word2vec-to-power-a-recommendation-engine-1c18b93fbb30" rel="noopener">本帖</a>很好的介绍了Word2Rec，求推荐。</p><h2 id="136d" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">结论</h2><p id="b7fe" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">2021年是我开始将深度学习用于生产系统的一年，为了建立更高吞吐量的ML服务，我学习了Golang。作为一名应用数据科学家，我开始与ML工程师密切合作，开发实时ML系统。虽然学习Golang对于数据科学家来说是一项艰巨的任务，但是如果您对构建实时系统感兴趣，那么学习Golang确实非常有用。我2022年的目标是继续从深度学习中学习新方法，并在生产系统中使用分布式深度学习。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="09ac" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae jd" href="https://www.linkedin.com/in/ben-weber-3b87482/" rel="noopener ugc nofollow" target="_blank">本·韦伯</a>是Zynga应用科学总监。我们正在<a class="ae jd" href="https://www.zynga.com/job-listing-category/data-analytics-user-research/" rel="noopener ugc nofollow" target="_blank">招聘</a>！</p></div></div>    
</body>
</html>