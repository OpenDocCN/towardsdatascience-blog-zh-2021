<html>
<head>
<title>Selecting Multiple Columns From a Pandas DataFrame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Pandas数据框架中选择多个列</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/select-multiple-cols-pandas-24eab7144fb2?source=collection_archive---------32-----------------------#2021-09-01">https://towardsdatascience.com/select-multiple-cols-pandas-24eab7144fb2?source=collection_archive---------32-----------------------#2021-09-01</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="87af" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">讨论如何在pandas中从数据帧中选择多列</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/7c896491fa51a54ed1039e2337e3ce5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aJkSnpiKrCMqwjcMB9AyIA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@vivanebro?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Aviv Ben或</a>在<a class="ae kz" href="https://unsplash.com/s/photos/vertical?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="f1f4" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h2><p id="f33d" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">多列选择是最常见和最简单的任务之一。在今天的简短指南中，我们将讨论从pandas数据框架中选择多列的几种可能方法。具体来说，我们将探索如何做到这一点</p><ul class=""><li id="ad3b" class="mp mq iu ly b lz mr mc ms lj mt ln mu lr mv mo mw mx my mz bi translated">使用<strong class="ly iv">基准分度</strong></li><li id="7ad7" class="mp mq iu ly b lz na mc nb lj nc ln nd lr ne mo mw mx my mz bi translated">用<code class="fe nf ng nh ni b"><strong class="ly iv">loc</strong></code></li><li id="8c9b" class="mp mq iu ly b lz na mc nb lj nc ln nd lr ne mo mw mx my mz bi translated">使用<code class="fe nf ng nh ni b"><strong class="ly iv">iloc</strong></code></li><li id="ce89" class="mp mq iu ly b lz na mc nb lj nc ln nd lr ne mo mw mx my mz bi translated">通过创建一个<strong class="ly iv">新数据帧</strong></li></ul><p id="38fd" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nj mg mh ln nk mj mk lr nl mm mn mo in bi translated">此外，我们将根据您的特定用例以及您是否需要生成原始DataFrame对象的视图或副本，讨论何时使用一种方法而不是另一种方法。</p></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><p id="fd85" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nj mg mh ln nk mj mk lr nl mm mn mo in bi translated">首先，让我们创建一个示例数据框架，我们将在本文中引用它来演示一些概念。</p><pre class="kk kl km kn gu nt ni nu nv aw nw bi"><span id="3c63" class="la lb iu ni b gz nx ny l nz oa">import pandas pd<br/></span><span id="d31e" class="la lb iu ni b gz ob ny l nz oa">df = pd.DataFrame({<br/>    'colA':[1, 2, 3], <br/>    'colB': ['a', 'b', 'c'],<br/>    'colC': [True, False, True],<br/>    'colD': [1.0, 2.0, 3.0],<br/>})</span><span id="792a" class="la lb iu ni b gz ob ny l nz oa">print(df)<br/><em class="oc">   colA colB   colC  colD<br/>0     1    a   True   1.0<br/>1     2    b  False   2.0<br/>2     3    c   True   3.0</em></span></pre></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="fb64" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用基本索引</h2><p id="07ad" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">当从现有的pandas数据框架中选择多个列时，您的第一个选择是使用<strong class="ly iv">基本索引</strong>。当您确切知道要保留哪些列时，这种方法通常很有用。</p><p id="ae47" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nj mg mh ln nk mj mk lr nl mm mn mo in bi translated">因此，您可以通过使用<code class="fe nf ng nh ni b">[]</code>符号(相当于Python类中的<code class="fe nf ng nh ni b"><a class="ae kz" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#basics" rel="noopener ugc nofollow" target="_blank">__getitem__</a></code>实现)传递带有名称的列表，获得只包含这些列的原始数据帧的副本。</p><pre class="kk kl km kn gu nt ni nu nv aw nw bi"><span id="3eb6" class="la lb iu ni b gz nx ny l nz oa">df_result = <strong class="ni iv">df[['colA', 'colD']]</strong></span><span id="b06a" class="la lb iu ni b gz ob ny l nz oa">print(df_result)<br/><em class="oc">   colA  colD<br/>0     1   1.0<br/>1     2   2.0<br/>2     3   3.0</em></span></pre><p id="2b4e" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nj mg mh ln nk mj mk lr nl mm mn mo in bi translated">如果您想了解更多关于Python中索引和切片的工作原理，请务必阅读下面的文章。</p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/mastering-indexing-and-slicing-in-python-443e23457125"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">掌握Python中的索引和切片</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">深入研究有序集合的索引和切片</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="19a8" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用iloc</h2><p id="0dfa" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">或者，如果您想<strong class="ly iv">引用列索引而不是列名</strong>并分割原始数据帧(例如，如果您想保留前两列，但您并不真正知道列名)，您可以使用<code class="fe nf ng nh ni b"><strong class="ly iv">iloc</strong></code>。</p><pre class="kk kl km kn gu nt ni nu nv aw nw bi"><span id="1805" class="la lb iu ni b gz nx ny l nz oa">df_result = <strong class="ni iv">df.iloc[:, 0:2]</strong></span><span id="1ce2" class="la lb iu ni b gz ob ny l nz oa">print(df_result)<br/><em class="oc">   colA colB<br/>0     1    a<br/>1     2    b<br/>2     3    c</em></span></pre><p id="3e93" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nj mg mh ln nk mj mk lr nl mm mn mo in bi translated">注意，上面的操作，<strong class="ly iv">将返回原始数据帧的视图</strong>。这意味着视图将只包含原始数据帧的一部分，但它仍将指向内存中的相同位置。因此，如果您修改切片对象(<code class="fe nf ng nh ni b">df_result</code>)，那么这也可能影响原始对象(<code class="fe nf ng nh ni b">df</code>)。</p><p id="aab9" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nj mg mh ln nk mj mk lr nl mm mn mo in bi translated">如果您希望分割数据帧，但却得到原始对象的副本，那么只需调用<code class="fe nf ng nh ni b">copy()</code>:</p><pre class="kk kl km kn gu nt ni nu nv aw nw bi"><span id="9c64" class="la lb iu ni b gz nx ny l nz oa">df_result = <strong class="ni iv">df.iloc[:, 0:2].copy()</strong></span></pre></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="c168" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用loc</h2><p id="f53d" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">现在，如果您想使用实际的列名对原始数据帧进行切片，那么您可以使用<code class="fe nf ng nh ni b">loc</code>方法。例如，如果您想要获得前三列，您可以通过引用您想要保留的列的名字和姓氏，使用<code class="fe nf ng nh ni b">loc</code>来实现:</p><pre class="kk kl km kn gu nt ni nu nv aw nw bi"><span id="c54c" class="la lb iu ni b gz nx ny l nz oa">df_result = df<!-- -->.loc[:, 'colA':'colC']</span><span id="809a" class="la lb iu ni b gz ob ny l nz oa">print(df_result)<br/><em class="oc">   colA colB   colC<br/>0     1    a   True<br/>1     2    b  False<br/>2     3    c   True</em></span></pre><p id="6006" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nj mg mh ln nk mj mk lr nl mm mn mo in bi translated">此时，您可能想要了解Pandas中<code class="fe nf ng nh ni b">loc</code>和<code class="fe nf ng nh ni b">iloc</code>之间的差异，并根据您的具体需求和使用案例阐明使用哪一个。</p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/loc-vs-iloc-in-pandas-92fc125ed8eb"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">熊猫中的loc与iloc</h2><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ov l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="58dd" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">创建新的熊猫数据框架</h2><p id="5cba" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">最后，您甚至可以只使用原始数据帧中包含的列的子集来创建新的数据帧，如下所示。</p><pre class="kk kl km kn gu nt ni nu nv aw nw bi"><span id="90bc" class="la lb iu ni b gz nx ny l nz oa">df_result = <strong class="ni iv">pd.DataFrame(df, columns=['colA', 'colC'])</strong></span><span id="3d92" class="la lb iu ni b gz ob ny l nz oa">print(df_result)<br/><em class="oc">   colA   colC<br/>0     1   True<br/>1     2  False<br/>2     3   True</em></span></pre></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="a59e" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h2><p id="4484" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的简短指南中，我们展示了从pandas数据框架中选择多个列的几种可能的方法。我们讨论了如何使用简单的索引、<code class="fe nf ng nh ni b">iloc</code>、<code class="fe nf ng nh ni b">loc</code>以及通过创建新的数据帧来实现这一点。请注意，本文中讨论的一些方法可能会生成原始数据帧的视图，因此您应该格外小心。</p></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><p id="3f4d" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nj mg mh ln nk mj mk lr nl mm mn mo in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="ly iv">成为会员</strong> </a> <strong class="ly iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。</strong></p></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nj mg mh ln nk mj mk lr nl mm mn mo in bi translated"><strong class="ly iv">你可能也会喜欢</strong></p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/how-to-iterate-over-rows-in-a-pandas-dataframe-6aa173fc6c84"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">如何迭代熊猫数据框架中的行</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">讨论如何在pandas中迭代行，以及为什么最好避免(如果可能的话)</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/how-to-auto-adjust-the-width-of-excel-columns-with-pandas-excelwriter-60cee36e175e"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">如何用Pandas ExcelWriter自动调整Excel列的宽度</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">使用pandas时动态调整Excel列名的宽度。ExcelWriter和Python</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ox l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/how-to-get-the-row-count-of-a-pandas-dataframe-be67232ad5de"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">如何获得熊猫数据帧的行数</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">探讨如何更有效地获取熊猫数据帧的行数</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="oy l or os ot op ou kt og"/></div></div></a></div></div></div>    
</body>
</html>