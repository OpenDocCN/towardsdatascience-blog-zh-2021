<html>
<head>
<title>When a crazy wind wipes away our records — what do you do?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">当一阵狂风卷走我们的记录时，你会怎么做？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/when-a-crazy-wind-wipes-away-our-records-what-do-you-do-a9f2aab3dc17?source=collection_archive---------21-----------------------#2021-07-03">https://towardsdatascience.com/when-a-crazy-wind-wipes-away-our-records-what-do-you-do-a9f2aab3dc17?source=collection_archive---------21-----------------------#2021-07-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="21b9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你应该假设今天的温度会和昨天一样，还是假设全年的平均温度是一个很好的基准？</h2></div><p id="95a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">休伊·费恩·泰</p><p id="ae81" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和格雷格·佩奇一起</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/659d1d4aa904b0ad3696e6d252afc5ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQWb8ONI17-HYUDIOWn7SQ.jpeg"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated"><em class="lr">(上图:澳网的拉斐尔·纳达尔；</em> <a class="ae ls" href="https://pixabay.com/images/id-288554/" rel="noopener ugc nofollow" target="_blank"> <em class="lr"> I </em>法师by moer schy</a><em class="lr">；创建日期:2012年1月18日)</em></p></figure><p id="5b91" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我喜欢澳大利亚墨尔本的一月。</p><p id="1915" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一月是网球之神降临的时候，这是一年中的第一个网球大满贯——澳大利亚网球公开赛。当比赛进行时，墨尔本中央商务区笼罩在派对的气氛中。沿着亚拉河通往罗德拉沃竞技场的道路上挤满了坐在长凳上和豆袋上观看像罗杰费德勒或塞雷娜威廉姆斯这样的明星在大屏幕上比赛的人。罗德·拉沃尔竞技场本身随着每一次胜利而焕发生机。</p><p id="8e03" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你们中的一些人可能想徒步到这个东南部城市亲眼看看这里的活动，他们可能想知道墨尔本的夏天会有多热。很有可能你会去谷歌、Weather.com甚至是墨尔本气象局查询，从而知道会发生什么。</p><p id="c731" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是如果，只是如果，一股疯狂的风卷走了前一年记录值的五分之一呢？或者，如果墨尔本奥林匹克公园的气象站有20%的时间发生故障，导致那些丢失的值，该怎么办？你怎么能提前计划呢？</p><p id="bacc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可能认为这两种情况都不太可能发生——坦率地说，你可能是对的——但为了以防万一，我们决定模拟这样的事件。从墨尔本一整年的日最高温度开始，我们随机选择了其中的20%进行移除，在那一栏中留下了73个NA值。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/66275b5d59e6a901a22a33f30bdfabc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*TgN05sx3_YusBdd7eGZbzw.png"/></div></figure><p id="5682" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，假设我们不容易重新获得原始值，我们需要为max_temp变量输入数字，这样我们的行将再次成为“完整案例”(完整案例是某些建模算法和可视化技术的要求)。</p><p id="ae6a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这种情况下，解决这个问题的一种方法是使用一种称为“上次观察结转”(LOCF)的统计方法，这意味着用最近的已知值填充空白。对于某些季节性因素，比如墨尔本的每日气温，这是一种合理的方法，尤其是当NAs的比例不是非常大的时候。虽然墨尔本全年的天气变化很大，但每天的变化很小。</p><p id="622d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">LOCF可以通过na.locf()函数用R中的<em class="lu"> zoo </em>包实现。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="lv lw l"/></div></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/cc9d65b62dd988b1cf18dcf3be71c6be.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*YTG0PLZjh67PSO5Z-zfzwQ.png"/></div></figure><p id="3193" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">LOCF用最近记录的观察结果来代替我们的每一个NAs。对于有两个连续NAs的情况——如我们之前看到的1月29日和1月30日，两者都被替换为28日的观察值。</p><p id="3d53" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">LOCF的一种替代方法是采用单一的中心测量值进行插补，例如整个数据集中已知观测值的平均值。这里，这将通过将2020年的平均温度(即19.6摄氏度，或67.28华氏度)分配给每个空记录来实现。我们可以通过<em class="lu"> naniar </em>包中的impute_mean()函数来实现。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="bd11" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们将LOCF方法和估算方法的结果与原始数据集进行比较。</p><p id="d449" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在整个数据集中，LOCF值与观察值之间的平均绝对值差为3.99，中位数差为3，而平均插补值与真实观察值之间的平均绝对值差为4.62，中位数为3.8。</p><p id="f053" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然这两种方法都易于实现，易于向受众描述，并且对于相对可预测的数据集是可靠的，但它们也有一些缺点。对于差异很大的数据集，使用中心测量值进行插补特别麻烦。LOCF不适用于周期性波动的数据，如波动股票的股价。</p><p id="6bb3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们处理的数据集的值范围较窄，例如某个热带国家的温度记录、各种玫瑰花瓣的长度或几只吉娃娃的高度，那么这两种方法的缺点就不会那么明显。</p><p id="1830" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也就是说，如果我们使用一月的平均温度来解释该月的差异，估算方法的准确性可能会有所提高。</p><p id="ac92" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但那是以后的事了。</p><p id="0185" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lu">数据来源:</em> <a class="ae ls" href="http://www.bom.gov.au/climate/data/" rel="noopener ugc nofollow" target="_blank"> <em class="lu">澳大利亚气象局</em> </a></p></div></div>    
</body>
</html>