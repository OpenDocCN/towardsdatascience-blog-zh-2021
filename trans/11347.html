<html>
<head>
<title>Host ML Apps with HuggingFace Spaces</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用HuggingFace Spaces托管ML应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/host-ml-apps-with-huggingface-spaces-7d5eef00e781?source=collection_archive---------14-----------------------#2021-11-07">https://towardsdatascience.com/host-ml-apps-with-huggingface-spaces-7d5eef00e781?source=collection_archive---------14-----------------------#2021-11-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="08a8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">探索新的HuggingFace版本</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fb6a046d4c1b361da7e4a6c93d5e1a1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Gr8Fo-ZQCWRcmCpy"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://unsplash.com/@amadorloureiroblanco" rel="noopener ugc nofollow" target="_blank">阿玛多·洛雷罗</a>的<a class="ae ky" href="https://unsplash.com/photos/BVyNlchWqzs" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="9cab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我一直是NLP的超级粉丝，因此也是一个超级<a class="ae ky" href="https://huggingface.co/" rel="noopener ugc nofollow" target="_blank">拥抱脸</a>粉丝。虽然HuggingFace以其强大的NLP背景而闻名，但他们最近发布了一个名为<a class="ae ky" href="https://huggingface.co/docs/hub/spaces" rel="noopener ugc nofollow" target="_blank"> Spaces </a>的新功能，可以帮助你在你的个人资料上快速<strong class="lb iu">托管ML演示应用</strong>。Spaces支持两个可以快速构建Python应用的框架:Streamlit和<a class="ae ky" href="https://gradio.app/" rel="noopener ugc nofollow" target="_blank"> Gradio </a>。我也是Streamlit的忠实粉丝，所以我们将使用该框架为今天的文章构建一个示例空间应用程序。如果你想要更多的灵活性和对你的前端的控制，你可以使用一个定制的框架或者使用你自己的HTML代码。</p><p id="6f10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:在这篇文章中，我们不会真正关注任何模型构建包，它将集中在展示空间特性的功能上。</p><h1 id="58c4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">目录</h1><ol class=""><li id="34f3" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated">设置</li><li id="6727" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">构建应用程序和测试</li><li id="2e5d" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">结论和附加资源</li></ol><h1 id="8473" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.设置</h1><p id="8abc" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">要开始使用共享空间，您需要在以下<a class="ae ky" href="https://huggingface.co/spaces/launch" rel="noopener ugc nofollow" target="_blank">链接</a>创建一个HuggingFace个人资料帐户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/7b16727ddb967a15cb0e624682adde09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rjhfmv4LJIRG4cI2tZnviQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图(创建拥抱脸个人资料)</p></figure><p id="cabe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想和其他成员合作，你可以在这里添加额外的功能，比如Github或者Twitter用户名。之后，点击“创建新空间”，你就可以设置你的项目了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/b0b680fc67eaa29734252b09fbe2acdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9OM7JBWcr6fBbDLHMR1-WA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="bce7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本例中，我们将使用Streamlit并创建一个公共工作区。对于自定义SDK，请通过“添加您的”链接与HuggingFace联系。</p><p id="d5b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建完共享空间后，我们可以导航到“文件和版本”来管理我们的目录。<strong class="lb iu">首先</strong> <strong class="lb iu">创建</strong>一个<strong class="lb iu"> requirements.txt </strong>文件，其中包含任何额外的依赖项，这就是Spaces将如何在您正在使用的框架中使用的方式。Spaces附带了以下<strong class="lb iu">预装库</strong> : <strong class="lb iu"> huggingface_hub </strong>、<strong class="lb iu">请求</strong>和<strong class="lb iu">数据集</strong>。在requirements.txt中，我们将<strong class="lb iu">添加</strong>用于情感分析的<strong class="lb iu">变形金刚</strong>和<strong class="lb iu">文本块</strong>库。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">申请要求</p></figure><p id="c6f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来创建一个“app.py”文件，这是我们的应用程序代码将被创建的地方。文件结构应该如下图所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/478847df28cc5384eeac9258dfdd37d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FgN3nUaF0TPMcmDfwxJlWQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><h1 id="d0cf" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.构建应用程序和测试</h1><p id="1eb2" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">现在我们可以编辑app.py文件来构建我们的应用程序。我们将制作一个<strong class="lb iu">简单的应用程序，它提供了使用两种不同框架对一些样本文本</strong>进行情感分析的选项。创建文件时，您可以在共享空间左上角的应用程序选项卡上预览文件的外观。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/97e8c2df1b1acf5221dc193786300629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pR02ypvr0LBumLraH0VRyg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">App预览(作者截图)</p></figure><p id="8edb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以添加一些基本的逻辑来使用任何一个可用的框架。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">情感分析</p></figure><p id="1715" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以用两种不同的框架来测试我们的应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/ec7a65bf375291194eb5e95e9a5c5528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vzuzL2CBj4nqzsT_NKn9FA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">变形金刚情绪分析(作者截图)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/d908873287946d002736accbea2eec7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jgigfr2g81sP0L0wz8mTaw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Textblob情感分析(作者截图)</p></figure><p id="154f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在10分钟内，我们成功部署了一个简单而强大的演示应用程序，可以公开共享。要调整应用程序的任何旋钮，您也可以进入<strong class="lb iu">设置选项卡</strong>将<strong class="lb iu">空间设为私有</strong>或<strong class="lb iu">将其删除</strong>。</p><h1 id="251a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.结论和附加资源</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">演示应用程序的完整代码</p></figure><p id="37d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您没有自己的基础设施设置，Spaces是一个非常有用的新特性，可以快速测试和演示ML应用程序。我很好奇HuggingFace在为您的应用程序带来自己的前端堆栈/框架方面提供的未来灵活性。如果你想看视频演示，看看下面的<a class="ae ky" href="https://www.youtube.com/watch?v=3bSVKNKb_PY&amp;t=2s" rel="noopener ugc nofollow" target="_blank">教程</a> HuggingFace发布。对于不同的接触面管道和任务，查看以下<a class="ae ky" href="https://huggingface.co/transformers/main_classes/pipelines.html#transformers.TextGenerationPipeline" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><p id="6511" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nv">如果你喜欢这篇文章，请在</em> <a class="ae ky" href="https://www.linkedin.com/in/ram-vegiraju-81272b162/" rel="noopener ugc nofollow" target="_blank"> <em class="nv"> LinkedIn </em> </a> <em class="nv">上与我联系，并订阅我的媒体</em> <a class="ae ky" href="https://ram-vegiraju.medium.com/subscribe" rel="noopener"> <em class="nv">简讯</em> </a> <em class="nv">。如果你是新手，使用我的</em> <a class="ae ky" href="https://ram-vegiraju.medium.com/membership" rel="noopener"> <em class="nv">会员推荐</em> </a> <em class="nv">报名。</em></p></div></div>    
</body>
</html>