<html>
<head>
<title>My Goto Process for Exploratory Data Analysis with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 进行探索性数据分析的 My Goto 过程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploratory-data-analysis-with-python-1b8ae98a61c5?source=collection_archive---------7-----------------------#2021-12-04">https://towardsdatascience.com/exploratory-data-analysis-with-python-1b8ae98a61c5?source=collection_archive---------7-----------------------#2021-12-04</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="0025" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">探索新数据集的结构化方法</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/ffce45d0f04e3939d8051be62b20e1ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nUYEYBxVnCJhnWwL"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@amanda_sandlin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿曼达·桑德林</a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="b896" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">EDA 是什么？</h1><p id="a725" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">EDA 或探索性数据分析是检查和理解数据集结构的过程。这是任何机器学习项目的关键部分，它是你工具箱中的工具，允许你接近你从未见过的数据，并适应各种特征。</p><p id="e9b4" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我发现许多人在没有正确执行 EDA 的情况下就直接进入他们的数据。尤其是在他们做了几个项目并认为他们知道自己在做什么之后。对我来说，这是关键的第一步，它揭示了数据中如此多的隐藏宝石，是不可或缺的。</p><p id="4a8f" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在这个过程中，我将使用<a class="ae kz" href="https://www.kaggle.com/prakharrathi25/banking-dataset-marketing-targets" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上的银行数据集。</p><h1 id="ab57" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">我的 EDA 方法</h1><p id="6675" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">本文描述了我用来执行 EDA 的一般过程。根据数据的类型、复杂性和混乱程度，它会因数据集而异。然而，这些步骤对于所有数据集通常是相同的。</p><ol class=""><li id="93ef" class="mt mu iu lu b lv mo ly mp mb mv mf mw mj mx mn my mz na nb bi translated">基础探索</li><li id="d5d7" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">检查空值和重复值</li><li id="390a" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">处理异常值</li><li id="724e" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">将数据可视化</li></ol><h1 id="cd94" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">基础探索</h1><p id="e27d" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">从导入所需的包开始。这些是我所有新探索的默认设置。我倾向于发现<code class="fe nh ni nj nk b">seaborn</code>是在<code class="fe nh ni nj nk b">matplotlib</code>之上的一个方便的包装器，有助于更快地构建可视化。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="883b" class="np lb iu nk b be nq nr l ns nt">import numpy as np<br/>import pandas as pd<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt</span></pre><h1 id="64e4" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">查看大小、列和示例行</h1><p id="e699" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在我导入数据后，有几个来自<code class="fe nh ni nj nk b">pandas</code>的函数我会先运行。让我们过一遍。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="06a4" class="np lb iu nk b be nq nr l ns nt">df.shape</span></pre><pre class="nu nl nk nm bn nn no bi"><span id="1c0e" class="np lb iu nk b be nq nr l ns nt">(4521, 17)</span></pre><p id="7bec" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我们可以从输出中看到，有带有<code class="fe nh ni nj nk b">17</code>列的<code class="fe nh ni nj nk b">4,521</code>观察值。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="9574" class="np lb iu nk b be nq nr l ns nt">df.info()</span></pre><pre class="nu nl nk nm bn nn no bi"><span id="f6ec" class="np lb iu nk b be nq nr l ns nt">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 4521 entries, 0 to 4520<br/>Data columns (total 17 columns):<br/> #   Column     Non-Null Count  Dtype <br/>---  ------     --------------  ----- <br/> 0   age        4521 non-null   int64 <br/> 1   job        4521 non-null   object<br/> 2   marital    4521 non-null   object<br/> 3   education  4521 non-null   object<br/> 4   default    4521 non-null   object<br/> 5   balance    4521 non-null   int64 <br/> 6   housing    4521 non-null   object<br/> 7   loan       4521 non-null   object<br/> 8   contact    4521 non-null   object<br/> 9   day        4521 non-null   int64 <br/> 10  month      4521 non-null   object<br/> 11  duration   4521 non-null   int64 <br/> 12  campaign   4521 non-null   int64 <br/> 13  pdays      4521 non-null   int64 <br/> 14  previous   4521 non-null   int64 <br/> 15  poutcome   4521 non-null   object<br/> 16  y          4521 non-null   object<br/>dtypes: int64(7), object(10)<br/>memory usage: 600.6+ KB</span></pre><p id="3b84" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe nh ni nj nk b">pandas</code>导入数据的方式是给出数据类型的最佳猜测。如果它们没有正确导入，您可以在以后更改它们。在我上面的例子中，看起来大多数数据类型是<code class="fe nh ni nj nk b">integers</code>和<code class="fe nh ni nj nk b">objects</code>或者字符串。</p><p id="1a76" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">接下来，显示第一行和最后几行数据。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="401b" class="np lb iu nk b be nq nr l ns nt">df.head()</span></pre><p id="acdb" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">和</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="9758" class="np lb iu nk b be nq nr l ns nt">df.tail()</span></pre><h1 id="2c04" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">查看统计摘要</h1><p id="744a" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">有一个超级强大的命令，在一个函数中，<code class="fe nh ni nj nk b">df.describe()</code>可以给你一个数据的鸟瞰图。它将显示计数，平均值，标准差，最小值，最大值，等等。有了这些数据，你就能很好地意识到你面临的是什么；然而，以后将它可视化会增加你的分析。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="8d3e" class="np lb iu nk b be nq nr l ns nt"># Without any parameters passed into the describe function, it will return numerical only.<br/>df.describe().round(2)</span></pre><pre class="nu nl nk nm bn nn no bi"><span id="2262" class="np lb iu nk b be nq nr l ns nt">age   balance      day  duration  campaign    pdays  previous<br/>count  4521.00   4521.00  4521.00   4521.00   4521.00  4521.00   4521.00<br/>mean     41.17   1422.66    15.92    263.96      2.79    39.77      0.54<br/>std      10.58   3009.64     8.25    259.86      3.11   100.12      1.69<br/>min      19.00  -3313.00     1.00      4.00      1.00    -1.00      0.00<br/>25%      33.00     69.00     9.00    104.00      1.00    -1.00      0.00<br/>50%      39.00    444.00    16.00    185.00      2.00    -1.00      0.00<br/>75%      49.00   1480.00    21.00    329.00      3.00    -1.00      0.00<br/>max      87.00  71188.00    31.00   3025.00     50.00   871.00     25.00</span></pre><h1 id="8d92" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">检查分类值</h1><p id="284b" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">以下函数在处理分类数据时非常方便。它首先只选择类型为<code class="fe nh ni nj nk b">object</code>的列；在我们的例子中，所有的文本字段都是绝对的。然后，它遍历这些列中的每一列，并打印每一列的<code class="fe nh ni nj nk b">value_counts</code>。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="4b39" class="np lb iu nk b be nq nr l ns nt"># get categorical data<br/>cat_data = df.select_dtypes(include=['object'])<br/># show counts values of each categorical variable<br/>for colname in cat_data.columns:<br/>    print (colname)<br/>    print (cat_data[colname].value_counts(), '\n')</span></pre><p id="783e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">下面是单个列的示例输出。注意总结分类数据有多棒。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="891d" class="np lb iu nk b be nq nr l ns nt">marital<br/>married     2797<br/>single      1196<br/>divorced     528<br/>Name: marital, dtype: int64</span></pre><h1 id="7dd4" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">检查空值和重复值</h1><p id="86ee" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">空值和重复值最终都是机器学习模型中的一个问题，所以让我们检查并处理它们。</p><h1 id="0892" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">空值</h1><p id="759c" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">首先，我从测试空值开始。要知道<em class="nv">你想如何</em>处理他们，需要一点探索和解释。它可以是当数量很少时简单地删除它们，用默认值如<code class="fe nh ni nj nk b">0</code>填充它们，或者基于相邻值填充它们。基于相邻值填充它们对于时间序列数据来说是很常见的，在这种情况下，您可以使用前一个和后一个值的平均值<em class="nv">来填充缺失值。熊猫的<code class="fe nh ni nj nk b">fillna()</code>功能得到了广泛的支持，你可以在这里阅读<a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.fillna.html" rel="noopener ugc nofollow" target="_blank">。</a></em></p><p id="9d61" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在这个例子中，我将探索是否有，并把它们从数据集中删除。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="1634" class="np lb iu nk b be nq nr l ns nt"># check for nan/null<br/>df.isnull().values.any()<br/># count of nulls per column<br/>df.isnull().sum()</span></pre><p id="20f9" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">放下它们</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="d745" class="np lb iu nk b be nq nr l ns nt"># Drop NULL values<br/>df.dropna(inplace=True)</span></pre><h1 id="0d3d" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">重复值</h1><p id="03fe" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">接下来，是寻找重复的。重复值类似于空值，因为它们需要被解释为真正干净、有用的数据或错误的数据。重复也可能是机器学习中的一个问题，因为它们可能会导致您的模型过度偏向不属于真实数据集的观察值。您可以使用下面的代码来检查重复项或删除重复项，如下所示:</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="6ac6" class="np lb iu nk b be nq nr l ns nt">len_before = df.shape[0]<br/>df.drop_duplicates(inplace=True)<br/>len_after = df.shape[0]<br/><br/>print(f"Before = {len_before}")<br/>print(f"After = {len_after}")<br/>print("")<br/>print(f"Total Removed = {len_before - len_after}")</span></pre><pre class="nu nl nk nm bn nn no bi"><span id="d5f7" class="np lb iu nk b be nq nr l ns nt">Before = 4521<br/>After = 4521<br/><br/>Total Removed = 0</span></pre><p id="a2c8" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在这种情况下，没有重复的行或空值，但是对于您的用例，检查并适当地处理它们是非常重要的。</p><h1 id="e82c" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">处理异常值</h1><p id="1bd0" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">离群值是数据中另一个极其常见的问题。如果异常值是数据集中的良好观察值，或者是错误，则需要对其进行评估。首先，你可以测试有多少。对于正态分布的数据，最常用的方法是寻找任何位于+/- 3 标准偏差之外的观察值。如果你还记得你的统计课，68–95–99.7 规则。该规则规定，正态分布中 99.7%的数据位于平均值的三个标准偏差内。当您的数据高度向左或向右倾斜时，这将不是真的。你可以利用箱线图或直方图来检验正态性。我将在下面讨论这个问题。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="3f20" class="np lb iu nk b be nq nr l ns nt">def get_outliers(df):<br/>    '''Identify the number of outliers +/- 3 standard deviations. <br/>    Pass this function a data frame and it returns a dictionary'''<br/><br/>    outs = {}<br/><br/>    df = df.select_dtypes(include=['int64'])<br/><br/><br/>    for col in df.columns:<br/><br/>        # calculate summary statistics<br/>        data_mean, data_std = np.mean(df[col]), np.std(df[col])<br/><br/>        # identify outliers<br/>        cut_off = data_std * 3<br/>        lower, upper = data_mean - cut_off, data_mean + cut_off<br/><br/>        # identify outliers<br/>        outliers = [x for x in df[col] if x &lt; lower or x &gt; upper]<br/><br/>        outs[col] = len(outliers)<br/><br/>    return outs</span></pre><p id="f75e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">然后将<code class="fe nh ni nj nk b">dataframe</code>传递给函数，返回异常值的数量。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="9255" class="np lb iu nk b be nq nr l ns nt">get_outliers(df)</span></pre><pre class="nu nl nk nm bn nn no bi"><span id="6854" class="np lb iu nk b be nq nr l ns nt">{'age': 44,<br/> 'balance': 88,<br/> 'day': 0,<br/> 'duration': 88,<br/> 'campaign': 87,<br/> 'pdays': 171,<br/> 'previous': 99}</span></pre><h1 id="0fab" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">移除异常值</h1><p id="154e" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">如果您选择从数据集中删除异常值，这里有一个简单的方法。从<code class="fe nh ni nj nk b">scipy.stats</code>开始，你可以使用<code class="fe nh ni nj nk b">zscore</code>函数来识别异常值，类似于上面的方法很容易:</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="1c2d" class="np lb iu nk b be nq nr l ns nt">from scipy import stats<br/><br/># build a list of columns that you wish to remove ouliers from<br/>out_list = ['balance', 'pdays', 'duration']<br/><br/># overwrite the dataframe with outlier rows removed.<br/>df = df[((np.abs(stats.zscore(df[out_list])) &lt; 3)).all(axis=1)]</span></pre><h1 id="628b" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">将数据可视化</h1><p id="d93a" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">我喜欢把我的想象分成两个不同的部分。明确地首先仅利用单变量图或图，例如关于<em class="nv">单个</em>变量的直方图和箱线图。然后，我倾向于将不同变量的二元(或多元)图分层。这个过程帮助我将分析分解成对数据理解的层次。</p><h1 id="9e5d" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">单变量图</h1><p id="cb11" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">单变量图就像它听起来一样——一个针对单个变量的图。让我们从查看数据集中所有数值变量的箱线图开始。让我们从两个最常见的开始，一个是箱线图，一个是直方图。</p><h2 id="a939" class="nw lb iu bd lc nx ny dn lg nz oa dp lk mb ob oc lm mf od oe lo mj of og lq oh bi translated">箱线图</h2><p id="e231" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">箱线图采用单个变量，并显示关于数据如何在其<a class="ae kz" href="https://en.wikipedia.org/wiki/Quartile" rel="noopener ugc nofollow" target="_blank">四分位数</a>中分布的信息，这实质上意味着将数据分成四分之一。这个简单的图形包包含了很多信息，可以作为一个方便的工具来比较两个或更多不同的分类子段。下例显示了方框图中的<code class="fe nh ni nj nk b">duration</code>变量，然后用分类模型中的<code class="fe nh ni nj nk b">y' variable, in this case the</code>y’变量作为目标对其进行切片(是/否)。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="3acb" class="np lb iu nk b be nq nr l ns nt">plt.figure(figsize=(7,6))<br/>sns.boxplot(x="y", y="duration", data=df, showfliers=True)</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oi"><img src="../Images/de226577a9c29af538e7f77cd7c947b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PXVEQYGEEhd0lPD2.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="f2ef" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">利用该图，我们可以看到中位数(方框中心的线)以及四分位数范围(IQR)，或者方框的上部和下部作为一个整体，对于<code class="fe nh ni nj nk b">yes</code>值来说大于<code class="fe nh ni nj nk b">no</code>值。</p><p id="48cd" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">一篇关于如何解读箱线图的关于数据科学的精彩文章:<a class="ae kz" rel="noopener" target="_blank" href="/understanding-boxplots-5e2df7bcbd51">理解箱线图</a></p><h2 id="2144" class="nw lb iu bd lc nx ny dn lg nz oa dp lk mb ob oc lm mf od oe lo mj of og lq oh bi translated">直方图</h2><p id="c6cb" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">直方图根据值出现的频率显示单个变量在“箱”或数据组中的分布。那些不熟悉它们的人一开始可能会觉得阅读困难，因为它们可能会与条形图混淆。然而，一个条形图在 X 轴<em class="nv">和 Y 轴<em class="nv">上绘制了两个变量，而直方图中的 X 轴<em class="nv">和 Y 轴</em>是容器，Y 轴<em class="nv">是容器中的计数。</em></em></em></p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="4266" class="np lb iu nk b be nq nr l ns nt">sns.histplot(x='age', data=df, bins=20, kde=True)</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/20fe29d1d7ff22a56083744832bd533e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*x9QfqX7aIDHyGmKh.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="e709" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">当您查看用直方图绘制的<code class="fe nh ni nj nk b">age</code>变量时，您可以看到数据集中年龄在 30 到 40 岁之间的人数出现频率最高。因为直方图不是居中的，所以我们称之为偏斜度。在这种情况下，歪斜被称为<a class="ae kz" href="https://en.wikipedia.org/wiki/Skewness" rel="noopener ugc nofollow" target="_blank"> <strong class="lu iv">右歪斜</strong> </a>，因为右尾较长。</p><h1 id="2919" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">二元图</h1><h2 id="6acd" class="nw lb iu bd lc nx ny dn lg nz oa dp lk mb ob oc lm mf od oe lo mj of og lq oh bi translated">相关矩阵</h2><p id="d389" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">您需要运行的绝对二元(或多元)图是相关矩阵。这是一个矩阵，显示了数据集中所有变量之间的相关性。它将帮助您识别哪些变量是强相关的，例如简单的线性回归或不相关的变量，以及当您尝试使用多个特征来增加模型性能时的情况。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="0e80" class="np lb iu nk b be nq nr l ns nt">corr = df.corr()<br/>f, ax = plt.subplots(figsize=(12, 8))<br/>sns.heatmap(corr, annot=True, square=False, ax=ax, linewidth = 1)<br/>plt.title('Pearson Correlation of Features')</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ok"><img src="../Images/457e30745a15836f11f7aa2947fe7b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TfHAFroMGbRAhQO5.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="8b8e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在大多数情况下，除了<code class="fe nh ni nj nk b">pdays</code>和<code class="fe nh ni nj nk b">previous</code>之间有一个<code class="fe nh ni nj nk b">0.62</code>正相关值之外，没有任何强相关变量。了解为什么会这样，以及它们是否与类似的行为有关，将会很有价值。</p><h2 id="792d" class="nw lb iu bd lc nx ny dn lg nz oa dp lk mb ob oc lm mf od oe lo mj of og lq oh bi translated">配对图</h2><p id="b6d7" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">接下来是一个奇妙的工具，叫做配对图。类似于相关矩阵，但是给出了每个 X 和 Y 对的散点图。对角线下方是变量的 KDE 或直方图。</p><pre class="kk kl km kn gu nl nk nm bn nn no bi"><span id="8ce3" class="np lb iu nk b be nq nr l ns nt">g.fig.set_size_inches(12,12)<br/>g=sns.pairplot(df, diag_kind = 'auto', hue="y")</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ok"><img src="../Images/8407b04e2be08b8cf864f0bc1ec4fe35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2oZKsOlulNVXIAvP.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="3c59" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">只需一行代码，您就可以快速、直观地评估关联矩阵中显示的关系。我们现在可以直观地看到，变量<code class="fe nh ni nj nk b">pdays</code>和<code class="fe nh ni nj nk b">previous</code>之间似乎没有太大的相关性。</p><h2 id="714b" class="nw lb iu bd lc nx ny dn lg nz oa dp lk mb ob oc lm mf od oe lo mj of og lq oh bi translated">附加图</h2><p id="1e63" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">从这里，您可以创建任意数量的视觉效果来帮助您更好地理解数据。由你来决定数据中有什么故事。我在 Github 上的笔记本里还有很多其他的例子。</p><h1 id="5e02" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">结论</h1><p id="d68d" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">EDA 是一种强大的技术，每次开始处理新的数据集时，您都应该能够熟练掌握它。除了这些基础知识，还有很多其他的技术可以添加进来。在投入机器学习之前，走出去，探索并了解你的数据。</p><p id="6263" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果你喜欢阅读这样的故事，并想支持我成为一名作家，可以考虑报名成为一名媒体成员。一个月 5 美元，让你可以无限制地访问成千上万篇文章。如果你使用<a class="ae kz" href="https://medium.com/@broepke/membership" rel="noopener">我的链接</a>注册，我会赚一小笔佣金，不需要你额外付费。</p><h1 id="cd00" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">参考</h1><ol class=""><li id="646e" class="mt mu iu lu b lv lw ly lz mb ol mf om mj on mn my mz na nb bi translated"><a class="ae kz" href="https://machinelearningmastery.com/how-to-use-statistics-to-identify-outliers-in-data/" rel="noopener ugc nofollow" target="_blank">机器学习如何去除离群点</a></li><li id="aa55" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated"><a class="ae kz" rel="noopener" target="_blank" href="/understanding-boxplots-5e2df7bcbd51">了解方块图</a></li></ol></div></div>    
</body>
</html>