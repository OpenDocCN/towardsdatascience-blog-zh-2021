<html>
<head>
<title>When A Time Series Only Quacks Like A Duck</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">当时间序列像鸭子一样呱呱叫时</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/when-a-time-series-only-quacks-like-a-duck-10de9e165e?source=collection_archive---------12-----------------------#2021-09-22">https://towardsdatascience.com/when-a-time-series-only-quacks-like-a-duck-10de9e165e?source=collection_archive---------12-----------------------#2021-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8e37" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">运行预测模型之前测试平稳性。用Python。和一张小鸭子的照片。</h2></div><p id="ba3f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ADF、KPSS、OSCB和CH检验平稳性和稳定的季节性模式；以及如果它们提供相互矛盾的结果时如何处理它们。</p><p id="be8d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了避免可能导致预测模型不完善的陷阱，我们将并行应用ADF和KPSS检验，以检查时间序列是否不仅像鸭子一样呱呱叫，而且像水鸟一样摇摇摆摆。我们还将运行OCSB和CH测试，以检查是否需要季节差异。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi le"><img src="../Images/37c87e2ef8be91c9cdcdb2003a3ec53b.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*v4Y_aI0e-KFmKa364DpFcw.jpeg"/></div><p class="lm ln gj gh gi lo lp bd b be z dk translated"><a class="ae lq" href="https://unsplash.com/photos/JDzoTGfoogA" rel="noopener ugc nofollow" target="_blank"> <em class="lr">黄色和棕色的小鸭子照片Unsplash上的自由动物形象</em> </a></p></figure><div class="ls lt gp gr lu lv"><a href="https://drive.google.com/file/d/1bkLt2A4NnJ6_gk2y5ejZSHQEmvD0QYbY/view?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd iu gy z fp ma fr fs mb fu fw is bi translated">临时csv</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">编辑描述</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">drive.google.com</p></div></div></div></a></div><div class="ls lt gp gr lu lv"><a href="https://drive.google.com/file/d/1p8FFxeNq5gIngkRnMkPo4LM4caTLQez1/view?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd iu gy z fp ma fr fs mb fu fw is bi translated">平稳鸭05.ipynb</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">编辑描述</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">drive.google.com</p></div></div></div></a></div><p id="b394" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的资料来源包括东达科他马州下泰德马什小镇(完全是虚构的)1200个月的历史气温记录。下蒂德马什镇档案馆在20世纪80年代被一场厨房火灾摧毁，之后(或者，正如一些居民告诉我们的那样，因为)志愿消防队前来救援。温度记录必须通过采访两位百岁老人来重建。时间序列是合成的，由正弦季节成分组成，反映了东达科他州的严冬和温和的夏季；过去一个世纪的全球变暖趋势；和表示估计不确定性的白噪声分量。</p><p id="f270" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以通过上面的链接从Google Drive下载小的Temp.csv源文件(大约33 kB)。Jupyter笔记本可通过第二个链接获得。</p><h1 id="7322" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">0.属国</h1><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h1 id="ea5d" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">1.数据处理</h1><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="da61" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下载源数据文件Temp.csv。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi my"><img src="../Images/de71e801a21fe61ccb6c746b3251a276.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*MFMacVKhycfUuVxVQUh5rg.png"/></div></figure><p id="be19" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">熊猫进口。csv日期列作为对象/字符串。因此，我们将日期转换为datetime，设置一个索引，并从索引中导出年份和月份。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/56611653a7e04d868b156e3158e213c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*aYT1FRxP8b_xjlIPsBoX5g.png"/></div></figure><p id="e2ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们创建一个pandas数据透视表，以表格形式查看源数据。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi na"><img src="../Images/b7602a414d31987c119d50049a37ac27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P8hUCMhf9vMwudEyL0eqgA.png"/></div></div></figure><p id="c438" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们使用数据透视表来计算10年的滚动平均温度，这将消除季节性高峰和低谷的短期波动，然后创建一个图表来研究长期趋势(如果有的话)。</p><p id="340e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该图显示了上升趋势——这是我们的时间序列不是稳定的第一个迹象。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi nf"><img src="../Images/95d5cfd1cfef07f94778e4b9097b2986.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VKed2PebD6ap419-kMU0xQ.png"/></div></div></figure><p id="4acb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们将温度输入像SARIMA这样的预测模型之前，我们需要测试它的稳定性。</p><p id="14b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可能会尝试开始某种网格搜索来寻找合适的超参数，然后让自动调整过程来识别具有最低Akaike信息标准的模型。但是这会导致前面提到的预测质量陷阱。</p><ul class=""><li id="664e" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">信息标准代表我们希望根据自回归AR和移动平均MA项最小化的目标；</li><li id="ee6d" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">而差分的顺序必须通过运行平稳性测试来预先确定。</li></ul><h1 id="6e66" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">2.平稳性测试</h1><h2 id="c109" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated">2.1平稳性和差异</h2><p id="51af" class="pw-post-body-paragraph ki kj it kk b kl og ju kn ko oh jx kq kr oi kt ku kv oj kx ky kz ok lb lc ld im bi translated"><strong class="kk iu">平稳性</strong></p><p id="2f02" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">“平稳时间序列的特性不依赖于观察时间。”(8.1平稳性和差分|预测:原理和实践(第二版)(otexts.com))</p><p id="eaa1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果时间序列的均值、方差和自相关结构不随时间变化，则时间序列是稳定的。如果它们不是时不变的，我们今天用来准备预报的属性将不同于我们明天观察到的属性。一个不稳定的过程会避开我们利用过去的观察来预测未来发展的方法。时间序列本身不需要在过去和未来期间保持平坦、恒定的直线才能被认为是平稳的，但决定其随时间变化的模式需要是平稳的，以使其未来行为可以预测。</p><p id="35f3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">时间序列需要展示:</p><ul class=""><li id="30e2" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">非时变均值</li><li id="c2f0" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">非时变方差</li><li id="a6e9" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">非时变自相关</li></ul><p id="3d92" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">具有先验非平稳观测值的时间序列通常可以被转换以达到平稳性。</p><p id="0630" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">变化无常的意思</strong></p><p id="dfd2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">显示强劲上升或下降趋势的序列没有恒定的平均值。但是如果它的数据点在扰动后趋向于回复到趋势线，时间序列就是<em class="ol">趋势</em>-平稳的。像<em class="ol">去趋势化</em>这样的变换可能会将它转换成可用于预测模型的平稳时间序列。如果趋势遵循可预测的模式，我们可以将趋势线拟合到观察值，然后在将去趋势序列输入预测模型之前将其减去。或者，我们可以在模型中插入一个日期时间索引作为额外的独立变量。</p><p id="8f29" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果这些去趋势测量不足以实现恒定平均值，我们可以调查一次观察到的<em class="ol">差异</em>是否具有恒定平均值。</p><p id="c194" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过<em class="ol">差分</em>时间序列——取观察值y(t)和早期观察值y(t-n)之间的差值——我们可以获得<em class="ol">变化</em>的平稳(均值回复)序列。</p><p id="84b5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个时间序列，其中的任何观察只取决于它的一个或多个前导(由几个滞后分开)，加上或减去一些随机误差，被称为<em class="ol">随机行走</em>。除了误差项之外，观测值之间的差异具有零均值，根据定义，如果误差项不包含对预测有价值信息的信号，则误差项本身具有零均值。随机漫步可能表现出明显趋势的长阶段，上涨或下跌，然后是不可预测的方向变化。恒定的平均趋势需要一阶差分。</p><p id="0600" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">相邻观测值之间的差异具有非零均值的时间序列将倾向于<em class="ol">向上(正均值)或向下(负均值)漂移</em>。我们将一个<em class="ol">时间序列与漂移</em>进行差分，得到一个具有常数均值的序列。</p><p id="fbbe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一些时间序列需要两轮差分。观测值之间的变化不是恒定的(观测值之间没有恒定的“速度”)，但变化<em class="ol">速率</em>可能是稳定的(恒定的“加速”或“减速”)。如果两轮差分不足以使一个时间序列平稳，第三轮很少是合理的。相反，应该更仔细地研究时间序列的特性。</p><p id="0095" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">具有<em class="ol">季节性</em>的时间序列将显示出在恒定数量的周期之后重复的模式:一月份的温度与七月份的不同，但是一月份的温度在不同年份之间将处于相似的水平。<em class="ol">季节差异</em>将观测值与其前一个观测值之间的差异去掉S个滞后，S是一个完整季节的周期数，比如一年12个月或一周7天。</p><p id="bc93" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果趋势和季节模式都是相对时间不变的，差分时间序列(相对于趋势的第一差分；和相对于季节性的季节性差异)将具有近似恒定的平均值。</p><p id="8fde" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">非恒定方差</strong></p><p id="0557" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果时间序列呈现扩大或缩小的漏斗形状，那么它的观测值会随着时间的推移围绕其趋势波动，方差会增大或减小。它的方差不是时不变的。</p><p id="3c95" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过取观察值的对数，它们的平方根，或者应用Box-Cox变换，我们可以通过变换稳定方差。预测之后，我们可以逆转这些转变。</p><p id="da97" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">非恒定自相关结构</strong></p><p id="cb8e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于任何给定的t，两个观测值y(t)和y(t-1)之间的相关性和协方差不会随时间保持不变。对于平稳性，自相关应该是时不变的。</p><p id="ced5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> PSA #1:在拟合模型之前确定平稳性</strong></p><p id="33b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在将预测模型拟合到数据之前，所需的差分阶数是应该预先确定的参数。调整算法可以根据选定的基准(如Akaike信息标准)测试超参数的任何组合。但是一些超参数可能会相互抵消。SARIMA模型中的超参数搜索会用自回归AR和移动平均MA项来交换差分顺序的变化。</p><p id="3d75" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">“重要的是要注意，这些信息标准往往不是选择模型差分(d)的适当阶次的良好指南，而只是选择p和q的值。这是因为差分改变了计算似然性的数据，使得具有不同差分阶次的模型之间的AIC值不可比。所以我们需要使用一些其他方法来选择d，然后我们可以使用AICc来选择p和q”(hynd man，<a class="ae lq" href="https://otexts.com/fpp2/arima-estimation.html" rel="noopener ugc nofollow" target="_blank"> 8.6估计和顺序选择|预测:原则和实践(第二版)(otexts.com)</a>)。</p><p id="8ea9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，如果超参数搜索试图确定与其他参数并行的差分顺序，我们可能会获得一个较差的预测模型。这个搜索会找到一个明显最小化AIC或BIC的差分顺序。但它可能错过了一个模型，尽管它的AIC更高，但该模型可以导致更准确的预测。搜索算法不知道它的目标，信息标准，不能比较不同阶差分的模型。</p><p id="1416" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">调整算法应该在开始对其他超参数进行网格搜索之前应用假设测试来确定适当的差分顺序；或者数据科学家确定差分的顺序，然后将网格搜索限制到剩余的参数，例如AR和MA项。</p><p id="eb26" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> PSA #2:对稳定性进行平行测试</strong></p><p id="bcc0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了确定是否需要差异，我们可以运行四个测试来获得客观的结果，这是目视检查图表可能会遗漏的:</p><ul class=""><li id="7520" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">扩充迪基-富勒ADF</li><li id="2727" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">科维亚特科夫斯基-菲利普斯-施密特-申·KPSS</li><li id="94c9" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">Osborn-Chui-Smith-Birchenhall OCSB季节性差异</li><li id="2fa9" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">卡诺瓦-汉森季节差异研究中心</li></ul><p id="2a9d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将跳过其他一些单位根测试，如菲利普斯-庇隆。</p><p id="ed90" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在相当多的情况下，这些测试可能会返回相互矛盾的结果。下面的例子将说明ADF和KPSS应该并行评估，而不是孤立地评估。我们中的许多人——包括我在内，当我准备我的第一份预测时——习惯于依赖ADF检验作为我们的平稳性检验的默认；其他人更喜欢KPSS测试。我想，我们当中很少有人习惯性地应用这两种测试，然后比较它们来决定差异。</p><h2 id="b60b" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated">2.2增强的迪基-富勒试验(pmdarima)——像鸭子一样嘎嘎叫？</h2><ul class=""><li id="df64" class="ng nh it kk b kl og ko oh kr om kv on kz oo ld nl nm nn no bi translated">零假设:数列包含一个单位根:它是<em class="ol">而不是</em>平稳的。</li><li id="b6a8" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">替代假设:没有单位根。</li><li id="9cbc" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">低p值是优选的。如果测试返回的p值<em class="ol">低于</em>所选的显著性水平(例如0.05)，我们拒绝该空值，并推断该系列不包含单位根。</li><li id="aac9" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">如果ADF检验没有找到单位根，但是KPSS检验找到了，那么这个序列就是差分平稳的:它仍然需要差分。</li><li id="c45d" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">ADF和KPSS的pmdarima测试提供p值作为输出；和一个布尔值，它是问题的答案:“我们应该不同吗？”</li></ul><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi op"><img src="../Images/2471095dd40abc93f89991450999788f.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*TeDQRMXh5d4F_E5H0BVr-Q.png"/></div></figure><h2 id="c7a3" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated">2.3科维亚特科夫斯基-菲利浦斯-施米特-申试验(KPSS)(pmdarima)——但它不会像鸭子一样走路？</h2><ul class=""><li id="b697" class="ng nh it kk b kl og ko oh kr om kv on kz oo ld nl nm nn no bi translated">零假设:序列围绕一个确定的趋势是平稳的(趋势平稳)。</li><li id="08da" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">请注意，与ADF检验相比，KPSS检验交换了原假设和替代假设。</li><li id="bfb3" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">替代假设:数列有单位根。它是不稳定的。</li><li id="c224" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">高p值是优选的。如果测试返回的p值<em class="ol">高于</em>选定的显著性水平(如0.05)，我们得出结论，它似乎是(至少趋势)稳定的。</li><li id="0efe" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">如果KPSS检验没有找到单位根，但是ADF检验找到了，那么这个序列就是<em class="ol">趋势</em>-平稳的:它需要差分(或者其他变换，比如去趋势)来消除趋势。</li></ul><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/8e46c8fb9055c1a2e2bcd03d8a6fe236.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*cvY59qET2H-ifaR7PSdFRQ.png"/></div></figure><h2 id="6c12" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated">2.4比较ADF和KPSS测试结果(pmdarima)</h2><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="f439" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，pmdarima测试返回相互矛盾的结果。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi or"><img src="../Images/97c8c01301c5dee83b008155ded15910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*ZaiXCJGDHAKBcBXyRr5WRQ.png"/></div></figure><h2 id="7485" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated">2.5 ADF和KPSS推荐的差分顺序</h2><p id="8899" class="pw-post-body-paragraph ki kj it kk b kl og ju kn ko oh jx kq kr oi kt ku kv oj kx ky kz ok lb lc ld im bi translated">pmdarima还提供了一种返回推荐的一阶差分的<em class="ol">阶</em>的方法。</p><p id="3cef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些建议也是矛盾的，因为同样的ADF和KPSS测试被用来推导它们。</p><p id="d1e1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是我们稍后将回到这些差异的顺序，那时我们将总结我们的发现并决定如何进行。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi os"><img src="../Images/6e7d0186e6e74cc5dde55e8c18b2eb64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fQ59QoU8Fr82pddESBKtdw.png"/></div></div></figure><p id="65bb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们用statsmodels.stattools测试来检查这是否只是pmdarima算法中的一个怪癖(提示:它不是)。</p><h2 id="f835" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated"><strong class="ak"> 2.6增强的Dickey-Fuller测试(stattools)——像鸭子一样嘎嘎叫？</strong></h2><ul class=""><li id="80e4" class="ng nh it kk b kl og ko oh kr om kv on kz oo ld nl nm nn no bi translated">与pmdarima测试相比，我们使用statsmodels.stattools的adfuller测试来获得更多信息。</li><li id="ab4f" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">零假设:数列包含一个单位根，它是<em class="ol">而不是</em>平稳的。</li><li id="60dc" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">替代假设:没有单位根。</li><li id="1149" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">低p值是优选的。如果测试返回的p值<em class="ol">低于</em>所选的显著性水平(例如0.05)，我们拒绝该空值，并推断该序列不包含单位根。它看起来是静止的。</li><li id="f141" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">如果ADF测试没有找到单位根，但是KPSS测试找到了，这个序列就是<em class="ol">差分</em>-平稳的:它需要差分。</li></ul><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/71bdb9f4cfcb2a77fb5c3a615d4ca32d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*yXPAAq8kcaFp6hKNj90Mog.png"/></div></figure><h2 id="d8b5" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated"><strong class="ak"> 2.7科维亚特科夫斯基-菲利普斯-施米特-申试验(KPSS)(stattools)——走路不像鸭子？</strong></h2><ul class=""><li id="1467" class="ng nh it kk b kl og ko oh kr om kv on kz oo ld nl nm nn no bi translated">零假设:序列围绕一个确定的趋势是平稳的(趋势平稳)。</li><li id="fd90" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">替代假设:数列有单位根。它是不稳定的。</li><li id="d78e" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">高p值是优选的。如果测试返回的p值<em class="ol">高于</em>选定的显著性水平(如0.05)，我们得出结论，它似乎至少是趋势稳定的。</li><li id="25a7" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">如果KPSS检验没有找到单位根，但是ADF检验找到了，那么这个序列就是<em class="ol">趋势- </em>平稳的:它需要差分或其他变换来消除趋势。</li></ul><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/64aceaad9d5024dfced52897c014c0f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*Bz0HzrAC2T0DWqFkar2GLA.png"/></div></figure><h2 id="b6a4" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated"><strong class="ak"> 2.8比较ADF和KPSS的结果——ADF像鸭子一样呱呱叫，但KPSS不像水鸟一样走路</strong></h2><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ov"><img src="../Images/258460472ba5e1e29b69ce500d507eb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qjAlDhA7201d7Nw4rwlREw.png"/></div></div></figure><h2 id="e09a" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated"><strong class="ak"> 2.9区别还是不区别？</strong></h2><ul class=""><li id="2e2d" class="ng nh it kk b kl og ko oh kr om kv on kz oo ld nl nm nn no bi translated">所以ADF测试没有找到单位根，尽管上面的图表显示了明显的上升趋势。</li><li id="540a" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">KPSS检验报告说该序列不是平稳的。</li></ul><p id="59dd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们如何处理冲突？KPSS检验总是正确的吗？</p><h2 id="0641" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated">2.10视觉真实性检查:分解</h2><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ow"><img src="../Images/e7cd0672f97ad650ab2bece7012730c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2A6L-9RasOH9NUmK5Nh_hg.png"/></div></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ox"><img src="../Images/83de160b161bc95e5569d441d978d94d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hwl52LuMcQJuL3eCAy9J6Q.png"/></div></div></figure><ul class=""><li id="fa9e" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">趋势图没有显示一个恒定的平均值，而是一个上升的趋势。该系列不能是静止的。</li><li id="6f7a" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">自相关图在其ACF图和PACF图中显示了高度和持续的自相关性，并伴有季节性振荡。如果该序列表现出稳定的季节性，它就不可能是稳定的。</li></ul><h2 id="d8af" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated">2.11第一个区别:达到平稳性</h2><p id="39da" class="pw-post-body-paragraph ki kj it kk b kl og ju kn ko oh jx kq kr oi kt ku kv oj kx ky kz ok lb lc ld im bi translated">我们应用差分法。diff()到原始时间序列；然后检查ADF和KPSS的平稳性。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/6e5c06446b19eebb13f2cfed557df499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*4Li6ASFHJq48xRkTg7XU_A.png"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi oz"><img src="../Images/74ab9ab6bad226d59d5421e23680a9ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*aO6K5_govFert00yPwnzAQ.jpeg"/></div></div></figure><p id="90d9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> ADF和KPSS一致认为<em class="ol">差分</em>系列是静止的。差异系列不仅叫起来像鸭子，走路也像鸭子。</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi le"><img src="../Images/37c87e2ef8be91c9cdcdb2003a3ec53b.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*v4Y_aI0e-KFmKa364DpFcw.jpeg"/></div></figure><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi pa"><img src="../Images/359a9bb12e17af96acf05ea2d5729089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ujVyBsOMaAG5s0-_42Pxsw.png"/></div></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi pb"><img src="../Images/b16d050ee0344fdbc080d81226e127e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6AyK_aWgeq9XydVxwnaT3Q.png"/></div></div></figure><h2 id="6ea9" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated">2.12平稳——但是季节性呢？</h2><p id="3705" class="pw-post-body-paragraph ki kj it kk b kl og ju kn ko oh jx kq kr oi kt ku kv oj kx ky kz ok lb lc ld im bi translated">我们已经应用了一阶差分，并从ADF和KPSS获得了良好的测试结果。尽管ACF图仍然显示季节性波动。</p><p id="0730" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们运行OCSB和CH测试来决定我们是否也需要季节差异的帮助。</p><p id="8bbc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">两个测试的pmdarima实现返回季节差异的推荐顺序。</p><p id="c7f1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">奥斯本-楚伊-史密斯-伯兴霍尔OCSB试验:</p><ul class=""><li id="78ef" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">零假设:数列包含一个季节性单位根</li><li id="cc47" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">它使用迪基-富勒型回归。(<a class="ae lq" href="https://rdrr.io/cran/seastests/man/ocsb.html" rel="noopener ugc nofollow" target="_blank"> ocsb:季节测试中的ocsb测试:季节性测试(rdrr.io) </a>)</li></ul><p id="c306" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">卡诺瓦-汉森季节稳定性检验:</p><ul class=""><li id="bb92" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">零假设:季节性模式是稳定的</li></ul><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/e1c68790b43cd3f2cfb24bbdbb5fc405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*x4bCrCLEAvWV64xHfu1DiQ.png"/></div></figure><p id="213e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.12当我们调查<em class="ol">原始</em>数据时，我们观察到另一个冲突，这次是关于季节差异:</p><ul class=""><li id="616c" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">OCSB没有确定对季节性差异的需求，类似于ACF对首次差异的需求。</li><li id="7eb5" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">CH检验推荐一阶季节差异，类似于KPSS的一阶差异。</li></ul><p id="7f72" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.12b当我们对我们在第2.11章中生成的<em class="ol">一阶差分</em>数据运行OCSB和CH时，OCSB和CH同意一阶差分已经消除了任何季节差分的需要。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/aef30212463892d7f6b45ab629639b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*dfE3hiSIeFKF2YNsLAAPfg.png"/></div></figure><p id="71ce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">相反，如果OCSB或CH <em class="ol">建议</em>进行差分，我们将通过追加。diff(12)方法到原始系列。</p><p id="6ead" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">pandas中差分的语法:如果y是表示一系列未差分数据的变量，则:</p><ul class=""><li id="93c3" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">y.diff(1)表示一阶差分</li><li id="6762" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">y.diff(12)表示季节性差异，如果季节性的周期为12个月。建议的季节差异顺序将乘以12的周期，以告知pandas函数。diff()关于从季节周期的末尾跳到前一个末尾应该使用的滞后数。</li><li id="a2ce" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">y.diff(1)。diff(12)或y.diff(12)。diff(1)-用于在一行中结合第一和季节性差异。第一和季节差异的<em class="ol">序列</em>是不相关的——结果是一样的。</li><li id="2470" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">【duke.edu T2】ARIMA车型识别规则(T3):</li><li id="f73e" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">“规则12:如果系列有一个强而一致的季节模式，那么你必须使用季节差异的顺序(否则模型会假设季节模式会随着时间的推移而消失)。</li><li id="27db" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">但是，不要使用一个以上的季节差异或</li><li id="2d85" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">超过2阶的总差异(季节性+非季节性)。"</li></ul><h2 id="f1e0" class="nu mf it bd mg nv nw dn mk nx ny dp mo kr nz oa mq kv ob oc ms kz od oe mu of bi translated"><strong class="ak"> 2.13民主同盟军与KPSS的冲突——我们如何处理？</strong></h2><p id="898a" class="pw-post-body-paragraph ki kj it kk b kl og ju kn ko oh jx kq kr oi kt ku kv oj kx ky kz ok lb lc ld im bi translated">如果ADF和KPSS测试返回相互矛盾的结果，我们该如何进行:区别还是不区别？</p><p id="99b3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为一般规则:</p><ul class=""><li id="766a" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">ADF检验和KPSS检验都不会孤立地证实或破坏平稳性。运行这两个测试来决定你是否应该有所不同。</li><li id="87f5" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">如果至少有一个测试声称发现了非平稳性，你应该区别对待。对躲避(平稳性)的明确确认要求两种测试都确认嘎嘎叫和摇摆。</li></ul><p id="ce4f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">更具体的解释是:</p><p id="b1d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">KPSS和ADF测试结果有4种可能的组合</p><ul class=""><li id="072f" class="ng nh it kk b kl km ko kp kr ni kv nj kz nk ld nl nm nn no bi translated">如果KPSS和ADF同意序列是平稳的(KPSS有高p值，ADF有低p值):认为它是平稳的。没必要区别它。</li><li id="e78d" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">ADF找到一个单位根；但是KPSS发现这个序列在一个确定的趋势附近是稳定的(ADF和KPSS具有高p值)。那么，该序列是趋势稳定的，需要消除趋势。区别它。或者，转型可能会让它摆脱这种趋势。</li><li id="6026" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">ADF找不到单位根；但是KPSS声称它是不稳定的(ADF和KPSS具有低p值)。那么，这个序列是差分平稳的。区别它。</li><li id="d96d" class="ng nh it kk b kl np ko nq kr nr kv ns kz nt ld nl nm nn no bi translated">如果KPSS和ADF一致认为序列是非平稳的(p值低的KPSS；具有高p值的ADF):认为它是非平稳的。区别它。</li></ul><p id="a4ab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们将这个启发转化为Python:</p><p id="6ccf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于一阶差分，我们采用ADF和KPSS推荐的高阶差分。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/43eed017cecf451e676856d5985e8946.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/format:webp/1*YEiAu2Lo0z1JlR4tjID4ew.png"/></div></figure><p id="8ac6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于季节性差异，我们采用OCSB和ch推荐的较高订单。为了避免过度差分，我们应该检查一阶差分是否已经达到平稳性。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/b9fca0729c7b15ddf780664e0198cf08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*1N-A-fjbRGnpIjo6EgPm8g.png"/></div></figure><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/1f04b943a95b1a029108bc29d4f808e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*wOSPwTAF8xYPePX0adnPgg.png"/></div></figure><p id="9d67" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在一轮差分后，代码再次运行所有四个测试——ADF、KPSS、OCSB和CH——以确认是否需要额外的差分。在我们的例子中，所有四个测试都同意我们在第2.11章中应用的一阶差分足以得到一个平稳的时间序列——我们现在可以把它交给一个预测模型。</p><p id="1be8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ol">小鸭子图片:unsplash.com张铠麟·盖奇；</em> <a class="ae lq" href="https://unsplash.com/photos/JDzoTGfoogA" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>