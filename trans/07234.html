<html>
<head>
<title>All Pandas qcut() you should know for binning numerical data based on sample quantiles</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于样本分位数的宁滨数字数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/all-pandas-qcut-you-should-know-for-binning-numerical-data-based-on-sample-quantiles-c8b13a8ed844?source=collection_archive---------9-----------------------#2021-07-01">https://towardsdatascience.com/all-pandas-qcut-you-should-know-for-binning-numerical-data-based-on-sample-quantiles-c8b13a8ed844?source=collection_archive---------9-----------------------#2021-07-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6ff3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将数值数据转换成分类数据的技巧和诀窍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3e5304bcc38473ab8460b37e365aece3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CjSI_zi0T-itKEW3US7gYA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@v2osk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> v2osk </a>在<a class="ae ky" href="https://unsplash.com/s/photos/category?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="3956" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数值型数据在数据分析中很常见。通常情况下，您会得到连续的、大范围的或高度倾斜的数值数据。有时，将这些数据绑定到离散的区间会更容易。当值被分成有意义的类别时，这对于执行描述性统计非常有帮助。例如，用年龄组代替确切的年龄，用体重级别代替确切的体重，用年级级别代替确切的分数。</p><p id="bbaa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas有两个内置函数<code class="fe lv lw lx ly b">cut()</code>和<code class="fe lv lw lx ly b">qcut()</code>，用于将数值数据转换为分类数据。</p><ul class=""><li id="6404" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated"><code class="fe lv lw lx ly b">cut()</code>根据箱边缘将数据装入离散区间<strong class="lb iu"/></li><li id="c7e2" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><code class="fe lv lw lx ly b">qcut()</code>根据样本分位数将数据分入离散区间<strong class="lb iu"/></li></ul><p id="c739" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上一篇文章中，我们已经介绍了<code class="fe lv lw lx ly b">cut()</code>函数。</p><div class="mn mo gp gr mp mq"><a rel="noopener follow" target="_blank" href="/all-pandas-cut-you-should-know-for-transforming-numerical-data-into-categorical-data-1370cf7f4c4f"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">所有熊猫切()你应该知道把数值数据转换成分类数据</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">数值型数据在数据分析中很常见。通常你有连续的数字数据，或非常大的规模，或…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">towardsdatascience.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne ks mq"/></div></div></a></div><p id="72af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，您将学习如何使用<code class="fe lv lw lx ly b">qcut()</code>基于样本分位数对数字数据进行分类。这篇文章的结构如下:</p><ol class=""><li id="3963" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu nf mf mg mh bi translated">离散成大小相等的桶</li><li id="434b" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu nf mf mg mh bi translated">用分位数列表离散化到桶中</li><li id="46a5" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu nf mf mg mh bi translated">添加自定义标签</li><li id="8811" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu nf mf mg mh bi translated">带<code class="fe lv lw lx ly b">retbins=True</code>的回收箱</li><li id="1228" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu nf mf mg mh bi translated">配置箱精度</li></ol><blockquote class="ng"><p id="3e25" class="nh ni it bd nj nk nl nm nn no np lu dk translated">请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/041-pandas-qcut/pandas-qcut.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码。</p><p id="39c5" class="nh ni it bd nj nk nq nr ns nt nu lu dk translated">访问<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>获取其他教程</p></blockquote></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="6579" class="oc od it bd oe of og oh oi oj ok ol om jz on ka oo kc op kd oq kf or kg os ot bi translated">1.离散成大小相等的桶</h1><p id="9fcd" class="pw-post-body-paragraph kz la it lb b lc ou ju le lf ov jx lh li ow lk ll lm ox lo lp lq oy ls lt lu im bi translated">与<a class="ae ky" rel="noopener" target="_blank" href="/all-pandas-cut-you-should-know-for-transforming-numerical-data-into-categorical-data-1370cf7f4c4f">熊猫</a>T0】类似，<code class="fe lv lw lx ly b">qcut()</code>最简单的用法必须有一列和一个整数作为输入。它将值离散化到大小相等的桶中:</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="4223" class="pd od it ly b gy pe pf l pg ph">df = pd.DataFrame({<br/>   'age': [2, 67, 40, 32, 4, 15, 82, 99, 26, 30, 50, 78]<br/>})</span><span id="23b4" class="pd od it ly b gy pi pf l pg ph">df['age_group'] = pd.qcut(<strong class="ly iu">df['age']</strong>, 3)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/e553603e5f3594e7be8c1671917842a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tp0kdCToBl5T12aILWcVuA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="dd8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们数一数有多少个值落入每个容器中。</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="ed22" class="pd od it ly b gy pe pf l pg ph">df['age_group']<strong class="ly iu">.value_counts()</strong></span><span id="f5b8" class="pd od it ly b gy pi pf l pg ph">(1.999, 28.667]     4<br/>(28.667, 55.667]    4<br/>(55.667, 99.0]      4<br/>Name: age_group, dtype: int64</span></pre><p id="8f14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到已经选择了箱，因此结果在每个箱中具有相同数量的记录(称为<strong class="lb iu">大小相等的桶</strong>)。</p><p id="919c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，您可能会注意到那些区间值在开头有一个圆括号，在结尾有一个方括号，例如<code class="fe lv lw lx ly b">(1.999, 28.667]</code>。基本意思是圆括号边的任何值都不包含在区间内，方括号边的任何值都包含在内(数学上称为<strong class="lb iu">开区间和闭区间</strong>)。</p><p id="bf43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们来看看新的专栏<strong class="lb iu">年龄组</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/3915250134a536bae7b1d78aa8a9ff8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TJmGaBDP3xC9KAKzA2soeA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="ea6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">显示<code class="fe lv lw lx ly b">dtype: category</code>，有三个标签值:<code class="fe lv lw lx ly b"><strong class="lb iu">(1.999, 28.667]</strong></code>、<code class="fe lv lw lx ly b"><strong class="lb iu">(28.667, 55.667]</strong></code>和<code class="fe lv lw lx ly b"><strong class="lb iu">(55.667, 99.0]</strong></code>。这些标签值按照符号<code class="fe lv lw lx ly b">&lt;</code>的指示进行排序。让我们按列<strong class="lb iu">年龄组</strong>对数据帧进行排序:</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="89fd" class="pd od it ly b gy pe pf l pg ph">df.<strong class="ly iu">sort_values('age_group')</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/15947c7989eb7e1183d910a033c7839c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MZS-UzeO3c8t7Wr1gW_hFA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="8f91" class="oc od it bd oe of pm oh oi oj pn ol om jz po ka oo kc pp kd oq kf pq kg os ot bi translated">2.用分位数列表离散化到桶中</h1><p id="6585" class="pw-post-body-paragraph kz la it lb b lc ou ju le lf ov jx lh li ow lk ll lm ox lo lp lq oy ls lt lu im bi translated">先前方法的一个问题是，结果在每个箱中总是具有相同数量的记录。换句话说，每个箱具有相同的比例/百分比。例如:</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="25d2" class="pd od it ly b gy pe pf l pg ph">pd.qcut(df['age'], <strong class="ly iu">2</strong>) <br/>Result: <strong class="ly iu">|&lt;- 50% -&gt;|&lt;- 50% -&gt;|</strong></span><span id="2468" class="pd od it ly b gy pi pf l pg ph">pd.qcut(df['age'], <strong class="ly iu">3</strong>) <br/>Result: <strong class="ly iu">|&lt;- 33.3% -&gt;|&lt;- 33.3% -&gt;|&lt;- 33.3% -&gt;|</strong></span><span id="7eed" class="pd od it ly b gy pi pf l pg ph">pd.qcut(df['age'], <strong class="ly iu">4</strong>)<br/>Result: <strong class="ly iu">|&lt;- 25% -&gt;|&lt;- 25% -&gt;|&lt;- 25% -&gt;|&lt;- 25% -&gt;|</strong></span><span id="cbf4" class="pd od it ly b gy pi pf l pg ph">pd.qcut(df['age'], <strong class="ly iu">5</strong>)<br/>Result: <strong class="ly iu">|&lt;- 20% -&gt;|&lt;- 20% -&gt;|&lt;- 20% -&gt;|&lt;- 20% -&gt;|&lt;- 20% -&gt;|</strong></span></pre><p id="bde9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在某些情况下，您可能希望明确选择比例，而不是大小相等的存储桶，例如:</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="aedb" class="pd od it ly b gy pe pf l pg ph">10%, 40%, 50%</span></pre><p id="d80a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，我们可以将一个分位数列表传递给第二个参数。</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="f3fb" class="pd od it ly b gy pe pf l pg ph">df['age_group'] = pd.qcut(df['age'], <strong class="ly iu">[0, .1, .5, 1]</strong>)</span><span id="8344" class="pd od it ly b gy pi pf l pg ph">df.sort_values('age_group')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/439d8e19368a9827531a7781daf0ed2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0aOms_1gb47pAfXbQiMx_Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5546" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，4个值<code class="fe lv lw lx ly b">[0, .1, .5, 1]</code>用于产生3个比例/百分比<code class="fe lv lw lx ly b">10%</code>、<code class="fe lv lw lx ly b">40%</code>和<code class="fe lv lw lx ly b">50%</code></p><p id="f646" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了验证结果，让我们按如下方式对每个容器中的值进行排序和计数:</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="433f" class="pd od it ly b gy pe pf l pg ph">df.sort_values('age_group')['age_group']<strong class="ly iu">.value_counts()</strong></span><span id="3527" class="pd od it ly b gy pi pf l pg ph"><strong class="ly iu">(36.0, 99.0]    6<br/>(5.1, 36.0]     4<br/>(1.999, 5.1]    2</strong><br/>Name: age_group, dtype: int64</span></pre><h1 id="d515" class="oc od it bd oe of pm oh oi oj pn ol om jz po ka oo kc pp kd oq kf pq kg os ot bi translated">3.添加自定义标签</h1><p id="44f3" class="pw-post-body-paragraph kz la it lb b lc ou ju le lf ov jx lh li ow lk ll lm ox lo lp lq oy ls lt lu im bi translated">将这些<strong class="lb iu">年龄段</strong>的价值观贴上“千禧一代”、“X世代”、“婴儿潮一代”、“最伟大”的标签更能说明问题。为此，我们可以简单地将列表中的值传递给参数<code class="fe lv lw lx ly b">labels</code></p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="6652" class="pd od it ly b gy pe pf l pg ph"><strong class="ly iu">labels=['Millennial', 'Gen X', 'Boomer', 'Greatest']</strong><br/>df['age_group'] = pd.qcut(df['age'], [0, .1, 0.3, .6, 1], <strong class="ly iu">labels=labels</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/373600366ed4e4b896309b51ab711b6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9E7TX0I5EVabhV_s-TXsAw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="7072" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当我们查看该列时，它显示的是标签</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="2872" class="pd od it ly b gy pe pf l pg ph">df['age_group']</span><span id="84de" class="pd od it ly b gy pi pf l pg ph">0     Millennial<br/>1       Greatest<br/>2         Boomer<br/>3         Boomer<br/>4     Millennial<br/>5          Gen X<br/>6       Greatest<br/>7       Greatest<br/>8          Gen X<br/>9         Boomer<br/>10      Greatest<br/>11      Greatest<br/>Name: age_group, dtype: category<br/>Categories (4, object): ['Millennial' &lt; 'Gen X' &lt; 'Boomer' &lt; 'Greatest']</span></pre><p id="3e6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，在分类和计数时，它会显示标签</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="dbfb" class="pd od it ly b gy pe pf l pg ph">df.sort_values('age_group')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/f452d9f5262a7364facc8a83a9a2ab8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JfL9v9OWyLBdJS9e-K060Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="4dbd" class="pd od it ly b gy pe pf l pg ph">df['age_group'].<strong class="ly iu">value_counts().sort_index()</strong></span><span id="f32f" class="pd od it ly b gy pi pf l pg ph">Millennial    2<br/>Gen X         2<br/>Boomer        3<br/>Greatest      5<br/>Name: age_group, dtype: int64</span></pre><h1 id="6c54" class="oc od it bd oe of pm oh oi oj pn ol om jz po ka oo kc pp kd oq kf pq kg os ot bi translated">4.用<code class="fe lv lw lx ly b">retbins=True</code>返回箱子</h1><p id="ddbe" class="pw-post-body-paragraph kz la it lb b lc ou ju le lf ov jx lh li ow lk ll lm ox lo lp lq oy ls lt lu im bi translated">有一个名为<code class="fe lv lw lx ly b">retbin</code>的参数用于返回bin。如果设置为<code class="fe lv lw lx ly b">True</code>，结果将返回<code class="fe lv lw lx ly b">bins</code>。当第二个参数<code class="fe lv lw lx ly b">q</code>作为单个数值传递时，这很有用。</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="36ac" class="pd od it ly b gy pe pf l pg ph">result, <strong class="ly iu">bins</strong> = pd.qcut(<br/>    df['age'], <br/>    <strong class="ly iu">5,                  # A single number value</strong><br/>    retbins=True<br/>)</span><span id="040e" class="pd od it ly b gy pi pf l pg ph"># Print out bins value<br/><strong class="ly iu">bins</strong><br/>array([ 2. , 17.2, 30.8, 46. , 75.8, 99. ])</span></pre><h1 id="9664" class="oc od it bd oe of pm oh oi oj pn ol om jz po ka oo kc pp kd oq kf pq kg os ot bi translated">5.配置箱精度</h1><p id="85b2" class="pw-post-body-paragraph kz la it lb b lc ou ju le lf ov jx lh li ow lk ll lm ox lo lp lq oy ls lt lu im bi translated">您可能会注意到，到目前为止我们制作的所有bin间隔值都有一些小数点，例如<code class="fe lv lw lx ly b">pd.qcut(df['age'], 3)</code></p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="307a" class="pd od it ly b gy pe pf l pg ph">pd.qcut(df['age'], 3)</span><span id="62c3" class="pd od it ly b gy pi pf l pg ph">0      (1.999, 28.667]<br/>1       (55.667, 99.0]<br/>2     (28.667, 55.667]<br/>3     (28.667, 55.667]<br/>4      (1.999, 28.667]<br/>5      (1.999, 28.667]<br/>6       (55.667, 99.0]<br/>7       (55.667, 99.0]<br/>8      (1.999, 28.667]<br/>9     (28.667, 55.667]<br/>10    (28.667, 55.667]<br/>11      (55.667, 99.0]<br/>Name: age, dtype: category<br/>Categories (3, interval[float64]): [<strong class="ly iu">(1.999, 28.667] &lt; (28.667, 55.667] &lt; (55.667, 99.0]</strong>]</span></pre><p id="d949" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一般来说，年龄组间隔不使用小数位。幸运的是，有一个名为<code class="fe lv lw lx ly b">precision</code>的参数来定义在计算bin精度时使用多少个小数点。我们可以将<code class="fe lv lw lx ly b">precision</code>设置为<code class="fe lv lw lx ly b">0</code>来避免任何小数位。</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="78f5" class="pd od it ly b gy pe pf l pg ph">pd.qcut(df['age'], 3, <strong class="ly iu">precision=0</strong>)</span><span id="c7b4" class="pd od it ly b gy pi pf l pg ph">0      (1.0, 29.0]<br/>1     (56.0, 99.0]<br/>2     (29.0, 56.0]<br/>3     (29.0, 56.0]<br/>4      (1.0, 29.0]<br/>5      (1.0, 29.0]<br/>6     (56.0, 99.0]<br/>7     (56.0, 99.0]<br/>8      (1.0, 29.0]<br/>9     (29.0, 56.0]<br/>10    (29.0, 56.0]<br/>11    (56.0, 99.0]<br/>Name: age, dtype: category<br/>Categories (3, interval[float64]): [<strong class="ly iu">(1.0, 29.0] &lt; (29.0, 56.0] &lt; (56.0, 99.0]</strong>]</span></pre><p id="e6fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以将其设置为任何其他值，例如<code class="fe lv lw lx ly b">precision=1</code>表示1位小数。</p><pre class="kj kk kl km gt oz ly pa pb aw pc bi"><span id="474c" class="pd od it ly b gy pe pf l pg ph">pd.qcut(df['age'], 3, <strong class="ly iu">precision=1</strong>)</span><span id="0889" class="pd od it ly b gy pi pf l pg ph">0      (1.9, 28.7]<br/>1     (55.7, 99.0]<br/>2     (28.7, 55.7]<br/>3     (28.7, 55.7]<br/>4      (1.9, 28.7]<br/>5      (1.9, 28.7]<br/>6     (55.7, 99.0]<br/>7     (55.7, 99.0]<br/>8      (1.9, 28.7]<br/>9     (28.7, 55.7]<br/>10    (28.7, 55.7]<br/>11    (55.7, 99.0]<br/>Name: age, dtype: category<br/>Categories (3, interval[float64]): [(1.9, 28.7] &lt; (28.7, 55.7] &lt; (55.7, 99.0]]</span></pre><h1 id="910f" class="oc od it bd oe of pm oh oi oj pn ol om jz po ka oo kc pp kd oq kf pq kg os ot bi translated">结论</h1><p id="3c8c" class="pw-post-body-paragraph kz la it lb b lc ou ju le lf ov jx lh li ow lk ll lm ox lo lp lq oy ls lt lu im bi translated">Pandas <code class="fe lv lw lx ly b">qcut()</code>函数是一种基于样本分位数的宁滨数值数据的快捷方式。</p><p id="fb0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇文章能帮助你节省学习熊猫的时间。我建议你查看一下<code class="fe lv lw lx ly b">qcut()</code> API的<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.qcut.html" rel="noopener ugc nofollow" target="_blank">文档</a>，并了解你可以做的其他事情。</p><p id="7c5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/041-pandas-qcut/pandas-qcut.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码，如果您对机器学习的实用方面感兴趣，请继续关注。</p><h2 id="b8c9" class="pd od it bd oe pu pv dn oi pw px dp om li py pz oo lm qa qb oq lq qc qd os qe bi translated">你可能会对我的其他一些熊猫文章感兴趣:</h2><ul class=""><li id="ff69" class="lz ma it lb b lc ou lf ov li qf lm qg lq qh lu me mf mg mh bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/a-practical-introduction-to-pandas-series-9915521cdc69">熊猫系列实用介绍</a></li><li id="5f41" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><a class="ae ky" href="https://medium.com/@bindiatwork/using-pandas-method-chaining-to-improve-code-readability-d8517c5626ac" rel="noopener">使用熊猫方法链接提高代码可读性</a></li><li id="995b" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">如何对熊猫数据帧进行自定义排序</li><li id="3285" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/all-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e">为了数据分析你应该知道的所有熊猫移位()</a></li><li id="bdb6" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/when-to-use-pandas-transform-function-df8861aa0dcf">何时使用Pandas transform()函数</a></li><li id="67d5" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/pandas-concat-tricks-you-should-know-to-speed-up-your-data-analysis-cd3d4fdfe6dd">你应该知道的熊猫串联()招数</a></li><li id="1037" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><a class="ae ky" href="https://medium.com/@bindiatwork/difference-between-apply-and-transform-in-pandas-242e5cf32705" rel="noopener">熊猫的应用()和变换()的区别</a></li><li id="22ae" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/all-the-pandas-merge-you-should-know-for-combining-datasets-526b9ecaf184">所有熊猫合并()你应该知道</a></li><li id="f7f5" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/working-with-datetime-in-pandas-dataframe-663f7af6c587">在Pandas数据帧中处理日期时间</a></li><li id="5563" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><a class="ae ky" href="https://medium.com/@bindiatwork/all-the-pandas-read-csv-you-should-know-to-speed-up-your-data-analysis-1e16fe1039f3" rel="noopener">熊猫阅读_csv()你应该知道的招数</a></li><li id="ee10" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/4-tricks-you-should-know-to-parse-date-columns-with-pandas-read-csv-27355bb2ad0e">用Pandas read_csv()解析日期列应该知道的4个技巧</a></li></ul><p id="a47b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多教程可以在我的<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到</p></div></div>    
</body>
</html>