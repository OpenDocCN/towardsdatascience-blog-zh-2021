<html>
<head>
<title>Using Turf.js to Geocode coordinates with custom boundaries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Turf.js通过自定义边界对坐标进行地理编码</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-turf-js-to-geocode-coordinates-with-custom-boundaries-bb843b7150d0?source=collection_archive---------30-----------------------#2021-06-23">https://towardsdatascience.com/using-turf-js-to-geocode-coordinates-with-custom-boundaries-bb843b7150d0?source=collection_archive---------30-----------------------#2021-06-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4387" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这个位置属于❝Which地区/区域/区域吗？❞</h2></div><p id="f1ea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然许多国家的医疗保健工作者继续努力接触和跟踪个人的移动，以识别各种“热点”，即感染病例数量特别多的地区，但这一过程通常需要根据<em class="le">地区、地带、城市</em>等对每个识别的位置进行聚类。(取决于实现的边界类型)。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/199ca53a214e26f345a9f241d2834b50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LQwrm2y-y9ufz6ff0gwTXQ.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片|新加坡国家的任意示例，感染病例经常出现的位置用地图标记表示</p></figure><p id="3243" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于我们大多数人来说，当给定任何邮政编码或地址名称时，找到该位置属于哪个地区或区域(例如“位置A ”)的最本能的方法是搜索更多信息:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lv"><img src="../Images/fe954171d8dc220ddd15b33cd7792642.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZNLSmoUGQLWjWAE_Unq8GA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片|声称位于“北部地区”和“Z区”的“位置A”的任意示例</p></figure><p id="86dc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，当您需要每天处理<strong class="kk iu">数十、数百甚至数千个唯一地址</strong>并根据区域边界标记每个位置时，这就变成了一个完全不同的故事。虽然许多地理空间分析师会使用诸如<a class="ae lw" href="https://www.esri.com/en-us/home" rel="noopener ugc nofollow" target="_blank"> ArcGIS </a>或<a class="ae lw" href="https://qgis.org/en/site/" rel="noopener ugc nofollow" target="_blank"> QGIS </a>之类的软件工具，但我个人更喜欢一种更省事的方法，它不需要安装诸如<a class="ae lw" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank">turf . js库</a>之类的软件。</p><blockquote class="lx ly lz"><p id="0b3d" class="ki kj le kk b kl km ju kn ko kp jx kq ma ks kt ku mb kw kx ky mc la lb lc ld im bi translated">就短期地理编码而言，我认为这是一种更实际的方法，因为代码片段比桌面软件更容易移植。</p></blockquote></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="3e5e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了展示<a class="ae lw" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank">turf . js库</a>的功能，类似于我以前的一些文章:</p><ul class=""><li id="254c" class="mk ml it kk b kl km ko kp kr mm kv mn kz mo ld mp mq mr ms bi translated"><a class="ae lw" rel="noopener" target="_blank" href="/leverage-on-d3-js-v4-to-build-a-network-graph-for-tableau-with-ease-cc274cba69ce">利用D3.js v4构建Tableau的网络图|作者李思欣·楚|走向数据科学</a></li><li id="a5ae" class="mk ml it kk b kl mt ko mu kr mv kv mw kz mx ld mp mq mr ms bi translated"><a class="ae lw" rel="noopener" target="_blank" href="/underrated-combined-functionalities-of-tableau-point-linestring-polygon-mapping-b4c0568a4de2">被低估的Tableau组合功能——点、线串&amp;多边形制图|李思欣·楚|走向数据科学</a></li><li id="0ad6" class="mk ml it kk b kl mt ko mu kr mv kv mw kz mx ld mp mq mr ms bi translated"><a class="ae lw" rel="noopener" target="_blank" href="/generate-hex-maps-from-your-existing-spatial-data-in-less-than-3-steps-a6f39d778d84">通过不到3个步骤从现有空间数据生成十六进制地图|作者李思欣·楚|迈向数据科学</a></li></ul><p id="30a8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经将工具部署到与上述教程相同的<a class="ae lw" href="https://tableau-data-utility.onrender.com/" rel="noopener ugc nofollow" target="_blank"> Web应用程序</a>上:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi my"><img src="../Images/81b62ffe85a3764f065c0a0663689f0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DxxRhFGKMB5xLw80FhM06Q.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图片作者|注意，过去的3个Tableau实用工具目前位于<a class="ae lw" href="https://tableau-data-utility.onrender.com/" rel="noopener ugc nofollow" target="_blank"> Tableau数据实用工具</a>的下拉列表中</p></figure><p id="aa48" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了演示，我将使用2个输入空间文件(接受GeoJSON、SHP和KML格式)—</p><p id="8b85" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">(1)空间边界(<a class="ae lw" href="https://github.com/incubated-geek-cc/tableau-data-utility/blob/master/public/data/planningareas.zip" rel="noopener ugc nofollow" target="_blank">https://github . com/孵育-geek-cc/tableau-data-utility/blob/master/public/data/planning areas . zip</a>)</p><p id="0ba3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">(2)空间坐标(<a class="ae lw" href="https://github.com/incubated-geek-cc/tableau-data-utility/blob/master/public/data/chas_clinics_2020.geojson" rel="noopener ugc nofollow" target="_blank">https://github . com/孵育-geek-cc/tableau-data-utility/blob/master/public/data/chas _ clinics _ 2020 . geo JSON</a>)</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mz"><img src="../Images/2247876429fbb29c52669237a102c123.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UoMUd6eyf6HPRWooULpNpw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图片作者|在web应用程序<a class="ae lw" href="https://tableau-data-utility.onrender.com/" rel="noopener ugc nofollow" target="_blank"> Tableau数据实用程序</a>上，导航至“地理编码器工具”。步骤(1)选择空间文件输入(<a class="ae lw" href="https://github.com/incubated-geek-cc/tableau-data-utility/blob/master/public/data/planningareas.zip" rel="noopener ugc nofollow" target="_blank">空间边界文件</a>是SHP格式的档案)。边界将被渲染到地图容器中。</p></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi na"><img src="../Images/7c3a243929f8be89b77cdeecfb642a63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5bHYp6Zh2aF_fezDP_LRmA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图片作者|在web app上<a class="ae lw" href="https://tableau-data-utility.onrender.com/" rel="noopener ugc nofollow" target="_blank"> Tableau数据实用程序</a> |步骤(2)继续选择空间文件输入(<a class="ae lw" href="https://github.com/incubated-geek-cc/tableau-data-utility/blob/master/public/data/chas_clinics_2020.geojson" rel="noopener ugc nofollow" target="_blank">空间坐标文件</a>为GeoJSON格式)。坐标将被渲染到地图容器中。<strong class="bd nb"> <em class="nc">注:边界和坐标的唯一编号如图所示。</em>T19】</strong></p></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nd"><img src="../Images/36591cb855acf1780e919b2d7d58ca9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IDXXeOIKh4XISpr6e0vxaw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图片作者|步骤(3)最后，地理编码输出可以导出为JSON或CSV格式。</p></figure><p id="4e11" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了进行演示，上述内容已导出为CSV格式，并呈现在Tableau中，如下所示:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi my"><img src="../Images/416b17bdd8420b62e3bd6973129833a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AdtpWucMSTDHA5J5RyStKQ.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">按作者分类的图像|左图:在没有底图的情况下渲染CSV输出，并根据边界名称对坐标进行颜色编码|右图:渲染底图以将颜色编码的坐标与实际边界进行对比。<strong class="bd nb">请注意，坐标根据地图的边界进行了不同的颜色编码，这意味着每个位置都已成功进行了地理编码。</strong></p></figure><p id="9049" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了说明另一个例子，在下面的演示中使用输入文件(1) <a class="ae lw" href="https://github.com/incubated-geek-cc/tableau-data-utility/blob/master/public/data/US_States.geojson" rel="noopener ugc nofollow" target="_blank"> US_States.geojson </a>(空间边界)&amp;(2)<a class="ae lw" href="https://github.com/incubated-geek-cc/tableau-data-utility/blob/master/public/data/US_Hospitals.geojson" rel="noopener ugc nofollow" target="_blank">US _ hospitals . geo JSON</a>(空间坐标):</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ne"><img src="../Images/69318d52bca6e7f8c4e41bb36da70e40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6nT44oOE0n2M9z-TLUA7pw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图片由作者提供|步骤(1)两个空间文件<a class="ae lw" href="https://github.com/incubated-geek-cc/tableau-data-utility/blob/master/public/data/US_States.geojson" rel="noopener ugc nofollow" target="_blank">US _ States . geo JSON</a>&amp;T6】US _ hospitals . geo JSON都上传到<a class="ae lw" href="https://tableau-data-utility.onrender.com/" rel="noopener ugc nofollow" target="_blank"> Tableau数据实用程序</a> |步骤(2)地理编码坐标导出为单个CSV文件</p></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi my"><img src="../Images/f7b75f528205a525ff4cd7e993511eb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*saoPz_d6nWvonhVrXWCa5g.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">Image by Author |前面步骤导出的CSV输出在Tableau中呈现。根据底图边界，每个美国医院坐标都已成功进行地理编码。</p></figure><p id="54bf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以在<a class="ae lw" href="https://tableau-data-utility.onrender.com/" rel="noopener ugc nofollow" target="_blank"> Tableau数据实用程序</a>随意访问这个地理空间工具，并通过上传您自己的空间文件:D来试用它</p><p id="76ee" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">边注:</strong> <a class="ae lw" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank"> Turf.js库</a>出人意料地被低估，而且用途惊人。要查看如何将<a class="ae lw" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank"> Turf.js </a>用于其他用例，也可以随意查看<a class="ae lw" rel="noopener" target="_blank" href="/generate-hex-maps-from-your-existing-spatial-data-in-less-than-3-steps-a6f39d778d84">用不到3个步骤从现有空间数据生成十六进制地图|作者李思欣·楚|迈向数据科学</a></p><p id="75eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读，并希望你发现这是有用的！</p><div class="nf ng gp gr nh ni"><a href="https://geek-cc.medium.com/membership" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">通过我的推荐链接加入灵媒——李思欣·崔</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">获得李思欣·崔和其他作家在媒体上的所有帖子！😃您的会员费直接…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">geek-cc.medium.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw lp ni"/></div></div></a></div></div></div>    
</body>
</html>