<html>
<head>
<title>Power BI Modelling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">功率BI建模</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/power-bi-modelling-8f1e4246c84e?source=collection_archive---------15-----------------------#2021-05-28">https://towardsdatascience.com/power-bi-modelling-8f1e4246c84e?source=collection_archive---------15-----------------------#2021-05-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c799" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用简单的概念建立模型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/568e31dec4b064ab991b125c2b102597.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SL9BdHyuRP2MsgUF"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Bret Kavanaugh 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="b8a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Power BI的很多用户都是Excel背景。他们已经使用它很多年了，并使用它建立了仪表板和其他工具。一旦他们获得了Power BI，他们就想进入表格的单个“单元”级别。</p><p id="bf53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我以前也想这么做，但问题是Power BI是一个分栏工具，你必须以分栏的方式来考虑，才能最大限度地利用这个工具。</p><p id="3e4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是什么意思？</p><p id="df91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着您必须知道将表连接在一起的公共列。这将要求你思考如何基于一个列来报告数字。这将要求您一起查看您的表，并查看哪些列可以链接到哪个表，以及如何根据这些表创建一个报告解决方案。</p><p id="bd98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我应该使用哪张桌子？我要报告哪些表？</p><p id="0d82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将向您介绍一个基本的数据模型。一旦你理解了这个概念，做模特的想法对你来说就不难了。</p><p id="caf9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与SQL数据库或Access数据库不同，Power BI不要求您规范化或“拆分”所有的表。它介于两者之间。</p><p id="43b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先问自己这个问题，你想报道什么？</p><p id="512d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个问题会告诉你很多下一步该做什么。它可能会告诉您需要使用什么表以及要过滤什么。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="3d9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我的问题，</p><p id="718f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">我想报告每天的库存和交易情况。每天都有销售额，所以我想知道我的销售额。</strong></p><p id="b6e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们已经知道我们想要报告库存和销售。这些可能是我们的事实表。听起来好像有一个日期时间维度，所以我们可能需要一个时间表。</p><p id="4b32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些是我们想要使用的事实表，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/75b3442516f844c26735d4e6cfb679eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*1Y0gK56tACmOv3arYVEF5Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e84b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还需要一个表将inventory和transactions表连接在一起，这样我们就可以按日期进行筛选。我们需要一张日期表。这里我们可以使用</p><pre class="kj kk kl km gt md me mf mg aw mh bi"><span id="3e08" class="mi mj it me b gy mk ml l mm mn">Date_Filter = CALENDAR( DATE(2021,04,01), DATE(2021,12,31))</span></pre><p id="5a80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Power BI会自动为你创建一个表。结果会是这样一个表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/6d9f664d5298b15f89f8fb455defb582.png" data-original-src="https://miro.medium.com/v2/resize:fit:258/format:webp/1*ecoGlI9WbxD7b9-08tI-Ow.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">简单的日期表格-作者图片</p></figure><p id="fefe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个模型中，您可以看到我将交易日期和库存日期连接到日期表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/637f6900336519370832c11bb26269ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*7JPw0GbueLxoWieaYeOIsA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="f80c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个你需要记住的基本模型。</p><p id="03fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，日期表在日期列上连接库存和销售表。如果您要按日期过滤，它将从两个表中“抓取”数据。日期表筛选一对多关系中的库存和交易表。</p><p id="b9f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们进一步扩展一下，</p><p id="94d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">我想按类型和购买者查看库存和销售情况。</strong></p><p id="9bb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们可以看出，我们可能需要再次过滤一些内容，包括库存和销售这两个表。我们有日期维度，但是这里的请求只是按类型。我将不得不创建一个表，该表接受两个表的唯一产品类型，以便对它们进行筛选。</p><p id="8c98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，您可以使用Power Query来选择inventory和transactions表中产品类型的各个列，追加它们并运行remove duplicate来创建过滤表。</p><p id="4ebe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在DAX中，您可以使用DISTINCT创建一个包含所有库存的唯一值的表。</p><pre class="kj kk kl km gt md me mf mg aw mh bi"><span id="c1de" class="mi mj it me b gy mk ml l mm mn">Product_Type_Filter = DISTINCT(Inventory[Inventory]))</span></pre><p id="e856" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是模型现在的样子，🍦 🍩🍰</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/50ab394837164d43edfdf45dd4a917d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4mGv8u87T8EbLIuIp34EJw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="65ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我可以按日期、按产品类型进行过滤，并且只看到购买它们的客户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/7ad70e7b952a36d1fbe996bdb5217eca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SrKo9wOgC6Cgl7IeXzuVhQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="474c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，这是一个简单的过滤器，允许您过滤两个表以获得答案。</p><p id="212c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">稍微说一下过滤方向也很重要。让我们再来看看这个模型，我在箭头处添加了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/60f8bdd38a2d1a9f7f746e17f31b7988.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yUHS5tjTeTmKew8QgUv-3A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3b2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些箭头是什么意思？</p><p id="ab6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着当用户使用日期筛选器或产品筛选器进行筛选时，因为这些筛选表与库存和交易表相连接，所以他们可以单向筛选。</p><p id="363c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">按照与连接相同的方向进行过滤非常重要。</p><p id="e921" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，我在inventory表中对cake进行了过滤，这不是一个过滤表，它将在transactions表中拉出一个冰淇淋的事务。正如你所看到的，如果你没有使用合适的过滤器，它会很快变得非常混乱。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/694956fcbccd28e4f25db9280e763ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TLbesO0C4RMgxAlbL9wRCg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e742" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望通过这篇文章，您可以获得创建数据模型的基础知识。</p><p id="1a8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住这个。你建立的模型不一定很难。它只需要简单而有效。要让它起作用，它必须是你和其他人能很快理解的东西。</p><p id="e1fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不能产生一个被要求的报告，没有人会关心你的模型看起来有多优雅。</p><p id="8fb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">概括一下，</p><ol class=""><li id="4bc4" class="mu mv it lb b lc ld lf lg li mw lm mx lq my lu mz na nb nc bi translated">分析你的问题</li><li id="b115" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">确定你的事实表</li><li id="e485" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">创建过滤表来连接它们</li></ol><p id="f6ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看一看恒星的设置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/bacf528af388bdefdeee191f10b39283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OEt6tNz-Mz6TnncZS4bqNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="0f1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不是和我们讨论过的挺像吗？这就是著名的星型数据模型。</p><p id="09ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果你认识一个谈论星型模式和雪花的数据建模师，继续问他们过滤表和事实表在哪里。他们应该能马上告诉你。</p><p id="b993" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果没有，那么很可能有什么问题，我希望你不必成为使用这个模型的人，或者更好的是，重建它！</p></div></div>    
</body>
</html>