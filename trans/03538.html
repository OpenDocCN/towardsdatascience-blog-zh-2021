<html>
<head>
<title>A hands-on guide to ‘sorting’ dataframes in Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫数据帧“分类”实践指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-hands-on-guide-to-sorting-dataframes-in-pandas-384996ca6bb8?source=collection_archive---------18-----------------------#2021-03-22">https://towardsdatascience.com/a-hands-on-guide-to-sorting-dataframes-in-pandas-384996ca6bb8?source=collection_archive---------18-----------------------#2021-03-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f68c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">熊猫中数据排序的十种方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4360a1b269775ee6e36c2375eb715b47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TrPePlP9A9sm9o9vtNi5xw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">freepik创作的健康照片</p></figure><p id="71ac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我与<a class="ae lu" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">熊猫的</a>图书馆的幽会还在继续。最近，我一直试图更深入地研究这个库，并在字节大小的文章中巩固一些熊猫的特征。我写过关于在使用pandas时减少内存使用的文章，将XML文件转换成pandas dataframe的文章，以及开始使用pandas中的时间序列的文章等等。在本文中，我将触及数据分析的一个非常有用的方面，那就是排序。我们将从一个简短的介绍开始，然后快速跳转到一些在熊猫中有效执行排序的方法。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8cc9" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">整理</h1><p id="aa78" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">如果您是excel用户，当您打开电子表格时，首先要做的事情之一就是根据一列(或多列)对它们进行升序或降序排序。从技术上讲，排序是一种根据元素的等级对元素进行排序的方式。有完整的文档专门用于编程领域的各种排序算法。下面是一些常用的排序算法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/4538546868db0d112110a76506832bdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Igeh6evXGfHYnJ4x1tXKGw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">不同的排序算法|按作者排序的图片</p></figure><p id="3b2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不同的排序算法具有不同的排序数据的基本原理。例如，在<a class="ae lu" href="https://en.wikipedia.org/wiki/Bubble_sort" rel="noopener ugc nofollow" target="_blank">冒泡排序</a>中，算法将一个元素与其相邻元素进行比较，并以期望的顺序交换它们。另一方面，<a class="ae lu" href="https://en.wikipedia.org/wiki/Merge_sort" rel="noopener ugc nofollow" target="_blank">合并排序</a>基于分治技术。在选择排序中，无序数组首先被分成相等的两半，然后以排序的方式组合。解释所有这些算法的复杂性超出了本文的范围，但是如果它引起了你的兴趣，这里有一篇很棒的文章用很好的可视化解释了这个概念。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d60a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">熊猫的分类</h1><p id="57bb" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">现在让我们看看如何在pandas中执行排序。为此，我将使用一个非常有趣的数据集，其中包含一个排名前一百的Github库<strong class="la iu">。</strong>公开<a class="ae lu" href="https://www.kaggle.com/parulpandey/most-starred-github-repositories" rel="noopener ugc nofollow" target="_blank">在Kaggle </a>上有售。数据集每天更新，由其他属性组成，如几个分支、项目描述、语言，甚至项目描述。让我们加载数据集，看看它的结构。</p><p id="bc89" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="na">注:您可以使用下面的笔记本跟随:</em> </strong></p><div class="nb nc gp gr nd ne"><a href="https://www.kaggle.com/parulpandey/a-quick-guide-to-sorting-in-pandas" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd iu gy z fp nj fr fs nk fu fw is bi translated">熊猫分类快速指南</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">使用Kaggle笔记本探索和运行机器学习代码|使用来自大多数星级Github存储库的数据</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">www.kaggle.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns ks ne"/></div></div></a></div><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="b59d" class="ny md it nu b gy nz oa l ob oc">df = pd.read_csv('Most starred Github Repositories.csv')<br/>df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/904264e49400b9d31c3886ee5cbdba38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5x47f-VC1jqG2GNgAKLMdw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="dcbd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们快速浏览一下数据集的各个列:</p><ul class=""><li id="e987" class="oe of it la b lb lc le lf lh og ll oh lp oi lt oj ok ol om bi translated"><strong class="la iu">项目名称</strong>:Github中仓库的名称</li><li id="2116" class="oe of it la b lb on le oo lh op ll oq lp or lt oj ok ol om bi translated"><strong class="la iu"> Stars: </strong>对知识库的一个书签或赞赏的展示。</li><li id="f5e5" class="oe of it la b lb on le oo lh op ll oq lp or lt oj ok ol om bi translated"><strong class="la iu">Forks:</strong>fork是您管理的存储库的副本。</li><li id="3874" class="oe of it la b lb on le oo lh op ll oq lp or lt oj ok ol om bi translated"><strong class="la iu">语言:</strong>项目使用的主要编程语言</li><li id="c2d5" class="oe of it la b lb on le oo lh op ll oq lp or lt oj ok ol om bi translated"><strong class="la iu">未解决的问题:</strong>问题是建议的改进、任务或者与存储库相关的问题。尚未解决的问题被标记为未决问题。</li><li id="0f3d" class="oe of it la b lb on le oo lh op ll oq lp or lt oj ok ol om bi translated">描述:详述项目目的的一段文字。</li><li id="dea4" class="oe of it la b lb on le oo lh op ll oq lp or lt oj ok ol om bi translated"><strong class="la iu">最后一次提交:</strong>提交，或“修订”，是对一个文件(或一组文件)的单独更改。此字段存储上次提交的日期和时间。</li></ul><blockquote class="os ot ou"><p id="2c2d" class="ky kz na la b lb lc ju ld le lf jx lg ov li lj lk ow lm ln lo ox lq lr ls lt im bi translated">注:以上所有定义均取自<a class="ae lu" href="https://docs.github.com/en/github/getting-started-with-github/github-glossary" rel="noopener ugc nofollow" target="_blank"> Github词汇表</a>。</p></blockquote><p id="654b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当前数据集按照<strong class="la iu">恒星</strong> ⭐️的数量排序，即恒星数量最多的项目排在最前面，依此类推。Pandas支持三种排序:按索引标签排序、按列值排序以及两者的组合排序。现在，让我们通过一些示例来看看对此数据集进行排序的不同方式:</p><h2 id="e6a7" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated">1.按单列排序</h2><p id="1a3f" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">熊猫里面用来排序的函数叫做<code class="fe pj pk pl nu b"><a class="ae lu" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">DataFrame.sort_values(</strong></a><strong class="la iu">)</strong></code>。它用于根据列或行值对<code class="fe pj pk pl nu b">DataFrame</code>进行排序。让我们按照<strong class="la iu">分叉</strong>列对数据集进行排序。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="44f8" class="ny md it nu b gy nz oa l ob oc"><br/>forks = df.sort_values(by='Forks',ascending=False)<br/>forks.head(10)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/842b70067a31c7ff1d20b361b687239f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7V0C2s2pbC7Ff67kBfdbRg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按单列排序|按作者排序图像</p></figure><p id="fb89" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">函数<code class="fe pj pk pl nu b">dataframe.sort_values</code>带有很多参数。在我们阅读这篇文章的过程中，我们将会谈到几个重要的问题。在上面的例子中，我们遇到了其中的两个:</p><ul class=""><li id="a21a" class="oe of it la b lb lc le lf lh og ll oh lp oi lt oj ok ol om bi translated"><strong class="la iu"> by </strong>:可选的<code class="fe pj pk pl nu b">by</code>参数用于指定用于确定排序顺序的列。</li><li id="b831" class="oe of it la b lb on le oo lh op ll oq lp or lt oj ok ol om bi translated"><strong class="la iu">升序</strong>:指定数据帧是按升序还是降序排序。默认值是升序。要按降序排序，我们需要指定<code class="fe pj pk pl nu b">ascending=False</code>。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="375f" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated">2.按多列排序</h2><p id="2498" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">Pandas还可以在多个列上对数据集进行排序。简单地说，在<code class="fe pj pk pl nu b">sort_values</code>函数中传递所需列名的列表，如下所示:</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="8ff7" class="ny md it nu b gy nz oa l ob oc">df.sort_values(by=['Open Issues','Stars']).head(10)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/cb40bcfd249ad6d838f6cadeb3c3fc80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hPPGjkgAZ9iqEE9or-RO-A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按多列排序|按作者排序图像</p></figure><p id="cb3d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，我们已经根据项目的<code class="fe pj pk pl nu b">open issues</code>号和<code class="fe pj pk pl nu b">stars</code>号对数据帧进行了排序。请注意，默认情况下，排序是按升序进行的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="49a6" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated">3.按具有不同排序顺序的多列排序</h2><p id="ad58" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">当按多列排序时，也可以为不同的列传递不同的排序顺序。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="99cc" class="ny md it nu b gy nz oa l ob oc">df.sort_values(by=['Open Issues', 'Stars'],<br/>        ascending=[False, True]).head(10)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/a0ea6002d9498fbef7a62832611159a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YkAwbXHj0ucO0U78I5ThIQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按不同排序顺序的多列排序|按作者排序的图片</p></figure><p id="64c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，dataframe将首先在<code class="fe pj pk pl nu b">Open Issues</code>列按升序排序，然后在<code class="fe pj pk pl nu b">Stars</code>列按降序排序。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="0ea3" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated">4.按索引排序</h2><p id="4347" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">对数据帧进行排序的另一种方式是通过索引。在第1节中，我们创建了一个名为forks的数据帧。这只是原始数据帧的另一个版本，已经在<code class="fe pj pk pl nu b">Forks</code>列上进行了排序。数据帧如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/237a1f29eed52a95ed2eab87b170fcac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SBn2ergBR8ksClbdXho5Gg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者在“分叉”列|图像上排序的数据集</p></figure><p id="3233" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">显而易见，索引是无序的。我们可以使用<code class="fe pj pk pl nu b">dataframe.sort_index()</code>函数对其进行排序。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="2e8a" class="ny md it nu b gy nz oa l ob oc">forks.sort_index()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/80da74d8510dfc23516d675b541b9c6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yBRuLu9zz9mcNOi0WBQmmw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按索引排序|按作者排序</p></figure><p id="d11b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">或者，您可以通过将上面函数中的参数传入<code class="fe pj pk pl nu b">ascending=False</code>来对索引进行降序排序。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="ecb2" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated"><strong class="ak"> 5。排序时忽略索引</strong></h2><p id="9929" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在对数据帧进行排序时，也可以完全忽略索引列。这导致从0到n-1标记的索引，其中n指的是观察的数量。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="b361" class="ny md it nu b gy nz oa l ob oc">df.sort_values(by='Forks',ascending=False, ignore_index=True).head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/1282b74265d0eb483977c7f409177acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NsPWahRIZ_VWkuvCvuRhkw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者排序的索引|图像</p></figure><p id="3304" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">相反，如果<code class="fe pj pk pl nu b">ignore_index</code>未设置为真(或默认)，则得到的排序数据帧应该是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/33509da5e4e3acc169de3df6c7b703d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BijiC6rcK-auQ7n3vjRBfQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">未排序索引|按作者排序的图片</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="cb90" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated">6.选择排序算法</h2><p id="3160" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们在开始时触及了不同排序算法的主题。默认情况下，<code class="fe pj pk pl nu b">sort_values</code>使用<strong class="la iu">快速排序</strong>算法。但是，我们可以使用kind参数在<strong class="la iu"> <em class="na"> ' </em>快速排序、【mergesort】和【heap sort】</strong>算法之间进行选择。请记住，该选项仅在对单个列或标签进行排序时适用。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="c7e1" class="ny md it nu b gy nz oa l ob oc">df.sort_values(by='Forks', kind='mergesort')</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="77b9" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated">7.按列名排序</h2><p id="ac6d" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">此外，我们还可以使用sort_index()函数使用列名而不是行对数据帧进行排序。为此，我们需要将轴参数设置为1。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="77c1" class="ny md it nu b gy nz oa l ob oc">df.sort_index(axis=1).head(5)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/7688692120c848369366f7b6c3c02161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*smKBDpt3XouWi1Pi9a0LUQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按列名排序|按作者排序图像</p></figure><p id="138c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以上各栏已按字母升序排列。通过设置<code class="fe pj pk pl nu b">ascending=False</code>，也可以降序排序。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="238f" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated">8.就地执行操作</h2><p id="073a" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">通过将<code class="fe pj pk pl nu b">inplace</code>参数设置为<code class="fe pj pk pl nu b">True</code>，所有的分拣操作都在原位完成。这意味着现有的数据帧被修改。当<code class="fe pj pk pl nu b"><strong class="la iu">inplace</strong> = False</code>操作发生在数据帧的一个副本上时，该副本被返回。原始数据帧保持不变。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="5477" class="ny md it nu b gy nz oa l ob oc">df.sort_values(by='Forks', inplace=True)</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="ecf4" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated">9.处理缺失值</h2><p id="c909" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">数据通常包含空值。使用<code class="fe pj pk pl nu b">na_position</code>作为开头或结尾，在<code class="fe pj pk pl nu b">sort_values()</code>函数中，我们可以选择将NaNs放在开头或结尾。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="18b5" class="ny md it nu b gy nz oa l ob oc">df.sort_values(by='Forks', na_position='first') #NaN placed first<br/>df.sort_values(by='Forks', na_position='last') #NaN placed in the end</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="5192" class="ny md it bd me oy oz dn mi pa pb dp mm lh pc pd mo ll pe pf mq lp pg ph ms pi bi translated">10.排序前对值应用key函数</h2><p id="bc1a" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们还可以在排序前对值应用一个键函数。该函数需要一个<code class="fe pj pk pl nu b">Series</code>并返回一个与输入形状相同的序列。它将独立应用于每一列。在下面的例子中，我们首先将列<code class="fe pj pk pl nu b">Project Name</code>转换成小写，然后对该列上的数据帧进行排序</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="7263" class="ny md it nu b gy nz oa l ob oc">df.sort_values(by='Project Name',key=lambda col: col.str.lower())[:5]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pu"><img src="../Images/c068f5f821879605d7a35bc2efd836bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9-XT_WLkuyCCnNOtLZFOzQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在按作者排序|图像之前，对值应用key函数</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9809" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论和额外资源</h1><p id="5161" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在本文中，我们研究了使用pandas库对数据帧进行排序的不同方法。我们研究了sort_values()和sort_index()函数及其参数的用法。如果你想更深入地了解细节，官方文档是一个很好的资源。</p></div></div>    
</body>
</html>