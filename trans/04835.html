<html>
<head>
<title>Poisson Process and Poisson Distribution in Real-Life: Modeling Peak Times at an Ice Cream Shop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现实生活中的泊松过程和泊松分布:模拟一家冰淇淋店的高峰时间</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/poisson-process-and-poisson-distribution-in-real-life-modeling-peak-times-at-an-ice-cream-shop-b61b74fb812?source=collection_archive---------5-----------------------#2021-04-27">https://towardsdatascience.com/poisson-process-and-poisson-distribution-in-real-life-modeling-peak-times-at-an-ice-cream-shop-b61b74fb812?source=collection_archive---------5-----------------------#2021-04-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="9326" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi jw"><img src="../Images/80ecf10a6568b7b3bc7cc0b807a6e728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PFhY9jUA1UE6EnmalI1Vww.png"/></div></div><p class="kh ki gj gh gi kj kk bd b be z dk translated">图片作者。</p></figure><p id="84f4" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">现实世界中的一些现象可以用事物的<em class="lj">计数</em>来表示。例如，从机场起飞的航班数量，在商店登记处排队的顾客数量，特定地区一年中发生的地震数量。</p><p id="cbb3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">计数事件是一项相对简单的任务，但是如果你想从仅仅计数事件的发生发展到询问关于<em class="lj">的问题，这些事件在特定的时间单位</em>内发生的可能性有多大，你需要更强大的工具，比如<strong class="kn ja"/><a class="ae lk" href="https://en.wikipedia.org/wiki/Poisson_distribution" rel="noopener ugc nofollow" target="_blank">泊松分布</a>。</p><blockquote class="ll"><p id="8d41" class="lm ln iq bd lo lp lq lr ls lt lu li dk translated">泊松分布模拟来自离散随机变量的给定数量的事件在特定时间间隔内发生的概率。</p></blockquote><p id="46c9" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">泊松分布以多产数学家<a class="ae lk" href="https://en.wikipedia.org/wiki/Sim%C3%A9on_Denis_Poisson" rel="noopener ugc nofollow" target="_blank">西蒙·丹尼斯·泊松</a>命名，是一种<a class="ae lk" href="https://en.wikipedia.org/wiki/Probability_distribution#Discrete_probability_distribution" rel="noopener ugc nofollow" target="_blank">离散概率分布</a>。它模拟了一个离散随机变量中的许多事件在特定时间间隔内发生的概率。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/21a9d4296ee6358a24a4f9286dff71e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*7KkLdaKPtQBbSVZmFth1Eg.jpeg"/></div><p class="kh ki gj gh gi kj kk bd b be z dk translated">西蒙·丹尼斯·泊松(<a class="ae lk" href="https://en.wikipedia.org/wiki/File:Sim%C3%A9onDenisPoisson.jpg" rel="noopener ugc nofollow" target="_blank">图片来源</a>)</p></figure><h1 id="c50a" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">离散随机变量的概率分布</h1><p id="209d" class="pw-post-body-paragraph kl km iq kn b ko nd kq kr ks ne ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated"><strong class="kn ja">离散随机变量</strong>描述了具有一组特定值的事件【1】。</p><p id="093a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">例如，代表<em class="lj">投掷公平硬币</em>的离散随机变量<em class="lj"> </em>只能有正面或反面的值。代表<em class="lj">从一副牌中挑选一张牌的离散随机变量</em>只能有52个可能的值，红心<em class="lj"> 2，梅花9，方块皇后，黑桃a</em>等等。</p><p id="03d6" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">离散随机变量的概率分布称为<a class="ae lk" href="https://en.wikipedia.org/wiki/Probability_mass_function" rel="noopener ugc nofollow" target="_blank">概率质量函数</a> (PMF)。它是一个函数，将随机变量的每一个值映射到相应的概率上。</p><p id="8b3a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">例如，遵循泊松分布的随机变量的概率质量函数如下所示。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ni"><img src="../Images/37bdb0326d752d2a1f8887799d329d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g22Xd11pUnW43gF7p0Yyow.png"/></div></div><p class="kh ki gj gh gi kj kk bd b be z dk translated">服从泊松分布的随机变量的概率质量函数的例子。</p></figure><p id="3b55" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">概率质量函数有三个基本条件:</p><ul class=""><li id="f877" class="nj nk iq kn b ko kp ks kt kw nl la nm le nn li no np nq nr bi translated"><strong class="kn ja">所有概率都是非负的</strong>。</li><li id="8889" class="nj nk iq kn b ko ns ks nt kw nu la nv le nw li no np nq nr bi translated"><strong class="kn ja">每个事件的概率必须在0到1之间</strong>。<em class="lj">抛硬币并正面朝上的概率</em>必须介于0和1之间。</li><li id="5fec" class="nj nk iq kn b ko ns ks nt kw nu la nv le nw li no np nq nr bi translated"><strong class="kn ja">所有可能值的概率之和必须等于1。</strong>抛硬币并得到正面的概率<em class="lj">和<em class="lj">抛硬币并得到正面的概率</em>之和必须等于1。</em></li></ul><h1 id="c8ac" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">泊松分布和机器学习</h1><p id="575e" class="pw-post-body-paragraph kl km iq kn b ko nd kq kr ks ne ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">在机器学习中，泊松分布用于概率模型。例如，在<a class="ae lk" href="https://en.wikipedia.org/wiki/Generalized_linear_model" rel="noopener ugc nofollow" target="_blank"> <strong class="kn ja">广义线性模型</strong> </a>中，您可以使用泊松分布来模拟目标变量的分布。</p><p id="8dec" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在机器学习中，如果响应变量代表一个计数，可以使用泊松分布对其建模。</p><p id="1a9d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在现实世界的应用中，这些模型被用来预测或模拟复杂的系统，如极端天气事件[2]或Twitter消息和维基百科修订历史的级联[3]。</p><h1 id="1038" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">在你朋友的冰淇淋店模拟高峰期</h1><p id="9112" class="pw-post-body-paragraph kl km iq kn b ko nd kq kr ks ne ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">你的老朋友珍妮在她所在城市的市中心有一家冰淇淋店。</p><p id="f0b3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">她多次告诉你，她一直关注的一件事是如何为商店配备员工。Jenny希望确保每个顾客都有最短的等待时间，并且总有人帮助他们，这样顾客体验就是他们能提供的最好的。</p><p id="be73" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">但是，有时情况并非如此。珍妮已经痛苦地认识到，当商店里有超过10名顾客时，没有足够的员工来帮助他们，一些顾客最终因漫长的等待和缺乏帮助而沮丧地离开。</p><p id="eec3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">你是一名数据科学家，也是Jenny的好朋友，所以你是她寻求帮助的第一个人。最终，Jenny希望你帮助她计算出在任何给定的时间里，她的店里会有多少顾客。</p><p id="716c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">思考了一会儿后，你决定重新组织她的问题，这样更符合Jenny真正想知道的，<em class="lj">在任何给定的时间内，10个顾客同时出现在商店的可能性有多大。</em></p><p id="eedf" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">将这重新定义为一个概率问题，你定义一个随机变量，即<em class="lj">顾客到达珍妮的冰淇淋店</em>。这立刻让你想到用<strong class="kn ja">二项分布</strong>来建模这个问题。</p><h1 id="462f" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">二项分布</h1><p id="4d83" class="pw-post-body-paragraph kl km iq kn b ko nd kq kr ks ne ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated"><a class="ae lk" href="https://en.wikipedia.org/wiki/Binomial_distribution" rel="noopener ugc nofollow" target="_blank">二项式分布</a>描述了一系列<a class="ae lk" href="https://en.wikipedia.org/wiki/Bernoulli_distribution" rel="noopener ugc nofollow" target="_blank">伯努利</a>试验的成功次数。因此，如果你认为一个顾客进入商店是一个<em class="lj">的成功</em>，这种分布听起来是一个可行的选择。</p><p id="3d47" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">但是，在对到达珍妮冰淇淋店的随机变量<em class="lj">顾客建模之前，您需要知道分布的参数。</em></p><p id="4e2c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">二项式分布有两个参数:</p><ul class=""><li id="3757" class="nj nk iq kn b ko kp ks kt kw nl la nm le nn li no np nq nr bi translated"><strong class="kn ja"> <em class="lj"> n </em> </strong>:伯努利试验总次数。</li><li id="bd97" class="nj nk iq kn b ko ns ks nt kw nu la nv le nw li no np nq nr bi translated"><strong class="kn ja"> <em class="lj"> p </em> </strong>:伯努利试验成功的概率。</li></ul><p id="29e7" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">要回答问题<em class="lj">，在任何给定的时间</em>、<em class="lj">、</em>内，10名顾客同时出现在商店的可能性有多大，您需要使用二项式分布的概率质量函数。它看起来像这样:</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi nx"><img src="../Images/027a2c1960a95b244539249f679f9730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8tZwmYqxi5iJCfqmgX5Imw.png"/></div></div><p class="kh ki gj gh gi kj kk bd b be z dk translated">二项分布的概率质量函数。</p></figure><p id="3c9d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">到目前为止，您只有参数<em class="lj"> k </em>，客户总数。</p><p id="ea1a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">但是你记得珍妮去年告诉过你关于商业区的一系列研究。在其中一项研究中，他们发现，在一个正常的工作日，大约有7500人路过市中心，有10%的几率路人会进入市中心15家商店中的一家。</p><p id="2349" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这正是你需要的信息！</p><p id="49f7" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在这种情况下，每个市中心的过路人都代表了一次伯努利试验，成功意味着进入一家商店。根据研究，经过市中心的顾客总数对应于<em class="lj"> n，</em>并且每个顾客进入珍妮商店的概率相同，为10%。</p><p id="e0d3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">回到问题<em class="lj">10个顾客同时在珍妮店里的可能性有多大</em>你只需要<em class="lj">插入</em>二项概率质量函数中的参数。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/ecadea34e420155d2323e8451faf2673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*eC88g5PGXXxnAaE_wgfqEA.png"/></div></figure><p id="e938" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">手工做这些计算很有挑战性。您可以使用Python的<a class="ae lk" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.binom.html#scipy.stats.binom" rel="noopener ugc nofollow" target="_blank"> SciPy模块</a>来完成所有繁重的工作。</p><pre class="mb mc md me gt nz oa ob oc aw od bi"><span id="1053" class="oe mg iq oa b gy of og l oh oi">from scipy.stats import binom</span><span id="8370" class="oe mg iq oa b gy oj og l oh oi">k = 10<br/>n = 7500<br/>p = 0.10</span><span id="30f5" class="oe mg iq oa b gy oj og l oh oi">print("Probability of having 10 customers at the shop")<br/>print(binom.pmf(k, n, p))</span></pre><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/27e017d39ed8260c8d93e286553ce7d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*FFfObf95s-2BBQxBeLE2bQ.png"/></div></figure><p id="a2c1" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这是一个非常小的概率，事实上，这并不完全是珍妮所寻找的。</p><p id="a2eb" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">重要的细节是，Jenny想知道同时有10个顾客在商店<em class="lj">的概率</em>。</p><p id="4a0a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">二项式分布不模拟同时发生的事件。相反，成功发生在一系列的试验中。所以，最终，二项分布并不是这个问题的最佳模型。</p><blockquote class="ll"><p id="9035" class="lm ln iq bd lo lp lq lr ls lt lu li dk translated">二项式分布不模拟同时发生的事件。相反，成功发生在一系列的<em class="ol"> n </em>试验中。</p></blockquote><p id="bbdb" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">思考二项分布的这种局限性，以及你可以使用什么工具来回答Jenny的问题，你还记得<strong class="kn ja">泊松范式</strong>，也称为泊松近似。</p><h1 id="a6db" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">泊松范式</h1><p id="140d" class="pw-post-body-paragraph kl km iq kn b ko nd kq kr ks ne ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">泊松范式是这样表述的:</p><blockquote class="om on oo"><p id="7b01" class="kl km lj kn b ko kp kq kr ks kt ku kv op kx ky kz oq lb lc ld or lf lg lh li ij bi translated"><em class="iq">当您有大量发生概率很小的事件时，那么在固定时间间隔内发生的事件数量的分布近似遵循泊松分布。</em></p></blockquote><p id="baa5" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">数学上讲，当<em class="lj"> n趋于无穷大</em> (n→无穷大)<em class="lj"> </em>且概率<em class="lj"> p趋于零时</em> (p→ 0)二项分布可以近似为泊松分布。</p><p id="d67d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这种近似假设事件是独立的或者<em class="lj">弱相关</em>。例如，如果事件是独立的，知道Adam进入商店也不会给你任何关于Andrea进入商店的信息。</p><p id="6b14" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">但是，在现实世界中，有些事件很可能不是完全独立的。如果亚当和安德里亚进了商店，那也能给我一些比安卡进商店的信息。这些事件不是独立的，它们是弱相关的。</p><p id="f437" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">只要事件是独立的或<em class="lj">弱相关的</em>，这个假设就成立，你可以将二项式近似为<strong class="kn ja">泊松分布</strong>。</p><h1 id="526e" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">泊松分布</h1><p id="af91" class="pw-post-body-paragraph kl km iq kn b ko nd kq kr ks ne ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">了解<strong class="kn ja">泊松范式</strong>会让你更有信心使用<strong class="kn ja">泊松分布</strong>来模拟进入珍妮商店的顾客数量。</p><p id="f6d9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><a class="ae lk" href="https://en.wikipedia.org/wiki/Poisson_distribution#Statistical_inference" rel="noopener ugc nofollow" target="_blank">泊松分布</a>描述了在固定时间间隔内以特定速率发生的多个独立事件的概率。与二项式不同，它只有一个参数，即事件发生的频率。</p><p id="59c0" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">因为它都是关于以特定速率发生的事件，所以概率质量函数看起来像这样:</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi os"><img src="../Images/96152a00f1e2545b99cde9f30d6470c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*mzPlVQ373ev70FU-zdPQtw.png"/></div><p class="kh ki gj gh gi kj kk bd b be z dk translated">泊松分布的概率质量函数。</p></figure><p id="0cc6" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">所以，回答问题<em class="lj">10个顾客同时在珍妮的店里的可能性有多大？</em>你需要的最后一块是顾客进店率。</p><p id="04f9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">你没有珍妮商店的具体数据，但根据商业协会的研究，在特定的一天，经过市中心的7，500人中有10%进入了商店。</p><p id="f33d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">使用您拥有的所有数据，您可以说这7，500名顾客中的10%在10个营业小时内进入了15家市区商店。因此，您可以计算出<em class="lj">λ</em>并确定每小时大约有5名顾客进入Jenny的商店，即每12分钟有一名顾客进入。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/b2aaf496d09d81fc20713331f066766a.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*uHmGxzvPCnqghWOoyOyJRw.png"/></div><p class="kh ki gj gh gi kj kk bd b be z dk translated">计算<em class="ol"/>、<em class="ol"> </em>顾客进入市中心商店的比率。</p></figure><p id="fb9d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">要回答Jenny的问题，可以在泊松概率质量函数中插入参数<em class="lj"> lambda </em>。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/de424e232225b0f12b6f3dd42b358b20.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*3yhxi-bGpINsR9mnxXNWlQ.png"/></div></figure><p id="187e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在任何给定的时间里，有1.8%的几率会有10个顾客同时出现在珍妮的店里。与Jenny的想法相比，这是一个相对较低的值！</p><p id="57e6" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">绘制概率质量函数，你还可以看到商店里同时有多达10个顾客的概率。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ov"><img src="../Images/4bff60719171ed35c70b9fa5769c5cfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rL25_DwSzkgdVRxEEDAENA.png"/></div></div><p class="kh ki gj gh gi kj kk bd b be z dk translated">比率为5的泊松分布的概率质量函数，观察多达10个事件。</p></figure><p id="236f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">以目前市中心顾客进入商店的速度，Jenny可以准备在大多数情况下让4或5个顾客进入商店。</p><p id="fbad" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">以下是如何使用Python的<a class="ae lk" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.poisson.html" rel="noopener ugc nofollow" target="_blank"> SciPy模块</a>计算和绘制泊松概率质量函数。</p><pre class="mb mc md me gt nz oa ob oc aw od bi"><span id="55e4" class="oe mg iq oa b gy of og l oh oi">from scipy.stats import poisson<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/></span><span id="2573" class="oe mg iq oa b gy oj og l oh oi">def poisson_pmf(k, lambda_val):<br/>    <em class="lj">'''<br/>    Calculates and plots the Poisson probability mass function (PMF</em></span><span id="25fd" class="oe mg iq oa b gy oj og l oh oi"><em class="lj">    :param k: Number of events to occur at the same time<br/>    :param lambda_val: Lambda value. rate at which the events occur</em></span><span id="8bd1" class="oe mg iq oa b gy oj og l oh oi"><em class="lj">    :return:<br/>    - Print out the probability that k events occur at the same time with a rate lambda value</em></span><span id="cc11" class="oe mg iq oa b gy oj og l oh oi"><em class="lj">    - Plot the PMF from 0 to k occurrences<br/>    '''</em></span><span id="f502" class="oe mg iq oa b gy oj og l oh oi">    x = np.arange(0, step=0.1, stop=k + 1)<br/>    pmf = poisson.pmf(k=x, mu=lambda_val)</span><span id="dd84" class="oe mg iq oa b gy oj og l oh oi">    print("Poisson:: Probability of having 10 customers at the shop")<br/>    print(np.round(poisson.pmf(k=k, mu=lambda_val), 3))</span><span id="1736" class="oe mg iq oa b gy oj og l oh oi">    # plotting the PMF<br/>    fig, ax = plt.subplots(1, 1, figsize=(12, 9))<br/>    <br/>    # removing all borders except bottom<br/>    ax.spines['top'].set_visible(False)<br/>    ax.spines['right'].set_visible(False)<br/>    <br/>    plt.bar(x, pmf * 100, color='#0F72AC')<br/>    plt.xlabel('Number of customers at the shop', fontsize=12, labelpad=20)<br/>    plt.ylabel('P(X=k) | Probability of k occurrences', fontsize=12, labelpad=20)<br/>    plt.show()<br/></span><span id="9044" class="oe mg iq oa b gy oj og l oh oi">poisson_pmf(k=10, lambda_val=5)</span></pre><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/b1c995001088401a901576752e7bc76f.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*HS8HTgZpnOie5LFgXMK8Xg.png"/></div></figure></div><div class="ab cl ox oy hu oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="ij ik il im in"><p id="4f5d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">Jenny非常兴奋地得知，大约有2%的可能性商店变得非常拥挤，他们很难提供优质服务。</p><p id="a4df" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">但她也有点担心。</p><p id="9f26" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">有一个为期三天的周末即将到来，珍妮知道，在这样的日子里，她在厨房里会有更好的帮助。这样，她可以保证冰淇淋不会短缺，而其他员工则负责店面。</p><p id="02d9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">当厨房真的很忙的时候，珍妮只能每小时检查一次店面。所以她再次寻求你的帮助，想出<em class="lj">那天商店有10个顾客的概率是多少</em>。</p><h1 id="16de" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">泊松过程</h1><p id="5f83" class="pw-post-body-paragraph kl km iq kn b ko nd kq kr ks ne ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">等等，什么？<em class="lj">我不是已经回答过这个问题了吗？</em>，你可能会想。不完全是。</p><p id="8ec1" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">仔细想想，你会发现这里有一个新的组件，Jenny将在一天中的特定时间间隔<strong class="kn ja">检查店面。</strong></p><p id="a06c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">虽然泊松分布的概率质量函数为您提供了同时有10个顾客在商店的概率，但是时间间隔是固定的。你看到的是一天中给定的一个小时，因为那是速率给你的。</p><p id="25f0" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">现在，珍妮将要在一天中多次检查店面。因此，您需要一个工具来计算事件，即顾客进入商店，但在一个连续的时间框架内。</p><p id="1a13" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">你需要把珍妮的问题重新定义为<strong class="kn ja">泊松过程</strong>。</p><p id="e63d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><a class="ae lk" href="https://en.wikipedia.org/wiki/Poisson_point_process" rel="noopener ugc nofollow" target="_blank"> <strong class="kn ja">泊松过程</strong> </a>是一个具有独立时间增量的统计过程，其中一个时间间隔内发生的事件数量用泊松分布建模，每个事件发生的时间间隔服从<a class="ae lk" href="https://en.wikipedia.org/wiki/Exponential_distribution" rel="noopener ugc nofollow" target="_blank">指数分布</a>【2】。</p><p id="279a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在实践中，<strong class="kn ja">泊松过程</strong>描述了无限数量的独立且相同分布的事件的发生，每个事件由遵循泊松分布的随机变量描述[4]。</p><p id="6671" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这些事件通常被称为<strong class="kn ja">到达</strong>，可以在任意时间发生，因此事件在特定时间点发生的概率为零。这就是为什么泊松分布关注事件或到达之间的<strong class="kn ja">时间</strong>，即到达间隔时间。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/1c2d443b7d2303bfb5ad4806beef3a68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*X81Q9BEyg516KlfIq9YOTg.png"/></div><p class="kh ki gj gh gi kj kk bd b be z dk translated">五个<em class="ol">时间单位</em>内四个不同随机变量的到达。</p></figure><p id="3f6b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">概括地说，泊松过程是一个计数过程，包括:</p><ul class=""><li id="e9e7" class="nj nk iq kn b ko kp ks kt kw nl la nm le nn li no np nq nr bi translated"><strong class="kn ja">在时间间隔<em class="lj"> t </em>内发生的至少一个到达</strong>或事件。</li><li id="cbdb" class="nj nk iq kn b ko ns ks nt kw nu la nv le nw li no np nq nr bi translated"><strong class="kn ja">非负率<em class="lj">λ</em></strong>，类似泊松分布。</li><li id="a88a" class="nj nk iq kn b ko ns ks nt kw nu la nv le nw li no np nq nr bi translated"><strong class="kn ja">独立时间增量<em class="lj">。</em>T25】</strong></li><li id="c78e" class="nj nk iq kn b ko ns ks nt kw nu la nv le nw li no np nq nr bi translated"><strong class="kn ja">遵循指数分布的到达间隔时间</strong>。</li><li id="db37" class="nj nk iq kn b ko ns ks nt kw nu la nv le nw li no np nq nr bi translated">无记忆性，所以到下一个到达的时间独立于先前的到达。这意味着下一个到达的<em class="lj">不知道</em> <em class="lj">关于过去发生的事情的任何事情。</em></li></ul><p id="7f55" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">回到珍妮的问题！</p><p id="46ee" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">您将使用与泊松分布的PMF非常相似的概率质量函数。</p><p id="aa98" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在泊松过程中，<strong class="kn ja">预期到达数</strong>结合了速率<em class="lj">λ</em>和您感兴趣的时间间隔。因为你对连续发生的事件感兴趣。</p><p id="aca6" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">你还必须考虑到达的间隔时间。尽管两个事件不能同时发生，但它们可以在同一时间间隔内的任意时刻发生。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/617e49d754d46d812ff135002f2d2e4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*MrNK1ctXMpRC2vVWbTbZ0g.png"/></div><p class="kh ki gj gh gi kj kk bd b be z dk translated">泊松过程的概率质量函数。</p></figure><p id="3233" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">当你看任何给定的小时，在这种情况下是最小的单位时间，泊松过程就相当于泊松分布的概率质量函数。假设你有一个总时间间隔<em class="lj"> t </em>等于1。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/b8c65b0dbd02d9022d4681d97b8469d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*dFfvjBlNG1cv-97RQqwxIw.png"/></div></figure><p id="624a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">但是你想计算一整天的概率。知道珍妮每小时都要去店面签到，总时间间隔<em class="lj"> t </em>等于10。</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/a4e696ee88c89614b8b155a389e727c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*91YD4poMhtp94lDiMwWDVQ.png"/></div></figure><p id="e6e3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这些计算太容易出错，不能用手算。所以你可以再次求助于Python，为泊松过程编写概率质量函数。</p><pre class="mb mc md me gt nz oa ob oc aw od bi"><span id="f516" class="oe mg iq oa b gy of og l oh oi">import math</span><span id="5a8e" class="oe mg iq oa b gy oj og l oh oi">def poisson_process(lambda_value, k, t):<br/>   <em class="lj">'''<br/>   Calculates the probability mass function of a Poisson process</em></span><span id="9586" class="oe mg iq oa b gy oj og l oh oi"><em class="lj">   :param lambda_val: Lambda value. rate at which the events occur<br/>   :param k: Number of arrivals to occur at the same time<br/>   :param t: time interval to observe arrivals</em></span><span id="8842" class="oe mg iq oa b gy oj og l oh oi"><em class="lj">   :return:<br/>   - Print out the probability that k arrivals occur at the same time with a rate lambda value during time t<br/>   '''</em></span><span id="393d" class="oe mg iq oa b gy oj og l oh oi">   numerator = np.power(50, 10) * math.exp(-50)<br/>   denominator = math.factorial(10)<br/>   <br/>   print("Poisson process with\n\tlambda=" + str(lambda_value) + ", " + str(k) + " arrivals, during time interval of " + str(t) + " hours")<br/>   print(numerator/denominator)<br/></span><span id="cfdb" class="oe mg iq oa b gy oj og l oh oi">poisson_process(lambda_value=5, k=10, t=10)</span></pre><p id="b21d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">感谢您的帮助，Jenny更加自信地认为，在为期3天的周末期间，光顾她的商店的顾客将获得Jenny和团队所能提供的最佳体验！</p><p id="1d4b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在商店营业的10个小时内，有10个顾客同时进入商店的概率非常小！</p><figure class="mb mc md me gt ka gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/4e22e718f21976e89c0fe4b822ed17f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*5xDliMC1D36uqkWaiMHAKA.png"/></div></figure></div><div class="ab cl ox oy hu oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="ij ik il im in"><p id="a22e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">现在您知道如何对基于事件计数的真实世界系统和现象建模了！</p><p id="d82c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">使用泊松分布，您可以计算事件在离散的固定时间间隔内发生的概率。然后，用泊松过程把它扩展到一个连续的时间框架，比如一天的持续时间。</p><p id="dc26" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">希望您喜欢学习泊松分布和泊松过程在现实生活中的应用。</p><p id="0024" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><em class="lj">感谢阅读！</em></p><h1 id="ace1" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">参考</h1><p id="74cd" class="pw-post-body-paragraph kl km iq kn b ko nd kq kr ks ne ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">[1] <a class="ae lk" href="https://stats.libretexts.org/Bookshelves/Introductory_Statistics/Book%3A_Introductory_Statistics_(Shafer_and_Zhang)" rel="noopener ugc nofollow" target="_blank">离散型随机变量的概率分布(谢弗，张)</a> 2021 .2021年1月10日</p><p id="b343" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">[2]克莱曼婷·达莱兰，托马斯·德意志州，<a class="ae lk" href="https://www.sciencedirect.com/science/article/pii/S2212094713000042?via%3Dihub" rel="noopener ugc nofollow" target="_blank">极端天气事件泊松点过程强度的稳健估计器</a>，《天气和气候极端》，2013年第1卷，第69-76页</p><p id="39bd" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">[3]西马，亚历山大&amp;乔丹，迈克尔。(2010).用泊松过程的级联模拟事件。2010年UAI第26届人工智能不确定性会议论文集。546–555.</p><p id="42c4" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">[4] Bertsekas、Dimitri和John Tsitsiklis。<em class="lj">概率介绍</em>。第二版。雅典娜科学公司，2008年</p><p id="feed" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><em class="lj">图片由作者提供，除非另有说明。</em></p></div></div>    
</body>
</html>