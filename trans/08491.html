<html>
<head>
<title>Detecting the Iris and Changing Its Color Using OpenCV and Dlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OpenCV和Dlib检测虹膜并改变其颜色</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/detecting-the-iris-and-changing-its-color-using-opencv-and-dlib-30a6aad122dd?source=collection_archive---------11-----------------------#2021-08-05">https://towardsdatascience.com/detecting-the-iris-and-changing-its-color-using-opencv-and-dlib-30a6aad122dd?source=collection_archive---------11-----------------------#2021-08-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/df2657dba90e7affa912a8c2bc3c6af3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HJ5Vk8_SYMkgevYmNOqrGQ.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">费利佩·库尼亚的眼睛和科托姆布罗的照片，<a class="ae kc" href="https://www.pexels.com/@cottonbro" rel="noopener ugc nofollow" target="_blank">https://www.pexels.com/@cottonbro</a></p></figure><p id="5d2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个简短的教程中，我们将讨论如何在图像上定位某人的虹膜，并创建一个遮罩，这样我们就可以改变它的颜色。</p><p id="6a62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">精确定位虹膜边界的问题并不简单。我们想要创建一个非常精确的蒙版，这样最终的效果看起来更真实。为了努力取得成功，我们需要执行以下步骤:</p><ol class=""><li id="454f" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">执行面部标志检测。</li><li id="f93b" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">使用相应的标志为双眼创建蒙版。</li><li id="2d4c" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">为图像的适当颜色通道设定阈值。这一步取决于主体的虹膜色调。例如，如果您试图检测一个蓝眼睛的人的虹膜，您应该使用图像的红色或绿色通道来增加与白色背景的对比度。</li><li id="d973" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">找到二值化虹膜图像的质心。</li><li id="5c41" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">找到二值化虹膜图像的轮廓。</li><li id="0245" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">找出所有虹膜轮廓的最小封闭圆。</li><li id="ef28" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">比较步骤4中获得的质心与所有轮廓的最小封闭圆的质心之间的距离。</li><li id="d81c" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">选择质心到质心距离最小的圆。</li><li id="bc66" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">使用步骤8中获得的圆创建一个蒙版和一个反向蒙版。</li><li id="c8e2" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">将颜色转换应用于整个图像，并将此图像乘以虹膜蒙版。</li><li id="f20c" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">将原始图像乘以反向蒙版。</li><li id="7fd9" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">将步骤10和11的结果图像相加。</li></ol><p id="df62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请检查以下实施情况:</p><figure class="lp lq lr ls gt jr"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="ab9b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而结果呢！</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/862673f7065af241c7435a9648fd221a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lYyXnYL6is04wIsSRgSfaA.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">右:原始图像/左:处理后的图像</p></figure><p id="38cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">谢谢你看我的文章！我很想听听大家对改进这段代码的意见。我想尝试的是通过分析主体虹膜的BGR通道强度来自动进行阈值处理。这也可以让算法自动确定合适的颜色通道，以找到虹膜的边界。</p></div></div>    
</body>
</html>