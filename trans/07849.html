<html>
<head>
<title>6 GitHub Scenarios for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家的6个GitHub场景</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/7-github-scenarios-for-data-scientists-cb502dc54eb0?source=collection_archive---------27-----------------------#2021-07-18">https://towardsdatascience.com/7-github-scenarios-for-data-scientists-cb502dc54eb0?source=collection_archive---------27-----------------------#2021-07-18</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="f714" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">从第一天起就开始贡献你公司的代码库</h2></div><p id="aed9" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">当我刚开始作为一名数据科学家工作时，我被告知要将代码提交给Github，尤其是提交给其他人正在管理的回购。一想到我笨拙的动作可能会破坏别人的代码，我就害怕。</p><p id="aa22" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在我终于克服了恐惧，我想我会分享我的GitHub工作流程在我日常工作中的样子。</p><figure class="ld le lf lg gu lh gi gj paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gi gj lc"><img src="../Images/3be12caedd4b9d1a030af300d088f19b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ELO3S-t5WpmL10J1"/></div></div><p class="lo lp gk gi gj lq lr bd b be z dk translated">由<a class="ae ls" href="https://unsplash.com/@synkevych?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Roman Synkevych </a>在<a class="ae ls" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="3b0a" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is">场景1 </strong>:你被分配到一个新任务，有一张吉拉或俱乐部会所的门票编号DS-1234。</p><p id="4379" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我从我的开发同事那里学到的一个好习惯是，总是用你的票号开始一个新的分支。这样，你将能够指出背景、故事和作品范围的血统。这不仅对你的代码审查者、你的项目经理(他们可能会友好地问你你发布了什么)非常有帮助，最重要的是，对你未来的自己非常有帮助。</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="63e3" class="ly lz ir lu b gz ma mb l mc md"># Create and switch to a branch named after the Jira ticket<br/>$ git checkout -b DS-1234</span></pre><p id="0d84" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您可以通过下面的命令检查您当前的分支</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="fd3a" class="ly lz ir lu b gz ma mb l mc md">$ git branch</span></pre><p id="b3b1" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在你可以开始你的分支工作了。你可以添加新的代码，编辑现有的代码，一旦你满意了，你可以通过这样做来<code class="fe me mf mg lu b">add</code>和<code class="fe me mf mg lu b">commit</code>你的工作:</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="b8ea" class="ly lz ir lu b gz ma mb l mc md">$ git add new_algo.py # a new script called new_algo.py<br/>$ git commit -m "added a new algo"<br/>$ git push origin DS-1234</span></pre><p id="bd3b" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在你的代码在本地<code class="fe me mf mg lu b">DS-1234</code>和Github远程分支<code class="fe me mf mg lu b">DS-1234</code>上都被更新了。</p><p id="4c5b" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is">场景2 </strong>:在你第一次提交之后，创建一个拉请求(PR)并标记你的同事进行代码审查总是一个好主意。</p><p id="8f8d" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您可以在Github上为分支<code class="fe me mf mg lu b">DS-1234</code>创建一个PR，请访问:</p><p id="0651" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><a class="ae ls" href="https://github.com/your-project-folder/pull/new/ds-1234" rel="noopener ugc nofollow" target="_blank">https://github.com/your-project-folder/pull/new/ds-1234</a></p><p id="eab7" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">你也可以在运行<code class="fe me mf mg lu b">git push origin DS-1234</code>时找到这个路径</p><p id="8be5" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">假设你的同事给了你一些反馈和评论，你直接在github上对<code class="fe me mf mg lu b">readme</code>做了一些小的编辑，现在你想在本地进一步更新你的<code class="fe me mf mg lu b">new_algo.py</code>。</p><p id="fe92" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您可以首先在本地终端上运行下面的命令，从github获取<code class="fe me mf mg lu b">readme</code>变更</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="60a5" class="ly lz ir lu b gz ma mb l mc md">$ git pull origin DS-1234</span></pre><p id="eff0" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">然后在更新完<code class="fe me mf mg lu b">new_algo.py</code>之后，可以通过运行以下命令将更新后的代码推送到github远程分支</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="7bb0" class="ly lz ir lu b gz ma mb l mc md">$ git push origin DS-1234</span></pre><p id="f75c" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">一旦你确认你的同事将你更新的分支<code class="fe me mf mg lu b">DS-1234</code>合并到<code class="fe me mf mg lu b">master</code>分支，你就可以安全地在本地和远程删除<code class="fe me mf mg lu b">DS-1234</code>。</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="3a79" class="ly lz ir lu b gz ma mb l mc md"># delete local branch<br/>$ git branch -d DS-1234</span><span id="6509" class="ly lz ir lu b gz mh mb l mc md"># or you can run<br/>$ git branch -D DS-1234</span><span id="13b7" class="ly lz ir lu b gz mh mb l mc md"># delete remote branch using push --delete<br/>$ git push origin --delete DS-1234</span></pre><p id="32a5" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is">场景三</strong>:如果你的同事足够信任你，让你自己合并，或者你需要把别人的分支合并成master，你可以这样做:</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="7289" class="ly lz ir lu b gz ma mb l mc md"># assuming you are to merge DS-1234 to master branch<br/>$ git merge --no-ff -m "merged DS-1234 into master"</span><span id="7c8a" class="ly lz ir lu b gz mh mb l mc md"># or if you are to merge other people's bug fix branch bugfix-234<br/>$ git merge --no-ff -m "merged bugfix-234 into master"</span></pre><p id="92ee" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">注意，<code class="fe me mf mg lu b">no-ff </code>标志防止git merge执行“快进”,如果它检测到您当前的头是您试图合并的提交的祖先。</p><p id="a3d5" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is">场景4 </strong>:你想删除一个文件。</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="7f78" class="ly lz ir lu b gz ma mb l mc md">$ git rm test.py # remove test.py file<br/># commit your change<br/>$ git commit -m "remove test.py file"</span></pre><p id="3dc9" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如果你改变了主意或者删除了错误的文件怎么办？别担心，你能做到的</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="eb85" class="ly lz ir lu b gz ma mb l mc md">$ git checkout -- test.py</span></pre><p id="fc2d" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在<code class="fe me mf mg lu b">test.py</code>回来了！</p><p id="b1fc" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is">场景5 </strong>:删除未被跟踪的文件</p><p id="c91c" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">有时你做了一堆你不想保留的更改，你可以运行下面的命令来一次清理它们。</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="25eb" class="ly lz ir lu b gz ma mb l mc md"># dry run to see which files will be removed<br/>$ git clean -d -n</span><span id="91c9" class="ly lz ir lu b gz mh mb l mc md"># remove them<br/>$ git clean -d -f</span></pre><p id="1d4a" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is">场景6 </strong>:【高级场景】我发现自己在创建<code class="fe me mf mg lu b">DS-1234</code>之前就开始对<code class="fe me mf mg lu b">master</code>分支做改动了。事实上，这种情况在我身上发生过很多次😂。</p><p id="77d1" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我们有两个解决方案。</p><p id="4aa2" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is">解决方案1 </strong> : <code class="fe me mf mg lu b">git stash</code></p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="285b" class="ly lz ir lu b gz ma mb l mc md"># step 1: save the changes you made on master branch<br/>$ git stash </span><span id="52f7" class="ly lz ir lu b gz mh mb l mc md"># step 2: create and switch to DS-1234 branch<br/>$ git checkout -b DS-1234</span><span id="2c72" class="ly lz ir lu b gz mh mb l mc md"># step 3: transfer the changes using stash pop<br/>$ git stash pop</span></pre><p id="b9c3" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is">解决方案二</strong>:精选🍒</p><p id="f995" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这是我从前任经理那里学来的一招。它类似于<code class="fe me mf mg lu b">git cherry-pick</code>，但在我看来更直观，因为它非常清楚地显示了路径。</p><p id="c4b8" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在，想象一下在你的DS-1234上，你处理了许多代码。明天是将你的代码合并到发布分支的最后期限。看起来只有一段代码准备合并。您可以通过运行以下命令来选择要合并的这个:</p><pre class="ld le lf lg gu lt lu lv lw aw lx bi"><span id="1600" class="ly lz ir lu b gz ma mb l mc md"># step 1: pull all recent changes from remote<br/>$ git pull</span><span id="f26f" class="ly lz ir lu b gz mh mb l mc md"># step 2: checkout your branch and release branch<br/>$ git checkout DS-1234  # pick from this branch<br/>$ git checkout release-2021-07-01 # to this target branch</span><span id="cd5b" class="ly lz ir lu b gz mh mb l mc md"># step 3: checkout the code ready to merge<br/>$ git checkout DS-1234 new_algo.py</span><span id="46f3" class="ly lz ir lu b gz mh mb l mc md"># step 4: add this code to release branch<br/>$ git add new_algo.py</span><span id="740d" class="ly lz ir lu b gz mh mb l mc md"># step 5: commit <br/>$ git commit -m "cherry pick changes from DS-1234 to release"</span></pre><p id="f967" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is">关闭思路</strong></p><ol class=""><li id="b9d0" class="mi mj ir ki b kj kk km kn kp mk kt ml kx mm lb mn mo mp mq bi translated">Git和GitHub是功能强大的协作工具，对于过去以笔记本方式工作的新数据科学家来说，一开始可能会感到害怕。</li><li id="a301" class="mi mj ir ki b kj mr km ms kp mt kt mu kx mv lb mn mo mp mq bi translated">对于数据科学家来说，你肯定不需要学习最奇怪的GitHub命令来开始与你的开发同事合作。</li><li id="b8bb" class="mi mj ir ki b kj mr km ms kp mt kt mu kx mv lb mn mo mp mq bi translated">通过熟悉常见的GitHub工作流环境，您可以从第一天(好吧，也许是第一周)就满怀信心地将您的代码推向您组织的代码库😊).</li></ol></div></div>    
</body>
</html>