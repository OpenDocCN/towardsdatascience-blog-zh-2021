<html>
<head>
<title>Deploying Your First Machine Learning API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">部署您的第一个机器学习API</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/deploying-your-first-machine-learning-api-1649236c695e?source=collection_archive---------13-----------------------#2021-08-09">https://towardsdatascience.com/deploying-your-first-machine-learning-api-1649236c695e?source=collection_archive---------13-----------------------#2021-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2b6d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用FastAPI和Deta轻松开发和部署机器学习API。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ff488a40d5a3ab6eefb589bc5a74db71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6NAaG1qc0fB5IHwyD7NE3w.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者|元素作者<a class="ae kv" href="https://www.freepik.com/vectorjuice" rel="noopener ugc nofollow" target="_blank"> vectorjuice </a></p></figure><h1 id="c5b0" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="68b0" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在这个项目中，我们将学习如何为您的机器学习模型构建应用程序编程接口(API ),然后用简单的代码部署它。我花了一个小时学习FastAPI，花了五分钟学习如何将它部署到Deta服务器。我们还将使用Python <strong class="lq ir"> <em class="mk">请求</em> </strong>在本地服务器和远程服务器上测试我们的API。让我们更深入地了解一下我们将在项目中使用的技术。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/eb3b2c76b202fb2fbaddd6ec4437f2cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U979DyNBz9CY6nEyfWj_0g.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h2 id="b5f9" class="mm kx iq bd ky mn mo dn lc mp mq dp lg lx mr ms li mb mt mu lk mf mv mw lm mx bi translated">宽大的</h2><p id="3e52" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">与用于实验和评估的著名NLTK Python库相比，spaCy对应用程序和部署更加友好。spaCy附带预构建的统计神经网络NLP模型，具有强大的功能，易于在您的项目中使用和实施。我们将使用一个非常简单的小型预建英语模型来从我们的文本中提取实体。</p><h2 id="3ed3" class="mm kx iq bd ky mn mo dn lc mp mq dp lg lx mr ms li mb mt mu lk mf mv mw lm mx bi translated">FastAPI</h2><p id="73f9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">FastAPI是一个用python构建API的快速web框架，它具有更快的查询时间，简单且最小化代码，让您在几分钟内设计出您的第一个API<a class="ae kv" href="https://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank">FastAPI</a>。在我们的项目中，我们将学习FastAPI如何工作，以及如何使用我们预先构建的模型从英文文本中获取实体。</p><h2 id="836f" class="mm kx iq bd ky mn mo dn lc mp mq dp lg lx mr ms li mb mt mu lk mf mv mw lm mx bi translated">二亚乙基三胺</h2><p id="6867" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们将为我们的API使用Deta Micros服务，并在没有docker或YAML文件的情况下部署项目。Deta平台具有易于部署的CLI、高可扩展性、安全的API认证密钥、更改子域的选项以及web流量的日志记录。这些功能在<a class="ae kv" href="https://www.deta.sh/" rel="noopener ugc nofollow" target="_blank"> Deta上完全免费使用。</a>在我们的项目中，我们将使用Deta CLI通过几行脚本部署我们的Fast API。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://www.kdnuggets.com/2021/10/top-news-week-1011-1017.html"><div class="gh gi my"><img src="../Images/d6668cd11f3faeaaa65ee58fd06a32d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:192/format:webp/0*C59bAFtAWHVVH6eV.png"/></div></a><p class="kr ks gj gh gi kt ku bd b be z dk translated">2021年10月的顶级KDnuggets博客</p></figure></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h1 id="cd29" class="kw kx iq bd ky kz ng lb lc ld nh lf lg jw ni jx li jz nj ka lk kc nk kd lm ln bi translated">密码</h1><p id="a33f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在我学习FastAPI的时候，我偶然发现了YouTube上的视频<a class="ae kv" href="https://www.youtube.com/watch?v=1zMQBe0l1bM&amp;t=854s&amp;pp=sAQA" rel="noopener ugc nofollow" target="_blank">激励我写这篇文章。</a><a class="ae kv" href="https://dev.to/tiangolo" rel="noopener ugc nofollow" target="_blank"> Sebastián Ramírez </a>解释了Fast API的工作原理，以及它是目前最快的python web框架的原因。我们将编写两个Python文件。一个文件包含机器学习模型，另一个文件包含您的API代码。</p><h2 id="fd08" class="mm kx iq bd ky mn mo dn lc mp mq dp lg lx mr ms li mb mt mu lk mf mv mw lm mx bi translated">要求</h2><p id="92a2" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在开始之前，我们需要用一个<em class="mk"> requirements.txt </em>文件创建一个新目录。您可以在下面找到我们将要使用的所有必要的库👇</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="73b9" class="mm kx iq nm b gy nq nr l ns nt">fastapi<br/>spacy<br/>uvicorn<br/>https://github.com/explosion/spacy-models/releases/download/en_core_web_sm-3.1.0/en_core_web_sm-3.1.0.tar.gz</span></pre><p id="6b54" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">您可以逐个安装它们，也可以使用🔻</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="a3e0" class="mm kx iq nm b gy nq nr l ns nt">$ pip install -r requirements.txt</span></pre><p id="50e5" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">我们将为这个项目使用一个预训练的NLP模型，所以我们需要从GitHub库<a class="ae kv" href="https://github.com/explosion/spacy-models" rel="noopener ugc nofollow" target="_blank">https://github.com/explosion/spacy-models</a>下载它，或者只是运行需求文件，它会自动下载并安装它。</p><h2 id="b932" class="mm kx iq bd ky mn mo dn lc mp mq dp lg lx mr ms li mb mt mu lk mf mv mw lm mx bi translated">机器学习模型</h2><p id="f810" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们将使用预训练的<a class="ae kv" href="https://www.analyticsvidhya.com/blog/2021/07/creating-data-science-python-package-using-jupyter-notebook/" rel="noopener ugc nofollow" target="_blank">空间</a>自然语言处理模型从文本中提取实体。如果你用的是Jupyter notebook，试着用<em class="mk"> %%writefile </em>在你的目录下创建python文件。</p><p id="c4a0" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">首先，我们加载NLP模型，然后从CBS <a class="ae kv" href="https://www.cbsnews.com/news/gabby-thomas-womens-200-meter-bronze-medal-olympics/" rel="noopener ugc nofollow" target="_blank"> News </a>文章中提取实体。只需几行代码，你就可以运行你的第一个机器学习模型。您也可以使用相同方法加载已训练模型。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><h2 id="1d62" class="mm kx iq bd ky mn mo dn lc mp mq dp lg lx mr ms li mb mt mu lk mf mv mw lm mx bi translated">API文件</h2><p id="ba28" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这是您的主文件，其中包含:</p><ol class=""><li id="8186" class="ob oc iq lq b lr nu lu nv lx od mb oe mf of mj og oh oi oj bi translated"><strong class="lq ir"> read_main </strong>:使用<strong class="lq ir"> <em class="mk"> GET </em>，</strong>从资源中请求数据，在我们的例子中，它将显示一条消息说<strong class="lq ir"> <em class="mk">欢迎使用</em>。</strong></li><li id="f21e" class="ob oc iq lq b lr ok lu ol lx om mb on mf oo mj og oh oi oj bi translated"><strong class="lq ir">类文章</strong>:使用<em class="mk">pydantic</em><strong class="lq ir"><em class="mk">base model</em></strong>定义将用于你的API <a class="ae kv" href="https://pydantic-docs.helpmanual.io/usage/models/" rel="noopener ugc nofollow" target="_blank"> (helpmanual.io) </a>的对象和变量。在我们的例子中，我们将内容定义为字符串，将注释定义为字符串列表。</li><li id="497c" class="ob oc iq lq b lr ok lu ol lx om mb on mf oo mj og oh oi oj bi translated"><strong class="lq ir"> analyze_article </strong>:它从ml文件中获取带有注释的文本列表，并使用<em class="mk"> NLP </em>对象显示实体。</li></ol><p id="1e8a" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated"><em class="mk">我知道这相当混乱，所以我们把它分解成更小的部分，以便更好地理解它。</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="op oa l"/></div></figure><h2 id="97f4" class="mm kx iq bd ky mn mo dn lc mp mq dp lg lx mr ms li mb mt mu lk mf mv mw lm mx bi translated">分解</h2><p id="db28" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们已经创建了一个FastAPI的对象，然后使用<strong class="lq ir"> <em class="mk"> @app将它作为函数的<a class="ae kv" href="https://www.python.org/dev/peps/pep-0318/" rel="noopener ugc nofollow" target="_blank">装饰器</a>。</em>得到("/")</strong>。</p><ul class=""><li id="76f6" class="ob oc iq lq b lr nu lu nv lx od mb oe mf of mj oq oh oi oj bi translated"><strong class="lq ir"> @app </strong>是你FastAPI对象的装饰器</li><li id="bcdb" class="ob oc iq lq b lr ok lu ol lx om mb on mf oo mj oq oh oi oj bi translated"><strong class="lq ir">。获取或。post </strong> if返回数据或处理输入的HTTP方法</li><li id="466b" class="ob oc iq lq b lr ok lu ol lx om mb on mf oo mj oq oh oi oj bi translated"><strong class="lq ir">(“/”)</strong>是web服务器上的位置。在我们的例子中是主页。如果要添加另一个目录，可以使用("/ &lt; new_section &gt; /)</li></ul><p id="0d59" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">我们已经创建了<strong class="lq ir"> read_main </strong>函数在主页上显示消息，就这么简单。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or oa l"/></div></figure><p id="1bd1" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">现在我们将创建一个<strong class="lq ir"> <em class="mk"> Article </em> </strong>类，它从<strong class="lq ir"> BaseModel </strong>继承函数和变量。这个函数帮助我们创建将要在<strong class="lq ir"> <em class="mk"> POST </em> </strong>方法中使用的参数类型。在我们的例子中，我们创建了字符串变量形式的内容和字符串列表形式的注释。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="os oa l"/></div></figure><p id="d8e9" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">在最后一部分中，我们为我们的API创建了一个<em class="mk"/><strong class="lq ir"><em class="mk"/></strong>方法("/article/")。这意味着我们将创建一个新的部分，它将参数作为输入，并在处理后返回结果。</p><ul class=""><li id="ef62" class="ob oc iq lq b lr nu lu nv lx od mb oe mf of mj oq oh oi oj bi translated"><strong class="lq ir">文章类作为参数:</strong>使用文章列表创建文章参数，这将允许我们添加多个文本条目。</li><li id="0558" class="ob oc iq lq b lr ok lu ol lx om mb on mf oo mj oq oh oi oj bi translated"><strong class="lq ir">从文章中提取数据:</strong>创建循环，从文章列表中提取数据，然后从评论列表中提取数据。它还向数组添加注释。</li><li id="5489" class="ob oc iq lq b lr ok lu ol lx om mb on mf oo mj oq oh oi oj bi translated"><strong class="lq ir">加载文本到NLP模型:</strong>加载内容到<strong class="lq ir"> <em class="mk"> nlp </em> </strong>预训练模型。</li><li id="85be" class="ob oc iq lq b lr ok lu ol lx om mb on mf oo mj oq oh oi oj bi translated"><strong class="lq ir">提取实体:</strong>从<strong class="lq ir"> <em class="mk"> nlp </em> </strong>对象中提取实体，然后添加到<strong class="lq ir"> <em class="mk"> ents </em> </strong>数组中。这将堆叠结果。</li><li id="51ef" class="ob oc iq lq b lr ok lu ol lx om mb on mf oo mj oq oh oi oj bi translated"><strong class="lq ir">显示:</strong>该函数将返回实体和注释的列表。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot oa l"/></div></figure></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h1 id="31dc" class="kw kx iq bd ky kz ng lb lc ld nh lf lg jw ni jx li jz nj ka lk kc nk kd lm ln bi translated">测试</h1><p id="b581" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Fast API建立在uvicon上，所以服务器也运行在uvicon上。在Jupyter notebook中，您可以使用👇或者在终端中输入<strong class="lq ir"><em class="mk">uvicon</em></strong>然后输入<strong class="lq ir"> <em class="mk"> main </em> </strong>文件和带有FastAPI对象的<strong class="lq ir"> <em class="mk"> app </em> </strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="83eb" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">我们的服务器运行流畅，所以让我们使用<strong class="lq ir"> <em class="mk"> request.get </em> </strong>方法来访问它。API通过在主页上显示“欢迎”消息来工作。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ou oa l"/></div></figure><p id="6eec" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">现在让我们尝试在列表中添加单个文本和注释作为字典。我们将使用<strong class="lq ir"> <em class="mk"> POST </em> </strong> request方法和<strong class="lq ir"> <em class="mk"> /article/ </em> </strong>来访问我们的NLP模型函数。将你的输出转换成<strong class="lq ir"> <em class="mk">。json() </em> </strong>使提取数据变得容易。</p><p id="dcca" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">我们有自己的字典键:<strong class="lq ir"> ['ents '，' comments'] </strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ov oa l"/></div></figure><p id="6f1f" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">让我们检查一下我们的整个输出是什么样子的。看起来我们已经有了带有标签和实体列表的<strong class="lq ir"><em class="mk"/></strong>。同样适用于<strong class="lq ir"> <em class="mk">注释</em> </strong>键</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow oa l"/></div></figure><p id="58db" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">现在让我们提取单个实体及其文本来检查输出的灵活性。在我们的例子中，我们从输出中提取第二个实体。</p><p id="b98c" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">结果显示出完美。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ox oa l"/></div></figure></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h1 id="74b0" class="kw kx iq bd ky kz ng lb lc ld nh lf lg jw ni jx li jz nj ka lk kc nk kd lm ln bi translated">部署</h1><p id="89b5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">转到您的终端，或者您可以在Jupyter笔记本电脑中执行相同的步骤，但添加“<strong class="lq ir">！</strong>“先于任何剧本。首先，您需要使用<strong class="lq ir"> <em class="mk"> cd </em> </strong>访问您的目录，其中包含您的<strong class="lq ir"> <em class="mk"> main.py </em> </strong>和<strong class="lq ir"> <em class="mk"> ml.py </em> </strong>文件。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="2c1e" class="mm kx iq nm b gy nq nr l ns nt">cd ~”/FastAPI-ML-Project”</span></pre><p id="cc5e" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated"><strong class="lq ir"> Deta </strong>需要的三个主文件是<strong class="lq ir"> <em class="mk"> ml.py </em> </strong>，<strong class="lq ir"> <em class="mk"> main.py </em> </strong>，<strong class="lq ir"> <em class="mk"> </em> </strong>和<strong class="lq ir"><em class="mk">requirements . txt</em></strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/0fdfad903cb57593254318ab1ffe6f1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*sU-g7SxAKZeIwwnlk-mIrw.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片|项目目录</p></figure><p id="eaf6" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">如果您使用的是<strong class="lq ir"> Windows </strong>，请在PowerShell中使用下面的命令下载并安装Deta CLI</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="508e" class="mm kx iq nm b gy nq nr l ns nt">iwr <a class="ae kv" href="https://get.deta.dev/cli.ps1" rel="noopener ugc nofollow" target="_blank">https://get.deta.dev/cli.ps1</a> -useb | iex</span></pre><p id="3564" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">对于<strong class="lq ir"> Linux </strong></p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="14c6" class="mm kx iq nm b gy nq nr l ns nt">curl -fsSL <a class="ae kv" href="https://get.deta.dev/cli.sh" rel="noopener ugc nofollow" target="_blank">https://get.deta.dev/cli.sh</a> | sh</span></pre><p id="cead" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">然后使用<strong class="lq ir"> <em class="mk"> deta登录</em> </strong>，它会带你到浏览器，要求你输入<em class="mk">用户名</em>和<em class="mk">密码</em>。如果您已经登录，认证将需要几秒钟时间。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="f2b4" class="mm kx iq nm b gy nq nr l ns nt">deta login</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/062ace7b2c063ef337a42c34462d44c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*jT5qo2sSDxgn_R09vmrz-A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Deta认证| <a class="ae kv" href="https://www.deta.sh/" rel="noopener ugc nofollow" target="_blank"> deta </a></p></figure><p id="e46a" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">你终端里的这<strong class="lq ir">两个字</strong>就是<strong class="lq ir">魔法字</strong>，两分钟就能上传文件，部署好你的app。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="116d" class="mm kx iq nm b gy nq nr l ns nt">deta new</span></pre><p id="fb83" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">您的应用程序已上传至端点链接。在我们的情况下<a class="ae kv" href="https://93t2gn.deta.dev/" rel="noopener ugc nofollow" target="_blank">https://93t2gn.deta.dev/</a></p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="5985" class="mm kx iq nm b gy nq nr l ns nt">Successfully created a new micro</span><span id="0cb0" class="mm kx iq nm b gy pa nr l ns nt">{</span><span id="e4c5" class="mm kx iq nm b gy pa nr l ns nt">“name”: “FastAPI-ML-Project”,</span><span id="5e2d" class="mm kx iq nm b gy pa nr l ns nt">“runtime”: “python3.7”,</span><span id="5635" class="mm kx iq nm b gy pa nr l ns nt">“endpoint”: “https://93t2gn.deta.dev/",</span><span id="f2ff" class="mm kx iq nm b gy pa nr l ns nt">“visor”: “enabled”,</span><span id="8f26" class="mm kx iq nm b gy pa nr l ns nt">“http_auth”: “disable”</span><span id="4a63" class="mm kx iq nm b gy pa nr l ns nt">}</span><span id="21e3" class="mm kx iq nm b gy pa nr l ns nt">Adding dependencies…</span><span id="f3e2" class="mm kx iq nm b gy pa nr l ns nt">Collecting fastapi</span><span id="5aa8" class="mm kx iq nm b gy pa nr l ns nt">…</span><span id="2ff6" class="mm kx iq nm b gy pa nr l ns nt">Successfully installed ……</span></pre><p id="c083" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">如果您使用<strong class="lq ir"> <em class="mk"> deta日志</em> </strong>查看错误检查日志，进行一些更改，然后使用<strong class="lq ir"> <em class="mk"> deta部署</em> </strong>更新更改。</p><p id="2f5c" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">如你所见，我们的应用程序部署并运行在Deta服务器上。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/55ea90db49ab50cb13b6fd912ca6e5e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*thjvGcrUQO2zxs0gRaFssg.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">项目概要| <a class="ae kv" href="https://www.deta.sh/" rel="noopener ugc nofollow" target="_blank">详细资料</a></p></figure><p id="1bc4" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">可以去<strong class="lq ir"> Deta </strong>提供的链接自己查一下。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/e2b5c70a9ab628b8ce56be9fdd7c4fbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*RvxLL4rvAO-q_tRhKXDYiw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h2 id="db34" class="mm kx iq bd ky mn mo dn lc mp mq dp lg lx mr ms li mb mt mu lk mf mv mw lm mx bi translated">测试Web API</h2><p id="b48a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">最后，让我们在Deta平台上将远程API作为微服务进行测试。这一次，我们将添加Deta端点链接，而不是添加本地IP。我们可以在没有头文件的情况下运行，因为我们没有启用API认证。当认证被启用时，Deta还提供免费的API密钥。这意味着只有你或拥有API密匙的人才能访问网络服务器。要了解更多关于认证和子域的信息，我建议你阅读<a class="ae kv" href="https://docs.deta.sh/docs/home/" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="3e17" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">我们将添加相同的参数和相同的代码，以获得相同的结果，瞧，这很神奇。您的API是在线的，可以通过使用链接轻松访问。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pd oa l"/></div></figure></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h1 id="5848" class="kw kx iq bd ky kz ng lb lc ld nh lf lg jw ni jx li jz nj ka lk kc nk kd lm ln bi translated">结论</h1><p id="8b3c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在学习FastAPI之后，我一直在思考下一步该做什么，所以有一天在浏览网页时，我偶然发现了引起我注意的Deta。我花了几分钟在远程服务器上安装<strong class="lq ir"> Deta CLI </strong>和部署我的API。他们的子域和免费API关键特性给我留下了深刻的印象。我很快就明白了这项服务是如何工作的，以及我将如何在未来的项目中使用它。</p><p id="6ad5" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">我们学了几个机器学习模型之后都会问这个问题。</p><blockquote class="pe pf pg"><p id="8711" class="lo lp mk lq b lr nu jr lt lu nv ju lw ph nw lz ma pi nx md me pj ny mh mi mj ij bi translated">我知道如何训练我的模型并获得预测，但下一步是什么？我如何与他人分享我的模型？这样他们就可以看到我构建的东西，并在他们的项目中使用这些特性。</p></blockquote><p id="efc9" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated">这就是像<strong class="lq ir"> Heroku </strong>、<strong class="lq ir"> Google </strong>、<strong class="lq ir"> Azure </strong>这样的云平台的用武之地，但是这些平台非常复杂，你需要学习为<strong class="lq ir"> Docker </strong>文件编码，这有时会令人沮丧。<strong class="lq ir"> Deta </strong>用简单的两个字的脚本解决您的所有问题，它将在几秒钟内部署并运行您的应用。</p><p id="9965" class="pw-post-body-paragraph lo lp iq lq b lr nu jr lt lu nv ju lw lx nw lz ma mb nx md me mf ny mh mi mj ij bi translated"><em class="mk">你也可以查看我对这个项目的GitHub回购:</em><a class="ae kv" href="https://github.com/kingabzpro/FastAPI-ML-Project" rel="noopener ugc nofollow" target="_blank"><em class="mk">kingabzpro/FastAPI-ML-Project</em></a><em class="mk">。</em></p><blockquote class="pe pf pg"><p id="cfc9" class="lo lp mk lq b lr nu jr lt lu nv ju lw ph nw lz ma pi nx md me pj ny mh mi mj ij bi translated">你可以在LinkedIn 和Polywork 上关注我，我每周都会在那里发表文章。</p></blockquote><h1 id="e895" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">别忘了给你的👏</h1></div></div>    
</body>
</html>