<html>
<head>
<title>Error-free import of CSV files using Pandas DataFrame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Pandas DataFrame无错导入CSV文件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-import-csv-files-using-pandas-dataframe-error-free-62da3c31393c?source=collection_archive---------5-----------------------#2021-04-21">https://towardsdatascience.com/how-to-import-csv-files-using-pandas-dataframe-error-free-62da3c31393c?source=collection_archive---------5-----------------------#2021-04-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7e57" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf"> EmptyDataError。</em>听着耳熟？然后继续关注我的一些提示，以避免在使用Pandas DataFrame加载CSV文件时出现任何形式的错误。</h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/258653e4028feae8ba44f752cc2874f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RFAFr5Ito-3s-oXV"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated"><a class="ae kw" href="https://unsplash.com/@little_plant?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">小植物</a>在<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="0491" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi lt translated">ata处于机器学习管道的中心。为了充分利用算法的全部能力，必须首先对数据进行适当的清理和处理。</p><p id="f2c5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">数据清理/争论的第一步是加载文件，然后通过文件的路径建立连接。有不同类型的分隔文件，如制表符分隔文件，逗号分隔文件，多字符分隔文件等。定界符指示数据如何在列内被分开，是通过逗号、制表符还是分号等。最常用的文件是制表符分隔和逗号分隔的文件。</p><p id="be00" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在整个ML管道中，数据争论和清理占据了数据分析专业人员大约50%到70%的时间。第一步是将文件导入熊猫数据框架。然而，这一步是遇到最多的错误。人们经常在这个特定的步骤中陷入困境，并遇到类似这样的错误</p><p id="b6fa" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="mc">empty data错误:文件</em>中没有要解析的列</p><p id="f4e2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">常见错误的出现，主要是由于:</strong></p><p id="026f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> <em class="mc">提到了错误的文件分隔符。</em>T15】</strong></p><p id="91ee" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> <em class="mc">文件路径格式不正确。</em>T19】</strong></p><p id="5e66" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> <em class="mc">错误的语法或分隔符用于指定文件路径。</em> </strong></p><p id="c56a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> <em class="mc">提到了错误的文件目录。</em> </strong></p><p id="53e2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> <em class="mc">文件连接未形成。</em> </strong></p><p id="28c8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">数据分析专业人员无法承受在已经非常耗时的步骤中耗费更多时间。在加载文件时，必须遵循某些重要的步骤，这些步骤将节省时间，并减少在大量信息中寻找特定问题的解决方案的麻烦。因此，我列出了一些步骤，以避免在使用pandas DataFrame导入和加载数据文件时出现任何错误。</p><p id="e58a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">读取和导入CSV文件并不像人们想象的那么简单。一旦你开始加载你的文件来建立你的机器学习模型，这里有一些必须记住的提示。</p><p id="63a3" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> 1。</strong> <strong class="kz ir">在设置中检查您的分色类型:</strong></p><p id="f715" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">用于Windows </strong></p><ul class=""><li id="498b" class="md me iq kz b la lb ld le lg mf lk mg lo mh ls mi mj mk ml bi translated">转到控制面板</li><li id="6b23" class="md me iq kz b la mm ld mn lg mo lk mp lo mq ls mi mj mk ml bi translated">点击区域和语言选项</li><li id="4215" class="md me iq kz b la mm ld mn lg mo lk mp lo mq ls mi mj mk ml bi translated">点击区域选项选项卡</li><li id="d0a6" class="md me iq kz b la mm ld mn lg mo lk mp lo mq ls mi mj mk ml bi translated">点击自定义/附加设置</li><li id="d2f3" class="md me iq kz b la mm ld mn lg mo lk mp lo mq ls mi mj mk ml bi translated">在“列表分隔符”框中键入逗号(，)</li><li id="ca80" class="md me iq kz b la mm ld mn lg mo lk mp lo mq ls mi mj mk ml bi translated">单击“确定”两次以确认更改</li></ul><p id="dcf9" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">注意:这只适用于“十进制符号”也不是逗号的情况。</p><p id="1182" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">用于MacOS </strong></p><ul class=""><li id="d92b" class="md me iq kz b la lb ld le lg mf lk mg lo mh ls mi mj mk ml bi translated">前往系统偏好设置</li><li id="dfa0" class="md me iq kz b la mm ld mn lg mo lk mp lo mq ls mi mj mk ml bi translated">点击语言和地区，然后进入高级选项</li><li id="ccaf" class="md me iq kz b la mm ld mn lg mo lk mp lo mq ls mi mj mk ml bi translated">将“小数分隔符”更改为以下情况之一</li></ul><p id="8840" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">对于MacOS，如果小数点分隔符是句点(。)那么CSV分隔符将是逗号。<br/>如果小数点分隔符是逗号(，)，那么CSV分隔符将是分号。</p><p id="c15f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> 2。</strong> <strong class="kz ir">查看文件的预览:</strong></p><p id="5064" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">还可以检查文件的预览，可以看到数据是如何被分隔的，是通过制表符分隔还是逗号分隔。人们可以在Jupyter notebook或Microsoft Excel中检查预览。</p><p id="a524" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> 3。</strong> <strong class="kz ir">正确指定所有参数:</strong></p><p id="8d6f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">看了预览并检查了为您的计算机指定的分色后。我们现在必须填充正确的参数，这些参数需要在“pd.read_csv”函数中根据文件类型作为分隔符(制表符分隔等)、空白标题(在这种情况下header= none)等。</p><p id="5e18" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">Pandas.read.csv有许多参数，需要考虑这些参数才能正确读取该文件。</p><p id="546c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="mc">pandas . read _ CSV(file path _ or _ buffer，sep= &lt; object object &gt;，delimiter=None，header='infer '，names=None，index_col=None，usecols=None，squeeze=False，prefix=None，mangle_dupe_cols=True，dtype=None，engine=None，converters=None，true_values=None，false_values=None，skipinitialspace=False，skipfooter=0，nrows=None，na，lineterminator=None，quotechar= ' " '，quoting=0，doublequote=True，escapechar=None，comment=None，encoding=None，dialect=None，error_bad_lines=True，warn_bad_lines=True，delim_whitespace=False，low_memory=True，memory_map=False，float_precision=None，storage_options=None) </em></p><p id="b9b3" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这是所有论点的清单，但我们最关心的是以下几点:</p><p id="7e24" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">sep:这指定了数据值之间的分隔类型。默认值为“，”。在检查了预览和系统设置之后，我们知道了文件的类型。最常见的分隔符/分隔符类型是逗号、制表符和冒号。因此，它将被指定为sep= '，'，sep= ' '，sep = '；'这告诉pandas DataFrame如何将数据分布到列中</p><p id="9985" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果问题仍然存在，请检查需要输入的任何必需参数。那么问题可能出在文件路径上。</p><p id="9f1b" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> 4。</strong> <strong class="kz ir">检查文件路径:</strong></p><p id="1dba" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">此参数用于描述特定数据文件的路径对象或类似文件的对象，基本上是其位置。输入是一个字符串。也可以输入URL，有效的方案有HTTP、FTP、s3、gs和file。</p><p id="7e3f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">文件位置应被正确提及。大多数情况下，人们不知道工作目录，结果提到了错误的文件路径。在这种情况下，我们必须检查工作目录，以确保正确描述了指定的文件路径。编写如下所示的代码来检查工作目录。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/c35a8fd992ebd0a124a99fda5b2fbdb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*wZfAQNKAuwi-Bmp8Na3AiA.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者图片</p></figure><p id="a221" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这将打印工作目录。然后，我们必须只指定你的工作目录后的位置。</p><p id="552d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们也可以使用下面一行代码来改变工作目录。指定新目录后，我们必须指定路径。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/67399533322bd194b72bbfd1bd676ba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*yJtsrgxdsV12xgqhk2v3fQ.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者图片</p></figure><p id="b9d4" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> 5。</strong> <strong class="kz ir">检查用于指定文件位置的分隔符:</strong></p><p id="9f8c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">通常在改变工作目录时也会出错。这是因为没有按照正确的语法编写分隔符。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/014a175f78f756107550ab4b943a31ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*tSxx95UWPsa_F-R7BHx6Lg.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者图片</p></figure><p id="9a95" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">首先。使用以下命令检查分隔符。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/1f7d80f92658c463792256e5d494aa55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*fEyijBvzLt8hn6AdrcESoA.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者图片</p></figure><p id="c9f1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">然后，仅在目录位置的开头使用分隔符，而不要在结尾使用。请注意，这种分隔符(/)语法规范适用于MacOS，但可能不适用于Windows。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/874fe74c983e792982dcf77ff5ed0f00.png" data-original-src="https://miro.medium.com/v2/resize:fit:562/format:webp/1*TGLTy9B4Ajunw5r4iKvmuQ.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者图片</p></figure><p id="3a52" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，在正确指定位置后，我们已经对其进行了更改。</p><p id="d44f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在我们必须指定路径。因为我们熟悉工作目录。我们只需指定工作目录之后的位置。</p><p id="83f1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果你的文件在工作目录中，那么只需要如下所示的文件名。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/70120dc82b12de5afde001c8f22af08e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*Q1O68qtsRQU7OLx_aRYbhA.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者图片</p></figure><p id="c275" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">但是，如果您的文件存在于某个其他文件夹中，那么您可以在工作目录后指定后续文件夹，例如，您的工作目录是“/Users/username”，而您的文件位于“documents”中名为“huma”的文件夹中，那么您可以编写以下代码:</p><pre class="kh ki kj kk gt mx my mz na aw nb bi"><span id="38b7" class="nc nd iq my b gy ne nf l ng nh"><em class="mc">path = ‘Documents/huma/filename.csv’</em></span></pre><p id="5b77" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> 6。</strong> <strong class="kz ir">检查文件是否在路径:</strong></p><p id="24c4" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在使用下面的代码检查您的文件是否存在于描述的路径中。我们得到的答案要么是“对”，要么是“错”。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/96bc3f645e02da183a729f0b03007a8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*xDw_8_mkGGGx_PtRTAzwsg.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者图片</p></figure><p id="af8e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> 7。</strong> <strong class="kz ir">打印要钩稽的文件数据:</strong></p><p id="0149" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，我们可以使用下面的代码检查我们的数据文件是否已经正确加载。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/5b6ab8e0d56096a20f62f0e7f49c0e76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*s1N1BbDhpWUIq4j9n6UvrQ.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者图片</p></figure><p id="c7c1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">有了这些提示，你可能不会在使用Pandas DataFrame加载CSV文件时遇到任何问题。</p></div></div>    
</body>
</html>