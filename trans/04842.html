<html>
<head>
<title>Encrypting Your File Made Easy With GPG</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GPG轻松加密您的文件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/encrypting-your-file-made-easy-with-gpg-4b9c147e854?source=collection_archive---------12-----------------------#2021-04-27">https://towardsdatascience.com/encrypting-your-file-made-easy-with-gpg-4b9c147e854?source=collection_archive---------12-----------------------#2021-04-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9d8e" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">学习软件工具</h2><div class=""/><div class=""><h2 id="1d6d" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">了解一个免费的个人加密开源工具</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/835c1a4c03367525a7a4678b13eebd28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AZyKB4EiF4ufCqVV"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@flyd2069?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">飞:D </a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="2240" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated"><span class="l mf mg mh bm mi mj mk ml mm di"> Y </span>你有一个文件，你想在发送给你的朋友之前加密它，你会怎么做？有很多工具可以做到。下面是一个广为人知的IT友好工具，<a class="ae lh" href="https://gnupg.org/" rel="noopener ugc nofollow" target="_blank"> Gnu私人卫队(又名GPG) </a>。</p><ul class=""><li id="3239" class="mn mo it lk b ll lm lo lp lr mp lv mq lz mr md ms mt mu mv bi translated">它是开源的:<a class="ae lh" href="https://github.com/gpg/gnupg" rel="noopener ugc nofollow" target="_blank">https://github.com/gpg/gnupg</a></li><li id="dc06" class="mn mo it lk b ll mw lo mx lr my lv mz lz na md ms mt mu mv bi translated">可以免费下载:<a class="ae lh" href="https://gnupg.org/download/" rel="noopener ugc nofollow" target="_blank">https://gnupg.org/download/</a></li><li id="00bf" class="mn mo it lk b ll mw lo mx lr my lv mz lz na md ms mt mu mv bi translated">它使用非对称加密，即私钥对公钥</li></ul><p id="64a2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">不错！使用它也很简单。</p><h1 id="96d5" class="nb nc it bd nd ne nf ng nh ni nj nk nl ki nm kj nn kl no km np ko nq kp nr ns bi translated">生成密钥对</h1><p id="90fc" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">下载后，第一步是生成您的密钥</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="463f" class="od nc it nz b gy oe of l og oh">gpg --generate-key</span></pre><p id="89b2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">它将为您提供几个步骤来生成您的密钥，只需您的姓名、电子邮件和ok，如下面的粗体所示。</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="6bb2" class="od nc it nz b gy oe of l og oh">Real name: <strong class="nz jd">My Name</strong><br/>Email address: <strong class="nz jd">myname@mail.com</strong><br/>You selected this USER-ID:<br/>    "My Name &lt;myname@mail.com&gt;"<br/>Change (N)ame, (E)mail, or (O)kay/(Q)uit? <strong class="nz jd">O</strong></span></pre><p id="b75f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">之后，它会问你需要记住的最重要的事情，你的秘密短语。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oi"><img src="../Images/ecd3a9cb8fe9d313dd10d12a282ed672.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E5NomqipYoO6f7Ry29AnIw.png"/></div></div></figure><p id="5b31" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一旦您输入您的机密短语，它将显示在下面。</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="193e" class="od nc it nz b gy oe of l og oh">pub   rsa3072 2021-04-27 [SC] [expires: 2023-04-27]<br/>      C0419C440EF637AD9D39A89137BF9320BC0410A4<br/>uid                      My Name &lt;myname@mail.com&gt;<br/>sub   rsa3072 2021-04-27 [E] [expires: 2023-04-27]</span></pre><p id="d4d4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">恭喜你。您已经生成了密钥对(公钥和私钥)。</p><p id="ddb0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了识别您的密钥，我在这里称之为<code class="fe oj ok ol nz b"><strong class="lk jd">&lt;key-id&gt;</strong></code>,您可以使用</p><ul class=""><li id="f03f" class="mn mo it lk b ll lm lo lp lr mp lv mq lz mr md ms mt mu mv bi translated">名字</li><li id="dbe4" class="mn mo it lk b ll mw lo mx lr my lv mz lz na md ms mt mu mv bi translated">电子邮件</li><li id="2e9a" class="mn mo it lk b ll mw lo mx lr my lv mz lz na md ms mt mu mv bi translated">或者生成的数字的最后8位数字，即<code class="fe oj ok ol nz b">BC0410A4</code>。这个我也叫<code class="fe oj ok ol nz b"><strong class="lk jd">&lt;digit-key-id&gt;</strong></code></li></ul><blockquote class="om on oo"><p id="e03d" class="li lj op lk b ll lm kd ln lo lp kg lq oq ls lt lu or lw lx ly os ma mb mc md im bi translated">如果您想对密钥生成有更多的控制，请使用<code class="fe oj ok ol nz b">gpg --full-generate-key</code></p></blockquote><h1 id="8b8b" class="nb nc it bd nd ne nf ng nh ni nj nk nl ki nm kj nn kl no km np ko nq kp nr ns bi translated">验证您的密钥是否已创建</h1><p id="03e3" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">要验证您的密钥是否已创建，只需键入</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="adb4" class="od nc it nz b gy oe of l og oh">gpg -k</span></pre><p id="8cf7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您将能够看到您的密钥已创建</p><blockquote class="om on oo"><p id="7195" class="li lj op lk b ll lm kd ln lo lp kg lq oq ls lt lu or lw lx ly os ma mb mc md im bi translated">要删除，只需输入<code class="fe oj ok ol nz b">gpg --delete-key <strong class="lk jd">&lt;key-id&gt;</strong></code>。如果您的密钥对既有私钥又有公钥，您首先需要<code class="fe oj ok ol nz b">--delete-secret-key</code>。</p></blockquote><h1 id="d625" class="nb nc it bd nd ne nf ng nh ni nj nk nl ki nm kj nn kl no km np ko nq kp nr ns bi translated">将您的公钥发送给您的朋友</h1><p id="a784" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">有两种方法发送给你的朋友</p><h2 id="4f3f" class="od nc it bd nd ot ou dn nh ov ow dp nl lr ox oy nn lv oz pa np lz pb pc nr iz bi translated">手动导出</h2><p id="31f0" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">手动方式是导出并发送给你的朋友</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="b56b" class="od nc it nz b gy oe of l og oh">// Binary based<br/>gpg --export <strong class="nz jd">&lt;key-id&gt;</strong> &gt; mypublickey.pgp</span><span id="f320" class="od nc it nz b gy pd of l og oh">// OR</span><span id="e37f" class="od nc it nz b gy pd of l og oh">// ASCII based<br/>gpg --export --armor <strong class="nz jd">&lt;key-id&gt;</strong> &gt; mypublickey.asc</span></pre><p id="c307" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后把文件发给你的朋友。然后他们可以使用导入到他们的gpg</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="2d8f" class="od nc it nz b gy oe of l og oh">// Binary based<br/>gpg --import mypublickey.pgp</span><span id="a15c" class="od nc it nz b gy pd of l og oh">// OR</span><span id="413e" class="od nc it nz b gy pd of l og oh">// ASCII based<br/>gpg --import mypublickey.asc</span></pre><h2 id="abd2" class="od nc it bd nd ot ou dn nh ov ow dp nl lr ox oy nn lv oz pa np lz pb pc nr iz bi translated">发送到密钥服务器</h2><p id="6af0" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">您可以使用将您的公钥上传到服务器</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="b777" class="od nc it nz b gy oe of l og oh">gpg --keyserver <strong class="nz jd">&lt;key-server&gt;</strong> --send-keys <strong class="nz jd">&lt;digit-key-id&gt;</strong></span></pre><p id="2f24" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">密钥服务器的一个例子是<code class="fe oj ok ol nz b">hkp://pool.sks-keyservers.net</code></p><p id="0685" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后你的朋友可以使用</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="fca7" class="od nc it nz b gy oe of l og oh">gpg --keyserver <strong class="nz jd">&lt;key-server&gt;</strong> --recv-keys <strong class="nz jd">&lt;digit-key-id&gt;</strong></span></pre><p id="7189" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">成功后，您的朋友可以看到信息</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="93b2" class="od nc it nz b gy oe of l og oh">gpg: key <strong class="nz jd">&lt;8-digi-key-id&gt;</strong>: "<strong class="nz jd">&lt;name&gt;</strong> <strong class="nz jd">&lt;mail&gt;</strong>" not changed<br/>gpg: Total number processed: 1<br/>gpg:              unchanged: 1</span></pre><p id="a7fb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您的朋友也可以使用<code class="fe oj ok ol nz b">gpg -k</code>命令来检查密钥。</p><blockquote class="om on oo"><p id="ce5f" class="li lj op lk b ll lm kd ln lo lp kg lq oq ls lt lu or lw lx ly os ma mb mc md im bi translated">也可以使用下面的命令搜索一个键</p></blockquote><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="884a" class="od nc it nz b gy oe of l og oh">gpg --keyserver <strong class="nz jd">&lt;key-server&gt; </strong>--search-keys <strong class="nz jd">&lt;key-id&gt;</strong></span></pre><blockquote class="om on oo"><p id="70e6" class="li lj op lk b ll lm kd ln lo lp kg lq oq ls lt lu or lw lx ly os ma mb mc md im bi translated">将显示一个键列表，用户可以通过键入用空格分隔的数字来选择要导入的键，例如<code class="fe oj ok ol nz b">1 3</code>表示选择第一个和第三个键。更多信息<a class="ae lh" href="https://www.privex.io/articles/what-is-gpg" rel="noopener ugc nofollow" target="_blank">点击这里</a>。</p></blockquote><h1 id="670a" class="nb nc it bd nd ne nf ng nh ni nj nk nl ki nm kj nn kl no km np ko nq kp nr ns bi translated">用公钥加密你的文件</h1><p id="5518" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">现在你的朋友在发送文件之前可以先用下面的命令加密它。</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="2b10" class="od nc it nz b gy oe of l og oh">gpg -r &lt;key-id&gt; -e file.ext</span></pre><p id="2326" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe oj ok ol nz b">file.ext</code>可以是二进制或ASCII。</p><p id="62c0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">输出文件是<code class="fe oj ok ol nz b">file.ext.gpg</code>。这是可以安全发送的加密文件。</p><blockquote class="om on oo"><p id="c4e7" class="li lj op lk b ll lm kd ln lo lp kg lq oq ls lt lu or lw lx ly os ma mb mc md im bi translated">提示:你也可以用多个公钥<br/> <code class="fe oj ok ol nz b">gpg -r <strong class="lk jd">&lt;key-id-1&gt;</strong> -r <strong class="lk jd">&lt;key-id-2&gt;</strong> -e file.ext<br/></code>加密一个文件，这样它就可以被发送给多个接收者</p></blockquote><h1 id="cf77" class="nb nc it bd nd ne nf ng nh ni nj nk nl ki nm kj nn kl no km np ko nq kp nr ns bi translated">用私钥解密文件</h1><p id="8bd0" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">一旦您收到了<code class="fe oj ok ol nz b">gpg</code>文件，您可以使用</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="c06f" class="od nc it nz b gy oe of l og oh">gpg -d file.ext.gpg &gt; <strong class="nz jd">&lt;filenameyoulike&gt;</strong></span></pre><p id="e5bc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在您解密之前，系统会提示您输入机密短语。</p><h1 id="670e" class="nb nc it bd nd ne nf ng nh ni nj nk nl ki nm kj nn kl no km np ko nq kp nr ns bi translated">移动您的密钥集(私钥和公钥)</h1><p id="bbf9" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">您可能知道，您密钥集存储在您的机器上。有时候，你必须改变你的机器。那么，如何将您的密钥集转移到另一台机器上呢？</p><p id="c7a3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您可以使用下面的命令</p><pre class="ks kt ku kv gt ny nz oa ob aw oc bi"><span id="60d9" class="od nc it nz b gy oe of l og oh">// Binary based<br/>gpg --export-secret-key <strong class="nz jd">&lt;key-id&gt;</strong> &gt; mysecretkey.pgp</span><span id="53aa" class="od nc it nz b gy pd of l og oh">// OR</span><span id="24e9" class="od nc it nz b gy pd of l og oh">// ASCII based<br/>gpg --export-secret-key --armor <strong class="nz jd">&lt;key-id&gt;</strong> &gt; mysecretkey.asc</span></pre><p id="4364" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在成功导出之前，它会提示您输入密码。</p><p id="62da" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一旦完成，现在你可以将你的文件复制到另一台机器上并导入。</p><p id="725f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要导入密钥，请使用正常的导入步骤。对于导入，您也会被提示输入机密短语。因此，记住你的秘密短语是很重要的。</p></div><div class="ab cl pe pf hx pg" role="separator"><span class="ph bw bk pi pj pk"/><span class="ph bw bk pi pj pk"/><span class="ph bw bk pi pj"/></div><div class="im in io ip iq"><h1 id="22bb" class="nb nc it bd nd ne pl ng nh ni pm nk nl ki pn kj nn kl po km np ko pp kp nr ns bi translated">GPG的其他用途</h1><p id="1115" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">除了加密文件，你还可以用GPG做很多其他的事情，例如</p><ul class=""><li id="a252" class="mn mo it lk b ll lm lo lp lr mp lv mq lz mr md ms mt mu mv bi translated"><a class="ae lh" href="https://www.techrepublic.com/article/how-to-install-and-use-gpg-suite-to-encrypt-email-with-apple-mail/" rel="noopener ugc nofollow" target="_blank">加密邮件</a></li><li id="742d" class="mn mo it lk b ll mw lo mx lr my lv mz lz na md ms mt mu mv bi translated"><a class="ae lh" href="https://blog.usejournal.com/gpg-for-dummies-5bdde94fa36d" rel="noopener ugc nofollow" target="_blank"> Github访问加密</a></li><li id="37f0" class="mn mo it lk b ll mw lo mx lr my lv mz lz na md ms mt mu mv bi translated"><a class="ae lh" href="https://medium.com/mobile-app-development-publication/upload-to-mavencentral-made-easy-for-android-library-30d2b83af0c7" rel="noopener">加密Maven库</a></li></ul><p id="dbcb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要获得更多的gpg命令，请点击查看<a class="ae lh" href="https://www.devdungeon.com/content/gpg-tutorial" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="83eb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">安全自由地享受加密！</p></div></div>    
</body>
</html>