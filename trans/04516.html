<html>
<head>
<title>How to Build a Data Analysis App in R Shiny</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在R Shiny中搭建一个数据分析App</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-build-a-data-analysis-app-in-r-shiny-143bee9338f7?source=collection_archive---------8-----------------------#2021-04-18">https://towardsdatascience.com/how-to-build-a-data-analysis-app-in-r-shiny-143bee9338f7?source=collection_archive---------8-----------------------#2021-04-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6b8d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">初学者的循序渐进指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3a218796b8f974ead327693136c0923b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PCd3RBa35tKd33kWoT2sJw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="84dd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://shiny.rstudio.com/" rel="noopener ugc nofollow" target="_blank">闪亮的</a>是一个R包，<strong class="la iu">让你建立交互式网络应用</strong>。你需要的只是R，没有HTML、CSS或JavaScript——尽管你当然可以选择用它们来增强你的应用。你可以在你的电脑上运行应用程序，托管在你自己的服务器上，或者使用RStudio的云服务。</p><p id="5c5c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我将从头开始讲述<strong class="la iu">构建一个简单的数据分析应用程序的过程</strong>。你可以在那里找到很多优秀的基础指南，我的目标是更进一步:我们将做一些<strong class="la iu">动态UI更新、动态输出、动作按钮</strong>、<strong class="la iu">面板导航</strong>等。</p><p id="2e45" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，这不是一个“严肃的”数据分析应用程序，我的目的是展示可能会派上用场的shiny的不同功能。然而，一旦我们完成了，向我们的代码添加新的功能应该是相当容易的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b7b2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">有用的链接</h1><p id="3cbc" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">你可以看看我们要在shinyapps.io上搭建的<strong class="la iu">app:</strong><a class="ae lu" href="https://matepocs.shinyapps.io/data_analyser/" rel="noopener ugc nofollow" target="_blank">https://matepocs.shinyapps.io/data_analyser/</a>。</p><p id="b01c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">底层<strong class="la iu">代码在我的</strong> <a class="ae lu" href="https://github.com/MatePocs/rshiny_apps" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> GitHub </strong> </a>上。</p><p id="58be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Shiny是一个非常有据可查的包，在其 <a class="ae lu" href="https://shiny.rstudio.com/tutorial/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">网站</strong> </a>上有<strong class="la iu">的优秀指南。其实有点太有案可稽了，很容易迷失在入门视频、教程、文字指南、文章等迷宫中。</strong></p><p id="b834" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我个人觉得Hadley Wickham的<a class="ae lu" href="https://mastering-shiny.org/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">Mastering Shiny</strong></a>是一个很好很紧凑的源码，强烈推荐。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="24d2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">准备</h1><h2 id="5b06" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">规划应用程序</h2><p id="3527" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">这是我们希望我们的应用程序能够完成的<strong class="la iu">高级设计草图</strong>。</p><p id="1349" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">用户</strong>:</p><ul class=""><li id="2b5a" class="nl nm it la b lb lc le lf lh nn ll no lp np lt nq nr ns nt bi translated">导入一个<code class="fe nu nv nw nx b">.csv</code>文件；</li><li id="f413" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated">从列中选择最多2个数值型和1个因子型变量。</li></ul><p id="a7ee" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后是<strong class="la iu"> app </strong>:</p><ul class=""><li id="b7be" class="nl nm it la b lb lc le lf lh nn ll no lp np lt nq nr ns nt bi translated">绘制一个情节；</li><li id="e6ec" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated">创建汇总表。</li></ul><p id="7a0a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有趣的是<strong class="la iu">我们希望输出根据我们选择的列类型而不同</strong>——如果只是选择一个因子变量，我们希望有不同的图，如果我们有一个因子的数值变量，我们希望有一个更复杂的图。</p><h2 id="4a1b" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">工作环境</h2><p id="bacb" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们将在RStudio和r中工作。要使用<code class="fe nu nv nw nx b">shiny</code>，您首先需要<strong class="la iu">安装包</strong>:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="b741" class="mz md it nx b gy oh oi l oj ok">install.packages(“shiny”)</span></pre><p id="e21a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(我们还将使用的其他软件包:<code class="fe nu nv nw nx b">data.table</code>、<code class="fe nu nv nw nx b">ggplot2</code>，您可能也需要安装它们。我假设你对这些软件包很熟悉。)</p><p id="89c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们需要<strong class="la iu">用app的名字</strong>创建一个文件夹。我把我的叫做<code class="fe nu nv nw nx b">data_analyser</code>。我们将继续在这个文件夹中工作。</p><p id="bfaa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个<code class="fe nu nv nw nx b">shiny</code>应用的框架非常简单:一个R脚本<strong class="la iu">必须被称为</strong> <code class="fe nu nv nw nx b">app.R</code>。所以我们将在我们的<code class="fe nu nv nw nx b">data_analyser</code>文件夹中放一个。</p><p id="b860" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(注意:如果你阅读一些旧的指南，你可能会发现这个框架令人困惑。与包含UI和服务器功能的 <code class="fe nu nv nw nx b">app.R</code> <em class="ol">不同，您过去只需要两个脚本:一个</em> <code class="fe nu nv nw nx b">server.R</code> <em class="ol">，一个</em> <code class="fe nu nv nw nx b">ui.R</code> <em class="ol">。由于传统原因，这种老方法仍然有效，但我认为不推荐使用。此外，您可以在文件夹中有不同的脚本，并在您的应用程序脚本中提供它们。因此，您不必像我们现在要做的那样将所有内容都放在一个脚本中，您可以将您的服务器功能存储在一个单独的</em> <code class="fe nu nv nw nx b">server.R</code> <em class="ol">脚本中，并对其进行编译，只要知道这不是一个要求即可。)</em></p><h2 id="9dfa" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">闪亮的框架</h2><p id="35e4" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">最小闪亮应用框架看起来像这样:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="980f" class="mz md it nx b gy oh oi l oj ok">library(shiny)</span><span id="3d21" class="mz md it nx b gy om oi l oj ok">ui &lt;- fluidPage()</span><span id="2248" class="mz md it nx b gy om oi l oj ok">server &lt;- function(input, output){}</span><span id="50a2" class="mz md it nx b gy om oi l oj ok">shinyApp(ui = ui, server = server)</span></pre><p id="2385" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以将它复制到您的<code class="fe nu nv nw nx b">app.R</code>，并且应该能够通过使用<strong class="la iu">键盘快捷键</strong>(如Cmd + Shift + Return)或点击RStudio 中的<strong class="la iu">运行应用程序按钮<strong class="la iu">来运行它</strong>(它将自动识别这是一个闪亮的应用程序):</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/ccdd9569d258157c89db2aaf6ec5b37d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-LwAirFFkccILatYFih_DA.png"/></div></div></figure><p id="4ac4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(另一种在本地运行应用程序的方式是简单地在控制台上输入<code class="fe nu nv nw nx b">runApp(…/data_analyser)</code>，当然是添加文件夹的路径。)</p><p id="06a3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你运行这个应用程序，你应该会看到一个空窗口弹出。这是意料之中的，但是是时候改变了！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7da5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">构建步骤</h1><p id="8a70" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">正如这个框架所暗示的，一个闪亮的应用有两个部分:<strong class="la iu">用户界面，和服务器</strong>。</p><p id="03ca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nu nv nw nx b">ui</code>对象负责app 的<strong class="la iu">布局。它将决定显示什么样的页面或标签，如何格式化显示的文本，需要用户输入什么样的内容，以及将输出放在哪里。(我们还不知道具体的输出是什么，但我们知道它们各自的走向！)</strong></p><p id="03d2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nu nv nw nx b">server</code>是<strong class="la iu">定义</strong> <code class="fe nu nv nw nx b">input</code> <strong class="la iu">和</strong> <code class="fe nu nv nw nx b">output</code> <strong class="la iu">数据帧</strong>之间的连接 <strong class="la iu">的函数。它基本上是一个观察器列表，寻找输入值变化的代码块或其他观察器(只是为了保持有趣)来确定屏幕上显示的输出是否应该更新。</strong></p><h2 id="e17f" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">布局</h2><p id="5692" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们将首先关注布局，它是在<code class="fe nu nv nw nx b">ui</code>对象中定义的。</p><p id="9dd0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，让我们进入页面和选项卡。当我们开始输入第一个原型时，我们将<code class="fe nu nv nw nx b">ui</code>定义为一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/0.14/fluidPage.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> fluidPage </strong> </a>。我发现很多初学者指南都用fluidPage，特别是一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/0.14/sidebarLayout.html" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">sidebarLayout</strong></a>，所以这次让我们做点不同的吧！</p><p id="49d5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们想为我们的应用程序创建单独的页面，就像一个合适的网站，我们可以使用<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/1.2.0/navbarPage.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> navbarPage </strong> </a>来实现这个目的。这将在顶部创建一个链接到不同页面的标题。让我们放入两页:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="ee2d" class="mz md it nx b gy oh oi l oj ok">ui &lt;- navbarPage(<br/>  title = "Data Analyser", <br/>  main_page, <br/>  about_page<br/>)</span></pre><p id="55c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">代码还不能运行，我们需要定义这两个页面。两者都需要是一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/0.12.1/tabPanel.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> tabPanel </strong> </a>对象。它们不可能是流水账。(如果你开始觉得这令人困惑和特别，你并不孤单，但我们几乎没有新的页面构建概念。)</p><p id="d7c9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们放入两页:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="bbab" class="mz md it nx b gy oh oi l oj ok">main_page &lt;- tabPanel(title = “Analysis”)<br/>about_page &lt;- tabPanel(title = “About”)</span></pre><p id="f408" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您现在运行应用程序，您应该会在顶部的看到<strong class="la iu">导航面板。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/5e95b4914519e0f7f311a84bcd3d8e66.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*zb3YBz6zHk0sDoCKXo6BbA.png"/></div></figure><p id="8635" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以把一些一般信息放在“关于”页面上。当格式化文本时，你有许多选择，请看<a class="ae lu" href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson2/" rel="noopener ugc nofollow" target="_blank">这里</a>的完整列表。这个页面的存在只是为了展示不同的页面如何工作。</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="8dac" class="mz md it nx b gy oh oi l oj ok">about_page &lt;- tabPanel(<br/> title = “About”,<br/> titlePanel(“About”),<br/> “Created with R Shiny”,<br/> br(),<br/> “2021 April”<br/>)</span></pre><p id="fc74" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="ol">(注意:您可以在页面本身和导航面板上使用不同的标题。)</em></p><p id="c1a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">分析页面将会更加精彩。首先，我们希望输入位于左侧的侧边栏中。然后，我们希望在右边有一个单独的绘图和表格区域。用闪亮的术语来说:我们的主页面，tabPanel将是一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/0.14/sidebarLayout.html" rel="noopener ugc nofollow" target="_blank"><strong class="la iu"/></a>侧栏布局，左边是一个【输入】<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/0.14/sidebarPanel.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">侧栏</strong> </a>，右边是一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/0.14/mainPanel.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">主面板</strong> </a>，它将采用一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/0.14/tabsetPanel.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> tabsetPanel </strong> </a>的形式，有两个<strong class="la iu">tab panel</strong>。呼。</p><p id="81d1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我觉得我没有理由总结这些是做什么的，如果你好奇可以看看链接，但是名字应该是不言自明的。</p><p id="2002" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是主页面的<strong class="la iu">框架:</strong></p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="fb5c" class="mz md it nx b gy oh oi l oj ok">main_page &lt;- tabPanel(<br/>  title = "Analysis",<br/>  titlePanel("Analysis"),<br/>  sidebarLayout(<br/>    sidebarPanel(<br/>      title = "Inputs"<br/>    ),<br/>    mainPanel(<br/>      tabsetPanel(<br/>        tabPanel(<br/>          title = "Plot"<br/>        ),<br/>        tabPanel(<br/>          title = "Statistics",<br/>        )<br/>      )<br/>    )<br/>  )<br/>)</span></pre><p id="bbfe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您现在运行该应用程序，您应该会看到以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/e1bc1c59400b75c2b8abe3035932ba69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vh39OUHEBrQiQ20o3bDnRA.png"/></div></div></figure><p id="9898" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="ol">(注:这是一个检查shiny用这些奇怪的构建模块做什么的好时机。如果您只需在控制台中键入脚本的main_page部分，您将看到shiny如何将其转换为HTML。)</em></p><h2 id="aadc" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">输入</h2><p id="27af" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">接下来，我们将使用不同的<strong class="la iu">用户输入表单</strong>来填充输入部分。文本或数字输入、滑块、下拉选择、单选按钮等。在闪亮的宇宙中被统称为<strong class="la iu">小部件</strong>。(这里可以找到综合列表<a class="ae lu" href="https://shiny.rstudio.com/gallery/widget-gallery.html" rel="noopener ugc nofollow" target="_blank">。)</a></p><p id="379e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每当你添加一个输入小部件时，第一个参数将是它的ID，这就是我们如何在后面的<code class="fe nu nv nw nx b">server</code>部分引用那个特定的输入。第二个参数是标签——放置在界面周围的文本字段，告知用户它的用途。</p><p id="790a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样，我们可以列出各个类型的详细信息，但大多数都很简单。我们将需要<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/latest/fileInput.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">文件输入</strong> </a>，<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/latest/selectInput.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">选择输入</strong> </a>，和一个<a class="ae lu" href="https://shiny.rstudio.com/articles/action-buttons.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">动作按钮</strong> </a>，有更多的细节在官方网站阅读。我们可以在main_page的“输入”侧栏面板中插入以下代码:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="e4cb" class="mz md it nx b gy oh oi l oj ok">fileInput("csv_input","Select CSV File to Import",accept=".csv"),<br/>selectInput("num_var_1","Numerical Variable 1",choices=c(not_sel)),<br/>selectInput("num_var_2","Numerical Variable 2",choices=c(not_sel)),<br/>selectInput("fact_var","Factor Variable",choices=c(not_sel)),<br/>actionButton("run_button","Run Analysis",icon=icon("play"))</span></pre><p id="9e5d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="ol">备注:</em></p><ul class=""><li id="8d00" class="nl nm it la b lb lc le lf lh nn ll no lp np lt nq nr ns nt bi translated">由逗号分隔的输入将被很好地排列在一起。</li><li id="6fe9" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated"><em class="ol">后面我们将这些输入称为</em><code class="fe nu nv nw nx b">input$csv_input</code><em class="ol"/><code class="fe nu nv nw nx b">input$num_var_1</code><em class="ol">等。</em></li><li id="651d" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated">在选择输入字段中，我认为以一个通知用户还没有选择任何东西的选择开始会很好。这就是为什么 <code class="fe nu nv nw nx b">not_sel</code> <em class="ol"> =“未选中”全局变量诞生了。</em></li><li id="4569" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated"><em class="ol">您可以从</em> <a class="ae lu" href="http://fontawesome.io/icons/" rel="noopener ugc nofollow" target="_blank"> <em class="ol">字体牛逼</em> </a> <em class="ol">和</em> <a class="ae lu" href="http://getbootstrap.com/components/#glyphicons" rel="noopener ugc nofollow" target="_blank"> <em class="ol">字形图标</em> </a> <em class="ol">库中添加一个</em> <a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/0.14/icon.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> <em class="ol">图标到页面中。你不需要为这个功能安装任何额外的东西。</em></strong></a></li></ul><p id="3e03" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您现在运行应用程序，您应该会看到以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/1963907b9c9b61545eef0d416755b7ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6MhqrvvTV3exgk6HSEpo9Q.png"/></div></div></figure><p id="63a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们剩下要做的就是决定输出要去哪里，这样我们就完成了UI。</p><h2 id="c652" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">输出</h2><p id="20b6" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">输出遵循与输入类似的逻辑。此时，我们所能确定的是:</p><ul class=""><li id="0100" class="nl nm it la b lb lc le lf lh nn ll no lp np lt nq nr ns nt bi translated">屏幕上的位置；</li><li id="7f14" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated">类型(shiny必须预先知道它将是文本、表格、情节等)；</li><li id="ca3f" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated">还有身份证。</li></ul><p id="9ad9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就像输入一样，我们可以简单地在<code class="fe nu nv nw nx b">main_page</code>的相应区域添加字段，shiny会智能地填充可用空间。</p><p id="5f75" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在绘图选项卡上，我们想要添加的只是一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/1.6.0/plotOutput.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">绘图输出</strong> </a>:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="62ac" class="mz md it nx b gy oh oi l oj ok">plotOutput(“plot_1”)</span></pre><p id="6ccd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">统计选项卡将变得更加复杂。我们将利用<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/1.6.0/fluidPage.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> fluidRow </strong> </a>功能来<strong class="la iu">将不同的项目并排放置</strong>。<em class="ol">(注意到目前为止每个逗号是如何导致下一行呈现在第一行下面的。我们希望避免我们将要创建的小表出现这种情况，将它们放在一起。)</em></p><p id="14b6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是更新后的统计选项卡面板:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="d2db" class="mz md it nx b gy oh oi l oj ok">tabPanel(<br/>  title = "Statistics",<br/>  fluidRow(<br/>    column(width = 4, strong(textOutput("num_var_1_title"))),<br/>    column(width = 4, strong(textOutput("num_var_2_title"))),<br/>    column(width = 4, strong(textOutput("fact_var_title")))<br/>  ),<br/>  fluidRow(<br/>    column(width = 4, tableOutput("num_var_1_summary_table")),<br/>    column(width = 4, tableOutput("num_var_2_summary_table")),<br/>    column(width = 4, tableOutput("fact_var_summary_table"))<br/>  ),<br/>  fluidRow(<br/>    column(strong("Combined Statistics"))<br/>  ),<br/>  fluidRow(<br/>    column(tableOutput("combined_summary_table"))<br/>  )</span></pre><p id="06d2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第一行，我们将有三个标题，代表三个可选变量。这需要是一个<code class="fe nu nv nw nx b">output</code>，因为它会随着我们选择不同的列而动态变化。</p><p id="3b7b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们放入三个一维汇总表。我们还不用担心它们是什么，我们只知道标题下面会有表格。</p><p id="e8be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们放入一个合并的汇总表，探索所选变量之间的关系。</p><p id="42d7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="ol">备注:</em></p><ul class=""><li id="b5e7" class="nl nm it la b lb lc le lf lh nn ll no lp np lt nq nr ns nt bi translated"><em class="ol">各列的宽度参数显示它们的相对尺寸，遵循</em> <a class="ae lu" href="https://getbootstrap.com/docs/4.0/layout/grid/" rel="noopener ugc nofollow" target="_blank"> <em class="ol">自举网格系统</em> </a> <em class="ol">。(Shiny用的是同样的框架。)</em></li><li id="9191" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated"><em class="ol">将文本放在</em> <code class="fe nu nv nw nx b">strong()</code> <em class="ol">中使其加粗。</em></li></ul><p id="4647" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">好了，输出已经放好了。如果你现在运行应用程序，你会看到…自上次以来没有任何变化。是时候连接输入和输出了！</p><h2 id="29c0" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">Shiny中反应式编程的快速总结</h2><p id="9c6b" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在我们开始构建我们的应用程序之前，我认为让<strong class="la iu">快速总结一下</strong> <a class="ae lu" href="https://en.wikipedia.org/wiki/Reactive_programming" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">反应式编程</strong> </a>在Shiny中的体现是有益的。如需更详细的指南，请查看本页。</p><p id="066c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">服务器函数基本上将是一长串连接输入和输出的表达式</strong>。有趣的是，这些表达式的顺序通常并不重要，尽管您可能希望保留一些逻辑。</p><p id="cca6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">屏幕上显示的大多数输出最终将来自一个<code class="fe nu nv nw nx b">render</code>函数。对于文本输出使用renderText，对于绘图输出使用renderPlot，等等。所使用的渲染函数的类型将取决于输出的类型。例如，如果您在ui中定义了一个ID为“book”的textOutput，并希望在那里显示文本“Dune ”,您可以这样做:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="aed7" class="mz md it nx b gy oh oi l oj ok">output$book &lt;- renderText(“Dune”)</span></pre><p id="106d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">观察你需要如何渲染文本“沙丘”,即使它看起来已经很有纹理了！</p><p id="1044" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，您可能希望保持输出的动态性——否则，您可以只在页面上打印标题。</p><p id="68af" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下一步是将它连接到一个<code class="fe nu nv nw nx b">input</code>。假设您有一个ID为“title”的textInput字段。如果您添加以下行:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="3042" class="mz md it nx b gy oh oi l oj ok">output$book &lt;- renderText(input$title)</span></pre><p id="2fba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每当您更新title字段时，图书输出也会更新。</p><p id="478d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这就是整个系统的美妙之处，如果用户更新了<code class="fe nu nv nw nx b">title</code>字段，你不必确定会发生什么——你已经建立了连接，而<code class="fe nu nv nw nx b">book</code>输出会像老鹰一样监视任何变化。</p><p id="15c4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下一步，你可以创建<strong class="la iu">所谓的反应表达式</strong>:这是输入和输出之间的一种<strong class="la iu">中间步骤。例如，如果要保存两个数字输入的总和，可以将它们保存在一个变量中:</strong></p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="a6a7" class="mz md it nx b gy oh oi l oj ok">sum_of_numbers &lt;- reactive(input$num_1 + input$num_2)</span></pre><p id="dbfe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后像输入一样使用<code class="fe nu nv nw nx b">sum_of_numbers</code>。注意，<code class="fe nu nv nw nx b">sum_of_numbers</code>是一个函数，所以当你在代码中引用它的值时，你必须在它后面加上括号(这肯定是一个容易忘记的事情):</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="a4b9" class="mz md it nx b gy oh oi l oj ok">output$sum &lt;- renderText(sum_of_numbers())</span></pre><p id="667d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这种来自输出部分的持续警惕起初听起来很棒，但是您很快就会意识到缺点:<strong class="la iu">有些情况下，您肯定不希望每次输入改变时都更新输出字段</strong>。这可以通过一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/1.6.0/observeEvent.html" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">event reactive</strong></a>函数来实现，该函数是一个带有额外输入的反应式表达式:它只在所选输入字段的值发生变化时运行。</p><p id="6d78" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这可能一开始听起来令人困惑，但一旦我们看到实际步骤，就会变得清晰得多。</p><p id="5bc0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还有一个格式化注意事项:在<code class="fe nu nv nw nx b">server</code>函数中，大多数表达式遵循以下格式:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="9136" class="mz md it nx b gy oh oi l oj ok">variable_to_create &lt;- some_reactive_function({ <br/>    code_to_execute<br/>})</span></pre><p id="aa73" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(整个服务器功能也是如此。)花括号只是允许您将代码放在多行中。如果你能把代码放在一行中，你可以省略它们。</p><h2 id="7a68" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">导入。csv文件</h2><p id="9d7f" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">好了，现在我们知道了这个理论，让我们开始迂回地应用它！</p><p id="916c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">回想一下，我们有一个名为<code class="fe nu nv nw nx b">input$csv_input</code>的输入项。一旦被填充，这实际上是一个<code class="fe nu nv nw nx b">data.frame</code>，它的元素之一是<code class="fe nu nv nw nx b">datapath</code>。(查看<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/latest/fileInput.html" rel="noopener ugc nofollow" target="_blank">此处</a>了解更多信息。)<strong class="la iu">一旦我们知道了文件的路径，我们就可以把它读入</strong> <code class="fe nu nv nw nx b">data.table</code>，就像我们通常用<code class="fe nu nv nw nx b">fread</code>读入文件一样。</p><p id="93f7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，我们还需要一种配料。如果我们只是试图加载输入字段中的任何内容，应用程序将会试图加载一个空文件并立即崩溃。为了防止这种情况，我们需要添加一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/latest/fileInput.html" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">req</strong></a>condition:Shiny确保我们确实有必要的输入的方法。</p><p id="0a92" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，这将是我们在服务器函数中的第一块:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="dcde" class="mz md it nx b gy oh oi l oj ok">data_input &lt;- reactive({<br/>    req(input$csv_input)<br/>    fread(input$csv_input$datapath)<br/>  })</span></pre><p id="6b2d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，每当我们上传一个<code class="fe nu nv nw nx b">.csv</code>文件，app就会自动将其结果保存在名为<code class="fe nu nv nw nx b">data_input</code>的<code class="fe nu nv nw nx b">data.table</code>中。嗯，不完全是。更准确地说，我们有一个<code class="fe nu nv nw nx b">data_input</code>函数，它返回一个<code class="fe nu nv nw nx b">data.table</code>。(这个非常容易搞砸！)</p><p id="f2a0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="ol">(注意:我还没有对数据类型进行任何验证。如果你试图导入任何不是. csv文件的东西，这个应用程序就会毫不客气地死机。请看这里的</em><a class="ae lu" href="https://mastering-shiny.org/action-transfer.html" rel="noopener ugc nofollow" target="_blank"><em class="ol"/></a><em class="ol">了解更多关于如何确保它是一个. csv文件的信息。)</em></p><h2 id="640e" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">基于导入的更新</h2><p id="e859" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们有了数据，我们想用它做什么？</p><p id="e593" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为第一步，我们希望<strong class="la iu">更新输入部分</strong>中的选择—到目前为止，唯一的选项是“未选择”。</p><p id="85b6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将使用两个新概念:</p><ul class=""><li id="15a6" class="nl nm it la b lb lc le lf lh nn ll no lp np lt nq nr ns nt bi translated">整件事将被包裹在一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/1.0.3/observeEvent.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">观察事件</strong> </a>中。该函数允许您在特定输入字段或反应表达式发生变化时执行一段代码。我们现在要注意的是<code class="fe nu nv nw nx b">data_input</code>反应表达式。</li><li id="2049" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated">为了动态改变选择，我们使用<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/1.2.0/updateSelectInput.html" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">updateSelectInput</strong></a>。顾名思义，这个函数接受一个选择输入字段，并对它进行更新，在我们的例子中就是选择。</li></ul><p id="410d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还创建了一个变量<code class="fe nu nv nw nx b">choices</code>，它将是一个</p><ul class=""><li id="5e63" class="nl nm it la b lb lc le lf lh nn ll no lp np lt nq nr ns nt bi translated">“未被选中”，我们总是希望在顶部，</li><li id="b09d" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated">和<code class="fe nu nv nw nx b">data.table</code>中的列。</li></ul><p id="885e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要在服务器功能中输入的相关代码:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="8571" class="mz md it nx b gy oh oi l oj ok">observeEvent(data_input(),{<br/>  choices &lt;- c(not_sel,names(data_input()))<br/>  updateSelectInput(inputId = “num_var_1”, choices = choices)<br/>  updateSelectInput(inputId = “num_var_2”, choices = choices)<br/>  updateSelectInput(inputId = “fact_var”, choices = choices)<br/>})</span></pre><p id="5a87" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="ol">(注意:我最初在这里使用了一个非常奇怪的解决方案来更新选择。在</em> <code class="fe nu nv nw nx b">ui</code> <em class="ol">中有一个选项可以添加输出字段，这些字段将在</em><a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/latest/renderUI.html" rel="noopener ugc nofollow" target="_blank"><strong class="la iu"><em class="ol">render ui</em></strong></a><em class="ol">函数的帮助下呈现为输入小部件。因此，您确定了ui部分中ui元素的位置，但是它是作为输出动态创建的。我发现这个解决方案令人困惑，也不太符合逻辑，因为布局和内容之间清晰明了的区别变得模糊了，但这是可能的。)</em></p><p id="9b56" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们现在应该看到导入一个<code class="fe nu nv nw nx b">.csv</code>文件的影响，一旦导入，您应该能够在下拉列表中选择列名:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/51649cbc28683f057624bbb034b16c33.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*Zb-S9oNSyoV1x-YEGHzN_g.png"/></div></figure><h2 id="7f3f" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">如果我们按下按钮呢？</h2><p id="a09f" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">既然我们可以选择要使用的列，那么就该将它们连接到输出了。</p><p id="f48a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们试着想象一下，当我们改变其中一个下拉选项时，我们想要看到什么。答案是:我们实际上不想看到任何变化。在我们完成选择之前看到剧情跳跃会很烦人。<strong class="la iu">我们需要在输入和输出之间设置一道屏障</strong>，这就是运行分析按钮的用途。</p><p id="23eb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将使用一个<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/1.0.3/observeEvent.html" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">event reactive</strong></a>表达式。它就像一个常规的反应表达式，但只根据另一个输入的变化进行更新。</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="8f56" class="mz md it nx b gy oh oi l oj ok">num_var_1 &lt;- eventReactive(input$run_button,input$num_var_1)<br/>num_var_2 &lt;- eventReactive(input$run_button,input$num_var_2)<br/>fact_var &lt;- eventReactive(input$run_button,input$fact_var)</span></pre><p id="67b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这样，我们创建了三个表达式，它们的名称与输入源的名称相同(这种命名约定您可能会觉得很讨厌，但我发现这样更简洁)。诀窍在于当<code class="fe nu nv nw nx b">run_button</code>输入发生变化时，<code class="fe nu nv nw nx b">num_var_1()</code>表达式只会将其值更新为最新的<code class="fe nu nv nw nx b">num_var_1</code>输入。</p><p id="18fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对一个按钮的改变将是10次点击中的10次。</p><p id="fe40" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="ol">(注意:这些值将是字符值，但是没有必要使用renderText，因为我们实际上并没有直接将它们放在屏幕上。)</em></p><h2 id="6ace" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">画出情节</h2><p id="63c0" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">首先，我们需要创建一个绘图对象。就像上面的变量一样，这将取决于按钮的点击。为什么我们不能仅仅依靠价值更新呢？我们将使用4个变量:data_input()，num_var_1()，num_var_2()，和fact_var()。问题是data_input()不受按钮点击的保护，每当我们选择一个新文件时，值就会更新。</p><p id="5280" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这就是我们将要拥有的:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="16e6" class="mz md it nx b gy oh oi l oj ok">plot_1 &lt;- eventReactive(input$run_button,{<br/>    draw_plot_1(data_input(), num_var_1(), num_var_2(), fact_var())<br/>  })</span></pre><p id="7fdb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">其中<code class="fe nu nv nw nx b">draw_plot_1</code>是一个常规的R函数，它可以在<code class="fe nu nv nw nx b">server</code>函数之外定义。完整版的<code class="fe nu nv nw nx b">draw_plot_1</code>功能，<strong class="la iu">看看我的</strong> <a class="ae lu" href="https://github.com/MatePocs/rshiny_apps/blob/main/data_analyser/app.R" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> GitHub </strong> </a>。我越想聪明地一个块一个块地构建<code class="fe nu nv nw nx b">ggplot</code>，代码就越不可读，所以我坚持使用一个冗长的if-else语句。该函数是这样开始的:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="1e74" class="mz md it nx b gy oh oi l oj ok">draw_plot_1 &lt;- function(data_input, num_var_1, num_var_2, fact_var){<br/>  if(num_var_1 != not_sel &amp; <br/>     num_var_2 != not_sel &amp; <br/>     fact_var != not_sel){<br/>     ggplot(data = data_input, <br/>        aes_string(x = num_var_1,y = num_var_2,color = fact_var)) +<br/>        geom_point()<br/>    }</span></pre><p id="c8fc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以该函数有三个输入，一个<code class="fe nu nv nw nx b">data.table</code>(注意它不再是<code class="fe nu nv nw nx b">draw_plot_1</code>函数内部的函数，而是一个真正的常规表，所以不需要使用括号！)，以及三个列名，其中任何一个都可以“未选中”，在这种情况下应该忽略。</p><p id="1f21" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面显示的第一个分支中，使用了所有的变量。在这种情况下，我们需要一个散点图，其中两个轴是两个数值变量，它们被因子变量分成不同的组。</p><p id="52d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，你可以根据自己的目的改变这些情节。</p><p id="2c8c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们必须呈现服务器函数内部的情节:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="9130" class="mz md it nx b gy oh oi l oj ok">output$plot_1 &lt;- renderPlot(plot_1())</span></pre><p id="3794" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您现在运行代码，您应该能够根据您选择的变量看到绘图的更新。如果这三个变量都被选择，你应该有一个彩色散点图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/6444f7bda7e30a258b8e51aae394b252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72svsJItSF6wWQ5SkQxEQA.png"/></div></div></figure><p id="0272" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(并不是说你会想用颜色来描绘这么多的因素！)</p><p id="79fc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你只有一个数值变量，它应该画一个小提琴图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/84ab0263cf0a52c417b87c8e25f97485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*daxAwXXR9-n4i01fWI21Nw.png"/></div></div></figure><h2 id="08b6" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">创建表格</h2><p id="3bdc" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们创建表格的方式将使用类似的逻辑。</p><p id="83f9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">回想一下，我们为前三个表添加了一些<strong class="la iu">标题。我们可以这样定义它们的值:</strong></p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="f7da" class="mz md it nx b gy oh oi l oj ok">output$num_var_1_title &lt;- <br/>  renderText(paste("Num Var 1:",num_var_1()))<br/>output$num_var_2_title &lt;- <br/>  renderText(paste("Num Var 2:",num_var_2()))<br/>output$fact_var_title &lt;- <br/>  renderText(paste("Factor Var:",fact_var()))</span></pre><p id="c0e6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不需要将这些放在eventReactive中，并使更新以动作按钮为条件，因为底层变量已经只在点击动作按钮时更新。重申一下，例如，我们在上面的公式中使用的<code class="fe nu nv nw nx b">num_var_1()</code>表达式是这样的:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="9755" class="mz md it nx b gy oh oi l oj ok">num_var_1 &lt;- eventReactive(input$run_button,input$num_var_1)</span></pre><p id="8808" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">而不是<code class="fe nu nv nw nx b">input$num_var_1</code>本身。</p><p id="e1aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你现在运行这个应用程序，<strong class="la iu">你应该会看到标题</strong>(回想一下我们在创建UI时把“组合统计”作为一个固定文本放进去):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/3a6a4227770a81eb6f0df1632910e87a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xlrT6hkRW9gy6XjItA8gTw.png"/></div></div></figure><p id="784d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们有四个表要创建，让我们看看<strong class="la iu">一维数值表</strong>是如何创建的，其余的遵循类似的结构，<strong class="la iu">查看</strong> <a class="ae lu" href="https://github.com/MatePocs/rshiny_apps/blob/main/data_analyser/app.R" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> GitHub </strong> </a>中的代码。</p><p id="7a0e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们使用另一个eventReactive表达式，每当单击action按钮时运行一个函数:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="31a1" class="mz md it nx b gy oh oi l oj ok">num_var_1_summary_table &lt;- eventReactive(input$run_button,{<br/>    create_num_var_table(data_input(), num_var_1())<br/>  })</span></pre><p id="f8a7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们定义<code class="fe nu nv nw nx b">create_num_var_table</code>函数:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="62bb" class="mz md it nx b gy oh oi l oj ok">create_num_var_table &lt;- function(data_input, num_var){<br/> if(num_var != not_sel){<br/>  col &lt;- data_input[,get(num_var)]<br/>  if(length(col)&gt;5000) col_norm&lt;-sample(col,5000) else col_norm&lt;-col<br/>  norm_test &lt;- shapiro.test(col_norm)<br/>  statistic &lt;- c("mean", "median", "5th percentile", <br/>                 "95th percentile", "Shapiro statistic", <br/>                 "Shapiro p-value")<br/>  value &lt;- c(round(mean(col),2), round(median(col),2),<br/>             round(quantile(col, 0.05),2), <br/>             round(quantile(col, 0.95),2),<br/>             norm_test$statistic, norm_test$p.value)<br/>  data.table(statistic, value)<br/>  }<br/>}</span></pre><p id="e41e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">结果将是一个包含两列统计和值的<code class="fe nu nv nw nx b">data.table</code>。我只是放了一些我能想到的统计数据，还有一个正态性测试，加上你喜欢的任何东西。</p><p id="02b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="ol">(注意:内置的正态性测试有5000个样本大小的限制，所以如果导入的</em> <code class="fe nu nv nw nx b">.csv</code> <em class="ol">文件比较长，我会随机抽取一个样本。)</em></p><p id="6ae4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们将表格呈现在屏幕上:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="8106" class="mz md it nx b gy oh oi l oj ok">output$num_var_1_summary_table &lt;- renderTable(num_var_1_summary_table(),colnames = FALSE)</span></pre><p id="1a8c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我不想显示表格的标题，这可以在<code class="fe nu nv nw nx b">colnames</code>参数中设置。</p><p id="2cc0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于其他表，您需要遵循类似的结构。在组合表中，就像我们对图所做的那样，根据我们选择的变量类型，有不同的分支。如果我们选择了所有三个变量，表格将通过因子变量计算不同子组中两个数值变量之间的相关性。</p><p id="973c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不用说，这只是一种方法，一旦结构完成，您可以在这些表中放入任何您想要的东西。</p><p id="aacd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您运行该应用程序，<strong class="la iu">您应该会看到以下内容</strong>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/454bf080a4c3c2906773df4f56cae41d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SbJEAJyj_zXK4GvNwu8CCg.png"/></div></div></figure><p id="3ee7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们结束了，对吗？差不多！</p><h2 id="6953" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">选择一个主题</h2><p id="99d9" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">正如永恒的建议所说，永远不要拖欠任何东西！</p><p id="f279" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以我们打算<strong class="la iu">改变默认主题</strong>。有几种方法可以做到这一点，包括使用自己的CSS模板，我们将采取一种非常简单的方法，使用<a class="ae lu" href="https://rstudio.github.io/shinythemes/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> shinythemes </strong> </a>。你需要先安装软件包。然后，你需要做的就是选择一个主题，然后<strong class="la iu">把它放到ui对象</strong>中，就像这样:</p><pre class="kj kk kl km gt od nx oe of aw og bi"><span id="beee" class="mz md it nx b gy oh oi l oj ok">theme = shinytheme('united')</span></pre><p id="59ad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">瞧，我们可以看到同一个屏幕，但现在是橙色的(或者你选择的任何东西):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/9c787272a865930dca4149fee641bf4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZVHHT69kk3bQFoUaRUp52w.png"/></div></div></figure><p id="a1bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们完成了！</p><h2 id="6605" class="mz md it bd me na nb dn mi nc nd dp mm lh ne nf mo ll ng nh mq lp ni nj ms nk bi translated">附加注释</h2><p id="1a3d" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">本指南比我预期的要长得多，有一些细微差别我觉得我不应该提及，但为了完整起见，它们在这里:</p><ul class=""><li id="3404" class="nl nm it la b lb lc le lf lh nn ll no lp np lt nq nr ns nt bi translated">默认情况下，您可以上传的最大文件大小为5 MB。您可以通过在服务器函数中输入以下代码来增加该值:<br/> <code class="fe nu nv nw nx b">options(shiny.maxRequestSize=10*1024^2)<br/></code>(这将是10 MB)</li><li id="1307" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated">如果您想使用数字字段作为因子，R将生成绘图，但会添加一个连续的色标。在<code class="fe nu nv nw nx b">draw_plot</code>函数中，我从这段代码开始将列转换为因子:<br/> <code class="fe nu nv nw nx b"> if(fact_var!=not_sel){<br/> data_input[,(fact_var):= as.factor(data_input[,get(fact_var)])]<br/> }</code></li><li id="bd21" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt nq nr ns nt bi translated">您可能已经注意到，对于同一个按钮点击，我们使用了很多eventReactive。将所有东西收集在一个<code class="fe nu nv nw nx b">data.frame</code>中可能比将它们放在单独的事件中更好。并且绘图和表格绘制函数也使用eventReactive，即使大多数变量已经在内部“eventReactivated”了。我这样做的原因是因为每次导入新的<code class="fe nu nv nw nx b">.csv</code>文件时<code class="fe nu nv nw nx b">data_input()</code>都会更新。相反，添加另一个<code class="fe nu nv nw nx b">data_input_2()</code>变量可能会更清楚，当您单击按钮时，它会根据<code class="fe nu nv nw nx b">data_input()</code>进行更新，然后在常规反应表达式中使用该函数以及<code class="fe nu nv nw nx b">num_var_1()</code>等。这只是一个例子，说明这种反应式编程可能非常动态，但同时也令人困惑。</li></ul><h1 id="983e" class="mc md it bd me mf ov mh mi mj ow ml mm jz ox ka mo kc oy kd mq kf oz kg ms mt bi translated">App怎么运行？</h1><p id="b954" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">当实际运行应用程序时，您有三种选择。</p><ol class=""><li id="84ba" class="nl nm it la b lb lc le lf lh nn ll no lp np lt pa nr ns nt bi translated">您可以在本地<strong class="la iu">运行它</strong>，例如点击RStudio 中的<strong class="la iu">运行应用程序按钮。你也可以用<a class="ae lu" href="https://shiny.rstudio.com/reference/shiny/1.6.0/runApp.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> runApp </strong> </a>函数在不打开脚本本身的情况下运行。</strong></li><li id="a4d0" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt pa nr ns nt bi translated">第二个选项是<a class="ae lu" href="https://www.rstudio.com/products/shiny/shiny-server/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">闪亮服务器</strong> </a>，用它你可以把它托管在自己的服务器上。我对这个选项没有经验。</li><li id="01e4" class="nl nm it la b lb ny le nz lh oa ll ob lp oc lt pa nr ns nt bi translated">或者可以用<a class="ae lu" href="https://www.shinyapps.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> shinyapps.io </strong> </a>，也就是云服务。</li></ol><p id="16f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我用shinyapps.io来托管这个应用程序，你可以在这里查看<a class="ae lu" href="https://matepocs.shinyapps.io/data_analyser/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="0eb3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用shinyapps.io非常简单，你注册，创建一个帐户，获得一个令牌，用它你可以发布你的应用程序。一个免费的帐户，你可以获得5个应用程序和每月25个活跃用户小时。</p><div class="pb pc gp gr pd pe"><a href="https://matepocs.medium.com/membership" rel="noopener follow" target="_blank"><div class="pf ab fo"><div class="pg ab ph cl cj pi"><h2 class="bd iu gy z fp pj fr fs pk fu fw is bi translated">加入我的推荐链接-伴侣概念</h2><div class="pl l"><h3 class="bd b gy z fp pj fr fs pk fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pm l"><p class="bd b dl z fp pj fr fs pk fu fw dk translated">matepocs.medium.com</p></div></div><div class="pn l"><div class="po l pp pq pr pn ps ks pe"/></div></div></a></div><h1 id="83ba" class="mc md it bd me mf ov mh mi mj ow ml mm jz ox ka mo kc oy kd mq kf oz kg ms mt bi translated">其他有用的链接</h1><p id="9a58" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">再一次，我推荐你掌握哈德利·威克姆的《闪亮》,如果你想以一种好的、有条理的方式学习《闪亮》:</p><div class="pb pc gp gr pd pe"><a href="https://mastering-shiny.org/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="pf ab fo"><div class="pg ab ph cl cj pi"><h2 class="bd iu gy z fp pj fr fs pk fu fw is bi translated">掌握闪亮</h2><div class="pl l"><h3 class="bd b gy z fp pj fr fs pk fu fw dk translated">这是《掌握闪亮》的在线版本，这本书目前正处于早期开发阶段，计划于2020年底出版…</h3></div><div class="pm l"><p class="bd b dl z fp pj fr fs pk fu fw dk translated">mastering-shiny.org</p></div></div></div></a></div><p id="0bb8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在这里找到一些有用的备忘单:</p><div class="pb pc gp gr pd pe"><a href="https://www.rstudio.com/resources/cheatsheets/" rel="noopener  ugc nofollow" target="_blank"><div class="pf ab fo"><div class="pg ab ph cl cj pi"><h2 class="bd iu gy z fp pj fr fs pk fu fw is bi translated">RStudio备忘单</h2><div class="pl l"><h3 class="bd b gy z fp pj fr fs pk fu fw dk translated">面向数据科学的开源企业级专业软件</h3></div><div class="pm l"><p class="bd b dl z fp pj fr fs pk fu fw dk translated">www.rstudio.com</p></div></div><div class="pn l"><div class="pt l pp pq pr pn ps ks pe"/></div></div></a></div><p id="a002" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个GitHub repo，其中有一个R包列表，增强了Shiny的默认功能:</p><div class="pb pc gp gr pd pe"><a href="https://github.com/nanxstats/awesome-shiny-extensions" rel="noopener  ugc nofollow" target="_blank"><div class="pf ab fo"><div class="pg ab ph cl cj pi"><h2 class="bd iu gy z fp pj fr fs pk fu fw is bi translated">nangstats/awesome-shiny-扩展</h2><div class="pl l"><h3 class="bd b gy z fp pj fr fs pk fu fw dk translated">一个令人敬畏的R包的精选列表，为R web framework Shiny提供了扩展的UI或服务器组件。你的…</h3></div><div class="pm l"><p class="bd b dl z fp pj fr fs pk fu fw dk translated">github.com</p></div></div><div class="pn l"><div class="pu l pp pq pr pn ps ks pe"/></div></div></a></div></div></div>    
</body>
</html>