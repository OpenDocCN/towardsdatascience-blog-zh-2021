<html>
<head>
<title>Data Densification in Tableau</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tableau中的数据加密</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-densification-in-tableau-93c0a6bfcc5f?source=collection_archive---------19-----------------------#2021-07-23">https://towardsdatascience.com/data-densification-in-tableau-93c0a6bfcc5f?source=collection_archive---------19-----------------------#2021-07-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="af3a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">理解Tableau中的数据加密所需的一切</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e2d37370b7946126973ddeb7e069a224.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vVxFaem_plmxOKZ-"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">索尔·梅尔卡多在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="e5fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">先说几个重要的问题。</p><h2 id="b830" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">为什么我需要知道Tableau中的数据加密？</strong></h2><p id="bfa9" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">好吧，如果你曾经建立一个仪表板，你想显示任何类型的曲线路径，像地图上的飞行路径，桑基图，径向图等。你需要数据加密。</p><p id="a67e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Tableau不支持任何类型的现成曲线图表。因此，我们使用数据加密来构建它们。</p><h2 id="32f8" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">什么是数据增密？</h2><p id="6166" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">数据增密基本上是一种对数据集进行增密的技术，或者更简单地说，是增加数据集中的观察次数。</p><p id="f7da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们举个例子。假设，我们的数据集中有两个点，如下图所示，我们想用这些点构建一条弧线。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/dc063b8aabe206f59b956bf76381c8b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*eOQhXLKEqlp6948fE0D7AA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">数据集(作者提供的图片)</p></figure><p id="0421" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们拖动列和行货架上的X和Y，并将它们更改为尺寸。我们只得到两分。如果不添加更多的点，Tableau无法绘制圆弧。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/7512537328093c73a775d0d56af76b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*slubBCByASkQhN27uoEH0A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用Tableau绘制数据集(图片由作者提供)</p></figure><h2 id="663b" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">如何增加数据集的密度？</h2><p id="017b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">本质上，我们将在同一个excel表中创建另一个选项卡(我们将它用作数据源)并添加这些额外的点。它应该看起来像这样。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/2b7c564a55c8c6c77dfff2b580063269.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/format:webp/1*lddc81Z7DYwu0rSZWwMe8Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">数据加密的额外加分(图片由作者提供)</p></figure><p id="3841" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们将用两个数据点在这个工作表和原始数据集之间进行交叉连接。<em class="mt">交叉连接或笛卡尔连接基本上是将第一个表的每一行与第二个表的每一行结合起来的连接。</em> Tableau默认不支持交叉连接。因此，我们通过使用一个带有内部连接的公共关键字来欺骗Tableau。这个关键字可以是任何内容。我用了“十字架”这个词。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/a355b7a3fa8e12ea24600e85109dcee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l9xp03EoadK-aoyRVNFIxw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Tableau中的交叉连接(图片由作者提供)</p></figure><p id="db9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这一步之后，我们将看到10倍于原始数量的观察结果(在本例中为20)。我们已成功加密数据集。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/81d1c73b8f56293688f256afa20b25fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*S840dZXwNA4rPnKq_KLuxg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">增密数据集(按作者分类的图像)</p></figure><h2 id="a0a5" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">如何使用数据加密绘制曲线图表？</h2><p id="56fe" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在尝试创建弧之前，让我们尝试使用这些点绘制一条增密的直线。对于制作直线，我们<strong class="ky ir"> <em class="mt">不需要</em> </strong> <em class="mt"> </em>增密数据，但是为了更好地理解这个概念，我们将首先从增密直线开始。</p><blockquote class="mw mx my"><p id="5639" class="kw kx mt ky b kz la jr lb lc ld ju le mz lg lh li na lk ll lm nb lo lp lq lr ij bi translated">O <!-- -->你的目标是画出10个均匀分布的点，并用它们画一条线。</p></blockquote><p id="fea3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，要在这条线上添加这些点，我们需要两样东西-</p><ul class=""><li id="bbfe" class="nc nd iq ky b kz la lc ld lf ne lj nf ln ng lr nh ni nj nk bi translated">两个连续点之间的距离</li><li id="7e63" class="nc nd iq ky b kz nl lc nm lf nn lj no ln np lr nh ni nj nk bi translated">他们的坐标，以便他们可以被标绘</li></ul><h2 id="6797" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">间隔</h2><p id="8b9b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">想想你如何将一根12英寸长的棍子分成两部分。你可能会先将长度分成两半(6英寸)，然后从两端开始将它折断6英寸长。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/f5fd1b475177a12338bb8e70875f979d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mLebxb52kU5bznSM"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Bartosz Kwitkowski 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="eef6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用相同的原理，通过n个等距点分割该线，我们得到该线的长度并除以(n-1)。</p><p id="417a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，间距应该是—</p><blockquote class="nr"><p id="116d" class="ns nt iq bd nu nv nw nx ny nz oa lr dk">(3–1)/(10–1) = 0.222</p></blockquote><h2 id="68b7" class="ls lt iq bd lu lv ob dn lx ly oc dp ma lf od mc md lj oe mf mg ln of mi mj mk bi translated">这10个点的坐标</h2><p id="01ad" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">既然知道了起点(1，1)的坐标，就可以用间距来计算所有多余点的x坐标。</p><p id="8a3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦我们得到了x坐标(1，1.22，1.44，1.66，1.88 …)，我们需要用公式将它映射到额外的点，这样我们就可以在计算的字段中使用它，而不是硬编码。</p><p id="da5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">x =(额外点+I)*间距</p><p id="74ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">其中I = x/间距-额外点</p><p id="e3ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">I =(1/0.222)-1 = 3.5</p><p id="47d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分1 = (1+3.5)*0.222 = 1</p><p id="e116" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分2= (2+3.5)*0.222 = 1.22</p><p id="42a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分3= (3+3.5)*0.222 = 1.44</p><p id="ceeb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分4= (4+3.5)*0.222 = 1.66</p><p id="8df5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分5= (5+3.5)*0.222 = 1.88</p><p id="7661" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分6= (6+3.5)*0.222 = 2.10</p><p id="8b7b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分7= (7+3.5)*0.222 = 2.32</p><p id="cc65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分8= (8+3.5)*0.222 = 2.54</p><p id="676b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分9= (9+3.5)*0.222 = 2.76</p><p id="0bd6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加分10= (10+3.5)*0.222 = 2.98</p><p id="8730" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，我们正在画的这条线的方程是y=1x+0。所以，基本上y=x。</p><h2 id="2cff" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">表格计算</h2><p id="e081" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">首先，我们计算间距，然后用它计算x和y坐标。</p><div class="kg kh ki kj gt ab cb"><figure class="og kk oh oi oj ok ol paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/90c360462633ff3e5cf6d155c0bfffce.png" data-original-src="https://miro.medium.com/v2/resize:fit:718/format:webp/1*thvQGU7xuBxGGbFqCog5qA.png"/></div></figure><figure class="og kk om oi oj ok ol paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/0e49943a231e7459d861f61f78230547.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*o4T2hT2fmvbg4ikuPoQ02A.png"/></div></figure><figure class="og kk on oi oj ok ol paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/1557486aa69bf5966f23244c1a199899.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*BXC0gyIGMs9e1w970_sriA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk oo di op oq translated">Tableau计算字段(图片由作者提供)</p></figure></div><p id="9441" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果是相同的直线上有更多的点。</p><div class="kg kh ki kj gt ab cb"><figure class="og kk or oi oj ok ol paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/02e3eb62c565c60e5f6c03cc3c692cda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*ryekuFcn9ygzzbP_pcddGw.png"/></div></figure><figure class="og kk os oi oj ok ol paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/fd64da20b50eb6500664e30f5aa41dd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*f_Kbe4HjPIT0lQGC6MG5jQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk ot di ou oq translated">数据加密前后(图片由作者提供)</p></figure></div><p id="5250" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们用同样的方法画一个圆弧。为此我们将使用三次方程-</p><blockquote class="nr"><p id="35db" class="ns nt iq bd nu nv nw nx ny nz oa lr dk translated">y=x</p></blockquote><p id="09bd" class="pw-post-body-paragraph kw kx iq ky b kz ov jr lb lc ow ju le lf ox lh li lj oy ll lm ln oz lp lq lr ij bi translated">由于方程不再是线性的，我们需要根据上面的方程改变y坐标。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/eec255bebc117a1a511ddf2e660d0a12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ICmQc0F5z0abEys-KxvbEQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Tableau计算字段(图片由作者提供)</p></figure><p id="58b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将增密的X坐标和新的Y坐标拖动到列和行架上，并将其更改为尺寸。我们在这里。我们的电弧准备好了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/b5739a3bb3b8f572e950e05268003aa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2vL0_GM7nYvoRfp1xSFGhg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">最终曲线图表(图片由作者提供)</p></figure><p id="ebb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你想在Tableau中构建一个弯曲的图表时，它基本上是在连续的点之间画线。因此，点数越多，曲线看起来就越平滑。</p><p id="e72f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管曲线看起来几乎很平滑，但您可以尝试添加更多额外的点来平滑曲线。</p></div><div class="ab cl pc pd hu pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="ij ik il im in"><p id="be1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据加密是一种重要的数据可视化技术。还有其他方法来增加数据集的密度，但我觉得本文中探讨的方法最简单，并且适用于小型数据集。应该谨慎使用它，尤其是当您有一个包含数百万行的庞大数据集时。</p><p id="efef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于这个话题的更多信息，你可以参考这篇<a class="ae kv" href="https://www.flerlagetwins.com/2019/05/intro-to-data-densification.html" rel="noopener ugc nofollow" target="_blank">博客文章</a>，其中KEN FLERLAGE对此做了更详细的描述。</p><div class="pj pk gp gr pl pm"><a href="https://www.flerlagetwins.com/2019/05/intro-to-data-densification.html" rel="noopener  ugc nofollow" target="_blank"><div class="pn ab fo"><div class="po ab pp cl cj pq"><h2 class="bd ir gy z fp pr fr fs ps fu fw ip bi translated">数据增密简介</h2><div class="pt l"><h3 class="bd b gy z fp pr fr fs ps fu fw dk translated">数据加密是Tableau中常用的技术。许多人写了它，包括画面…</h3></div><div class="pu l"><p class="bd b dl z fp pr fr fs ps fu fw dk translated">www.flerlagetwins.com</p></div></div><div class="pv l"><div class="pw l px py pz pv qa kp pm"/></div></div></a></div><p id="d9f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>