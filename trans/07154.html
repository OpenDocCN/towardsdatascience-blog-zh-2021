<html>
<head>
<title>R vs a Ducati. Which is faster?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">r对一辆杜卡迪。哪个更快？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/r-vs-a-ducati-which-is-faster-3797c9a306c6?source=collection_archive---------46-----------------------#2021-06-28">https://towardsdatascience.com/r-vs-a-ducati-which-is-faster-3797c9a306c6?source=collection_archive---------46-----------------------#2021-06-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6c63" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用R和传单绘制亨利·克鲁斯打破世界纪录的环球航行的美丽地图，只用了8行代码！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0b69e2dbb169a444cff50c8c5526e1c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kVGOLSjYH_8q-go4VV0cDw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者。我对杜卡迪扰频器的解读。</p></figure><h1 id="e78f" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">准备好来一次狂野之旅吧</h1><p id="32a9" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">2019年，亨利·克鲁成为骑摩托车环游世界的最年轻的人。在一年的漫长旅程中，他骑着杜卡迪沙漠雪橇行走了55，000英里。</p><p id="cc88" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">亨利的旅程始于英国伦敦的自行车棚俱乐部。从这里，他骑行穿过欧洲、俄罗斯、中东和东南亚。然后一架飞机向下(并穿过)澳大利亚。最后他飞到了南美洲，一路骑到了美国的东海岸。最终他回到了伦敦！</p><p id="c80e" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我知道你很想跳上你的摩托车，把所有的烦恼抛到九霄云外，跟随着亨利的脚步。但是…</p><ol class=""><li id="1f2d" class="mo mp iq lp b lq mj lt mk lw mq ma mr me ms mi mt mu mv mw bi translated">生活似乎成了阻碍</li><li id="e9ab" class="mo mp iq lp b lq mx lt my lw mz ma na me nb mi mt mu mv mw bi translated">所有这些数据都不会流向科学本身</li></ol><p id="21b2" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">为什么我们不试着通过R的视角来体验亨利的冒险呢？所以，拉起离合器，换到第一档，踩下油门，抓紧，因为我们出发了！</p><h1 id="05b2" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">获取数据</h1><p id="9373" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">要在地图上绘制点，您需要点。我知道，神魂颠倒。</p><p id="d404" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">这些分数没有我想象的那么容易获得。据我所知，没有一个地方简明地展示了亨利的环球旅行。那么当数据不存在的时候我们该怎么办呢？我们要不要继续做其他项目，让果实挂在藤蔓上更低的地方，触手可及？或者也许我们应该撇撇嘴，把拳头举到空中，诅咒这一天已经明确抛弃我们的数据之神？</p><p id="6936" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">那鸿我们只是制作自己的数据。</p><p id="45c4" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">根据亨利的博客，我能够非常准确地把英国和印度联系起来。然而，他的博客在他的旅程进行到一半时就结束了，所以在旅行的剩余时间里，我从他的一些采访中收集了一些关于哪些国家先于其他国家的逻辑。下载我生成的数据<a class="ae nc" href="https://github.com/KendonDarlington/WorldCircumnavigation/blob/main/WorldCircumnavigation/Henry%20Crews%20Journey%20-%20Geo.csv" rel="noopener ugc nofollow" target="_blank">这里</a>！</p><p id="fabd" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">也就是说，我们离英国越远，我就越有可能错过一两步。但是我们并没有在火星上发射火箭，所以让我们顺其自然吧！</p><p id="d35e" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">首先，我将展示我用R绘制的地图，然后我将展示产生这些地图的8行代码。</p><h1 id="6c0b" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">欧亚大陆</h1><p id="2bc1" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">欧洲到俄罗斯</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/9da4f8d8249e36230654ef878ee2a210.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EuV_kgOGh0S1iQVsbjOr1A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者。</p></figure><p id="0e8e" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">俄罗斯到缅甸</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/798f170ae5529316ef0e1bec4eb542cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XfeU-U6Rxtwc7_IWc0rRVg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者。</p></figure><p id="844a" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">缅甸到澳大利亚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/88ea41192999d95bd6ba05c929915d61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XYtKb-ZsdtcBkvfkMaxIyg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者。</p></figure><h1 id="1fd0" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">美洲</h1><p id="26f4" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">智利到哥伦比亚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/4c096884d8d0263188840732d3e3cb94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*muo0-l5-b9MWe0gv9Qlpsw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者。</p></figure><p id="444f" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">哥伦比亚到伯利兹</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/edab9951711230021dcf85af681355e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1qTzuvJ-a9BdwHgDGETv_A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者。</p></figure><p id="a78b" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">伯利兹到美国，然后回到英国</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/10cb736a4492cefa6ca79025b6988d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Clg4YMA47jrBUrUUOfwmw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者。</p></figure><h1 id="7bf6" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">r和传单</h1><p id="f572" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">传单是一个用r语言创建地图的极好的库。只需几行代码，你就可以创建漂亮的地图。首先，你将需要<a class="ae nc" href="https://github.com/KendonDarlington/WorldCircumnavigation/blob/main/WorldCircumnavigation/Henry%20Crews%20Journey%20-%20Geo.csv" rel="noopener ugc nofollow" target="_blank">从这里</a>抓取数据。</p><p id="5f4b" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">当在R中工作时，我更喜欢创建一个R项目，这样我就可以对我所有的代码使用相对路径。或者，您可以从上面的链接下载csv文件，并将“dfGeo”的路径更改为您保存文件的位置。代码如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="7b76" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我们从使用传单和tidyverse包装开始。如果您还没有这些软件，请安装它们:</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="7ec5" class="nn kw iq nj b gy no np l nq nr">install.packages("leaflet")<br/>install.packages("tidyverse")</span></pre><p id="625f" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">然后，我们将csv导入tibble(数据帧的tidyverses版本)</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="9649" class="nn kw iq nj b gy no np l nq nr">dfGeo &lt;- read_csv('Henry Crews Journey - Geo.csv')</span></pre><p id="6828" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">如果您想查看我们的数据，请在控制台中键入“dfGeo ”:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/4931074862bb8cb8d82f82e552f45f98.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*6fpZwNd_Q7-VaMwkfg8d6g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="1a5b" class="nn kw iq nj b gy no np l nq nr">leaflet(data = dfGeo) %&gt;%<br/>  addTiles() %&gt;%</span></pre><p id="a3e5" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">这将调用传单库并传递dfGeo作为数据源。添加图块只会生成一张空白地图。</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="f044" class="nn kw iq nj b gy no np l nq nr">addMarkers(lng=~Long, lat=~Lat, label=~Label, labelOptions = labelOptions(noHide = T,  direction = "bottom",textsize = "17px")) %&gt;%</span></pre><p id="faa9" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">添加标记在地图上标出我们的点。查看上面的数据(dfGeo)，您可以使用波形符调用小叶参数内的列(aka ~Long是“Long”列)。Label是我们数据集中的国家名称。</p><p id="78f4" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">LabelOptions只是让文本稍微大一点，默认显示标签。否则，您必须单击标记来显示标签。方向只是说把标签放在标记的底部，而不是顶部或左侧等。</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="2280" class="nn kw iq nj b gy no np l nq nr">addProviderTiles(providers$Stamen.Watercolor) %&gt;%</span></pre><p id="ed86" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">这将贴图设置为雄蕊。水彩地图，如果你问我，它看起来很酷。如果你不喜欢老式的水彩画，你可以在这里使用更多的地图模板。</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="608e" class="nn kw iq nj b gy no np l nq nr">addPolylines(data = dfGeo, lng = ~Long, lat = ~Lat, group = ~Label, color = 'red', dashArray = '10,20')</span></pre><p id="c3dc" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">最后，我们添加连接每个标记的线条。它们也是基于纬度和经度的，因为我是按顺序将数据放入csv的，所以一切正常。dasharrray只是把线设置成虚线，而且相当大。</p><p id="de64" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">仅此而已。您可以从github下载完整的R项目，其中包括代码和csv文件。你只需运行项目，它将全部工作！</p><p id="5b53" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated"><a class="ae nc" href="https://github.com/KendonDarlington/WorldCircumnavigation" rel="noopener ugc nofollow" target="_blank">在GitHub上下载完整的项目！</a></p></div></div>    
</body>
</html>