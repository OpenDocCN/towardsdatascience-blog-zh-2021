<html>
<head>
<title>Genetic Algorithm Robot: Evolving Altitude, using Python, C++ and an Arduino.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">遗传算法机器人:进化高度，使用Python，C++和Arduino。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/genetic-algorithm-robot-evolving-altitude-using-python-c-and-an-arduino-1acf4cf98d63?source=collection_archive---------28-----------------------#2021-05-07">https://towardsdatascience.com/genetic-algorithm-robot-evolving-altitude-using-python-c-and-an-arduino-1acf4cf98d63?source=collection_archive---------28-----------------------#2021-05-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bcc2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用遗传算法代替预定的数学模型设计飞行控制系统。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/49d21661fe6f33082b72b753a82c027d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hxAxTn1aCzaFFb4UQ-C-9g.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用于测试进化高度机器人的三个机器人中的两个。作者图片</p></figure><h1 id="ba57" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">摘要:</h1><p id="43c8" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">这项研究的目的是设计一个飞行控制系统，没有预先确定的数学模型，而是使用遗传算法来保持最佳高度。本研究是通过定量的实证研究方法完成的。在进行研究的过程中，我们发现对新手用户来说，编写遗传算法程序是很麻烦的。因此，我们创建并发布了一个名为<a class="ae mj" href="https://github.com/danielwilczak101/EasyGA" rel="noopener ugc nofollow" target="_blank"> EasyGA </a>的开源Python包。</p><p id="ef62" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">在一次试验中使用15条染色体的初始群体，每条染色体10个基因，共100代。装置的节流值具有1秒的相关基因值。每个机器人至少进行30次试验，以显示研究中的统计显著性。当试验完成后，机器学习就实现了。结果表明，在不使用预先确定的数学模型的情况下，实时优化单自由度(DOF)设备是可能的。</p><h1 id="5a82" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">工作原理:</h1><p id="fd5d" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">为了运行该实验成功所需的遗传算法，需要Arduino Uno、Python、电子鸭式风扇(EDF)、电子速度控制器(ESC)、超声波测距模块(USRM)和笔记本电脑。</p><p id="74ab" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated"><strong class="lp ir"> Ardunio Uno: </strong>是一款开源的微控制器板。这种微控制器板带有数字和模拟引脚。这些针有不同的用途。一些引脚用于向其他设备发送3.3V和5V电源，其他引脚用作输入和输出引脚，向其他设备发送脉宽调制(PWM)信号。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/c12568756a83c294f411b7b5760edf43.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*YnDmku6sDr76pU7cisgxIA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">进化高度机器人布线图。作者图片</p></figure><p id="d669" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">在本实验中，数字引脚9、10和11将用于发送PWM信号和接收来自超声波测距模块的传感信息。数字引脚9 (TRIG)用于信号输出，引脚10 (ECHO)用于信号输入，引脚11用于向ESC发送PWM信号。</p><p id="95c9" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated"><strong class="lp ir"> Arduino C++: </strong>写在Arduino上的代码以节流值的形式接收来自python脚本的指示。Arduino然后执行这些指令，同时从USRM读取高度，并使用串行通信将它们传输回python。</p><p id="da27" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">Python:  Python被用作处理遗传算法的主要语言，同时也向Arduino发送指示。</p><p id="e3fa" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated"><strong class="lp ir"> SQL数据库:</strong>Sqlite3数据库用于存储来自机器人和遗传算法的所有运行和配置数据。它还用于查找趋势和查询数据。</p><p id="2cb4" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated"><strong class="lp ir">一个DOF装置:</strong>该装置由一个EDF风扇、USRM、一个碳纤维管、各种配线和三个3D打印部件组成:中间连接器和平台。该设备的平台被设计为在功能上与EDF运行所需的所有部件和零件一起工作。法国电力要求将120毫米x 20mm毫米的碳纤维管直接连接到风扇。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/8ee6d494285907740d763930c2679bbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQgCoV8X9Pp5GiWbrFYkSg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">进化中的高空机器人所有主要部件的标签图像。作者图片</p></figure><p id="e2ff" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">中间连接器被设计得比平台更宽。连接器比平台宽，因此超声波测距模块有足够大的空间来精确测量模块到设备的距离。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/f6d594919bf4812952b3e1e5af10f7f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*khDiziarXaztD2FHJAn9Zg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">显示从超声波测距模块(USRM)到中间连接器的距离为6厘米。作者图片</p></figure><p id="b546" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">高频超声波信号从模块发送到中间连接器，并作为声纳返回到模块，使其能够计算距离。</p><h2 id="4f69" class="ms kw iq bd kx mt mu dn lb mv mw dp lf lw mx my lh ma mz na lj me nb nc ll nd bi translated">机器人健身功能:</h2><p id="5410" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">适应度函数决定了染色体在特定任务中的表现。为了测试这项研究中的适应度函数，染色体被编码为throttle值，解析为一个字符串，并串行发送到Arduino Uno。Arduino Uno运行编码的染色体，并将适应性数据发送回Python脚本。Python脚本随后对数据进行评估。这项研究的适应度函数是看机器人的EDF能在USRM上方6厘米的位置保持多好。在体能评估期间，总分是根据它与6厘米的总距离计算的。目标是使整体适应度为0。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/deffabaeb4d7cd8ccc8a30a7bf291ca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pDqllCgehIoFHXcW"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">机器人适应度函数的图形表示。线代表期望的适合度。作者图片</p></figure><p id="87ef" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">在这里，您可以找到适应度函数的图形表示和用于评估染色体的代码。</p><p id="1f42" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated"><strong class="lp ir">代码视图:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用于评估机器人运行适应性的代码。</p></figure><h2 id="75ef" class="ms kw iq bd kx mt mu dn lb mv mw dp lf lw mx my lh ma mz na lj me nb nc ll nd bi translated">遗传算法设置:</h2><p id="f24c" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">该研究具有6个⁰可能的染色体组合或配置的搜索空间。使用遗传算法允许在搜索空间中快速搜索相对较好的解决方案。该解决方案可能是众多最佳解决方案中的一个，也可能是一个在对研究加以限制的情况下被认为适用的解决方案。</p><p id="2938" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">在研究过程中，人们发现，对遗传算法应该如何构造的任何清晰的解释或任何好的工具也有助于存储、跟踪和理解完成这样一项研究所需的信息。这个团队由5个人组成，花了一年时间为Arduino和EasyGA python包本身创建串行通信结构。</p><p id="b7f8" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">对于机器人，团队决定使用EasyGA的默认配置设置，因为它处理所有的超级参数。这是一个目标，以尽量减少机器人的错误，最终成为一行代码。python代码可以在下面找到，更详细的列表可以在<a class="ae mj" href="https://github.com/danielwilczak101/Evolving-altitude-robot" rel="noopener ugc nofollow" target="_blank">进化高度机器人Github </a>上找到。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">测试进化机器人时的EasyGA配置设置。</p></figure><p id="7f5c" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">完整的代码通常是不共享的，但是我们认为在使用EasyGA python包时有必要展示简单性。</p><p id="2dff" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated"><strong class="lp ir">完整Python代码:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="8c7e" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">结果:</h1><p id="6024" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">对于这项研究，目标是证明只需要一个遗传算法来优化一个单自由度机器人。不仅证明了这是可能的，该团队还希望确保可以通过使用多个机器人来完成这项工作。研究中使用了三个机器人，数据显示它们都能够学习。</p><p id="7060" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">每台机器人都经过了至少30次试验，每次试验都证明它们之间的机械差异仍然来自遗传算法的机器学习的相同结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/b1a2f94fb260c7b7562f5a025a03ca0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yP2Nre2k3vDNT9jIt_3Wzg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用于寻找机器学习结果的三个机器人。从左到右——凯尔、杰夫和琳达。作者图片</p></figure><p id="82a5" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">这些机器人都被造得一模一样，但通过潜在的机械差异，它们都有一点点不同。在值的变化中看到的差异将成为每个机器人的接近最优的解决方案。</p><p id="3140" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">试验:<strong class="lp ir">种群规模</strong> = 15，<strong class="lp ir">染色体长度</strong> = 10，<strong class="lp ir">世代</strong> = 100</p><div class="kg kh ki kj gt ab cb"><figure class="nh kk ni nj nk nl nm paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/6c42b19634a89e9913b10c861dbe0c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*3KPeV5-kMOEQ36u7KzDDnQ.png"/></div></figure><figure class="nh kk ni nj nk nl nm paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/d4320b83a12124b97edb811abfaa4b3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*19SOQbl6fwZgSdkP4XwQEQ.png"/></div></figure></div><div class="ab cb"><figure class="nh kk nn nj nk nl nm paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/4f301f3af8713a3147bf43de05913b81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*T1HdJQIcsWkZbJtCGC1djA.png"/></div></figure><figure class="nh kk no nj nk nl nm paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/4527b1bb48ea4d01da77d19412ea3877.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*-xL-PIwpMGbnXfxEXFAUyQ.png"/></div></figure></div><div class="ab cb"><figure class="nh kk ni nj nk nl nm paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/5c5a66cceba90de183615f500d805689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*7gCgwk3ZHvZJWhvC8TIezQ.png"/></div></figure><figure class="nh kk ni nj nk nl nm paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/85fafeab1ce349b5cf8591360f391c2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ZDHS4NBPa0AmoNy0zCMFYg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk np di nq nr translated"><strong class="bd ns">左:</strong>所有试验最低染色体的平均值。<strong class="bd ns">右:</strong>所有试验中最低的染色体。作者提供的图片</p></figure></div><h1 id="0881" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">讨论:</h1><p id="f71f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">回想起来，测试所有可能的染色体组合是非常耗时的。一种更好的方法可能是结合模拟试验，然后进行实际测试和优化。这种双向方法既有在模拟中运行初始代的好处，在模拟中使用计算能力处理试验，随后是现实生活中的试验和培训，以进一步优化系统。</p><h1 id="ab32" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">贡献:</h1><p id="1d53" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我想感谢所有帮助过这个项目的人。以下个人都对研究产生了影响。</p><ul class=""><li id="172f" class="nt nu iq lp b lq mk lt ml lw nv ma nw me nx mi ny nz oa ob bi translated">Dylan Ballback凭借他惊人的机械工程设计技能。</li><li id="5f1d" class="nt nu iq lp b lq oc lt od lw oe ma of me og mi ny nz oa ob bi translated">雷切尔·塞科德审阅并帮助撰写了所有内容。</li><li id="c433" class="nt nu iq lp b lq oc lt od lw oe ma of me og mi ny nz oa ob bi translated">Jack Nguyen与我和其他4名学生共同创建了EasyGA。</li><li id="23e6" class="nt nu iq lp b lq oc lt od lw oe ma of me og mi ny nz oa ob bi translated">Mohammad Alali 编写C++代码和starter GA代码。</li><li id="deca" class="nt nu iq lp b lq oc lt od lw oe ma of me og mi ny nz oa ob bi translated">雅各布·罗密欧(Jacob Romeo)帮着查阅文献和操作机器人。</li><li id="caea" class="nt nu iq lp b lq oc lt od lw oe ma of me og mi ny nz oa ob bi translated">Matthew Verleger博士是该研究项目的导师。</li><li id="fdaa" class="nt nu iq lp b lq oc lt od lw oe ma of me og mi ny nz oa ob bi translated"><strong class="lp ir"> Embry Riddle本科生研究</strong> Ignite计划赞助该研究。</li></ul><p id="a823" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">更多的人间接地帮助了这个项目，但是我仍然想对他们说谢谢。</p><p id="6631" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">感谢您的阅读，</p><p id="5eb9" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">丹尼尔·威尔扎克</p></div></div>    
</body>
</html>