<html>
<head>
<title>Explaining Every Line of vim-sensible</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解释vim-sensible的每一行</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/explaining-every-line-of-vim-sensible-b776affec51a?source=collection_archive---------7-----------------------#2021-03-26">https://towardsdatascience.com/explaining-every-line-of-vim-sensible-b776affec51a?source=collection_archive---------7-----------------------#2021-03-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="5bfc" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">学习机</h2><div class=""/><div class=""><h2 id="9896" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">因为并非所有明智的Vim对你来说都是明智的</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/7d654fed998c4ce20301d49885644f3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5HiUoUdw_8flAjyH"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@mihaiteslariu0?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">特斯拉留·米海</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="2ea5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated">以下是你点击这个故事的三个可能原因。首先，它作为一个推荐故事出现在你的屏幕上。你不是在用Vim，而是对Vim和懂事的Vim很好奇。</p><p id="5565" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">第二个原因，你已经痴迷于Vim很多年了，你想，“我已经知道里面所有的行，但是这是一篇关于Vim的文章，所以我还是要读它。”</p><p id="586c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，你和我处于学习Vim的相同阶段，你已经搜索了Sensible的注释版本，但是还没有找到。</p><p id="c4ad" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，我们需要理解Vimrc文件。Vimrc文件是Vim的配置文件，允许您定制Vim、安装插件等等。它通常在<code class="fe mn mo mp mq b">~/.vimrc</code>中找到，但是如果它不在那里，你可以创建它。对于Windows，您可以在这里找到关于查找vimrc文件的更多信息。</p><div class="mr ms gp gr mt mu"><a href="https://vim.fandom.com/wiki/Open_vimrc_file" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jd gy z fp mz fr fs na fu fw jc bi translated">打开vimrc文件</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">1什么是vimrc？2每个目录的vimrc 3位置vimrc 4打开vimrc 4.1来源vimrc 4.2从…恢复</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">vim.fandom.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni lb mu"/></div></div></a></div><p id="fe84" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我在寻找一个vimrc文件，其中充满了有用的缺省值，作为我未来的vimrc的基础。首先，我想分享我在多个帖子和讨论中发现的一个反复出现的答案。引用道格·布莱克的文章，</p><blockquote class="nj"><p id="c5bb" class="nk nl it bd nm nn no np nq nr ns md dk translated">不要在你的vimrc中放任何你不理解的行。</p></blockquote><p id="fd4d" class="pw-post-body-paragraph li lj it lk b ll nt kd ln lo nu kg lq lr nv lt lu lv nw lx ly lz nx mb mc md im bi translated">我认为这是一个非常合理的建议。程序员不会在他们的代码中添加任何额外或不必要的行。vimrc文件也应该如此。</p><p id="00c6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在我的搜索过程中，我偶然发现了Reddit上的这篇文章，它指出Sensible是vimrc文件的一个很好的起点。</p><div class="mr ms gp gr mt mu"><a href="https://github.com/tpope/vim-sensible" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jd gy z fp mz fr fs na fu fw jc bi translated">t ope/vim-可感知</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">可以把sensible.vim看作是“不兼容”模式之上的一个步骤:一组通用的默认设置，希望每个人都可以…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">github.com</p></div></div><div class="nd l"><div class="ny l nf ng nh nd ni lb mu"/></div></div></a></div><p id="8f87" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">与我得到的其他选择(范围从完全相同的Sensible到超过300行)相比，我决定更深入地研究这一点作为起点。</p><p id="7b32" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这是Sensible Vim的完整代码。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nz oa l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">tpope对vim敏感的代码</p></figure><p id="dd7c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有些最难理解的台词是有注释的，但是大部分根本没有任何解释。尽管这是可以理解的，但对于那些更熟悉Vim的人来说，在这些行上添加注释是没有意义的。</p><p id="f0cf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">也许对他们来说会是这个样子。</p><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="d503" class="of og it mq b gy oh oi l oj ok">if speed &gt; 80.0:        # checks if speed is more than 80.0<br/>    speeding = True     # set speeding flag to True<br/>    n_violation += 1    # add 1 to variable n_violation</span></pre><p id="ef2d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">无论如何，我不是Vim专家，所以我想用过度注释的版本来更好地理解这些行实际上做了什么。</p><p id="dc79" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这是我发现的，随意跳过一些琐碎的解释。</p><h1 id="f947" class="ol og it bd om on oo op oq or os ot ou ki ov kj ow kl ox km oy ko oz kp pa pb bi translated">逐行解释</h1><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="b2c9" class="of og it mq b gy oh oi l oj ok">if exists(‘g:loaded_sensible’) || &amp;compatible<br/>  finish<br/>else<br/>  let g:loaded_sensible = ‘yes’<br/>endif</span></pre><p id="68d6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">第一点是将vim变量<code class="fe mn mo mp mq b">loaded_sensible</code>设置为‘yes ’,大概是为了与其他插件兼容，这些插件检查是否使用了vim-sensible。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="2fb6" class="of og it mq b gy oh oi l oj ok">if has(‘autocmd’)<br/>  filetype plugin indent on<br/>endif</span></pre><p id="5923" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该行将检查<code class="fe mn mo mp mq b">autocmd</code>是否启用。大多数Vim都会附带，但是一些发行版比如<code class="fe mn mo mp mq b">vim-small</code>和<code class="fe mn mo mp mq b">vim-tiny</code>会默认不带<code class="fe mn mo mp mq b">autocmd</code>。</p><p id="e793" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这种情况下，需要检查<code class="fe mn mo mp mq b">autocmd</code>，因为<code class="fe mn mo mp mq b">filetype</code>检测系统需要它才能正常工作。</p><p id="2f94" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">filetype plugin indent on</code>是这些命令的简称。</p><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="d088" class="of og it mq b gy oh oi l oj ok">filetype on<br/>filetype plugin on<br/>filetype indent on</span></pre><p id="46ca" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">第一个命令打开Vim的文件类型检测，以帮助设置语法高亮显示和其他选项。<code class="fe mn mo mp mq b">plugin</code>部件将加载特定文件类型的插件，如果它们存在的话。最后一位将加载特定文件类型的缩进文件，如果它们也存在的话。</p><p id="bbb5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，如果你想只为Python语言激活某些插件，那么你可以创建一个文件<code class="fe mn mo mp mq b">~/.vim/ftplugin/python.vim</code>。将所有专门针对Python的插件和命令放在该文件中。</p><p id="11ba" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一个好的做法是在另一个文件中分离缩进配置(<code class="fe mn mo mp mq b">~/.vim/indent/python.vim</code>)。然而，我通常只是把缩进放在插件文件里。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="12dc" class="of og it mq b gy oh oi l oj ok">if has(‘syntax’) &amp;&amp; !exists(‘g:syntax_on’)<br/>  syntax enable<br/>endif</span></pre><p id="e500" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">与前面的<code class="fe mn mo mp mq b">if</code>命令相似，这个命令检查Vim是否用<code class="fe mn mo mp mq b">syntax</code>编译，以及全局变量<code class="fe mn mo mp mq b">syntax_on</code>是否已经存在。目标是避免多次打开<code class="fe mn mo mp mq b">syntax</code>(如果它已经启用)。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="0095" class="of og it mq b gy oh oi l oj ok">set autoindent</span></pre><p id="f36d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">autoindent</code>选项将在插入模式下创建新行时使用当前缩进，通过正常返回或<code class="fe mn mo mp mq b">o</code> / <code class="fe mn mo mp mq b">O</code>。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="8ff1" class="of og it mq b gy oh oi l oj ok">set backspace=indent,eol,start</span></pre><p id="93e9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果您使用Vim已经有一段时间了，您会注意到有时退格键在插入模式下不能正常工作。当您尝试在自动插入的缩进、换行符和插入开始处退格时，会发生这种情况。</p><p id="4c86" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">设置这些退格选项将使您能够以特定的顺序正常地对它们执行退格操作。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="b5e1" class="of og it mq b gy oh oi l oj ok">set complete-=i</span></pre><p id="022c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Vim中的<code class="fe mn mo mp mq b">-=</code>操作符意味着如果已经设置了选项，它将删除这些选项。在这种情况下，它将从autocomplete中删除<code class="fe mn mo mp mq b">i</code>选项。</p><p id="cb96" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">i</code>选项声明它将“扫描当前和包含的文件”，如果当前文件包含许多其他文件，这可能会影响自动完成的结果。因此，禁用该选项是有意义的。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="93b0" class="of og it mq b gy oh oi l oj ok">set smarttab</span></pre><p id="007a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">smarttab</code>将根据<code class="fe mn mo mp mq b">shiftwidth</code>、<code class="fe mn mo mp mq b">tabstop</code>或<code class="fe mn mo mp mq b">softtabstop</code>插入<code class="fe mn mo mp mq b">n</code>空白(如果它们被配置的话),并且还将删除行首的一个<code class="fe mn mo mp mq b">shiftwidth</code>空白，而不是默认的一个空白。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="68aa" class="of og it mq b gy oh oi l oj ok">set nrformats-=octal</span></pre><p id="92bd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">nrformats</code>是数字格式的缩写，有助于定义哪种格式将被视为Vim的数字。如果您键入<code class="fe mn mo mp mq b">13</code>，然后在正常模式下悬停在它上面并按Ctrl+A，那么它会将它递增到<code class="fe mn mo mp mq b">14</code>。或者可以用Ctrl+X递减到<code class="fe mn mo mp mq b">12</code>。</p><p id="125c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">由于使用基数8，<code class="fe mn mo mp mq b">octal</code>选项将导致<code class="fe mn mo mp mq b">007</code>增加到<code class="fe mn mo mp mq b">010</code>。在正常使用中，这不是预期的行为，因为没有多少人在日常工作中使用base 8。禁用后，<code class="fe mn mo mp mq b">007</code>将增加到<code class="fe mn mo mp mq b">008</code>。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="d3be" class="of og it mq b gy oh oi l oj ok">if !has(‘nvim’) &amp;&amp; &amp;ttimeoutlen == -1<br/>  set ttimeout<br/>  set ttimeoutlen=100<br/>endif</span></pre><p id="fadc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">nvim</code>变量用于检查您运行的是NeoVim还是普通Vim。<code class="fe mn mo mp mq b">ttimeoutlen</code>设置Escape、Ctrl、Shift等组合键的超时时间。默认情况下，<code class="fe mn mo mp mq b">ttimeoutlen</code>的值是-1，它将被改为100，但这一行将其显式设置。</p><p id="ec9c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">ttimeoutlen</code>有什么用？假设您为Cmd+Shift+Up设置了一个映射。该命令的关键代码是<code class="fe mn mo mp mq b">^[[1;6A</code>。另一方面，Esc的关键代码是<code class="fe mn mo mp mq b">^[</code>。如果将<code class="fe mn mo mp mq b">ttimeoutlen</code>设置为5000，则每次按下Esc键，都会等待5秒钟，然后才会注册Esc命令。这是因为Vim认为您有可能在5秒钟窗口内按下其余的按键代码。</p><p id="9fdf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">可能有一种情况是将<code class="fe mn mo mp mq b">ttimeoutlen</code>设置得更长是有用的，但是就我个人而言，我没有发现它们对我的用例有用。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="41c1" class="of og it mq b gy oh oi l oj ok">set incsearch</span></pre><p id="e44e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">增量搜索或<code class="fe mn mo mp mq b">incsearch</code>允许Vim在您键入搜索关键字时直接进入下一个匹配结果。如果没有这个设置，您需要按Enter键让Vim转到搜索结果。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="b5f2" class="of og it mq b gy oh oi l oj ok">“ Use &lt;C-L&gt; to clear the highlighting of :set hlsearch.</span><span id="ccd7" class="of og it mq b gy pj oi l oj ok">if maparg(‘&lt;C-L&gt;’, ’n’) ==# ‘’<br/> nnoremap &lt;silent&gt; &lt;C-L&gt; <br/>:nohlsearch&lt;C-R&gt;=has(‘diff’)?’&lt;Bar&gt;diffupdate’:’’&lt;CR&gt;&lt;CR&gt;&lt;C-L&gt;<br/>endif</span></pre><p id="8a4b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">谢天谢地，这段代码附有解释，因为我肯定要花相当长时间才能弄明白它的意思。如果您启用了<code class="fe mn mo mp mq b">hlsearch</code>，那么按Ctrl+L将会清除高亮显示，因为它不会自己消失。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="477a" class="of og it mq b gy oh oi l oj ok">set laststatus=2</span></pre><p id="a106" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">laststatus</code>的默认值是1，这意味着只有当有2个或更多的Vim窗口打开时，Vim的状态栏才会显示。通过将值设置为2，现在状态栏将一直存在，即使你只打开1个Vim窗口。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="ebdc" class="of og it mq b gy oh oi l oj ok">set ruler</span></pre><p id="9781" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">显示光标位置的行号和列号。有时候这有点多余，因为大多数状态栏插件都是内置的。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="b281" class="of og it mq b gy oh oi l oj ok">set wildmenu</span></pre><p id="12b3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当在命令行中调用自动完成时，打开<code class="fe mn mo mp mq b">wildmenu</code>会在命令行上方显示可能的完成。查看效果的最简单方法是在正常模式下键入<code class="fe mn mo mp mq b">:!</code>,然后按Tab键触发自动完成。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="617c" class="of og it mq b gy oh oi l oj ok">if !&amp;scrolloff<br/>  set scrolloff=1<br/>endif</span></pre><p id="a00a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">scrolloff</code>值确保你的光标上方和/或下方始终至少有n行。这一行检查您是否设置了<code class="fe mn mo mp mq b">scrolloff</code>值，如果没有，则将其设置为1。</p><p id="27e1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">scrolloff</code>的默认值是5，所以这个设置实际上将它减少到1。<br/>有些人将该值设置为一个非常大的数字(999 ),以使光标保持在屏幕中间，但我发现每当我创建一个新行时，屏幕就会刷新并移动一行，这有点令人迷惑。也就是说，我也将我的设置为1。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="8e5b" class="of og it mq b gy oh oi l oj ok">if !&amp;sidescrolloff<br/>  set sidescrolloff=5<br/>endif</span></pre><p id="b77c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果<code class="fe mn mo mp mq b">scrolloff</code>是上下两行，<code class="fe mn mo mp mq b">sidescrolloff</code>是光标左右两边的字符数。默认值为0。您也可以将此值设置为999，使光标保持在线的中间。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="a718" class="of og it mq b gy oh oi l oj ok">set display+=lastline</span></pre><p id="1b68" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你打开一个很长的文件，它不适合屏幕，Vim通常会用一串“@”来替换它。通过将其设置为<code class="fe mn mo mp mq b">lastline</code>，Vim将显示尽可能多的字符，然后在最后一列加上“@@@”。</p><p id="ea48" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该行使用<code class="fe mn mo mp mq b">+=</code>来避免覆盖已设置为<code class="fe mn mo mp mq b">truncate</code>的设置，这将在第一列显示“@@@”。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="43d2" class="of og it mq b gy oh oi l oj ok">if &amp;encoding ==# ‘latin1’ &amp;&amp; has(‘gui_running’)<br/>  set encoding=utf-8<br/>endif</span></pre><p id="d345" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">==#</code>操作符表示区分大小写的比较，与<code class="fe mn mo mp mq b">==</code>不同，因为它依赖于<code class="fe mn mo mp mq b">:set ignorecase</code>。如果Vim运行GUI，该行将把编码从<code class="fe mn mo mp mq b">latin1</code>改为<code class="fe mn mo mp mq b">utf-8</code>。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="cac7" class="of og it mq b gy oh oi l oj ok">if &amp;listchars ==# ‘eol:$’<br/> set listchars=tab:&gt;\ ,trail:-,extends:&gt;,precedes:&lt;,nbsp:+<br/>endif</span></pre><p id="f8ad" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">listchars</code>用于指定使用<code class="fe mn mo mp mq b">:list</code>命令时，特定字符的显示方式。默认值是<code class="fe mn mo mp mq b">'eol:$'</code>，所以如果您已经配置了自己的<code class="fe mn mo mp mq b">listchars</code>，这一行不会覆盖您的设置。</p><p id="a88d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">制表符将被替换为<code class="fe mn mo mp mq b">&gt;</code>，后跟数字<code class="fe mn mo mp mq b">\</code>，直到制表符结束。尾随空格将被替换为<code class="fe mn mo mp mq b">-</code>。如果当前行不适合显示在屏幕上，扩展字符<code class="fe mn mo mp mq b">&gt;</code>将显示在最后一列，前面的字符<code class="fe mn mo mp mq b">&lt;</code>将显示在第一列。最后，<code class="fe mn mo mp mq b">nbsp</code>代表不可破坏的空格字符，将被替换为<code class="fe mn mo mp mq b">+</code>。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="0658" class="of og it mq b gy oh oi l oj ok">if v:version &gt; 703 || v:version == 703 &amp;&amp; has(“patch541”)<br/>  set formatoptions+=j “ Delete comment character when joining commented lines<br/>endif</span></pre><p id="7faa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">还好这也是评论的台词。如果Vim版本比7.3或带有补丁541的7.3版本新，则为<code class="fe mn mo mp mq b">formatoptions</code>添加<code class="fe mn mo mp mq b">j</code>选项。</p><p id="c58c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当您连接注释行时，该行将删除注释字符(例如“#”、“//”)。Vim中<code class="fe mn mo mp mq b">formatoptions</code>的默认值是<code class="fe mn mo mp mq b">tcq</code>，但是这有点误导，因为它可能会根据打开的文件类型而改变。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="b831" class="of og it mq b gy oh oi l oj ok">if has(‘path_extra’)<br/>  setglobal tags-=./tags tags-=./tags; tags^=./tags;<br/>endif</span></pre><p id="f22c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">setglobal</code>命令与通常的<code class="fe mn mo mp mq b">set</code>命令有点不同。通过使用<code class="fe mn mo mp mq b">set</code>，我们设置了一个选项的局部和全局值，而<code class="fe mn mo mp mq b">setglobal</code>只设置了全局值。</p><p id="8ba6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">全局值是应用于所有Vim的默认值。局部值仅适用于当前窗口或缓冲区。</p><p id="361c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">tags</code>命令定义了tag命令的文件名。该行所做的是从当前的<code class="fe mn mo mp mq b">tags</code>中删除<code class="fe mn mo mp mq b">./tags</code>和<code class="fe mn mo mp mq b">./tags;</code>。<code class="fe mn mo mp mq b">^=</code>命令将值<code class="fe mn mo mp mq b">./tags;</code>添加到当前的<code class="fe mn mo mp mq b">tags</code>中。</p><p id="e3e8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，如果<code class="fe mn mo mp mq b">tags</code>的当前值是<code class="fe mn mo mp mq b">./a, ./b</code>并且我们执行了<code class="fe mn mo mp mq b">setglobal tags ^= ./tags;</code>，那么它将变成<code class="fe mn mo mp mq b">./tags;, ./a, ./b</code>。<code class="fe mn mo mp mq b">;</code>表示如果已经在<code class="fe mn mo mp mq b">./tags</code>中找到标记文件，Vim将停止查找。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="26dd" class="of og it mq b gy oh oi l oj ok">if &amp;shell =~# ‘fish$’ &amp;&amp; (v:version &lt; 704 || v:version == 704 &amp;&amp; !has(‘patch276’))<br/>  set shell=/usr/bin/env\ bash<br/>endif</span></pre><p id="cfbe" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">=~#</code>操作符意味着与正则表达式匹配，所以在这种情况下，它检查您是否正在使用<code class="fe mn mo mp mq b">fish</code> shell。Vim在<code class="fe mn mo mp mq b">fish</code>上运行时有一些已知的问题，主要是因为<code class="fe mn mo mp mq b">fish</code>不完全兼容POSIX。</p><div class="mr ms gp gr mt mu"><a href="https://stackoverflow.com/questions/48732986/why-how-fish-does-not-support-posix" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jd gy z fp mz fr fs na fu fw jc bi translated">fish为什么&amp;如何不支持POSIX？</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">感谢贡献一个堆栈溢出的答案！请务必回答问题。提供详细信息并分享…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">stackoverflow.com</p></div></div><div class="nd l"><div class="pk l nf ng nh nd ni lb mu"/></div></div></a></div><p id="780e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果您正在使用Vim的旧版本(比7.4版本更早)或者使用没有补丁276的7.4版本，这一行将把您的shell设置为<code class="fe mn mo mp mq b">bash</code>，以避免在运行一些不能用<code class="fe mn mo mp mq b">fish</code> shell执行的命令时出错。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="302d" class="of og it mq b gy oh oi l oj ok">set autoread</span></pre><p id="f546" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这将使Vim在检测到文件在Vim之外被更改时自动读取文件。但是，如果文件被删除，它将不会被重新读取，以保留删除前的内容。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="7224" class="of og it mq b gy oh oi l oj ok">if &amp;history &lt; 1000<br/>  set history=1000<br/>endif</span></pre><p id="6e7b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">将保留的历史数量设置为最小1000。默认情况下，Vim对于每种类型的历史只记住50。在Vim中有五种类型的历史。</p><ul class=""><li id="260f" class="pl pm it lk b ll lm lo lp lr pn lv po lz pp md pq pr ps pt bi translated"><code class="fe mn mo mp mq b">:</code>命令</li><li id="de36" class="pl pm it lk b ll pu lo pv lr pw lv px lz py md pq pr ps pt bi translated">搜索字符串</li><li id="3a0a" class="pl pm it lk b ll pu lo pv lr pw lv px lz py md pq pr ps pt bi translated">公式</li><li id="f19b" class="pl pm it lk b ll pu lo pv lr pw lv px lz py md pq pr ps pt bi translated">输入行(<code class="fe mn mo mp mq b">input()</code>功能)</li><li id="f5f6" class="pl pm it lk b ll pu lo pv lr pw lv px lz py md pq pr ps pt bi translated">调试模式命令</li></ul></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="1307" class="of og it mq b gy oh oi l oj ok">if &amp;tabpagemax &lt; 50<br/>  set tabpagemax=50<br/>endif</span></pre><p id="274f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">使用<code class="fe mn mo mp mq b">-p</code>命令行参数或<code class="fe mn mo mp mq b">:tab all</code>命令将打开的最大选项卡页数从默认值10设置为至少50。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="d726" class="of og it mq b gy oh oi l oj ok">if !empty(&amp;viminfo)<br/>  set viminfo^=!<br/>endif</span></pre><p id="a1d3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Viminfo是一个由Vim自动编写的文件，作为一种“缓存”来存储信息，比如命令行历史、搜索字符串历史、最后一次搜索模式、全局变量等。</p><p id="ba4f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这一行将在前面加上<code class="fe mn mo mp mq b">!</code>值，该值将保存和恢复以大写字母开头且没有任何小写字母的全局变量。</p><p id="df04" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">或者，如果您想在某种私有模式下运行Vim，您可以使用命令<code class="fe mn mo mp mq b">set viminfo=</code>禁用viminfo功能。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="81d3" class="of og it mq b gy oh oi l oj ok">set sessionoptions-=options</span></pre><p id="6d2d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当您使用<code class="fe mn mo mp mq b">:mksession</code>进行会话时，从<code class="fe mn mo mp mq b">sessionoptions</code>中删除<code class="fe mn mo mp mq b">options</code>值将禁止保存选项、映射和全局值。</p><p id="6134" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Tim Pope自己解释说，他禁用它是因为记住全局选项会覆盖对vimrc所做的更改，这是他不想要的。</p><div class="mr ms gp gr mt mu"><a href="https://github.com/tpope/vim-sensible/issues/117" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jd gy z fp mz fr fs na fu fw jc bi translated">为什么设置session options-= options Issue # 117 tpope/vim-sensible</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">github.com</p></div></div><div class="nd l"><div class="pz l nf ng nh nd ni lb mu"/></div></div></a></div></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="3045" class="of og it mq b gy oh oi l oj ok">set viewoptions-=options</span></pre><p id="ab6c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">与上一行类似，这一行在使用<code class="fe mn mo mp mq b">:mkview</code>制作视图时会禁用相同的东西。</p><p id="4552" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我对视图不太熟悉，但是这一页解释了为什么不使用这一行会导致Vim在加载保存的视图时跳转到不同的工作目录。</p><div class="mr ms gp gr mt mu"><a href="https://vim.fandom.com/wiki/Make_views_automatic" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jd gy z fp mz fr fs na fu fw jc bi translated">使视图自动化</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">当你关闭一个文件的时候，你可以使用:mkview来保存文件夹，但是你必须在下次使用…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">vim.fandom.com</p></div></div><div class="nd l"><div class="qa l nf ng nh nd ni lb mu"/></div></div></a></div></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="031b" class="of og it mq b gy oh oi l oj ok">“ Allow color schemes to do bright colors without forcing bold.</span><span id="2b62" class="of og it mq b gy pj oi l oj ok">if &amp;t_Co == 8 &amp;&amp; $TERM !~# ‘^Eterm’<br/>  set t_Co=16<br/>endif</span></pre><p id="aa45" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">t_Co</code>是终端使用的颜色数量。当当前颜色数量设置为8且当前终端不固定时，这将使颜色增加到16种。</p><p id="2ca1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">但是大多数现代终端不需要这个，因为通常默认设置为256。您可以通过键入<code class="fe mn mo mp mq b">:echo &amp;t_Co</code>来检查这一点。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="0755" class="of og it mq b gy oh oi l oj ok">“ Load matchit.vim, but only if the user hasn’t installed a newer version.</span><span id="bbcd" class="of og it mq b gy pj oi l oj ok">if !exists(‘g:loaded_matchit’) &amp;&amp; findfile(‘plugin/matchit.vim’, &amp;rtp) ==# ‘’<br/> runtime! macros/matchit.vim<br/>endif</span></pre><p id="3057" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">matchit</code>是一个Vim特性，它使我们能够在左括号和右括号、HTML标签等之间跳转。您可以尝试在正常模式下按下左括号顶部的<code class="fe mn mo mp mq b">%</code>，它会将您的光标移动到匹配的右括号。</p><p id="7f5e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果<code class="fe mn mo mp mq b">matchit</code>尚未启用或者现有的仍然是旧版本，该行将启用。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ob mq oc od aw oe bi"><span id="13f9" class="of og it mq b gy oh oi l oj ok">if empty(mapcheck(‘&lt;C-U&gt;’, ‘i’))<br/>  inoremap &lt;C-U&gt; &lt;C-G&gt;u&lt;C-U&gt;<br/>endif</span><span id="84fa" class="of og it mq b gy pj oi l oj ok">if empty(mapcheck(‘&lt;C-W&gt;’, ‘i’))<br/> inoremap &lt;C-W&gt; &lt;C-G&gt;u&lt;C-W&gt;<br/>endif</span></pre><p id="9cd6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mn mo mp mq b">mapcheck</code>命令检查您是否为特定模式下的特定键设置了自定义映射。在这种情况下，它会在为Ctrl+U和Ctrl+W创建新映射之前，检查您是否已在插入模式下映射了它们。</p><p id="a18e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这两行将防止意外删除，而不可能同时使用Ctrl+U和Ctrl+W进行撤销。通过在实际的Ctrl+U或Ctrl+W之前执行<code class="fe mn mo mp mq b">Ctrl+G u</code>，我们可以使用撤销操作(正常模式下的<code class="fe mn mo mp mq b">u</code>)恢复我们删除的文本，如果没有这些重新映射，这是不可能的。</p><div class="mr ms gp gr mt mu"><a href="https://vim.fandom.com/wiki/Recover_from_accidental_Ctrl-U" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jd gy z fp mz fr fs na fu fw jc bi translated">从意外Ctrl-U中恢复</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">您可能会意外丢失正在文本中键入的文本，并且无法使用“撤销”来恢复。这个小贴士可以让你…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">vim.fandom.com</p></div></div><div class="nd l"><div class="qb l nf ng nh nd ni lb mu"/></div></div></a></div></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><h1 id="a953" class="ol og it bd om on qc op oq or qd ot ou ki qe kj ow kl qf km oy ko qg kp pa pb bi translated">最后的想法</h1><p id="c3d1" class="pw-post-body-paragraph li lj it lk b ll qh kd ln lo qi kg lq lr qj lt lu lv qk lx ly lz ql mb mc md im bi translated">在理解，或者至少试图理解所有这些行之后，我决定不把Sensible作为插件安装，而是偷一些有用的行。</p><p id="7bcb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我最喜欢的一个是与<code class="fe mn mo mp mq b">set hlsearch</code>配对的<code class="fe mn mo mp mq b">set incsearch</code>,它支持渐进式搜索，也可以渐进式地突出显示搜索结果。</p><p id="da8b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有一些我省略了，比如如果使用fish shell，将shell设置为bash，因为我自己也在使用zsh shell。</p><div class="mr ms gp gr mt mu"><a rel="noopener follow" target="_blank" href="/maybe-its-time-to-upgrade-your-terminal-experience-a9e12b2af77"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jd gy z fp mz fr fs na fu fw jc bi translated">也许是时候升级你的终端体验了</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">默认的MacOS终端不适合你，也不适合任何人。</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">towardsdatascience.com</p></div></div><div class="nd l"><div class="qm l nf ng nh nd ni lb mu"/></div></div></a></div><p id="eedc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，我开始寻找构建vimrc的最佳文件。在搜索过程中，我发现很多其他人也在搜索同样的东西。然而，在对Vim配置有了基本的了解之后，我决定从头开始构建一个，因为我使用Vim不仅是为了编码，也是为了写作。</p><p id="be16" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果任何解释是错误的或不够清楚，请随时发表评论给予纠正或要求澄清任何行。</p><p id="b97d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后一个提示，如果您不确定一行代码的作用，您可以通过键入<code class="fe mn mo mp mq b">:h 'commandname'</code>来搜索Vim的手册，以显示特定命令的帮助。了解这些命令在vimrc文件中的作用和效果是一个很好的实践。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><p id="4157" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="qn">学习机是一系列关于我所学到的，并且认为足够有趣可以分享的事情的故事。有时也是关于机器学习的基础。</em> <a class="ae lh" href="https://chandraseta.medium.com/subscribe" rel="noopener"> <em class="qn">获得定期更新</em> </a> <em class="qn">上新故事和</em> <a class="ae lh" href="https://chandraseta.medium.com/membership" rel="noopener"> <em class="qn">成为中等会员</em> </a> <em class="qn">阅读无限故事。</em></p><div class="mr ms gp gr mt mu"><a href="https://chandraseta.medium.com/membership" rel="noopener follow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jd gy z fp mz fr fs na fu fw jc bi translated">成为媒体成员—里奥纳尔迪·钱德拉塞塔</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">chandraseta.medium.com</p></div></div><div class="nd l"><div class="qo l nf ng nh nd ni lb mu"/></div></div></a></div></div></div>    
</body>
</html>