<html>
<head>
<title>An Overview of Time Series Forecasting with ARIMA Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ARIMA模型时间序列预测综述</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/time-series-analysis-arima-based-models-541de9c7b4db?source=collection_archive---------13-----------------------#2021-09-02">https://towardsdatascience.com/time-series-analysis-arima-based-models-541de9c7b4db?source=collection_archive---------13-----------------------#2021-09-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="373b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">理解ARIMA模型背后的关键概念和使用ARIMA模型进行时间序列预测的一般工作流程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/594d9e6716eb1636dd6d31f076f393fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2eG83FVK7GryIsRsZioOMw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com/s/photos/time-series?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@frostroomhead?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Rodion Kutsaev </a>拍照</p></figure><p id="db2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我之前的帖子(下面的链接)中，我们已经介绍了几种基本的时间序列模型及其在statsmodels中可用的相应函数，包括ETS模型、EWMA模型和指数平滑方法(又名霍尔特温特方法)。然而，最流行的解决时间序列问题的方法可能是基于ARIMA的模型，这也是我们在今天的文章中要探讨的。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/time-series-analysis-with-statsmodels-12309890539a"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">利用统计模型进行时间序列分析</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">理解基本的时间序列模型及其背后的数学原理</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="47e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，在转向ARIMA模型之前，为了更好地理解ARIMA模型背后的理论，我们需要重新审视一些概念和术语。</p><h2 id="0a34" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">协方差</h2><p id="9539" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">当我们讨论ARIMA模型的“<strong class="lb iu"> AR </strong>”部分时，<strong class="lb iu">协方差</strong>的概念很重要。简而言之，协方差衡量两个相关变量的方差。当协方差为正时，这意味着两个变量的变化方向相同，它们可能相关。当用变量本身计算协方差时，结果将是该变量的<strong class="lb iu">方差</strong>，这是协方差的一个特例。</p><p id="9efe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">计算协方差的公式可以在下面找到，其中<strong class="lb iu"> E[X] </strong>表示变量X的期望值，或者换句话说,<strong class="lb iu"> X. </strong>的平均值。从<strong class="lb iu"> </strong>公式中，我们还可以看到，当X，Y的趋势相同时，期望值最终也会为正。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi gj"><img src="../Images/71533e25cc860a633dce17f362197243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Cv7P_QZzBhqT2gKIO3XfA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">协方差公式，图片摘自<a class="ae ky" href="https://en.wikipedia.org/wiki/Covariance" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><h2 id="de75" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">相互关系</h2><p id="f024" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">两个变量X，Y的<strong class="lb iu">相关性</strong>可以用下面给出的公式计算。我们可以看到，相关性是X和Y之间的协方差(由<em class="nl"> cov(X，Y) </em>表示)以及两个变量各自的标准差(由sigma算子表示)的函数。值得注意的是，相关值是有界的<strong class="lb iu">在-1和1 </strong>之间。举一个极端的例子，X，Y具有完全相同的分布，那么分子将成为X(或Y)的方差计算公式，它返回与分母相同的值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/b660c941fbbc455446fb4cc999889fac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ox-uUjsP3LKkMcwSqYfguQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">相关公式，图片摘录自<a class="ae ky" href="https://en.wikipedia.org/wiki/Correlation" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><h2 id="bc4c" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">ACF和PACF图</h2><p id="ab01" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">有了前面的概念解释，理解ACF和PACF图背后的原理就容易多了。</p><p id="fd92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ACF </strong>(又名自相关函数)和<strong class="lb iu"> PACF </strong>(又名偏自相关函数)是帮助我们可视化和理解时间序列数据的有用工具。这里的<strong class="lb iu">Auto</strong><strong class="lb iu"/>仅仅意味着我们取变量本身的相关性，但是有一个滞后版本。另一方面，部分自相关测量的是在去除先前时间滞后的影响后变量的相关性。例如，滞后k处的PACF值是y(t)和y(t+k)的净效应，这不能用从1到k-1的滞后来解释。一般来说，你可以认为PACF图描述的是前一天(或前n天，取决于滞后因素)的残差和当天的实际值之间的关系。</p><p id="d343" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然计算听起来很复杂，但statsmodels lib具有内置函数，我们可以直接使用这些函数来绘制ACF和PACF图。当我们想确定ARIMA模型的参数时，这些图会很有帮助。</p><h2 id="0444" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">平稳性</h2><p id="f85c" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated"><strong class="lb iu">平稳</strong>是时间序列中的另一个重要概念，尤其是对于基于ARIMA的模型而言。如果你还记得我的<a class="ae ky" rel="noopener" target="_blank" href="/time-series-analysis-with-statsmodels-12309890539a">上一篇关于时间序列分析的文章</a>，时间序列数据的组成部分是<strong class="lb iu">水平、趋势、季节性和噪声</strong>。一个平稳的时间序列数据仅仅意味着它不显示趋势和季节性。换句话说，不同时间段的均值、方差和协方差应该相同。在现实生活中，我们很少遇到平稳的数据，但我们可以使用差分等技术(将在下一节中介绍)使其平稳，然后可以采用ARIMA模型进行分析和预测。</p><p id="7d86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据平稳性的定义，如果数据集中有明显的趋势或季节性，我们可以通过查看图表本身来粗略了解给定的时间序列数据是否平稳。还有另一个测试可以帮助用户以数学方式测试平稳性——<strong class="lb iu">增强迪基富勒</strong>T2测试。你可以把它看作一个经典的零假设检验，用<em class="nl">零假设说明目标时间序列数据是</em> <strong class="lb iu"> <em class="nl">而不是</em> </strong> <em class="nl">平稳</em>。到最后，如果返回的p值是&lt; 0.05，那么我们可以拒绝这个零假设，说时间序列数据是平稳的。</p><h2 id="6e0a" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">区别</h2><p id="ebe5" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">正如刚才提到的，差分是我们用来将非平稳数据转换为平稳数据的方法。最基本的差分思想是<strong class="lb iu">一阶差分</strong>，我们实际上是在计算连续观测值之间的差异。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/c821dd9a0a29170287a00d48d6e66fe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*aM52hnZZMJvB_sN67F6K-g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一阶差分(图片由作者提供)</p></figure><p id="73d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在某些情况下，我们能够在一阶差分本身之后获得平稳数据。然而，在其他一些情况下，我们可能需要做进一步的微分，如<strong class="lb iu">二阶差分</strong>(即计算一阶差分结果的差)，并且该过程可以继续下去。获得稳定数据的想法是基于ARIMA模型的基础，或者更具体地说，它与ARIMA模型的<strong class="lb iu"> I(整合)</strong>部分密切相关。</p><h2 id="f11e" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">评估统计</h2><p id="ed8d" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">时间序列预测是一种特殊类型的回归问题，因此应采用典型的回归度量，包括RMSE、均方误差和平均误差等。在时间序列分析或预测评估中还有一种非常常用的检验，叫做<strong class="lb iu"> AIC </strong>检验(即<strong class="lb iu">阿凯克信息标准</strong>)。AIC测试的优势在于，它考虑了作为评估一部分的参数数量，因为在一个模型中使用太多参数可能会导致过度拟合。较低的AIC值表明模型在进行预测时会有更好的性能。</p><h2 id="4d95" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">ARIMA模型概念及其变体</h2><p id="affe" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">在前面的章节中，我们已经介绍了一些与ARIMA模型相关的基本概念。现在是时候深入研究ARIMA模型本身，看看如何将它应用于实时序列预测问题。</p><p id="3887" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在继续之前，让我们先讨论一下ARIMA模型的组成部分。<strong class="lb iu"> ARIMA </strong>模型，或<strong class="lb iu">自回归综合移动平均</strong>模型，由以下三个模型组成:</p><ol class=""><li id="612f" class="no np it lb b lc ld lf lg li nq lm nr lq ns lu nt nu nv nw bi translated"><strong class="lb iu"> AR(p):自回归模型，</strong>基于当前观测值与前一时间滞后的观测值之间的关系。这里的<strong class="lb iu"> p </strong>参数表示包含在模型中的滞后数量。</li><li id="e671" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated"><strong class="lb iu"> I(d) </strong> : <strong class="lb iu">集成模型</strong>，这与我们之前描述的<strong class="lb iu">差异</strong>概念紧密相关。该模型的目的是找到差分的最佳阶数，从而将时间序列数据转化为平稳数据。这里的<strong class="lb iu"> d </strong>参数定义了所需微分的顺序。</li><li id="87d1" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated"><strong class="lb iu"> MA(q):移动平均模型，</strong>探索观测值与来自滞后观测值的移动平均模型的残差之间的关系。<strong class="lb iu"> q </strong>参数是指移动平均窗口的长度，即在计算毫安值时要考虑多少时间戳。</li></ol><p id="1deb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际上，ARIMA模型有很多变体。例如，如果您知道目标数据集是静止的，您可以忽略差异部分，使用<strong class="lb iu"> ARMA </strong>模型。另一方面，如果有明显的季节性证据，就像我们在酒类商店零售数据中看到的那样，我们应该考虑<strong class="lb iu"> SARIMA </strong>模型。萨里玛模型通过引入一组额外的参数(<strong class="lb iu"> P，D，Q </strong>和<strong class="lb iu"> m </strong>，在ARIMA的基础上增加了季节因素。在这里，P，D，Q参数与ARIMA模型中的P，D，Q具有相似的含义，但在这种情况下，它们用于描述季节性成分。<strong class="lb iu"> m </strong>定义每个周期的条目数(例如，对于具有年度趋势的数据，通常选择m为12。)</p><p id="20fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在最重要的问题可能是，如何知道为P，D，Q(加上SARIMA模型中的P，D，Q)参数选择哪些值？幸运的是，有一个库可以为我们处理繁重的工作——<strong class="lb iu"/>pmdarima的<strong class="lb iu"> auto_arima() </strong>函数。要安装pmdarima，只需从命令行运行以下命令:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="a4aa" class="mn mo it od b gy oh oi l oj ok">pip install pmdarima</span></pre><p id="82ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将继续使用我们在之前的帖子中使用的相同数据集来演示使用ARIMA模型进行时间序列预测的一般流程。如果你错过了之前的帖子，你可以从这里查看:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/time-series-analysis-with-statsmodels-12309890539a"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">利用统计模型进行时间序列分析</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">理解基本的时间序列模型及其背后的数学原理</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><h2 id="6f5b" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">ARIMA模型预测案例研究</h2><p id="eb3f" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">作为起点，让我们先导入数据并绘制出来。我在这里重用了我之前的帖子中的相同代码:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="bde7" class="mn mo it od b gy oh oi l oj ok">df = pd.read_csv(‘Retail Sales.csv’,parse_dates=True,index_col=’DATE’)<br/>ax = df[‘Sales’].plot(figsize = (12,6))<br/>ax.autoscale(axis = ‘both’,tight = True)<br/>ax.set(ylabel=’Liquor Store Retail Sales(M)’,xlabel=”Dates”,title=’US Liquor Retail Sales Data (in Millions USD)’);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ol"><img src="../Images/84ef2b62d33ac66e3e4ba0442bd0a206.png" data-original-src="https://miro.medium.com/v2/format:webp/1*aSHd1rsEBtHpdvsPCNgCvA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">美国酒类零售额(百万美元)，图片由作者提供</p></figure><p id="ec76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们可以使用前面提到的auto_arima()函数来找出最佳的参数选择。</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="d33f" class="mn mo it od b gy oh oi l oj ok">from pmdarima import auto_arima<br/>auto_arima(df['Sales'],seasonal=True,m=12).summary()</span></pre><p id="bb58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">auto_arima()函数的摘要可以在下面找到。我们可以看到，决定最终指标的评估指标包括我们之前描述过的AIC。最重要的是，返回的最佳参数显示在模型部分:SARIMAX(3，1，0)X(1，1，1，12)。接下来，我们将使用这些参数来训练用于最终预测的SARIMA模型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/db1a3910c64f1e93a02aeb50d8fcec8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ec0i_nfxSMS_-QM9iObzVg.png"/></div></div></figure><h2 id="ba4f" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">训练和评估SARIMA模型</h2><p id="3b91" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">现在让我们来评估我们的模型性能。为此，我们需要进行训练/测试分割，用从auto_arima函数中获得的参数来拟合模型，然后绘制出预测数据点和实际数据点以进行比较。实际代码可以在下面找到:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="a365" class="mn mo it od b gy oh oi l oj ok">from statsmodels.tsa.statespace.sarimax import SARIMAX<br/>df_train = df[:-12]<br/>df_test = df[-12:]<br/>model = SARIMAX(df_train['Sales'],order=(3,1,0),seasonal_order=(1,1,1,12))<br/>result = model.fit()<br/>start=len(df_train)<br/>end=len(df_train)+len(df_test)-1<br/>predictions = result.predict(start=start, end=end, dynamic=False, typ='levels').rename('SARIMA(3,1,0)(1,1,1,12) Predictions')</span><span id="f284" class="mn mo it od b gy on oi l oj ok">ax = df_test['Sales'].plot(legend=True,figsize=(12,6),title='US Liquor Retail Sales, Actual v.s. Forecasted')<br/>predictions.plot(legend=True)<br/>ax.autoscale(axis='x',tight=True)<br/>ax.set(ylabel='Retail Sales Amount in MM USD');</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/07e52a482a29828e1f45e13db1f5c3ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mycMc9X-a6tfp7L-oxXKyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">萨里玛模型(实际vs .预测，图片由作者提供)</p></figure><p id="6341" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">研究表明，预测值总体上符合实际趋势，尽管在某些月份观察到一些滞后(例如8月20日)，总体而言，这是相当好的预测结果，考虑到2020年是如此特殊的一年，许多事件可能会影响零售销售，包括新冠肺炎局势、宏观经济动态等。</p><p id="c92b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于一个更定量的评估，我们可以使用指标，如MES或RMSE。</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="ed8e" class="mn mo it od b gy oh oi l oj ok">from statsmodels.tools.eval_measures import rmse</span><span id="eb8b" class="mn mo it od b gy on oi l oj ok">error2 = rmse(df_test['Sales'],predictions)<br/>print(f"The RMSE for test data is {error2}")</span></pre><p id="7456" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们得到的RMSE值大约是353。考虑到实际销售数据在2k及以上的范围内，RMSE也不算太差。</p><h2 id="cb16" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">预测未来</h2><p id="fa83" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">假设现在我们对之前评估的模型性能感到满意。现实项目的下一步是预测未来的价值。该代码如下所示:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="2f2b" class="mn mo it od b gy oh oi l oj ok">full_model = SARIMAX(df['Sales'],order=(3,1,0),seasonal_order=(1,1,1,12))<br/>res2 = full_model.fit()</span><span id="fc2b" class="mn mo it od b gy on oi l oj ok">forecast = res2.predict(len(df),len(df)+11,typ='levels',rename='SARIMA Model Forcast')</span><span id="1809" class="mn mo it od b gy on oi l oj ok">ax = df['Sales'].plot(legend = True, figsize=(12,6), title = 'US Liquor Retail Sales, Current and Forecast')<br/>forecast.plot(legend = True)<br/>ax.autoscale(axis='x',tight=True)<br/>ax.set(ylabel = 'Retail Sales Amount in MM USD')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/88aeb73e9e508e4c5a0c1dc12da1108b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OF-QCpP2TRnsg11PV2VJvQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">美国酒类零售，当前和预测(图片由作者提供)</p></figure><p id="9d14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为这是对未来销售业绩的预测，所以在获得实际数据之前，我们无法知道预测的准确性。尽管如此，如果类似的趋势在2021/2022年继续，整体的地块形状看起来是合理的。</p><h2 id="1973" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">摘要</h2><p id="d28b" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">在这篇文章中，我们从时间序列分析的一些基本概念开始，包括平稳性、差异和相关性。然后，我们继续了解ARIMA模型及其变体背后的基本原理，并以一个案例研究结束，展示了使用ARIMA模型进行时间序列预测时的一般工作流程。我希望你喜欢这篇文章，感谢阅读！</p><p id="87bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想看看除了ARIMA模型之外的时间序列分析方法，你可以参考我在这里的第一篇文章:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/time-series-analysis-with-statsmodels-12309890539a"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">利用统计模型进行时间序列分析</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">理解基本的时间序列模型及其背后的数学原理</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="1e4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你感兴趣的话，可以看看我在以下链接中关于房价预测的帖子:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/predicting-singapore-hdb-resale-price-data-preparation-be39152b8c69"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">预测新加坡HDB转售价格:数据准备</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">如何通过必要的特征工程工作处理数据集，为进一步的分析和建模做准备</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="oq l mj mk ml mh mm ks ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/predicting-singapore-hdb-resale-price-eda-and-modeling-94af7d26798d"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">预测新加坡HDB转售价格:EDA和建模</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">进行EDA并尝试不同的ML模型来预测转售价格</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="or l mj mk ml mh mm ks ly"/></div></div></a></div></div></div>    
</body>
</html>