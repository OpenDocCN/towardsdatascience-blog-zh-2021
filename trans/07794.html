<html>
<head>
<title>5 Different Ways to Deploy your Machine Learning Model with AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用AWS部署机器学习模型的5种不同方式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-different-ways-to-deploy-your-machine-learning-model-with-aws-bd676ab5f8d4?source=collection_archive---------4-----------------------#2021-07-17">https://towardsdatascience.com/5-different-ways-to-deploy-your-machine-learning-model-with-aws-bd676ab5f8d4?source=collection_archive---------4-----------------------#2021-07-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ec3c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让你的模型走向世界的不同方法的利弊。</h2></div><p id="b976" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为一名数据科学导师，我收到了很多关于机器学习基础设施方面的问题。许多新来者构建他们想要通过API向互联网公开的模型，但是即使有大量的可用资源，他们仍然很难做到这一点。其中一个主要原因是，通常不清楚实现目标的“最佳”方式是什么。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/ccc10d3bd3a09ca62ad7be36cdd7f6c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jD023gbMsYtTu4sz"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">莱蒂齐亚·博尔多尼在<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="85a1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如软件工程中的所有事情一样，有许多不同的方法来完成同样的事情。然而，不同的方法有不同的利弊。服务管理得越好，它提供的现成产品就越多，但有时会以更高的价格或更低的灵活性为代价。较少管理的服务有时更便宜或提供更大的灵活性，但可能需要更多的时间和专业知识来配置。</p><p id="614f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我将重点介绍5种常见的方法，您可以使用这些方法将一个简单的实时机器学习API(如Flask app)部署到互联网上。虽然这个列表并不详尽，但它应该为您选择适合您的解决方案指明了正确的方向。</p><h1 id="4bb5" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">将其部署在EC2实例上</h1><p id="3b24" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">在我看来，将您的模型部署到互联网的最简单(但最不健壮)的方法之一是在EC2实例上运行它。这就像在云中获得一个虚拟机，让它可以访问互联网，并在其上启动您的应用程序一样简单。关于这个解决方案的演练，<a class="ae lu" rel="noopener" target="_blank" href="/the-fastest-way-to-deploy-your-ml-app-on-aws-with-zero-best-practices-df15c09eead7">请看我之前的一篇文章</a>。</p><p id="0341" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我向需要快速演示或只是临时展示一些东西的用户推荐这个解决方案。如果你的应用足够小，你几乎不需要花费任何东西来托管它，你只需要5分钟就可以完成。你甚至不需要熟悉Docker这样的工具，只需要linux命令行。对于这样的用例，这将是最便宜和最简单的选择。</p><p id="ab74" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这种方法需要大量繁琐的手动设置，不适合实际的生产部署。如果你是一个想向朋友炫耀你的应用程序的人，这个解决方案很棒。如果你在寻找可持续发展的长期目标，请继续阅读。</p><p id="39bc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">赞成的意见</p><ul class=""><li id="1916" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">暂且应急的</li><li id="64ac" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">便宜(可能免费)</li><li id="94e1" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">易于安装/拆卸</li><li id="792c" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">几乎不需要基础设施/网络经验</li></ul><p id="bd69" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">骗局</p><ul class=""><li id="7361" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">不太容易扩展</li><li id="f22c" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">非生产级</li><li id="b5a9" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">几乎没有自动化</li><li id="6053" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">对错误不稳健</li></ul><h1 id="0fa6" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">创建AWS Lambda函数</h1><p id="96f8" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">AWS Lambda是用于部署无服务器功能的服务。“无服务器”并不意味着没有服务器，它只是意味着你不关心你的代码的底层基础设施，你只为你使用的东西付费。这通常比供应和管理您自己的机器更可取，这是您在上一步中需要做的事情。</p><p id="36f0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然Lambda可能无法满足一些更复杂的用例，但对于简单且可重复的代码来说，它是理想的。它是可扩展的，非常便宜和简单。您将需要使用一些其他服务，如API Gateway，但设置将比将您的应用程序部署到独立的EC2机器上更加健壮。对于生产，这可能是最便宜的选择。</p><p id="3a74" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，它们没有你在ECS或EKS中看到的纯容器化解决方案灵活。支持的编程语言等功能是有限的。我向使用简单ML代码的用户推荐这个解决方案，他们根本不想考虑基础设施<em class="lv">。</em></p><p id="18da" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">优点:</p><ul class=""><li id="cdfc" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">生产等级</li><li id="1531" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">非常适合简单的小型应用/功能</li><li id="18f6" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">无服务器(非常便宜)</li></ul><p id="af3f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">缺点:</p><ul class=""><li id="7c50" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">不如其他解决方案灵活</li><li id="26c6" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">需要其他AWS服务的知识</li></ul><h1 id="dff1" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">将其集装箱化并部署在EKS的Kubernetes</h1><p id="0539" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">Kubernetes是当今管理和扩展容器化应用程序的首选之一。Kubernetes的声明性质有助于自动化许多生产级别的问题，如负载平衡或自动伸缩。与ECS等更受管理的容器编排解决方案不同，Kubernetes提供了对机器学习应用程序的粒度控制。</p><p id="eadc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">简单、无状态的机器学习应用程序通常非常适合Kubernetes。此外，Kubernetes上有许多成熟的ML开源解决方案(如<a class="ae lu" href="https://www.seldon.io/" rel="noopener ugc nofollow" target="_blank"> Seldon </a>)，它们提供了特定领域的支持，并进一步抽象了基础设施的复杂性。</p><p id="8a9e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这是有代价的。与申请部署应用程序的单个实例不同，现在您必须管理整个Kubernetes集群。对于新用户来说，部署应用程序<em class="lv">和管理集群</em>并不是一件简单的任务。</p><p id="2aca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Kubernetes网络是复杂的，需要大量的经验来深入理解和操作。虽然Kubernetes集群可能看起来比管理更好的ML解决方案更便宜，但管理不善的集群可能会导致更糟糕的意外货币成本。我向那些绝对需要产品级解决方案、想要细粒度应用程序控制或者只想体验Kubernetes的用户推荐这种方法。</p><p id="9d5b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">优点:</p><ul class=""><li id="85b9" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">非常可扩展</li><li id="1c3d" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">良好的自动化程度</li><li id="4bbe" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">生产等级</li><li id="8622" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">大量的社区支持</li><li id="fac9" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">高度灵活</li><li id="a49f" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">体验流行的框架和底层CS！</li></ul><p id="f99e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">缺点:</p><ul class=""><li id="3e4d" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">潜在的大量工作</li><li id="2fb1" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">对初学者来说有风险</li><li id="c042" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">在某些情况下，不必要直截了当</li><li id="062c" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">与托管服务功能对等需要大量设置</li></ul><h1 id="ffdd" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">通过弹性容器服务(ECS)对其进行容器化和部署</h1><p id="7206" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">像Kuberenetes一样，ECS是一个用于部署应用程序的容器编排服务。区别在于责任的分配。在Kubernetes中，用户不必负责一些底层基础设施问题，而是让AWS为您完成。ECS类似于Lambda，因为它抽象出了基础设施问题。就灵活性而言，它介于Lambda和高度灵活的Kubernetes之间。</p><p id="a0d7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我向没有Kubernetes经验但想部署容器化应用程序的个人推荐这个解决方案。如果你独自工作，管理Kubernetes上的应用以及管理集群的所有问题可能会很困难。放弃这些责任会更好地利用你的时间，这样你就可以更专注于应用程序本身。如果你不使用Docker，我会遵从Lambda。</p><p id="e484" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">优点:</p><ul class=""><li id="05ce" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">比Kubernetes简单得多的设置</li><li id="a142" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">开箱即用的更多功能</li><li id="cd8b" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">作为个人开发人员更容易管理(有容器经验)</li><li id="bf28" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">对容器化应用的一流支持</li></ul><p id="dca4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">缺点:</p><ul class=""><li id="4486" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">粒度更小的控制</li><li id="619c" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">潜在成本更高</li></ul><h1 id="03f9" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">创建Sagemaker端点</h1><p id="360d" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">AWS Sagemaker是一流的云ML工具套件。从托管到jupyter笔记本到简单模型端点，Sagemaker的体验可能会像在您的机器上本地创建部署一样。机器学习特定支持附带了一整套服务，使用户能够构建和部署生产就绪的ML应用程序，这些应用程序具有您必须为其他选项手动配置的所有功能。</p><p id="4c4a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当然，这种解决方案的高度专用性和可管理性可能会使纸面上的成本更加昂贵。它还减少了用户对底层基础设施的关注。然而，你可能花费的美元很可能会及时收回，因为Sagemaker不仅使部署模型变得容易，而且创建了生产级ML管道。</p><p id="b73d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我向新的云用户推荐这个解决方案，他们只想学习一种新技术来部署他们的模型，并希望从一开始就满足所有其他ML基础设施的考虑。除非你有其他上述技术的经验，否则在Sagemaker中进行调查将有可能使你在很少或没有云经验的情况下快速开发。</p><p id="d72a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">优点:</p><ul class=""><li id="b0a1" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">一流的机器学习支持</li><li id="cee5" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">托管基础架构和环境</li><li id="c824" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">生产级，可扩展</li></ul><p id="1dd0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">缺点:</p><ul class=""><li id="085d" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">可能比其他一些解决方案更昂贵</li><li id="f63c" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">潜在的灵活性较低</li></ul><h1 id="4914" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">还有更多…</h1><p id="fcba" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">我敢肯定完整的列表是非常详尽的，当你考虑到其他用例，如批量预测，会变得更加复杂。然而，这些方法和其他云平台上的类似方法是相当常见的方法。根据您的使用情形、应用程序和其他现有基础架构，其中任何一种都可能是最“正确”的。</p><p id="980d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，虽然我在云计算方面做了很多工作，但我承认我并不是每一项服务的专家。如果我错过了什么或者做了你认为应该纠正的假设，请在下面评论，我会解决的！这些权衡是高度主观的，并且机器学习部署在复杂性和实现方面因用例而异。</p><p id="10ac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你感到失望，请在LinkedIn和T2 Twitter上关注我。</p></div></div>    
</body>
</html>