<html>
<head>
<title>A checklist for linear regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">线性回归的清单</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-checklist-for-linear-regression-bd7b3e47ea91?source=collection_archive---------13-----------------------#2021-07-03">https://towardsdatascience.com/a-checklist-for-linear-regression-bd7b3e47ea91?source=collection_archive---------13-----------------------#2021-07-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/99832480a2d8d89507f3a03493733ba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UPIdqUtD9Ky2jiZI"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae jg" href="https://unsplash.com/@haticehuma?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hatice yardm</a>拍摄</p></figure><div class=""/><div class=""><h2 id="d527" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">用于实现回归算法的待办事项列表</h2></div></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><p id="4025" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">关于线性回归的在线资源有两种。第一种描绘了一幅简单的图画，好像只用几行代码就可以实现回归并做出很好的预测。</p><p id="a581" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">另一方面，回归是作为一种复杂的算法引入的，具有令人生畏的概念，如使用脊/套索/弹性网格的正则化、超参数调整、交叉验证等。</p><p id="3add" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">我不打算去任何一个方向，我更愿意把重点放在你在实现回归时可能会遇到的一系列问题以及解决它们的方法上。我称之为“回归清单”。</p><p id="c39a" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">请注意，下面提供的清单不是一个线性的工作流程，它应该被视为一个迭代过程，直到您对您的模型满意为止。</p><h1 id="1ae5" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">什么是线性回归？</h1><p id="f990" class="pw-post-body-paragraph lf lg jj lh b li mt kk lk ll mu kn ln lo mv lq lr ls mw lu lv lw mx ly lz ma im bi translated">线性回归是一种统计程序，用于找出两个或多个变量之间的关系，并根据该关系进行预测。例如，我们知道年龄和身高是两个相互关联的变量，也就是说，随着年龄的增长，孩子会越长越高。机器学习利用这个统计概念来进行预测。这意味着，如果我们知道孩子的年龄，我们可以合理地预测他们的身高。</p><p id="cefe" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">如果只有一个变量被用作预测因子(例如，年龄作为身高的预测因子)，那么它就是<strong class="lh jk">简单线性回归</strong>。有时会使用一个以上的预测因子——它们被称为<strong class="lh jk">多元回归</strong>。多元回归的一个例子是根据树的年龄和高度预测树的体积。</p><p id="e5fa" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">下面是一个典型的机器学习工作流，其中列出了数据科学家在回归项目中遇到的问题。</p><h1 id="0f34" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">1.数据争论</h1><p id="47ed" class="pw-post-body-paragraph lf lg jj lh b li mt kk lk ll mu kn ln lo mv lq lr ls mw lu lv lw mx ly lz ma im bi translated">收集数据的人和开发模型的人往往是不同的人。因此，当数据集被移交给建模人员时，它会以各种形式出现，这需要相当多的工作——首先要理解数据，然后将其转换为可用于建模的格式。</p><p id="0ec2" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">因此<strong class="lh jk">数据争论</strong>简单来说就是清理数据，理解每个特征代表什么，并将数据转化为更好的形式。您可以采取的一些初始步骤包括:</p><ul class=""><li id="bec1" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">检查<strong class="lh jk">特征名称</strong>和测量单位。</li><li id="48c2" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">检查数据集的<strong class="lh jk">大小和形状</strong>(行&amp;列)。</li><li id="f16b" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">检查特征的<strong class="lh jk">数据类型</strong>是否需要类型转换(例如，将字符串转换为数字数据类型)。</li><li id="dc26" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">运行<strong class="lh jk">描述性统计</strong>来查看数字数据的集中趋势和分散情况，并观察任何不寻常的情况。确保为分类变量单独运行描述性统计。</li><li id="54e2" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">检查<strong class="lh jk">的分类特征</strong>是否存储为“对象”，如果是，可能需要将其转换为“类别”类型。</li></ul><h1 id="b807" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">2.特征选择</h1><p id="999f" class="pw-post-body-paragraph lf lg jj lh b li mt kk lk ll mu kn ln lo mv lq lr ls mw lu lv lw mx ly lz ma im bi translated">预测值和因变量之间的线性关系是回归的先决条件。如果一个特征没有显示出与因变量的任何关系，它就不会给模型增加任何价值。你应该消除它们。在这个过程的最后，找到一组有很强解释力的预测值。</p><p id="c039" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">如何找到最佳的特征集？这里有一些工具:</p><ul class=""><li id="3bed" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated"><strong class="lh jk">散点图</strong>和结对图</li><li id="2899" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated"><strong class="lh jk">关联</strong>和热图</li><li id="7828" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">主成分分析(<strong class="lh jk"> PCA </strong>)</li><li id="bddc" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">线性关系的统计检验:<strong class="lh jk"> t检验，ANOVA </strong></li><li id="5540" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated"><strong class="lh jk">使用方差膨胀因子测试多重共线性</strong>(VIF)</li></ul><h1 id="7409" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">3.特征工程</h1><p id="e9d1" class="pw-post-body-paragraph lf lg jj lh b li mt kk lk ll mu kn ln lo mv lq lr ls mw lu lv lw mx ly lz ma im bi translated">特征工程意味着完全改造一个或多个现有特征。这意味着您会生成一个在某些方面与原始要素不同的新要素。</p><p id="355f" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">以下是特征工程的清单:</p><p id="81ef" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated"><strong class="lh jk"> a)通过分解现有特征来创建新特征:</strong>例如，通过拆分时间戳(例如06/30/2021)列，可以获得新列:年、月、工作日、假假日等。</p><p id="bed8" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated"><strong class="lh jk"> b)创建计算列:</strong>例如，从两个现有的列——住房数据集中的价格和建筑面积——创建一个新的计算列(" $/sqft ")。</p><p id="2ca1" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated"><strong class="lh jk"> c)特征转换</strong></p><ul class=""><li id="21a8" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">特征编码:标签编码器、一键编码器/虚拟变量</li><li id="577c" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">重新缩放:规范化、标准化</li><li id="4169" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">对数变换</li><li id="3bb8" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">数据类型转换</li></ul><p id="95ba" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated"><strong class="lh jk"> d)异常值处理/风向分析</strong></p><ul class=""><li id="f978" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">统计技术:箱线图、分布图、散点图、四分位数间距(IQR)</li><li id="24c5" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">时间序列:移动平均线</li><li id="0277" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">机器学习技术:局部异常因素(LOF)</li></ul><p id="f943" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated"><strong class="lh jk"> e)缺失值处理</strong></p><ul class=""><li id="2d12" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">删除行</li><li id="686e" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">移除列(如果单个特征中缺少太多列)</li><li id="734b" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">用适当的值进行插补(如平均值、中间值)</li><li id="8a42" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">插入文字</li></ul><p id="8afd" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated"><strong class="lh jk"> f)正规化</strong></p><ul class=""><li id="684e" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">套索回归(L1正则化)</li><li id="98de" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">岭回归(L2正则化)</li><li id="807a" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">弹性网(L1和L2正则化的结合)</li></ul><h1 id="a760" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">4.创建基准模型</h1><p id="0a12" class="pw-post-body-paragraph lf lg jj lh b li mt kk lk ll mu kn ln lo mv lq lr ls mw lu lv lw mx ly lz ma im bi translated">在数据清理、特征选择和特征工程之后，您就可以构建您的第一个模型了。这不是最终模型，而是一个<strong class="lh jk">“基准模型”</strong>用于以后对其进行改进。构建基线模型的关键步骤包括:</p><p id="6d03" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">I)分别存储<strong class="lh jk">因变量(y)和预测变量(X) </strong></p><p id="1d31" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">ii) <strong class="lh jk">将</strong>数据分割成训练和测试集</p><p id="66f8" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">iii) <strong class="lh jk">导入</strong>和<strong class="lh jk">实例化</strong>模型(带默认参数)</p><p id="2235" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">iv) <strong class="lh jk">用</strong>模型拟合训练数据</p><p id="5e39" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">v) <strong class="lh jk">根据测试数据预测</strong></p><h1 id="ddd8" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">5.性能赋值</h1><p id="4330" class="pw-post-body-paragraph lf lg jj lh b li mt kk lk ll mu kn ln lo mv lq lr ls mw lu lv lw mx ly lz ma im bi translated">一旦您构建了基准模型，接下来就要评估它是如何处理测试数据的。有许多评估指标可供选择:</p><ul class=""><li id="4436" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">误差指标:<strong class="lh jk">梅伊/姆塞/RMSE/MAPE </strong></li><li id="1554" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">模型对比指标:<strong class="lh jk"> AIC </strong>，<strong class="lh jk"> BIC </strong>，<strong class="lh jk"> R^2 </strong></li><li id="ff4e" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated"><strong class="lh jk">剩余剧情</strong></li><li id="f931" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated"><strong class="lh jk"> Q-Q剧情</strong></li><li id="b4a5" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated"><strong class="lh jk">常态检查的误差直方图</strong></li><li id="2c82" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">将误差(如RMSE)与y值的平均值进行比较(检查误差与y值的平均值相差多远)</li><li id="412a" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated"><strong class="lh jk"> K倍交叉验证</strong></li></ul><h1 id="28a9" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">6.模型调整</h1><p id="5961" class="pw-post-body-paragraph lf lg jj lh b li mt kk lk ll mu kn ln lo mv lq lr ls mw lu lv lw mx ly lz ma im bi translated">根据评估指标，您已经知道您的模型有多差(是的，您的基准模型应该是差的)。现在，您可以继续下去，看看可以调整哪些旋钮来使它变得更好。你迭代地做它，可能会以模型和数据的许多不同版本结束(所以确保你使用一个版本控制系统，例如<a class="ae jg" href="https://dvc.org" rel="noopener ugc nofollow" target="_blank"> DVC </a>来跟踪变化)。以下是模型调整的一些选项:</p><ul class=""><li id="4089" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">正规化</li><li id="2990" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">拟合多项式</li><li id="5fd0" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">向前选择功能</li><li id="4bc4" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">反向消除</li><li id="c35e" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">检查特征系数(剔除对模型贡献很小或没有贡献的特征)</li><li id="b584" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">交互效度分析</li><li id="e9ea" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">梯度下降</li><li id="ea0b" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">应用另一种算法(例如随机森林回归、支持向量回归)</li></ul><h1 id="028f" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">7.最终模型</h1><p id="3960" class="pw-post-body-paragraph lf lg jj lh b li mt kk lk ll mu kn ln lo mv lq lr ls mw lu lv lw mx ly lz ma im bi translated">一旦您构建了满意的“正确”模型，就该将它部署到生产中了。生产可以简单到创建一个桌面应用程序，也可以简单到在云上进行商业部署。无论如何，清单中的最后几项包括:</p><ul class=""><li id="0d21" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">完整数据集上的再训练模型</li><li id="6cee" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">通过领域专家进行健全性检查</li><li id="689a" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">保存模型(例如在joblib中)</li><li id="0fe0" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">现实世界中的口译模式</li><li id="3fd6" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">定期检查模型漂移</li></ul></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="ba7a" class="mb mc jj bd md me nm mg mh mi nn mk ml kp no kq mn ks np kt mp kv nq kw mr ms bi translated">一锤定音</h1><p id="5271" class="pw-post-body-paragraph lf lg jj lh b li mt kk lk ll mu kn ln lo mv lq lr ls mw lu lv lw mx ly lz ma im bi translated">本文的目的是介绍在分析管道中实现线性回归的“清单”——从数据清理到模型调整和部署。重申一下，建模是一个迭代过程，涉及到在过程中的每一步做出决策，因此，有一个清单将有望使数据科学家更容易地完成这个过程。下面是一些相关的文章，如果你想了解的话:</p><ul class=""><li id="8c51" class="my mz jj lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/fundamentals-of-regression-what-why-and-how-37ae02489e19">回归的基本原理:什么，为什么和如何</a></li><li id="3cb8" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/avoid-overfitting-with-regularization-6d459c13a61f">避免正则化的过度拟合</a></li><li id="c99c" class="my mz jj lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/fundamentals-of-regression-what-why-and-how-37ae02489e19">机器学习中的数据规范化</a></li></ul><p id="35ed" class="pw-post-body-paragraph lf lg jj lh b li lj kk lk ll lm kn ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">如果你有意见，请随意写在下面，或者通过<a class="ae jg" href="https://mab-datasc.medium.com/" rel="noopener">媒体</a>、<a class="ae jg" href="https://twitter.com/DataEnthus" rel="noopener ugc nofollow" target="_blank">推特</a>或<a class="ae jg" href="https://www.linkedin.com/in/mab-alam/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>与我联系。</p></div></div>    
</body>
</html>