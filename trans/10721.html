<html>
<head>
<title>10 Things You Might Not Know About Wikipedia Library In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Python中的维基百科库，你可能不知道的10件事</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-things-you-might-not-know-about-wikipedia-library-in-python-61af5d46037d?source=collection_archive---------10-----------------------#2021-10-15">https://towardsdatascience.com/10-things-you-might-not-know-about-wikipedia-library-in-python-61af5d46037d?source=collection_archive---------10-----------------------#2021-10-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2abf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Wikipedia API的一行代码获取数据要简单得多</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9e1560c83f7202b4bf5d5369c0550f11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LcsE8ofjsfFjjJjv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@alfonsmc10?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿尔方斯·莫拉莱斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="7bea" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="dea6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在我之前的帖子<a class="ae ky" rel="noopener" target="_blank" href="/5-interesting-python-libraries-that-you-might-have-missed-3ee7cb4f099e">你可能错过的5个有趣的Python库</a>中，我谈到了5个我很少听说过的被低估的Python库，其中之一就是维基百科API。随着我对这个库做了更多的阅读，我发现这比我想象的要酷得多。在本文中，我将与您分享一些使用这个简单、方便且有用的库的示例。</p><h1 id="fbab" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">期待什么</strong></h1><p id="81f9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">由于Wikipedia API可以从Wikipedia页面中检索几乎所有内容，在这种情况下，我们不需要严重依赖不同的数据抓取技术。使用Wikipedia API的一行代码获取数据要简单得多。</p><p id="43d6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="ms">然而，需要记住的一个重要注意事项是，这个库的最初目的不是为了高级使用。因此，正如文档所建议的，如果您打算做任何抓取项目或自动化请求，请考虑其他替代方案，如</em></strong><a class="ae ky" href="http://www.mediawiki.org/wiki/Manual:Pywikipediabot" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu"><em class="ms">Pywikipediabot</em></strong></a><strong class="lt iu"><em class="ms">或</em></strong><a class="ae ky" href="http://en.wikipedia.org/wiki/Wikipedia:Creating_a_bot#Python" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu"><em class="ms">MediaWiki API</em></strong></a>，<strong class="lt iu"> <em class="ms">，它们具有其他优越的特性。</em> </strong></p><p id="0ebe" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">好吧，首先，安装这个很酷的库，让我们看看这个包能给我们带来什么。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="a8d3" class="my la it mu b gy mz na l nb nc">!pip install wikipedia<br/>import wikipedia</span></pre><h1 id="498a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">工作原理</strong></h1><h2 id="499d" class="my la it bd lb nd ne dn lf nf ng dp lj ma nh ni ll me nj nk ln mi nl nm lp nn bi translated">1.获取特定关键词的摘要</h2><p id="eec3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果您希望获得某个特定数量的摘要句子，只需将它作为参数传递给<code class="fe no np nq mu b">summary()</code>函数。例如，我试图用4句话来解释新冠肺炎是什么。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="da88" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">T37】输出:T39】</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/aef5d55fc5569f70885dbd3c6b45d62d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dt0XYw9fGu7Qqjz2qLEV6Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:摘要句子——作者图片</p></figure><h2 id="d464" class="my la it bd lb nd ne dn lf nf ng dp lj ma nh ni ll me nj nk ln mi nl nm lp nn bi translated">2.搜索文章标题</h2><p id="63f3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe no np nq mu b">Search()</code>功能帮助我们搜索包含特定关键字的所有标题。例如，如果我想获得与<strong class="lt iu">“肯德基”、</strong>相关的所有帖子标题，我将在搜索功能中传递<strong class="lt iu">“肯德基”</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2:搜索方法</p></figure><p id="b4b9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">因此，维基百科中包含肯德基信息的所有文章的列表都会被检索出来，如下所示。</p><p id="db9f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="ms">输出:</em> </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/d6e47ea22b6072b516ae762eecfa6c6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tZqGqVXSIKLgWXFIY7m_3w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3:标题列表——按作者分类的图片</p></figure><p id="6a63" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您还可以说明您希望结果中出现多少个标题。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3: 5个结果</p></figure><h2 id="5f13" class="my la it bd lb nd ne dn lf nf ng dp lj ma nh ni ll me nj nk ln mi nl nm lp nn bi translated">3.搜索关键字</h2><p id="f4a9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">万一你有什么东西要在脑海中查找，但又记不清到底是什么，你可以考虑<code class="fe no np nq mu b">suggest()</code>方法。该函数返回相关单词。</p><p id="1790" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">假设我想找到德国总理的准确姓名，但不记得她的名字是如何拼写的。我可以写我记得的，也就是<strong class="lt iu">“安吉拉·马克尔”</strong>让<code class="fe no np nq mu b">suggest()</code>给我做剩下的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4:拼写错误</p></figure><p id="7ffc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如你所见，该函数返回一个正确的值，即<strong class="lt iu">“安格拉·默克尔”</strong>。</p><p id="8e9d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="ms">输出:</em> </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/751260e5abbcfe677ca5d30906230c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*iycybwwKkF4k2i98U8pU3A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5:正确的拼写——作者图片</p></figure><h2 id="7822" class="my la it bd lb nd ne dn lf nf ng dp lj ma nh ni ll me nj nk ln mi nl nm lp nn bi translated">5.提取内容</h2><p id="d74c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果您希望以纯文本格式提取Wiki页面的所有内容，请尝试使用<code class="fe no np nq mu b">page</code>对象的<code class="fe no np nq mu b">content</code>属性。</p><p id="4977" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在下面的例子中，我演示了如何获取<strong class="lt iu">“肯德基的历史”</strong>文章。结果不包括图片或表格，…只有纯文本。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6:获取肯德基内容的历史</p></figure><p id="6ac0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这是结果的样子。简单吧？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/8c860ecc922ebb85dc5cdcb28b828c38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t5qPKeI4arXKxgzFcVKzkA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图7:肯德基的历史——作者图片</p></figure><p id="4a0f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您甚至可以通过组合<code class="fe no np nq mu b">search()</code>和<code class="fe no np nq mu b">page().content</code>来创建一个循环，以获取与您定义的主题相关的不同文章的不同内容。让我们试着为奥普拉·温弗瑞合并几篇文章。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图8:组合内容</p></figure><h2 id="1be0" class="my la it bd lb nd ne dn lf nf ng dp lj ma nh ni ll me nj nk ln mi nl nm lp nn bi translated">6.提取页面的URL</h2><p id="1b33" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你可以用<code class="fe no np nq mu b">page</code>对象的<code class="fe no np nq mu b">url</code>属性轻松提取维基百科中任何页面的URL。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图9:提取URL</p></figure><p id="dae4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="ms">输出:</em> </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/55f26139a1dae6a127fcde9c26469a17.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*LNbgptE2mBcwUwMA1PMzyg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图10:页面的URL作者的图片</p></figure><h2 id="6e09" class="my la it bd lb nd ne dn lf nf ng dp lj ma nh ni ll me nj nk ln mi nl nm lp nn bi translated"><strong class="ak"> 7。提取参考网址</strong></h2><p id="26a3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你甚至可以用<code class="fe no np nq mu b">page</code>对象和一个不同的属性(这次是<code class="fe no np nq mu b">references.</code>)提取维基百科页面上的所有引用URL</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图11:提取引用链接</p></figure><p id="bcff" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">T33】输出:T35】</strong></p><p id="5212" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">外部参考列表提取如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/2a5c02bf3176cdcbdf726464101e3fcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MnBnpbgGt54YYy7HBHsvdg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图12:参考链接——作者图片</p></figure><h2 id="0d46" class="my la it bd lb nd ne dn lf nf ng dp lj ma nh ni ll me nj nk ln mi nl nm lp nn bi translated">8.获取页面类别</h2><p id="7a2a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果我想知道我的文章是如何被维基百科分类的呢？使用了<code class="fe no np nq mu b">page</code>对象的另一个属性，就是<code class="fe no np nq mu b">categories.</code>我会尽量找出上面文章的所有外部链接，<strong class="lt iu">《肯德基的历史》</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图13:获取类别</p></figure><p id="df77" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="ms">输出:</em> </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/ea8f4ae0894353beba94c17636af5aa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jRt_QGuJ7BdXIyj9hH7dCg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图14:类别——按作者分类的图片</p></figure><h2 id="49e5" class="my la it bd lb nd ne dn lf nf ng dp lj ma nh ni ll me nj nk ln mi nl nm lp nn bi translated">9.提取页面图像</h2><p id="1236" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">也可以通过命令行检索图像。通过使用<code class="fe no np nq mu b">page().images,</code>，你将得到图片的链接。继续我的例子，我会试着从<strong class="lt iu">“肯德基的历史”</strong>页面获取第二张图片。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图15:获取图像URL</p></figure><p id="91a1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">看我这里有什么:</p><p id="9769" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="ms">输出:</em> </strong></p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="9aa7" class="my la it mu b gy mz na l nb nc"><a class="ae ky" href="https://upload.wikimedia.org/wikipedia/commons/b/b1/Col_Sanders_Restaurant.png" rel="noopener ugc nofollow" target="_blank">https://upload.wikimedia.org/wikipedia/commons/b/b1/Col_Sanders_Restaurant.png</a> </span></pre><p id="0ad9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">链接带你去桑德斯的餐馆！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/8c13e321b8bca51103064c6b3872d97c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j9HF_EbR9uVHzhCTUNpO1A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自维基百科上的Acdixon</p></figure><h2 id="85d6" class="my la it bd lb nd ne dn lf nf ng dp lj ma nh ni ll me nj nk ln mi nl nm lp nn bi translated">10.更改语言输出</h2><p id="0aa0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果页面以该语言存在，则可以将语言更改为任何语言。<code class="fe no np nq mu b">Set_lang()</code>方法用于这种情况。有点跑题了，但我认为这是学习新语言的好方法。你可以尝试不同的语言来理解一个特定的段落。翻译都在屏幕上。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图16:转换成英语</p></figure><p id="db67" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">以上是我如何将关于<strong class="lt iu">【越南】</strong>的总结翻译成<strong class="lt iu">英语。</strong></p><p id="b150" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="ms">输出</em> </strong>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/fba6050cb7ec03e82d630caf06de440b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wEO2JqQz2cfouo6mGQRXsg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图17:关于越南的英文摘要——作者图片</p></figure><h1 id="6867" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">临终遗言</h1><p id="8f57" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这挺有意思的吧？维基百科是互联网上最大的信息源之一，是收集数据的天然场所。有了Wikipedia API的各种特性，这将容易得多。</p><p id="3ef5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你有任何有趣的图书馆，请不要犹豫与我分享。</p><h1 id="75d3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">参考</h1><p id="b114" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://pypi.org/project/wikipedia/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/wikipedia/</a></p></div></div>    
</body>
</html>