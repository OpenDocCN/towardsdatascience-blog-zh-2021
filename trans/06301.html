<html>
<head>
<title>NetworkX: Code Demo for Manipulating Subgraphs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">操作子图的代码演示</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/networkx-code-demo-for-manipulating-subgraphs-e45320581d13?source=collection_archive---------18-----------------------#2021-06-06">https://towardsdatascience.com/networkx-code-demo-for-manipulating-subgraphs-e45320581d13?source=collection_archive---------18-----------------------#2021-06-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9b756c7e06fdc8b0fcb1b901666c15f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xkTpcJm_7k3wfuSZDMDqXg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</p></figure><h1 id="ec8c" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">介绍</h1><p id="f610" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">NetworkX是一个用于研究图形和网络的Python库。这是一个代码演示，展示了我们如何使用NetworkX进行子图比较，以及如何操作参数来绘制图形。如果您以前不熟悉NetworkX，它会告诉您如何将加权边列表转换为NetworkX图，以及如果您想要研究超级复杂网络图中的特定节点，尤其是在提供了权重属性的情况下，您可以做些什么。</p><h1 id="ca60" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">数据</h1><p id="8237" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我们正在使用电子健康记录(EHR)数据集，其中包括亚利桑那州2019年下半年至2020年下半年住院患者的诊断。该数据集包含近9000个独特的诊断。每个诊断都标有icd10编码。在住院期间，每个病人可能有不止一种诊断。通过研究EHR，我们可以捕捉疾病或诊断之间的共现关系。</p><p id="1777" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">IC D10(<a class="ae md" href="https://icdcodelookup.com/icd-10/codes" rel="noopener ugc nofollow" target="_blank">https://icdcodelookup.com/icd-10/codes</a>)是国际疾病和相关健康问题统计分类(ICD)的第10版，是世界卫生组织(世卫组织)制定的医学分类清单，指明了疾病、体征和症状、异常发现、主诉、社会环境以及伤害或疾病的外部原因。</p><p id="7b91" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">我们手动将数据集分为三个时间戳:2019年下半年、2020年上半年和2020年下半年，以研究疾病网络在疫情的不同阶段如何变化。为了用数据实现NetworkX，我们首先将数据转换成一个加权边列表，它有三列:源、目标和权重。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div class="gh gi me"><img src="../Images/234e2b2f3e705f5e47a79dda0117c13d.png" data-original-src="https://miro.medium.com/v2/resize:fit:336/format:webp/1*-ooxIZhoShu3s4I8mzbpfA.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图1:样本数据</p></figure><h1 id="5af5" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">密码</h1><h2 id="dcfb" class="mj kd iq bd ke mk ml dn ki mm mn dp km ll mo mp kq lp mq mr ku lt ms mt ky mu bi translated">将边列表转换为网络x图:</h2><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/9a626fac4d54e3047375dca6403d9767.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J3VZJWK-MW-NvmzyPcBWQw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图convert _ graph()的示例输出</p></figure><h2 id="29a4" class="mj kd iq bd ke mk ml dn ki mm mn dp km ll mo mp kq lp mq mr ku lt ms mt ky mu bi translated">用边权重画出整个图</h2><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="3793" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">下面是一个输出示例:</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/a51f95b4b959e657046e3070a0de4945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o9srACdiJR0eMK3z8eF2-w.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图3:示例图</p></figure><p id="2385" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">正如我们从图3中看到的，由于图中有大量的节点和边，这个图非常复杂，很难阅读。如果您的网络很小而且很简单，那么它现在应该会返回一个明显的视图。</p><h2 id="d1c0" class="mj kd iq bd ke mk ml dn ki mm mn dp km ll mo mp kq lp mq mr ku lt ms mt ky mu bi translated">研究图中的某个节点</h2><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="873d" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">因此，如果我们想特别了解2020年上半年冠状病毒(u071代表新冠肺炎)的情况，我们需要做的是键入:</p><p id="103d" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><em class="mz"> drawnodegraph(图2，“u071”，weightbar=0.1) </em></p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/a51ec4df5dae8e172904b09feec1ca14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ApXPZ2kyjT0j6YD_R0yaYA.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图u071的疾病网络</p></figure><p id="c18c" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><strong class="lc ir">用法示例(时间演变图对比):</strong></p><p id="0c7f" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">假设我们想要研究“永久性房颤”(i4821)的疾病网络在疫情的三个不同时间点上是如何变化的。通过使用上面的代码，我们可以看到:</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/fd629efce143ae2c7906aff11122a11a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n6TTwbj8sklsdc5RZHHqgQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图5:疫情之前的i4821网络</p></figure><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/33696f33ad3aad1ee3dd33cfd3667ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6AiXnf_S-OZJ5heQyqWatA.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图6:疫情开始时i4821的网络</p></figure><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/ef3a1c3fbbf4b457e791f68b0612f7f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s6_tA0TVHntPUpHFpfausw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图7:疫情疫情期间i4821的网络</p></figure><p id="6591" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">很明显，在疫情之前，只有少数疾病与永久性房颤显著相关(i4821)。然而，随着2020年时间的推移，网络变得越来越复杂。</p><h1 id="b764" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">结论</h1><p id="05e4" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">在这个代码演示中，我们向您展示了如何使用NetworkX来操作子图。您可以使用边的权重来更改图形中边的宽度。当然，你也可以在此基础上进行其他变换，例如:使用权重来改变节点的大小，等等。最后，我们还向您展示了这段代码的一个用途——进行时间演化图比较。</p><p id="bf62" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><strong class="lc ir"> <em class="mz">请随时与我联系</em></strong><a class="ae md" href="https://www.linkedin.com/in/jinhangjiang/" rel="noopener ugc nofollow" target="_blank"><strong class="lc ir"><em class="mz">LinkedIn</em></strong></a><strong class="lc ir"><em class="mz">。</em>T13】</strong></p><h1 id="99f9" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">相关阅读:</h1><p id="9f47" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated"><a class="ae md" href="https://medium.com/analytics-vidhya/analyzing-disease-co-occurrence-using-networkx-gephi-and-node2vec-53941da35a0f" rel="noopener">使用NetworkX、Gephi和Node2Vec分析疾病共现</a></p><p id="4f7e" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><em class="mz">我是在堪萨斯大学商学院商业分析助理教授</em><a class="ae md" href="https://business.ku.edu/people/karthik-srinivasan" rel="noopener ugc nofollow" target="_blank"><em class="mz">Karthik Srinivasan</em></a><em class="mz">博士的指导下完成这篇博客的。</em></p></div></div>    
</body>
</html>