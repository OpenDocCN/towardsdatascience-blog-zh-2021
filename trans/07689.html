<html>
<head>
<title>2 Types of Duplicate Features in Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习中的两种重复特征</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/2-types-of-duplicate-features-in-machine-learning-2931de6c949b?source=collection_archive---------13-----------------------#2021-07-14">https://towardsdatascience.com/2-types-of-duplicate-features-in-machine-learning-2931de6c949b?source=collection_archive---------13-----------------------#2021-07-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5a7f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用fast_ml进行特征选择</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3918ea0f23f6e9f0afde18aa53d33594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1c5JIWrhfDeBN_wV"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@tolga__?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">托尔加·乌尔坎</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><h1 id="2f7f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="8a61" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在大多数情况下，顶尖数据科学家与其他人有两个区别:<strong class="lt iu">特征创建</strong>和<strong class="lt iu">特征选择</strong>。即，创建捕捉关于业务或客户的更深/隐藏的洞察力的特征，然后做出关于为您的模型选择哪些特征的正确选择。</p><h1 id="0063" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">特征选择在机器学习中的重要性</h1><p id="677e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">特征选择是在开发预测模型时减少输入变量数量的过程。</p><p id="2d56" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在一个广泛的特性工程步骤之后，你会得到大量的特性。您可能无法使用模型中的所有功能。您可能会对只给模型添加那些重要的特性感兴趣，或者删除那些没有任何预测能力的特性。它降低了模型训练的计算成本，也提高了模型的性能。</p><p id="f24f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在之前的帖子中，我们已经看到了<a class="ae ky" rel="noopener" target="_blank" href="/how-to-detect-constant-quasi-constant-features-in-your-dataset-a1ab7aea34b4">如何检测常量和准常量特征。</a></p><p id="e35a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这篇文章是为了识别所有重复的功能。这些可能有两种类型:</p><ol class=""><li id="9c9c" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">重复值:当两个要素具有相同的一组值时</li><li id="2e1c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">重复索引:当两个特征的值不同时，但是它们出现在相同的索引处</li></ol><h1 id="b427" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">我们来详细了解一下这个</h1><h1 id="9234" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">1.重复值(每条记录的值相同)</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/a2622490950d9c4079ea3a3731a54f06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VGIb1HSfd7Ym-vdHj1pukQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。对于每条记录，两个要素具有相同的值</p></figure><p id="85f3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如示例图像所示，汽车的销售年份与制造年份相同；那么，这两个特征本质上说的是同一个东西。你的机器学习模型不会通过训练这两个功能来学习任何有见地的东西。您最好删除其中一个功能。同样，还可能有更多这样的特性，您需要一种编程方式来识别这些特性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="a20f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1)使用<code class="fe nj nk nl nm b">get_duplicate_features</code>函数获取所有常量特征。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/f5d9dbac0f8d05878bf0d7352b23ff20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OlNTgAZ3Xey-BEyeiRxWwA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。在一行代码中，您可以检测到所有具有重复值的特性</p></figure><p id="41ab" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2)将所有重复要素存储为列表，以便从数据集中移除。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/7666467a3e95762428bfeaea051e8ab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jv2UZfzO4ONzfNYbABXfZQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。所有重复的特征作为一个列表</p></figure><p id="5b61" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3)从数据集中删除所有此类要素。我们可以看到功能的数量从301下降到了251。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/40100ca2f30330252fa04ac71a4c856c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lYCj38Q6V3ULk3DWKC3f8A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。从数据集中移除所有重复要素</p></figure><h1 id="1598" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">2.重复索引(两个特征的值不同，但它们出现在相同的索引处)</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/240173546a4705aba9c6e7afe9094144.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K9pmmUxWAQAWh0Z_7Ya45w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。两个特征的值不同，但它们出现在相同的行中。</p></figure><p id="9ec4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如示例图所示，所有“凯美瑞”汽车都是2018年的，所有“卡罗拉”汽车都是2019年的。从训练中的这些功能中，你的机器学习模型没有什么深刻的见解。我还可以对<code class="fe nj nk nl nm b">Car Model</code>做整数编码，把凯美瑞换成2018，卡罗拉换成2019。那么它与上述重复值的情况1相同。你最好放弃这两个特性中的一个。同样，还可能有更多这样的特性，您需要一种编程方式来识别这些特性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="d503" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1)使用<code class="fe nj nk nl nm b">get_duplicate_features</code>函数获取所有常量特征。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/a226f24ba43379b1d97195f4d43d9930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ri1A-mgZHTDeqfszX8b4GA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。在一行代码中，您可以检测到所有具有重复索引的特性</p></figure><p id="0e40" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2)将所有重复的索引要素存储为列表，以便从数据集中移除。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/3366c019e91e790caff699bc64d97e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-R4Mz_LY8CVz3l62PnnCZg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。所有重复的索引特征作为一个列表</p></figure><p id="7850" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3)从数据集中删除所有此类要素。我们可以看到，功能的数量从251个下降到了226个。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/f4199758290a5ba7845b301972dc7b1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aUe5j2agfsh_W6TE6RhPpw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。从数据集中移除所有重复的索引要素</p></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="4242" class="kz la it bd lb lc nv le lf lg nw li lj jz nx ka ll kc ny kd ln kf nz kg lp lq bi translated">摘要</h1><p id="bd47" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在数据集中保留重复要素会带来多重共线性问题。<br/> —在线性模型的情况下，两个特征之间的权重分配会有问题。<br/> —如果你使用的是基于树的模式，这无关紧要，除非你着眼于特性的重要性。<br/> —在基于距离的模型中，它将使该特征在距离中更重要。</p><p id="327c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">用于检测具有重复值或重复索引的特征的代码片段:</strong></p><pre class="kj kk kl km gt oa nm ob oc aw od bi"><span id="f685" class="oe la it nm b gy of og l oh oi"><strong class="nm iu"># Import required functions</strong><br/>from fast_ml.utilities import display_all<br/>from fast_ml.feature_selection import get_duplicate_features</span><span id="195b" class="oe la it nm b gy oj og l oh oi"><strong class="nm iu"># Use the function to get the results in dataframe</strong><br/>duplicate_features = get_duplicate_features(df)<br/>display_all(duplicate_features)</span><span id="40df" class="oe la it nm b gy oj og l oh oi"><strong class="nm iu"># All the constant features stored in a list</strong><br/>duplicate_features_list = duplicate_features['feature2'].to_list()</span><span id="7eb5" class="oe la it nm b gy oj og l oh oi"><strong class="nm iu"># Drop all the constant features from the dataset</strong><br/>df.drop(columns = duplicate_features_list, inplace=True)</span></pre></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="76fc" class="kz la it bd lb lc nv le lf lg nw li lj jz nx ka ll kc ny kd ln kf nz kg lp lq bi translated">关于Fast_ml</h1><ul class=""><li id="7b9e" class="ms mt it lt b lu lv lx ly ma ok me ol mi om mm on my mz na bi translated"><a class="ae ky" href="https://pypi.org/project/fast-ml/" rel="noopener ugc nofollow" target="_blank">由数据科学家为数据科学家打包；带Scikit-learn type fit() transform()功能</a></li><li id="d1b8" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">有许多内置功能可以让数据科学家的生活变得更加轻松</li><li id="586b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">—探索性数据分析</li><li id="575a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">—缺失值处理</li><li id="46dd" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">—异常值处理</li><li id="6523" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">—特征工程</li><li id="5741" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">—特征选择</li><li id="ea23" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">—模型开发</li><li id="2763" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">—模型评估</li></ul><h1 id="20c1" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">感谢阅读！！</h1><ul class=""><li id="350c" class="ms mt it lt b lu lv lx ly ma ok me ol mi om mm on my mz na bi translated">如果你喜欢这个，<a class="ae ky" href="https://samarthagrawal86.medium.com/" rel="noopener">关注我的medium </a>了解更多。</li><li id="1e46" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">有兴趣合作吗？我们上<a class="ae ky" href="https://www.linkedin.com/in/samarth-agrawal-2501/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>连线吧。</li><li id="745b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">请随意写下您的想法/建议/反馈。</li><li id="07b3" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated"><a class="ae ky" href="https://www.kaggle.com/nextbigwhat/detect-duplicate-features-in-dataset" rel="noopener ugc nofollow" target="_blank">卡格尔链接</a></li></ul><p id="2c5c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">笔记本可在以下位置获得，并附有完整的功能代码:</p><div class="oo op gp gr oq or"><a href="https://www.kaggle.com/nextbigwhat/detect-duplicate-features-in-dataset" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd iu gy z fp ow fr fs ox fu fw is bi translated">检测数据集中的重复要素</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">使用Kaggle笔记本探索和运行机器学习代码|使用来自实践数据集的数据进行二进制…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">www.kaggle.com</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf ks or"/></div></div></a></div></div></div>    
</body>
</html>