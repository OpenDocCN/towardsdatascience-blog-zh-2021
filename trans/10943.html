<html>
<head>
<title>Exploratory Data Analysis (EDA) in Python using SQL and Seaborn (SNS)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SQL和Seaborn (SNS)在Python中进行探索性数据分析(EDA)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploratory-data-analysis-eda-in-python-using-sql-and-seaborn-sns-d1f3bfcc78af?source=collection_archive---------9-----------------------#2021-10-25">https://towardsdatascience.com/exploratory-data-analysis-eda-in-python-using-sql-and-seaborn-sns-d1f3bfcc78af?source=collection_archive---------9-----------------------#2021-10-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="322b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi ko translated">探索性数据分析(EDA)是一种分析数据集以总结其主要特征的方法，通常使用统计图形和其他数据可视化方法。可以使用或不使用各种统计模型，但EDA主要用于查看数据可以告诉我们什么，而不仅仅是正式的建模或假设检验任务。</p><p id="513b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你猜怎么着…总是…</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi kx"><img src="../Images/c5618d1b4e79f24ed191ac7fa2bc109c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gwh4ElgPDfTIF0AfGxrdxQ.jpeg"/></div></div><p class="lj lk gj gh gi ll lm bd b be z dk translated">图片来自unsplash.com</p></figure></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="ccfa" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">为什么我首先要做EDA？</h1><p id="6f4a" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">我认为更合适的问题是:</p><blockquote class="mx my mz"><p id="7f6f" class="jq jr na js b jt ju jv jw jx jy jz ka nb kc kd ke nc kg kh ki nd kk kl km kn im bi translated">哪种情况下不应该用EDA？</p></blockquote><p id="5be0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">EDA是数据科学中至关重要的一步，它允许我们<strong class="js iu">获得某些洞察力，并对我们正在处理的数据进行统计测量</strong>。这对无穷无尽的用户来说是必不可少的，包括业务经理、利益相关者、数据科学家等等。</p><p id="5ecc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于数据科学家来说，EDA有助于定义和完善我们的重要特征变量选择，这将用于尚未训练的机器学习模型。</p><p id="12ec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个故事中，出于演示目的，我们将使用一些<a class="ae ne" href="https://github.com/quaesito/ml-fitbit/tree/main/data" rel="noopener ugc nofollow" target="_blank"> FitBit数据</a>。</p><p id="52d7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">健身追踪器数据是数据科学家、统计学家、医学专家、生理学家和心理学家的热门研究领域，仅举几个学术研究领域为例。检测复杂时间序列数据(如FitBit Fitness Tracker数据)中的关系可以是建立日常生活模式的一种方式，也是检测这些模式偏差的一种方式。</p><p id="65d7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个好的EDA可以帮助发现这些…</p></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="5a1e" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">分析</h1><p id="5fd3" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">对Fitbit数据进行彻底的分析。重点介绍并讨论了关键发现。本文提供的分析使用从33个不同用户收集的940个数据点来执行。</p><p id="be17" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在阅读这个故事的同时，我希望向你传达驱动代码编写的推理和逻辑。</p><p id="65b7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，为了了解这些用户的生活方式，我们根据用户的活动水平绘制了分钟数和距离。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nh"><img src="../Images/78757276063d4c3792cec4e3b1a2a652.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fiS0magu7EI4_s14KZ-2Og.png"/></div></div></figure><p id="f85a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">正如预期的那样，<em class="na">非常活跃的</em>距离用更短的时间行驶(也就是说，它们用更陡的回归线表示更大的速度)。这里一个有点出乎意料的结果是<em class="na">轻活动分钟</em>比<em class="na">公平活动分钟</em>导致更高的速度。了解这种分类是如何进行的，以便真正理解“轻度”活动和“中度”活动之间的区别，这将是很有趣的。</p><p id="3268" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们对<em class="na">总步数</em>与<em class="na">卡路里… </em>做一些简单的线性回归</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi ni"><img src="../Images/b33d2223a013632db214d788d37484f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VHtfhXnP0XHc0r5VAdkNjA.png"/></div></div></figure><p id="a216" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">再一次，正如预期的那样，随着用户走的步数增加，一天燃烧的卡路里量也增加了。一个有趣的事实是，回归线的截距代表了不采取措施的一天燃烧的卡路里量。这是使用者在久坐的一天中燃烧的卡路里量。根据<a class="ae ne" href="http://healthline.com" rel="noopener ugc nofollow" target="_blank">健康线</a>部位，这个数字对应的是基础代谢率。</p><p id="e93c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们知道用户的性别、体重、身高和年龄，就可以计算出这个值。例如，他们报告称，体重175磅、身高5英尺11英寸的35岁男性的基础代谢率为1816卡路里，而体重135磅、身高5英尺5英寸的35岁女性的基础代谢率为1383卡路里。为了将这些估计值与我们的数据进行比较，我们可以使用线性回归得到截距值。预测的基础代谢率约为1665.74(介于35岁女性和男性的预测值之间)。</p><p id="93eb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们只过滤零步骤的数据点，并获得卡路里分布的统计数据，我们可以进一步获得用户的基础代谢率信息。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nj"><img src="../Images/284e8d0376552011aee4198822255d4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZmY5yY25QQwVDxDHa6FsRQ.png"/></div></div></figure><p id="590d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们看看<em class="na">非常活跃分钟</em>、<em class="na">公平活跃分钟</em>和<em class="na">轻微活跃分钟……</em>的数据分布</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nk"><img src="../Images/95ca40d498de2a3774d25de126d192c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2vMeMDkb_8xn6uoEPCelA.png"/></div></div></figure><p id="0bac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里有一个问题:不清楚是否所有用户在分析期间的一整天都在使用健身追踪器。如果用户记录了一整天，那么<em class="na">VeryActiveMinutes</em>+<em class="na">FairlyActiveMinutes</em>+<em class="na">LightlyActiveMinutes</em>+<em class="na">sedentaryments</em>的总和应该等于1440分钟(一天的总分钟数)。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nl"><img src="../Images/883611851fdf30144bdb847bd86cc3bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hQYXH176ZIQMPPFDQ17TpQ.png"/></div></div></figure><p id="5e66" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从上面的代码片段中，我们得出</p><pre class="ky kz la lb gt nm nn no np aw nq bi"><span id="5c4c" class="nr lv it nn b gy ns nt l nu nv">There are 474 (out of 936) rows where users logged the whole day.</span><span id="825a" class="nr lv it nn b gy nw nt l nu nv">There are 462 rows where users logged parts of the day.</span></pre><p id="103a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="na"> LightlyActiveMinutes </em>分布非常对称，在活动的几分钟内没有峰值。记录一整天的用户可能最终会注册大量的<em class="na"> LightlyActiveMinutes </em>，而那些只记录一天中一部分时间的用户可能只注册需求较高的活动。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nx"><img src="../Images/32a87219f74810e7952528a79a74bf0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rcqy-j7OlD22spc0EpzwFw.png"/></div></div></figure><p id="28eb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们来看看睡眠习惯…</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nx"><img src="../Images/408490df90dd2b66aa04a99b10f1b63a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sh1eXryzpsfL4H9bERMRmQ.png"/></div></div></figure><p id="55a5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">星期几有什么不同吗？现在我们已经看了一下我们的数据及其分布，一周中的哪一天会对用户行为产生相当大的影响吗？</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi ny"><img src="../Images/273ae50bda1d4717b50d9042deda415a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rz6RfV_W7NVVZOup9yOluQ.png"/></div></div></figure><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nz"><img src="../Images/fb9214f2121e9b1c9f33e77dbd917ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XzMrJCBjKAfiaPzRFq0LoQ.png"/></div></div></figure><p id="d1cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">周末久坐分钟有什么变化？</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nj"><img src="../Images/4a6261f069f90d800e77c13128098902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kBzK1OpqQu5jX6UyK6UEMQ.png"/></div></div></figure><p id="f318" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种分布如何依赖于周末？</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi oa"><img src="../Images/c2d2689d83c2ff8e9ea5ab9f114a7f44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bw38JbYCuf_Q4np8LZtfbQ.png"/></div></div></figure><p id="ee8b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们现在已经根据<em class="na">日均分钟数</em>的分布区分了两组用户</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi ob"><img src="../Images/11029aef01977364832c6f26c527fdd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3V3DLNlymQEZXEaDz5HLRw.png"/></div></div></figure><p id="8017" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">似乎我们已经发现了一个趋势，这两个组有一个明显的偏移，似乎在边界线附近。让我们验证一下…</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi oc"><img src="../Images/51131c9f4193acf379f503e341c4e8ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*foKXnOv5yMYclzPgBxxMMw.png"/></div></div></figure><p id="e4ee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这里，我们发现了一个明显的趋势，即睡眠时间越长的用户越少久坐。这表明睡得最多的用户往往在白天也更活跃。</p></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="b7b0" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">数据洞察</h1><p id="add2" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">仅使用我们33个用户的日常活动，我们得出了一些有趣的结论！</p><p id="ed8d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这里，我包括了从上面的EDA中得到的一些高层次的见解:</p><ul class=""><li id="4c57" class="od oe it js b jt ju jx jy kb of kf og kj oh kn oi oj ok ol bi translated">在一周的不同日子里，用户活动没有明显的区别；平均每天走的步数在7670左右。</li><li id="15ef" class="od oe it js b jt om jx on kb oo kf op kj oq kn oi oj ok ol bi translated">根据来自<a class="ae ne" href="https://www.cdc.gov/prc/index.htm" rel="noopener ugc nofollow" target="_blank"> CDC </a> : <em class="na">的一些研究，“……较高的每日步数与较低的各种原因的死亡风险相关。”</em>疾病预防控制中心还告诉我们:<em class="na">“…与成人每天走4000步相比，这个数字被认为是低的，每天走8000步与全因死亡率(或全因死亡)降低51%相关。每天走12000步比走4000步的风险低65%。”</em></li></ul><blockquote class="mx my mz"><p id="0c31" class="jq jr na js b jt ju jv jw jx jy jz ka nb kc kd ke nc kg kh ki nd kk kl km kn im bi translated">如果目标是燃烧一些卡路里，我们发现所采取的步骤和燃烧的卡路里之间存在线性关系。因此，我们可以使用用户数据来拟合模型，并预测用户应该走多少步才能达到一定的卡路里燃烧量。</p></blockquote><ul class=""><li id="c94e" class="od oe it js b jt ju jx jy kb of kf og kj oh kn oi oj ok ol bi translated">关于睡眠习惯，随着睡眠时间的增加，久坐时间明显减少。</li></ul></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="9398" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">接下来呢？</h1><p id="e3d2" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">EDA通常是为了获得数据洞察力，这可以帮助我们完成机器学习任务。在接下来的故事中，我们使用相同的数据集和衍生的见解来训练几个机器学习模型，以解决回归问题。</p><div class="or os gp gr ot ou"><a rel="noopener follow" target="_blank" href="/solution-of-a-regression-problem-with-machine-learning-in-python-using-sklearn-and-xgboost-and-ea19afdfc067"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">使用Sklearn、XGBoost和PySpark在Python中进行回归</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">机器学习常用于解决回归问题。更具体地说，回归的应用…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">towardsdatascience.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi lh ou"/></div></div></a></div></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><p id="3a37" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你喜欢我的故事，并想跳到有代码和完整数据集的笔记本，我已经在我个人的<a class="ae ne" href="https://github.com/quaesito" rel="noopener ugc nofollow" target="_blank"> git </a>上的<a class="ae ne" href="https://github.com/quaesito/ml-fitbit" rel="noopener ugc nofollow" target="_blank"> repo </a>中发布了它。</p></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><p id="d8cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">给回购打个星:)</p><p id="6308" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你在数据科学和/或人工智能项目上需要任何帮助，请随时通过<a class="ae ne" href="https://www.linkedin.com/in/micheledefilippo/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>或<a class="ae ne" href="http://midasanalytics.ai" rel="noopener ugc nofollow" target="_blank"> midasanalytics.ai </a>联系我</p></div></div>    
</body>
</html>