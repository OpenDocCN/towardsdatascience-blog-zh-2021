<html>
<head>
<title>The First Ten Primary Concepts and Code Examples For Using Kubernetes Productively</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">高效使用Kubernetes的前十个主要概念和代码示例</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-first-nine-primary-concepts-and-code-examples-for-using-kubernetes-productively-d2aabccc0380?source=collection_archive---------35-----------------------#2021-08-18">https://towardsdatascience.com/the-first-nine-primary-concepts-and-code-examples-for-using-kubernetes-productively-d2aabccc0380?source=collection_archive---------35-----------------------#2021-08-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="6775" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Kubernetes的解释和使用不应该讨论内部架构组件。相反，我用代码示例讨论Kubernetes的基本概念。最后，作为奖励，Kubernetes在设计上有一个明显的漏洞。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/b5633296fd080e02b3a7ec3f65c5a5d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KEMZIHHpOS8XZfoGrSmOOA.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">Kubernetes编排了一个由网络连接的虚拟机云或分布。在<a class="ae le" href="https://unsplash.com/s/photos/orchestra?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae le" href="https://unsplash.com/@gwundrig?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Manuel n Geli</a>拍摄的照片</p></figure><h1 id="6e7e" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">不使用Kubernetes部署和管理应用程序</h1><p id="6731" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">无论是个人、初创公司还是大型企业，在你向公众推出应用的第一天，都会有少量用户。</p><p id="2efa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第二天或者第三周呢？它会是一个哑弹还是会被广泛传播？</p><p id="2aa0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">病毒意味着大量的用户。您必须开发和测试软件，以便将不断增加的用户负载分散到您正在交换的计算资源中。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mi"><img src="../Images/3548d45e614ae300f6c4cfd00e15c3dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_q5GV4KG1WEV9gjioTTi_g.gif"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">可扩展性意味着计算资源(节点)随着用户负载的增加而增加，模式随着用户负载的减少而闲置——作者的动画。</p></figure><p id="2241" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你有负载平衡软件就最好了。</p><p id="7341" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">添加计算机节点时，一些早期安装的计算机节点会出现故障。</p><p id="53cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您必须开发和测试软件来检测、切换、恢复和切换出故障节点。</p><p id="9864" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果有故障管理软件就最好了。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mi"><img src="../Images/5f2253c61f9e6af0ace7b994b5fa7774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WLFMQ_zrP5Z1dtMBQVmxOA.gif"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">可扩展性意味着计算资源和应用程序副本(节点)代替了故障节点(红色)——作者的动画。</p></figure><p id="3c75" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">容错和可扩展性要求监控许多节点。我们需要知道哪些节点正在运行，哪些节点空闲，哪些节点出现了故障。</p><p id="1bb5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">金发女孩寓言是关于云的使用和成本的一课。</p><p id="0cab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您不希望分配太多的节点，也不希望分配太少的节点。您希望为您的应用程序分配“<em class="mj">恰到好处的</em>数量的节点。</p><p id="8bec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您有一个从无用应用程序到病毒应用程序的最佳扩展解决方案——Kubernetes。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="7399" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">为什么使用Kubernetes？</h1><p id="0f0f" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">嗯，上面的讨论有一些使用Kubernetes的好理由。以下列举了更多的原因:</p><h2 id="89b1" class="mw lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">充足的理由</h2><ol class=""><li id="1429" class="ni nj it js b jt md jx me kb nk kf nl kj nm kn nn no np nq bi translated">Kubernetes是免费的。</li><li id="7d7f" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">Kubernetes是<a class="ae le" href="https://github.com/kubernetes/kubernetes" rel="noopener ugc nofollow" target="_blank">开源</a>。</li><li id="2f02" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">Kubernetes有一个庞大的贡献者社区。</li><li id="ef66" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">Kubernetes在谷歌积累了15年的经验，使用名为<a class="ae le" href="https://research.google.com/pubs/pub43438.html" rel="noopener ugc nofollow" target="_blank"> Borg </a>的系统大规模运行生产工作负载。</li><li id="2870" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">云计算基金会管理着Kubernetes ( <a class="ae le" href="https://www.cncf.io/about" rel="noopener ugc nofollow" target="_blank"> CNCF </a>)(不是谷歌)。</li></ol><h2 id="80a5" class="mw lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">更好的理由</h2><p id="db36" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这些都是很好的理由，我还可以列举更多。然而，对我来说更重要的原因是什么呢？</p><ol class=""><li id="00c7" class="ni nj it js b jt ju jx jy kb nw kf nx kj ny kn nn no np nq bi translated">Kubernetes实际上是唯一的云操作系统。云供应商提供的其他服务是黑盒软件即服务(SasS)或您必须通过网络连接的单个对象。</li><li id="4632" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">Kubernetes既可以是陈述性的，也可以是命令性的。</li></ol><div class="nz oa gp gr ob oc"><a href="https://medium.com/payscale-tech/imperative-vs-declarative-a-kubernetes-tutorial-4be66c5d8914" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">命令式与陈述式——Kubernetes教程</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">有两种基本的方式部署到Kubernetes:命令式的，使用许多kubectl命令，或者声明式的，通过…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq ky oc"/></div></div></a></div><h1 id="82cf" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">我最好的理由</h1><p id="79f0" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这些都是很好的理由，我还可以列举更多。然而，对我来说最重要的原因是什么？</p><ol class=""><li id="de06" class="ni nj it js b jt ju jx jy kb nw kf nx kj ny kn nn no np nq bi translated">弹性和可伸缩性是Kubernetes的中心主题；</li><li id="a5a9" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">在Kubernetes中，弹性(容错)和可伸缩性是声明性的；</li><li id="fc15" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">Kubernetes根据用户工作负载进行扩展。</li><li id="a538" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">Kubernetes支持更改，例如图像更新，而不会给最终用户带来停机时间。</li><li id="9d97" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">我可以在我的沙箱或任何联网的计算资源集群上使用Kubernetes作为分布式操作系统。</li></ol><div class="nz oa gp gr ob oc"><a href="https://alexellisuk.medium.com/walk-through-install-kubernetes-to-your-raspberry-pi-in-15-minutes-84a8492dc95a" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">演练——15分钟内将Kubernetes安装到您的树莓派中</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">掸掉你的树莓皮，是时候安装Kubernetes了，这一次，它将是无痛的——通过度量…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">alexellisuk.medium.com</p></div></div><div class="ol l"><div class="or l on oo op ol oq ky oc"/></div></div></a></div><h1 id="2557" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">1.Kubernetes是一个分布式计算操作系统</h1><p id="fdb9" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这个讨论有助于将Kubernetes看作是一个分布式计算资源云的操作系统。</p><p id="d346" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Kubernetes作为一个操作系统有很多部分，是一个复杂的框架。</p><p id="6b7f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不同经历和知识水平的人对Kubernetes的需求是不同的。我试着在我们都能分享的层面上解释Kubernetes。</p><h2 id="377c" class="mw lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">库伯内特生态系统(或护城河)</h2><p id="3909" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">围绕着文档、教程、课程、认证、仪表板、操作方法博客文章、培训工具、持续集成(CI)工具、持续部署工具(CD)、混合云(不止一种云类型)工具和机器学习操作(MLOps)工具，有一个庞大的生态系统。</p><h2 id="25c1" class="mw lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">Kubernetes是开源的。</h2><p id="2e32" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我需要再次提到，Kubernetes是开源的、免费的，并作为托管服务在所有主要的云供应商(亚马逊、谷歌、IBM、通用微软、Paperspace、阿里巴巴、甲骨文等)上提供。</p><h2 id="5c7a" class="mw lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">Kubernetes作为云管理服务(<a class="ae le" href="https://searchcloudcomputing.techtarget.com/definition/Software-as-a-Service" rel="noopener ugc nofollow" target="_blank"> SaaS </a>)。</h2><p id="1175" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">安装、操作和维护您自己的Kubernetes的所有系统管理任务都是作为托管服务为您完成的。</p><p id="ae3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mj">注</em> </strong> <em class="mj"> : Kubernetes作为云厂商的托管服务不是免费的。</em></p><h2 id="45ae" class="mw lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">Kubernetes建筑是美丽的，也是复杂性的最大来源。</h2><p id="a5f0" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">除非您参与了Kubernetes的开源工作或者实现了一个定制工具，否则您不需要了解Kubernetes的架构和内部编排组件。</p><div class="nz oa gp gr ob oc"><a href="https://appfleet.com/blog/understanding-kubernetes-custom-resource-definitions/" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">理解和构建Kubernetes自定义资源定义(CRDs)</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">比如说，你有一个构建在编排平台上的服务或应用，比如Kubernetes。在…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">appfleet.com</p></div></div><div class="ol l"><div class="os l on oo op ol oq ky oc"/></div></div></a></div><p id="63f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我详细介绍了有效使用Kubernetes所需的基本概念，同时避免了Kubernetes内部架构的复杂性。</p><p id="c989" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mj">注意</em></strong><em class="mj">:</em><a class="ae le" href="https://octant.dev/" rel="noopener ugc nofollow" target="_blank"><em class="mj">Octant</em></a><em class="mj">不认为自己是仪表板。然而,“仪表板”使您能够可视化您的Kubernetes工作负载，而不是自上而下的Kubernetes集群视图</em>。<em class="mj">我稍后定义集群。现在，把Kubernetes集群想象成一个应用程序和计算资源的蜂巢。</em></p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="b43e" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">2.什么是云？</h1><p id="f1cd" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">云是无数的异构计算设备。每台不同的计算设备都有自己的硬件、操作系统(裸机),用于托管您的应用程序，您希望复制这些应用程序(扩展)并在应用程序出现故障时重新启动(容错)。</p><p id="3fc2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mj">注</em> </strong> <em class="mj">:我把应用作为一个微服务、应用、包、网络资源、存储服务的通称，或者说</em> <a class="ae le" href="https://www.parallels.com/blogs/ras/aaas-application-as-a-service/" rel="noopener ugc nofollow" target="_blank"> <em class="mj">应用即服务</em></a><em class="mj">(</em><a class="ae le" href="https://www.parallels.com/blogs/ras/aaas-application-as-a-service/" rel="noopener ugc nofollow" target="_blank"><em class="mj">AaaS</em></a><em class="mj">= = Saas)。</em></p><p id="c18f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">云供应商意识到，计算资源是可以作为通用计算类型提供的商品。</p><p id="bc3f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">云供应商联合起来</p><ul class=""><li id="e806" class="ni nj it js b jt ju jx jy kb nw kf nx kj ny kn ot no np nq bi translated">云计算引擎商品</li><li id="2982" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn ot no np nq bi translated">应用程序</li></ul><p id="612a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为您提供为不同类型的应用租用不同类型的计算资源的能力。</p><p id="5575" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mj">注</em> </strong> <em class="mj">:云厂商通过开源许可、免费许可和高带宽联网变得可行。想象一下管理许可支付的成本与云供应商的开源维护成本的对比。</em></p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="baa2" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">3.博格是什么？</h1><p id="1bc6" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">考虑一个服务，您希望跨节点复制(扩展)该服务，并在该服务的节点出现故障(容错)时将该服务移动到另一个节点(计算资源)。</p><p id="c2ac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Google在大约16年前为他们的内部应用和服务创建了Borg，这些应用和服务运行在一个计算资源的hive (Google的内部云)上。</p><blockquote class="ou"><p id="e718" class="ov ow it bd ox oy oz pa pb pc pd kn dk translated">今天，我们揭开了传闻已久的谷歌内部面向容器的集群管理系统Borg的面纱，在学术计算机系统会议<a class="ae le" href="http://eurosys2015.labri.fr/" rel="noopener ugc nofollow" target="_blank"> Eurosys </a>上公布了细节。你可以在这里找到论文<a class="ae le" href="https://research.google.com/pubs/pub43438.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="0680" class="ov ow it bd ox oy oz pa pb pc pd kn dk translated">Kubernetes追溯其血统直接来自博格。许多在Google工作的Kubernetes开发人员以前是Borg项目的开发人员。我们在Kubernetes中融入了Borg的最佳创意，并试图解决用户多年来在Borg中发现的一些痛点。—2015年4月23日，<a class="ae le" href="https://kubernetes.io/blog/2015/04/borg-predecessor-to-kubernetes/" rel="noopener ugc nofollow" target="_blank"> Kubernetes博客文章</a>。</p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="9273" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">4.什么是Kubernetes？</h1><p id="7737" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">Kubernetes是Borg的开源、净化版，增加了许多特性。</p><p id="2a5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Kubernetes概念深刻，难以理解，而且范围仍在扩大。Kubernetes是第n代分布式操作系统。</p><p id="fc9a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我使用不同的方法来理解和直接使用Kubernetes，不讨论Kubernetes的内部组件和架构。</p><p id="dd14" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，我用<a class="ae le" href="https://minikube.sigs.k8s.io/docs/start/" rel="noopener ugc nofollow" target="_blank"> Minkube </a>代码示例和参考详细介绍了Kubernetes的概念，因此:</p><ul class=""><li id="9a63" class="ni nj it js b jt ju jx jy kb nw kf nx kj ny kn ot no np nq bi translated">我们在Kubernetes项目的使用和推广上立竿见影。</li><li id="b58b" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn ot no np nq bi translated">如果你愿意，你可以更深入地了解Kubernetes的概念。</li></ul><p id="01c1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mj">注意</em> </strong> <em class="mj"> : Minikube是一个Kubernetes克隆，运行在您的本地机器上。我的团队用它来训练和测试Kubernetes的配置。需要安装Docker和</em> <code class="fe pe pf pg ph b"><a class="ae le" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">kubectl,</a></code> <em class="mj">才能使用Minikube。</em></p><h2 id="39d0" class="mw lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">5.Kubernetes是二维的。</h2><p id="f26f" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">Kubernetes基线概念存在于两个抽象维度上。第一个维度是节点——计算资源。第二个维度是容器图像—应用程序。</p><p id="0ffa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Kubernetes与云无关，因为:</p><ol class=""><li id="1b75" class="ni nj it js b jt ju jx jy kb nw kf nx kj ny kn nn no np nq bi translated">将物理机引擎转变为虚拟机。然后将虚拟机映射到Kubernetes抽象节点<em class="mj">。</em></li><li id="4993" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">通过将应用程序放入<a class="ae le" href="https://www.cio.com/article/2924995/what-are-containers-and-why-do-you-need-them.html" rel="noopener ugc nofollow" target="_blank">容器</a>映像中，将应用程序转换为一组虚拟应用程序。容器被映射到Kubernetes抽象<em class="mj">pod。</em></li></ol><p id="fb79" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Kubernetes协调pods，在<em class="mj">节点</em>上启动和初始化<em class="mj"> pods </em>，如果它们变得不可达，则在不同的<em class="mj">节点</em>上重新启动<em class="mj"> pods </em>(容错、复制(扩展)pods)，并在pods上执行其他分布式操作系统操作。</p><h2 id="64a9" class="mw lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">安装kubectl</h2><p id="53bd" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">在这篇博客文章中，我经常提到<code class="fe pe pf pg ph b">kubectl</code>。</p><p id="8789" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe pe pf pg ph b">kubectl</code>是您的本地命令行界面(CLI ),用于与单个Kubernetes集群交换声明性或命令性指令。Kubernetes群集位于您的本地沙盒中；我们使用Minikube或通过网络远程操作。</p><p id="2ae6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面这篇博客文章更详细地介绍了如何设置和改变哪个Kubernetes集群<code class="fe pe pf pg ph b">kubectl</code>是针对Minikube的。</p><div class="nz oa gp gr ob oc"><a href="https://itnext.io/is-minikubes-profile-a-kubernetes-cluster-c0f134c5e684" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">Minikube的配置文件是Kubernetes集群吗？</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">我讨论了导致Minikube表现得像Kubernetes的稀疏记录的桥接概念。</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">itnext.io</p></div></div><div class="ol l"><div class="pi l on oo op ol oq ky oc"/></div></div></a></div><p id="8b5e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在调用神奇的Kubernetes控制命令之前，你需要安装<code class="fe pe pf pg ph b"><a class="ae le" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">kubectl,</a></code><a class="ae le" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="6d0e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以使用以下命令在本地沙盒上检查您的安装:</p><pre class="kp kq kr ks gt pj ph pk pl aw pm bi"><span id="d808" class="mw lg it ph b gy pn po l pp pq">kubectl version</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pr"><img src="../Images/f1a59e0b08a0d1083bbdb9ccd0caecc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_A8nJ22Bpm74iDlfeWlkxg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">错误-“连接到…”</p></figure><p id="9e98" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您会看到上面的错误，即输出的最后一行，因为<code class="fe pe pf pg ph b"><a class="ae le" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">kubectl</a></code>输出版本信息，并且试图连接到Kubernetes集群。</p><p id="e975" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面的<code class="fe pe pf pg ph b"><a class="ae le" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">kubectl</a></code>命令显示了哪个集群(<code class="fe pe pf pg ph b"><a class="ae le" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">kubectl</a></code>上下文):</p><pre class="kp kq kr ks gt pj ph pk pl aw pm bi"><span id="354a" class="mw lg it ph b gy pn po l pp pq">kubectl <!-- -->config current-contex</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ps"><img src="../Images/e7f18ecfee1c5d618290f9f17f9857f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dOiou-Ig63cJpsyHxak9oQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">kubectl上下文(集群)被命名为“沙箱”。</p></figure><p id="5b3f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用minikube，我们启动了一个名为“sandbox”的集群。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pt"><img src="../Images/17c83052d93566dcac44aa4c7c969853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YhWuFpcUbx7FUTjdyMtDSQ.png"/></div></div></figure><p id="1a08" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">哎呀，我需要在本地运行Docker。通常我们不必担心，因为Docker是Kubernetes服务的一部分(对于大多数云供应商来说)。</p><p id="94a3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">启动Docker，然后:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pu"><img src="../Images/33c14de5c3effe7405d907b301223491.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VeL8-xZEn2-z7WkPmvFemg.png"/></div></div></figure><p id="ceb9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在试试</p><pre class="kp kq kr ks gt pj ph pk pl aw pm bi"><span id="ba44" class="mw lg it ph b gy pn po l pp pq">kubectl version</span></pre><p id="cbbf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">带输出:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pv"><img src="../Images/2186643008464efaf1f13bb2e854dff5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*biPezl9uKpra9uaJHojkDQ.png"/></div></div></figure><p id="814e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe pe pf pg ph b">kubectl version</code>工作正常。</p><p id="589f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">记住，你必须</p><ol class=""><li id="b1c2" class="ni nj it js b jt ju jx jy kb nw kf nx kj ny kn nn no np nq bi translated">在本地运行Docker</li><li id="dc7c" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">您需要在本地运行一个Minikube集群。</li></ol><p id="a79a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了Minikube，你可以不用云就能完成Kubernetes实验。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="5ed6" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">6.Kubernetes如何扩展？</h1><p id="f784" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">缩放是Kubernetes的两个主要目标中的第一个目标。</p><p id="05b5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">记住Kubernetes的“集群”是沿着计算资源和应用程序两个维度配置的。</p><p id="1147" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Kubernetes“集群”由计算资源和应用程序的自动创建副本组成。通过多路复用到副本，在URL或互联网协议(IP)地址上发送传入请求。</p><p id="f2b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不同的共享(多路复用策略)是通过“负载平衡”算法实现的。这些“负载平衡”算法被选中，或者你放一个自定义的“负载平衡”算法。</p><p id="dd0b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mj">注</em> </strong> <em class="mj">:我建议设置一个合理的节点上限。您或您的组织不希望因意外或恶意使用而收到巨额账单。</em></p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="3584" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">7.Kubernetes是如何实现容错的？</h1><p id="f657" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">容错是Kubernetes的两个首要目标中的第二个目标。</p><p id="229e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们再次利用了Kubernetes创建计算资源和应用程序副本的优势。</p><p id="b5a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Kubernetes workload管理副本，而不是您。任何不响应(失败)的拷贝都可以互换，并从拷贝池中替换。</p><p id="4e4f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们是容错的，因为<em class="mj"> n-1 </em>个副本可能会失败，其中<em class="mj"> n </em>是副本的数量，您仍然可以使用应用程序。</p><p id="f4ee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">无故障时间应该与您使用的计算资源类型相对应。如果应用程序跟踪故障时间，那么您可能在应用程序中有一个或多个潜在的错误。</p><p id="16d6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mj">注</em> </strong> <em class="mj">:我把bug分为两类。“必须修复”应用程序在不到一天内失败的错误，以及“不要担心”应用程序在一天以上失败的错误。我正在利用Kubernetes固有的容错能力。</em></p><p id="7963" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"/></p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="a866" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">8.你可以在你的本地沙盒上玩Kubernetes，或者我在我的台式机或笔记本上用Kubernetes做严肃的工作。</h1><p id="16e0" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">当地Kubernetes使用包装应用。有些是:</p><ul class=""><li id="2cb5" class="ni nj it js b jt ju jx jy kb nw kf nx kj ny kn ot no np nq bi translated"><a class="ae le" href="https://minikube.sigs.k8s.io/docs/start/" rel="noopener ugc nofollow" target="_blank">Minikube</a>；</li><li id="948f" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn ot no np nq bi translated"><a class="ae le" href="https://kind.sigs.k8s.io/" rel="noopener ugc nofollow" target="_blank">种类</a>(代表中的<strong class="js iu">K</strong>ubernetes<strong class="js iu">D</strong>ocker)；</li><li id="4e57" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn ot no np nq bi translated"><a class="ae le" href="https://www.docker.com/products/kubernetes" rel="noopener ugc nofollow" target="_blank"> Docker桌面</a>安装包括Kubernetes。</li></ul><p id="48bb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Minikube是我安装在本地机器上的一个程序，用于培训或测试Kubernetes。</p><p id="2ef0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">和Kubernetes一样，Minikube使用客户端命令行工具<code class="fe pe pf pg ph b"><a class="ae le" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">kubectl</a></code>。然而，Minikube还需要一个名为<code class="fe pe pf pg ph b">minikube.</code>的独立命令行工具</p><p id="8bf2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我在这篇博客文章中展示了Minikube的例子，</p><p id="bd7e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们中的一些人在将Kubernetes配置推送到云端之前，会在本地沙箱(工作站)上使用<a class="ae le" href="https://kubernetes.io/docs/setup/learning-environment/minikube/" rel="noopener ugc nofollow" target="_blank"> Minikube </a>。</p><h2 id="3a1c" class="mw lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">安装minkube和kubectl</h2><p id="1241" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">在调用神奇的Kubernetes控制命令之前，你需要安装 <code class="fe pe pf pg ph b"><a class="ae le" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">kubectl,</a></code>。</p><p id="65aa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来我建议<a class="ae le" href="https://minikube.sigs.k8s.io/docs/start/" rel="noopener ugc nofollow" target="_blank">安装Minkube </a>。使用Minkube，您可以在本地计算机上使用Kubernetes，从而避免使用Kubernetes云服务的潜在高成本。</p><p id="8ef5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Minikube和<code class="fe pe pf pg ph b"><a class="ae le" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">kubectl</a></code>的关系在以下章节中有详细说明:</p><div class="nz oa gp gr ob oc"><a href="https://itnext.io/is-minikubes-profile-a-kubernetes-cluster-c0f134c5e684" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">Minikube的配置文件是Kubernetes集群吗？</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">我讨论了导致Minikube表现得像Kubernetes的稀疏记录的桥接概念。</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">itnext.io</p></div></div><div class="ol l"><div class="pi l on oo op ol oq ky oc"/></div></div></a></div></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="1aae" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">9.您可以在大多数云供应商上部署Kubernetes即服务(SaaS)</h1><p id="2c76" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">大多数主要的云供应商都有自己的k8s版本(<a class="ae le" href="https://searchcloudcomputing.techtarget.com/definition/Software-as-a-Service" rel="noopener ugc nofollow" target="_blank"> SaaS </a>)。其中包括:</p><ol class=""><li id="ce13" class="ni nj it js b jt ju jx jy kb nw kf nx kj ny kn nn no np nq bi translated">Azure Kubernetes服务</li><li id="e478" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated"><a class="ae le" href="https://aws.amazon.com/eks/?whats-new-cards.sort-by=item.additionalFields.postDateTime&amp;whats-new-cards.sort-order=desc&amp;eks-blogs.sort-by=item.additionalFields.createdDate&amp;eks-blogs.sort-order=desc" rel="noopener ugc nofollow" target="_blank">亚马逊弹性Kubernetes服务</a> (EKS)</li><li id="8d7f" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated"><a class="ae le" href="https://cloud.google.com/kubernetes-engine" rel="noopener ugc nofollow" target="_blank">谷歌Kubernetes引擎</a> (GKE)</li><li id="039c" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">国际商用机器公司</li><li id="7deb" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">图纸空间</li></ol><p id="87d3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mj">注</em> </strong> <em class="mj"> : k8s是K</em><strong class="js iu"><em class="mj">ubernete</em></strong><em class="mj">s，其中8是中间字的个数。请不要杀信使。</em></p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="4cd9" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">10.额外收获:Kubernetes的主要不足是</h1><p id="3571" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">Kubernetes和云存在一个明显的漏洞——安全性。云供应商提供的仅仅是登录账户的安全性。</p><p id="a480" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另一个很容易解决的突出问题是dockerfiles用于创建Kubernetes容器映像，在它们的混合命令中使用:</p><pre class="kp kq kr ks gt pj ph pk pl aw pm bi"><span id="313b" class="mw lg it ph b gy pn po l pp pq">USER root<br/>RUN apt-get updat.<br/>.<br/>.</span></pre><p id="b1c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">安全问题是容器以<code class="fe pe pf pg ph b">root</code>特权运行。简单的解决方法是:</p><pre class="kp kq kr ks gt pj ph pk pl aw pm bi"><span id="0487" class="mw lg it ph b gy pn po l pp pq">USER root<br/>RUN apt-get updat.<br/>.<br/>.</span><span id="85ef" class="mw lg it ph b gy pw po l pp pq">USER $USER</span></pre><p id="dde7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另一个安全问题是，容器用新的图像更新，包括带有病毒的图像。</p><p id="e893" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为Kubernetes寻找安全工具。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="47bd" class="lf lg it bd lh li mr lk ll lm ms lo lp lq mt ls lt lu mu lw lx ly mv ma mb mc bi translated">摘要</h1><p id="933c" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这篇文章过去的版本有8000字，并且还在增加。我觉得它太长了，不适合在媒体上发表。</p><p id="53ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，作为参考，它需要留在一起。</p><p id="893c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我通过反向链接以前发表的文章解决了“<em class="mj">待在一起</em>”。另外，每篇文章都可以单独阅读。</p><ol class=""><li id="597c" class="ni nj it js b jt ju jx jy kb nw kf nx kj ny kn nn no np nq bi translated">这篇博客文章是第一部分；</li><li id="b342" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">下一篇博客文章将介绍Kubernetes集群、节点、pod、容器映像、端点和入口对象的七个概念。最后，对调试容器进行了简要描述。</li><li id="bd9d" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">下一篇博客文章将介绍Kubernetes的九个概念——种类、部署、服务和其他六个概念。</li><li id="e883" class="ni nj it js b jt nr jx ns kb nt kf nu kj nv kn nn no np nq bi translated">我计划写一篇博客文章，详细介绍我们使用的丰富的工具生态系统。</li></ol><p id="cc43" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每个博客都有你可以使用的代码。</p><p id="cb0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">快乐高效地编码！</p></div></div>    
</body>
</html>