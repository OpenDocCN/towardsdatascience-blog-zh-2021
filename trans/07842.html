<html>
<head>
<title>Are you Scared, VADER? Understanding how NLP Pre-Processing Impacts VADER Scoring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你害怕吗，VADER？理解自然语言处理预处理如何影响VADER评分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/are-you-scared-vader-understanding-how-nlp-pre-processing-impacts-vader-scoring-4f4edadbc91d?source=collection_archive---------20-----------------------#2021-07-18">https://towardsdatascience.com/are-you-scared-vader-understanding-how-nlp-pre-processing-impacts-vader-scoring-4f4edadbc91d?source=collection_archive---------20-----------------------#2021-07-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="12da" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为什么常见的预处理活动实际上会损害VADER的功能，为什么仔细考虑NLP管道很重要</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b10c529e3930614da32e56ee551560d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QGd6Ja35f1qDqLrH"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">汤米·范·凯塞尔的照片🤙 on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="89bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">VADER ( <a class="ae ky" href="https://www.researchgate.net/publication/275828927_VADER_A_Parsimonious_Rule-based_Model_for_Sentiment_Analysis_of_Social_Media_Text" rel="noopener ugc nofollow" target="_blank"> Valence Aware字典和情感推理机</a>)是由CJ·休顿和Eric Gilbert开发的一个流行的情感分析工具，在研究<a class="ae ky" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7968413/" rel="noopener ugc nofollow" target="_blank">和现场应用中有许多用途。VADER是一个基于规则的模型，该方法可以描述为构建一个“黄金标准”词汇特征列表，以及有用的“强度”度量。</a></p><p id="8cef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以产品评论、推文或描述等输入为例，VADER提供了一个从-1到1的“标准化加权综合得分”，其中-1表示内容非常负面，1表示内容非常正面。使用该工具，还可以获得输入的负/正/中性分数，这也可以为分析提供有用的背景。</p><p id="6a1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在执行自然语言处理任务时，通常要执行一些预处理工作来清理我们的数据集。这些方法可以包括:</p><ul class=""><li id="c09f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">小写字符串</li><li id="4e32" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">删除标点符号</li><li id="3657" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">删除停用词</li><li id="3f19" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">字符串的首字母化</li><li id="5e17" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">词干字符串</li></ul><p id="befc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将研究为什么这些常见的预处理活动实际上会损害VADER的能力，以及为什么仔细考虑您的NLP管道很重要，因为它可能依赖于您实现的模型的<em class="mj">类型</em>。</p><h2 id="03e7" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">维德的情感强度试探法</h2><p id="1936" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">休顿和吉伯特开发了五种关于情感强度的强有力的通用试探法。这些是:</p><ol class=""><li id="c15b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ni mb mc md bi translated">标点符号:这可以增加“强度的大小”，而不修改潜在的情绪。</li><li id="f1e1" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ni mb mc md bi translated">资本化:这也放大了情绪，影响了文本的潜在情绪。</li><li id="1419" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ni mb mc md bi translated">程度修饰语:这些可以减少/增加强度，比如说“尤达是一个非常好的老师”，而不是“尤达是一个好老师”</li><li id="aadc" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ni mb mc md bi translated">“但是”:使用“但是”可以表示极性的转变，例如“克隆人战争很好，但是RoTJ更好”</li><li id="0692" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ni mb mc md bi translated">分析词汇特征之前的三元组:这使得VADER能够识别否定翻转文本极性的变化。</li></ol><p id="717c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分析这些启发，我们可以开始看到常见的NLP清理任务实际上会导致VADER失去一些分析能力。为了把它放在上下文中，我们将看看最常见的以前确定的NLP活动；小写字符串，删除标点符号，删除停用词，词汇化和词干化字符串，看看这些活动如何改变VADER的输出。</p><h2 id="17f1" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">数据集和方法</h2><p id="84c9" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">对于这个例子，我创造了几个简单的句子，真正展示了VADER的力量——回顾它们，你可以看到我们使用了大写和标点符号，并用“但是”改变了极性。</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="9c42" class="mk ml it nk b gy no np l nq nr">sentence_examples = ['I hate working at the mall!',<br/> 'One day I thought today would be a good day, but it was NOT',<br/> 'Spaghetti Bolognaise is my favourite food :)',<br/> 'Yummy food tastes good but pizza tastes SO BAD!!!'<br/> ]</span></pre><h2 id="3f73" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">香草——无预处理</h2><p id="bd5b" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">没有任何预处理，以下是VADER给这些例子的评分:</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="0579" class="mk ml it nk b gy no np l nq nr">I hate working at the mall! — — — — — — — — — — — — — — — — — — — {‘neg’: 0.444, ‘neu’: 0.556, ‘pos’: 0.0, ‘compound’: -0.6114}</span><span id="c031" class="mk ml it nk b gy ns np l nq nr">One day I thought today would be a good day, but it was NOT — — — {‘neg’: 0.0, ‘neu’: 0.87, ‘pos’: 0.13, ‘compound’: 0.2382}</span><span id="a3ad" class="mk ml it nk b gy ns np l nq nr">Spaghetti Bolognaise is my favourite food :) — — — — — — — — — — — {‘neg’: 0.0, ‘neu’: 0.667, ‘pos’: 0.333, ‘compound’: 0.4588}</span><span id="03f6" class="mk ml it nk b gy ns np l nq nr">Yummy food tastes good but pizza tastes SO BAD!!! — — — — — — — — {‘neg’: 0.493, ‘neu’: 0.3, ‘pos’: 0.207, ‘compound’: -0.8661}</span></pre><h2 id="25a4" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">小写内容</h2><p id="4930" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">在我们的第一个例子中，我们将简单地小写我们的内容，并检查VADER如何重新排序句子:</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="256d" class="mk ml it nk b gy no np l nq nr">i hate working at the mall! — — — — — — — — — — — — — — — — — — — {‘neg’: 0.444, ‘neu’: 0.556, ‘pos’: 0.0, ‘compound’: -0.6114}</span><span id="e767" class="mk ml it nk b gy ns np l nq nr">one day i thought today would be a good day, but it was not — — — {‘neg’: 0.0, ‘neu’: 0.87, ‘pos’: 0.13, ‘compound’: 0.2382}</span><span id="a7ff" class="mk ml it nk b gy ns np l nq nr">spaghetti bolognaise is my favourite food :) — — — — — — — — — — — {‘neg’: 0.0, ‘neu’: 0.667, ‘pos’: 0.333, ‘compound’: 0.4588}</span><span id="8515" class="mk ml it nk b gy ns np l nq nr">yummy food tastes good but pizza tastes so bad!!! — — — — — — — — {‘neg’: 0.412, ‘neu’: 0.348, ‘pos’: 0.24, ‘compound’: -0.7152}</span></pre><p id="721a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们可以看到最后一句的否定性有所下降，这表明通过小写，我们已经失去了pos/neg/neut和复合得分的一些细节。</p><h2 id="03dc" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">删除标点符号</h2><p id="710b" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">接下来，我们去掉标点符号。</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="6d8f" class="mk ml it nk b gy no np l nq nr">I hate working at the mall — — — — — — — — — — — — — — — — — — — — {‘neg’: 0.425, ‘neu’: 0.575, ‘pos’: 0.0, ‘compound’: -0.5719}</span><span id="5fc2" class="mk ml it nk b gy ns np l nq nr">One day I thought today would be a good day but it was NOT — — — — {‘neg’: 0.0, ‘neu’: 0.87, ‘pos’: 0.13, ‘compound’: 0.2382}</span><span id="9feb" class="mk ml it nk b gy ns np l nq nr">Spaghetti Bolognaise is my favourite food — — — — — — — — — — — — {‘neg’: 0.0, ‘neu’: 1.0, ‘pos’: 0.0, ‘compound’: 0.0}</span><span id="fb06" class="mk ml it nk b gy ns np l nq nr">Yummy food tastes good but pizza tastes SO BAD — — — — — — — — — — {‘neg’: 0.47, ‘neu’: 0.314, ‘pos’: 0.217, ‘compound’: -0.8332}</span></pre><p id="c82a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们可以看到，在第一个和最后一个例子中，我们已经失去了负面得分，并且“意大利肉酱面是我最喜欢的食物”已经变成了中性。同样，由于执行这些预处理任务，我们丢失了数据中的细节。</p><h2 id="0146" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">删除停用词</h2><p id="3016" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">对于这个例子，我使用了NLTK的英语停用词词典。</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="e3fb" class="mk ml it nk b gy no np l nq nr">hate working mall ! — — — — — — — — — — — — — — — — — — — — — — — {‘neg’: 0.571, ‘neu’: 0.429, ‘pos’: 0.0, ‘compound’: -0.6114}</span><span id="802c" class="mk ml it nk b gy ns np l nq nr">One day thought today would good day , — — — — — — — — — — — — — — {‘neg’: 0.0, ‘neu’: 0.707, ‘pos’: 0.293, ‘compound’: 0.4404}</span><span id="e85d" class="mk ml it nk b gy ns np l nq nr">Spaghetti Bolognaise favourite food : ) — — — — — — — — — — — — — {‘neg’: 0.0, ‘neu’: 1.0, ‘pos’: 0.0, ‘compound’: 0.0}</span><span id="c475" class="mk ml it nk b gy ns np l nq nr">Yummy food tastes good pizza tastes BAD ! ! ! — — — — — — — — — — {‘neg’: 0.23, ‘neu’: 0.38, ‘pos’: 0.39, ‘compound’: 0.4484}</span></pre><p id="a1b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们开始看到一些得分的戏剧性变化。我们对披萨的最终评价从负面变成了0.4484的综合得分。</p><h2 id="1a62" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">字符串的首字母化</h2><p id="438f" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">词汇化和词干化允许我们<a class="ae ky" href="https://www.datacamp.com/community/tutorials/stemming-lemmatization-python" rel="noopener ugc nofollow" target="_blank">获得单词</a>的词根形式。与词干化相比，词汇化将单词简化为有效的词根形式。在这里，我们可以看到我们的lemmatized字符串如何导致不同的评分，以我们的香草的例子，其中所有的功能都被保留:</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="53f9" class="mk ml it nk b gy no np l nq nr">I hate working at the mall ! — — — — — — — — — — — — — — — — — — — {‘neg’: 0.4, ‘neu’: 0.6, ‘pos’: 0.0, ‘compound’: -0.6114}</span><span id="058d" class="mk ml it nk b gy ns np l nq nr">One day I thought today would be a good day , but it wa NOT — — — {‘neg’: 0.0, ‘neu’: 0.878, ‘pos’: 0.122, ‘compound’: 0.2382}</span><span id="0ccb" class="mk ml it nk b gy ns np l nq nr">Spaghetti Bolognaise is my favourite food : ) — — — — — — — — — — {‘neg’: 0.0, ‘neu’: 1.0, ‘pos’: 0.0, ‘compound’: 0.0}</span><span id="9d5a" class="mk ml it nk b gy ns np l nq nr">Yummy food taste good but pizza taste SO BAD ! ! ! — — — — — — — — {‘neg’: 0.429, ‘neu’: 0.391, ‘pos’: 0.18, ‘compound’: -0.8661}</span></pre><h2 id="8430" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">词干字符串</h2><p id="61f6" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">最后，这是我们对字符串进行词干处理的输出:</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="c7f1" class="mk ml it nk b gy no np l nq nr">i hate work at the mall ! — — — — — — — — — — — — — — — — — — — — {‘neg’: 0.4, ‘neu’: 0.6, ‘pos’: 0.0, ‘compound’: -0.6114}</span><span id="1f9e" class="mk ml it nk b gy ns np l nq nr">one day i thought today would be a good day , but it wa not — — — {‘neg’: 0.0, ‘neu’: 0.878, ‘pos’: 0.122, ‘compound’: 0.2382}</span><span id="47a5" class="mk ml it nk b gy ns np l nq nr">spaghetti bolognais is my favourit food : ) — — — — — — — — — — — {‘neg’: 0.0, ‘neu’: 1.0, ‘pos’: 0.0, ‘compound’: 0.0}</span><span id="9e56" class="mk ml it nk b gy ns np l nq nr">yummi food tast good but pizza tast so bad ! ! ! — — — — — — — — — {‘neg’: 0.373, ‘neu’: 0.525, ‘pos’: 0.102, ‘compound’: -0.7999}</span></pre><p id="ea84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，与我们没有预处理文本的普通输出相比，我们可以发现显著的波动。</p><h2 id="1425" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">学习和建议</h2><p id="9a14" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">希望这篇文章能够说明为什么在探索NLP应用程序时仔细考虑您使用的算法或库是至关重要的。我们可以看到，常见的预处理任务，如小写、删除标点符号和单词规范化，实际上可以极大地改变VADER等模型的输出。</p><h2 id="0341" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">有用的链接</h2><p id="37fd" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated"><a class="ae ky" href="http://www.iaeng.org/publication/IMECS2019/IMECS2019_pp12-16.pdf" rel="noopener ugc nofollow" target="_blank">http://www . iaeng . org/publication/imecs 2019/imecs 2019 _ pp12-16 . pdf</a></p><p id="6144" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">【https://pypistats.org/packages/vadersentiment T4】</p><p id="c9fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/cjhutto/vaderSentiment" rel="noopener ugc nofollow" target="_blank">https://github . com/cjhutto/vaderment</a></p></div></div>    
</body>
</html>