<html>
<head>
<title>Publish I3S Scene Layers Service with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python发布I3S场景图层服务</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/publish-i3s-scene-layers-service-with-python-fecc50b18548?source=collection_archive---------29-----------------------#2021-07-14">https://towardsdatascience.com/publish-i3s-scene-layers-service-with-python-fecc50b18548?source=collection_archive---------29-----------------------#2021-07-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3332" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">本地3D模型流服务-不使用ArcGIS Enterprise</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b8dc8a86940f73580ed954e0f58c658b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B3v_DGc6XjmCvze_kzAqKA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">斯图加特的3D建筑模型—在Unity3D中加载I3S场景图层服务</strong>(作者)</p></figure><p id="6261" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在最近的地理数据科学项目中，3D地理可视化工具在多个应用领域发挥了重要作用，如城市规划、室内/室外行人导航、环境模拟、文化遗产或设施管理[1]。近年来，ESRI开发了I3S或索引3D场景层，这是场景层的交付格式规范。它旨在用于表示不同类型的3D数据，如3D建筑模型、集成网格、点云等等。I3S的优势在于它能够通过web以高性能和可扩展性传输大型3D数据集。[2]此外，开放地理空间联盟(OGC)已批准I3S作为社区标准，并于2017年9月公开发布[3]。就个人而言，我喜欢使用I3S，因为它易于使用，并且该服务可由ArcGIS for JavaScript或其他web可视化库(如Deck.gl)或游戏引擎(如Unreal Engine或Unity3D)使用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/153ee85876ad14739299b86f9e69eb5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*10VAuy2_2mmn3dmPV5zw9A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">作者在Deck.gl Web客户端加载I3S中的纽约市3D建筑模型(左)和3D瓷砖(右)</strong></p></figure><h2 id="1f82" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">但是，没有ArcGIS它就无法发布…</h2><p id="b967" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">根据ESRI [4]的说法，您可以通过使用ArcGIS工具(ArcGIS Pro或ArcGIS Online订阅)发布托管场景图层来创建流式3D模型服务。但是，没有ArcGIS Enterprise就无法创建服务。这给许多没有ArcGIS套件并依赖其他产品系列或开源解决方案的项目/组织带来了问题。</p><h2 id="9971" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">可选择的解决方案</h2><p id="6244" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">在本帖中，我想分享一个不使用ArcGIS Enterprise工具发布SLPK或I3S服务的解决方案。还好有个工具叫“Quick _ SLPK _ Server”；这里是作为回购<a class="ae mu" href="https://github.com/CrashedBboy/Quick_SLPK_Server" rel="noopener ugc nofollow" target="_blank">托管的</a>。这不是ESRI的官方工具，但在我的数据集上测试后，我喜欢它。它非常有效。所以，让我们一起尝试使用这个工具来托管SLPK (i3s)服务。</p><p id="20dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">克隆快速SLPK服务器项目</strong></p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="7363" class="lw lx it mw b gy na nb l nc nd">$ <strong class="mw iu">git clone </strong><a class="ae mu" href="https://github.com/CrashedBboy/Quick_SLPK_Server" rel="noopener ugc nofollow" target="_blank"><strong class="mw iu">https://github.com/CrashedBboy/Quick_SLPK_Server</strong></a></span></pre><p id="d233" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">下载开源SLPK服务</strong></p><p id="535e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将使用纽约市LoD2从<a class="ae mu" href="http://www.arcgis.com/home/item.html?id=44039155906640438c906d47fac50301" rel="noopener ugc nofollow" target="_blank">这里</a>。在我的上一篇文章中，有大量的开源3D数据:</p><div class="ne nf gp gr ng nh"><a rel="noopener follow" target="_blank" href="/open-source-3d-semantical-building-models-in-2020-f47c91f6cd97"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd iu gy z fp nm fr fs nn fu fw is bi translated">2020年开源3D语义建筑模型</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">开源3D城市模型的完整列表(2020年10月更新)</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">towardsdatascience.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv ks nh"/></div></div></a></div><p id="40be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准备好SLPK层后，只需将它放在文件夹<code class="fe nw nx ny mw b"><strong class="lb iu">Quick_SLPK_Server\slpk</strong></code>中，在那里您可以克隆repo。</p><h2 id="9830" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">运行SLPK服务器</h2><p id="b375" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">您可以简单地用下面的命令运行服务器</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="b4dd" class="lw lx it mw b gy na nb l nc nd"><strong class="mw iu">$ pip install bottlepy </strong># install dependency<br/><strong class="mw iu">$ python quick_slpk_server.py</strong> # run server</span></pre><p id="5923" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该实现包括用ArcGIS4JS开源工具编写的可视化客户端，您可以通过下面的示例URL访问其内容:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="ad80" class="lw lx it mw b gy na nb l nc nd">URL Pattern &gt; <em class="nz">http://&lt;host&gt;:&lt;port&gt;/carte/&lt;slpk_name&gt;</em><br/>For Example &gt; <a class="ae mu" href="http://localhost:8080/carte/Buildings_NewYork.slpk" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/carte/Buildings_NewYork.slpk</a></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/92efd71bcc9d52205877f92d50fb3951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H9a3G2eFU_aa3QSLATUvPw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">作者从快速SLPK服务器</strong>加载纽约市的3D建筑模型</p></figure><p id="c795" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以通过下面的示例URL访问此SLPK服务器的索引3D场景图层。这使您可以灵活地将此数据图层集成到您需要的任何可视化客户端，例如Deck.gl，而无需依赖ArcGIS套件。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="ccb1" class="lw lx it mw b gy na nb l nc nd">URL Pattern <em class="nz">http://&lt;host&gt;:&lt;port&gt;/carte/&lt;slpk_name&gt;/SceneServer</em><br/>For Example <a class="ae mu" href="http://localhost:8080/Buildings_NewYork.slpk/SceneServer" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/Buildings_NewYork.slpk/SceneServer</a></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/2a074612abcd3790c3c6a281719662fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hhwuauOIfazGD64FsaYJCg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">作者从快速SLPK服务器</strong>加载I3S服务—纽约市</p></figure><h2 id="cabe" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">结论</h2><p id="bfa8" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">本文简要介绍了如何在不依赖ArcGIS套件的情况下使用Python托管和发布I3S场景图层服务，ArcGIS套件为您提供了将此数据图层集成到任何可视化客户端或项目的灵活性。我希望这篇文章对您有所帮助，并且能够将这种技术应用到您的项目中。</p><p id="5aa2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">平安健康！</strong></p></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><h2 id="f529" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">参考</h2><p id="1bd1" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">[1] Esri (2019): <strong class="lb iu">场景图层服务和打包标准</strong>(<a class="ae mu" href="https://github.com/Esri/i3s-spec" rel="noopener ugc nofollow" target="_blank">https://github.com/Esri/i3s-spec</a>)</p><p id="bffa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[2]https://www.ogc.org/standards/i3s(2017):<strong class="lb iu">索引3D场景图层(I3S)标准</strong>(<a class="ae mu" href="https://www.ogc.org/standards/i3s" rel="noopener ugc nofollow" target="_blank"/>)</p><p id="20fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[3] Esri (2021): <strong class="lb iu">发布托管场景图层</strong><a class="ae mu" href="https://enterprise.arcgis.com/en/portal/latest/use/publish-scenes.htm" rel="noopener ugc nofollow" target="_blank">https://enterprise . ArcGIS . com/en/portal/latest/use/Publish-scenes . htm</a></p></div></div>    
</body>
</html>