<html>
<head>
<title>Understand and Compare Cloud Functions vs Cloud Run</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解并比较云功能与云运行</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/understand-and-compare-cloud-functions-vs-cloud-run-5afc2beb2fb?source=collection_archive---------3-----------------------#2021-12-08">https://towardsdatascience.com/understand-and-compare-cloud-functions-vs-cloud-run-5afc2beb2fb?source=collection_archive---------3-----------------------#2021-12-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ff93" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">您是否对哪些GCP组件更合适感到困惑？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8e7bcfdb5b24b96a6ed10e60e49811e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HJHSlRE617KEDDel"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯蒂安·斯塔尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="dfa0" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">介绍</h2><p id="f2ad" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">作为一名数据科学家，您需要决定如何执行模型部署步骤，这可能涉及转换您的脚本并将它们作为微服务进行部署。就我而言，我不知道应该使用哪些GCP组件来部署微服务。我应该部署在云运行还是云功能上？两者都是GCP的无服务器产品，易于部署和处理HTTP请求/事件。因此，我决定进行一些研究，在云功能和云运行上部署相同的微服务，并观察差异。在本文中，我将分享云功能和云运行之间的区别以及部署这两个组件的方法。</p><p id="bc1d" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">在深入研究这两个组件之间的区别之前，让我们先了解一下这两个组件。</p><h2 id="43b6" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">云函数</h2><p id="b4c4" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">云功能第一次公测发布是在2017年3月。云功能是一个事件驱动的无服务器平台，是一个支持个性化服务的轻量级解决方案，可以通过HTTP请求调用，也可以基于后台事件触发。云功能只支持JavaScript、Python、Go等特定语言。代码需要打包成一个功能，云功能组件将处理代码的打包、部署和执行。由于对于每个实例，云功能一次只处理一个请求，因此只有在用例是单一目的工作负载时，它才是合适的。</p><h2 id="d57f" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">云运行</h2><p id="d164" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">Cloud Run测试版的发布晚于Cloud Function，后者于2019年4月首次推出，是对其他GCP无服务器产品的补充。Cloud Run是一个完全托管的计算平台，适合部署容器化的应用程序。Cloud Run允许用户根据自己喜欢的编程语言编写脚本，然后将其推送到Cloud Build并打包成一个容器。与一次仅支持一个请求的云功能相比，云运行能够被配置为在单个容器实例上支持多个并发请求，这允许节省时间和成本。</p><h2 id="82f3" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">在云功能和云运行上部署简单的服务</h2><p id="f73a" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">让我们测试部署一个简单的服务，该服务可以通过HTTP端点触发，并基于两个平台上的用户输入返回一条消息——云功能和云运行。</p><p id="df77" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">预期的输出将根据用户输入返回一条消息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/77d4ea3112aff087ee7d5c4171f2a48e.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*lo2GAuZE9kA5CzZkvgORdA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建的微服务的预期输出(图片由作者提供)</p></figure><p id="b753" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><strong class="lx iu">云功能部署步骤:</strong></p><p id="81ee" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我们可以用接收用户请求的python脚本创建一个HTTP触发器，并在云函数上进行设置。</p><p id="3891" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">(1)创建一个函数并测试它<em class="mu">(*我使用的环境是GCP的Vertex AI Jupyternotebook)</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/94fced20bdc69dc1d1f5950fed54142b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IPXe1hl0jg09tYoQz207yg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建python函数(作者图像)</p></figure><p id="57da" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">(2)进入谷歌云控制台的云功能，选择<strong class="lx iu">创建功能</strong>、<em class="mu">(*如果是第一次，请启用云功能API和云构建API)</em></p><ul class=""><li id="7df8" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">为您的云功能命名</li><li id="ac9e" class="mw mx it lx b ly nf mb ng li nh lm ni lq nj mn nb nc nd ne bi translated">选择一个区域</li><li id="bd23" class="mw mx it lx b ly nf mb ng li nh lm ni lq nj mn nb nc nd ne bi translated">选择HTTP触发器</li><li id="d3d6" class="mw mx it lx b ly nf mb ng li nh lm ni lq nj mn nb nc nd ne bi translated">如果您想从浏览器<em class="mu">触发并调用服务，请允许未经验证的调用(*不建议用于生产管道，但在开发时更容易看到输出)</em></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/73f3abb630023403f39c2fa481b7e257.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*YFNGz5zE0Q1duTlSBOLhxg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">云功能配置(作者图片)</p></figure><p id="e05b" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">(3)下一步，在代码部分-选择运行时到<strong class="lx iu"> Python 3.9 </strong>，指向函数名<strong class="lx iu"> print_message </strong>，并将您的Python函数添加到<strong class="lx iu"> main.py </strong>文件中。</p><ul class=""><li id="301e" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">请注意，要在云函数中传递参数，您将需要使用<em class="mu"> request.args.get() </em>更改函数以处理和检索参数</li></ul><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="5a9a" class="kz la it nm b gy nq nr l ns nt">def print_message(request):<br/>     <br/>    message = request.args.get('msg')<br/>    final_message = f"My Name is {message}, Nice meeting you! " <br/>    <br/>    return final_message</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/71d86daf6aa7e64e7bd89d29ad7382d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DasZIODvMyJBhyfbgziw8A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">更新云功能源代码(作者图片)</p></figure><p id="5738" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">(4)代码更新后，通过选择底部的“部署”按钮来部署该函数——然后该函数将开始在您的GCP环境中部署。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/ec01f9fb161ca994fd1f028d88e12268.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1DznITAtv1C0VhI10BZMiQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">部署云功能“云功能-演示”(作者图片)</p></figure><p id="fb99" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">(5)在浏览器中测试并调用新部署的功能</p><ul class=""><li id="321f" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">您可以在部署的云功能的触发选项卡下检索您的HTTP URL。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/a6f5ef70af10c9765f0973dc2404a846.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PhQPQFkK2xeoPgebxOwPCw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">检索已部署的云功能HTTP URL(按作者列出的图像)</p></figure><ul class=""><li id="addd" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">从您的浏览器调用端点，并通过URL传入您的输入。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/8426aea1468b34a70ee400729554955b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tEZNgqEc5Lp6nZTuq7A5Pw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">测试部署的云功能(作者提供的图像)</p></figure><p id="db19" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">恭喜，感谢您陪我完成了将微服务部署到云功能所需的步骤。现在，让我们看看在云运行时创建相同的微服务所需的步骤。</p><p id="8029" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><strong class="lx iu">云运行时部署步骤:</strong></p><p id="4c24" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">在云运行时创建微服务的方法将需要准备几个文件，这些文件是:</p><ul class=""><li id="fb82" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">main.py</li><li id="ea41" class="mw mx it lx b ly nf mb ng li nh lm ni lq nj mn nb nc nd ne bi translated">文件</li></ul><p id="5b07" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">(1)准备主副本文件和备审文件</p><p id="aa91" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">main.py文件由web框架(FastAPI)和接收用户输入并返回消息的python函数组成。</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="f1bd" class="kz la it nm b gy nq nr l ns nt">import uvicorn<br/>from fastapi import FastAPI<br/>import os</span><span id="2600" class="kz la it nm b gy ny nr l ns nt">app = FastAPI()<br/><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.get("/{msg}")<br/>async def print_message(msg:str):<br/>     <br/>    message = msg<br/>    final_message = f"My Name is {message}, Nice meeting you! " <br/>    <br/>    return final_message</span></pre><p id="064e" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">文件:</p><p id="171a" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">在部署和创建微服务的云运行中，需要将python脚本部署到Docker Container中。Dockerfile指定在容器启动时如何创建容器并运行web服务。</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="fe8a" class="kz la it nm b gy nq nr l ns nt"># Use official lightweight Python image as base OS.<br/>FROM python:3.7-slim</span><span id="23a0" class="kz la it nm b gy ny nr l ns nt"># Copy local code to the container image.<br/>ENV APP_HOME /app<br/>WORKDIR $APP_HOME<br/>COPY . ./</span><span id="7e22" class="kz la it nm b gy ny nr l ns nt"># Install production dependencies.<br/>RUN pip install fastapi uvicorn[standard] gunicorn</span><span id="29f8" class="kz la it nm b gy ny nr l ns nt">ENV PORT 8080</span><span id="5a59" class="kz la it nm b gy ny nr l ns nt">#Run the web service on container startup using gunicorn webserver.<br/>CMD exec gunicorn --bind :$PORT --workers 1 --worker-class uvicorn.workers.UvicornWorker  --threads 8 main:app</span></pre><p id="58f2" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">(2)构建和部署码头工人形象</p><p id="d389" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">在Google Cloud Console上可以使用不同的方法来构建和部署云运行微服务。在我之前的文章中，我分享了通过云壳编辑器部署云运行微服务的方法。在本文中，我将从Vertex AI Jupyternotebook环境进行部署。</p><ul class=""><li id="70e7" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">在您的笔记本中，创建一个特定的文件夹并上传文件——main . py &amp; docker file</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/0c42b92516b4affd2691f6264575fbfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*6O-pze_WgiYEYOw1W50OXg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将所需文件上传到Jupyternotebook(图片由作者提供)</p></figure><ul class=""><li id="81e2" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">在Jupyternotebook中启动/打开终端控制台</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/ba2544a15d8be172c9c192856cfa1b07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cfiUKURsRZPCcGFv9z0--w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">启动终端控制台(图片来自作者)</p></figure><ul class=""><li id="bf56" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">在终端中，导航到包含文件的文件夹</li></ul><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="3b41" class="kz la it nm b gy nq nr l ns nt">cd <!-- -->cloud-run-demo</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/b61c6d8ef2bb70a4481323da1d42bb2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*287JBeIox59630TU-eG3nw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">导航到目标文件夹(按作者排序的图像)</p></figure><ul class=""><li id="11b0" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">配置和设置将部署微服务的区域。</li></ul><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="912d" class="kz la it nm b gy nq nr l ns nt">gcloud config set run/region asia-southeast1</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/0662ea285fc64e2de7bb8eea21a66ab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rDIjHppVZ0MpmoJmaOzOwQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">配置和设置区域(图片由作者提供)</p></figure><ul class=""><li id="0cc1" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">运行命令在所选区域构建新的docker映像。这个过程需要几分钟。</li></ul><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="5225" class="kz la it nm b gy nq nr l ns nt">gcloud builds submit --tag gcr.io/sue-gcp-learn/cloud-run-demo</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/7bd13d96a7becd060794bbcb571c409c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ovT4nefxt25AGMFADTv0vg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">构建Docker图像(由作者创建的图像)</p></figure><ul class=""><li id="b558" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">部署新构建的映像，并提供云运行服务名称。</li></ul><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="d268" class="kz la it nm b gy nq nr l ns nt">gcloud run deploy --image gcr.io/sue-gcp-learn/cloud-run-demo --platform managed</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/478ab24124ad3865721a934750960d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gHEknHa1d7EEAhIdOVfjIA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">部署Docker图像并提供服务名(图像由作者提供)</p></figure><p id="7ff7" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">(3)检查和测试部署的云运行服务</p><ul class=""><li id="bf47" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">微服务URL将在完成部署后提供。该服务也可从云运行控制台获得。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/487997986cac4ec26e516e088c2c66a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f5R0jpRDsBCU2Zt9xQoM-g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">云运行控制台上部署的服务(图片由作者提供)</p></figure><ul class=""><li id="cd30" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated">从浏览器测试并调用云运行端点，并通过URL传入您的输入。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/9f176724fb2c91e6fd3ea483c2ef9758.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TDKHsQDfzBIZ62NxhgJsYg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">测试部署的云运行(图片由作者提供)</p></figure><p id="f3fb" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">恭喜您，与我一起完成了将微服务部署到云运行所需的步骤。现在，您已经掌握了在两个不同的GCP组件上创建微服务的知识。</p><h2 id="5e0d" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">比较云函数和云运行</h2><ul class=""><li id="48a2" class="mw mx it lx b ly lz mb mc li oh lm oi lq oj mn nb nc nd ne bi translated">云功能允许用户基于支持的几种语言部署代码，而云运行没有这种限制，因为您将能够基于用户选择的语言构建和部署容器映像。</li><li id="f7f6" class="mw mx it lx b ly nf mb ng li nh lm ni lq nj mn nb nc nd ne bi translated">对于每个云功能实例，云功能一次仅支持一个请求，而云运行能够同时处理多个请求，并且能够根据需求进行扩展。</li><li id="2a5c" class="mw mx it lx b ly nf mb ng li nh lm ni lq nj mn nb nc nd ne bi translated">云功能能够处理特定的触发器，如FireStore事件和基于云存储上的更改的触发器，而Cloud Run不具备此附加功能。</li></ul><h2 id="daec" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">我个人的结论/偏好</h2><p id="491a" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">我有组件云功能和云运行的经验，我更喜欢云运行，因为它的灵活性和处理并发的能力。因为cloud run使用容器化，所以它被认为是可移植的，可以很容易地部署到另一个环境中，比如本地、另一个地区等。这减少了将来的返工。</p><p id="ec6a" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">尽管如此，我强烈建议您在这两个组件上测试创建您的微服务，如果您有额外的时间，并从您自己的角度比较它们。</p></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><p id="0534" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><em class="mu">感谢你阅读我的文章，如果你喜欢并愿意支持我:</em></p><ul class=""><li id="9f33" class="mw mx it lx b ly mo mb mp li my lm mz lq na mn nb nc nd ne bi translated"><em class="mu">跟我上</em> <a class="ae ky" href="https://iam-suelynn.medium.com/" rel="noopener"> <em class="mu">中</em> </a> <em class="mu"> </em>🙆🏻</li><li id="55ed" class="mw mx it lx b ly nf mb ng li nh lm ni lq nj mn nb nc nd ne bi translated">通过我的<a class="ae ky" href="https://iam-suelynn.medium.com/membership" rel="noopener">推荐链接</a>成为Medium会员🙋</li></ul><p id="c414" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><strong class="lx iu">参考文献&amp;链接:</strong></p><p id="71b7" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">[1]<a class="ae ky" href="https://cloud.google.com/blog/topics/developers-practitioners/cloud-run-story-serverless-containers" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/blog/topics/developers-从业者/cloud-run-story-server less-containers</a></p><p id="f4ec" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">[2]<a class="ae ky" href="https://datatonic.com/insights/cloud-functions-cloud-run-model-serving/" rel="noopener ugc nofollow" target="_blank">https://data tonic . com/insights/cloud-functions-cloud-run-model-serving/</a></p></div></div>    
</body>
</html>