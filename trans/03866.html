<html>
<head>
<title>Python loops: A comprehensive guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python循环:综合指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-loops-a-comprehensive-guide-825f3c14f2cf?source=collection_archive---------13-----------------------#2021-03-31">https://towardsdatascience.com/python-loops-a-comprehensive-guide-825f3c14f2cf?source=collection_archive---------13-----------------------#2021-03-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f3e5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">遍历列表、元组、字典和字符串以及循环控制—中断、继续、传递</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ff169c269fc0fbcbf33022ed7575ab1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sCgqwr7Oz7ub-9g9"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">普里西拉·杜·普里兹在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="06ef" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">什么是循环</strong></h1><p id="8e62" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在编程中，循环意味着以相同的顺序多次重复相同的计算。</p><p id="3526" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">想想现实生活中的情况。你是一名野外生物学家，正在测量森林中的树木。你选择一棵树，测量它的直径和高度，记在你的笔记本上，估计它的总体积。</p><p id="f7a2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">接下来，你选择另一棵树，测量它的直径和高度，记在你的笔记本上，估计它的总体积。</p><p id="0753" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然后，你再选一棵树，测量它的直径和高度，记在你的笔记本上，估计它的总体积。</p><p id="a2cf" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您不断重复相同的过程，直到样本中的所有树都用完为止。在编程行话中，你在每棵树上循环，以相同的顺序执行相同的任务。</p><p id="de8f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">回到编程上来，如果给你一个整数值列表，要求你对每一项求平方，然后加5，最后报告结果——这就是循环的一个例子。</p><h2 id="a73c" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">我们可以循环什么？</h2><p id="45b1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">那么我们能循环什么呢？基本上，任何可迭代的数据类型。Python中的可迭代对象是以不同数据格式存储的值序列，例如:</p><ul class=""><li id="da4d" class="ne nf it lt b lu mn lx mo ma ng me nh mi ni mm nj nk nl nm bi translated">列表(例如[10，12，13，15])</li><li id="963d" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">元组(例如(10，12，13，15)</li><li id="e25f" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">字典(例如{ '姓名':'艾伦'，'年龄':25})</li><li id="6a70" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">字符串(例如“数据科学”)</li></ul><h2 id="7728" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated"><strong class="ak">什么是不同种类的循环？</strong></h2><p id="ce65" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你主要会遇到的两种循环:for循环和while循环。其中，for循环是数据科学问题中最常见的一种。主要区别在于:</p><ul class=""><li id="9508" class="ne nf it lt b lu mn lx mo ma ng me nh mi ni mm nj nk nl nm bi translated">for循环对iterable对象中的每个元素迭代有限次</li><li id="8c20" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">而循环继续进行，直到满足某个条件</li></ul></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h1 id="989d" class="kz la it bd lb lc nz le lf lg oa li lj jz ob ka ll kc oc kd ln kf od kg lp lq bi translated">在列表上循环</h1><p id="b4d3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">遍历列表非常简单。给你一个值列表，要求你对每一项做些什么。假设您有:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="b6d0" class="ms la it of b gy oj ok l ol om">my_list = [1,2,3,4]</span></pre><p id="6efe" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">并且要求您计算列表中每个值的平方:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="cb39" class="ms la it of b gy oj ok l ol om">for each_value in my_list:<br/>    print(each_value * each_value)</span><span id="af2f" class="ms la it of b gy on ok l ol om">Out:<br/>1<br/>4<br/>9<br/>16</span></pre><p id="715e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">类似地，你可以做一些更复杂的循环(例如“嵌套循环”)。例如，给你两个列表，要求你(I)将一个列表的值与另一个相乘，(ii)将它们追加到一个空列表中，以及(iii)打印出新的列表。让我们按顺序来做:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="75b5" class="ms la it of b gy oj ok l ol om">new_list = []</span><span id="b818" class="ms la it of b gy on ok l ol om">list1 = [2, 3, 4]<br/>list2 = [4, 5, 6]</span><span id="62cb" class="ms la it of b gy on ok l ol om">for i in list1:<br/>    for j in list2:<br/>        new_list.append(i*j)<br/>        <br/>print(new_list)</span><span id="5dd4" class="ms la it of b gy on ok l ol om">Out:<br/>[8, 10, 12, 12, 15, 18, 16, 20, 24]</span></pre><h1 id="0ff8" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">在元组上循环</h1><p id="4fd4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">根据元组的结构和要完成的任务，在元组上循环可能有点复杂。</p><p id="1cb3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们将一些元组存储在一个列表中，每个元组代表一个班级中学生的姓名和年龄:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="c9a1" class="ms la it of b gy oj ok l ol om">students = [('Allie', 22), ('Monty', 18), ('Rebecca', 19)]</span></pre><p id="a1f8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在的任务是(I)提取所有年龄,( ii)将它们存储在一个列表中,( iii)计算平均年龄:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="f73d" class="ms la it of b gy oj ok l ol om">ages = []</span><span id="657d" class="ms la it of b gy on ok l ol om">for i,j in students:<br/>    ages.append(j)</span><span id="ac8d" class="ms la it of b gy on ok l ol om">avg = sum(ages)/len(ages)<br/>print(avg)</span><span id="7d27" class="ms la it of b gy on ok l ol om">Out: <br/>19.666666666666668</span></pre><p id="49fe" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里的每个元组包含两项(姓名和年龄)。即使你对名字不感兴趣，通过<em class="oo"> i </em>和<em class="oo"> j </em>你也指定了这两个项目，并要求将项目<em class="oo"> j </em>(年龄)添加到新列表中。叫做“元组解包”。</p><h1 id="63de" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">在字典上循环</h1><p id="fe9e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Python中的字典是一个<a class="ae ky" rel="noopener" target="_blank" href="/working-with-python-dictionaries-a-cheat-sheet-706c14d29da5">键-值对</a>的集合——这意味着字典中的每一项都有一个键和一个关联值。字典的一个例子:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="2025" class="ms la it of b gy oj ok l ol om"># fruit price dictionary<br/>fruit_prices = {"apple": 2.50, "orange": 4.99, "banana": 0.59}</span></pre><p id="f2f6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可以循环遍历这些字典元素，并执行各种操作。这里有几个例子:</p><p id="9012" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">提取字典中的所有键:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="1826" class="ms la it of b gy oj ok l ol om">for i in fruit_prices.keys():<br/>    print(i)</span><span id="8f22" class="ms la it of b gy on ok l ol om">Out:<br/>apple<br/>orange<br/>banana</span></pre><p id="8163" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">将所有值存储在列表中:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="ba11" class="ms la it of b gy oj ok l ol om">values = []<br/>for i in fruit_prices.values():<br/>    values.append(i)<br/>print(values)</span><span id="1f48" class="ms la it of b gy on ok l ol om">Out:<br/>[2.5, 4.99, 0.59]</span></pre><p id="aac3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">挑战:你能在字典中找到所有价格的平均值吗？</p><h1 id="6f25" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">在字符串上循环</h1><p id="6df1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们考虑字符串—“Hello”。它看起来像一个可迭代的对象吗？事实上的确如此。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="f15f" class="ms la it of b gy oj ok l ol om">for i in 'Hello':<br/>    print(i)</span><span id="4fd5" class="ms la it of b gy on ok l ol om">Out:<br/>H<br/>e<br/>l<br/>l<br/>o</span></pre><p id="7e61" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">你可以用for循环解开字符串中的每个字符，并对它们进行各种操作。</p><p id="852a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">同样，也可以迭代一个句子中的每个单词。然而，在这种情况下，需要额外的步骤来拆分句子。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="f7ad" class="ms la it of b gy oj ok l ol om">sent = 'the sky is blue'</span><span id="4d66" class="ms la it of b gy on ok l ol om"># splitting the sentence into words<br/>sent_split = sent.split()</span><span id="1f75" class="ms la it of b gy on ok l ol om"># extract each word with a loop<br/>for i in sent_split:<br/>    print(i)</span><span id="98bd" class="ms la it of b gy on ok l ol om">Out:<br/>the<br/>sky<br/>is<br/>blue</span></pre><h1 id="48c7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">While循环</h1><p id="be3e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">与for循环一样，while循环重复执行一段代码——只要条件为真。只有当循环条件为假时，循环才会中断。</p><p id="9c81" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">while循环的一般结构如下:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="1b7c" class="ms la it of b gy oj ok l ol om">i = 0</span><span id="633e" class="ms la it of b gy on ok l ol om">while i &lt;=5:<br/>    print(i)<br/>    i = i+1 # option to break out of the loop<br/>Out:<br/>0<br/>1<br/>2<br/>3<br/>4<br/>5</span></pre><p id="e8cc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在上面的例子中，在每次迭代中，打印出<em class="oo"> i </em>的值，直到它达到5。此后，while循环条件变为假(即当<em class="oo"> i = 6 </em>时<em class="oo"> i ≤ 5 </em>变为假)。</p><p id="2fd4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">while循环的一个实际用例是在网站上使用您的登录凭证。当您没有提供正确的用户名或密码时，您无法登录<em class="oo">。</em></p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="f0cd" class="ms la it of b gy oj ok l ol om">user_id = 'user101'</span><span id="561f" class="ms la it of b gy on ok l ol om">while True:<br/>    user = input('Enter your user ID: ')<br/>    <br/>    if user == user_id:<br/>        print("You have entered ", user) <br/>        break<br/>    else:<br/>        print("Enter a valid user ID ")</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h1 id="d23c" class="kz la it bd lb lc nz le lf lg oa li lj jz ob ka ll kc oc kd ln kf od kg lp lq bi translated">循环控制:继续、中断、通过</h1><p id="cce3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">所谓的循环控制关键词有三种:break、continue、pass。这些语句改变了循环的流程，并允许程序在某个外部条件被触发时退出或跳过部分循环。</p><h2 id="2c47" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">破裂</h2><p id="ea64" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果循环中存在一个<code class="fe op oq or of b">break </code>语句，当满足一个条件时，它将终止循环。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="915a" class="ms la it of b gy oj ok l ol om">string = 'hello, there'</span><span id="e458" class="ms la it of b gy on ok l ol om">for i in string:<br/>    if i == ',':<br/>        break<br/>    print(i)</span><span id="6e9a" class="ms la it of b gy on ok l ol om">Out:<br/>h<br/>e<br/>l<br/>l<br/>o</span></pre><p id="bbbb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在上面的代码片段中，我们要求程序在找到字符串中的逗号并执行下一条语句(打印I)后立即存在。想想开头给出的现实生活中的例子。作为一名野外生物学家，你在反复测量树木。但是你会打破这个循环——<strong class="lt iu">如果下雨</strong>！</p><h2 id="281c" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">继续</h2><p id="dff7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe op oq or of b">continue</code>语句没有跳出循环，而是简单地跳过一次迭代，继续下一次迭代。</p><p id="403c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们执行上面相同的代码，但是使用continue关键字。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="90b3" class="ms la it of b gy oj ok l ol om">string = 'hello, there'</span><span id="f0a9" class="ms la it of b gy on ok l ol om">for i in string:<br/>    if i == ',':<br/>        continue<br/>    print(i)</span><span id="efc4" class="ms la it of b gy on ok l ol om">Out:<br/>h<br/>e<br/>l<br/>l<br/>o<br/> <br/>t<br/>h<br/>e<br/>r<br/>e</span></pre><p id="fb37" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">所以在这种情况下，如果循环遇到一个逗号，循环就跳过这个逗号继续。</p><p id="4aca" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">因此，在树木测量示例中，如果您遇到一棵枯树/断树，您只需跳过它并继续下一个。</p><h2 id="71cd" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">及格</h2><p id="425f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">不做任何事情，它只是一个还没写完的语句的占位符。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="9db2" class="ms la it of b gy oj ok l ol om">string = 'hello, there'</span><span id="fc49" class="ms la it of b gy on ok l ol om">for i in string:<br/>    pass</span></pre><p id="c20e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果我们没有放一个<code class="fe op oq or of b">pass</code>在那里，它将抛出一个错误消息，其余的代码将不会执行。</p></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="1ce7" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">摘要</h2><p id="5440" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">本文的目的是给出Python中的<code class="fe op oq or of b">for </code>循环和<code class="fe op oq or of b">while </code>循环的直观感受。给出了如何循环遍历列表、元组、字典和字符串等可迭代对象的例子。到最后，循环控制语句的概念——break、continue和pass——都包含了例子。</p><p id="5354" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">本文旨在给出循环如何工作的初步概述。在以后的文章中，我将介绍一些数据科学家在项目中经常遇到的高级循环挑战。</p><p id="4feb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">希望这篇文章是有用的，如果你有意见，请写在下面，或者通过<a class="ae ky" href="https://mab-datasc.medium.com/" rel="noopener">媒体</a>、<a class="ae ky" href="https://twitter.com/DataEnthus" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或<a class="ae ky" href="https://www.linkedin.com/in/mab-alam/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>与我联系。</p></div></div>    
</body>
</html>