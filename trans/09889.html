<html>
<head>
<title>4 Techniques To Deal With Missing Data in Datasets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">处理数据集中缺失数据的4种技术</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-techniques-to-deal-with-missing-data-in-datasets-841f8a303395?source=collection_archive---------4-----------------------#2021-09-17">https://towardsdatascience.com/4-techniques-to-deal-with-missing-data-in-datasets-841f8a303395?source=collection_archive---------4-----------------------#2021-09-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b59d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">可以消除缺失值影响的简单方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/412795ec04156a264374cf9ff13ad4d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3dU5rx6iYuAX44R7"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">兰迪·法特在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="f456" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于每个数据科学家来说，缺失数据都是一个问题，因为我们可能无法执行我们想要的分析，或者无法运行某个模型。在本文中，我将讨论处理缺失值的简单方法。然而，首先，没有处理空数据的“官方”最佳方法。通常，处理这种情况的最佳方式是理解数据来自哪里以及它意味着什么。这被称为领域知识。不管怎样，让我们开始吧。</p><p id="0edc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我们将使用著名的和惊人的<a class="ae ky" href="https://www.kaggle.com/c/titanic" rel="noopener ugc nofollow" target="_blank">泰坦尼克号数据集</a> (CC0许可证)。我相信你们都听说过。数据集如下所示:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0c7e" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu">import</strong> <strong class="lw iu">pandas</strong> <strong class="lw iu">as</strong> <strong class="lw iu">pd<br/></strong>data = pd.read_csv('test.csv')<br/>data.info()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/3074771aa8a5c7bb1f589a6dda49cba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*T0V6bNa5MtM9HXbJjzv1RQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c1b2" class="ma mb it lw b gy mc md l me mf">data.isnull().sum()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/d8b3bf169d99ed997c5cdfc5ebd8d035.png" data-original-src="https://miro.medium.com/v2/resize:fit:284/format:webp/1*NxSbD02-uXoIz27iQnPI0Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="8eca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，丢失的数据只在“年龄”和“船舱”栏中。它们分别是浮点和分类数据类型，所以我们必须不同地处理这两列。</p><h1 id="e7bf" class="mi mb it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">1.删除数据</h1><p id="94a9" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">最简单的方法是删除一列或几列包含空条目的整个训练示例。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="90e9" class="ma mb it lw b gy mc md l me mf">data = data.dropna()<br/>data.isnull().sum()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/997c65f8c9f1f76f7bdddef2f93728e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:248/format:webp/1*meRJfqzKMp-n_sKOr8MVMA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="4664" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在没有空条目了！然而，天下没有免费的午餐。看看还剩下多少训练样本:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/1293f7b016e308008f1320326b336273.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*t4ZJwDxARVBFsUiysejHbQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="92a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只剩下87个例子了！最初有418个，因此我们将数据集减少了大约80%。这远非理想，但对于其他数据集，这种方法可能非常合理。我认为最多减少5%就可以了，否则您可能会丢失有价值的数据，从而影响模型的训练。</p><h1 id="2b71" class="mi mb it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">2.估算平均值</h1><p id="423a" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">下一个方法是给空条目分配一些平均值(均值、中值或众数)。让我们来看看数据中的以下片段:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7ef0" class="ma mb it lw b gy mc md l me mf">data[100:110]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/8c437d9c0707d9513a96aff3c548db95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YkMJH7fFeCqK9vQNtjaiHg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自作者。</p></figure><p id="584b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于“年龄”列，平均值可计算如下:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7a67" class="ma mb it lw b gy mc md l me mf">data.fillna(data.mean(), inplace=<strong class="lw iu">True</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/e5a668b6ba151ce5e096b035674b2d95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cYqc-UPCrlXNNicX8n3kSw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自作者。</p></figure><p id="a7f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">30岁的平均年龄现在已经被添加到空条目中。注意，对于“Cabin”列，条目仍然是NaN，因为您不能计算对象数据类型的平均值，因为它是分类的。这可以通过计算其模式来解决:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2939" class="ma mb it lw b gy mc md l me mf">data = data.fillna(data['Cabin'].value_counts().index[0])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/c73a0f99dc847ca81624e63e3ffe23ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*42l--2sFcgyoxqc1pdPq_A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><h1 id="ea12" class="mi mb it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">3.分配新类别</h1><p id="13d2" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">关于“Cabin”特征，它只有91个条目，约占总示例的25%。所以我们之前算出来的模值不是很靠谱。更好的方法是给这些NaN值分配它们自己的类别:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7ba2" class="ma mb it lw b gy mc md l me mf">data['Cabin'] = data['Cabin'].fillna('Unkown')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/419ff5d1c1047725add90a16e9e232c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0KaoDV7_Cd8uEDxpqs4yVg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="b2d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于我们不再有任何NaN值，机器学习算法现在可以使用这个数据集。然而，它将在“船舱”一栏中使用“未知”的独特值作为自己的类别，尽管它在泰坦尼克号上从未存在过。</p><h1 id="0044" class="mi mb it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">4.某些算法</h1><p id="4870" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">最后一个技巧是什么都不做。大多数机器学习算法不处理缺失数据。另一方面，K近邻、朴素贝叶斯和XGBoost等算法都可以处理缺失数据。网上有很多关于这些算法及其实现的文献。</p><h1 id="05c9" class="mi mb it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">结论</h1><p id="1233" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">有许多方法可以处理缺失数据。某些方法比其他方法更好，这取决于数据的类型和丢失的数量。还有更复杂的输入缺失数据的方法，我没有在这里介绍，但是这些选项是帮助您开始的很好的选择。</p><p id="cc44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完整代码请见我的GitHub:</p><div class="nk nl gp gr nm nn"><a href="https://github.com/egorhowell/Medium-Articles/blob/main/Data%20Science%20Basics/Dealing%20With%20Missing%20Data.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">中型文章/处理缺失数据。ipynb at main egorhowell/中型文章</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">我在我的媒体博客/文章中使用的代码。通过创建一个关于…的帐户，为egorhowell/Medium-Articles的开发做出贡献</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">github.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob ks nn"/></div></div></a></div></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><h1 id="6316" class="mi mb it bd mj mk oj mm mn mo ok mq mr jz ol ka mt kc om kd mv kf on kg mx my bi translated">和我联系！</h1><ul class=""><li id="ca40" class="oo op it lb b lc mz lf na li oq lm or lq os lu ot ou ov ow bi translated">要在媒体上阅读无限的故事，请务必在此注册！T3<em class="ox">T5】💜</em></li><li id="9786" class="oo op it lb b lc oy lf oz li pa lm pb lq pc lu ot ou ov ow bi translated"><a class="ae ky" href="/subscribe/@egorhowell" rel="noopener ugc nofollow" target="_blank"> <em class="ox">当我在这里发布注册邮件通知时，可以获得更新！</em> </a> <em class="ox"> </em>😀</li><li id="b8dc" class="oo op it lb b lc oy lf oz li pa lm pb lq pc lu ot ou ov ow bi translated"><a class="ae ky" href="https://www.linkedin.com/in/egor-howell-092a721b3/" rel="noopener ugc nofollow" target="_blank"> <em class="ox">领英</em> </a> <em class="ox"> </em>👔</li><li id="a7a0" class="oo op it lb b lc oy lf oz li pa lm pb lq pc lu ot ou ov ow bi translated"><a class="ae ky" href="https://twitter.com/EgorHowell" rel="noopener ugc nofollow" target="_blank"> <em class="ox">推特</em> </a> <em class="ox"> </em> 🖊</li><li id="fb18" class="oo op it lb b lc oy lf oz li pa lm pb lq pc lu ot ou ov ow bi translated"><a class="ae ky" href="https://github.com/egorhowell" rel="noopener ugc nofollow" target="_blank"><em class="ox">github</em></a><em class="ox"/>🖥</li><li id="87b0" class="oo op it lb b lc oy lf oz li pa lm pb lq pc lu ot ou ov ow bi translated"><a class="ae ky" href="https://www.kaggle.com/egorphysics" rel="noopener ugc nofollow" target="_blank"><em class="ox"/></a><em class="ox"/>🏅</li></ul><blockquote class="pd pe pf"><p id="c439" class="kz la ox lb b lc ld ju le lf lg jx lh pg lj lk ll ph ln lo lp pi lr ls lt lu im bi translated">(所有表情符号由<a class="ae ky" href="https://openmoji.org/" rel="noopener ugc nofollow" target="_blank"> OpenMoji </a>设计——开源表情符号和图标项目。许可证:<a class="ae ky" href="https://creativecommons.org/licenses/by-sa/4.0/#" rel="noopener ugc nofollow" target="_blank"> CC BY-SA 4.0 </a></p></blockquote></div></div>    
</body>
</html>