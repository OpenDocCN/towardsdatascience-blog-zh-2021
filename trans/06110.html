<html>
<head>
<title>Bernoulli and Binomial Random Variables with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python实现伯努利和二项随机变量</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/bernoulli-and-binomial-random-variables-d0698288dd36?source=collection_archive---------11-----------------------#2021-06-01">https://towardsdatascience.com/bernoulli-and-binomial-random-variables-d0698288dd36?source=collection_archive---------11-----------------------#2021-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9714" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用Python实现大学统计</h2></div><h1 id="edcd" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">介绍</h1><p id="f74e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在一系列的每周文章中，我将涉及一些重要的统计学主题。</p><p id="d2fc" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">目标是使用Python来帮助我们获得对复杂概念的直觉，从经验上测试理论证明，或者从零开始构建算法。在本系列中，您将会看到涵盖随机变量、抽样分布、置信区间、显著性检验等主题的文章。</p><p id="1716" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在每篇文章的最后，你可以找到练习来测试你的知识。解决方案将在下周的文章中分享。</p><p id="3847" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">迄今发表的文章:</p><ul class=""><li id="fbec" class="mb mc it lc b ld lw lg lx lj md ln me lr mf lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/bernoulli-and-binomial-random-variables-d0698288dd36">伯努利和二项随机变量与Python </a></li><li id="a180" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/geometric-and-poisson-random-variables-with-python-e5dcb63d6b55">用Python从二项式到几何和泊松随机变量</a></li><li id="b1df" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/sampling-distributions-with-python-f5a5f268f636">用Python实现样本比例的抽样分布</a></li><li id="83d3" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/confidence-intervals-with-python-bfa28ebb81c">Python的置信区间</a></li><li id="5eab" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/significance-or-hypothesis-tests-with-python-7ed35e9ac9b6">使用Python进行显著性测试</a></li><li id="b25d" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/two-sample-inference-for-the-difference-between-groups-with-python-de91fbee32f9">用Python进行组间差异的双样本推断</a></li><li id="b3e9" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/inference-for-categorical-data-9f3c6034aa57">分类数据的推断</a></li><li id="5520" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/advanced-regression-f74090014f3">高级回归</a></li><li id="4db6" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/analysis-of-variance-anova-8dc889d2fc3a">方差分析— ANOVA </a></li></ul><p id="deac" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">像往常一样，代码可以在我的GitHub上找到。</p><h1 id="4fd4" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">随机变量</h1><p id="7e1f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们将从定义什么是随机变量(RV)开始。要考虑的第一个重要方面是，它不是一个传统变量。一个随机变量可以有不同的概率取不同的值，所以我们无法求解它们，例如，像我们在方程<em class="mq"> y = x + 1 </em>中所做的那样。相反，谈论RV小于或大于某个值的概率更有意义。简而言之，RV将随机过程的结果映射到数字上。</p><p id="5ff2" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">对于我们来说，最简单的例子就是抛硬币。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/cde727d26132d193013201b1d90e5691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*17ok6jxkY6eGEDFb"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图1:抛硬币帮助我们理解房车的概念；<a class="ae mk" href="https://unsplash.com/photos/OtfnlTw0lH4" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="4a3b" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">可能的结果是“正面”和“反面”，我们分别量化为1和0。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/4c820193c310fc04b008d94b5dbc6e74.png" data-original-src="https://miro.medium.com/v2/resize:fit:454/format:webp/1*5PCVFyRvi2aF1NrZyjO7MQ.png"/></div></figure><h1 id="231d" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">伯努利随机变量</h1><p id="7931" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">随机变量可以是离散的，也可以是连续的。我们将从关注离散RVs开始。根据定义，离散变量只能取不同的值，比如上面掷硬币的例子。对于这些变量，你可以计算它可以取多少个不同的值。</p><p id="20d8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们上面定义的RV <em class="mq"> X </em>实际上是一个伯努利RV。它可以以概率<em class="mq"> p </em>取值1(在公平硬币的情况下，<em class="mq"> p </em>等于0.5或50%)，以概率<em class="mq"> q = 1-p </em>取值0。其概率质量函数可以定义为:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/207f360ba36be3e360e2bc3ed84bbc75.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*hkSUr1V0EsvNMz_e83AeIQ.png"/></div></figure><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="ce11" class="no kj it nk b gy np nq l nr ns">import matplotlib.pyplot as plt<br/>import numpy as np<br/>from scipy.stats import bernoulli, binom<br/>import seaborn as sns</span></pre><p id="5f33" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们从定义一个成功概率为<em class="mq"> p=0.3 </em>的伯努利RV <em class="mq"> X </em>开始。</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="d263" class="no kj it nk b gy np nq l nr ns">p = 0.3<br/>X = bernoulli(p)</span></pre><p id="dd70" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们可以打印0和1的概率质量函数值。</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="0675" class="no kj it nk b gy np nq l nr ns">print(np.round(X.pmf(1),2))<br/>print(np.round(X.pmf(0), 2))</span><span id="72db" class="no kj it nk b gy nt nq l nr ns">0.3<br/>0.7</span></pre><p id="322c" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">为了帮助形象化，让我们从变量中抽取10，000个样本，根据经验得出相同的值。</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="d39e" class="no kj it nk b gy np nq l nr ns">X_samples = X.rvs(100000)</span><span id="576b" class="no kj it nk b gy nt nq l nr ns">sns.histplot(X_samples, stat="density", discrete=True, shrink=0.2);</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl nu"><img src="../Images/9542cc25f5f84d3252531b5915c78ffd.png" data-original-src="https://miro.medium.com/v2/format:webp/1*BQKyOJsezVb8rquUVB_g3g.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图2:RV X的样本分布</p></figure><p id="2ea8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">看起来不出所料；我们有0.3的成功概率和0.7的失败概率。</p><p id="4808" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们定义一下RV的均值和方差。平均值的计算方法是将每个结果的值与相应概率的乘积相加。方差是每个结果的值与平均值的平方偏差，由各自的概率加权。更正式地说:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/b7514e228b1eef67b58bccedc0332ef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*QU71cRcihF7lcNP5lbqVLA.png"/></div></figure><p id="99b3" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们可以将经验计算的平均值与我们刚刚得出的理论平均值进行比较。它们确实非常接近，而且随着样本量的增加，它们会变得更接近。</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="c810" class="no kj it nk b gy np nq l nr ns">print('Empirically calculated mean: {}'.format(X_samples.mean()))<br/>print('Theoretical mean: {}'.format(p))</span><span id="8f3a" class="no kj it nk b gy nt nq l nr ns">print('Empirically calculated standard deviation: {}'.format(X_samples.std()))<br/>print('Theoretical standard deviation: {}'.format((p*(1-p))**(1/2)))</span><span id="0432" class="no kj it nk b gy nt nq l nr ns">Empirically calculated mean: 0.30059<br/>Theoretical mean: 0.3<br/>Empirically calculated standard deviation: 0.45851461470709964<br/>Theoretical standard deviation: 0.458257569495584</span></pre><h1 id="3bed" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">二项式随机变量</h1><p id="7c53" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们可以将二项式RV视为一组伯努利实验或试验。这样，我们对分布的性质是如何得到的理解就变得简单多了。</p><p id="d3d6" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在深入定义之前，让我们先来看看将RV定义为二项式需要满足的主要条件:</p><ul class=""><li id="c070" class="mb mc it lc b ld lw lg lx lj md ln me lr mf lv mg mh mi mj bi translated">审判是独立的；</li><li id="c2f0" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated">每次试验都可以分为成功或失败；</li><li id="e9e4" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated">有固定的试验次数；</li><li id="a758" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated">每次试验成功的概率是恒定的。</li></ul><p id="2a59" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们将RV <em class="mq"> Z </em>定义为<em class="mq"> n </em>次试验后的成功次数，其中每次试验的P(成功)为<em class="mq"> p </em>。</p><p id="fdd4" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们再定义<em class="mq"> Y </em>，一个伯努利RV，其<em class="mq"> P(Y=1)=p </em>，<em class="mq"> P(Y=0)=1-p </em>。</p><p id="4d4f" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated"><em class="mq"> Y </em>代表组成<em class="mq"> Z </em>的每个独立试验。我们已经得到了Y的方差和期望值。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/02e2d4e2433bdb21396acc4c8cec48ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:410/format:webp/1*SdFl-yi_dbITCLz-iVY4WA.png"/></div></figure><p id="1bb6" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">使用下面的性质E(X+Y)=E(X)+E(Y)，我们可以导出我们的二项式RV <em class="mq"> Z </em>的期望值:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/8c1c550e39f1e50968033220e57cc3ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*-NIQ0K88q4nAcwucXi8giQ.png"/></div></figure><p id="ae1f" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">回想一下，我们有<em class="mq"> n </em>个独立试验或<em class="mq"> n </em> RV <em class="mq"> Y </em>被求和。</p><p id="2852" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在推导VAR(Y)时，过程是相同的，因为VAR(X+Y)=VAR(X)+VAR(Y)也成立。然后我们有:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/f91f615878cbf5eb2a863398e25a2eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*9nH1q_aHSnTo7XudszcjmA.png"/></div></figure><p id="0bad" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在让我们用一个实验来测试我们的理论理解。</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="4260" class="no kj it nk b gy np nq l nr ns">n=6<br/>p = 0.3<br/>Y = bernoulli(p)</span></pre><p id="99f0" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们定义了我们的<em class="mq"> Y </em>变量。我们可以根据上面定义的这个<em class="mq"> Y </em>变量来构造我们的<em class="mq"> X </em>变量；这些是伯努利独立试验。让我们假设我们有6个独立的试验。</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="821d" class="no kj it nk b gy np nq l nr ns">Y_samples = [Y.rvs(1000000) for i in range(6)]<br/>Y_samples</span><span id="ccb4" class="no kj it nk b gy nt nq l nr ns">[array([0, 0, 0, ..., 0, 1, 1]),<br/> array([1, 0, 1, ..., 0, 0, 0]),<br/> array([0, 0, 1, ..., 1, 1, 0]),<br/> array([1, 0, 0, ..., 0, 0, 0]),<br/> array([0, 0, 0, ..., 0, 1, 0]),<br/> array([0, 0, 0, ..., 0, 0, 0])]</span><span id="b1d3" class="no kj it nk b gy nt nq l nr ns">Z_samples = sum(Y_samples)</span><span id="42df" class="no kj it nk b gy nt nq l nr ns">print('Empirically calculated expected value: {}'.format(Z_samples.mean()))<br/>print('Theoretical expected value: {}'.format(n*p))</span><span id="5945" class="no kj it nk b gy nt nq l nr ns">Empirically calculated expected value: 1.800219<br/>Theoretical expected value: 1.7999999999999998</span><span id="5f42" class="no kj it nk b gy nt nq l nr ns">print('Empirically calculated variance: {}'.format(Z_samples.var()))<br/>print('Theoretical variance: {}'.format(n*p*(1-p)))</span><span id="320d" class="no kj it nk b gy nt nq l nr ns">Empirically calculated variance: 1.2612705520390002<br/>Theoretical variance: 1.2599999999999998</span></pre><p id="8126" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们对我们的理论推导感觉更好，因为我们的实验表明我们确实在正确的道路上。</p><p id="67cc" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们也可以画出二项式分布。记住这是一个离散分布。</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="7051" class="no kj it nk b gy np nq l nr ns">sns.histplot(Z_samples, stat="density", discrete=True, shrink=0.3);</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl nu"><img src="../Images/5d17ee5522f18078e5b020c4f93f9198.png" data-original-src="https://miro.medium.com/v2/format:webp/1*1KF7U-7VwMzLGucNFcv5hw.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图3:我们的RV Z的抽样分布，它是一个二项式RV。</p></figure><h1 id="669a" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">二项式PMF和CDF</h1><p id="31e3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">二项式概率质量函数(PMF)可以写成如下形式:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/3b2d47c633845762700aec5b6d91713b.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*4Gcu6zB93tmXrR0LwZcibg.png"/></div></figure><p id="02a8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">乍一看似乎有点令人生畏；让我们试着把它分解成更小的可解释的部分。</p><p id="78e1" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">第一项仅仅是二项式系数，或者当顺序无关紧要时，我们可以从<em class="mq"> n </em>个可能的项目中选择<em class="mq"> k </em>个项目的不同方式的数量，即集合ABC与CBA相同。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/7418cbec8977e153b793881494d78eba.png" data-original-src="https://miro.medium.com/v2/resize:fit:386/format:webp/1*yvicbPdzKmLhn2QxIUg_8g.png"/></div></figure><p id="40e3" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">回想一下<em class="mq"> n！/(n-k)！</em>是排列的数量或不同方式的数量，当顺序重要时，我们可以从<em class="mq"> n </em>个可能的项目中选择<em class="mq"> k </em>个项目，即ABC和CBA算作两个不同的结果。<em class="mq"> k！</em>只是排列<em class="mq"> k </em>项的数量方式。例如，在3个项目和3个位置的情况下，我们有以下可能性:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/36eac2d5950a7e3a86cf03d8f2849f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:142/format:webp/1*fIJvAcjrW7qQRnwPPXSZRQ.png"/></div></figure><p id="32cf" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">回想一下3！=3 * 2 *1= 6.</p><p id="bd94" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们开始构建小函数来处理不同的组件，从计算输入参数的阶乘的函数开始。</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="ed4c" class="no kj it nk b gy np nq l nr ns">def fact(n):<br/>    x = 1<br/>    for i in range(1, n+1):<br/>        x *= i<br/>    return x<br/><br/>fact(3)</span><span id="cab8" class="no kj it nk b gy nt nq l nr ns">6</span></pre><p id="f1f2" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在，我们可以在另一个计算二项式系数的函数中使用函数<code class="fe oc od oe nk b">fact()</code>。</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="0133" class="no kj it nk b gy np nq l nr ns">def comb(n, k):<br/>    x = 1<br/>    return fact(n)/(fact(k)*fact(n-k))<br/><br/>comb(6, 3)</span><span id="d2cf" class="no kj it nk b gy nt nq l nr ns">20.0</span></pre><p id="767d" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">最后，将所有东西放在一起:</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="25d6" class="no kj it nk b gy np nq l nr ns">def binompmf(prob, n, k):<br/>    return comb(n,k)*prob**k*(1-prob)**(n-k)</span></pre><p id="f334" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">累积分布函数(CDF)是一个有用的函数，它通常与分布的PMF一起出现在统计包中。这只不过是我们的RV取值达到a <em class="mq"> z </em>的概率:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi of"><img src="../Images/a320c4c738091acca2fa9336cfef82b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:242/format:webp/1*70zXnJF3FJ9Yst-hr4lZXQ.png"/></div></figure><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="3428" class="no kj it nk b gy np nq l nr ns">def binomcdf(prob, n, x):<br/>    result = 0<br/>    for x_ in range(0, x+1):<br/>        result += binompmf(prob, n, x_)<br/>    return result</span></pre><p id="7293" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们试一试。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/944a93351692edd7430bfa40e0d0bd12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U4K3kCWiDg8RK7Yd"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图4:克里斯蒂亚诺·罗纳尔多的任意球表现可以用二项分布来建模，<a class="ae mk" href="https://unsplash.com/photos/lBhhnhndpE0" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="8424" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们想要评估模拟克里斯蒂亚诺罗纳尔多任意球得分能力的概率分布。我们将使用下表，其中显示了罗纳尔多在西甲联赛和冠军联赛中的任意球记录:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi og"><img src="../Images/74dc8793757146d013c1080821f873a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*nONb7KWsiVQ6yqPmxBkCSA.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">表1:罗纳尔多的任意球记录，<a class="ae mk" href="https://www.goal.com/en-us/news/cristiano-ronaldos-free-kick-record-penalty-record/1mxtkj4yvogun158pu2cpmpuz9" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="4928" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">c罗有0.094的概率成功转换欧冠任意球。基于此，c罗欧冠7罚1中的概率有多大？</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="220e" class="no kj it nk b gy np nq l nr ns">binompmf(0.094, 7, 1)</span><span id="732e" class="no kj it nk b gy nt nq l nr ns">0.3639109131870316</span></pre><p id="2d24" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">得分小于2的概率是多少？</p><pre class="ms mt mu mv gt nj nk nl nm aw nn bi"><span id="1dfe" class="no kj it nk b gy np nq l nr ns">binomcdf(0.094, 7, 1)</span><span id="5c13" class="no kj it nk b gy nt nq l nr ns">0.8649797389430357</span></pre><h1 id="9a83" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">练习:</h1><p id="2fbb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你将在下周的文章中找到答案。</p><p id="39cd" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">1.一家公司生产瓶装水。在其主要工厂，有缺陷的瓶子数量是5%。质量检查包括随机选择和测试1000瓶。这些样品中有缺陷的瓶子数量的平均值和标准偏差是多少？</p><p id="c42d" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">2.一家葡萄酒公司正在进行促销活动，声称每4箱葡萄酒中有1箱含有惊喜。假设你会买5箱这款酒，让X代表你在这些箱子里可以赢得的惊喜数量。假设这些盒子代表随机样本，并假设盒子之间的惊喜是独立的。你在5个盒子中最多赢得1个惊喜的概率是多少？</p><p id="39c1" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">你能用三种不同的方法解决这个问题吗？提示:通过抽样，对个体概率求和，并使用CDF) </p><p id="31a2" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">3.一位数学老师正在和她的学生一起做一个活动，她给他们一个20题的选择题，他们一个答案也不知道。学生需要猜测每个问题，每个问题有5个可能的选择，其中一个是正确的。每个学生答对的问题数量的平均值和标准差是多少？</p><p id="6438" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated"><em class="mq">(你能用两种不同的方法解决这个问题吗？提示:通过采样和使用我们上面做的理论推导)</em></p><p id="3951" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">保持联系:<a class="ae mk" href="https://www.linkedin.com/in/luisbrasroque/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a></p></div></div>    
</body>
</html>