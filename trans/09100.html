<html>
<head>
<title>Visualize your product health status metrics using GA4, BigQuery, and Tableau</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GA4、BigQuery和Tableau可视化您的产品健康状态指标</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualize-your-product-health-status-metrics-using-ga4-bigquery-and-tableau-9cc91cf9b6d3?source=collection_archive---------30-----------------------#2021-08-22">https://towardsdatascience.com/visualize-your-product-health-status-metrics-using-ga4-bigquery-and-tableau-9cc91cf9b6d3?source=collection_archive---------30-----------------------#2021-08-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cca8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解热图表的强大功能！</h2></div><p id="4f4b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我将分享一个我最喜欢的监控数码产品健康状态的可视化工具。我将关注这三个指标:1 .用法，2。成功率&amp; 3。完成率。我还将分享如何从BigQuery查询提到的度量数据。</p><p id="a181" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">GA4允许所有用户将原始数据导出到Google cloud &amp; BigQuery。这个特性非常棒，因为对于数据专业人员来说，原始数据就像是好厨师的新鲜有机食材。两者都是伟大食谱的必备！此外，Google Cloud拥有广泛的分析工具来转换数据、分析数据、在其上应用ML &amp;构建数据产品，等等。</p><blockquote class="lb lc ld"><p id="6b25" class="kf kg le kh b ki kj jr kk kl km ju kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">对于数据专业人员来说，原始数据就像是好厨师的新鲜有机食材。两者都是伟大食谱的必备！</p></blockquote><p id="ece1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们首先通过在BigQuery中查询来获取这些指标的数据。下面的查询应该可以帮助我们实现这一点。</p><pre class="li lj lk ll gt lm ln lo lp aw lq bi"><span id="f248" class="lr ls iq ln b gy lt lu l lv lw">-- Standard SQL, BigQuery<br/>select parse_date('%Y%m%d',t.event_date) as date, platform, event_name, p.value.int_value as success, p2.value.string_value as flow_name</span><span id="69c3" class="lr ls iq ln b gy lx lu l lv lw">,count(event_name) as events_count</span><span id="055f" class="lr ls iq ln b gy lx lu l lv lw">,if(p.value.int_value=1,count(event_name),0) as success_count</span><span id="5774" class="lr ls iq ln b gy lx lu l lv lw">,if(p.value.int_value=0,count(event_name),0) as fail_count</span><span id="7bbb" class="lr ls iq ln b gy lx lu l lv lw">from `[gcp_ptoject_name].[dataset_name].events_*` t, t.event_params p, t.event_params p2</span><span id="8e92" class="lr ls iq ln b gy lx lu l lv lw">where p.key = 'success' and _table_suffix between '20210101' and '20211231' and p2.key = 'flow_name'</span><span id="ee0f" class="lr ls iq ln b gy lx lu l lv lw">group by 1,2,3,4,5</span><span id="072b" class="lr ls iq ln b gy lx lu l lv lw">order by date desc</span></pre><p id="aafe" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到了按日期、平台、流名称、事件名称和成功状态计数的事件&amp;然后我们做一些计算来计数成功和失败事件的数量。</p><p id="6065" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上述查询的结果应该类似于下表:</p><figure class="li lj lk ll gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ly"><img src="../Images/0d709b72193096a0fba06c22a3199966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X7pw6dYCD93S06DgSgLbIA.png"/></div></div></figure><p id="a298" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，在获得我们需要的数据之后，是时候将它可视化了。我将使用热图表来可视化这三个指标。</p><p id="0f52" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">热图表是我最喜欢的可视化数据的图表之一。这是一个任何人都能理解的简单图表(只是一个表格)。它可以在一个图像中封装多个维度，并使您能够轻松地发现趋势，如果您愿意，还可以检查绝对数字。</p><p id="40e4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，让我们来看看每个指标的热图。</p><h2 id="469d" class="lr ls iq bd mg mh mi dn mj mk ml dp mm ko mn mo mp ks mq mr ms kw mt mu mv mw bi translated"><strong class="ak"> 1-用法:</strong></h2><p id="b714" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">使用是指人们尝试进行某项活动的总次数。您也可以通过尝试参加活动的用户数量来计算。</p><p id="46c8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个指标不需要预先计算，我们从BigQuery获得的数据中明确显示了这一点。</p><p id="0ede" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面的热图表是一个可视化所有事件和流的每个平台的使用趋势的示例。每个单元格包括两个值(事件数和与上一个值的差异%)。天)。颜色代码用于表示与前一天的百分比差异，以显示每个事件的使用趋势如何变化。例如，在8月8日，所有平台的song_end事件都有一个使用高峰。</p><figure class="li lj lk ll gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi nc"><img src="../Images/0af718d8231d5cc54fbecddbbb048dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CdRF4qXNbAlONmYsSgZ0TQ.png"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">热图表—所有平台的每个事件和流量的使用趋势。</p></figure><p id="a93c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi">— — — —</p><h2 id="8c2b" class="lr ls iq bd mg mh mi dn mj mk ml dp mm ko mn mo mp ks mq mr ms kw mt mu mv mw bi translated"><strong class="ak"> 2-成功率:</strong></h2><p id="55c6" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">成功率是指成功完成一项活动的人占所有尝试完成这项活动的人的百分比。</p><p id="bce5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要计算成功率，需要将成功的事件除以所有事件。以下是如何在Tableau中对上述数据进行操作。</p><pre class="li lj lk ll gt lm ln lo lp aw lq bi"><span id="1324" class="lr ls iq ln b gy lt lu l lv lw">sum([Success Count])/SUM([Events Count])<br/></span></pre><p id="8b42" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面的热图是一个示例，直观显示了每个平台所有事件和流的成功率随时间的变化情况。颜色代码用于显示某些功能的成功率是否下降。例如，在下图中，8月9日iOS应用程序的song_play_start事件的成功率显著下降。</p><figure class="li lj lk ll gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi nh"><img src="../Images/bc18265e68daa606384956f9f77b7c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v5hLNNvCd1-D9LTFUIueWw.png"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">热图表—所有平台的每个事件和流程的成功率。</p></figure><p id="2ca7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi">— — — —</p><h2 id="1994" class="lr ls iq bd mg mh mi dn mj mk ml dp mm ko mn mo mp ks mq mr ms kw mt mu mv mw bi translated"><strong class="ak"> 3-完成率:</strong></h2><p id="2061" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">完成率是完成流程的用户与开始流程的用户之间的差异。即，完成收听音轨的人/开始音轨的所有人。</p><p id="7768" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了计算完成率，您可以使用<a class="ae ni" href="https://help.tableau.com/current/pro/desktop/en-us/calculations_calculatedfields_lod.htm" rel="noopener ugc nofollow" target="_blank"> Tableau LOD </a>特性来创建指标。例如，下面是为上面的数据创建的代码。</p><pre class="li lj lk ll gt lm ln lo lp aw lq bi"><span id="6e8a" class="lr ls iq ln b gy lt lu l lv lw">{include [Flow Name],DAY([Date]),[Platform]: sum(if(CONTAINS([Event Name],"end")) then [Events Count] else 0 END)/<br/>sum(if(CONTAINS([Event Name],"start")) then [Events Count] else 0 END)}</span></pre><p id="2c3e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面的热图是一个示例，显示了一个流程在每个平台上的完成率。颜色代码用于完成率，以显示它是否在某些日期或平台下降。例如，在下面的图表中，play_track流增加了所有平台在8月8日和9日之间的完成率。</p><figure class="li lj lk ll gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi nj"><img src="../Images/a2247528eaa3892a95b1e0cbc17c3b91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7DcZsM9_TygplT6TJEQp2A.png"/></div></div></figure><h1 id="7222" class="nk ls iq bd mg nl nm nn mj no np nq mm jw nr jx mp jz ns ka ms kc nt kd mv nu bi translated">结论:</h1><p id="f381" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">在这篇文章中，我试图分享我最喜欢的图表之一，热图表，以及如何可视化健康状态指标。我还讨论了如何在BigQuery中查询数据。</p><p id="1e4b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你有其他可视化健康状态指标的想法吗？如果有，请在评论区与我们分享！:)</p><p id="62ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi">— — — -</p><p id="d610" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在下面查看我以前的帖子:</p><p id="ac17" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae ni" rel="noopener" target="_blank" href="/simplify-your-ga4-tracking-analysis-with-this-framework-spotify-app-as-an-example-6fb5327201b0">用这个框架简化你的GA4追踪&amp;分析——以Spotify App为例。</a></p><p id="a1aa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae ni" rel="noopener" target="_blank" href="/3-metrics-to-make-sure-your-app-is-delivering-the-best-experience-to-its-users-93adb248553e">确保您的应用为用户提供最佳体验的3项指标。</a></p><p id="1216" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi">— — —</p><p id="fb3f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">注:本帖所有数据均为虚拟数据，并非真实数据。</strong></p></div></div>    
</body>
</html>