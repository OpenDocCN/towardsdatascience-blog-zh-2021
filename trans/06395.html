<html>
<head>
<title>What is the Difference Between “is” and “==” in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的“是”和“==”有什么区别</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-is-the-difference-between-is-and-in-python-999aed3a54f7?source=collection_archive---------25-----------------------#2021-06-08">https://towardsdatascience.com/what-is-the-difference-between-is-and-in-python-999aed3a54f7?source=collection_archive---------25-----------------------#2021-06-08</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="8d0e" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">如何比较两个变量是否指向内存中的同一个对象</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/b1ea72ce9291f7637e359b3ceed53b60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*71oBeYABemPEFeUlnvbQog.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">马库斯·温克勒在<a class="ae kz" href="https://unsplash.com/s/photos/object?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="b88c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Python附带了两个可用于检查相等性的操作符，即<code class="fe lw lx ly lz b">==</code>(这在大多数现代编程语言中相当常见)和<code class="fe lw lx ly lz b">is</code>。有时可能很难区分应该使用两者中的哪一个，尤其是如果您不熟悉Python的动态类型模型。</p><p id="bfdf" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在今天的文章中，我们将讨论Python中的<code class="fe lw lx ly lz b">==</code>和<code class="fe lw lx ly lz b">is</code>操作符在比较两个变量或对象时的用途。此外，我们将通过一个示例来展示何时使用其中一个。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h2 id="5308" class="mh mi iu bd mj mk ml dn mm mn mo dp mp lj mq mr ms ln mt mu mv lr mw mx my mz bi translated">Python中的对象、变量和引用</h2><p id="5ef5" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">每次我们将对象值赋给一个变量时，都会执行以下操作:</p><ol class=""><li id="8800" class="nf ng iu lc b ld le lg lh lj nh ln ni lr nj lv nk nl nm nn bi translated">保存该值的对象被创建并存储在内存中</li><li id="b9c4" class="nf ng iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">变量名被创建(如果它还不存在)</li><li id="b296" class="nf ng iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">对保存已创建对象的内存位置的引用被赋给变量</li></ol><p id="4e32" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Python变量并不真正保存对象。相反，它们实际上持有对对象的引用。换句话说，变量<strong class="lc iv">指向</strong>内存中已经被分配来存储相应对象的位置。</p><p id="b17b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有时我们可能需要检查两个对象是否具有相同的值，而在其他场合我们可能需要检查两个对象是否完全相同。在下一节中，我们将探讨如何实现这两者。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h2 id="374c" class="mh mi iu bd mj mk ml dn mm mn mo dp mp lj mq mr ms ln mt mu mv lr mw mx my mz bi translated">“是”和“==”的区别</h2><p id="db92" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">现在，如果你想执行两个变量之间的相等性检查，很可能你真的想检查两个变量是否指向具有相等值的对象。在其他情况下，您可能也需要检查两个变量是否指向同一个对象。</p><ul class=""><li id="27c2" class="nf ng iu lc b ld le lg lh lj nh ln ni lr nj lv nt nl nm nn bi translated"><code class="fe lw lx ly lz b">==</code>运算符用于检查两个变量是否引用具有相同值的对象。</li><li id="8576" class="nf ng iu lc b ld no lg np lj nq ln nr lr ns lv nt nl nm nn bi translated"><code class="fe lw lx ly lz b">is</code>运算符用于检查两个变量是否指向内存中的同一个对象</li></ul></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><p id="0d41" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在假设我们有两个列表，如下所示。</p><pre class="kk kl km kn gu nu lz nv nw aw nx bi"><span id="be63" class="mh mi iu lz b gz ny nz l oa ob">a = [1, 2, 3]<br/>b = [1, 2, 3]</span></pre><ul class=""><li id="7b6b" class="nf ng iu lc b ld le lg lh lj nh ln ni lr nj lv nt nl nm nn bi translated"><code class="fe lw lx ly lz b">==</code>将返回<code class="fe lw lx ly lz b">True</code>，因为<code class="fe lw lx ly lz b">a</code>和<code class="fe lw lx ly lz b">b</code>指向具有相等值的对象。</li></ul><pre class="kk kl km kn gu nu lz nv nw aw nx bi"><span id="c35f" class="mh mi iu lz b gz ny nz l oa ob">&gt;&gt;&gt; a == b<br/>True</span></pre><ul class=""><li id="8dfb" class="nf ng iu lc b ld le lg lh lj nh ln ni lr nj lv nt nl nm nn bi translated">另一方面，<code class="fe lw lx ly lz b">is</code>将返回<code class="fe lw lx ly lz b">False</code>，因为<code class="fe lw lx ly lz b">a</code>和<code class="fe lw lx ly lz b">b</code>没有指向同一个对象。尽管两个对象的值相等，但它们并不相同，因为Python将它们存储在内存中的不同位置。</li></ul><pre class="kk kl km kn gu nu lz nv nw aw nx bi"><span id="9d61" class="mh mi iu lz b gz ny nz l oa ob">&gt;&gt;&gt; a is b<br/>False</span></pre><p id="0465" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">a</code>和<code class="fe lw lx ly lz b">b</code>的存储位置不同:</p><pre class="kk kl km kn gu nu lz nv nw aw nx bi"><span id="ac2e" class="mh mi iu lz b gz ny nz l oa ob">&gt;&gt;&gt; id(a)<br/>4444232832<br/>&gt;&gt;&gt; id(b)<br/>4445118624</span></pre><p id="23c0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，如果我们将<code class="fe lw lx ly lz b">a</code>赋给变量<code class="fe lw lx ly lz b">b</code>，那么<code class="fe lw lx ly lz b">is</code>将返回<code class="fe lw lx ly lz b">True</code>，因为两个变量都指向内存中完全相同的对象:</p><pre class="kk kl km kn gu nu lz nv nw aw nx bi"><span id="c7a5" class="mh mi iu lz b gz ny nz l oa ob">&gt;&gt;&gt; a = [1, 2, 3]<br/>&gt;&gt;&gt; b = a<br/>&gt;&gt;&gt; a is b<br/>True</span></pre><p id="d005" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，内存地址应该完全相同:</p><pre class="kk kl km kn gu nu lz nv nw aw nx bi"><span id="7a9f" class="mh mi iu lz b gz ny nz l oa ob">&gt;&gt;&gt; id(a)<br/>4444232832<br/>&gt;&gt;&gt; id(b)<br/>4444232832</span></pre></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h2 id="b8a1" class="mh mi iu bd mj mk ml dn mm mn mo dp mp lj mq mr ms ln mt mu mv lr mw mx my mz bi translated">重要说明</h2><p id="0f2a" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated"><code class="fe lw lx ly lz b">is</code>如果与指向小整数的变量一起使用，即使两个变量是独立初始化的，操作符也可能返回<code class="fe lw lx ly lz b">True</code>。</p><pre class="kk kl km kn gu nu lz nv nw aw nx bi"><span id="ed33" class="mh mi iu lz b gz ny nz l oa ob">&gt;&gt;&gt; a = 1<br/>&gt;&gt;&gt; b = 1<br/>&gt;&gt;&gt; a is b<br/>True</span></pre><p id="aa09" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这是Python的一个<em class="oc">实现细节</em>，出于性能目的<strong class="lc iv">缓存小的整数值或字符串文字</strong>。</p><p id="b117" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">请注意，对于较大的整数值或字符串，<code class="fe lw lx ly lz b">is</code>运算符应该表现正常:</p><pre class="kk kl km kn gu nu lz nv nw aw nx bi"><span id="c382" class="mh mi iu lz b gz ny nz l oa ob">&gt;&gt;&gt; a = 10**5<br/>&gt;&gt;&gt; b = 10**5<br/>&gt;&gt;&gt; a is b<br/>False</span></pre></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h2 id="488b" class="mh mi iu bd mj mk ml dn mm mn mo dp mp lj mq mr ms ln mt mu mv lr mw mx my mz bi translated">最后的想法</h2><p id="768a" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">在今天的文章中，我们讨论了如何在Python中检查对象相等性。我们简要讨论了Python中如何处理对象、引用和值。此外，我们探索了<code class="fe lw lx ly lz b">is</code>和<code class="fe lw lx ly lz b">==</code>操作符之间的根本区别。前者可用于检查两个变量是否保存对存储在特定内存位置的同一对象的引用。另一方面，<code class="fe lw lx ly lz b">==</code>用于检查两个变量是否指向具有相同值的对象引用。</p><p id="1004" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在文章的开始，我们快速讨论了Python中对象、引用和值是如何处理的。如果您想了解更多关于这些概念和Python实现的动态类型范例，请务必阅读文章<strong class="lc iv">Python中的动态类型。</strong></p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/dynamic-typing-in-python-307f7c22b24e"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">Python中的动态类型</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">探索Python中对象引用的工作方式</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kt og"/></div></div></a></div></div></div>    
</body>
</html>