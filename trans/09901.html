<html>
<head>
<title>Guide To Data Visualization With ggplot2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ggplot2数据可视化指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/guide-to-data-visualization-with-ggplot2-in-a-hour-634c7e3bc9dd?source=collection_archive---------16-----------------------#2021-09-17">https://towardsdatascience.com/guide-to-data-visualization-with-ggplot2-in-a-hour-634c7e3bc9dd?source=collection_archive---------16-----------------------#2021-09-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/92e6d07bd0b69364021a6389a2e113aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UxqjLLhR7YhojxIb"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">扬·巴布拉克在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="0c24" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">介绍</h1><p id="b1b3" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我一直是Matplotlib和Seaborn的忠实用户，因为它们在创建漂亮的图形方面简单方便，满足了您在传达想法方面的期望。在R里，我找到了一个类似的包，是ggplot2。它漂亮的默认图表选项给我留下了深刻的印象，帮助我减少了大量定制可视化的时间，只需专注于创建最能表达数据信息的图表。关于ggplot2的另一个有趣的地方是，一旦理解了它在图形设计中的逻辑，学习起来并不困难。在今天的这篇文章中，我将帮助您了解ggplot2的概况。</p><h1 id="f972" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">资料组</h1><p id="0175" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">对于数据可视化示例，我将使用dplyr包中的默认数据集。您可以安装dplyr包，并获得如下代码所示的数据:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="b2ee" class="ml kh it mh b gy mm mn l mo mp">install.packages(dplyr)<br/>library(dplyr)<br/>data = storms</span></pre><h1 id="f0be" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">了解图层</h1><p id="8916" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">ggplot2在层中构建图形是您需要了解的第一件也是最重要的事情。您可以从显示原始数据的层开始，然后继续添加其他元素以生成您想要的图形。这种方法将帮助你缩小你头脑中的预期结果和现实中的图表之间的差距。</p><h2 id="c40d" class="ml kh it bd ki mq mr dn km ms mt dp kq lp mu mv ku lt mw mx ky lx my mz lc na bi translated">Ggplot</h2><p id="7ef4" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">ggplot函数包含两个主要部分，分别是:</p><ul class=""><li id="3a5e" class="nb nc it lg b lh nd ll ne lp nf lt ng lx nh mb ni nj nk nl bi translated">数据:您想要可视化的信息</li><li id="5466" class="nb nc it lg b lh nm ll nn lp no lt np lx nq mb ni nj nk nl bi translated">映射:变量如何映射到可视属性(映射在aes函数中)</li></ul><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="2918" class="ml kh it mh b gy mm mn l mo mp">install.packages("ggplot2")<br/>library(ggplot2)</span><span id="3257" class="ml kh it mh b gy nr mn l mo mp"># specify dataset and mapping<br/>ggplot(data = data,<br/>       mapping = aes(x = pressure y = wind))</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/d82f40d363ff26e84aa363b81790925e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cXB7CB0hMBVG6PpHFQW-_A.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图1:指定数据框架</p></figure><p id="36ed" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">我确定了x和y是什么，但是我没有指定如何绘制图形。因此，图1仍然是空的。现在，我将继续向我的图表添加下一个元素。</p><h2 id="7740" class="ml kh it bd ki mq mr dn km ms mt dp kq lp mu mv ku lt mw mx ky lx my mz lc na bi translated">Geoms</h2><p id="e06f" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">几何图形是几何对象(例如:线、条等。)来决定如何呈现观察结果。图层通常从创建几何图形开始。</p><p id="0d9c" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">这是一个带有geom_point的散点图示例。</p><p id="3e8b" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">您还可以创建</p><ul class=""><li id="2613" class="nb nc it lg b lh nd ll ne lp nf lt ng lx nh mb ni nj nk nl bi translated">带<strong class="lg iu">的条形图<em class="nw">geom _ bar()</em>T7】</strong></li><li id="7d19" class="nb nc it lg b lh nm ll nn lp no lt np lx nq mb ni nj nk nl bi translated">带有<strong class="lg iu"> <em class="nw"> geom_path() </em> </strong>和<strong class="lg iu"> <em class="nw"> geom_line() </em> </strong>的线图</li><li id="c903" class="nb nc it lg b lh nm ll nn lp no lt np lx nq mb ni nj nk nl bi translated">带有<strong class="lg iu"><em class="nw">geom _ box plot()</em></strong>的方框图</li><li id="a6b4" class="nb nc it lg b lh nm ll nn lp no lt np lx nq mb ni nj nk nl bi translated">一个带有<strong class="lg iu"><em class="nw">geom _ histogram()</em></strong>和<strong class="lg iu"><em class="nw">geom _ freqply()</em></strong>的直方图</li></ul><p id="7c57" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">注意，在代码中，我使用“+”来连接最终图形的元素。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="f1ce" class="ml kh it mh b gy mm mn l mo mp">ggplot(data = data,  <br/>       mapping = aes(x = pressure, y = wind)) +<br/> geom_point()</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/05e4a1da2fae04fecee2e3c37570bf6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oqg_Cb33NjHVOR8dIKpTYA.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图geoms散点图</p></figure><p id="396d" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">我可以在<strong class="lg iu"> <em class="nw"> geom_ponit </em> </strong>中用不同的属性自定义我的图形。其他控件属性包括大小、颜色、形状、alpha等。让我们将它们添加到我们的图表中，看看有什么不同。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="f420" class="ml kh it mh b gy mm mn l mo mp">ggplot(data = data,<br/>       mapping = aes(x = pressure, y = wind)) +<br/>  geom_point(color = "pink", <br/>             alpha = .9,     <br/>             size = 2)</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/19655e836265b41538878213bfb3b71d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kh--YkhJwtVXh2T-kMqnaw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图3:定制后的散点图</p></figure><p id="ddea" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">Alpha控制图形的透明度，其范围从0(完全透明)到1(完全不透明)。可以通过调整透明度来可视化重叠点。</p><h2 id="d247" class="ml kh it bd ki mq mr dn km ms mt dp kq lp mu mv ku lt mw mx ky lx my mz lc na bi translated">面状</h2><p id="3544" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">分面是一种有助于显示变量的每个类的技术。我将尝试使用<strong class="lg iu"> <em class="nw"> facet_wrap </em> </strong>属性在图形中显示每种风暴的压力和风力。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="5d49" class="ml kh it mh b gy mm mn l mo mp">ggplot(data = data,<br/>       mapping = aes(x = pressure, y = wind)) +<br/>  geom_point(color = "blue", <br/>             alpha = .9,<br/>             size = 2) +<br/>  facet_wrap(~status)</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/3f231f5d41c3ff57fe6f00b4c89ec71b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yC0ueY5F93n4oIOoyIar9g.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图4:具有facet_wrap属性的图形</p></figure><h2 id="d957" class="ml kh it bd ki mq mr dn km ms mt dp kq lp mu mv ku lt mw mx ky lx my mz lc na bi translated">流畅的</h2><p id="a946" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">在许多情况下，您的数据有很多噪音，很难观察到模式。您可以选择在图表中添加一条平滑线。</p><p id="6120" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">例如:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="a696" class="ml kh it mh b gy mm mn l mo mp">ggplot(data = data,<br/>       mapping = aes(x = pressure, y = wind)) +<br/>  geom_point(color = "blue", <br/>             alpha = .5,<br/>             size = 2) +<br/>  geom_smooth(span = 1)</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/50f0aa20963891688b5c2d4dc02a963e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EGkax0aRUkiQoK28kQ4KNw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图5:跨度= 1的平滑线</p></figure><p id="0c7e" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">根据<strong class="lg iu"> <em class="nw">跨度</em> </strong>参数(0–1)的范围决定线的抖动。<strong class="lg iu"> <em class="nw"> geom_smooth() </em> </strong>中另一个有趣的事情是，你可以陈述用来拟合平滑曲线的方法。在下图中，我使用了<strong class="lg iu"><em class="nw">【lm】</em></strong>的方法，这是线性模型，给出了最佳拟合的线。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="ca26" class="ml kh it mh b gy mm mn l mo mp">ggplot(data = data,<br/>       mapping = aes(x = pressure, y = wind)) +<br/>  geom_point(color = "blue", <br/>             alpha = .5,<br/>             size = 2) +<br/>  geom_smooth(method = "lm")</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/e284bb79c142448b26f001e32d67f945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ry5LUUYG4fKpOWo-_kOyuw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图6:使用线性方法平滑线条</p></figure><p id="84d0" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">还有method =<strong class="lg iu"><em class="nw">【rlm】</em></strong>类似于<strong class="lg iu"><em class="nw">【lm】</em></strong>但是忽略了离群值的影响。</p><h2 id="cec3" class="ml kh it bd ki mq mr dn km ms mt dp kq lp mu mv ku lt mw mx ky lx my mz lc na bi translated">组</h2><p id="dce3" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">变量也可以映射到不同的颜色。在下面的代码中，我在<strong class="lg iu"> <em class="nw"> aes </em> </strong>属性中给我的变量分配了颜色。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="a1d8" class="ml kh it mh b gy mm mn l mo mp">ggplot(data = data,<br/>       mapping = aes(x = pressure, y = wind, color = status)) +<br/>  geom_point( alpha = 0.3,<br/>              size = 2)</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/b7fb780f93322b093d38679e567cc76c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6c964YV9lp5_V5-n8JrO-A.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图7:给组分配颜色</p></figure><h2 id="2798" class="ml kh it bd ki mq mr dn km ms mt dp kq lp mu mv ku lt mw mx ky lx my mz lc na bi translated">标签和主题</h2><p id="8961" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">为了有一个完整的图形，定制主题和标签是必不可少的步骤。我们可以通过控制各种元素来调整视觉效果的主题，比如字体、网格线、图例位置等。此外，自定义标题、副标题和题注可以用功能<strong class="lg iu"> <em class="nw"> labs()修改。</em> </strong></p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="d6ac" class="ml kh it mh b gy mm mn l mo mp">ggplot(data = data,<br/>       mapping = aes(x = pressure, y = wind, color = status)) +<br/>  geom_point(alpha = 0.3,<br/>             size = 2) +<br/>  labs(title = "Relationship Between Wind and Pressure of Storms",<br/>       subtitle = "By Chi Nguyen",<br/>       caption = "Source: dplyr package",<br/>       x = " Pressure",<br/>       y = "Wind",<br/>       color = "Type of Storms") + <br/>  theme_set(theme_bw())</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/fcf5fef2ad7097f8ab3d6217a0fa83c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wBAeMOcAMxTVVr73oJi-eA.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图8:调整图表的主题和标签</p></figure><h1 id="ffe2" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">熟悉一些基本的图表</h1><p id="29e4" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">基本上，当你记住了这些元素后，你就可以轻松地为自己绘制一个漂亮的图形。现在，让我们看看该怎么做。</p><h2 id="1bb9" class="ml kh it bd ki mq mr dn km ms mt dp kq lp mu mv ku lt mw mx ky lx my mz lc na bi translated">折线图</h2><p id="b568" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">前面说过，我们可以用geom_line来画折线图。这是计算每年风暴数量的代码。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="10da" class="ml kh it mh b gy mm mn l mo mp">count_storms &lt;- <br/>  data %&gt;%<br/>  group_by(year) %&gt;%<br/>  summarise(number_of_storms = n())</span><span id="24c1" class="ml kh it mh b gy nr mn l mo mp">ggplot(data = count_storms,<br/>        mapping = aes(x = year, y = number_of_storms)) +<br/>  geom_line(size = 1.5,<br/>            color = 'pink') +<br/>  geom_point(size = 2,<br/>             color = 'black') +<br/>  labs(title = "Number of Storms by Years",<br/>       subtitle = "By Chi Nguyen",<br/>       x = "Year",<br/>       y = "Number of Storms") + <br/>  theme_set(theme_bw())</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/14fb8d34f8e1bab38af53ee763dd3785.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDahhZ6UXy23NtN2SsrnPw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图9:每年的风暴数量</p></figure><h2 id="8e6f" class="ml kh it bd ki mq mr dn km ms mt dp kq lp mu mv ku lt mw mx ky lx my mz lc na bi translated">条形图</h2><p id="87cf" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">从1975年到2015年的40年间，让我们看看每年有多少风暴发生。我们将使用<strong class="lg iu"> <em class="nw"> geom_bar() </em> </strong>来创建图表。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="566d" class="ml kh it mh b gy mm mn l mo mp">storms_no &lt;-  <br/>  data %&gt;%<br/>  group_by(status) %&gt;%<br/>  summarise(number_of_storms = n()) %&gt;%<br/>  arrange(desc(number_of_storms)) %&gt;%<br/>  mutate(prop = round(number_of_storms * 100 / count(status), 1))</span><span id="feda" class="ml kh it mh b gy nr mn l mo mp">ggplot(storms_no, <br/>       aes(x = reorder(status,number_of_storms),<br/>           y = number_of_storms)) + <br/>  geom_bar(stat = "identity", <br/>           fill = "indianred3", <br/>           color = "black") +<br/>  geom_text(aes(label = number_of_storms), <br/>            vjust = -0.25) +<br/>  labs(x = "Types of Storms", <br/>       y = "Number of Storms", <br/>       title  = "Number of Storms During The Period of 40 Years")</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/59d59d729ba91fb3ca463f7128dc2e1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TKg_M7HYArcfIE33ynntKg.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图10:条形图</p></figure><p id="2fbf" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">如果想要有水平条形图，我们可以添加<strong class="lg iu"><em class="nw">【coord _ flip()】</em></strong>来变换图形。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="eb2e" class="ml kh it mh b gy mm mn l mo mp">ggplot(storms_no, <br/>       aes(x = reorder(status,number_of_storms),<br/>           y = number_of_storms)) + <br/>  geom_bar(stat = "identity", <br/>           fill = "indianred3", <br/>           color = "black") +<br/>  geom_text(aes(label = number_of_storms), <br/>            vjust = +0.25,<br/>            hjust = 0<br/>           ) +<br/>  labs(x = "Types of Storms", <br/>       y = "Number of Storms", <br/>       title  = "Number of Storms During The Period of 40 Years") +<br/>  coord_flip()</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/8dc31daa9e80b8a27619c70a5532a0b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TyHmeV2h0E2OOGwtB6W06A.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图11:水平条形图</p></figure><h2 id="a1ac" class="ml kh it bd ki mq mr dn km ms mt dp kq lp mu mv ku lt mw mx ky lx my mz lc na bi translated">圆形分格统计图表</h2><p id="5463" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">现在，我要用饼状图计算1975年发生的每种风暴的百分比。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="5c9a" class="ml kh it mh b gy mm mn l mo mp">count_storm_75 = length(data$status[which(data$year == '1975')])</span><span id="ae09" class="ml kh it mh b gy nr mn l mo mp">#Calculate the percentage<br/>storm_pct = <br/>  data %&gt;%<br/>  filter(year == '1975') %&gt;%<br/>  select(status) %&gt;%<br/>  group_by(status) %&gt;%<br/>  summarise(number_of_storms = n()) %&gt;%<br/>  arrange(desc(number_of_storms)) %&gt;%<br/>  mutate(pct = round(number_of_storms * 100 / count_storm_75, 1))</span><span id="4d6d" class="ml kh it mh b gy nr mn l mo mp">#Plot the Pie chart<br/>ggplot(storm_pct, <br/>       aes(x = "", <br/>           y = pct, <br/>           fill = status)) +<br/>  geom_bar(width = 1, <br/>           stat = "identity", <br/>           color = "black") +<br/>  coord_polar("y", <br/>              start = 0, <br/>              direction = -1) +<br/>  ggtitle("Percentage of Storms Happened in 1975")+<br/>  theme(plot.title = element_text(hjust = 0.5))+<br/>  guides(fill=guide_legend(title="Types of Storms")) +<br/>  theme_void()</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/ddede8cebe2b5d90812c9dd0e3b68647.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WZ6t-S9LbYOlqBpmrdb0tg.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图12:饼图</p></figure><h1 id="a506" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">结论</h1><p id="399f" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我自己发现与Python中的其他包相比，ggplot很容易上手。通过学习这个包的基础知识，您可以根据自己的喜好定制图形，而不必过多考虑从哪里开始以及如何编写代码。此外，我认为这也是可视化统计报告并获得有用见解的有力工具。虽然我已经知道它几天了，但我发现它很方便，并决定在未来进一步了解它。你也可以和我一起阅读下面的文档:</p><div class="nx ny gp gr nz oa"><a href="https://ggplot2-book.org/annotations.html" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">8注释| ggplot2</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">构建数据可视化时，通常需要对显示的数据进行注释。概念上…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">ggplot2-book.org</p></div></div><div class="oj l"><div class="ok l ol om on oj oo jz oa"/></div></div></a></div><p id="b91a" class="pw-post-body-paragraph le lf it lg b lh nd lj lk ll ne ln lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">祝你好运！</p></div></div>    
</body>
</html>