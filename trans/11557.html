<html>
<head>
<title>Build Your Language Filter With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python构建你的语言过滤器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/build-your-language-filter-with-python-d6502f9c224b?source=collection_archive---------14-----------------------#2021-11-15">https://towardsdatascience.com/build-your-language-filter-with-python-d6502f9c224b?source=collection_archive---------14-----------------------#2021-11-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="275a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这是一个关于如何用python构建语言过滤器的指南，用于审查污言秽语和其他不合适的内容</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5cb79541fdd8cf38fa7fd9896dd9e5df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dP-IE9UjvUKoRxSj"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">玛利亚·克里萨诺娃在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="6c2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">语言过滤器是一个你可以去除不必要的脏话的过滤器。某种过滤对于维护网站或所提供服务的真实性是必要的。</p><p id="aeff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种必要的审查对于各种自然语言处理项目也是有帮助的。为了儿童使用的安全，你可以使用语言过滤，在聊天机器人中使用来阻止亵渎的词语，以及审查被认为对工作不安全的污言秽语。</p><blockquote class="lv lw lx"><p id="bce5" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong>在这篇文章中，我将删除任何被认为冒犯公众的词语。但是，当您在您的设备上尝试这种方法时，建议使用完整的单词来测试它们，并检查它是否如您所愿完美地工作。</p></blockquote><p id="9f25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我们将讨论两个这样的简单方法，我们可以利用有效的语言过滤。一种方法是使用预构建的python库模块，它可以有效地执行这项任务，另一种方法是构建自己的定制语言过滤。</p><p id="e2e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有关如何使用深度学习从头开始构建聊天机器人的更多信息，请查看下面的文章。我们今天看到的脏话过滤器对这类应用也很有用，你可以选择过滤掉可能被你的聊天机器人认为是不适当的回复的文本。</p><div class="mc md gp gr me mf"><a rel="noopener follow" target="_blank" href="/innovative-chatbot-using-1-dimensional-convolutional-layers-2cab4090b0fc"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">使用一维卷积层的创新聊天机器人</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">从头开始使用深度学习和Conv-1D层构建聊天机器人</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">towardsdatascience.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt ks mf"/></div></div></a></div></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fe69460f3f2df5562fbdb172273ba3b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6Uk842G0hQZsOy2v"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@clemhlrdt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Clément H </a>拍摄</p></figure><p id="655d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文的这一部分中，我们将探索几种方法来实现过滤掉特定语言中任何不合适的俚语的过程。我们将讨论完成以下任务的两个过程。在第一种方法中，我们将利用亵渎过滤器库来完成项目。在第二种方法中，我们将构建自己的自定义代码来执行这样的操作。</p><h1 id="9b52" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">1.脏话过滤方法:</h1><p id="2603" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">其中一种方法是使用python中的脏话过滤器库模块。这是一个通用的检测和过滤脏话的库。包括对英语和俄语的支持。它有助于检测两种语言范围内的脏话，并可以相应地审查它们。</p><p id="cbba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该模块的安装过程非常简单，可以使用以下pip命令成功完成:</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="371a" class="od nc it nz b gy oe of l og oh">pip install profanity-filter</span></pre><p id="88e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，在执行您安装的以下库模块时，您可能会遇到一些小问题。在运行本节后面提供的代码时，您可能会遇到的错误之一如下。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="ee76" class="od nc it nz b gy oe of l og oh"><strong class="nz iu">ProfanityFilterError</strong>: Couldn't load Spacy model for any of languages: 'en'</span></pre><p id="6dab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下错误表明您的Spacy模型中没有可用的英语。Spacy是处理自然语言处理相关数据的最佳工具之一。它建立在高端研究的基础上，旨在支持复杂的任务。如果您还没有安装这个库，我强烈建议您用下面的命令安装它。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="c6e5" class="od nc it nz b gy oe of l og oh">pip install spacy</span></pre><p id="d466" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你已经安装了spacy库，你可以同时在这个模块中安装英语，这样脏话过滤库就可以利用它来过滤不合适的内容。下面提供的以下命令应该可以成功地在您的设备上为Spacy型号安装英语。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="209c" class="od nc it nz b gy oe of l og oh">python -m spacy download en</span></pre><p id="1d7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看一些关于如何有效利用这个库的代码。一旦我们浏览了代码，我们将理解这个库的一些特性，然后在本文的下一节中继续开发我们自己的过滤系统。</p><h2 id="336e" class="od nc it bd nd oi oj dn nh ok ol dp nl li om on nn lm oo op np lq oq or nr os bi translated">代码:</h2><p id="0e12" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">使用脏话过滤器库的代码块非常简单。我们可以导入下面的库和空间模块。我们可以访问需要执行审查操作的特定语言，并将返回值存储在所需的变量中。这个变量现在可以用来有效地过滤掉任何不必要的俚语。下面的代码片段及其输出显示了一个完美的用例示例。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="aaa9" class="od nc it nz b gy oe of l og oh">from profanity_filter import ProfanityFilter<br/>import spacy</span><span id="b3fb" class="od nc it nz b gy ot of l og oh">spacy.load('en')</span><span id="44ac" class="od nc it nz b gy ot of l og oh">pf = ProfanityFilter(languages = ['en'])<br/>pf.censor("That's bullshit!")</span></pre><h2 id="20ab" class="od nc it bd nd oi oj dn nh ok ol dp nl li om on nn lm oo op np lq oq or nr os bi translated">输出:</h2><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="fd1a" class="od nc it nz b gy oe of l og oh">"That's ********!"</span></pre><p id="113c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">亵渎过滤器支持该库中包含的多种语言。目前，两个最突出的语言支持是英语和俄语。本节的特点来自官方来源之后的<a class="ae ky" href="https://pypi.org/project/profanity-filter/" rel="noopener ugc nofollow" target="_blank">。让我们看看脏话过滤模块能够实现的一些惊人的功能。</a></p><h1 id="eca6" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">特点:</h1><ol class=""><li id="7ce9" class="ou ov it lb b lc nt lf nu li ow lm ox lq oy lu oz pa pb pc bi translated">全文或单个单词审查。</li><li id="f93f" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu oz pa pb pc bi translated">多语言支持，包括在混合语言编写的文本亵渎过滤。</li><li id="5091" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu oz pa pb pc bi translated">深度分析。该库不仅使用Levenshtein自动机检测精确的亵渎单词匹配，还检测衍生和扭曲的亵渎单词，忽略字典单词，包含亵渎单词作为一部分。</li><li id="9f16" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu oz pa pb pc bi translated">将库用作管道一部分的空间组件。</li><li id="60bf" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu oz pa pb pc bi translated">决策说明(属性<code class="fe pi pj pk nz b">original_profane_word</code>)。</li><li id="d247" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu oz pa pb pc bi translated">部分文字审查。</li><li id="7b35" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu oz pa pb pc bi translated">扩展性支持。可以通过提供词典来增加新的语言。</li><li id="4713" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu oz pa pb pc bi translated">RESTful web服务。</li></ol><p id="d6e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该模块的唯一限制是它是上下文无关的。该图书馆无法检测使用由体面的话组成的亵渎性短语。反之亦然，图书馆不能检测一个亵渎的词的适当用法。这意味着过滤器不能理解一个单词的真实语义。因此，有可能在数据库没有意识到的讽刺语句或俚语中出现失误。</p><h1 id="a142" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">2.如何在不使用该库的情况下构建自己的过滤器系统:</h1><p id="c93e" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">在本节中，我们将了解如何在这个自定义代码块中为特定语言(如英语)构建我们自己的自定义语言过滤器。这种执行的代码很简单，我们可以构建自己的函数来执行这种任务。</p><p id="88d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一步是为你的特定项目列出你希望保留审查的所有单词。下面是一个例子代码块的一些话，我们可能希望被审查。用户也可以随意添加和探索任何其他类型的单词。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="5c44" class="od nc it nz b gy oe of l og oh">Banned_List = ["idiot", "stupid", "donkey"]</span></pre><p id="2806" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一步，我们将定义一个包含三个禁用单词中的两个的随机句子。下面是我们将在变量中声明的句子。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="0adf" class="od nc it nz b gy oe of l og oh">sentence = "You are not only stupid , but also an idiot ."</span></pre><p id="baf3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们将定义我们的审查自定义函数，该函数将执行审查特定句子中不适当语言的操作。在这个函数中，我们将把想要的句子作为一个参数，并相应地计算下面的内容。我们将用空格将句子分开，这样我们就有了需要的单词。然后，我们将继续检查以下单词是否是禁用列表的一部分。如果是，那么我们将用星号代替这个词。如果没有，我们将继续按照最初的解释打印句子。下面是解释这个函数的代码片段。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="15ed" class="od nc it nz b gy oe of l og oh">def censor(sentence = ""):<br/>    new_sentence = ""<br/>    <br/>    for word in sentence.split():<br/>#         print(word)<br/>        if word in Banned_List:<br/>            new_sentence += '* '<br/>        else:<br/>            new_sentence += word + ' '<br/>            <br/>    return new_sentence</span></pre><p id="2a39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，让我们调用函数并查看下面句子的相应输出。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="7c4c" class="od nc it nz b gy oe of l og oh">censor(sentence)</span></pre><h2 id="af7b" class="od nc it bd nd oi oj dn nh ok ol dp nl li om on nn lm oo op np lq oq or nr os bi translated">输出:</h2><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="6daa" class="od nc it nz b gy oe of l og oh">'You are not only * , but also an * . '</span></pre><p id="3ea0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一些额外的改进，观众可以选择进行，例如为每个单词加入正确数量的星号空格，并确保阅读单词时标点符号不会干扰。这两项任务都很容易完成，我建议有兴趣的人试一试！</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="6641" class="nb nc it bd nd ne pl ng nh ni pm nk nl jz pn ka nn kc po kd np kf pp kg nr ns bi translated">结论:</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/1e6e55feb44b968169f7b4d9f1c27bc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WPPksaGv_tzb-wnA"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@joeyc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">乔·凯恩</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="63fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们讨论了两种简单的方法，通过这两种方法，我们可以针对任何特定的任务有效地使用语言过滤方法。然而，这些过滤系统的一个主要问题是缺乏对所用语言的语义理解。因此，它无法找出什么合适的短语或特定的巧妙方法来绕过它的方法。</p><p id="95dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管如此，他们在从网站设计到使用深度学习方法创建的聊天机器人的广泛应用中，出色地完成了与大多数常见做法的对抗。您可以找到更好的方法来使用这些函数产生更有效的结果。</p><p id="1f98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想在我的文章发表后第一时间得到通知，请点击下面的<a class="ae ky" href="https://bharath-k1297.medium.com/membership" rel="noopener">链接</a>订阅邮件推荐。如果你希望支持其他作者和我，请订阅下面的链接。</p><div class="mc md gp gr me mf"><a href="https://bharath-k1297.medium.com/membership" rel="noopener follow" target="_blank"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">通过我的推荐链接加入Medium-bharat K</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">bharath-k1297.medium.com</p></div></div><div class="mo l"><div class="pr l mq mr ms mo mt ks mf"/></div></div></a></div><p id="fc29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看我的其他一些文章，你可能会喜欢读！</p><div class="mc md gp gr me mf"><a rel="noopener follow" target="_blank" href="/generating-qr-codes-with-python-in-less-than-10-lines-f6e398df6c8b"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">用Python生成二维码，不到10行</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">构建一个简单的Python项目，用QR码加密您的信息</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">towardsdatascience.com</p></div></div><div class="mo l"><div class="ps l mq mr ms mo mt ks mf"/></div></div></a></div><div class="mc md gp gr me mf"><a rel="noopener follow" target="_blank" href="/6-reasons-why-your-ai-and-data-science-projects-fail-2a1ecb77743b"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">你的人工智能和数据科学项目失败的6个原因</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">分析导致你的人工智能和数据科学项目失败的6个主要原因</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">towardsdatascience.com</p></div></div><div class="mo l"><div class="pt l mq mr ms mo mt ks mf"/></div></div></a></div><div class="mc md gp gr me mf"><a rel="noopener follow" target="_blank" href="/how-to-write-code-effectively-in-python-105dc5f2d293"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">如何有效地用Python写代码</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">分析使用Python编写代码时应该遵循的最佳实践</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">towardsdatascience.com</p></div></div><div class="mo l"><div class="pu l mq mr ms mo mt ks mf"/></div></div></a></div><p id="3faf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你们坚持到最后。我希望你们喜欢阅读这篇文章。我希望你们都有美好的一天！</p></div></div>    
</body>
</html>