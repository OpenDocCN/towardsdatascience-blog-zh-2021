<html>
<head>
<title>Create Advanced Google Shopping Insights using Merchant Center BigQuery exports</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Merchant Center BigQuery exports创建高级Google购物洞察</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-advanced-google-shopping-insights-using-merchant-center-bigquery-exports-f81f65399a2c?source=collection_archive---------12-----------------------#2021-09-10">https://towardsdatascience.com/create-advanced-google-shopping-insights-using-merchant-center-bigquery-exports-f81f65399a2c?source=collection_archive---------12-----------------------#2021-09-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7ac6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">利用产品级别<strong class="ak">价格竞争力</strong>、<strong class="ak">需求和受欢迎程度数据，基于</strong>所有谷歌购物商家</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5c83ca6a90f6280e51ebf5182d69906c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hl0heuJ7GmKoKIdT_-hZgg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@dylu" rel="noopener ugc nofollow" target="_blank">亚采克·迪拉格</a>在<a class="ae kv" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的原始照片</p></figure><p id="500e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">商品级别价格竞争力和基准数据，已经在商家中心界面提供，可以导出到Google BigQuery。利用这些导出，您可以创建对产品目录的高级见解，这些见解也可以用于自动化。</strong></p><p id="c645" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程中，您将学习如何:</p><ul class=""><li id="1b0a" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">基于从Google Shopping 上的所有商家到Google BigQuery的数据<strong class="ky ir">,导出产品和品牌层面的市场洞察数据</strong></li><li id="59c3" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">使用商家中心的数据丰富您的产品信息，如<strong class="ky ir">价格竞争力</strong>、<strong class="ky ir">相对需求</strong>或<strong class="ky ir">产品排名</strong>来创建有价值的高级见解。</li><li id="d6f9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">使用<a class="ae kv" href="#2842" rel="noopener ugc nofollow">示例查询</a>将数据合并并加入到您的产品提要中。</li><li id="28c1" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">将出口用于其他<a class="ae kv" href="#aceb" rel="noopener ugc nofollow">实际用例</a>。</li></ul><blockquote class="mg mh mi"><p id="eaf3" class="kw kx mj ky b kz la jr lb lc ld ju le mk lg lh li ml lk ll lm mm lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">注:</em> </strong> <em class="iq">你喜欢这篇文章吗？阅读</em> <a class="ae kv" href="https://stacktonic.com/article/create-advanced-google-shopping-insights-using-merchant-center-big-query-exports" rel="noopener ugc nofollow" target="_blank"> <em class="iq">原文</em> </a> <em class="iq">(以及其他许多动手营销技术相关文章)上</em><a class="ae kv" href="https://stacktonic.com" rel="noopener ugc nofollow" target="_blank"><em class="iq">【stacktonic.com】</em></a><em class="iq"/>🚀</p></blockquote><h1 id="3bdd" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">将商业中心连接到Google BigQuery</h1><p id="1413" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">第一步，你需要一个有效的计费帐户谷歌云项目。如果不存在，您可以查看这些说明。</p><p id="60e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">官方的<a class="ae kv" href="https://cloud.google.com/bigquery-transfer/docs/merchant-center-transfer#setting_up_a_google_merchant_center_transfer" rel="noopener ugc nofollow" target="_blank">谷歌文档</a>提供了在商业中心和谷歌大查询之间建立数据传输服务的所有信息。建立连接后，Merchant Center将每天导出几份报告。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/8cc86ac4e7bee0a6c3a4931a6ca41397.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fB8qbLNlFyobxGN8yH1DtQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:谷歌</p></figure><h1 id="4bef" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated"><strong class="ak">商户中心出口解释</strong></h1><p id="2e3d" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">传输服务可以导出几种报告类型。您不必导出所有报告(可以在设置导出时进行配置)。</p><blockquote class="mg mh mi"><p id="3194" class="kw kx mj ky b kz la jr lb lc ld ju le mk lg lh li ml lk ll lm mm lo lp lq lr ij bi translated">要知道，以GBs来说，商业中心的出口并没有那么小。例如，对于每个可用的谷歌产品类别和国家，它将导出10.000个顶级产品。所以这可能会在你的谷歌云项目中产生一些成本。参见本文最后一章的提示。</p></blockquote><p id="48d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最重要的出口；</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/db15960e45d621631829ca86d38f7ce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cseWBjVQZwECbSRbqkJIpw.png"/></div></div></figure><p id="17a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mj">另见</em> <a class="ae kv" href="https://cloud.google.com/bigquery-transfer/docs/merchant-center-transfer" rel="noopener ugc nofollow" target="_blank"> <em class="mj">本概述</em> </a> <em class="mj">在谷歌官方文档中。</em></p><p id="4bb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一些最有趣的性质和定义；</p><ul class=""><li id="fefc" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><strong class="ky ir"> price_benchmark_value </strong>:特定产品的平均(点击加权)价格，基于所有在购物广告上宣传相同产品的商家。商家之间匹配产品是以GTIN为基础的。</li><li id="6f0e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">排名</strong>:该产品在购物广告、谷歌产品类别和国家级别上的受欢迎程度。受欢迎程度是基于销售产品的估计数量。排名每天更新，但导出的数据最多会延迟2天。</li><li id="1908" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir"> previous_rank </strong>:过去7天的排名变化。</li><li id="b6c1" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">相对_需求.最小/。max /。bucket </strong>:一个产品相对于在同一个类别和国家中具有最高流行等级的产品的当前估计需求。还包括桶(例如非常高)</li><li id="6bd2" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">上一个_相对_需求.最小/。max /。桶</strong>:同上，只计算最近7天。</li><li id="7f00" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">price _ range . min `/` price _ range . max</strong>:不含小数的价格范围下限和上限。不包括运费。</li></ul><h1 id="aceb" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">实际使用案例</h1><p id="fd12" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">结合不同的报告，您可以想到以下用例；</p><ul class=""><li id="a5bd" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><strong class="ky ir">产品反馈状态</strong>:获取与您的产品反馈相关的商家中心和购物错误及通知。</li><li id="ac74" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">产品库存优化</strong>:使用畅销书报告，你可以根据谷歌产品类别和国家的顶级产品完整列表，检查哪些热门产品已经在你的库存中，哪些潜在产品可以添加。</li><li id="3130" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">价格和投标优化:</strong>使用价格竞争力基准信息，您可以检查自己在价格方面相对于竞争对手的表现。</li><li id="4968" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">趋势产品和品牌</strong>:根据过去X天/周/月畅销书排行榜的变化，确定趋势产品/品牌。每个国家有所不同</li><li id="e6cd" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">产品提要丰富化</strong>:用谷歌市场洞察数据丰富你的产品提要</li><li id="df2a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">基于规则的自动化</strong>:根据产品反馈的丰富程度，暂停和启用渠道中的活动/产品(如谷歌购物)或调整出价。例如基于价格竞争力。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/a04298c8f216156d9f84cf71b107ffe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-cNNp12j21fwANvh7iNyRw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">利用商家中心的市场洞察丰富产品数据</p></figure><h1 id="2842" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">示例查询</h1><p id="f83c" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">为了向您展示如何组合数据，我构建了一个查询，该查询将在产品级别上连接和组合不同的Merchant Center表中的数据。</p><p id="b589" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一些评论:</p><ul class=""><li id="cbef" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><strong class="ky ir">谷歌并没有为你feed中的每一个产品提供数据</strong>。要么是某个产品不在畅销书排行榜上，要么就是谷歌不提供或者不计算(数据不够，可能还有其他一些原因)。或者你有其他商家不提供的独特产品。</li><li id="dadf" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">使用<em class="mj">畅销书_顶级产品_库存</em>作为映射表，通过连接<em class="mj"> rank_id </em>(在两个表中都可用)，将<em class="mj">畅销书_顶级产品</em>数据与您的<em class="mj">产品</em>数据连接起来</li><li id="4f36" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">您系统中已知的“原始”产品ID在不同的出口中并不直接可用。它在<em class="mj"> product_id </em>字段中可用，但是您必须拆分该值并选择最后一部分，因为Google向其添加了附加信息，例如:<em class="mj">online:NL:NL:&lt;original-product-id&gt;</em></li><li id="3fc2" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">这些报告包含大量数据。例如，畅销书报告包含每个谷歌产品类别和国家的10.000本畅销书。出于效率原因，尽量只选择需要的国家。同样重要的是，在谷歌提供的表格中，同一产品可以在不同的国家重复出现。</li><li id="034e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">报告包含嵌套和重复的数据，请确保您理解表格结构。例如，产品错误和通知是嵌套的。</li></ul><h2 id="0a11" class="nn mo iq bd mp no np dn mt nq nr dp mx lf ns nt mz lj nu nv nb ln nw nx nd ny bi translated">示例:用基准和价格竞争力数据丰富产品提要</h2><p id="652b" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">下面的查询将产生这个表，您可以在您的原始产品提要上匹配它，并且可以作为自动化规则的输入(在产品级别上)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/a04298c8f216156d9f84cf71b107ffe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-cNNp12j21fwANvh7iNyRw.png"/></div></div></figure><blockquote class="mg mh mi"><p id="5fb5" class="kw kx mj ky b kz la jr lb lc ld ju le mk lg lh li ml lk ll lm mm lo lp lq lr ij bi translated">确保根据您的情况用正确的值替换数据集/表名</p></blockquote><p id="7787" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://gist.github.com/krisjan-oldekamp/631e2f029d89538da45f4946f7d5be4f" rel="noopener ugc nofollow" target="_blank">GitHub上也有代码</a></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><h2 id="d427" class="nn mo iq bd mp no np dn mt nq nr dp mx lf ns nt mz lj nu nv nb ln nw nx nd ny bi translated">结束语</h2><p id="9c1d" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">使用BigQuery Merchant Center导出，您可以大规模生成洞察，并将其用于自动化。但是请记住，导出保存了大量数据，因此可能会在您的Google Cloud项目中产生一些成本(您可能不需要所有的数据)。这些表是按日期分区的，因此您可以编写一个Python脚本或使用Airflow删除超过X天的分区，以保持BigQuery中的数据量(可能在您创建了一些聚合报告之后)。</p></div></div>    
</body>
</html>