<html>
<head>
<title>How to Build A Fantasy Premier League Team with Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用数据科学打造梦幻英超球队</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-build-a-fantasy-premier-league-team-with-data-science-f01283281236?source=collection_archive---------3-----------------------#2021-09-26">https://towardsdatascience.com/how-to-build-a-fantasy-premier-league-team-with-data-science-f01283281236?source=collection_archive---------3-----------------------#2021-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d7f9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用数据科学和数学优化您的FPL团队。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/15657c3f6d4ca3f3cdf3095db945a5f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gWR8kQ_i9ycAfJ7B7cOhLA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@thwhoai?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Nguyen Thu Hoai </a>在<a class="ae ky" href="https://unsplash.com/s/photos/soccer-coach?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h1 id="336d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="1207" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">梦幻超级联赛是一个体育战略游戏，我们建立了一个足球队的基础上，从英格兰超级联赛的球队。这个游戏的目标是挑选对比赛有贡献的球员。</p><p id="873a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了知道球员有没有贡献，我们可以看看它的分数。这些分数是基于几个统计数据检索的，比如助攻数、进球数、上场时间等等。随着分数越来越大，球员们为比赛做出了巨大的贡献。</p><p id="046d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对于挑选球员，我们也有几个约束。这些制约因素是:</p><ul class=""><li id="4bdf" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">一个队由15名队员组成。具体来说，一个球队有两名守门员，五名后卫，五名中场，三名前锋。</li><li id="f856" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">给一个团队的预算只有1亿英镑。</li><li id="fab3" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">我们最多只能从一支英超球队中挑选三名球员。</li></ul><p id="f866" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们如何在这些限制下建立一个团队？我们可以利用数据科学和数学的帮助，而不是依靠我们的常识！</p><p id="3733" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">本文将向你展示如何用一个叫做线性规划的数学概念来构建一个梦幻英超球队。</p><p id="64f2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果对那个概念理解不深也不用担心。我们将使用一个基于Python语言的名为Pulp的库。</p><p id="9a89" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">没有进一步，让我们开始吧！</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="541f" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">最优化和线性规划</h1><p id="6cc1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在我们进入实现之前，让我给你解释一下优化和为什么我们应该使用线性编程的原因。</p><p id="165f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">优化过程是优化问题的工作流程。这个问题包括结果和我们受到的限制。一般来说，这个过程分为几个步骤。它们是:</p><ul class=""><li id="5638" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">获取问题描述。</li><li id="e429" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">制定数学程序</li><li id="a0c8" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">求解数学程序</li><li id="cf74" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">评估结果</li><li id="590b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">最终确定结果</li></ul><p id="e983" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在我们的例子中，问题描述是我们想要建立一个足球队，它有大量的分数，同时有效地使用预算。</p><p id="161b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要将问题公式化为数学问题，我们需要知道一些信息。这些是:</p><ul class=""><li id="d47f" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">我们想要观察的变量。对于我们的问题，我们需要像玩家的价格、点数、团队和位置这样的数据。</li><li id="a721" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">目标函数。我们想优化这个函数。在这种情况下，我们希望从我们挑选的球员身上得到很多分数。</li><li id="b897" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">因为FPL有像预算和球员数量这样的规则，所以我们给出了约束条件。</li><li id="5555" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">最后，我们需要跟踪玩家统计数据的数据。</li></ul><p id="29a6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在我们得到所有我们需要的信息后，下一步是解决问题。为此，我们可以使用线性规划。</p><p id="455f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">使用线性编程的原因是因为函数是基于线性表达式格式的。基于该表达式，线性编程将试图找到最佳点。因此，我们可以得到最优的结果。</p><p id="7f18" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我不会解释线性规划背后的细节。如果你有更多的兴趣，你可以在网上探索更多。目前，我们主要关注如何使用Python解决优化问题。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="b22a" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">履行</h1><h2 id="e34e" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">数据源</h2><p id="0d5f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对于数据源，FPL为我们提供了访问历史数据的API。我们可以检索数据，如球员的统计数据，每个游戏周的结果，球队的表现，等等。数据本身是JSON格式的，所以我们必须先重新格式化它。</p><p id="6271" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果您不能使用API或预处理JSON，不要担心，我们可以使用来自vaastav的GitHub存储库中的预处理数据。您可以在这里访问数据<a class="ae ky" href="https://github.com/vaastav/Fantasy-Premier-League" rel="noopener ugc nofollow" target="_blank">。要下载数据，我们可以使用git克隆来完成。在您的终端上，编写如下命令:</a></p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="ad2c" class="ns la it of b gy oj ok l ol om"><strong class="of iu">git clone </strong><a class="ae ky" href="https://github.com/vaastav/Fantasy-Premier-League.git" rel="noopener ugc nofollow" target="_blank"><strong class="of iu">https://github.com/vaastav/Fantasy-Premier-League.git</strong></a></span></pre><h2 id="4208" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">加载库</h2><p id="4866" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">获得数据后，下一步是导入库来处理数据集。我们需要像pandas这样的库来分析和处理数据，需要pulp来应用线性编程。</p><p id="7f7a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果您仍然没有这些库，您可以使用pip命令来安装这些库。在终端上，编写以下命令:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="2834" class="ns la it of b gy oj ok l ol om"><strong class="of iu">pip install pandas<br/>pip install pulp</strong></span></pre><p id="6ebd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在你的jupyter笔记本上，写下这几行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="cf26" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">加载数据</h2><p id="c5d0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">加载库之后，下一步是加载数据。我们将在每个比赛周使用包含当前赛季(2021–22)球员统计数据的数据。让我们写这几行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="eccc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在这种情况下，我们只取前一个游戏周。就像文章目前写的那样，目前的游戏周是游戏第6周。因此，我们从第5周的游戏中获取数据。让我们写这几行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="16a7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从上表可以看出，我们有很多列。因此，我们只选取我们实际需要的列。</p><p id="c7ea" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这些列是玩家的名字、俱乐部、总点数、价格(价值)和位置。关于这些列的细节将在下一节中解释。</p><p id="98fd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在让我们写这几行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="9983" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">初始化变量</h2><p id="e80d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们有了我们需要的数据。下一步是初始化几个变量。正如我之前提到的，我们从表中提取了几列。原因有两个，目标和限制。</p><p id="f4e2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们采用总点数变量是因为我们想优化点数。同时遵守我们现有的约束。像团队名称、位置和价格这样的变量是需要满足的约束。</p><p id="115a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在让我们编写这些代码行来初始化我们需要的变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h1 id="9703" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">初始化问题</h1><p id="daf9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们有了我们需要的变量。下一步是初始化包含我们的目标和约束的LpProblem对象。</p><p id="59b8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们设置参数，如问题的名称和一个对象，以确定问题的目标。因为我们想要最大化点数，所以我们将LpMaximize设置为对象的参数。</p><p id="1889" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下面是实现这一点的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="5184" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">定义目标</h2><p id="f801" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">初始化问题后，下一步是定义目标。我们问题的目标是使点数最大化。</p><p id="4749" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们写这几行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="15cb" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">定义约束</h2><p id="aa2f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们回忆一下来自FPL的约束:</p><ul class=""><li id="03d3" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">一个队由15名队员组成。具体来说，一个球队有两名守门员，五名后卫，五名中场，三名前锋。</li><li id="ecf2" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">给一个团队的预算只有1亿英镑。</li><li id="e6b6" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">我们最多只能从一支英超球队中挑选三名球员。</li></ul><p id="352f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">基于上面的约束，我们创建数学上描述约束的表达式。</p><p id="1104" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们写这几行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="8994" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">解决问题</h2><p id="5185" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们有了我们需要的变量和数学表达式。现在让我们通过使用这行代码来解决这个问题:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="e9a7" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">检索玩家列表</h2><p id="4131" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">程序解决问题后，我们可以检索符合约束条件的玩家姓名。让我们写这几行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="4ac6" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">检索预期点数和总成本</h2><p id="0f87" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在你有了适合FPL限制的球队阵容。如果我们想知道期望的点数和使用的预算呢？</p><p id="128f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从这个问题中，我们可以得到目标和约束方程。我们可以通过计算等式来计算总点数和价格值。</p><p id="b2ed" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下面是处理结果的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="97d4" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">结论</h1><p id="113b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">干得好！现在，您已经使用Python实现了构建梦幻超级联赛最佳团队的线性规划。</p><p id="bda6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我希望它能帮助你为FPL建立你的团队。因此，你可以用有限的预算建立一个能为比赛做出贡献的最佳团队。</p><p id="7c61" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你对我的文章感兴趣，你可以在Medium上关注我。如果有任何问题，可以在<a class="ae ky" href="https://www.linkedin.com/in/alghaniirfan/" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> LinkedIn </strong> </a>上联系我。</p><p id="96ad" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">感谢您阅读我的文章。</p><h2 id="23c4" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">参考</h2><p id="814f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">[1]<a class="ae ky" rel="noopener" target="_blank" href="/how-our-ai-got-top-10-in-the-fantasy-premier-league-using-data-science-ba88b185b354">https://towards data science . com/how-our-ai-got-top-10-in-the-fantasy-premier-league-using-data-science-ba88b 185 b 354</a><br/>【2】<a class="ae ky" rel="noopener" target="_blank" href="/creating-a-fantasy-cricket-team-application-of-linear-programming-4b60c261702d">https://towards data science . com/creating-a-fantasy-cricket-team-application-of-of-linear-programming-4b 60 c 261702d</a><br/>【3】<a class="ae ky" href="https://medium.com/@joseph.m.oconnor.88/linearly-optimising-fantasy-premier-league-teams-3b76e9694877" rel="noopener">https://medium . com</a></p></div></div>    
</body>
</html>