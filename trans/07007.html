<html>
<head>
<title>Visualizing Satellite Data Using Matplotlib and Cartopy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Matplotlib和Cartopy可视化卫星数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizing-satellite-data-using-matplotlib-and-cartopy-8274acb07b84?source=collection_archive---------11-----------------------#2021-06-25">https://towardsdatascience.com/visualizing-satellite-data-using-matplotlib-and-cartopy-8274acb07b84?source=collection_archive---------11-----------------------#2021-06-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="0664" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="56e7" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用Python和被动微波数据探索我们不断变化的气候</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/47818570945e09492e07a1b0657779d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BzpMkVsJaN_j9sfiP_B5Fw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">北半球亮温图像(作者创建)</p></figure><p id="818f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我最近给<a class="ae md" rel="noopener" target="_blank" href="/can-we-study-snowpack-with-satellites-e83d1f7720aa">写了一篇帖子</a>，讲述我们如何利用从卫星上获得的被动微波图像来研究积雪。利用卫星来研究积雪，可以解开一些区域的信息，否则这些信息是不可能研究的，尤其是在大范围内。除了覆盖范围大之外，携带被动微波传感器的太阳同步卫星每天在相似的时间拍摄两极的图像。这些一致的测量产生了令人难以置信的每日时间序列，可以追溯到1978年Nimbus 7卫星的发射。Nimbus计划是NASA和NOAA首次合作发射专门用于气象研究的卫星，40多年后，我们仍然受益于研究气候的早期投资。</p><p id="2a06" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在本帖中，我们将通过各种方法来使用Matplotlib和Cartopy可视化卫星图像。在制作演示地图时，这两个库是我最喜欢的工具；虽然网络地图风靡一时，但我们经常需要一种非在线托管的高质量可视化。</p><p id="7ee7" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们将从使用Matplotlib快速绘制信息丰富的图像开始，然后深入到使用Cartopy使用Matplotlib绘制地理坐标。最后，我们将讨论如何用Matplotlib制作动画图像和地图，以显示随时间的变化。所以，请坐好，放松，让我们学习如何使用Matplotlib来可视化阿拉斯加的积雪。</p><h1 id="2e87" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">数据</h1><h2 id="3a8b" class="mw mf it bd mg mx my dn mk mz na dp mo lq nb nc mq lu nd ne ms ly nf ng mu iz bi translated">背景</h2><p id="3235" class="pw-post-body-paragraph lh li it lj b lk nh kd lm ln ni kg lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">我们将使用MEaSUREs校准的高分辨率被动微波数据集，该数据集是NASA制作地球系统数据记录用于研究环境(MEaSUREs)计划的一部分。这个数据集是特殊的，因为它被重采样到比传感器最初捕获的分辨率高得多的分辨率；原始像素为25公里宽，但新数据的像素为6.25公里宽。这意味着我们现在有16个像素，而原来只有一个。</p><p id="e9c5" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这些无源微波传感器测量的辐射能量非常低，这迫使我们在大范围内进行测量，以获得良好的读数。虽然与其他类型的卫星图像相比，6.25公里仍然是一个宽像素，但它使我们能够比以前更详细地研究积雪。</p><p id="5c2a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">被动微波辐射计测量的主要参数之一是亮温(TB)，它是对朝向卫星上的传感器移动的辐射的辐射率的测量。我们在不同的频率下测量结核，用千兆赫(GHz)表示。对于积雪分析，我们主要关注37GHz和19GHz频率。当地面上没有雪时，两种频率相似，但随着雪在地面上积累，37GHz频率的散射要多得多。这种差异使我们能够找到雪水当量(SWE)的替代变量，即储存在雪堆中的水量。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nm"><img src="../Images/5598122c5d498bfcfc1d8d36745851b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oh1pqqnfxfWNpH4zgcBVoQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><p id="ac0e" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在该图中，您可以看到19GHz和37GHz频段在冬季如何发散，这是由于37GHz频段更多地从雪中散射。</p><p id="d64b" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这篇文章的<a class="ae md" rel="noopener" target="_blank" href="/can-we-study-snowpack-with-satellites-e83d1f7720aa">中，我深入研究了这个数据集，以及我们如何使用被动微波传感器测量的亮度温度来估计积雪中储存的水量。如果你对使用被动微波成像研究雪背后的科学感兴趣，请阅读那篇文章的前半部分。</a></p><h2 id="2632" class="mw mf it bd mg mx my dn mk mz na dp mo lq nb nc mq lu nd ne ms ly nf ng mu iz bi translated">选择研究区域</h2><p id="cafc" class="pw-post-body-paragraph lh li it lj b lk nh kd lm ln ni kg lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">可通过FTP获得的完整数据集将近70TB。幸运的是，为了研究SWE，我们只需要在我们的时间序列期间每天下载两个文件。我已经写了一个Python库来为我们做这项工作，确保我们每年都能得到最佳的文件；有多种传感器可用，某些传感器的错误率低于其他传感器。</p><p id="8161" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了处理合理数量的数据，我们需要选择一个研究区域，因为使用完整北半球影像的时间序列(如帖子顶部所示)需要存储大量数据！下面你会看到我们将要绘制的阿拉斯加地区。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi gj"><img src="../Images/cfbc18fd24a39e3c67729c3fb682e10b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aOpxV20hyaavzV9U"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者使用谷歌地球创建</p></figure><p id="6537" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">由于该数据使用EASE-Grid 2.0投影，我们必须通过选择左上角和右下角的一组坐标来选择边界框。等面积可缩放地球(EASE)格网是全球范围的网格数据的通用格式，可以很好地保留映射对象的面积。虽然缓和网格不使用纬度和经度；相反，他们选择以米为单位的行/列系统。稍后我将展示如何在纬度/经度和行/列坐标之间进行转换，这被称为重新投影。</p><h1 id="8605" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">用Matplotlib绘制SWE</h1><p id="5f3c" class="pw-post-body-paragraph lh li it lj b lk nh kd lm ln ni kg lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">Matplotlib是Python程序员可以使用的绘图库。虽然它在图形上比交互式绘图库更简单，但它仍然是一个强大的工具。Matplotlib是我的首选库，用于快速绘制和演示我想要传达的特定观点。交互式地图根本难以清晰呈现；除非你正在做一个现场编码演示，否则你永远不会真的想在和观众说话的时候和你的电脑互动。</p><h2 id="c415" class="mw mf it bd mg mx my dn mk mz na dp mo lq nb nc mq lu nd ne ms ly nf ng mu iz bi translated">用imshow绘制简单图像</h2><p id="2951" class="pw-post-body-paragraph lh li it lj b lk nh kd lm ln ni kg lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">绘图是探索性数据分析的一个重要组成部分，Matplotlib非常适合我们EDA所需的快速绘图。利用我们的SWE数据，简单地绘制时间序列中的一天就可以有力地证实我们对图像进行了正确的子集划分。</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="c28b" class="mw mf it no b gy ns nt l nu nv">fig = plt.figure(figsize=(12,6))<br/>im = plt.imshow(swe[0,:,:])</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nm"><img src="../Images/6cd282c557822f2aa8d4624aa7e83e7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p4bEIwy8wSyC2hne6phDDw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><p id="86b7" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">使用Matplotlib的imshow函数，我们可以像绘制任何图像一样绘制光栅数据。我们可以看到这个图中的海岸线和我用来创建上面的边界框的谷歌地球轮廓之间的大致相似之处，这意味着我们确实正确地选择了数据！</p><p id="1e27" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">然而，这个情节缺少一些关键的组成部分。让我们用一些基本的Matplotlib格式使它更丰富一些:</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="8e6b" class="mw mf it no b gy ns nt l nu nv">fig = plt.figure(figsize=(12,6))<br/>im = plt.imshow(swe[0,:,:],cmap='gist_rainbow')<br/>plt.colorbar(im)<br/>plt.title("SWE (mm) on Jan 23, 1993 | North Slope, Alaska");</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nm"><img src="../Images/c8871244b7a72eb892e6c54f93d697f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mE841Fhwoy_b4uc7I4RQ2A.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><p id="1c19" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是我喜欢在演讲中使用的情节；这很简单，有助于避免分心，并且可以很快被消化，以便听众可以专注于我所说的内容。当在投影仪上呈现色彩不总是最饱和的地块时，使用对比度更高的色彩映射表会有所帮助。强烈对比的颜色使人们能够很快看出细微的差异，而这些差异在更微妙的颜色图上很难分辨出来。</p><h2 id="a469" class="mw mf it bd mg mx my dn mk mz na dp mo lq nb nc mq lu nd ne ms ly nf ng mu iz bi translated">利用支线剧情</h2><p id="d786" class="pw-post-body-paragraph lh li it lj b lk nh kd lm ln ni kg lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">支线剧情通过允许我们在一张画布上组合多个情节，为我们提供了许多扩展的功能。我们可以使用支线剧情来查看我们的研究区域在第一年不同季节的快照。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nw nx l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ny"><img src="../Images/f578d7a2ab6380ba6072f82162e71420.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NuHnbknOrPXNgQqlb0CDPA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><p id="9620" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是个很酷的情节。有趣的是，看到雪在秋天积累，在冬天达到高峰，并通过春天的图像几乎完成融化。在夏季/秋季图像和冬季/春季图像之间，海洋也在明显地改变温度；我们可以看到海洋重新变暖的时间可能比陆地上的雪融化的时间要长。</p><p id="d08d" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">虽然这些图提供了丰富的信息，但由于我们将数据视为普通图像，因此我们失去了坐标参考系统，该系统实际上将网格与地球相一致。当我们像这样绘制空间数据时，我们失去了许多适当的形状和空间背景；接下来让我们尝试使用Cartopy在地图上绘制它。</p><h2 id="0aca" class="mw mf it bd mg mx my dn mk mz na dp mo lq nb nc mq lu nd ne ms ly nf ng mu iz bi translated">添加投影</h2><p id="31a2" class="pw-post-body-paragraph lh li it lj b lk nh kd lm ln ni kg lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">默认情况下，Matplotlib设计用于在传统网格空间中绘图。为了在地图上显示数据，我们必须有一个带有匹配投影的底图。幸运的是，有一个名为Cartopy的库，它被设计用来处理地理空间数据，以便使用Matplotlib进行制图。我最喜欢Matplotlib的一点是，开发人员在它的基础上进行构建是多么容易；Cartopy在某种程度上类似于Seaborn，它建立在Matplotlib API之上，为用户带来了一个更加定制化的工具。</p><p id="f9f4" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们从定义制图坐标参考系统(CCRS)对象开始。这些告诉Cartopy我们的数据正在使用什么坐标参考系统(CRS)。</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="4668" class="mw mf it no b gy ns nt l nu nv">geod = ccrs.Geodetic()<br/>proj = ccrs.LambertAzimuthalEqualArea(central_latitude=90.0)</span></pre><p id="cbd4" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们数据的投影是以北极为中心的Lambert方位角等面积。让我们通过定义我们的投影和范围，使用我们的新坐标系来绘制地球的北半球。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nw nx l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nz"><img src="../Images/b8fb70ef887f30cac33887e820a10a43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fOTQn1t6A1Iljo47RBlMqg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><p id="3db1" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这张地图中，我们俯视北极，北美在左边，非洲在底部作为参考。您会注意到，我们没有绘制任何数据，这是因为这本质上是我们的新“画布”。Matplotlib现在将EASE-Grid 2.0坐标视为绘图空间。</p><p id="a486" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果我们想在这个底图上分层数据，那么我们也需要找到数据的范围。您会注意到，当我们绘制底图时，我们用四个数字定义了范围。这些是边界框左上角和右下角的x/y坐标。在这种情况下，-9，000，000–9，000，000米是EASE-Grid 2.0格网中两个x/y坐标的最大范围，北极位于点(0，0)。</p><p id="70e6" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我知道我学习区域的左上坐标是[-145，66]，右下坐标是[-165，72]。这些是以度为单位的大地坐标，可以使用前面定义的Cartopy对象转换为米(由EASE-Grid 2.0使用)。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nw nx l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">找到我们的边界坐标(由作者创建)</p></figure><p id="c580" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您会注意到我们将源坐标参考系统设置为<code class="fe oa ob oc no b">geod</code>，这是另一个CCRS对象，表示使用度数、纬度和经度的大地坐标参考系统。我们使用兰伯特方位角等面积CCRS物体来转换坐标，因为那是我们的目标投影。</p><p id="187b" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在，我们在正确的CRS中有了新的边界坐标，我们可以继续绘制我们的研究区域:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nw nx l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/ffe048af6c7c2c717a72302e3d6c795e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KGPWzUkXrFYmgvpIbKYP-w.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">覆盖数据(由作者创建)</p></figure><p id="b2f7" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">不错！现在，我们已经将数据叠加到地图上，我们可以使用海岸线来验证我们是否使用了正确的投影和方向。我最初将SWE数据上下颠倒绘制，因为它的“原点”与基础地图不同，所以如果有些东西偏离了，不要害怕调整方向。</p><p id="8ce4" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这张地图有点缩小了。很难非常清楚地看到SWE数据。我们可以通过调整底图的范围来放大:</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="be40" class="mw mf it no b gy ns nt l nu nv">ease_extent = [-3000000., 1000000., -1000000., 3000000.]</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/fc9eb2b89e2ec7a604d55da5525b48ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W9eqNkaTbBngeohogt3p0Q.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><p id="0016" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">Cartopy为Matplotlib带来了强大的功能，支持许多投影。</p><h1 id="e686" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">动画Matplotlib图</h1><p id="1a4c" class="pw-post-body-paragraph lh li it lj b lk nh kd lm ln ni kg lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">我总是发现用Matplotlib显示连续的变化非常困难。我们可以制作支线图来显示离散的变化，但是如果不使用动态绘图工具，显示变化是有挑战性的。解决这个问题的一个方法是使用动画。创建随时间变化的图形的电影或gif并不困难，这对于可视化地理空间数据的变化非常有用！</p><p id="8656" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们试着用动画演示我们的原始绘图，它使用<code class="fe oa ob oc no b">plt.imshow()</code> <em class="oe"> </em>来绘制我们的SWE数据。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nw nx l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/8a4da1a4e5b0f22a56ad293cea3bcee3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*kqwH7lV-OecaQyNnHXH8yg.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">动画SWE(由作者创作)</p></figure><p id="60ba" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">制作动画剧情真的那么容易！关键是我们有一些迭代绘图的方法。在这种情况下，我简单地遍历1000天的时间序列，并保存每个图的快照，然后将其转换为gif。因此，我们首先创建一个Matplotlib图形<code class="fe oa ob oc no b">fig</code>，并将其传递给<code class="fe oa ob oc no b">Camera()</code>实例化器。现在，每次我们迭代创建一个新的图形时，我们只需用<code class="fe oa ob oc no b">camera.snap()</code>对当前的Matplotlib图形进行快照。</p><p id="6b7b" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">有多种方法可以创建动画Matplotlib图。大多数例子可能会使用内置的<code class="fe oa ob oc no b">Matplotlib.animation</code>模块。总的来说，这个模块工作得很好，但是，我遇到了依赖问题，阻止了在Windows 10上导出动画。Matplotlib的动画模块也不能导出为GIF格式，而GIF是我用来分享演示和文章的首选格式。</p><p id="a4ae" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了避免依赖性问题并直接导出为GIF文件，我们可以使用一个叫做赛璐珞的库。赛璐珞是一个轻量级的库，用于从现有的情节中创建动画。它的开发并不活跃，但是如果您对内置的Matplotlib功能有问题，我建议您尝试一下。我喜欢它可以很容易地添加到现有的情节与任何功能的最低限度的返工。</p><p id="cf0f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">实际上，在Matplotlib图形上绘制的任何东西都可以被动画化。所以我们也可以在地图上制作SWE图像的动画！</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nw nx l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由作者创建</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/d5bea2723f19e21061ff8e5920267ced.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qkSVHDyId4f8cauHPwj1Mg.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">动画漫画/Matplotlib图(由作者创建)</p></figure><p id="f5f6" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我觉得这些动画情节挺好玩的。能够看到陆地和海洋上的数值如何随着相应的日期变化，确实有助于显示每年的积累和融化周期。我们还可以以各种方式聚合数据，然后将这些聚合动画化。</p><h1 id="ee2f" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">包扎</h1><p id="6cdf" class="pw-post-body-paragraph lh li it lj b lk nh kd lm ln ni kg lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">虽然有时可能会觉得在Python中有比Matplotlib更好的绘图选项，但它仍然是最可靠和有效的绘图工具之一。Matplotlib做得很好，为我们提供了一个可以根据我们的每一个愿望进行定制的画布。如果您需要为演示文稿、论文或文章绘制图表，Matplotlib的可定制性是无可争议的。</p><p id="bf70" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">除非您需要交互式地图，否则您可能会在某个时候使用Matplotlib来可视化Python中的地理空间数据。幸运的是，Cartopy这样的库为Matplotlib提供了处理各种地理空间数据的能力。</p><h1 id="7364" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">资源</h1><ul class=""><li id="032b" class="of og it lj b lk nh ln ni lq oh lu oi ly oj mc ok ol om on bi translated"><a class="ae md" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib imshow文档</a></li><li id="2b98" class="of og it lj b lk oo ln op lq oq lu or ly os mc ok ol om on bi translated"><a class="ae md" href="https://pypi.org/project/celluloid/" rel="noopener ugc nofollow" target="_blank">赛璐珞文件</a></li><li id="7054" class="of og it lj b lk oo ln op lq oq lu or ly os mc ok ol om on bi translated"><a class="ae md" href="https://nsidc.org/data/nsidc-0630" rel="noopener ugc nofollow" target="_blank">测量CETB数据</a></li><li id="fa1f" class="of og it lj b lk oo ln op lq oq lu or ly os mc ok ol om on bi translated"><a class="ae md" href="https://scitools.org.uk/cartopy/docs/latest/" rel="noopener ugc nofollow" target="_blank">多克卡宾枪</a></li></ul></div></div>    
</body>
</html>