<html>
<head>
<title>EDA | Police Incidents in Minneapolis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">明尼阿波利斯的警察事件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/police-incidents-trend-in-mn-76d8057703d0?source=collection_archive---------32-----------------------#2021-07-07">https://towardsdatascience.com/police-incidents-trend-in-mn-76d8057703d0?source=collection_archive---------32-----------------------#2021-07-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/477f25205c7108dd893fb919aa557da2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U1oK3hwNVFEQaXAP"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@ethanrwilkinson?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">伊森·威尔金森</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="ebb6" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">目录</h1><ol class=""><li id="3b32" class="lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated"><a class="ae kc" href="#87e5" rel="noopener ugc nofollow">简介</a></li><li id="bb46" class="lb lc iq ld b le lt lg lu li lv lk lw lm lx lo lp lq lr ls bi translated"><a class="ae kc" href="#f029" rel="noopener ugc nofollow">快速概述</a></li><li id="9b1e" class="lb lc iq ld b le lt lg lu li lv lk lw lm lx lo lp lq lr ls bi translated"><a class="ae kc" href="#02b1" rel="noopener ugc nofollow">解释性数据分析</a></li><li id="621d" class="lb lc iq ld b le lt lg lu li lv lk lw lm lx lo lp lq lr ls bi translated"><a class="ae kc" href="#41d8" rel="noopener ugc nofollow">结论</a></li></ol></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="87e5" class="kd ke iq bd kf kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la bi translated"><strong class="ak">简介</strong></h1><p id="78bd" class="pw-post-body-paragraph mk ml iq ld b le lf mm mn lg lh mo mp li mq mr ms lk mt mu mv lm mw mx my lo ij bi translated">明尼阿波利斯以其跨州的高品质生活和密西西比河惊人的城市特质而闻名。然而，它也因2020年5月乔治·弗洛伊德<a class="ae kc" href="https://en.wikipedia.org/wiki/Murder_of_George_Floyd" rel="noopener ugc nofollow" target="_blank"> <strong class="ld ir">谋杀案而“声名狼藉”。</strong></a></p><p id="df15" class="pw-post-body-paragraph mk ml iq ld b le mz mm mn lg na mo mp li nb mr ms lk nc mu mv lm nd mx my lo ij bi translated">那么，在他死后，到目前为止发生了什么变化呢？该分析旨在直观显示明尼阿波利斯市自2020年以来的警察事件现状和趋势。</p></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="8c09" class="kd ke iq bd kf kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la bi translated">快速概述</h1><p id="cd8a" class="pw-post-body-paragraph mk ml iq ld b le lf mm mn lg lh mo mp li mq mr ms lk mt mu mv lm mw mx my lo ij bi translated">该数据集可在“<a class="ae kc" href="https://opendata.minneapolismn.gov/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld ir">开放明尼阿波利斯</strong> </a>”网站上获得，该网站旨在提供与明尼阿波利斯有关的社会数据。根据该网站的说法，这些数据集是免费共享的，只需最少的许可。</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="9e7f" class="nn ke iq nj b gy no np l nq nr"><strong class="nj ir"><em class="ns"># Import data sets</em></strong><br/>incident_2020 &lt;- read_csv("Police_Incidents_2020.csv")<br/>incident_2021 &lt;- read_csv("Police_Incidents_2021.csv")</span><span id="052a" class="nn ke iq nj b gy nt np l nq nr"><strong class="nj ir"><em class="ns"># Use glimpse() on one of the dataset<br/></em></strong>glimpse(<!-- -->incident_2020<!-- -->)</span></pre><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/492acf51d56da960e5925852b699c60d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pi0udnhkQyz7fMSk7EAyYQ.png"/></div></div></figure><p id="c431" class="pw-post-body-paragraph mk ml iq ld b le mz mm mn lg na mo mp li nb mr ms lk nc mu mv lm nd mx my lo ij bi translated">我们可能会注意到:</p><ul class=""><li id="a24c" class="lb lc iq ld b le mz lg na li nv lk nw lm nx lo ny lq lr ls bi translated">重复数据:<code class="fe nz oa ob nj b">X</code>、<code class="fe nz oa ob nj b">Y</code>、<code class="fe nz oa ob nj b">centerLong</code>、<code class="fe nz oa ob nj b">centerLat</code></li><li id="8c17" class="lb lc iq ld b le lt lg lu li lv lk lw lm lx lo ny lq lr ls bi translated">多余数据:<code class="fe nz oa ob nj b">precinct</code>、<code class="fe nz oa ob nj b">UCRCode</code>、<code class="fe nz oa ob nj b">lastchanged</code>等</li><li id="a34a" class="lb lc iq ld b le lt lg lu li lv lk lw lm lx lo ny lq lr ls bi translated">检查是否有任何缺失值和不整洁的数据</li></ul><h1 id="9336" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">选择/整理列</h1><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="3fdd" class="nn ke iq nj b gy no np l nq nr"><strong class="nj ir"><em class="ns"># Adjust data type and concatenate </em><br/></strong>incident_2021$precinct &lt;- as.character(incident_2021$precinct)<br/>incident_raw &lt;- bind_rows(incident_2020, incident_2021)<br/><br/><br/><strong class="nj ir"><em class="ns"># Select relevant columns only</em><br/></strong>incident_selected &lt;- incident_raw %&gt;% select(publicaddress, reportedDateTime,description, centerLong,centerLat,neighborhood,offense)<br/><br/><strong class="nj ir"><em class="ns"># Parse datetime on reporteDateTime column</em><br/></strong><br/>incident_selected$reportedDateTime &lt;- substr(incident_selected$reportedDateTime, 1,16)<br/>incident_selected$reportedDateTime &lt;- as.character(incident_selected$reportedDateTime)<br/>incident_selected$reportedDateTime &lt;- parse_datetime(incident_selected$reportedDateTime, "%Y/%m/%d %H:%M")<br/>incident_selected &lt;- incident_selected %&gt;% mutate(reportedDate = format(reportedDateTime, "%Y/%m")) <br/><br/><strong class="nj ir"><em class="ns"># Clean NA and zero value row </em><br/></strong>colSums(incident_selected ==0)<br/>incident_selected &lt;- incident_selected[incident_selected$centerLong != 0,]</span></pre><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/ed0171968cc6a13b1232b03a4792b5e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qhbLFrMu4Jf5wef5vdKMXw.png"/></div></div></figure><p id="1b67" class="pw-post-body-paragraph mk ml iq ld b le mz mm mn lg na mo mp li nb mr ms lk nc mu mv lm nd mx my lo ij bi translated">(对于<code class="fe nz oa ob nj b">publicaddress</code>和<code class="fe nz oa ob nj b">neighborhood</code>，我们将保留那些包含缺失数据的行，因为它们只是字符串)</p></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="02b1" class="kd ke iq bd kf kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la bi translated"><strong class="ak">用传单绘制事件图</strong></h1><p id="ad22" class="pw-post-body-paragraph mk ml iq ld b le lf mm mn lg lh mo mp li mq mr ms lk mt mu mv lm mw mx my lo ij bi translated">如果你还没用过<code class="fe nz oa ob nj b">leaflet</code>，我强烈建议在你的项目上试试！<code class="fe nz oa ob nj b">leaflet</code>提供的一个惊人特性是构建一个交互式地图。正如您可能从下图中注意到的，只需几行代码就可以创建自动聚合数据的地图，供您在不同的级别进行检查。</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="6454" class="nn ke iq nj b gy no np l nq nr"><em class="ns"># Plot on map by leaflet</em><br/>incident_selected %&gt;% leaflet() %&gt;% <br/>  addProviderTiles(providers$Stamen.TonerLite) %&gt;% <br/>  addMarkers(label = incident_selected$description,<br/>             clusterOptions = markerClusterOptions(),<br/>             lng = incident_selected$centerLong, lat = incident_selected$centerLat,<br/>             popup = paste("&lt;b&gt;","Neighborhood:","&lt;/b&gt;",<br/>                           incident_selected$neighborhood,"&lt;br&gt;",<br/>                           "&lt;b&gt;","Address:","&lt;/b&gt;",<br/>                           incident_selected$publicaddress,"&lt;br&gt;",<br/>                           "&lt;b&gt;","Time:","&lt;/b&gt;",<br/>                           incident_selected$reportedDateTime)) %&gt;%<br/>  addMiniMap(toggleDisplay = TRUE,tiles = providers$Stamen.TonerLite)</span></pre><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/b688cf99d3044bdc18b367daa489e903.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*0NEInZG3mrzhnmDKM0IWSQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://rpubs.com/BrandonPPP/788810" rel="noopener ugc nofollow" target="_blank"> <strong class="bd oe">点击此处</strong> </a> <strong class="bd oe">查看Rpub </strong>的互动地图</p></figure><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/18fddb1d5107ee482892aa96d4be7971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*i0Mm4j6DeIY_c143iGXHvw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://rpubs.com/BrandonPPP/788810" rel="noopener ugc nofollow" target="_blank"> <strong class="bd oe">点击此处</strong> </a> <strong class="bd oe">查看Rpub </strong>的互动地图</p></figure><h1 id="c432" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">警察事件趋势(2020~) </strong></h1><p id="f5bd" class="pw-post-body-paragraph mk ml iq ld b le lf mm mn lg lh mo mp li mq mr ms lk mt mu mv lm mw mx my lo ij bi translated">你们中的一些人可能还记得2020年5月发生的事件。是的。正是乔治·弗洛伊德的谋杀引发了全国性的示威游行和纪念仪式。最初，抗议是以和平的方式进行的，但后来变成了破坏行为。</p><p id="0ec6" class="pw-post-body-paragraph mk ml iq ld b le mz mm mn lg na mo mp li nb mr ms lk nc mu mv lm nd mx my lo ij bi translated">我们来看看从警察事件的数量来看，该事件带来了什么影响。</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="ae2a" class="nn ke iq nj b gy no np l nq nr"><strong class="nj ir"><em class="ns"># Summarise by date and plot </em></strong></span><span id="16ce" class="nn ke iq nj b gy nt np l nq nr">summarised_incident_selected &lt;- incident_selected %&gt;% <br/>  filter(reportedDate != "2021/05") %&gt;%<br/>  group_by(reportedDate) %&gt;%<br/>  summarise(num_case = n()) </span><span id="6ed2" class="nn ke iq nj b gy nt np l nq nr"><strong class="nj ir"><em class="ns"># Plot using ggplot</em></strong></span><span id="be3c" class="nn ke iq nj b gy nt np l nq nr">ggplot(summarised_incident_selected, aes(reportedDate, num_case, group=1))+<br/>  geom_col(fill='red')+expand_limits(y = 0)+  theme_tufte()+<br/>  theme(axis.text.x = element_text(angle = 60, hjust = 1, vjust = 0.5))+<br/>  xlab("") + ylab("")+<br/>  annotate("point", x = '2020/05', y = 2000, colour = "blue", size=3,shape=8) +<br/>  annotate("text", x = '2020/05', y = 2000, label = "Death of G.F", colour = "blue", vjust = -1)</span></pre><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/db664f41116f7c93ec18d1d4e7ef6894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*j8YsqOQL66kCgJSExVHmPA.png"/></div></figure><ul class=""><li id="aed2" class="lb lc iq ld b le mz lg na li nv lk nw lm nx lo ny lq lr ls bi translated">注释显示乔治·弗洛伊德于2020年5月去世</li><li id="aae4" class="lb lc iq ld b le lt lg lu li lv lk lw lm lx lo ny lq lr ls bi translated">显然，2020年5月后至年底，警察事件总数激增</li></ul><h1 id="82cc" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">事故最多的十大社区</h1><p id="427e" class="pw-post-body-paragraph mk ml iq ld b le lf mm mn lg lh mo mp li mq mr ms lk mt mu mv lm mw mx my lo ij bi translated">那么，明尼阿波利斯的哪个地区发生的警察事件最多？换句话说，哪个社区是最危险的游览地？</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="c647" class="nn ke iq nj b gy no np l nq nr">top_10_neighbor &lt;- incident_selected %&gt;% <br/>  group_by(neighborhood) %&gt;% <br/>  count(sort=TRUE) %&gt;% ungroup() %&gt;% <br/>  top_n(10) %&gt;% mutate(neighborhood = fct_reorder(neighborhood,n))<br/><br/><br/>ggplot(top_10_neighbor, aes(n,neighborhood)) +<br/>  geom_point(size = 12) +<br/>  geom_segment(aes(xend = 30, yend = neighborhood), size = 2) +<br/>  geom_text(aes(label = round(n,1)), color = "white", size = 4) +<br/>  <em class="ns">#scale_x_continuous("", expand = c(0,0), limits = c(30,90), position = "top") +</em><br/>  scale_color_gradientn(colors = palette) +<br/>  theme(axis.line.y = element_blank(),<br/>      axis.ticks.y = element_blank(),<br/>      axis.text = element_text(color="black"),<br/>      axis.title = element_blank(),<br/>      legend.position = "none")</span></pre><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oh"><img src="../Images/c9286b7b2d69952cd9a2a9610c1e705d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*9jMqK0xE1c7fMZLwHPN55Q.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><strong class="bd oe">韦斯特市中心、惠蒂尔、马西·霍姆斯</strong>是排名前三的街区</p></figure></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="41d8" class="kd ke iq bd kf kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la bi translated">结论</h1><ul class=""><li id="2b94" class="lb lc iq ld b le lf lg lh li lj lk ll lm ln lo ny lq lr ls bi translated">如果你忽略了互动地图，你可以在这里找到它<a class="ae kc" href="https://rpubs.com/BrandonPPP/788810" rel="noopener ugc nofollow" target="_blank"/></li><li id="8905" class="lb lc iq ld b le lt lg lu li lv lk lw lm lx lo ny lq lr ls bi translated">从地图上看，大多数事件都集中在明尼阿波利斯市中心和附近地区。</li><li id="cdc4" class="lb lc iq ld b le lt lg lu li lv lk lw lm lx lo ny lq lr ls bi translated">乔治·弗洛伊德被谋杀后，明尼阿波利斯的警察事件似乎增加了</li><li id="676f" class="lb lc iq ld b le lt lg lu li lv lk lw lm lx lo ny lq lr ls bi translated">如果你想找一个住的地方，找除了以上10个地区以外的地方会更安全。</li></ul></div></div>    
</body>
</html>