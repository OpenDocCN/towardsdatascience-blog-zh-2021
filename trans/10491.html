<html>
<head>
<title>Data-Driven Cycling and Workout Prediction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据驱动的骑行和锻炼预测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-driven-cycling-and-workout-prediction-72c393e2542c?source=collection_archive---------14-----------------------#2021-10-06">https://towardsdatascience.com/data-driven-cycling-and-workout-prediction-72c393e2542c?source=collection_archive---------14-----------------------#2021-10-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f763" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">将旧的骑行锻炼数据转化为基于ML的数字私人教练，用于锻炼预测</h2></div><p id="17d8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇博文中，我将分享我如何利用微软机器人框架和微软团队，将自行车练习中的数据转化为基于机器学习的智能机器人，这帮助我在训练中取得更多成绩，并始终保持动力。</p><h1 id="ba8f" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">概观</h1><p id="dc0a" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">我在2020年1月底开始骑可折叠自行车，我爱上了骑自行车。我也喜欢处理数据，所以我用智能手表记录了我去<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/www.strava.com">斯特拉瓦</a>的所有旅程。🚴🏻🚴🏻</p><p id="dfae" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">五月底，我将我的城市自行车升级为沙砾自行车。直到秋天，我和我的新自行车在户外活动中度过了美好的时光。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi lz"><img src="../Images/2813a52bb4ff17f25d3fc179dc618bdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fvjgdEXOUIpYkuEwLv9xDQ.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">伊斯坦布尔的户外骑行，图片由作者提供</p></figure><p id="99f4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在天气好的时候在外面练习之后，对于寒冷的天气，我在家里设置了一个疼痛洞穴，使用<a class="ae ly" href="https://www.elite-it.com/en/products/home-trainers/rollers/arion" rel="noopener ugc nofollow" target="_blank"> Elite阿里翁AL13 roller </a>和<a class="ae ly" href="https://www.elite-it.com/en/products/home-trainers/sensors/misuro-b" rel="noopener ugc nofollow" target="_blank"> Misuro B+传感器</a>在<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/www.zwift.com"> Zwift </a>上进行虚拟骑行。Zwift是一个虚拟环境，在这里你可以与你的3D虚拟角色连接，与其他运动员一起实时骑行。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mp"><img src="../Images/ee22de23192264aaa1b90d07998c9f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tnZCtwxz-WY4Co-Yqzl1yw.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">室内游乐设施，作者图片</p></figure><p id="c35b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我的Zwift帐户与Strava连接，收集我所有的骑行数据，目前我已经完成了<strong class="kh ir">“3700km”</strong>的户外和室内活动🎉🎉</p><p id="011c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我决定分析我的数据，在分析之后，我决定用我的工程能力将它提升到一个新的水平。</p><p id="9512" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这份报告展示了如何分析您的Strava数据，并使用Jupyter笔记本将其可视化。此外，该项目旨在预测潜在的锻炼日期和距离，以使用您自己的数据找到最佳的锻炼计划。这款数字私人教练可以作为健身伴侣使用。</p><p id="bb02" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个项目最初是从Jupyter Notebook上现有批量数据的数据发现开始的。在数据探索阶段，我看到了一些模式，并认为，这些模式可以帮助我恢复健康。不久之后，我决定建立一个预测模型来预测我的锻炼、<code class="fe mq mr ms mt b">ride type</code>和<code class="fe mq mr ms mt b">distance</code>值。为了在bot框架中使用预测模型，该模型被导出为pickle文件，一个基于FastAPI的应用程序在Python中为该模型提供服务，微软团队中的一个聊天机器人调用该API帮助我提供一些输入，然后检索预测。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mu"><img src="../Images/de38b39d378be905ff4764e4d9417094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPaT8GBIPPgH152zijXAcg.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">建筑，作者的图像</p></figure><h1 id="b919" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">数据发现—亮点</h1><p id="897c" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">让我们来看看我到目前为止取得的一些亮点，这里是一些关于我的数据的亮点。</p><ul class=""><li id="f1c9" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">在1年的时间里，我已经完成了大约<strong class="kh ir"> 3700公里</strong>，包括户外和室内锻炼活动。大约1/3是Zwift上的虚拟乘坐。</li></ul><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/b2d2774b5805f14b0548dd5878ca6d76.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*HQkU4imYhi4yiLxdM1oa3g.png"/></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">户外和室内骑行的总距离km，图片由作者提供</p></figure><ul class=""><li id="33f4" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">2019年，我增加了一些脂肪，但由于我的身体活动和一些健康的食物，我在这段时间里减掉了约13公斤(约28磅)。</li></ul><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nf"><img src="../Images/27e0161deb9cb0714ade3b7d883a8511.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3WpVWci7kOGlBG2W7MtI_w.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">一年内的总重量，图片由作者提供</p></figure><ul class=""><li id="3156" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">我喜欢下面展示一年中发生的所有重要生活事件的每周图表。</li></ul><blockquote class="ng nh ni"><p id="11bb" class="kf kg nj kh b ki kj jr kk kl km ju kn nk kp kq kr nl kt ku kv nm kx ky kz la ij bi translated">Jan-Mar:对锻炼充满热情</p><p id="8423" class="kf kg nj kh b ki kj jr kk kl km ju kn nk kp kq kr nl kt ku kv nm kx ky kz la ij bi translated">4月至6月:疫情和土耳其的封锁</p><p id="7324" class="kf kg nj kh b ki kj jr kk kl km ju kn nk kp kq kr nl kt ku kv nm kx ky kz la ij bi translated">6月至12月:享受户外和室内骑行</p><p id="798c" class="kf kg nj kh b ki kj jr kk kl km ju kn nk kp kq kr nl kt ku kv nm kx ky kz la ij bi translated">12月:新年假期挑战#Rapha500</p><p id="54ea" class="kf kg nj kh b ki kj jr kk kl km ju kn nk kp kq kr nl kt ku kv nm kx ky kz la ij bi translated">简:幸运地有了一个新的家庭成员:)</p><p id="ca94" class="kf kg nj kh b ki kj jr kk kl km ju kn nk kp kq kr nl kt ku kv nm kx ky kz la ij bi translated">1月至3月:试图重新找到我的老习惯，最后但并非最不重要的是，决定建立一个数字私人教练。</p></blockquote><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nn"><img src="../Images/52140e82b165b58af6765457abafbf5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UNxys0qXm4WTJ7xKChIdFA.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">每周总距离，按作者分类的图像</p></figure><ul class=""><li id="8416" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">到目前为止，我一次骑行的最长距离是62公里，我喜欢这个显示我一段时间内表现的图表；</li></ul><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi no"><img src="../Images/5255a843605348ecb6a68f00d7a01131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U3soVCn1nu3t-28z2dBlfw.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">户外骑行与室内骑行的每次骑行距离，图片由作者提供</p></figure><h1 id="6336" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">相互关系</h1><p id="e1bd" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">当我检查乘坐类型时，我意识到在某一点后我只切换到室内虚拟乘坐，我想看看选择室内乘坐和天气之间是否有相关性，特别是与<code class="fe mq mr ms mt b">Wind</code>和<code class="fe mq mr ms mt b">Temperature</code>的相关性。为此，我在训练中使用天气API来检索天气状况，结果很清楚；我不喜欢在寒冷的雨天骑自行车，所以过了一会儿，我又回到了室内虚拟骑行。下图显示，在一定温度下，我选择了室内骑行。这是其中的一个特征——我已经加入到我的预测模型中。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi np"><img src="../Images/b6f7c702449e11703a2bbeea930a7e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WCYa7xrWFXjsGqjJNR-iaA.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">游乐设备类型与温度，图片由作者提供</p></figure><h1 id="67dd" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">特征工程</h1><p id="1324" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">我花了一些时间用Jupyter笔记本可视化我的乘坐数据，我发现了一些模式。这些模式要么是我有意识的决定，要么是条件使然。</p><p id="803c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我决定做一个关于<a class="ae ly" href="https://en.wikipedia.org/wiki/Feature_engineering" rel="noopener ugc nofollow" target="_blank">特征工程</a>的练习</p><h1 id="f35a" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">1.游乐设备类型</h1><p id="f540" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">游乐设备类型是影响训练持续时间和天数的一个因素，所以我添加了一个标志来表示游乐设备是室外还是室内</p><ul class=""><li id="3670" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">rideType —布尔标志</li></ul><h1 id="f617" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">2.气候条件</h1><p id="4fea" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">正如在<a class="ae ly" href="#correlation" rel="noopener ugc nofollow">相关性</a>中提到的，天气是影响我锻炼计划的因素之一:</p><ul class=""><li id="af57" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe mq mr ms mt b">Temperature</code> -摄氏温度值为整数</li><li id="7408" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">Wind</code> - km/h值为整数</li><li id="35b2" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">Weather Description</code> -描述天气是否多云、晴朗、下雨等。</li></ul><h1 id="6e73" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">3.星期几和周末</h1><p id="a13a" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">当我将距离与周末或工作日进行对比时，我发现我最长的骑行时间是在周末。公共假期是另一个因素，但是现在，我决定不把它们整合在一起。</p><ul class=""><li id="c805" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe mq mr ms mt b">DayOfWeek</code> -整数</li></ul><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi np"><img src="../Images/5d2a2a7a45091067d397ae51dc376fae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_6gpz9zmEoFIDjfqu58WQ.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">一周中某一天的总距离，按作者分类的图像</p></figure><p id="b08d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但我主要选择了周二和周四作为工作日短途骑行日，并决定添加一天中的一周作为一个功能，并根据下图使用周末作为标志</p><ul class=""><li id="2d35" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe mq mr ms mt b">isWeekend</code> -布尔标志</li></ul><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi np"><img src="../Images/7c1bd3bd6d4ba783e3be1173222979ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I2l05ksPSG40EaiM9QIfAA.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">工作日和周末的总距离，按作者分类的图像</p></figure><h1 id="113b" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">4.一天中的某个时刻</h1><p id="8a32" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">在炎热的夏天，我更喜欢在温度比中午凉爽的时候进行户外骑行。基于下面的情节，一天中的某个时刻影响着我的乘坐和乘坐类型，所以我决定为一天中的某个时刻添加一个功能</p><ul class=""><li id="10b2" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe mq mr ms mt b">hour</code> -整数</li></ul><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi np"><img src="../Images/5d4303c5023b0ed09c88f1ece980bbe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EwIRHJ0ZS0CdAPXYqwSXSw.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">距离与一天中的时间，作者提供的图片</p></figure><h1 id="2ea3" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">预测模型</h1><p id="8ed1" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">出于我个人的需要，在数据分析之后，我希望有一个输出<code class="fe mq mr ms mt b">distance</code>和<code class="fe mq mr ms mt b">ride type</code>的预测，T3是指我预计要骑行多少公里，而是指计划的骑行是室内还是室外。</p><p id="67f6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我使用之前的数据分析和工程特征来创建<code class="fe mq mr ms mt b">Distance</code>和<code class="fe mq mr ms mt b">Ride Type</code>的预测模型。</p><h1 id="c8af" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">1.乘坐类型预测</h1><p id="3439" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">就心理准备而言，室内和室外骑行是有区别的，所以一般来说，我会根据我的骑行类型在锻炼前一天准备好我自己和我的骑行设备。我确实喜欢出去，但是我不喜欢下雨和寒冷的天气。此外，我想找到最适合我锻炼的骑行方式。</p><p id="e9ed" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个选择也影响了我的锻炼距离和时间。由于这是一个分类问题，我决定选择<code class="fe mq mr ms mt b">Logistic Regression</code>来预测乘坐类型。</p><p id="fc88" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设置训练数据:</p><h1 id="92ba" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">2.距离预测</h1><p id="11fa" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">每周，我都会设定我想要完成的每周距离目标。这个决定也受到外部因素的影响，比如“一天中的什么时候？”，“天气怎么样？”，“外面热还是外面冷？”，“风大吗？”、“是周末还是工作日？”</p><p id="08a5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">考虑到这些因素，我想预测一下我的预期骑行距离。这是一个<code class="fe mq mr ms mt b">Regression</code>问题，我决定选择<code class="fe mq mr ms mt b">Linear Regression</code>进行距离预测。</p><p id="214c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于这两种模型(预测<strong class="kh ir">距离</strong>和<strong class="kh ir">乘坐类型</strong>，以下是我决定在我的模型中使用的工程特性:</p><blockquote class="ng nh ni"><p id="7d69" class="kf kg nj kh b ki kj jr kk kl km ju kn nk kp kq kr nl kt ku kv nm kx ky kz la ij bi translated"><code class="fe mq mr ms mt b"><em class="iq">['hour','dayOfWeek','isWeekend','temp','wind','weather']</em></code></p></blockquote><p id="9b7f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然我已经决定选择<code class="fe mq mr ms mt b">Logistic Regression</code>作为乘坐类型，选择<code class="fe mq mr ms mt b">Linear Regression</code>作为距离，但可能会有更精确的模型。开发这些模型的过程是迭代的，通常需要更多的游乐设备数据，所以这只是第一步。</p><p id="210e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有个好看的<a class="ae ly" href="https://docs.microsoft.com/en-us/azure/machine-learning/algorithm-cheat-sheet" rel="noopener ugc nofollow" target="_blank">机器学习算法小抄</a>。您可以了解更多关于ML算法及其应用的信息。</p><h1 id="d81c" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">模特培训</h1><p id="7eb9" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">对于锻炼预测，机器学习模型训练被添加到<a class="ae ly" href="https://github.com/ikivanc/GPX-Data-Analysis-from-Strava/blob/main/notebooks/7%20-%20b%20Predict%20Workout%20Model%20Training.ipynb" rel="noopener ugc nofollow" target="_blank"> 7 — b预测锻炼模型训练。ipynb </a> Jupyter笔记本。以下是训练模型的一些步骤:</p><p id="655b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我用选定的特征(X)设置训练数据:</p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="8600" class="nz lc iq mt b gy oa ob l oc od"># select features as list of array<br/>X = data[['hour','dayOfWeek','isWeekend','temp','wind','weather']]<br/>X = X.to_numpy()</span></pre><p id="01f0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我创建训练数据的标签(Y):</p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="0ddb" class="nz lc iq mt b gy oa ob l oc od"># set Distance values<br/>Y_distance = data['Distance']<br/>Y_distance = Y_distance.to_numpy()<br/>​<br/># set Ride Type Values<br/>Y_rideType = data['rideType']<br/>Y_rideType = Y_rideType.to_numpy()</span></pre><ol class=""><li id="f246" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la oe nb nc nd bi translated"><strong class="kh ir">用于RideType预测的Logistic回归</strong></li></ol><p id="0ee5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于逻辑回归，我提供所有数据用于训练，并拟合我的最终模型。该模型使用了以下特征<code class="fe mq mr ms mt b">['hour','dayOfWeek','isWeekend','temp','wind','weather']</code>。</p><p id="6598" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">训练数据特征:</p><ul class=""><li id="8dc4" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe mq mr ms mt b">hour</code> -值在0 - 23之间</li><li id="f239" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">dayOfWeek</code> -值在0 - 6之间</li><li id="3ac3" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">isWeekend</code> -工作日0，周末1</li><li id="527d" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">temp</code> -以摄氏度为单位的整数温度值</li><li id="d8df" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">wind</code>——以千米/小时为单位的整数风速值</li><li id="404c" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">weather</code> -天气API提供的天气描述</li></ul><p id="72fe" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">训练预测值:</p><ul class=""><li id="134f" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe mq mr ms mt b">rideType</code> -室外骑行0，室内骑行1</li></ul><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="6789" class="nz lc iq mt b gy oa ob l oc od"># import Logistic Regression from sci-kit learn<br/>from sklearn.linear_model import LogisticRegression<br/>​<br/># select training data and fit final model<br/>model_lr = LogisticRegression(random_state=0).fit(X, Y_rideType)<br/>​<br/># test prediction with a clear sunny Sunday weather data<br/>result_ridetype = model_lr.predict([[8,6,1,20,3,0]])<br/>print("Result type prediction=%s" % result_ridetype)<br/>​<br/># test prediction with a cold Sunday weather data<br/>result_ridetype = model_lr.predict([[8,6,1,10,12,1]])<br/>print("Result type prediction=%s" % result_ridetype)</span></pre><p id="842f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> 2。距离预测的线性回归</strong></p><p id="91fd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于预测模型，我总共有168个锻炼数据，我想将它们全部用作训练数据。</p><p id="cd86" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">训练数据特征:</p><ul class=""><li id="3525" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe mq mr ms mt b">hour</code>-0-23之间的值</li><li id="39fd" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">dayOfWeek</code>-0-6之间的值</li><li id="b1f0" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">isWeekend</code> -工作日0，周末1</li><li id="f9fc" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">temp</code> -以摄氏度为单位的整数温度值</li><li id="dc24" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">wind</code>——以千米/小时为单位的整数风速值</li><li id="b571" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">weather</code> -天气API提供的天气描述</li></ul><p id="6bbf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">训练预测值:</p><ul class=""><li id="3adb" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe mq mr ms mt b">distance</code> -以公里为单位的距离值。</li></ul><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="95e7" class="nz lc iq mt b gy oa ob l oc od"># import Linear Regression from sci-kit learn<br/>from sklearn.linear_model import LinearRegression<br/>from sklearn.utils import shuffle</span><span id="671f" class="nz lc iq mt b gy of ob l oc od"># select training data and fit final model<br/>model = LinearRegression()<br/>model.fit(X, Y_distance)</span><span id="382a" class="nz lc iq mt b gy of ob l oc od"># test prediction with a cold Monday weather data<br/>result_distance = model.predict([[8,0,0,10,15,0]])<br/>print("Result distance prediction=%s" % result_distance)</span><span id="fcbd" class="nz lc iq mt b gy of ob l oc od"># test prediction with a sunny Sunday weather data<br/>result_distance = model.predict([[6,6,1,26,3,1]])<br/>print("Result distance prediction=%s" % result_distance)</span></pre><p id="6e1c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> 3。将模型导出为pickle文件</strong></p><p id="26e8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个阶段，经过训练的模型被导出为pickle文件，以便通过web API使用。web API使用来自天气API的数据，收集必要的数据特征进行预测，并将预测结果输出给用户。</p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="6355" class="nz lc iq mt b gy oa ob l oc od"># import pickle library<br/>import pickle<br/>​<br/># save distance model file in the model folder for prediction<br/>distance_model_file = "../web/model/distance_model.pkl"<br/>with open(distance_model_file, 'wb') as file:<br/> pickle.dump(model, file)<br/>​<br/># save ride type model file in the model folder for prediction<br/>ridetype_model_file = "../web/model/ridetype_model.pkl"<br/>with open(ridetype_model_file, 'wb') as file:<br/> pickle.dump(clf, file)</span></pre><h1 id="9a96" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">解决办法</h1><p id="30ac" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">这是一个端到端的解决方案，使用Strava锻炼数据导出作为输入。Strava包含室内和室外健身骑行数据。为了分析数据，Jupyter笔记本用于<code class="fe mq mr ms mt b">Data Cleaning</code>、<code class="fe mq mr ms mt b">Data Pre-Processing</code>、<code class="fe mq mr ms mt b">Model Training</code>和`模型导出。对于机器学习模型训练和预测，使用scikit-learn Python包。预测模型由scikit-learn导出，用于预测我的骑行类型和锻炼距离。</p><p id="19f1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该模型作为pickle文件通过FastAPI应用程序托管，该应用程序提供了一个API来传递参数，并使用第三方天气API预测天气信息。模型使用这些值进行预测。</p><p id="2ab8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为一个用户界面，我使用微软Bot框架创建了一个对话式AI项目，与Fast API进行通信。我选择微软团队作为画布，因为这是我经常用来交流的平台。</p><p id="4824" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有了这个解决方案，我现在可以选择我的城市、锻炼日期和时间，我得到了一个提供<code class="fe mq mr ms mt b">distance</code>和<code class="fe mq mr ms mt b">ride type</code>值的预测。</p><h1 id="af2c" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">体系结构</h1><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mu"><img src="../Images/de38b39d378be905ff4764e4d9417094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPaT8GBIPPgH152zijXAcg.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">建筑，作者的图像</p></figure><p id="7825" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">文件夹结构:</p><ul class=""><li id="a834" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe mq mr ms mt b">bot</code> - Bot应用程序检索预测模型</li><li id="daf2" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">data</code> -数据文件夹包含Strava输出</li><li id="736d" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">notebooks</code>-分析所有数据的所有笔记本</li><li id="5e7c" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">web</code> -预测模型的FastAPI</li><li id="5732" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">model</code> -包含预测模型</li><li id="4ba6" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">app.py</code> -用于预测模型的FastAPI web应用</li><li id="3187" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">myconfig.py</code> -环境变量</li><li id="9b0f" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><code class="fe mq mr ms mt b">utils.py</code> -常用实用功能</li></ul><h1 id="0046" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">运行项目</h1><p id="5abd" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">在这个示例中，使用Python 3.8.7版本来运行项目。</p><ol class=""><li id="541e" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la oe nb nc nd bi translated">创建虚拟环境</li></ol><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="0241" class="nz lc iq mt b gy oa ob l oc od">python -m venv .venv</span></pre><p id="9086" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.激活您的Mac虚拟环境:</p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="d402" class="nz lc iq mt b gy oa ob l oc od">source ./venv/bin/activate</span></pre><p id="4647" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">3.安装依赖项</p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="519f" class="nz lc iq mt b gy oa ob l oc od">pip install -r notebooks/requirements.txt</span></pre><p id="7d46" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">4.从您的个人资料中导出您的Strava数据</p><ul class=""><li id="44d9" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">访问<a class="ae ly" href="https://www.strava.com/account" rel="noopener ugc nofollow" target="_blank">设置&gt;我的帐户&gt;下载或删除您的帐户</a></li><li id="36a8" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">点击<code class="fe mq mr ms mt b">Download Request (optional)</code></li><li id="39c6" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">下载zip文件并导出到<code class="fe mq mr ms mt b">Data</code>文件夹。</li></ul><p id="4577" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">5.创建一个<code class="fe mq mr ms mt b">Data</code>文件夹，并将您的Strava数据导出到该文件夹中。</p><p id="2f25" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.在本地运行<code class="fe mq mr ms mt b">Jupyter Notebook</code></p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="f27c" class="nz lc iq mt b gy oa ob l oc od">jupyter notebook</span></pre><h1 id="eb87" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">天气API</h1><p id="2a70" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">无法获得天气数据来将<a class="ae ly" href="#correlation" rel="noopener ugc nofollow">和</a>与我的锻炼相关联，所以我使用天气API来提取我现有锻炼日的天气信息。我已经使用了<a class="ae ly" href="https://www.worldweatheronline.com/developer/" rel="noopener ugc nofollow" target="_blank"> WorldWeatherOnline API </a>来获取我所在地点的最新天气预报。这个API还提供了提前14天的天气预报，每小时的天气预报和天气警告，所以这对我的预测API也很有帮助。</p><h1 id="86c2" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">python FastAPI API的Web应用程序</h1><p id="0263" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">运行Python FastAPI以便在本地机器上运行</p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="afbb" class="nz lc iq mt b gy oa ob l oc od">cd web</span><span id="2101" class="nz lc iq mt b gy of ob l oc od">python app.py</span></pre><h1 id="e2f9" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">测试终点</h1><ul class=""><li id="30dc" class="mv mw iq kh b ki lt kl lu ko og ks oh kw oi la na nb nc nd bi translated">预测乘坐类型和距离</li><li id="37b7" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated"><a class="ae ly" href="http://127.0.0.1:8000/predict?city=Istanbul&amp;date=2021-04-10&amp;time=14:00:00" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/predict？城市=伊斯坦堡&amp;日期=2021-04-10 &amp;时间=14:00:00 </a></li></ul><h1 id="68d4" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">发布Web应用程序</h1><p id="c279" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">将Python FastAPI发布到Azure Web App服务</p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="c7eb" class="nz lc iq mt b gy oa ob l oc od">cd web<br/>az webapp up --sku B1 --name data-driven-cycling</span></pre><p id="9592" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在Azure门户上更新启动命令，设置&gt;配置&gt;常规设置&gt;启动命令</p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="d60d" class="nz lc iq mt b gy oa ob l oc od">gunicorn -w 4 -k uvicorn.workers.UvicornWorker main:app</span></pre><p id="2da5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要重新部署和更新现有应用程序:</p><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="0e01" class="nz lc iq mt b gy oa ob l oc od">az webapp up</span></pre><h1 id="179c" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">在本地测试Bot应用程序</h1><p id="bb6a" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">先决条件:</p><ul class=""><li id="5464" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated"><a class="ae ly" href="https://dotnet.microsoft.com/download" rel="noopener ugc nofollow" target="_blank">。NET Core SDK </a>版本3.1</li></ul><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="95fb" class="nz lc iq mt b gy oa ob l oc od">cd bot<br/>dotnet run</span></pre><p id="3645" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者来自Visual Studio</p><ul class=""><li id="d6cc" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">启动Visual Studio</li><li id="9113" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">文件-&gt;打开-&gt;项目/解决方案</li><li id="90d6" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">导航到<code class="fe mq mr ms mt b">bot</code>文件夹</li><li id="1d06" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">选择<code class="fe mq mr ms mt b">CyclingPrediction.csproj</code>文件</li><li id="3eed" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">在<code class="fe mq mr ms mt b">Bots/Cycling.cs</code>更新你的api url</li><li id="5215" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">如果您想使用本地Web API进行测试，请更改您的本地端点，例如:</li></ul><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="8ae8" class="nz lc iq mt b gy oa ob l oc od">string RequestURI = String.Format("<a class="ae ly" href="http://127.0.0.1:8000/predict?city={0}&amp;date={1}&amp;time={2" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8000/predict?city={0}&amp;date={1}&amp;time={2</a>}",wCity,wDate,wTime);</span></pre><ul class=""><li id="ca60" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">如果您将使用Azure Web API进行测试，请更改您的Azure端点，例如:</li></ul><pre class="ma mb mc md gt nv mt nw nx aw ny bi"><span id="d2db" class="nz lc iq mt b gy oa ob l oc od">string RequestURI = String.Format("<a class="ae ly" href="https://yourwebsite.azurewebsites.net/predict?city={0}&amp;date={1}&amp;time={2" rel="noopener ugc nofollow" target="_blank">https://yourwebsite.azurewebsites.net/predict?city={0}&amp;date={1}&amp;time={2</a>}",wCity,wDate,wTime);</span></pre><ul class=""><li id="fd5a" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">按<code class="fe mq mr ms mt b">F5</code>运行项目</li><li id="2296" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">您的bot服务将在<a class="ae ly" href="https://localhost:3979" rel="noopener ugc nofollow" target="_blank"> https://localhost:3979 </a>可用。运行您的Bot框架模拟器并连接到<a class="ae ly" href="https://localhost:3979" rel="noopener ugc nofollow" target="_blank"> https://localhost:3979 </a>端点</li></ul><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi oj"><img src="../Images/519b6ac1204c20e8486a158239ff0811.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5eFB0Dd3u5DdFbja0nRNuw.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">用于测试的模拟器上的机器人，图片由作者提供</p></figure><p id="fa96" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">之后，你的机器人就可以进行交互了。</p><h1 id="958d" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">微软团队中的机器人</h1><p id="024d" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">发布bot后，您可以连接不同的对话用户界面。我已经连接了微软团队，并命名为<code class="fe mq mr ms mt b">Data Driven Cycling Bot</code>。</p><p id="1242" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦您发送第一条信息，它就发送一张卡来选择<code class="fe mq mr ms mt b">City</code>、<code class="fe mq mr ms mt b">Date</code>和<code class="fe mq mr ms mt b">Time</code>信息，以预测健身骑行类型和最小距离。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ok"><img src="../Images/7a72a185c098e03a860ae0298d34b55f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s2xunTdvCeylDIjft9yg2Q.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">微软团队中的机器人，图片由作者提供</p></figure><h1 id="2a94" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">结论</h1><p id="567c" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">这是一次从我现有的数据中发现见解的个人旅程，然后变成了一个数字私人教练。</p><p id="9027" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于接下来我想重点介绍步骤，</p><ul class=""><li id="8994" class="mv mw iq kh b ki kj kl km ko mx ks my kw mz la na nb nc nd bi translated">设定每周目标，并根据我的目标预测本周的锻炼计划。</li><li id="7bd2" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">比较游乐设备指标，查看随时间推移的改进情况。</li><li id="5709" class="mv mw iq kh b ki nq kl nr ko ns ks nt kw nu la na nb nc nd bi translated">支持美国指标(现在仅支持km)</li></ul><p id="d9bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">代码可在<br/><a class="ae ly" href="https://github.com/ikivanc/Data-Driven-Cycling-and-Workout-Prediction" rel="noopener ugc nofollow" target="_blank">https://github . com/ikivanc/Data-Driven-Cycling-and-Workout-Prediction</a>获得</p><p id="9731" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">期待听到新的想法和开放的贡献。</p><p id="a14f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">谢了。</p></div></div>    
</body>
</html>