<html>
<head>
<title>How To Use Bash To Automate The Boring Stuff For Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Bash来自动化数据科学的枯燥工作</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-use-bash-to-automate-the-boring-stuff-for-data-science-d447cd23fffe?source=collection_archive---------7-----------------------#2021-05-02">https://towardsdatascience.com/how-to-use-bash-to-automate-the-boring-stuff-for-data-science-d447cd23fffe?source=collection_archive---------7-----------------------#2021-05-02</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="8251" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">使用命令行为您的数据科学项目编写一些可重用代码的指南</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/700e28b1c0b87592af6cc15717261fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Z4eyl7605a6Uk2TG"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">伊莲娜·科伊切娃在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="e50b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">作为一名数据科学家，您倾向于通过终端反复使用一些命令。这些可能是命令<em class="lw">为一个项目创建一个新目录</em>，<em class="lw">启动一个新的虚拟环境</em>和<em class="lw">激活</em>它，安装一些<em class="lw">标准库</em>等等。</p><p id="bffe" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当你开始一个项目的工作时，你自己的标准工作流程可能每次都不一样。</p><p id="de8b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">例如，</strong>我总是为一个新项目创建一个新文件夹，并通过以下方式将其移入:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="8700" class="mc md iu ly b gz me mf l mg mh">mkdir newproject<br/>cd newproject</span></pre><p id="3bc6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然后我通过以下方式创建了一个新的虚拟环境:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="70d4" class="mc md iu ly b gz me mf l mg mh">pipenv shell </span><span id="01a6" class="mc md iu ly b gz mi mf l mg mh"># or</span><span id="253e" class="mc md iu ly b gz mi mf l mg mh">python -m venv newenv</span></pre><p id="e8a0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后，我还做了<strong class="lc iv"> numpy </strong>和<strong class="lc iv"> pandas </strong>作为项目的样板安装。为了形象化的目的，我也经常使用<strong class="lc iv"> matplotlib </strong>和<strong class="lc iv"> plotly </strong>。</p><p id="2ee5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">事实上，我也喜欢为我的机器学习应用程序快速开发web应用程序，所以我也倾向于安装streamlit,因为它是最好的库。如果你不太了解它，这里有一个我写的快速介绍，让你开始使用它。</p><p id="9b2d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">因此，到目前为止我们需要执行的命令是:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="3f8e" class="mc md iu ly b gz me mf l mg mh">pip install numpy pandas matplotlib plotly streamlit</span></pre><p id="4760" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您忘记添加库，您必须返回并通过终端重新安装它们。现在来看，通过一个命令来自动完成这一切不是一个好主意吗？</p><blockquote class="mj mk ml"><p id="0d47" class="la lb lw lc b ld le jv lf lg lh jy li mm lk ll lm mn lo lp lq mo ls lt lu lv in bi translated">你可以使用一个脚本，每次执行<strong class="lc iv">时自动执行一些重复的命令，这样可以提前一点，节省一些宝贵的时间。</strong></p></blockquote><p id="4fc4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本文中，我将演示一个简单的命令行过程，您可以很容易地习惯于有效地自动化枯燥的东西，这是我经常使用的一种方法。</p><p id="77f6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们开始吧！👇</p><h1 id="52a8" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">检查系统上的bash</h1><p id="019a" class="pw-post-body-paragraph la lb iu lc b ld ng jv lf lg nh jy li lj ni ll lm ln nj lp lq lr nk lt lu lv in bi translated">了解bash在系统中的位置的一个简单方法是使用:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="891a" class="mc md iu ly b gz me mf l mg mh">$ which bash</span></pre><p id="58cf" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">输出将类似于:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="02d0" class="mc md iu ly b gz me mf l mg mh"><strong class="ly iv">/bin/bash</strong></span></pre><p id="98c8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">检查bash版本:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="4ad1" class="mc md iu ly b gz me mf l mg mh">bash --version</span></pre><p id="2fd9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">输出应该如下所示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nl"><img src="../Images/65ceab103c01d19fb00bc910d3a659ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2aLv5Z30W2Yf_Wu2Cujnlg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">例如，Mac上的bash版本</p></figure><p id="9d25" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">太好了，现在我们有了一点信息，让我们看看我们可以用它来构建什么。</p><h1 id="a907" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">制作新的bash脚本</h1><p id="fb12" class="pw-post-body-paragraph la lb iu lc b ld ng jv lf lg nh jy li lj ni ll lm ln nj lp lq lr nk lt lu lv in bi translated">我们将创建一个包含所有要执行的样板命令的文件。这将被称为我们的<strong class="lc iv"> bash脚本</strong>，它将具有<strong class="lc iv">的扩展。sh </strong>就一般惯例而言。</p><p id="2e59" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">首先，创建一个新文件。</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="8ea3" class="mc md iu ly b gz me mf l mg mh">touch createmlapp.sh</span></pre><p id="db1d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">接下来，让我们在文件的顶部添加一行代码，以确保系统知道使用默认的bash shell来运行我们的脚本。</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="6840" class="mc md iu ly b gz me mf l mg mh">#!/bin/bash</span></pre><p id="c8ba" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，让我们明白我们在这里想要做什么。我们的流程如下:</p><ol class=""><li id="163b" class="nm nn iu lc b ld le lg lh lj no ln np lr nq lv nr ns nt nu bi translated">为我们的项目创建一个新目录</li><li id="20e1" class="nm nn iu lc b ld nv lg nw lj nx ln ny lr nz lv nr ns nt nu bi translated">创建和激活虚拟环境</li><li id="11cb" class="nm nn iu lc b ld nv lg nw lj nx ln ny lr nz lv nr ns nt nu bi translated">安装我们需要的任何软件包</li><li id="7f31" class="nm nn iu lc b ld nv lg nw lj nx ln ny lr nz lv nr ns nt nu bi translated">打开项目目录中的VSCode。</li></ol><p id="05a7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们现在过一遍。</p><h1 id="e4e2" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">写我们的剧本</h1><p id="5dc0" class="pw-post-body-paragraph la lb iu lc b ld ng jv lf lg nh jy li lj ni ll lm ln nj lp lq lr nk lt lu lv in bi translated">我们所有的命令都将类似于我们在终端中正常运行的命令。</p><p id="b57b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">只有一个区别——为了使我们的项目成功，我们需要一个名字，我们将通过一个参数传递这个名字。</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="026d" class="mc md iu ly b gz me mf l mg mh">APP_NAME="$1"</span></pre><p id="82a9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">执行脚本时输入的第一个参数将是我们的<strong class="lc iv"> $1 </strong>。</p><p id="5617" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，剩下的代码将是熟悉的:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="675c" class="mc md iu ly b gz me mf l mg mh">cd<br/>cd Desktop/ # use whatever directory you wish here <br/>mkdir $APP_NAME<br/>cd $APP_NAME</span></pre><p id="de6c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在进入虚拟环境:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="1473" class="mc md iu ly b gz me mf l mg mh">python -m venv newenv<br/>source newenv/bin/activate</span></pre><p id="b312" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后，我们安装我们需要的任何软件包:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="9e17" class="mc md iu ly b gz me mf l mg mh">pip install --upgrade pip<br/>pip install numpy pandas matplotlib streamlit</span></pre><p id="e3ba" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后，作为奖励，让我们打开我们最喜欢的代码编辑器<strong class="lc iv"> VSCode </strong>开始我们的项目。</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="071e" class="mc md iu ly b gz me mf l mg mh">code .</span></pre><p id="759a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们完事了。😄。您的脚本现在应该是这样的:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="9243" class="mc md iu ly b gz me mf l mg mh">#!/bin/bash</span><span id="d902" class="mc md iu ly b gz mi mf l mg mh">APP_NAME="$1"<br/>cd<br/>cd Desktop/<br/>mkdir $APP_NAME<br/>cd $APP_NAME<br/>python -m venv newenv<br/>source newenv/bin/activate<br/>pip install --upgrade pip<br/>pip install numpy pandas matplotlib streamlit<br/>code .</span></pre><h1 id="4afc" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">运行我们的脚本</h1><p id="4faf" class="pw-post-body-paragraph la lb iu lc b ld ng jv lf lg nh jy li lj ni ll lm ln nj lp lq lr nk lt lu lv in bi translated">首先，我们做<code class="fe oa ob oc ly b">chmod +x</code>(在我们的脚本上)使它可执行。</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="494d" class="mc md iu ly b gz me mf l mg mh">chmod +x createmlapp.sh</span></pre><p id="d046" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">厉害！这太棒了。剩下的唯一一件事就是将这个脚本移动到我们的<strong class="lc iv">主目录</strong>中，这样我们就可以运行它，而不用每次都将<strong class="lc iv"> cd — <em class="lw"> ing </em> </strong>放入任何其他文件夹中。</p><p id="b188" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">首先，找出您的主目录——在终端中键入<strong class="lc iv"> cd </strong>。无论您要去哪里，您都需要将脚本移动到那里，以便使它可以从那里执行。</p><p id="f7d8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，只需输入:</p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="530e" class="mc md iu ly b gz me mf l mg mh">./createmlapp.sh yourmlappname</span></pre><p id="bc19" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">来看看实际的脚本！</p><h2 id="d2c7" class="mc md iu bd mq od oe dn mu of og dp my lj oh oi na ln oj ok nc lr ol om ne on bi translated">结束…</h2><p id="e859" class="pw-post-body-paragraph la lb iu lc b ld ng jv lf lg nh jy li lj ni ll lm ln nj lp lq lr nk lt lu lv in bi translated">恭喜你。在这个小指南之后，你现在应该能够自动化类似的工作流程，以便在开始一个新项目时节省一些时间！</p><p id="acbc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我现在能给你的建议就是探索更多，尝试创建更多的脚本，也可能执行更复杂的任务，比如<strong class="lc iv">运行新的应用</strong>、<strong class="lc iv">自动</strong>、T21【将代码推送到GitHub 等等。</p><p id="82d3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你可以在这里找到<a class="ae kz" href="https://github.com/yashprakash13/data-another-day#bash-essential-tricks-to-make-you-even-more-lazy" rel="noopener ugc nofollow" target="_blank">代码库</a>。</p><p id="584d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您喜欢这篇文章，我每周都会在这里分享一些来自数据科学世界的有用工具和技术。跟随我永远不会错过他们！</p></div><div class="ab cl oo op hy oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="in io ip iq ir"><p id="d4be" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后，这里有几篇我的类似文章，你可能也会觉得有用:</p><div class="ov ow gq gs ox oy"><a rel="noopener follow" target="_blank" href="/five-numpy-functions-you-should-understand-e0e35704e7d2"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd iv gz z fq pd fs ft pe fv fx it bi translated">你应该了解的五个数字函数</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">如何水平和垂直堆叠你的数组，找到唯一的值，分割你的数组和一些更多的技巧来使用…</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">towardsdatascience.com</p></div></div><div class="ph l"><div class="pi l pj pk pl ph pm kt oy"/></div></div></a></div><div class="ov ow gq gs ox oy"><a rel="noopener follow" target="_blank" href="/26-datasets-for-your-data-science-projects-658601590a4c"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd iv gz z fq pd fs ft pe fv fx it bi translated">为您的数据科学项目提供26个数据集</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">众多基于任务的数据集的汇编，可用于构建您的下一个数据科学项目。</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">towardsdatascience.com</p></div></div><div class="ph l"><div class="pn l pj pk pl ph pm kt oy"/></div></div></a></div></div></div>    
</body>
</html>