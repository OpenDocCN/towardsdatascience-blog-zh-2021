<html>
<head>
<title>A better way to code, as a data scientist</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为一名数据科学家，更好的编码方式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-better-way-to-code-as-a-data-scientist-7e4376192441?source=collection_archive---------25-----------------------#2021-12-15">https://towardsdatascience.com/a-better-way-to-code-as-a-data-scientist-7e4376192441?source=collection_archive---------25-----------------------#2021-12-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3600" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">即使你只是在绘制一个图表，干净的代码总是受欢迎的，所以在编码时尝试这些实践</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/046df2fa65088d21dc952c705243d4b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*73YTYsnqk-K9qhEN"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@__pai_10_?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">维斯瓦纳特 V 派</a>拍摄的照片</p></figure><p id="b2c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我现在是一名数据科学家，但我最初是一名软件开发人员，所以在我心里，我仍然是那个害怕糟糕的缩进和 x，y，z，a，b，c 变量名的人。因此，让我来分享一些技巧，让你写一个更干净的代码，并使用工具为你清理。</p><h2 id="5018" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">编写可重用的代码</h2><p id="b175" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">可重用性是穿着闪亮盔甲的骑士。有几种方法可以提高代码的可重用性，从而使所有人的生活更加轻松。</p><p id="6221" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，对我们这些数据科学家来说，最好的方法是模块化我们的代码，也就是说，将代码分解成最小的逻辑部分，并对它们进行松散耦合，也就是说，使它们相互独立。一种方法是使用函数，在某些语言中是使用类。模块化您的代码也增加了它的可伸缩性，因为您可以在不干扰基础设施的情况下向现有的代码添加更多的功能。所以让这些模块相互独立是一个很好的做法。</p><p id="ec05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，假设在您的代码中您需要多次寻找不同数字的阶乘，直观的做法是定义一个计算阶乘的函数，而不是多次复制相同的代码。所以更好的选择是在函数中定义递归逻辑，这样函数(模块)就可以多次使用。</p><h2 id="7ad4" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">让代码易于理解。</h2><p id="9241" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">这里的第一步是编写信息丰富的变量名。我不希望你用变量名写故事，但是如果一个变量包含了纪元号，那就不要命名为 x 了，用 epoch_number 或者类似的吧。</p><p id="fc34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里的第二部分是在你的代码中写简短而甜蜜的注释。同样，不期望你长篇大论，但是让我们在所有函数和类之前写一个简短的描述。如果出现混淆，您可以使用以下格式:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="1a69" class="lv lw it mu b gy my mz l na nb">def func(number):<br/>"""<br/>func finds factorial of number<br/>param number: integer whose factorial will be returned <br/>"""</span></pre><p id="ade7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了函数之外，还有一些地方需要强制注释，例如，当您在代码中使用幻数时。您需要指定该特定数字代表什么。此外，在实现一些复杂的逻辑时，我让您来判断是否要写注释。让我们为其他开发人员提供更方便的服务。</p><h2 id="610b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">谷歌风格指南</h2><p id="c9e3" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">嗯，我是否支持时尚指南还没有定论，但在我下定决心之前，我会推广它。谷歌风格指南是开发者在编码时应该遵循的一套规则。这些规则主要与代码样式、格式和林挺相关。几乎所有的语言都有一套规则。让我们看看<a class="ae ky" href="https://google.github.io/styleguide/pyguide.html" rel="noopener ugc nofollow" target="_blank"> Python 风格指南</a>和一些帮助我们自动化的工具。Python 风格指南分为两部分；第一个包括林挺规则，第二个包括样式规则。</p><p id="8e5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一些让您了解风格指南的规则:</p><ul class=""><li id="7f0a" class="nc nd it lb b lc ld lf lg li ne lm nf lq ng lu nh ni nj nk bi translated">只对包和模块使用<code class="fe nl nm nn mu b">import</code>语句，不要对单独的类或函数使用。</li><li id="a0ae" class="nc nd it lb b lc no lf np li nq lm nr lq ns lu nh ni nj nk bi translated">使用模块的完整路径名位置导入每个模块。</li><li id="ffc5" class="nc nd it lb b lc no lf np li nq lm nr lq ns lu nh ni nj nk bi translated">避免全局变量。</li><li id="e1b8" class="nc nd it lb b lc no lf np li nq lm nr lq ns lu nh ni nj nk bi translated">不要用分号结束行，也不要用分号将两个语句放在同一行。</li></ul><p id="d3bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要把它看作是一本规则手册，你应该把它看作是帮助我们所有人坚持一种代码风格的惯例。我知道对于大型代码库来说，这些会变得令人不知所措，所以这里有一些工具会有所帮助:</p><ul class=""><li id="f5b6" class="nc nd it lb b lc ld lf lg li ne lm nf lq ng lu nh ni nj nk bi translated">pylint:这是一个在 Python 源代码中查找 bug 和风格问题的工具。它发现了编译器在 C 和 C++等动态性较低的语言中通常会发现的问题。它可能会显示一些误报。</li><li id="9778" class="nc nd it lb b lc no lf np li nq lm nr lq ns lu nh ni nj nk bi translated"><a class="ae ky" href="https://pypi.org/project/flake8/" rel="noopener ugc nofollow" target="_blank"> flake8 </a>:类似于 pylint，它会对代码中的违规行为发出警告。它速度快，假阳性率低。您可以使用这些工具给出的建议来修改您的代码。</li><li id="193e" class="nc nd it lb b lc no lf np li nq lm nr lq ns lu nh ni nj nk bi translated">autopep8:如果你像我一样，直接想要一个林挺工具来修复你的代码，而不仅仅是抛出警告，那么使用 autopep8。使用此处<a class="ae ky" href="https://github.com/hhatto/autopep8" rel="noopener ugc nofollow" target="_blank">给出的文件</a>进行 autopep8。</li></ul><h2 id="399b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">使用智能编辑器</h2><p id="243d" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我知道上面的部分在所有需要做的方面是压倒性的，但是不要担心。我们开发者懒惰是既定的事实，我们花了大量的时间构建工具来安慰我们的懒惰。所以我们来谈谈这样的编辑器，它们为我们做所有的工作。</p><p id="3d6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在工作笔记本上使用 IntelliJ PyCharm for python 脚本。否则，我使用 sublime 和大量开源的 sublime 插件。您可以直接将 autopep8 之类的工具与 PyCharm 集成，自动完成代码机制也非常方便。同时，sublime 有自己的 linter，你可以试试。你可以在那里选择底层的 linter，所以对于 python，我使用 flake8。</p><p id="4f58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些编辑器还允许您直接链接到 git repo，因此这是一个额外的好处，在解决合并冲突或重定基础时更容易使用。</p><p id="dbae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个有用的新开发是 Github CoPilot。如果你还没有尝试过，那么我恳求你这样做。它严重地改变了我的生活。你需要知道的关于副驾驶的一切都在这里。</p><h2 id="96d1" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">结论</h2><p id="61d1" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我希望你喜欢这些建议，并尝试在未来的代码中使用它们。让我知道你对写出更好的代码有什么建议。</p><p id="eab4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://medium.com/@AnveeNaik" rel="noopener">媒体</a>上关注我们，了解更多此类内容。</p><p id="8519" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nt">成为</em> <a class="ae ky" href="https://medium.com/@AnveeNaik/membership" rel="noopener"> <em class="nt">媒介会员</em> </a> <em class="nt">解锁阅读媒介上的许多其他故事。</em></p></div></div>    
</body>
</html>