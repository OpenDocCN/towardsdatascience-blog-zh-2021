<html>
<head>
<title>Exploring Line Charts with Python's Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python的Matplotlib探索折线图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploring-line-charts-with-pythons-matplotlib-4b911cf6b4bc?source=collection_archive---------15-----------------------#2021-10-19">https://towardsdatascience.com/exploring-line-charts-with-pythons-matplotlib-4b911cf6b4bc?source=collection_archive---------15-----------------------#2021-10-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4e34" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">次轴、插值、连接散点图等</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bebf1168b8fda518a1dda3b6b5568776.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gEhG6ZTRiaMABAIPpAhBIQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">折线图—图片由作者提供</p></figure><p id="6a4c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">折线图绝对是数据可视化领域的明星，大多数受众都很熟悉，其直接的格式使见解、趋势和模式易于识别。</p><p id="3900" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">尽管它们很容易画出来，但还是有一些灰色区域很难导航，有时，我们可能会为了方便或一致性而试图避开它们。</p><p id="5f9f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文将探讨折线图以及可视化数据时实验的重要性。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="ca26" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下面的例子中，我们将使用一些虚拟数据。</p><pre class="kj kk kl km gt mb mc md me aw mf bi"><span id="bdf3" class="mg mh it mc b gy mi mj l mk ml">import matplotlib.pyplot as plt<br/>from matplotlib.collections import LineCollection<br/>import numpy as np<br/>import pandas as pd<br/>from scipy import interpolate</span><span id="1e29" class="mg mh it mc b gy mm mj l mk ml">url = '<a class="ae mn" href="https://gist.githubusercontent.com/Thiagobc23/4ccb4ea1c612d9d68921bf990ce28855/raw/6225824a6b7d5d273019c09c25cbbaa5b82009bc/dummy_data.csv'" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/Thiagobc23/4ccb4ea1c612d9d68921bf990ce28855/raw/6225824a6b7d5d273019c09c25cbbaa5b82009bc/dummy_data.csv'</a></span><span id="2bf1" class="mg mh it mc b gy mm mj l mk ml">df = pd.read_csv(url, index_col='ID')<br/>df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/bece6876ab947e05cea3aafd0e75e61d.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*4G8oYg3amXYOnBnGOMV5kQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">虚拟数据—作者提供的图片</p></figure><p id="f76c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们从一个简单的折线图开始，使用一些自定义颜色并添加网格线。</p><pre class="kj kk kl km gt mb mc md me aw mf bi"><span id="4ca3" class="mg mh it mc b gy mi mj l mk ml"># figure<br/>fig, ax = plt.subplots(1, figsize=(12,4), facecolor='#293952')<br/>ax.set_facecolor('#293952')</span><span id="a337" class="mg mh it mc b gy mm mj l mk ml"># data<br/>price = df['Price']</span><span id="fcb6" class="mg mh it mc b gy mm mj l mk ml"># plot<br/>plt.plot(df.Date, price, marker='o', markersize=4, color='#FDAC53', linewidth=2.5)</span><span id="0749" class="mg mh it mc b gy mm mj l mk ml"># ticks n title<br/>ax.tick_params(axis='both', colors='w')<br/>plt.xticks(df.Date[::3])<br/>plt.title('Price\n', loc='left', color='w', fontsize=16)</span><span id="3e4a" class="mg mh it mc b gy mm mj l mk ml"># spines<br/>ax.spines['right'].set_visible(False)<br/>ax.spines['top'].set_visible(False)<br/>ax.spines['left'].set_color('w')<br/>ax.spines['bottom'].set_color('w')</span><span id="8e40" class="mg mh it mc b gy mm mj l mk ml"># grid<br/>ax.set_axisbelow(True)<br/>ax.yaxis.grid(color='#FDAC53', linestyle='dashed', alpha=0.5)</span><span id="bde2" class="mg mh it mc b gy mm mj l mk ml">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/71d4a3c64aec3bd24be71be52808cd1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i0WodCaBhSDuWIk_OeldgA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">简单折线图—图片由作者提供</p></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="3d86" class="mg mh it bd mq mr ms dn mt mu mv dp mw lh mx my mz ll na nb nc lp nd ne nf ng bi translated">基数零</h2><p id="16ec" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">绘制折线图的常见做法是从零开始绘制y轴，这通常被描述为数据可视化的规则，而不是建议。</p><p id="0f2b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">没有锁定在零点的图表有夸大变化和误导观众的名声，在我看来，这并不总是正确的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/5556abbcfe82fdaee6f4a799a10964eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*faPEUdzfbjnbIxiNM4Glbg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">无论是否从零开始，这都是你的图表——作者提供的图片</p></figure><p id="fac9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果y轴以精确的刻度正确显示，并且用户假设它从零开始而没有读取它，那么这是一个数据读写问题，而不是设计问题。</p><p id="d34d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不是从零开始的图表更好地显示变化和趋势，而从零开始的图表更好地描绘这些变化和趋势的影响。</p><pre class="kj kk kl km gt mb mc md me aw mf bi"><span id="d416" class="mg mh it mc b gy mi mj l mk ml"># figure<br/>fig, ax = plt.subplots(1, figsize=(12,4), facecolor='#293952')<br/>ax.set_facecolor('#293952')</span><span id="d5a4" class="mg mh it mc b gy mm mj l mk ml"># data<br/>price = df['Price']</span><span id="9b80" class="mg mh it mc b gy mm mj l mk ml"># plot<br/>plt.plot(df.Date, price, marker='o', markersize=4, color='#FDAC53', linewidth=2.5)</span><span id="2431" class="mg mh it mc b gy mm mj l mk ml"># ticks n title<br/>ax.tick_params(axis='both', colors='w')<br/>plt.xticks(df.Date[::3])<br/>plt.title('Price\n', loc='left', color='w', fontsize=16)</span><span id="50ab" class="mg mh it mc b gy mm mj l mk ml"># spines<br/>ax.spines['right'].set_visible(False)<br/>ax.spines['top'].set_visible(False)<br/>ax.spines['left'].set_color('w')<br/>ax.spines['bottom'].set_color('w')</span><span id="f5f2" class="mg mh it mc b gy mm mj l mk ml"># grid<br/>ax.set_axisbelow(True)<br/>ax.yaxis.grid(color='#FDAC53', linestyle='dashed', alpha=0.5)</span><span id="0722" class="mg mh it mc b gy mm mj l mk ml"># limits<br/>plt.ylim(0,) # or -&gt; ax.set_ylim(0,)</span><span id="fb2f" class="mg mh it mc b gy mm mj l mk ml">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/0efc82a921018000722203c892c7a78a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tFRqyh-MYOCOK6u_8WVKSQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">折线图—作者提供的图片</p></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="dadc" class="mg mh it bd mq mr ms dn mt mu mv dp mw lh mx my mz ll na nb nc lp nd ne nf ng bi translated"><strong class="ak">插值</strong></h2><p id="2203" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">线条流畅的看起来更好，但也仅此而已。除了美观之外，平滑图表的线条没有任何其他好处，这种微小的改进有可能会歪曲数据。</p><p id="2ea2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，我们可以用它做实验，自己决定什么时候合适。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/190dbd6e66dd131a903a0b06dd7b31f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q1Uc7ROGUUzGgfN2XWBs1g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">平滑或笔直，这是你的图表——作者的图像</p></figure><p id="5ac9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，差异可以忽略不计，我怀疑有人会因为插值而对变化和趋势做出不同的解释。尽管如此，这是有风险的，应该谨慎使用。</p><pre class="kj kk kl km gt mb mc md me aw mf bi"><span id="d74b" class="mg mh it mc b gy mi mj l mk ml"># figure<br/>fig, ax = plt.subplots(1, figsize=(12,4), facecolor='#293952')<br/>ax.set_facecolor('#293952')</span><span id="f15d" class="mg mh it mc b gy mm mj l mk ml"># data<br/>price = df['Price']</span><span id="03ef" class="mg mh it mc b gy mm mj l mk ml"># interpolate<br/>x = np.arange(0, len(price))<br/>y = price</span><span id="8d52" class="mg mh it mc b gy mm mj l mk ml">inter = interpolate.interp1d(x, y, kind = 'cubic')<br/>new_x = np.arange(0, len(y)-1, 0.01)<br/>new_y = inter(new_x)</span><span id="9515" class="mg mh it mc b gy mm mj l mk ml"># interpolated lines<br/>plt.plot(new_x, new_y, color='#FDAC53', linewidth=1.5)<br/># data points<br/>plt.scatter(x, price, color='#FDAC53', s=25, zorder=3)</span><span id="d439" class="mg mh it mc b gy mm mj l mk ml"># ticks and title<br/>ax.tick_params(axis='both', colors='w')<br/>plt.xticks(x[::3], df.Date[::3])<br/>plt.title('Price\n', loc='left', color='w', fontsize=16)</span><span id="7168" class="mg mh it mc b gy mm mj l mk ml"># spines<br/>ax.spines['right'].set_visible(False)<br/>ax.spines['top'].set_visible(False)<br/>ax.spines['left'].set_color('w')<br/>ax.spines['bottom'].set_color('w')</span><span id="655e" class="mg mh it mc b gy mm mj l mk ml"># grid<br/>ax.set_axisbelow(True)<br/>ax.yaxis.grid(color='#FDAC53', linestyle='dashed', alpha=0.5)</span><span id="0935" class="mg mh it mc b gy mm mj l mk ml"># limit<br/>plt.ylim(0,)</span><span id="1dca" class="mg mh it mc b gy mm mj l mk ml">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/aaac03be6cb5f62ef44c46b43aa206d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JyY9VmsHZQPIQMUGI06apg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">折线图—图片作者| <a class="ae mn" href="https://gist.github.com/Thiagobc23/62ae396e96764135e47abf2dd755cfb3" rel="noopener ugc nofollow" target="_blank">代码</a></p></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="afe1" class="mg mh it bd mq mr ms dn mt mu mv dp mw lh mx my mz ll na nb nc lp nd ne nf ng bi translated">双轴</h2><p id="f64f" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">让我们从绘制汇率和价格开始。</p><pre class="kj kk kl km gt mb mc md me aw mf bi"><span id="99f2" class="mg mh it mc b gy mi mj l mk ml"># figure<br/>fig, ax = plt.subplots(1, figsize=(12,4), facecolor='#293952')<br/>ax.set_facecolor('#293952')</span><span id="946c" class="mg mh it mc b gy mm mj l mk ml"># data<br/>price = df['Price']<br/>rate = df['Exchange Rate']</span><span id="2f66" class="mg mh it mc b gy mm mj l mk ml"># plots<br/>plt.plot(df.Date, price, marker='o', markersize=4, color='#FDAC53', linewidth=2.5)<br/>plt.plot(df.Date, rate, marker='o', markersize=4, color='#55A380', linewidth=2.5)</span><span id="2ed6" class="mg mh it mc b gy mm mj l mk ml"># ticks n title<br/>plt.title('Price and Exchange Rate\n', loc='left', color='w', fontsize=16)<br/>ax.tick_params(axis='both', colors='w')<br/>plt.xticks(df.Date[::3])</span><span id="cce5" class="mg mh it mc b gy mm mj l mk ml"># spines<br/>ax.spines['right'].set_visible(False)<br/>ax.spines['top'].set_visible(False)<br/>ax.spines['left'].set_color('w')<br/>ax.spines['bottom'].set_color('w')</span><span id="b939" class="mg mh it mc b gy mm mj l mk ml"># grid<br/>ax.set_axisbelow(True)<br/>ax.yaxis.grid(color='#FDAC53', linestyle='dashed', alpha=0.5)</span><span id="d069" class="mg mh it mc b gy mm mj l mk ml"># legend<br/>legend = plt.legend(['Price', 'Rate'], frameon=False, ncol=2)<br/>plt.setp(legend.get_texts(), color='w')</span><span id="0a92" class="mg mh it mc b gy mm mj l mk ml">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/d437b7a1e53c0699c55214481a551efa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tOUGf5IhxsvT0yuSdFOXcA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">多线图表—作者提供的图片</p></figure><p id="9a3f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们之前看到的价格变化在这里没有得到充分体现。</p><p id="e433" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们有第三个变量，即成本，它是价格和费率的乘积。当我们使用上面的图表来理解这一成本的构成时，我们会假设利率的上升会比价格的下降更加显著。但在现实中，这不是真的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/4f8850a11488f121f58887ffc7300b90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ln4j4cF8cEwQtTZl0igPdg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">价格*价格—作者图片</p></figure><p id="2801" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用一个副轴来理解这个变量的组成就更简单了。</p><pre class="kj kk kl km gt mb mc md me aw mf bi"><span id="45ff" class="mg mh it mc b gy mi mj l mk ml"># figure<br/>fig, ax = plt.subplots(1, figsize=(12,4), facecolor='#293952')<br/>ax.set_facecolor('#293952')</span><span id="0eb1" class="mg mh it mc b gy mm mj l mk ml"># data<br/>dt = df.Date<br/>price = df['Price']<br/>rate = df['Exchange Rate']</span><span id="abe2" class="mg mh it mc b gy mm mj l mk ml"># plot<br/>plt.plot(dt, price, marker='o', markersize=4, color='#FDAC53', linewidth=2.5)<br/>ax2 = ax.twinx()<br/>ax2.plot(dt, rate, marker='o', markersize=4, color='#55A380', linewidth=2.5)</span><span id="36f7" class="mg mh it mc b gy mm mj l mk ml"># ticks<br/>ax.tick_params(axis='both', colors='w')<br/>ax2.tick_params(axis='both', colors='w')<br/>plt.xticks(dt[::3])</span><span id="67c4" class="mg mh it mc b gy mm mj l mk ml"># spines<br/>for i in ['top', 'bottom']:<br/>    ax.spines[i].set_visible(False)<br/>    ax2.spines[i].set_visible(False)<br/>    <br/>ax2.spines['left'].set_color('#FDAC53')<br/>ax2.spines['left'].set_linewidth(2)<br/>ax2.spines['right'].set_color('#55A380')<br/>ax2.spines['right'].set_linewidth(2)</span><span id="1492" class="mg mh it mc b gy mm mj l mk ml"># grid<br/>ax.set_axisbelow(True)<br/>ax.xaxis.grid(color='w', linestyle='dashed', alpha=0.5)</span><span id="ca00" class="mg mh it mc b gy mm mj l mk ml"># labels n title<br/>ax.set_ylabel('Price', color='w', fontsize=12)<br/>ax2.set_ylabel('Exchange Rate', color='w', fontsize=12)<br/>plt.title('Price and Exchange Rate\n', loc='left', color='w', fontsize=16)</span><span id="3524" class="mg mh it mc b gy mm mj l mk ml"># limits<br/>ax.set_ylim(0,)<br/>ax2.set_ylim(0,)</span><span id="a296" class="mg mh it mc b gy mm mj l mk ml">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/4903ee84b04e83dc8f420ad648664729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*laD3opnmaFeD6dDqtxIuiw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">价格和费率双轴—图片作者| <a class="ae mn" href="https://gist.github.com/Thiagobc23/4ca2066f4f21fdd1c37ebaf9d264a920" rel="noopener ugc nofollow" target="_blank">代码</a></p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/4f8850a11488f121f58887ffc7300b90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ln4j4cF8cEwQtTZl0igPdg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">价格*价格—作者图片</p></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="e08e" class="mg mh it bd mq mr ms dn mt mu mv dp mw lh mx my mz ll na nb nc lp nd ne nf ng bi translated">连通散点图</h2><p id="431a" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">x轴不一定需要代表时间，连接数据点的线已经完成了这项工作。这意味着我们可以使用第二个变量的x轴，将可视化集中在这两个变量随时间的相关性上。</p><p id="b34d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">箭头，标签，甚至颜色都可以用这种类型显示时间流动的方向。线条使用渐变颜色也有助于区分重叠部分。</p><pre class="kj kk kl km gt mb mc md me aw mf bi"><span id="b2a7" class="mg mh it mc b gy mi mj l mk ml"># data<br/>x = df['Price']<br/>y = df['Exchange Rate']</span><span id="666a" class="mg mh it mc b gy mm mj l mk ml"># points n segments<br/>points = np.array([x, y]).T.reshape(-1, 1, 2)<br/>segments = np.concatenate([points[:-1], points[1:]], axis=1)</span><span id="1c0c" class="mg mh it mc b gy mm mj l mk ml"># figure<br/>fig, ax = plt.subplots(1, figsize=(12,7), facecolor='#293952')<br/>ax.set_facecolor('#293952')</span><span id="d614" class="mg mh it mc b gy mm mj l mk ml"># create a collection of lines<br/>lc = LineCollection(segments, cmap='Wistia' , alpha=0.9)</span><span id="1484" class="mg mh it mc b gy mm mj l mk ml"># set the data that'll define the colors<br/>lc.set_array(df.index) # try changing df.index for x or y<br/>lc.set_linewidth(2.5)</span><span id="6948" class="mg mh it mc b gy mm mj l mk ml"># plot line collection<br/>ax.add_collection(lc)</span><span id="10a6" class="mg mh it mc b gy mm mj l mk ml"># date labels left<br/>labels_df_l = df[df['Date'].isin(['2019-01', '2020-04', '2020-07'])].copy()<br/>for key, record in labels_df_l.iterrows():<br/>    ax.text(record['Price'] + 0.2, record['Exchange Rate'], record['Date'], color='w')<br/>    <br/># date labels right<br/>labels_df_r = df[df['Date'].isin(['2019-03', '2019-06', '2019-12', '2021-01', '2021-06'])].copy()<br/>for key, record in labels_df_r.iterrows():<br/>    ax.text(record['Price'] - 0.25, record['Exchange Rate'], record['Date'], color='w', ha='right')<br/>    <br/># labels n title<br/>ax.set_xlabel('Price', color='w')<br/>ax.set_ylabel('Exchange Rate', color='w')<br/>ax.set_title('Price and Exchange Rate - Product XYZ\n', loc='left', color='w', fontsize=18)</span><span id="00f7" class="mg mh it mc b gy mm mj l mk ml"># spines<br/>ax.spines['right'].set_visible(False)<br/>ax.spines['top'].set_visible(False)<br/>ax.spines['left'].set_color('w')<br/>ax.spines['bottom'].set_color('w')</span><span id="7253" class="mg mh it mc b gy mm mj l mk ml"># tick colors<br/>ax.tick_params(axis='both', colors='w')</span><span id="0be2" class="mg mh it mc b gy mm mj l mk ml"># grids<br/>ax.set_axisbelow(True)<br/>ax.yaxis.grid(color='#FDAC53', linestyle='dashed', alpha=0.3)<br/>ax.xaxis.grid(color='#FDAC53', linestyle='dashed', alpha=0.3)</span><span id="782c" class="mg mh it mc b gy mm mj l mk ml"># limits<br/>ax.set_xlim(x.min() - 3, x.max() + 3)<br/>ax.set_ylim(y.min() - 3, y.max() + 3)</span><span id="d3af" class="mg mh it mc b gy mm mj l mk ml">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/22b7f23fe4cf8a16edf5eba617d2252b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xgY1CMB9bbd0ScnLT1vE5g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">连通散点图—图片作者| <a class="ae mn" href="https://gist.github.com/Thiagobc23/9a2f50cdd787eb27e99a2776cd1cf97d" rel="noopener ugc nofollow" target="_blank">代码</a></p></figure><p id="ce31" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">关联散点图是一种图表，当它符合数据时，它是非常惊人的。不幸的是，对于大多数数据集来说，它往往会变得杂乱或像意大利面条图一样散开。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="3f05" class="mg mh it bd mq mr ms dn mt mu mv dp mw lh mx my mz ll na nb nc lp nd ne nf ng bi translated">结尾部分</h2><p id="1e68" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">我们不应该拒绝需要观众付出努力的解决方案。</p><p id="b6ba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">过分简化一个主题以适应小块的信息会使洞察力和模式更难识别，甚至更糟，使用户对呈现的主题失去兴趣。</p><p id="8a80" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">指南和规则是产生高质量可视化的一个很好的方法，并且可以减少误解。但是实验可以产生真正伟大的图表，避免误导可视化的最好方法是保持观众的数据素养。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="1c98" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！<a class="ae mn" href="https://linktr.ee/thiagobc23" rel="noopener ugc nofollow" target="_blank">在这里</a>你可以找到更多这样的文章。</p></div></div>    
</body>
</html>