<html>
<head>
<title>Understanding Hypothesis Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解假设检验</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/understanding-hypothesis-testing-65f9b3e9ab1f?source=collection_archive---------11-----------------------#2021-09-21">https://towardsdatascience.com/understanding-hypothesis-testing-65f9b3e9ab1f?source=collection_archive---------11-----------------------#2021-09-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="ac30" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">假设检验</h2><div class=""/><div class=""><h2 id="286d" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">假设检验的基本原则</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/b630d2167f1f140e4d92d30138242659.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I7IU5XuJbriBpDuk"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@possessedphotography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">附身摄影</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="365a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">假设检验是数据科学领域中使用的一个重要的数学概念。虽然从python库中调用一个随机方法来为您执行测试确实很容易，但是了解幕后实际发生的事情既必要又有趣！什么是假设检验，我们为什么需要它，它有什么作用，它是如何工作的？让我们来了解一下！</p><h1 id="9dc8" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">什么是假设检验？</h1><p id="6e75" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">假设检验是一种统计方法，用来确定你的假设是否成立。假设可以是关于数据集中的两个变量、两个群体之间的关联或一种情况。</p><p id="c1cd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">该方法评估两个互斥的语句(不能同时发生的两个事件)，以确定哪个语句最受样本数据支持，并做出明智的决策。</p><p id="6323" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">假设检验的组成部分是:</p><ol class=""><li id="31f0" class="my mz iq lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">假设—无效和替代</li><li id="a18f" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">统计测试</li><li id="817d" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">概率分布</li><li id="45fc" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">检验统计量</li><li id="2071" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">临界值</li><li id="be75" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">显著性水平(α)</li><li id="678d" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">p值</li></ol><h1 id="402e" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated"><strong class="ak">假说。</strong></h1><p id="4751" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">假设检验的过程包括两个假设——一个无效假设和一个替代假设。</p><ul class=""><li id="0c0f" class="my mz iq lh b li lj ll lm lo na ls nb lw nc ma nm ne nf ng bi translated"><strong class="lh ja">零假设</strong>是一种假设两个变量之间没有关系、两个组之间没有关联或者<strong class="lh ja">当前情况</strong>没有变化的陈述，因此为“零”。它由<em class="nn"> H0 </em>表示。</li><li id="ba6a" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nm ne nf ng bi translated"><strong class="lh ja">替代假设</strong>与零假设相反，因为它假设两个变量之间存在某种关系，或者当前情况中存在<strong class="lh ja">某种变化——因此称为“替代”。用<em class="nn">哈</em>或<em class="nn"> H1 </em>来表示。</strong></li></ul><p id="5784" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">假设检验的结论是零假设是不被拒绝(所以你接受没有变化)还是被拒绝(所以你拒绝没有变化)。</p><p id="eeea" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们用一个例子来理解这个。</p><p id="ebe5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">有一个数据集包含了过去一年中住院病人的信息。该数据集中的两个特征是位置和总花费。我们相信住院期间的总花费会因一个人的居住地而有所不同——这种说法是你的<strong class="lh ja">替代假设</strong>，因为它假设了地点和住院花费之间的关系。</p><p id="8af5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因此，<strong class="lh ja">无效假设</strong>将是基于一个人的居住地在医院花费的金额<strong class="lh ja">没有差异。</strong></p><p id="ce6a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在我们需要弄清楚我们是否应该拒绝零假设。我们如何做到这一点？</p><h1 id="c08a" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated"><strong class="ak">统计检验。</strong></h1><p id="a536" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">统计检验通过为我们提供来自样本数据的<strong class="lh ja">检验统计量</strong>(单个数值)来帮助我们拒绝或不拒绝我们的零假设。该检验统计量<strong class="lh ja">测量样本数据与原假设</strong>一致的程度——如果一致，则原假设不被拒绝，否则被拒绝。</p><p id="a958" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">对于不同的用例，存在多种统计测试。选择哪种统计检验来使用假设检验取决于几个因素，例如样本的分布(是否正态分布(遵循正态分布))、样本大小、方差是否已知、您拥有的数据类型以及其他一些因素。基于测试遵循的概率模型/分布，每个测试都有自己的测试统计。</p><p id="4b8a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">比如说—</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi no"><img src="../Images/dd35da2633a8f19b64f631f2ddccf5e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*GNsUSq0jr4sYBViQwA5xmw.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="0a11" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">统计检验有两种类型——<strong class="lh ja">单尾和双尾</strong>。</p><p id="98ea" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">尾部的概念与<strong class="lh ja">概率分布相关。</strong></p><p id="d4d8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">概率分布是一种统计函数，其输出是实验中不同事件(可能的结果)发生的概率。</p><p id="5765" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi np"><img src="../Images/2370d5dfc84640dbb561db965bd3ddb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vP9kfSTPjIb31JJt3AWOFg.png"/></div></div></figure><p id="0d1f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">概率分布有数据和图表两种形式，但图表是理解尾部的更好方式。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nq"><img src="../Images/7192ef05c5f13ffd1a54e6dcf62deaa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S8-W00sxG5povI6sA5jbfw.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="f3f0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">分布的尾部是分布两侧曲线/图形的末端。右端称为右尾或上尾，左端称为左尾或下尾。</p><p id="6981" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">一个分布没有必要在所有情况下都有两个尾部，它可以只有一个。尾巴的数量取决于你的无效假设和替代假设。</p><p id="b914" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因此我们有单尾分布和双尾分布。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/ac6e94d9786fd5a1e5398abb0c6ff628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72KfbX3nrpeQ2mrZvyDSUQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="42f6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因此，<strong class="lh ja">单尾统计检验是指其分布只有一个尾</strong>——要么是左尾(左尾检验)，要么是右尾(右尾检验)。<strong class="lh ja">双尾统计检验是指其分布有两个尾部</strong>——左边和右边。</p><p id="fd5b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">统计检验中尾部的目的是看得到的检验统计量是在尾部之内还是之外。尾部区域被称为拒绝的<strong class="lh ja">区域</strong>——这是有意义的，因为如果测试统计落在这个区域内，则零假设被拒绝。如果它落在它之外，则接受零假设。</p><p id="7dd5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">确定尾部从哪里开始是借助于一个称为<strong class="lh ja">显著性水平的参数——alpha</strong>。它是当零假设为真时拒绝零假设的概率。alpha最常见的值是5%，即0.05。这意味着你面临着拒绝零假设的5%的风险，也就是说，当实际上没有差异时，你相信当前的情况有差异。</p><p id="1329" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">就我们的分布而言，alpha是构成拒绝区域的分布区域，因此它是尾部。因为尾部在分布的末端，我们实际上是在说，在显著性水平下，我们的检验统计量离零假设有多远，才能真正拒绝零假设。</p><p id="7f2e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因此，如果我们选择一个右尾检验，我们的显著性水平是5%，那么曲线右端分布区域的5%将是我们的拒绝区域。利用这一点，我们计算x轴上的值，该值界定了剔除区域的开始位置，这就是所谓的<strong class="lh ja">临界值</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ns"><img src="../Images/8ad903ba1bf887317513d482c9177307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*48AMCaJ7O3KV-gagtoIAQg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="bf3d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在双尾检验的情况下，我们将显著性水平除以2.5%，这将是曲线两侧每个拒绝区域的面积。那么我们将有两个临界值，拒绝区域也称为临界区域。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nt"><img src="../Images/0106f5508c1d82fcffef9ddb78496944.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AFU9O6BpkOeVGqga6rWnag.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="4de0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">单尾检验是有方向性的，因为只有一个拒绝区域</strong>。您正在寻找一个属于唯一拒绝区域的测试统计。<strong class="lh ja">双尾检验是无方向性的，因为有两个拒绝区域</strong>，如果检验统计量落入其中任何一个区域，则零假设被拒绝。</p><p id="934f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如，牙医诊所患者的样本平均年龄是18岁，这是您的零假设(因为这是当前的情景，并且您假设没有变化)。另一位牙医加入了这一行业，你认为现在患者的样本均值将大于18——这是你的另一种假设。由于“大于”，它是有方向性的——只有当样本均值大于18时，您才会拒绝零假设。如果小于18，你的零假设不会被拒绝。</p><p id="310c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果这是一个双尾检验，你的另一个假设就是患者的样本平均年龄不等于18岁。样本均值可能大于或小于18，无论哪种情况，零假设都会被拒绝，因此它是无方向性的。</p><p id="81b5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">到目前为止，我们已经有了假设，一个基于概率分布的统计测试，一个我们从中获得临界值的拒绝区域的显著性水平，以及一个落在我们分布中某处的测试统计。</p><h1 id="87af" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">但是，<strong class="ak"> p值</strong>从何而来？</h1><p id="ad54" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">如前所述，测试统计与临界值进行比较。<strong class="lh ja">p值与显著性水平进行比较。</strong></p><p id="a3f9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">p值是您获得的检验统计数据是随机的概率，这意味着零假设实际上是正确的。如果p值低于显著性水平，则它在统计上是显著的，无效假设被拒绝，因为这意味着无效假设为真的概率小于5%。如果它高于显著性水平，则不拒绝零假设。</p><p id="7908" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">根据概率分布的图形表示，p值是检验统计右侧的曲线面积。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nu"><img src="../Images/eb3f9320e06a4e396f1ac64c8784fff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Gvzce-WYiT4SsxJI-dN0g.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="4642" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">p值的一个很大的优点是，它不需要针对不同的显著性水平进行重新计算，因为它是直接可比的。在检验统计的情况下，必须将它们与临界值进行比较，临界值需要针对不同的显著性水平进行重新计算(如果剔除区域的面积发生变化，则区域起点的x轴值也将发生变化)。这就是为什么在假设检验中使用p值总是更好的原因。</p><p id="ee21" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">尽管有上述优点，p值仍然是概率性的。因此，即使无效假设是真的，也有可能被拒绝。Alpha(显著性水平)是这种情况发生的可能性。这种错误被称为<strong class="lh ja">I型错误</strong>或<strong class="lh ja">假阳性</strong>。</p><p id="ee9b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">与上述错误相反的是，即使无效假设不成立，也不拒绝它。这被称为<strong class="lh ja">类型II错误</strong>或<strong class="lh ja">假阴性</strong>。</p><p id="405c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这两个误差是反向相关的，也就是说，如果你试图减少一个，另一个就会增加。那么如何获得完美的情境呢？你不需要，你只需要决定在你的情况下哪个错误风险更小。例如，当他们实际上是阴性的时候，告诉某人他们是新冠肺炎阳性的风险较小——这是假阳性(I型错误)。假阴性是说某人没有表现出欺诈行为，而实际上他们表现出了欺诈行为。</p></div><div class="ab cl nv nw hu nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ij ik il im in"><p id="8ca6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">最后，我们对假设检验的所有构件进行了分类，因此这个过程也非常清楚。假设检验的步骤是:</p><ol class=""><li id="1cda" class="my mz iq lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">阐明你的假设</li><li id="89b5" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">选择重要程度</li><li id="709c" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">识别统计测试</li><li id="9f15" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">计算测试统计量</li><li id="3753" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">计算p值并将其与显著性水平进行比较</li><li id="0449" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">结论——拒绝或不拒绝你的无效假设</li></ol><p id="d5d2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们通过上面使用的关于看牙医的患者平均年龄的例子来完成这些步骤。我们知道平均年龄是18岁，标准差是8。让我们假设数据服从正态分布。我们认为平均年龄不是18岁，但实际上比18岁大。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/110a7d528c68342bff50a8e5798c2d34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*4XkFYKrB5AYllLxpxKNoxA.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="25d1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因为我们的替代假设有方向性，我们需要一个右尾统计检验。</p><p id="d9e6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们正在比较样本的平均年龄，因此我们可以使用z检验来确定我们的替代假设是否可能。</p><p id="e9d6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们的显著性水平是5%,我们正在进行右尾检验，因此曲线的右尾是拒绝区域。</p><p id="2f08" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们的样本数据是随机抽取的30名患者，我们计算样本的平均年龄。</p><p id="adc2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">所以我们有:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi od"><img src="../Images/fa95e388ca21313ec624971c95e125e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*RfZ-L-0IqaN8a7PSBcYhmQ.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="4ed3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在我们需要计算我们的测试统计量，在z测试的情况下是z得分。z得分的公式为</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/76c77d5964abc0124ead36783eda352c.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*WYri1z-RVnSiO_zXWRwRnQ.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="51c1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">所以我们的z值是</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi of"><img src="../Images/e9a24bcd53b9668f196569d2eac08bad.png" data-original-src="https://miro.medium.com/v2/resize:fit:426/format:webp/1*qJ9j-M8OwUI81PgDQ0um0A.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="492e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">α为0.05的正态分布的临界值为1.645。因此，我们已经可以看到，我们的测试统计大于我们的临界值，因此，我们可以拒绝零假设。但如前所述，p值是确定我们是否应该拒绝零假设的最佳方法，所以我们也来计算一下。</p><p id="8582" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在正态分布上得到值2.05的概率是0.9798。由于p值是检验统计数据右侧的区域，因此可以通过从1中减去0.9798来计算。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi og"><img src="../Images/0acbed4f93cfd213ad2669d3ad127726.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*4sDod4GRz8YhNNTxZEl5Xg.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="f0ed" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">p值0.0202小于0.05，因此我们可以拒绝零假设，并得出结论，样本均值更有可能大于18。</p><p id="f257" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们用python来实现所有这些吧！</p><p id="3134" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们将使用新冠肺炎数据集。它包含2020年初以来的区域确诊病例和死亡病例。它还包含温度、湿度、纬度和经度。</p><p id="d646" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">第一步是导入所有必需的包:</p><pre class="kp kq kr ks gt oh oi oj ok aw ol bi"><span id="66d3" class="om mc iq oi b gy on oo l op oq">import pandas as pd<br/>import statsmodels.api as sm</span></pre><p id="8a4b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们将使用熊猫来读取我们的数据和stasmodels来实际执行我们的假设检验。</p><p id="6392" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">将数据读入数据帧:</p><pre class="kp kq kr ks gt oh oi oj ok aw ol bi"><span id="fb84" class="om mc iq oi b gy on oo l op oq">covid = pd.read_csv(“Covid-19.csv”)<br/>covid = covid.drop([“Unnamed: 0”], axis=1)<br/>covid.head()</span></pre><p id="32f0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我认为温度和确诊的新冠肺炎病例数之间有关系——确诊新冠肺炎病例的地区的平均温度是否高于12度？</p><p id="8dc9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">假设检验的第一步是阐明假设。我们的会是:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi or"><img src="../Images/9e280047500b47839527e2ccae56647e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*C2PW_cuUigbd1nTfJ6R04Q.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="3ac7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">由于我们的替代假设是方向性的，我们将进行单尾统计检验(右尾检验)，即z检验。</p><p id="3f68" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">显著性水平为0.05，检验统计量为z得分，临界值为1.645。</p><p id="5f79" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">使用<a class="ae le" href="https://www.statsmodels.org/stable/index.html" rel="noopener ugc nofollow" target="_blank"> statsmodels </a> ztest方法计算测试统计量和p值非常简单。让我们将这个功能包装在我们自己的函数中，并添加alpha和p值之间的比较。</p><pre class="kp kq kr ks gt oh oi oj ok aw ol bi"><span id="9106" class="om mc iq oi b gy on oo l op oq">def hyptest(data, value, alternate, alpha):<br/>    z, p = sm.stats.ztest(data, value=value, alternative=alternate)<br/>    result = 'null hypothesis rejected!' if p &lt; alpha else 'null hypothesis not rejected'<br/>    return z, p, result</span></pre><p id="4cce" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在我们调用我们的函数—传递温度列(因为这是我们的假设中存在的变量)，数字12作为值，因为这是我们要测试的度量，以及“更大”的替代参数，因为我们的替代假设是平均值大于值。</p><pre class="kp kq kr ks gt oh oi oj ok aw ol bi"><span id="9aa8" class="om mc iq oi b gy on oo l op oq">hyptest(covid.Temperature, 12, "larger", 0.05)</span><span id="9dc4" class="om mc iq oi b gy os oo l op oq"><strong class="oi ja">(1.0033989581188794, 0.15783420330389508, 'null hypothesis not rejected')</strong></span></pre><p id="d000" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">结果分别是z得分、p值和结论。由于p值大于0.05，我们不拒绝零假设。</p><p id="a661" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这就是你如何进行假设检验！</p><p id="cc7f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">需要记住的一些关键事项是:</p><ul class=""><li id="9cb0" class="my mz iq lh b li lj ll lm lo na ls nb lw nc ma nm ne nf ng bi translated">假设检验是对总体样本进行的，因此是样本数据。(如果你想确定年龄是否会影响入院的可能性，那么“人口”就是地球上的每一个人。“样本”是从这个群体中随机选择的一些人)</li><li id="e5fc" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nm ne nf ng bi translated">假设检验的输出是概率性的，因为它是对样本而不是总体进行的。所以你永远不能完全肯定地说零假设是真的还是假的。你干脆拒绝或者不拒绝。</li><li id="0a0d" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nm ne nf ng bi translated">零假设总是被写成等式=，≤或≥</li><li id="93ed" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nm ne nf ng bi translated">备择假设总是写着≦，&lt; or &gt;</li><li id="8e4c" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nm ne nf ng bi translated">p值受样本大小的影响-如果样本大小增加，那么如果要拒绝零假设，p值将会降低。</li></ul><p id="2cec" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">请在下面的评论中告诉我你对这篇文章的想法，或者通过<a class="ae le" href="https://www.linkedin.com/in/shubhangihora/" rel="noopener ugc nofollow" target="_blank">林克丁</a>联系我，我们可以联系上！</p><p id="b58b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">原始数据取自<a class="ae le" href="https://github.com/CSSEGISandData/COVID-19" rel="noopener ugc nofollow" target="_blank">约翰·霍普斯金的GitHub库</a>，然后经过修改得到该地区的温度。用于执行测试和创建图表的代码可以在<a class="ae le" href="https://github.com/shubhangihora/python-articles" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></div></div>    
</body>
</html>