<html>
<head>
<title>5 Expert Tips to Skyrocket Your Dictionary Skills in Python 🚀</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5个专家提示，让你的Python字典技能一飞冲天🚀</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-expert-tips-to-skyrocket-your-dictionary-skills-in-python-1cf54b7d920d?source=collection_archive---------9-----------------------#2021-07-23">https://towardsdatascience.com/5-expert-tips-to-skyrocket-your-dictionary-skills-in-python-1cf54b7d920d?source=collection_archive---------9-----------------------#2021-07-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="28e8" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">获得有价值的技能</h2><div class=""/><div class=""><h2 id="c4d2" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">你觉得你懂Python的字典吗？</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/f660926415fbc873698aef30de8bf343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CrEg6Wnh1MmStHcn"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@suprunph?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Danylo Suprun </a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="1f58" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">您的旅程概述</h1><ul class=""><li id="4cde" class="ma mb it mc b md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated"><a class="ae lh" href="#caf5" rel="noopener ugc nofollow">设置舞台</a></li><li id="a282" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated"><a class="ae lh" href="#f9cd" rel="noopener ugc nofollow">快速回顾—基础知识</a></li><li id="d3e2" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated"><a class="ae lh" href="#666f" rel="noopener ugc nofollow">提示1 —使用字典进行迭代</a></li><li id="eb0d" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated"><a class="ae lh" href="#0290" rel="noopener ugc nofollow">技巧2 —自信地获取数值</a></li><li id="34ae" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated"><a class="ae lh" href="#23bc" rel="noopener ugc nofollow">提示3——词典释义</a></li><li id="132d" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated"><a class="ae lh" href="#942c" rel="noopener ugc nofollow">提示4 —使用压缩功能</a></li><li id="d992" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated"><a class="ae lh" href="#b23b" rel="noopener ugc nofollow">提示5 —字典合并</a></li><li id="9908" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated"><a class="ae lh" href="#f045" rel="noopener ugc nofollow">包装完毕</a></li></ul></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="caf5" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">搭建舞台</h1><p id="09ce" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">字典是Python中的基本数据结构之一。你用它来做<em class="nw">计数</em>、<em class="nw">分组</em>和<em class="nw">表示关系</em>。然而，并不是每个人都知道如何有效地使用字典。</p><p id="8269" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">字典使用不当往往会导致<strong class="mc jd">冗长的代码</strong>、<strong class="mc jd">缓慢的代码</strong>，甚至<strong class="mc jd">细微的bug</strong>😧</p><p id="0a09" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">当我开始使用Python时，我几乎不能从字典中访问和检索数据。但是几年后，我开始意识到掌握好词典是至关重要的。</p><p id="7c59" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">用Python核心开发者之一的话说:</p><blockquote class="oc"><p id="df69" class="od oe it bd of og oh oi oj ok ol mn dk translated">世界上有两种人:精通字典的人和十足的傻瓜。—雷蒙德·赫廷格</p></blockquote><p id="5045" class="pw-post-body-paragraph nj nk it mc b md om kd nl mf on kg nm mh oo no np mj op nr ns ml oq nu nv mn im bi translated">不要做一个傻瓜！在这篇博客中，我将向你展示5个技巧，让你的Python字典技能达到专业水平🔥</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="f9cd" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">快速回顾—基础知识</h1><p id="7c3c" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">创建词典的标准方法是使用以下语法:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="1312" class="ow lj it os b gy ox oy l oz pa"># Creating an empty dictionary<br/>empty_dict = {}</span><span id="85c6" class="ow lj it os b gy pb oy l oz pa"># Standard way to create a dictionary<br/>better_call_saul = {"Jimmy": 33, "Kim": 31, "Gus": 44}</span><span id="390e" class="ow lj it os b gy pb oy l oz pa"># Can use the dictionary constructor function<br/>better_call_saul = dict([("Jimmy", 33), ("Kim", 31), ("Gus", 44)])</span></pre><p id="2511" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">在上面的代码中:</p><ul class=""><li id="c42e" class="ma mb it mc b md nx mf ny mh pc mj pd ml pe mn mo mp mq mr bi translated">名字<code class="fe pf pg ph os b">Jimmy</code>、<code class="fe pf pg ph os b">Kim</code>和<code class="fe pf pg ph os b">Gus</code>是字典的<strong class="mc jd">键</strong>。</li><li id="dab8" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated">年龄<code class="fe pf pg ph os b">33</code>、<code class="fe pf pg ph os b">31</code>和<code class="fe pf pg ph os b">44</code>是字典的<strong class="mc jd">值</strong>。</li><li id="6652" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated">对<code class="fe pf pg ph os b">"Jimmy": 33</code>、<code class="fe pf pg ph os b">“Kim": 31</code>和<code class="fe pf pg ph os b">"Gus": 44</code>是<strong class="mc jd">键值对</strong>。</li></ul><p id="56be" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">您可以使用以下语法访问字典<code class="fe pf pg ph os b">better_call_saul</code>中的值</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="4c56" class="ow lj it os b gy ox oy l oz pa"># Getting Kim's age<br/>print(better_call_saul["Kim"])</span><span id="2ff0" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong> 31</span><span id="057a" class="ow lj it os b gy pb oy l oz pa"># Setting Jimmy's age<br/>better_call_saul["Jimmy"] = 34</span></pre><p id="2669" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">从上面的代码可以看出，字典是<strong class="mc jd">可变的</strong>。字典中的键也必须是不同的。</p><p id="eaa2" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">您可以使用字典毫不费力地添加或移除键值对:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="fc5f" class="ow lj it os b gy ox oy l oz pa"># Setting a new key-value pair<br/>better_call_saul["Jonathan"] = 54</span><span id="2f72" class="ow lj it os b gy pb oy l oz pa"># Removing the key-value pair again (sorry Jonathan!)<br/>del better_call_saul["Jonathan"]</span></pre><p id="c091" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">最后，不是每个Python对象都可以是字典中的一个键。精确的规则是对象应该是<strong class="mc jd">可散列的</strong>。请放心，任何<strong class="mc jd">不可变对象</strong>都是可散列的。关于hashable的更深入的解释，请查看博客:</p><div class="pi pj gp gr pk pl"><a href="https://betterprogramming.pub/3-essential-questions-about-hashable-in-python-33e981042bcb" rel="noopener  ugc nofollow" target="_blank"><div class="pm ab fo"><div class="pn ab po cl cj pp"><h2 class="bd jd gy z fp pq fr fs pr fu fw jc bi translated">关于Python中Hashable的3个基本问题</h2><div class="ps l"><h3 class="bd b gy z fp pq fr fs pr fu fw dk translated">从一般讨论到具体实施</h3></div><div class="pt l"><p class="bd b dl z fp pq fr fs pr fu fw dk translated">better编程. pub</p></div></div><div class="pu l"><div class="pv l pw px py pu pz lb pl"/></div></div></a></div></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="8b3b" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">技巧1 —字典迭代</h1><p id="f9de" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">您应该知道的第一件事是，从Python版本开始，字典是<strong class="mc jd">有序的:</strong></p><blockquote class="oc"><p id="aec0" class="od oe it bd of og oh oi oj ok ol mn dk translated">当你打印一个字典或者循环遍历它的元素时，你将会看到元素以它们被添加到字典中的相同顺序出现——Eric Matthes，Python速成教程</p></blockquote><h2 id="7ef3" class="ow lj it bd lk qa qb dn lo qc qd dp ls mh qe qf lu mj qg qh lw ml qi qj ly iz bi translated">遍历这些键</h2><p id="ae6f" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">要遍历字典的键，可以使用方法<code class="fe pf pg ph os b">keys()</code>:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="99a3" class="ow lj it os b gy ox oy l oz pa">better_call_saul = {"Jimmy": 33, "Kim": 31, "Gus": 44}</span><span id="5358" class="ow lj it os b gy pb oy l oz pa">for name in better_call_saul.keys():<br/>    print(name)</span><span id="a26e" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong> <br/>Jimmy<br/>Kim<br/>Gus</span></pre><p id="58cf" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">如您所见，通过使用<code class="fe pf pg ph os b">keys()</code>方法，您可以访问字典的键。但是等等！也可以这样写:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="5765" class="ow lj it os b gy ox oy l oz pa">for name in better_call_saul:<br/>    print(name)</span><span id="9910" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong> <br/>Jimmy<br/>Kim<br/>Gus</span></pre><p id="0d46" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">如果你遍历字典，那么它将默认遍历所有的键😎</p><h2 id="be51" class="ow lj it bd lk qa qk dn lo qc ql dp ls mh qm qf lu mj qn qh lw ml qo qj ly iz bi translated">遍历这些值</h2><p id="393c" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">如果您想遍历一个字典的值，那么您应该使用<code class="fe pf pg ph os b">values()</code>方法:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="42d5" class="ow lj it os b gy ox oy l oz pa">better_call_saul = {"Jimmy": 33, "Kim": 31, "Gus": 44}</span><span id="f44f" class="ow lj it os b gy pb oy l oz pa"># Calculating the total age of the characters<br/>total = 0<br/>for age in better_call_saul.values():<br/>    total += age</span><span id="7f75" class="ow lj it os b gy pb oy l oz pa">print(total)</span><span id="6834" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong><br/>108</span></pre><h2 id="2a73" class="ow lj it bd lk qa qk dn lo qc ql dp ls mh qm qf lu mj qn qh lw ml qo qj ly iz bi translated">遍历键和值</h2><p id="439c" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">如果在一次迭代中既需要键又需要值，那么应该使用<code class="fe pf pg ph os b">items()</code>方法。让我们先看看它返回了什么:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="7004" class="ow lj it os b gy ox oy l oz pa">print(better_call_saul.items())</span><span id="5127" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong><br/>dict_items([('Kim', 31), ('Gus', 44)])</span></pre><p id="0209" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">输出是一个<strong class="mc jd">字典项目</strong>对象。这种对象的功能与元组列表相同。因此，您可以使用以下语法:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="b833" class="ow lj it os b gy ox oy l oz pa">better_call_saul = {"Jimmy": 33, "Kim": 31, "Gus": 44}</span><span id="200b" class="ow lj it os b gy pb oy l oz pa">for name, age in better_call_saul.items():<br/>    print(f"{name} is {age} years old.")</span><span id="c3c0" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong><br/>Jimmy is 33 years old.<br/>Kim is 31 years old.<br/>Gus is 44 years old.</span></pre></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="5582" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">技巧2——自信地获取价值</h1><p id="d99c" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">考虑代码:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="e383" class="ow lj it os b gy ox oy l oz pa">better_call_saul = {"Jimmy": 33, "Kim": 31, "Gus": 44}</span><span id="47ff" class="ow lj it os b gy pb oy l oz pa">young_guy_age = better_call_saul["Nacho"]</span><span id="586b" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Result:</strong><br/>KeyError: 'Nacho'</span></pre><p id="5309" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">您得到一个<code class="fe pf pg ph os b">KeyError</code>，因为键<code class="fe pf pg ph os b">“Nacho”</code>在字典<code class="fe pf pg ph os b">better_call_saul</code>中不存在。哎哟😬</p><p id="d9a0" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">这实际上很现实。通常你不能完全控制字典里的内容。您字典中的数据可能来自</p><ul class=""><li id="0835" class="ma mb it mc b md nx mf ny mh pc mj pd ml pe mn mo mp mq mr bi translated">网页抓取，</li><li id="95fc" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated">一个API，</li><li id="566a" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated">或者加载数据。</li></ul><p id="d1a7" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">让你的程序这么容易崩溃会给你带来巨大的痛苦。相反，您可以使用<code class="fe pf pg ph os b">get()</code>方法:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="941e" class="ow lj it os b gy ox oy l oz pa">young_guy_age = better_call_saul.get("Nacho", "Can't find")</span><span id="fdb0" class="ow lj it os b gy pb oy l oz pa">print(young_guy_age)</span><span id="cb32" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong><br/>Can't find</span></pre><p id="9c73" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated"><code class="fe pf pg ph os b">get()</code>方法有两个参数:</p><ol class=""><li id="33d6" class="ma mb it mc b md nx mf ny mh pc mj pd ml pe mn qp mp mq mr bi translated">要为其检索相应值的键。</li><li id="17f3" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn qp mp mq mr bi translated">字典中不存在关键字时的默认值。</li></ol><p id="f918" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">如果没有给<code class="fe pf pg ph os b">get()</code>方法提供第二个参数，那么第二个参数默认为<code class="fe pf pg ph os b">None</code>。使用<code class="fe pf pg ph os b">get()</code>方法可以避免大量的键错误，从而使你的代码更加健壮。</p><blockquote class="qq qr qs"><p id="a2e5" class="nj nk nw mc b md nx kd nl mf ny kg nm qt nz no np qu oa nr ns qv ob nu nv mn im bi translated"><strong class="mc jd">提示:</strong>与<code class="fe pf pg ph os b">get()</code>相关的方法是<code class="fe pf pg ph os b">setdefault()</code>方法。这两种方法都很棒，你也应该看看<a class="ae lh" href="https://www.programiz.com/python-programming/methods/dictionary/setdefault" rel="noopener ugc nofollow" target="_blank"> setdefault </a>。</p></blockquote></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="23bc" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">技巧3——字典理解</h1><p id="1900" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">你大概知道<a class="ae lh" href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="noopener ugc nofollow" target="_blank"> <strong class="mc jd">列表理解</strong> </a>。列表理解是构建列表的一种Pythonic方式。您可以使用它们作为标准循环的强大替代:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="ddb7" class="ow lj it os b gy ox oy l oz pa"># Gives the square numbers from 0 to 9<br/>squares = []<br/>for num in range(10):<br/>    squares.append(num ** 2)</span><span id="95d3" class="ow lj it os b gy pb oy l oz pa"># List comprehensions do the same thing!<br/>squares = [num ** 2 for num in range(10)]</span></pre><p id="a03d" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">你知道Python也支持<a class="ae lh" href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="noopener ugc nofollow" target="_blank"> <strong class="mc jd">字典理解</strong> </a>吗？如果你想要一个快速建立字典的方法，那就不要再找了:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="c072" class="ow lj it os b gy ox oy l oz pa"># Manually making a squares dictionary<br/>squares = {0:0, 1:1, 2:4, 3:9, 4:16, 5:25, 6:36, 7:49, 8:64, 9:81}</span><span id="4d63" class="ow lj it os b gy pb oy l oz pa"># Dictionary comprehensions do the same thing!<br/>squares = {num: num ** 2 for num in range(10)}</span></pre><p id="a2d7" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">作为另一个例子，考虑一个名字列表:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="a4f9" class="ow lj it os b gy ox oy l oz pa">names = ["Jimmy", "Kim", "Gus"]</span></pre><p id="1ce9" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">假设您想要构建一个字典，其中:</p><ul class=""><li id="3f62" class="ma mb it mc b md nx mf ny mh pc mj pd ml pe mn mo mp mq mr bi translated">字典的关键字是列表<code class="fe pf pg ph os b">names</code>中的名字。</li><li id="8d98" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated">字典的值是名称的长度。</li></ul><p id="b568" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">你可以用字典理解在一行中做到这一点！</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="61db" class="ow lj it os b gy ox oy l oz pa">length_of_names = {name: len(name) for name in names}<br/>print(length_of_names)</span><span id="0743" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong><br/>{'Jimmy': 5, 'Kim': 3, 'Gus': 3}</span></pre></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="802d" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">技巧4——使用压缩功能</h1><p id="b395" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">一个常见的问题是有两个单独的列表，您希望将它们合并到一个字典中。例如，假设您有以下两个列表:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="c6c4" class="ow lj it os b gy ox oy l oz pa">names = ["Jimmy", "Kim", "Gus"]<br/>ages = [33, 31, 44]</span></pre><p id="3350" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">如何将<code class="fe pf pg ph os b">names</code>和<code class="fe pf pg ph os b">ages</code>组合成之前的字典<code class="fe pf pg ph os b">better_call_saul</code>？在我向您展示魔术之前，让我们先验证一个简单的方法是否有效:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="ce3d" class="ow lj it os b gy ox oy l oz pa"># The "enumerate" approach<br/>better_call_saul = {}<br/>for idx, name in enumerate(names):<br/>    better_call_saul[name] = ages[idx]</span></pre><p id="6fac" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">还不错！在这种情况下,<code class="fe pf pg ph os b">enumerate</code>功能通常很有用。</p><p id="bf82" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">然而，还有一种更巧妙的方法:将<code class="fe pf pg ph os b">zip</code>函数与<code class="fe pf pg ph os b">dict</code>构造函数一起使用！</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="b00c" class="ow lj it os b gy ox oy l oz pa"># The "zip" approach<br/>better_call_saul = dict(zip(names, ages))</span></pre><p id="076d" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">拉链功能的工作原理就像夹克上的拉链——它从头到尾将物品配对。</p><p id="a9e0" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">值<code class="fe pf pg ph os b">zip(names, ages)</code>是一个<strong class="mc jd"> zip对象</strong>，所以不那么容易理解。但是如果你把它变成一个列表，它就会变得更容易处理:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="f865" class="ow lj it os b gy ox oy l oz pa">print(list(zip(names, ages)))</span><span id="affc" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong><br/>[('Jimmy', 33), ('Kim', 31), ('Gus', 44)]</span></pre><p id="1c94" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">这看起来像是<code class="fe pf pg ph os b">dict</code>构造器能吃的东西！在使用<code class="fe pf pg ph os b">dict</code>构造函数之前，您甚至不需要将zip对象转换成列表😍</p><blockquote class="qq qr qs"><p id="622a" class="nj nk nw mc b md nx kd nl mf ny kg nm qt nz no np qu oa nr ns qv ob nu nv mn im bi translated"><strong class="mc jd">有趣的事实:</strong>“zip”方法在执行速度上明显快于“enumerate”方法。</p></blockquote></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="b23b" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">技巧5 —字典合并</h1><p id="9a82" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">有时需要<a class="ae lh" href="https://www.geeksforgeeks.org/python-merging-two-dictionaries/" rel="noopener ugc nofollow" target="_blank"> <strong class="mc jd">合并两个字典</strong> </a>。字典合并将两个字典中的元素合并成一个字典。</p><p id="e168" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">在Python中有许多方法可以进行字典合并:</p><ul class=""><li id="aa6b" class="ma mb it mc b md nx mf ny mh pc mj pd ml pe mn mo mp mq mr bi translated">我将向您展示一种使用<code class="fe pf pg ph os b">update()</code>方法进行字典合并的传统方法。</li><li id="f81e" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated">我将向您展示Python 3.9中引入的令人敬畏的<strong class="mc jd">字典合并操作符</strong>。</li></ul><h2 id="bb95" class="ow lj it bd lk qa qk dn lo qc ql dp ls mh qm qf lu mj qn qh lw ml qo qj ly iz bi translated">与更新方法合并</h2><p id="eccf" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">假设你有两本字典:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="ba6f" class="ow lj it os b gy ox oy l oz pa">better_call_saul = {"Jimmy": 33, "Kim": 31, "Gus": 44}<br/>breaking_bad = {"Walter": 46, "Jesse": 23, "Jimmy": 38}</span></pre><p id="a57d" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">如果你想合并字典，那么你可以使用<code class="fe pf pg ph os b">update()</code>方法:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="6856" class="ow lj it os b gy ox oy l oz pa"># Updates better_call_saul<br/>better_call_saul.update(breaking_bad)<br/>print(better_call_saul)</span><span id="a440" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong><br/>{'Jimmy': 38, 'Kim': 31, 'Gus': 44, 'Walter': 46, 'Jesse': 23}</span></pre><p id="f90a" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">您现在已经用来自<code class="fe pf pg ph os b">breaking_bad</code>的新信息更新了<code class="fe pf pg ph os b">better_call_saul</code>。注意键<code class="fe pf pg ph os b">“Jimmy”</code>的值是38。先前的值33已被覆盖。</p><h2 id="92a0" class="ow lj it bd lk qa qk dn lo qc ql dp ls mh qm qf lu mj qn qh lw ml qo qj ly iz bi translated">使用字典合并运算符进行合并(Python 3.9+)</h2><p id="70b3" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">在Python 3.9中引入了<strong class="mc jd">字典合并操作符</strong> <code class="fe pf pg ph os b">|</code>和<code class="fe pf pg ph os b">|=</code>。两者都简化了字典合并。如果你又有以前的字典<code class="fe pf pg ph os b">better_call_saul</code>和<code class="fe pf pg ph os b">breaking_bad</code></p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="4360" class="ow lj it os b gy ox oy l oz pa">better_call_saul = {"Jimmy": 33, "Kim": 31, "Gus": 44}<br/>breaking_bad = {"Walter": 46, "Jesse": 23, "Jimmy": 38}</span></pre><p id="7b00" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">然后你可以写:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="d2b9" class="ow lj it os b gy ox oy l oz pa">better_call_saul |= breaking_bad<br/>print(better_call_saul)</span><span id="ed55" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong><br/>{'Jimmy': 38, 'Kim': 31, 'Gus': 44, 'Walter': 46, 'Jesse': 23}</span></pre><p id="5be4" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">操作符<code class="fe pf pg ph os b">|=</code>是<strong class="mc jd">原地字典合并操作符</strong>。它就地修改字典。如果您想要一个包含合并内容的新字典，您可以使用<strong class="mc jd">字典合并操作符</strong> <code class="fe pf pg ph os b">|</code>:</p><pre class="ks kt ku kv gt or os ot ou aw ov bi"><span id="36c6" class="ow lj it os b gy ox oy l oz pa">better_call_saul = {"Jimmy": 33, "Kim": 31, "Gus": 44}<br/>breaking_bad = {"Walter": 46, "Jesse": 23, "Jimmy": 38}</span><span id="2f74" class="ow lj it os b gy pb oy l oz pa">gilligan_universe = better_call_saul | breaking_bad<br/>print(gilligan_universe)</span><span id="d9a2" class="ow lj it os b gy pb oy l oz pa"><strong class="os jd">Output:</strong><br/>{'Jimmy': 38, 'Kim': 31, 'Gus': 44, 'Walter': 46, 'Jesse': 23}</span></pre><p id="d6a9" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">如果您有两个以上的字典要合并，Python 3.9中引入的新语法非常有用。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="f045" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">包扎</h1><blockquote class="oc"><p id="dd4e" class="od oe it bd of og oh oi oj ok ol mn dk translated">你现在可以像一个懂字典的人一样昂首阔步地着手未来的项目了！</p></blockquote><figure class="qx qy qz ra rb kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qw"><img src="../Images/0396dcbd9a42f2727441befe268c65b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q5v9lssb50tjoeQC"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@nate_dumlao?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">内森·杜姆劳</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="b835" class="pw-post-body-paragraph nj nk it mc b md nx kd nl mf ny kg nm mh nz no np mj oa nr ns ml ob nu nv mn im bi translated">喜欢我写的东西？查看我的博客文章<a class="ae lh" rel="noopener" target="_blank" href="/modernize-your-sinful-python-code-with-beautiful-type-hints-4e72e98f6bf1">类型提示</a>、<a class="ae lh" rel="noopener" target="_blank" href="/tired-of-pointless-discussions-on-code-formatting-a-simple-solution-exists-af11ea442bdc">黑色格式</a>和<a class="ae lh" href="https://medium.com/geekculture/master-the-5-ways-to-use-underscores-in-python-cfcc7fa53734" rel="noopener">Python中的下划线</a>了解更多Python内容。如果你对数据科学、编程或任何介于两者之间的东西感兴趣，那么请随意在LinkedIn上加我，并向✋问好</p></div></div>    
</body>
</html>