<html>
<head>
<title>How to Avoid Cloud Bill Shock in Data Science Services</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何避免数据科学服务中的云账单冲击</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-avoid-cloud-bill-shock-in-data-science-services-e2ade5fae2a8?source=collection_archive---------28-----------------------#2021-11-18">https://towardsdatascience.com/how-to-avoid-cloud-bill-shock-in-data-science-services-e2ade5fae2a8?source=collection_archive---------28-----------------------#2021-11-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="15bc" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://pedram-ataee.medium.com/list/notes-from-industry-265207a5d024" rel="noopener">行业笔记</a></h2><div class=""/><div class=""><h2 id="a5e1" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用ngrok在不到30秒的时间内构建互联网服务器的方法</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/13490553e37ad017f6c82a0b57cda6a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vO5YDHGTjnBj38A5"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@jacobbentzinger?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">雅各布·本特辛格</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="c8ed" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">故事开始于大约一年前，当时我构建了一个名为<a class="ae lh" href="https://rapidapi.com/pedram.ataee/api/word-similarity/" rel="noopener ugc nofollow" target="_blank"> Owl </a>的单词相似度服务。我还创建了一系列REST API供社区使用这项服务。API可在<a class="ae lh" href="https://rapidapi.com/pedram.ataee/api/word-similarity/" rel="noopener ugc nofollow" target="_blank">这里</a>获得。这是我的一个爱好项目。就我想让它对数据科学社区可用而言，我不想为在云基础架构上托管它支付太多费用。在本文中，我想与您分享如何在您的本地计算机上托管数据科学服务，并在不到30秒的时间内将其公开到互联网。我没有夸大其词。如果你想了解更多关于OWL API的知识，你可以阅读下面的文章。</p><div class="me mf gp gr mg mh"><a rel="noopener follow" target="_blank" href="/how-to-compute-word-similarity-a-comparative-analysis-e9d9d3cb3080"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd jd gy z fp mm fr fs mn fu fw jc bi translated">如何计算词语相似度——比较分析</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">Owl API是一个强大的单词相似性服务，使用高级文本聚类技术和各种word2vec模型</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">towardsdatascience.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv lb mh"/></div></div></a></div></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h2 id="75c2" class="nd ne it bd nf ng nh dn ni nj nk dp nl lr nm nn no lv np nq nr lz ns nt nu iz bi translated">—远离大牌。</h2><p id="455c" class="pw-post-body-paragraph li lj it lk b ll nv kd ln lo nw kg lq lr nx lt lu lv ny lx ly lz nz mb mc md im bi translated">首先，我在谷歌云平台上部署了这项服务。我在GCP的经历比AWS更好。对不起AWS爱好者，这是我的亲身经历。与AWS相比，GCP的用户界面很友好，他们的文档也足够好。然而，GCP不是为主持爱好项目而设计的。每月的账单来了，我发现在社区项目中使用GCP是没有意义的。</p><blockquote class="oa"><p id="54b2" class="ob oc it bd od oe of og oh oi oj md dk translated">当涉及到一个爱好或者一个社区项目的时候，远离名人。他们每月的账单对你不利！</p></blockquote><h2 id="0ad5" class="nd ne it bd nf ng ok dn ni nj ol dp nl lr om nn no lv on nq nr lz oo nt nu iz bi translated">—在您能够轻松处理成本之前，不要安定下来！</h2><p id="9180" class="pw-post-body-paragraph li lj it lk b ll nv kd ln lo nw kg lq lr nx lt lu lv ny lx ly lz nz mb mc md im bi translated">我决定把我的托管服务从GCP转到OVH，一家提供各种网络服务的法国云计算公司。我使用OVH成功地将云成本削减了一半。然而，仍然有一些隐性成本让我感到惊讶，每月账单对我来说仍然没有意义。我爱上了我的单词相似度服务，我想继续努力让它变得越来越好。所以，我想让它在网上保持活力。问题是我怎样才能减少每月的账单？</p><blockquote class="oa"><p id="5485" class="ob oc it bd od oe of og oh oi oj md dk translated">如果你想让一个数据科学服务在互联网上长期存在，不要在你不能轻松管理的每月账单上结算！</p></blockquote><h2 id="5aca" class="nd ne it bd nf ng ok dn ni nj ol dp nl lr om nn no lv on nq nr lz oo nt nu iz bi translated">—将您的计算机视为一个机会！</h2><p id="2a66" class="pw-post-body-paragraph li lj it lk b ll nv kd ln lo nw kg lq lr nx lt lu lv ny lx ly lz nz mb mc md im bi translated">我决定把我的电脑变成互联网服务器。然而，我不想花太多时间来配置东西。我做了一点研究，发现了一个名为“<a class="ae lh" href="https://ngrok.com/" rel="noopener ugc nofollow" target="_blank"> ngrok </a>”的库。在他们的网站上，他们声称“<em class="op"> Ngrok通过安全隧道将防火墙后的本地服务器暴露给公共互联网。</em>“起初，我无法猜测我能快速轻松地做到这一点。但是，我决定试一试。</p><p id="3bc6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当您将本地计算机转变为互联网服务器时，您将无法获得与云基础架构相同的服务级别。您的本地计算机不时会重新启动，您的服务可能会在短时间内无法访问。然而，你无法相信使用这项技术可以节省多少钱。我最终将每月的账单从100多美元减少到了10美元！是不是很酷？</p><blockquote class="oa"><p id="9a7f" class="ob oc it bd od oe of og oh oi oj md dk translated">你无法相信使用ngrok可以节省多少钱。我把每月的托管费用减少了十分之一！</p></blockquote><h2 id="3157" class="nd ne it bd nf ng ok dn ni nj ol dp nl lr om nn no lv on nq nr lz oo nt nu iz bi translated">—我如何使用ngork构建互联网服务器？</h2><p id="7348" class="pw-post-body-paragraph li lj it lk b ll nv kd ln lo nw kg lq lr nx lt lu lv ny lx ly lz nz mb mc md im bi translated">我用了不到30秒的时间和3个步骤就把我的电脑变成了互联网服务器。我没有夸大其词！让我们假设您有一个服务在<code class="fe oq or os ot b">localhost</code>上启动并运行。您可以通过运行docker并在<code class="fe oq or os ot b">port 80</code>上公开它来确保web服务在<code class="fe oq or os ot b">localhost</code>可用。这部分我不想描述了。<strong class="lk jd">现在的问题是如何通过3步把</strong> <code class="fe oq or os ot b"><strong class="lk jd">localhost</strong></code> <strong class="lk jd">暴露在公众互联网上。</strong>这3个步骤简单如下:</p><ol class=""><li id="2a7a" class="ou ov it lk b ll lm lo lp lr ow lv ox lz oy md oz pa pb pc bi translated">下载<code class="fe oq or os ot b">ngrok.zip</code>和<code class="fe oq or os ot b">unzip /path/to/ngrok.zip</code>。</li><li id="2a00" class="ou ov it lk b ll pd lo pe lr pf lv pg lz ph md oz pa pb pc bi translated">运行<code class="fe oq or os ot b">./ngrok authtoken YOUR_OWN_TOKEN</code></li><li id="7c72" class="ou ov it lk b ll pd lo pe lr pf lv pg lz ph md oz pa pb pc bi translated">运行<code class="fe oq or os ot b">./ngrok http 80</code></li></ol><p id="6e5f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当你在他们的网站上注册时，他们会给你一个下载软件包的链接。注册他们的服务时，他们还会为您提供<code class="fe oq or os ot b">YOUR_OWN_TOKEN</code>。运行<code class="fe oq or os ot b">./ngrok http 80</code>之后，ngrok服务在<code class="fe oq or os ot b">ngrok.io</code>域上为您的项目创建一个专用的URL，看起来像下面的链接。</p><pre class="ks kt ku kv gt pi ot pj pk aw pl bi"><span id="d305" class="nd ne it ot b gy pm pn l po pp"><a class="ae lh" href="http://d9500fdc2530.ngrok.io/" rel="noopener ugc nofollow" target="_blank">http://YOUR_DEDICATED_SUBDOMAIN.ngrok.io/</a></span></pre><p id="cdac" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你的服务现在在互联网上对每个人都是可利用的。<strong class="lk jd">是不是很神奇？</strong></p><h2 id="b011" class="nd ne it bd nf ng nh dn ni nj nk dp nl lr nm nn no lv np nq nr lz ns nt nu iz bi translated">—最后的话</h2><p id="09e1" class="pw-post-body-paragraph li lj it lk b ll nv kd ln lo nw kg lq lr nx lt lu lv ny lx ly lz nz mb mc md im bi translated">正如我所说的，这种服务不如专用服务器可靠，并且与特定的云解决方案相比不可扩展。然而，让一个数据科学项目长期存活下来是如此的方便和实惠。你知道机器学习引擎有很高的计算负担。将计算和托管的成本加在一起，你可以想象使用ngrok技术将你的电脑作为互联网服务器是多么经济！</p><pre class="ks kt ku kv gt pi ot pj pk aw pl bi"><span id="98b3" class="nd ne it ot b gy pm pn l po pp"><strong class="ot jd">“Ngrok is an amazing technology!”</strong></span></pre><h1 id="2dc0" class="pq ne it bd nf pr ps pt ni pu pv pw nl ki px kj no kl py km nr ko pz kp nu qa bi translated">感谢阅读！</h1><p id="5340" class="pw-post-body-paragraph li lj it lk b ll nv kd ln lo nw kg lq lr nx lt lu lv ny lx ly lz nz mb mc md im bi translated">如果你喜欢这个帖子，想支持我…</p><ul class=""><li id="72b2" class="ou ov it lk b ll lm lo lp lr ow lv ox lz oy md qb pa pb pc bi translated"><em class="op">跟我上</em> <a class="ae lh" href="https://medium.com/@pedram-ataee" rel="noopener"> <em class="op">中</em> </a> <em class="op">！</em></li><li id="2ca5" class="ou ov it lk b ll pd lo pe lr pf lv pg lz ph md qb pa pb pc bi translated"><em class="op">在</em> <a class="ae lh" href="https://www.amazon.com/Pedram-Ataee/e/B08D6J3WNW" rel="noopener ugc nofollow" target="_blank"> <em class="op">亚马逊</em> </a> <em class="op">上查看我的书！</em></li><li id="6029" class="ou ov it lk b ll pd lo pe lr pf lv pg lz ph md qb pa pb pc bi translated"><em class="op">成为</em> <a class="ae lh" href="https://pedram-ataee.medium.com/membership" rel="noopener"> <em class="op">中的一员</em> </a> <em class="op">！</em></li><li id="9a4e" class="ou ov it lk b ll pd lo pe lr pf lv pg lz ph md qb pa pb pc bi translated"><em class="op">连接上</em><a class="ae lh" href="https://www.linkedin.com/in/pedrama/" rel="noopener ugc nofollow" target="_blank"><em class="op">Linkedin</em></a><em class="op">！</em></li><li id="6b66" class="ou ov it lk b ll pd lo pe lr pf lv pg lz ph md qb pa pb pc bi translated"><em class="op">关注我</em> <a class="ae lh" href="https://twitter.com/pedram_ataee" rel="noopener ugc nofollow" target="_blank"> <em class="op">推特</em> </a> <em class="op">！</em></li></ul><div class="me mf gp gr mg mh"><a href="https://pedram-ataee.medium.com/membership" rel="noopener follow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd jd gy z fp mm fr fs mn fu fw jc bi translated">通过我的推荐链接加入Medium—Pedram Ataee博士</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">pedram-ataee.medium.com</p></div></div><div class="mq l"><div class="qc l ms mt mu mq mv lb mh"/></div></div></a></div></div></div>    
</body>
</html>