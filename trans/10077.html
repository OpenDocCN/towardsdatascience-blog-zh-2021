<html>
<head>
<title>How to Analyze 100-Dimensional Data with UMAP in Breathtakingly Beautiful Ways</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用UMAP以惊人的美丽方式分析100维数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/beginners-guide-to-umap-for-reducing-dimensionality-and-visualizing-100-dimensional-datasets-ff5590fb17be?source=collection_archive---------3-----------------------#2021-09-23">https://towardsdatascience.com/beginners-guide-to-umap-for-reducing-dimensionality-and-visualizing-100-dimensional-datasets-ff5590fb17be?source=collection_archive---------3-----------------------#2021-09-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5044" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">降低维度并“看到”您的数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3ae4eb75130818262eef9b25191f3acf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*whWabNszg0B9EcGdkUQifw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">照片由</strong> <a class="ae kz" href="https://www.pexels.com/@arthousestudio?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ky">艺术工作室</strong> </a> <strong class="bd ky">拍摄自</strong> <a class="ae kz" href="https://www.pexels.com/photo/wood-man-people-art-4905089/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ky">像素</strong> </a></p></figure><h1 id="463f" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">介绍</h1><p id="ceaa" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">无论机器学习模型有多强大，它们都无法击败你在“啊哈！”通过丰富的视觉效果探索数据的瞬间。但是，在你说“这真的过时了”之前，你可以创建这么多直方图、散点图、热图</p><p id="c905" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">在那些时刻，你需要一些东西来提醒你数据是多么的惊人和迷人。你需要从像流动数据或相关子编辑这样的杰作视觉效果中获得灵感，但你不必走那么远。最近，我很幸运地遇到了UMAP——一个以惊人的美丽方式可视化和聚集高维数据的Python包。这正是我需要记住的，为什么我两年前开始学习数据科学。</p><p id="9216" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">今天，我们将学习如何通过使用统一流形近似和投影(UMAP)包将多维数据集投影到2D来分析多维数据集，如下所示:</p><div class="kj kk kl km gt ab cb"><figure class="mt kn mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/99b4599caf1de9139822b2530b4022c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*OMXhwgFxgwn5fLEkGrV_Pw.png"/></div></figure><figure class="mt kn mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/94a6cb75bec39465ec78980bbac7132f.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*GEeKKJET7WzzrGcWhL3H-A.png"/></div></figure><figure class="mt kn mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/bc254bfdafe0f930268e67d2bbc2df02.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*rlfn-CugxKhmZ8G7sLJQJQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk mz di na nb translated">作者图片和UMAP文档。</p></figure></div><div class="nc nd gp gr ne nf"><a href="https://ibexorigin.medium.com/membership" rel="noopener follow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">通过我的推荐链接加入Medium-BEXGBoost</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">获得独家访问我的所有⚡premium⚡内容和所有媒体没有限制。支持我的工作，给我买一个…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">ibexorigin.medium.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt ks nf"/></div></div></a></div><p id="b507" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">获得由强大的AI-Alpha信号选择和总结的最佳和最新的ML和AI论文:</p><div class="nc nd gp gr ne nf"><a href="https://alphasignal.ai/?referrer=Bex" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">阿尔法信号|机器学习的极品。艾总结的。</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">留在循环中，不用花无数时间浏览下一个突破；我们的算法识别…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">alphasignal.ai</p></div></div><div class="no l"><div class="nu l nq nr ns no nt ks nf"/></div></div></a></div></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="ad13" class="la lb it bd lc ld oc lf lg lh od lj lk jz oe ka lm kc of kd lo kf og kg lq lr bi translated">什么是UMAP？</h1><p id="1e77" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">UMAP是一种<a class="ae kz" href="https://en.wikipedia.org/wiki/Dimensionality_reduction" rel="noopener ugc nofollow" target="_blank">降维</a>算法，也是一种强大的数据分析工具。</p><p id="4bfa" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">就速度而言，它类似于PCA(主成分分析),并类似于tSNE来降低维度，同时尽可能多地保留数据集的信息。在2018年推出UMAP算法之前，PCA和tSNE有两个最显著的缺陷:</p><ol class=""><li id="1468" class="oh oi it lu b lv mo ly mp mb oj mf ok mj ol mn om on oo op bi translated">主成分分析速度非常快，但代价是减少后丢失了更精细的数据细节</li><li id="ea2b" class="oh oi it lu b lv oq ly or mb os mf ot mj ou mn om on oo op bi translated">tSNE非常慢，尽管它保留了数据的底层结构。</li></ol><p id="cb76" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">我们将在后面详细讨论这些差异。现在，是时候领略一下UMAP的风采了，我们将立即从一个具有挑战性的数据集开始:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ox"><img src="../Images/5761df19ead10115d6cef22687789744.png" data-original-src="https://miro.medium.com/v2/format:webp/1*PFMsgtcGKd_JyvHoAcZHjQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为Kaggle TPS九月竞赛生成的合成数据。</p></figure><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="b8d0" class="pd lb it oz b gy pe pf l pg ph">&gt;&gt;&gt; tps.shape</span><span id="98e4" class="pd lb it oz b gy pi pf l pg ph">(957919, 119)</span></pre><p id="bfcb" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">Kaggle TPS九月数据集包含约100万行和约120个要素，目标为二进制。它们都是数值型的，我们对在这个数据集上执行适当的EDA很无能为力。我们的选项仅限于打印汇总统计数据和绘制每个特性的直方图。</p><p id="5d7a" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">让我们看看UMAP能为我们做些什么。在使用它之前，我们将对数据集进行采样以避免过度绘制，并填充缺失的值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure><p id="f041" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">这里，目标表示客户是否要求他们的保险。</p><p id="1d28" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">在<a class="ae kz" href="https://umap-learn.readthedocs.io/en/latest/#:~:text=install%20umap-learn-,User%20Guide%20/%20Tutorial%3A,-How%20to%20Use" rel="noopener ugc nofollow" target="_blank">安装</a>并导入UMAP后，我们初始化流形算法，并以熟悉的Sklearn <code class="fe pj pk pl oz b">fit/transform</code>模式将其拟合到<code class="fe pj pk pl oz b">X</code>、<code class="fe pj pk pl oz b">y</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="e46b" class="pd lb it oz b gy pe pf l pg ph">&gt;&gt;&gt; X_reduced.shape</span><span id="3f55" class="pd lb it oz b gy pi pf l pg ph">(100000, 2)</span></pre><p id="fe25" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">默认情况下，UMAP将数据投影到两个部分(2D)。让我们创建一个由目标类着色的散点图:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="0e12" class="pd lb it oz b gy pe pf l pg ph">&gt;&gt;&gt; plt.scatter(X_reduced[:, 0], X_reduced[:, 1], c=y, s=0.5);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ox"><img src="../Images/1631ff7e7e886fe0c110e4b7c99653c8.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-2L5WUNwZ3uUOQjCUVRvjA.png"/></div></figure><p id="eea3" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">尽管看起来很有趣，但情节并没有显示出任何清晰的模式。这是因为我们在拟合UMAP之前没有缩放特征。该算法使用距离度量对相似的数据点进行分组，并且具有较高比例的要素会对此类计算产生偏差。</p><p id="7a8b" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">因此，我们将选择分位数转换器来根据分位数和中位数缩放要素。这种缩放方法更适合数据集，因为它包含许多倾斜和双峰特征:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="2076" class="pd lb it oz b gy pe pf l pg ph"># Plot the results<br/>plt.scatter(X_reduced_2[:, 0], X_reduced_2[:, 1], c=y, s=0.5);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ox"><img src="../Images/547427488b4c6530ec5906b719305085.png" data-original-src="https://miro.medium.com/v2/format:webp/1*usCZ9LZU76vkd_F7M6c-wQ.png"/></div></figure><p id="dd98" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">现在，我们正在谈话！UMAP设法完美地捕捉到了目标阶层之间隐藏的区别。我们还可以看到一些异常值(黄色斑点周围的点)。数据集毕竟没有那么有挑战性。</p><p id="c2b8" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">但是，这个情节和我给你看的一点也不接近。在每一个集群中看到结构模式仍然是多余的。为了更上一层楼，我们将使用默认的UMAP可视化软件包和更多的功能。我们需要一个更好的数据集。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="c3e6" class="la lb it bd lc ld oc lf lg lh od lj lk jz oe ka lm kc of kd lo kf og kg lq lr bi translated">与UMAP更好的可视化</h1><p id="782c" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">本节将分析Kaggle TPS月份的竞争数据，这些数据根据大约75个数字质量对大约20万个电子商务列表进行了分类。让我们导入它并快速浏览一下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ox"><img src="../Images/2d80075252a6a70dbad05479890a2951.png" data-original-src="https://miro.medium.com/v2/format:webp/1*fXpD_A1s3xADx6NFE_kTEQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为Kaggle TPS九月竞赛生成的合成数据。</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure><p id="6a97" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">目标包含九个类。</p><p id="2236" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">和以前一样，我们将扩展所有功能，但这次是通过简单的对数转换。然后，我们拟合UMAP流形:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure><p id="74c4" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">拟合完成后，我们将导入<code class="fe pj pk pl oz b">umap.plot</code>包(单独安装)并绘制一个点云:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ox"><img src="../Images/dbeacb07d2ed2d9fe448fd21e72eb63c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*fDgxhHBEAC3qcS79_mq2Xw.png"/></div></figure><p id="01f6" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">它不像太空中的星云吗？我们可以清楚地看到，8类主宰了空间，并聚集在中心。第6类也与其他类明显不同。我们看到半个圆形的混合数据点围绕着第8类。关于单个数据点，它们可以被归类为异常值。</p><blockquote class="pm pn po"><p id="b08d" class="ls lt pp lu b lv mo ju lx ly mp jx ma pq mq md me pr mr mh mi ps ms ml mm mn im bi translated">上面关于可视化的一个注意事项——我们只是传递拟合的流形(不是转换的数据！)到<code class="fe pj pk pl oz b">points</code>函数，并指定颜色编码的标签。我也选择了<code class="fe pj pk pl oz b">fire</code>作为黑暗主题。</p></blockquote><p id="24e1" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">您也可以使用<code class="fe pj pk pl oz b">umap.plot.connectivity</code>创建连接图，用于诊断目的，并更好地理解歧管结构。请注意，创建这些图非常耗时，而且计算/内存负担很重。</p><div class="kj kk kl km gt ab cb"><figure class="mt kn pt mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/a8b3802f3864fdbb475650907456dfb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*OMXhwgFxgwn5fLEkGrV_Pw.png"/></div></figure><figure class="mt kn pt mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/2a16870233ec8d39d10397595ff77bc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*rlfn-CugxKhmZ8G7sLJQJQ.png"/></div></figure></div><p id="00f4" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">您可以从文档的本节中了解更多关于UMAP可视化的信息。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="5c57" class="la lb it bd lc ld oc lf lg lh od lj lk jz oe ka lm kc of kd lo kf og kg lq lr bi translated">UMAP的最基本参数</h1><p id="8d41" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">潜在的减少算法具有许多参数，这些参数可以显著地影响流形，从而影响视觉效果。四个最重要的是:</p><ul class=""><li id="aca7" class="oh oi it lu b lv mo ly mp mb oj mf ok mj ol mn pu on oo op bi translated"><code class="fe pj pk pl oz b">n_components</code></li><li id="a47c" class="oh oi it lu b lv oq ly or mb os mf ot mj ou mn pu on oo op bi translated"><code class="fe pj pk pl oz b">n_neighbors</code></li><li id="b73b" class="oh oi it lu b lv oq ly or mb os mf ot mj ou mn pu on oo op bi translated"><code class="fe pj pk pl oz b">min_dist</code></li><li id="0c40" class="oh oi it lu b lv oq ly or mb os mf ot mj ou mn pu on oo op bi translated"><code class="fe pj pk pl oz b">metric</code></li></ul><p id="bf12" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">正如你可能已经猜到的，<code class="fe pj pk pl oz b">n_components</code>控制投影后的维数。为了便于可视化，默认值为2。但是，对于包含100个以上要素的数据集，2D可能不足以完全保留数据的基础拓扑结构。我建议以5为步长尝试2-20之间的值，并评估不同的基线模型，以查看准确性的变化。</p><p id="4973" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">接下来，我们有<code class="fe pj pk pl oz b">n_neighbors</code>。它控制着UMAP在构建流形时为每个样本寻找的局部邻域的面积。较小的值将关注点缩小到局部结构，考虑到特性和小模式，可能会丢失大的图片。</p><p id="09f2" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated"><code class="fe pj pk pl oz b">n_neighbors</code>的值越大，灵活性越大，允许UMAP关注相应维度的数据的更广泛“视图”。当然，这是以失去结构的细节为代价的。该参数的默认值为15。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ox"><img src="../Images/531953438968a44c97159d853c142fba.png" data-original-src="https://miro.medium.com/v2/format:webp/1*cs8xoO7cHzX-QDH1tfWTSw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将具有不同n _邻域的UMAP流形拟合到TPS六月数据的样本</p></figure><p id="0802" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">另一个关键参数是<code class="fe pj pk pl oz b">min_dist</code>，它控制数据点之间的文字距离。您可以调整默认值0.1来控制不同点云的紧密度。较低的值将导致更密集的嵌入，使您更容易看到单个簇。这在聚类过程中可能很有用。相比之下，接近1的值给点更多的喘息空间，并使您能够看到更广泛的拓扑结构。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ox"><img src="../Images/806f1d625341cc3adf740567acf4a98b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*DmFUOHIU5WoWbDt5mWEIGQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用不同的最小距离拟合UMAP流形</p></figure><p id="d054" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated"><code class="fe pj pk pl oz b">metric</code>表示计算点与点之间距离的公式。默认是<code class="fe pj pk pl oz b">euclidean</code>，但是你可以在很多其他选项中选择，包括<code class="fe pj pk pl oz b">manhattan</code>、<code class="fe pj pk pl oz b">minkowski</code>和<code class="fe pj pk pl oz b">chebyshev</code>。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="1a3c" class="la lb it bd lc ld oc lf lg lh od lj lk jz oe ka lm kc of kd lo kf og kg lq lr bi translated">使用UMAP的最佳实践</h1><p id="2cd4" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">使用UMAP时首先要考虑的是RAM消耗。在引擎盖下，UMAP消耗了大量的内存，尤其是在拟合和创建像连通性图这样的图表时。我建议在至少有16GB内存的机器上运行UMAP。</p><p id="b374" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">例如，在创建连通性图时，即使绘图部分中的200k行数据集也消耗了约18GB的RAM。文档建议将<code class="fe pj pk pl oz b">low_memory</code>设置为True作为一种可能的解决方案。此外，我建议通过使用NumPy将每一列转换为尽可能小的子类型来减少数据集的内存使用。我在以前的一篇文章中详细讨论了如何处理内存不足的问题:</p><div class="nc nd gp gr ne nf"><a rel="noopener follow" target="_blank" href="/how-to-work-with-million-row-datasets-like-a-pro-76fb5c381cdd"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">如何像专家一样处理百万行数据集</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">编辑描述</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">towardsdatascience.com</p></div></div><div class="no l"><div class="pv l nq nr ns no nt ks nf"/></div></div></a></div><p id="67f9" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">此外，不要忘记变换/缩放数字要素，因为默认情况下它们往往具有不同的比例。我建议将QuantileTransformer用于双峰、三峰等疯狂分布。PowerTransformer最适合倾斜的特征。无论您选择哪种转换器，目标始终是使特性尽可能呈正态分布。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="4fa1" class="la lb it bd lc ld oc lf lg lh od lj lk jz oe ka lm kc of kd lo kf og kg lq lr bi translated">摘要</h1><p id="3962" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">今天，我们已经介绍了UMAP的基本知识，并且只了解了它的一小部分功能。对于进一步的阅读，我建议查看软件包的文档。在那里，你会看到UMAP的不同用例，以及它是如何被谷歌这样的科技巨头用在各种项目中的。</p><p id="b9db" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">也有专门的部分比较UMAP与其他维数约简算法。对于一个数学爱好者来说，你也可以阅读UMAP是如何工作的，以及它的公式证明。感谢您的阅读！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pw"><img src="../Images/f91b8a21f12d3c3b7d428e0f8d5f48be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*KeMS7gxVGsgx8KC36rSTcg.gif"/></div></div></figure><h1 id="fda9" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">您可能也会对…感兴趣</h1><div class="nc nd gp gr ne nf"><a rel="noopener follow" target="_blank" href="/process-10m-row-datasets-in-milliseconds-in-this-comprehensive-pandas-speed-guide-5a3125cbb78"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">在这本全面的《熊猫速度指南》中，在几毫秒内处理约1000万行数据集</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">按照预期的方式使用熊猫…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">towardsdatascience.com</p></div></div><div class="no l"><div class="px l nq nr ns no nt ks nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a rel="noopener follow" target="_blank" href="/how-to-write-powerful-code-others-admire-with-custom-sklearn-transformers-34bc9087fdd"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">如何用自定义Sklearn变形金刚写出别人佩服的强大代码</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">在Sklearn做好每一件事，大家都会开心</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">towardsdatascience.com</p></div></div><div class="no l"><div class="py l nq nr ns no nt ks nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a rel="noopener follow" target="_blank" href="/kagglers-guide-to-lightgbm-hyperparameter-tuning-with-optuna-in-2021-ed048d9838b5"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">2021年使用Optuna调整LightGBM超参数的Kaggler指南</h2><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">towardsdatascience.com</p></div></div><div class="no l"><div class="pz l nq nr ns no nt ks nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a rel="noopener follow" target="_blank" href="/how-to-beat-the-heck-out-of-xgboost-with-lightgbm-comprehensive-tutorial-5eba52195997"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">你错过了LightGBM。它在各个方面都击败了XGBoost</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">再也不会了，XGBoost，再也不会了</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">towardsdatascience.com</p></div></div><div class="no l"><div class="qa l nq nr ns no nt ks nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a rel="noopener follow" target="_blank" href="/tired-of-cliché-datasets-here-are-18-awesome-alternatives-from-all-domains-196913161ec9"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">厌倦了陈词滥调的数据集？以下是来自所有领域的18个令人敬畏的选择</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">从微生物学到体育的独特数据集！</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">towardsdatascience.com</p></div></div><div class="no l"><div class="qb l nq nr ns no nt ks nf"/></div></div></a></div></div></div>    
</body>
</html>