<html>
<head>
<title>How to add interactive model explainability in less than 5 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在不到5分钟的时间内增加交互式模型的可解释性</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-add-interactive-model-explainability-in-less-than-5-minutes-af4f3379f30f?source=collection_archive---------29-----------------------#2021-08-08">https://towardsdatascience.com/how-to-add-interactive-model-explainability-in-less-than-5-minutes-af4f3379f30f?source=collection_archive---------29-----------------------#2021-08-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ba88" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让shapash python包为您完成这项工作</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/eb53773065889eb3dea688e9c0f910e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*dw60mjiJrXXg1Oq__6Altw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者gif</p></figure><h2 id="824b" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">不要在没有准备好的情况下参加下一次演示</h2><p id="eca7" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">理解你的模型在做什么是非常重要的。评估模型的信息越多，对模型的调整就越好。即使你对算法的内部运作有深刻的理解，你的商业伙伴也不了解。你需要能够生动有趣地展示你的发现。</p><p id="97a0" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">有时，业务合作伙伴有更多的主题专业知识，可能有助于提供特性上下文。如果他们真的理解你传达的内容，他们可以帮助你进一步调整模型。</p><p id="5f96" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">我听到的最常见的问题之一是，“什么数据进入模型？”哪个翻译成"<em class="ms">哪个特性最重要？</em>”。你需要准备好以他们能理解的方式回答这个问题。Shapash提供了一些有趣的输出，可能有助于您通知您的受众。</p><h2 id="1847" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">为什么要尝试shapash？</h2><p id="4e9a" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">我总是在寻找有趣的包来用于我的日常工作，我遇到了shapash。如果你了解我，你知道我不喜欢争论。该软件包必须易于使用，否则它没有机会快速验证概念。仅仅几行代码就为您的模型脚本增加了交互式和类似报告的可解释性。</p><p id="5d6b" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">我认为这是完全值得你花时间去看看这个包和它的产品。设置很简单(记住，我不太喜欢麻烦)。我在下面详述了这些步骤。</p><h2 id="eb36" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">装置</h2><p id="6539" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">一如既往，建议您创建一个新的虚拟环境。我在下面的参考资料部分包含了安装过程的链接。对于这个例子，我使用的是Jupyter，所以我只需要安装ipywidgets(并启用)和shapash。</p><h2 id="16a1" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">添加这个简单的代码块。</strong></h2><p id="df0f" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">在训练完模型(在本例中为“回归器”)之后，添加一个简单的代码块来编译和执行SmartExplainer。本文后面附有完整的示例代码。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="e02d" class="ky kz it mu b gy my mz l na nb">from shapash.explainer.smart_explainer import SmartExplainer<br/># shapash Step 1: Declare SmartExplainer Object<br/>xpl = SmartExplainer()</span><span id="447c" class="ky kz it mu b gy nc mz l na nb"># shapash Step 2: Compile Model, Dataset, Encoders<br/>xpl.compile(    x=Xtest,    <br/>                model=regressor,    <br/>                preprocessing=encoder, #optional<br/>                y_pred=y_pred) </span><span id="5618" class="ky kz it mu b gy nc mz l na nb"># shapash Step 3: Display interactive output<br/>app = xpl.run_app()</span></pre><h2 id="c29a" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">运行代码</strong></h2><p id="ac22" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">您应该从数据获取、特征工程和模型训练到模型评分来运行您的代码。接下来，当您执行run_app()时，将显示一个应用程序链接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/76fb0524e2b45941a2eb97c1266bf5e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HqMESiDSoooJrT91Jc2-ng.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="5dd5" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">只需单击该链接，打开一个带有您的输出的浏览器窗口。您将能够浏览各种可视化效果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/642a7dc10ef7006656ea1af19bd6229b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aimgWBTc7xMjI6QMitd-JQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">shapash app —作者gif</p></figure><h2 id="d093" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">奖励—生成HTML报告的代码片段</h2><p id="02bf" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">当您想要与同事共享发现时，您可以生成HTML报告来共享。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="8681" class="ky kz it mu b gy my mz l na nb"># Step 4: Generate the Shapash Report<br/>xpl.generate_report(<br/>        output_file='medium_spending_scores_report2.html',<br/>        project_info_file='shapash_project_info.yml',<br/>        x_train=Xtrain,<br/>        y_train=ytrain,<br/>        y_test=ytest,<br/>        title_story="Spending Scores Report",<br/>        title_description="""This is just an easy sample.<br/>            It was generated using the Shapash library.""",<br/>        metrics=[<br/>            {<br/>                'path': 'sklearn.metrics.mean_absolute_error',<br/>                'name': 'Mean absolute error',<br/>            }])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e83ba56b23af34625c95b91f615f34fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_sJFxQm0LtfYMD1PAmLEng.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">HTML报告——非常好。作者gif</p></figure><h2 id="f045" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">完整示例代码</strong></h2><p id="5257" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">Jupyter笔记本和文件:</p><div class="ne nf gp gr ng nh"><a href="https://github.com/dmoyer22/simple_shapash_example" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd iu gy z fp nm fr fs nn fu fw is bi translated">GitHub-dmoyer 22/Simple _ shapash _ example:交互式模型可解释性的简单示例，使用…</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">使用shapash-GitHub-dmoyer 22/Simple _ shapash _ example的交互式模型可解释性的简单示例:简单…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">github.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv ks nh"/></div></div></a></div><p id="4d8b" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">。py版本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><h2 id="ae74" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">参考文献</strong></h2><div class="ne nf gp gr ng nh"><a href="https://github.com/MAIF/shapash" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd iu gy z fp nm fr fs nn fu fw is bi translated">GitHub-MAIF/沙帕什:🔅Shapash使机器学习模型变得透明和可理解，通过…</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">版本新功能描述教程1.4.x功能组演示您现在可以重新组合具有相同功能的功能…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">github.com</p></div></div><div class="nq l"><div class="ny l ns nt nu nq nv ks nh"/></div></div></a></div><div class="ne nf gp gr ng nh"><a href="https://shapash.readthedocs.io/en/latest/installation-instructions/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd iu gy z fp nm fr fs nn fu fw is bi translated">安装说明- Shapash 1.4.4文件</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">大多数时候，安装ipywidgets会自动配置Jupyter Notebook使用小部件。ipywidgets…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">shapash.readthedocs.io</p></div></div><div class="nq l"><div class="nz l ns nt nu nq nv ks nh"/></div></div></a></div><h2 id="37f5" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">结论</h2><p id="1104" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">我认为shapash在模型可解释性工具箱中有一席之地。如果你不能向非技术同事解释你的工作，你的结果可能会被忽视。没有人希望这种情况发生。</p><p id="aca0" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">我看到的在工作场所推进其数据科学职业生涯的人，是那些演讲精彩并直接面向特定受众的人。所以，照吧！</p></div></div>    
</body>
</html>