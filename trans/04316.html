<html>
<head>
<title>Numpy for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学者的Numpy</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/numpy-for-beginners-ba9ca0bba441?source=collection_archive---------25-----------------------#2021-04-12">https://towardsdatascience.com/numpy-for-beginners-ba9ca0bba441?source=collection_archive---------25-----------------------#2021-04-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0b2c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">承载你的数据科学项目的沉默巨人</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2e6fb263f8c94266c0e90796da6f1dc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Jh4f-U1ospzoafty"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Geran de Klerk 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="3538" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">到目前为止，我们已经大致了解了<a class="ae kv" href="https://medium.com/geekculture/how-to-start-coding-with-python-aa84534305d9" rel="noopener"> Python编程</a>，哪些<a class="ae kv" href="https://medium.com/geekculture/python-operators-certainly-not-very-interesting-but-very-important-dac777c21c59" rel="noopener">操作符何时使用</a>和<a class="ae kv" rel="noopener" target="_blank" href="/python-for-beginners-control-flow-b086713ba6bf">如何简化可重复的任务或者使用控制流</a>做出决策。因为在水文学(&amp;气象学)中，我们主要与大量数字打交道，所以我们需要进一步研究可以帮助我们处理大量数字的工具。因此，本文涵盖了数据科学界非常流行的库Numpy。</p><p id="3343" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这篇文章的结构如下:</p><ul class=""><li id="c48a" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">介绍</li><li id="c3a8" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">创建数组</li><li id="8615" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">塑造和重塑</li><li id="b37e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">访问元素和分割数组</li><li id="b34a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">Numpy的数学和统计</li><li id="4afa" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">额外内容Numpy的速度优势</li><li id="4d22" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">结论</li></ul><p id="6656" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">享受学习的乐趣！</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="08ce" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">介绍</h1><p id="4463" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">为什么要用Numpy？打印时，整数或浮点数的Python列表看起来与<strong class="ky ir"> Numpy数组</strong>完全一样。两者都可以对一堆数字进行数学运算，两者都可以进行统计计算和比较……所以你可能认为Numpy只是一个数学库，具有与列表相似的功能，但真的是这样吗？让我解释一下…</p><p id="00f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Numpy数组中的数据是同质类型的，这意味着数组中的所有数据都是同一类型，而列表只是指向对象的指针，即使所有数据都是同一类型。因此，Numpy数组使用的内存比常规列表少得多。此外，大多数Numpy操作都是用C语言实现的，这意味着避免了Python循环和数据类型动态检查的开销。与Python列表相比，这显著提高了处理速度。</p><p id="90db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们经常会遇到包含数万行数据的大型数据集，只要想想某个国家或地区的每小时气温测量值就知道了，因为测量是从该地区开始的。如果你的气象服务正在测量过去50年的每小时气温，那么仅仅一个气象站就有超过400 000行的数据。</p><h2 id="1e68" class="nk mo iq bd mp nl nm dn mt nn no dp mx lf np nq mz lj nr ns nb ln nt nu nd nv bi translated">如何安装Numpy？</h2><p id="70c7" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">如果使用Anaconda，Numpy是预安装在基础环境中的。然而，通常情况下，为新项目创建新环境是一个好的实践。要安装Numpy，我们运行Anaconda提示符并键入:</p><blockquote class="nw nx ny"><p id="2b0a" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated">康达安装数量</p></blockquote><p id="8169" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者</p><blockquote class="nw nx ny"><p id="a488" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated">conda install -c蟒蛇numpy</p></blockquote><p id="90a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果正在使用pip，可以通过键入以下命令来安装Numpy:</p><blockquote class="nw nx ny"><p id="fb9a" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated">pip安装数量</p></blockquote><h2 id="0f69" class="nk mo iq bd mp nl nm dn mt nn no dp mx lf np nq mz lj nr ns nb ln nt nu nd nv bi translated">如何导入Numpy？</h2><p id="4a13" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">当导入包括Numpy在内的某些库时，我们遵循一个约定，基本上这意味着我们对库使用公认的缩写。在Numpy的情况下，我们使用“<strong class="ky ir"> np </strong>”。</p><blockquote class="nw nx ny"><p id="492e" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated">将numpy作为np导入</p></blockquote><p id="2134" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">目标是我们的代码是可复制的，并且世界上的每个Python程序员都知道下面这行代码的作用:</p><blockquote class="nw nx ny"><p id="398a" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated">a = np.array([3，4])</p></blockquote><p id="b167" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">恭喜你，如果你已经导入了Numpy，并且使用了上面的命令，你已经成功地创建了你的第一个<strong class="ky ir"> Numpy数组</strong>。让我们看看如果把它打印出来会发生什么。打印给我们一些看起来像列表的东西，但它不是。当我们检查类型时，我们看到这是一个"<strong class="ky ir"> numpy.ndarray </strong> " ( <em class="nz"> n维数组</em>)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/68781eab55dee5e5e62a1c85b5378cdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:544/format:webp/1*5oLKmR9Cu4sgzZk_XtB4dw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h2 id="4d9a" class="nk mo iq bd mp nl nm dn mt nn no dp mx lf np nq mz lj nr ns nb ln nt nu nd nv bi translated">向量？</h2><p id="4bcf" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在这个例子中，我们看到了如何创建一维数组。如果你还记得数学中的向量，一维Numpy数组基本上是一个向量。由于我们给出了两个数字，3和4，这个向量位于2维空间(几何平面)。这和数学中有一个矢量是一样的。</p><blockquote class="oe"><p id="1221" class="of og iq bd oh oi oj ok ol om on lr dk translated">v= 3i + 4j</p></blockquote><figure class="op oq or os ot kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/2ecbc6cd439515725846751f0fcc0958.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/format:webp/1*NyTQQdr-1M67KCo7S2gXwg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">摘自:<a class="ae kv" href="https://en.wikiversity.org/" rel="noopener ugc nofollow" target="_blank">https://en.wikiversity.org/</a></p></figure><p id="b396" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在计算机科学中，向量只是列表，其中列表的长度(在我们的例子中是2)是向量的维数。在数据科学术语中，向量代表一个或多个对象的特征。想想周一的气象测量，你可以测量气温、降雨量、风速、积雪深度等。要了解更多关于矢量的知识，我强烈推荐3Blue1Brown的视频。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="e321" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">创建数组</h1><p id="5979" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">上面我们已经看到了如何在Numpy中创建一个简单的一维数组。通常，我们的数据来自更多的维度，我们有多个特征(如上)，但也有一周中多天的测量。在这种情况下，我们需要向数组中添加第二个维度。让我们来看一些二维数组。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/91d84e91a7bb276cc4fdca2b80b6a01b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*SkmgfIEbW-sTfP_SB3Qirg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="ffcd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了创建一个二维数组，我们提供了一个包含两个列表的列表。将该数组视为周一(第一行)和周二(第二行/列表)的测量值，其中第一列是气温，第二列是降水量，第三列是风速，第四列是积雪深度。excel截图应该把事情说清楚了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/486eafeca731d9c2e0a9477600da6198.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*aI-D6lvy2Y42odJtkLmZNg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="e2b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Numpy还提供了一些有用的函数来创建0或1的数组。自己尝试以下命令，并打印出结果。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="51ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了演示如何获得新创建的数组的维数，我将使用<strong class="ky ir"> np.ones </strong>函数和<strong class="ky ir"> ndim </strong>属性。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="dc92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的数组是四维的，但是四维数组是什么样子的呢？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/04499f3a06b30e9b40bd187cab8b4716.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*pX_jtmU8Cx1nbDPiQXXrZQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="8dd2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们仔细观察，我们可以确定维数，如果我们计算数组开头或结尾的方括号，这也是一个方便的方法🙂</p><p id="f148" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一个有用的方法是<strong class="ky ir"> arange </strong>。它用于获得均匀间隔的数组。我们需要指定<strong class="ky ir">结束号</strong> ( <strong class="ky ir"> int </strong>或<strong class="ky ir"> float </strong>)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="c549" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Numpy然后假设起点是零。我们还可以提供<strong class="ky ir">起点</strong>和<strong class="ky ir">终点</strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="2e2e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并且，我们可以指定<strong class="ky ir">步骤</strong>如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="151e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">类似地，使用方法<strong class="ky ir"> linspace </strong>我们可以创建一个数组，但是代替步骤的是，<strong class="ky ir"> linspace </strong>获取数组中元素的数量。在这里，我们创建了一个包含7到12个元素的数组。同样，与<strong class="ky ir"> np.arange </strong>和大多数Python方法相反，这里的最后一个数字(结束数字)是包括在内的<strong class="ky ir">。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="6faf" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">塑造和重塑</h1><p id="e8c9" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">之前，我们检查了我们的<em class="nz">one</em>数组有多少个维度(或轴)。但是如果我们对每个维度中有多少元素感兴趣呢？shape属性就派上用场了。因为我们有4个维度，所以我们得到4个数元组。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/7f031771076a30719bfe77e972a77e7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/1*psxPbdNneTINmBHzrEeL2A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="b394" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了计算整个数组中元素的数量，我们使用了size属性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/64664f0656c2fcc2ccafcec4d7646cfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:308/format:webp/1*-fqYPBWav2D2XeL20_4E9A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="2c22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了改变数组的形状，我们使用。shape()方法。不过要小心，新整形的数组必须和旧的一样大。让我解释一下..</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/33c09205cd7a5e3eb03c93a08c125b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*82naXYq3NLOLMmKENU-y4g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="99d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最初的零数组具有(2，3)的形状，我们可以将其整形为(3，2)、(6，1)或(1，6)，因为它的大小为6个元素。我要提到的是，在将它重新整形为(6，1)或(1，6)的情况下，我们将维数从二维数组更改为一维数组，但是只要我们注意数组的大小，我们就是安全的。</p><p id="5984" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一维数组的一个便捷“捷径”是<strong class="ky ir"> flatten() </strong>和<strong class="ky ir"> ravel() </strong>方法。不同之处在于<strong class="ky ir"> flatten </strong>创建原始数组的一维副本，而<strong class="ky ir"> ravel </strong>创建对原始数组的引用。因此，使用ravel()的结果是改变了新创建的数组中的一些数据，同时也改变了原始数组中的数据。</p><p id="5ee4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用法取决于具体的任务，大多数时候我使用的是<strong class="ky ir"> flatten() </strong>方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/07af609557ed20589690e442cebd503a.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*3j3t_ZSuk9XGLj-ZXyWZkQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="737c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后但同样重要的是，我们不要忘记transpose()方法。这个方法只是交换数组的行和列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/155797050f2b19d8f8df22e2c5c7e155.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*G2Bw4CzbEpekjhjoObuyxw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="0548" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，结果与之前的整形相同。在多维数组的情况下，所有的维度都被交换，让我们看看。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/a2f1527264804782111841a5ed2333bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:622/format:webp/1*GrxDhJvyTELieZIGqz5O_g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="5af8" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">访问元素和分割数组</h1><p id="69bc" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">到目前为止，我们已经了解了如何创建、寻找比例以及重塑或展平数组。现在让我们把注意力转向使用<strong class="ky ir">索引</strong>和<strong class="ky ir">切片</strong>从数组中提取数据。对数组进行<strong class="ky ir">切片</strong>意味着通过提供想要的元素<strong class="ky ir">索引</strong>来访问它的元素。</p><p id="915f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">切片的默认语法包括数组名和方括号，就像Python列表一样，如下所示:</p><blockquote class="nw nx ny"><p id="cebe" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated">数组名称[开始索引:结束索引:步长大小]</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/f02472083a8e2babf3dcbef38ba3fbb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*Pm7TRPIy2HAXlk4u5QdJiA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="c338" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的阵列中，温度测量从1:00开始。为了说明问题，我们打印出了12:00、14:00、16:00、18:00和20:00的每小时温度。</p><p id="9086" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们不定义步长，指定范围内的每个元素都会被返回。例如，如果我们需要从7:00到12:00的每小时温度。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/ffefc22e1f2d1de14b208ad77ce66562.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*1oWnCD3p1sZCXICF8RP0Cg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="2760" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在列表中通常如此，在Numpy中也是如此，start_index包含在内，而end_index不包含在内。此外，数组中的第一个索引始终为零。因此，为了访问7:00的温度，我们输入第6个索引。由于我们需要测量到12(在第11个索引处)，我们提供了第12个索引(不包括)。</p><h2 id="b2bd" class="nk mo iq bd mp nl nm dn mt nn no dp mx lf np nq mz lj nr ns nb ln nt nu nd nv bi translated">分割二维数组</h2><p id="8f03" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">当分割一个二维数组时，我们需要指定我们想要的元素的行和列。一开始可能有点棘手，但是当在几个例子中尝试后，很快就会变得非常简单。</p><p id="7201" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对二维数组进行切片的语法如下:</p><blockquote class="nw nx ny"><p id="db45" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated">array _ name[行_开始_索引:行_结束_索引:行_步长大小，列_开始_索引:列_结束_索引:列_步长大小]</p></blockquote><p id="b697" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了了解如何分割一个二维数组，我首先将weather_data数组扩展到一整周，这样我们将得到一个shape (7，4)数组。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/c4e4dc08a05068306c41bb95fb24e25f.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*oSZykSE_MkRrt5VLVJJtpQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="cc93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们想知道每周的降水量。所以我们需要切掉所有的行和第二列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/a40281225e4d8df5a62f1465443b5c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*WS0DNMgg_1zT1xfNmClGGg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="5529" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本例中，为了选择所有的行，我们使用了一个<strong class="ky ir">冒号</strong>符号(<strong class="ky ir"> : </strong> ) <strong class="ky ir">。</strong>为了选择第2列，我们使用索引值为1的<strong class="ky ir"/>(记住，<strong class="ky ir">索引从零开始</strong>)。</p><p id="c329" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随意尝试其他的可能性，我会比较数学中的切片和积分，有一定的规则可循，<em class="nz">但是熟能生巧</em>。</p><p id="7808" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">负切片也是允许的，其工作方式与python列表相同。数组中的最后一项的索引为-1。</p><h2 id="d20c" class="nk mo iq bd mp nl nm dn mt nn no dp mx lf np nq mz lj nr ns nb ln nt nu nd nv bi translated">在数组中“查找”数据</h2><p id="b98f" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在数组中查找数据的另一种方法是使用Numpy中一个非常流行的函数，<strong class="ky ir"> np.where() </strong>。该函数返回满足条件的元素的索引。通常，它用于查找大于、等于或小于一个数字的元素。<strong class="ky ir"> np.where() </strong>的基本语法如下:</p><blockquote class="nw nx ny"><p id="81ac" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated">np.where(条件[，x，y])</p></blockquote><p id="b85e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> x </strong>和<strong class="ky ir"> y </strong>是参数，可以用来用<strong class="ky ir">替换</strong>数组中满足给定条件的值。要么<strong class="ky ir">我们不提供</strong> <strong class="ky ir"> x和y </strong>(我们只需要找到满足条件的索引或值)，要么<strong class="ky ir">提供x和y </strong>然后找到的索引处的值由<strong class="ky ir"> x(如果为真</strong>)改变，或者<strong class="ky ir"> y(如果条件为假</strong>)。非常类似于MS Excel中的<strong class="ky ir"> IF() </strong>函数。</p><p id="6d08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们想打印出气温高于14.5摄氏度的日子的指数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/1a282da77cd51a350f9e2c84f9a58af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*aCprbGv5ZoK4rR2wb9Kz0Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="2769" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里我们有两件重要的事情:首先，我们使用上面学到的切片来选择第一列(所有行，因为我们搜索所有工作日)，然后我们设置条件&gt; 14.5。</p><p id="f88a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们想要将所有大于14.5的温度值转换为华氏温度，并将结果数组存储到变量<strong class="ky ir"> weather_b </strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pk"><img src="../Images/6aff0e342c2da6362369518702e880b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ehcC62t5qJLHuVIEktA01w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="b4d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，我们首先提供一个条件(&gt; 14.5°C)，然后我们给出如果<strong class="ky ir">为真</strong>时使用什么值(将该值乘以1.8并加32)，如果<strong class="ky ir">为假</strong>时使用什么值(使用现有值)。注意，我们总是对数组进行切片，因为我们只处理第一列。</p><p id="88bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在可以创建一个名为weather_f(与weather_data相同)的新数组，但是温度值将被替换为Fahrenheits中的值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/8afb23c1ebc76ed2e0f41c138b76513b.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*ccBowdwcrS8hqTvYyaTSdA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="c381" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们复制一份weather_data(记住flatten()和ravel()方法)，以避免原始weather_data数组发生变化，然后我们对新的weather_f(第一列)进行切片，并用weather_b中计算的值替换这些值。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="acc6" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">Numpy的数学和统计</h1><p id="2b67" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">最后，我们来到了我最喜欢的数字部分，数学和统计运算。在我看来，这就是Numpy如此伟大的原因，它优于普通列表的相同操作。这是处理大量数字数据时的简单性和速度优势。我们先来看看数学运算。我会提供一个关于除法的例子，但是一般的语法对于其他运算是一样的，可以在官方的<a class="ae kv" href="https://numpy.org/doc/stable/reference/routines.math.html" rel="noopener ugc nofollow" target="_blank"> Numpy pages </a>中查找。</p><p id="4d06" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的weather_data数组包含以毫米为单位的降水数据，让我们将它们转换成米。要将毫米转换成米，我们需要将数值除以1000。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pm"><img src="../Images/a521e500d295650e827b3031150e4662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*9XXZJPTUgzSLrVXrJgFYiQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="86fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们再次使用切片来选择数组的第二列，并将值除以1000。在实践中，尝试用转换成米的值替换weather_f数组中的降水值。(您可以直接在weather_f数组上进行更改)</p><p id="4696" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">至于统计示例，我将使用最常见的情况，我们需要计算一周的平均温度、降水量、风速和雪深值。计算平均值的Numpy函数称为<strong class="ky ir"> np.mean() </strong>。<strong class="ky ir"> np.mean() </strong>函数的基本语法如下:</p><blockquote class="nw nx ny"><p id="3475" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated">np.mean(a，axis=None，dtype=None，out=None，keepdims= <no value="">，*，where= <no value="">)</no></no></p></blockquote><p id="edc9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于我们的情况，重要的部分是轴。因为我们的目标是计算每一列的平均值，所以我们需要将轴参数设置为0。将轴设置为1，将产生行方式的结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/1de9cdbea213b9141f1080ae93e56e84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*D64_S4YsEBP_c8yRovM4jA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="e3ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">其他统计函数保留了相同或相似的语法，可以在Numpy官方网站的<a class="ae kv" href="https://numpy.org/doc/stable/reference/routines.statistics.html" rel="noopener ugc nofollow" target="_blank">统计部分</a>中查找。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="4499" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">额外内容Numpy的速度优势</h1><p id="0943" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">我提到过Numpy也有一些速度优势，这可能会让你动心。让我们看看实际情况。Numpy真的比for循环快吗？</p><p id="a387" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们将创建一个随机的浮动数组，假设它是在美国某个地方测量的每小时气温。数组的长度是30 000。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi po"><img src="../Images/79f8d2120be1bd709658dcf5d610fbef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*_5e1my8guYpwWsLZr0de-g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="fb10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们想把这些数字转换成摄氏度。让我们使用for循环和Python列表来测量所需的时间，然后使用Numpy。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/e7e440d847556fbd71c6b24f44a83a8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*Qma76MF4KUZU62oa9TJdfQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="904e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在Python列表上使用循环所花费的时间大约为5 ms，而使用Numpy数组，相同的操作花费的时间不到1 ms。因此，在这个特定的情况下(任务), Numpy大约快5倍。</p><p id="dc9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，请考虑这个测试并不完全适用，它真的取决于你的计算机的速度(主要是CPU)和选择的任务。因为这不是本文的主题，所以我将把它留给您去查看其他介绍Numpy的速度优势的文章，并且希望您自己在使用数据的特定任务上尝试一下。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="9527" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">结论</h1><p id="9f68" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">恭喜，我们已经介绍了Numpy的基础知识。但是请记住，Numpy远不止这些，练习很重要。这里，我主要介绍了我在任务和项目中经常使用的函数，但是Numpy中还有更多函数和方法。</p><p id="ee9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请务必查看Numpy官方网站，了解更多与您的项目或任务相关的有用信息。一开始不要气馁，所有这些语法看起来都有点复杂，但是相信我，比你想象的要快，你会很快采用它们。🙂</p><p id="cfe6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的下一篇文章将介绍数据科学应用程序中另一个流行的库，名为Pandas。请继续收听，直到下次继续练习，因为熟能生巧。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="f5b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于这篇文章或我在<a class="ae kv" href="https://medium.com/@Karlo_Leskovar" rel="noopener">媒体</a>上的其他文章有任何问题或建议，欢迎通过<a class="ae kv" href="https://www.linkedin.com/mwlite/in/karlo-leskovar-a8612b105" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我。</p><p id="0a02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您抽出时间，干杯！🙂</p></div></div>    
</body>
</html>