<html>
<head>
<title>How to Create an Ubuntu Server to Build an AI Product Using Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建一个Ubuntu服务器来使用Docker构建一个AI产品</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-create-an-ubuntu-server-to-build-an-ai-product-using-docker-a2414aa09f59?source=collection_archive---------9-----------------------#2021-08-27">https://towardsdatascience.com/how-to-create-an-ubuntu-server-to-build-an-ai-product-using-docker-a2414aa09f59?source=collection_archive---------9-----------------------#2021-08-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="5211" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://pedram-ataee.medium.com/list/notes-from-industry-265207a5d024" rel="noopener">业内笔记</a></h2><div class=""/><div class=""><h2 id="334e" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">构建Ubuntu服务器的代码片段集合，该服务器可用于开发简单的人工智能产品。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/e5b39ce18d2075859bb3c2374981d6a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y2eUUCuT6ppEXwaC"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">凯文·霍尔瓦特在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="72f4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要在云上部署一个人工智能引擎，你很可能需要运行一个虚拟的基于Linux的服务器，上面有基本的软件和库。启动服务器的一个标准方法是创建一个满足所有需求的docker映像。您可以在作为服务器的任何机器上使用相应的docker映像运行docker容器。一般来说，构建AI产品的标准服务器必须有几个基本的软件和库，包括Python、Java、Git、Docker和GCloud。例如，每当AI模型更新时，您需要构建一个新的docker映像；所以<code class="fe me mf mg mh b">docker</code>必须安装。然后，你需要在云上部署带有新AI模型的新docker镜像；所以，例如，<code class="fe me mf mg mh b">gcloud </code>和<code class="fe me mf mg mh b">kubectl </code>必须安装。</p><p id="3f73" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这篇文章中，我想分享如何在Ubuntu机器上安装essentials来构建一个AI产品。在这里，您可以找到<strong class="lk jd">一组代码片段，这些代码片段将在order文件中使用，以便构建一个Ubuntu服务器。</strong>我强烈建议创建一个专门的<code class="fe me mf mg mh b">Dockerfile </code>来为你的项目量身定制，并确保它安全可靠。这有助于您在需要时启动服务器。希望这能大大加快你的发展。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="a19c" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">一台Ubuntu机器</h2><p id="f505" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">先说Ubuntu 20.04。首先，你必须更新为Ubuntu(以及Linux的其他主要发行版)设计的高级包管理器<code class="fe me mf mg mh b">apt-get</code>。然后，<code class="fe me mf mg mh b">git</code>必须安装软件，让你在需要的时候<code class="fe me mf mg mh b">checkout</code>使用你的代码库。下面的代码将是docker文件中的第一行。</p><pre class="ks kt ku kv gt nm mh nn no aw np bi"><span id="1f11" class="mp mq it mh b gy nq nr l ns nt">FROM ubuntu:20.04<br/>RUN apt-get update &amp;&amp; apt-get -y install sudo<br/>RUN sudo apt-get -y install software-properties-common</span><span id="94b5" class="mp mq it mh b gy nu nr l ns nt">### INSTALL GIT<br/>RUN sudo apt-get -y install git</span></pre><h2 id="6a62" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">—如何在Ubuntu上安装PYTHON 3.7</h2><p id="a08e" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">您可以使用下面的代码在docker机器上安装一个干净的Python 3.7。请注意，无论如何您都需要安装项目所需的库。在这里，我试图保持简单和干净。</p><pre class="ks kt ku kv gt nm mh nn no aw np bi"><span id="8c51" class="mp mq it mh b gy nq nr l ns nt">### INSTALL PYTHON<br/>RUN sudo apt-get -y install libssl-dev openssl<br/>RUN sudo apt-get -y install libreadline-gplv2-dev libffi-dev<br/>RUN sudo apt-get -y install libncursesw5-dev libsqlite3-dev<br/>RUN sudo apt-get -y install tk-dev libgdbm-dev libc6-dev libbz2-dev <br/>RUN sudo apt-get -y install  wget<br/>RUN apt-get update &amp;&amp; apt-get install make<br/>RUN sudo apt-get -y install zlib1g-dev<br/>RUN apt-get -y install gcc mono-mcs &amp;&amp; \<br/>    rm -rf /var/lib/apt/lists/*<br/>RUN wget <a class="ae lh" href="https://www.python.org/ftp/python/3.7.10/Python-3.7.10.tgz" rel="noopener ugc nofollow" target="_blank">https://www.python.org/ftp/python/3.7.10/Python-3.7.10.tgz</a><br/>RUN tar xzvf Python-3.7.10.tgz<br/>RUN ./Python-3.7.10/configure<br/>RUN sudo make install<br/>RUN alias python=python3</span></pre><h2 id="be95" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">—如何在Ubuntu上安装DATABRICKS-CONNECT</h2><p id="b454" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">如果您处理真实世界的数据，您可能需要处理大量的数据，这些数据在小型VPS或强大的专用裸机服务器上无法轻松管理。Databricks推出了一项非常有用的服务，可以让您连接到高度优化的Databricks集群进行大数据处理。他们强大的Spark机器可以让你在几秒钟内构建大型人工智能模型。为此，您必须通过名为<code class="fe me mf mg mh b">databricks-connect</code>的库连接到Databricks集群。您可以使用下面的代码在Ubuntu上安装<code class="fe me mf mg mh b">databricks-connect</code>。要了解更多关于Databricks集群逐步配置的信息，请查看本文:<a class="ae lh" rel="noopener" target="_blank" href="/how-to-connect-a-local-or-remote-machine-to-a-databricks-cluster-18e03afb53c6">如何将本地或远程机器连接到Databricks集群</a>。</p><pre class="ks kt ku kv gt nm mh nn no aw np bi"><span id="7fb0" class="mp mq it mh b gy nq nr l ns nt">### INSTALL JAVA<br/>RUN sudo add-apt-repository ppa:openjdk-r/ppa<br/>RUN sudo apt-get install -y openjdk-8-jre</span><span id="b27e" class="mp mq it mh b gy nu nr l ns nt">### INSTALL DATABRICKS-CONNECT<br/>RUN pip3 install --upgrade pip<br/>RUN pip3 uninstall pyspark<br/>RUN pip3 install -U databricks-connect==7.3.*</span></pre><div class="nv nw gp gr nx ny"><a rel="noopener follow" target="_blank" href="/how-to-connect-a-local-or-remote-machine-to-a-databricks-cluster-18e03afb53c6"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd jd gy z fp od fr fs oe fu fw jc bi translated">如何将本地或远程机器连接到Databricks集群</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">Databricks、Python和Docker的交集</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">towardsdatascience.com</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om lb ny"/></div></div></a></div><h2 id="c80e" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">—如何在Ubuntu上安装DOCKER和DOCKER-COMPOSE</h2><p id="fed8" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">假设你正在开发一个运行人工智能引擎的API服务。每次人工智能模型更新时，你必须建立一个新的解决方案。在这种情况下，您需要在您的机器上安装docker服务，让您运行诸如<code class="fe me mf mg mh b">docker build</code>或<code class="fe me mf mg mh b">docker push</code>之类的命令。你可以运行下面的代码让你在Ubuntu机器上安装docker。</p><pre class="ks kt ku kv gt nm mh nn no aw np bi"><span id="f2c8" class="mp mq it mh b gy nq nr l ns nt">### INSTALL DOCKER<br/>RUN apt-get update &amp;&amp; apt-get install -y curl<br/>RUN curl -fsSL https://get.docker.com -o get-docker.sh<br/>RUN sudo sh get-docker.sh</span><span id="6b54" class="mp mq it mh b gy nu nr l ns nt">## INSTALL DOCKER-COMPOSE<br/>RUN sudo curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose<br/>RUN sudo chmod +x /usr/local/bin/docker-compose</span></pre><h2 id="589d" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">—如何在Ubuntu上安装GCLOUD和KUBECTL</h2><p id="67c8" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">如果你想为你的产品使用谷歌云服务，你必须安装<code class="fe me mf mg mh b">gcloud</code>来与谷歌基础设施通信。例如，如果您想使用他们的容器注册服务来存储项目期间构建的docker映像，您必须安装<code class="fe me mf mg mh b">gcloud</code>库。另外，如果您想使用强大的Kubernetes引擎在这个基础设施上部署您的解决方案，您必须安装<code class="fe me mf mg mh b">kubectl</code>。请注意，您肯定可以使用其他服务，如AWS或Azure，它们需要自己的配置。</p><pre class="ks kt ku kv gt nm mh nn no aw np bi"><span id="e51e" class="mp mq it mh b gy nq nr l ns nt">### INSTALL GCLOUD<br/>RUN curl https://dl.google.com/dl/cloudsdk/release/google-cloud-sdk.tar.gz &gt; /tmp/google-cloud-sdk.tar.gz<br/>RUN mkdir -p /usr/local/gcloud \<br/>    &amp;&amp; tar -C /usr/local/gcloud -xvf /tmp/google-cloud-sdk.tar.gz \   <br/>    &amp;&amp; /usr/local/gcloud/google-cloud-sdk/install.sh<br/>ENV PATH $PATH:/usr/local/gcloud/google-cloud-sdk/bin</span><span id="d0b2" class="mp mq it mh b gy nu nr l ns nt">### INSTALL KUBECTL<br/>RUN curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s <a class="ae lh" href="https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl" rel="noopener ugc nofollow" target="_blank">https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl</a><br/>RUN chmod +x ./kubectl<br/>RUN mv ./kubectl /usr/local/bin</span></pre><h2 id="90ec" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">—如何安装节点。Ubuntu上的JS</h2><p id="b2b5" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">如果你想为你的AI引擎创建一个简单的用户界面，你很可能需要安装Node。我强烈建议保持它的干净和明亮，以确保以后不会有记忆问题。</p><pre class="ks kt ku kv gt nm mh nn no aw np bi"><span id="cb11" class="mp mq it mh b gy nq nr l ns nt">### INSTALL NODE.JS</span><span id="05ab" class="mp mq it mh b gy nu nr l ns nt">ENV NODE_VERSION=12.6.0<br/>RUN apt install -y curl<br/>RUN curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh | bash<br/>ENV NVM_DIR=/root/.nvm<br/>RUN . "$NVM_DIR/nvm.sh" &amp;&amp; nvm install ${NODE_VERSION}<br/>RUN . "$NVM_DIR/nvm.sh" &amp;&amp; nvm use v${NODE_VERSION}<br/>RUN . "$NVM_DIR/nvm.sh" &amp;&amp; nvm alias default v${NODE_VERSION}<br/>ENV PATH="/root/.nvm/versions/node/v${NODE_VERSION}/bin/:${PATH}"<br/>RUN node --version<br/>RUN npm --version</span></pre><h2 id="ad9d" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">—遗言</h2><p id="1058" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">您可能会在上面的代码中发现一些冗余。例如，我可能会多次更新<code class="fe me mf mg mh b">apt-get</code>包管理器。我这样做是为了确保每个部分都可以独立执行。最后但同样重要的是，我花了一些时间才找到如何在Ubuntu机器上安装必要的软件和库。希望这能加快你的发展。</p><h1 id="05a6" class="on mq it bd mr oo op oq mu or os ot mx ki ou kj na kl ov km nd ko ow kp ng ox bi translated">感谢阅读！</h1><p id="5340" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">如果你喜欢这个帖子，想支持我…</p><ul class=""><li id="72b2" class="oy oz it lk b ll lm lo lp lr pa lv pb lz pc md pd pe pf pg bi translated"><em class="ph">跟我上</em> <a class="ae lh" href="https://medium.com/@pedram-ataee" rel="noopener"> <em class="ph">中</em> </a> <em class="ph">！</em></li><li id="2ca5" class="oy oz it lk b ll pi lo pj lr pk lv pl lz pm md pd pe pf pg bi translated"><em class="ph">在</em> <a class="ae lh" href="https://www.amazon.com/Pedram-Ataee/e/B08D6J3WNW" rel="noopener ugc nofollow" target="_blank"> <em class="ph">亚马逊</em> </a> <em class="ph">上查看我的书！</em></li><li id="6029" class="oy oz it lk b ll pi lo pj lr pk lv pl lz pm md pd pe pf pg bi translated"><em class="ph">成为</em> <a class="ae lh" href="https://pedram-ataee.medium.com/membership" rel="noopener"> <em class="ph">中的一员</em> </a> <em class="ph">！</em></li><li id="9a4e" class="oy oz it lk b ll pi lo pj lr pk lv pl lz pm md pd pe pf pg bi translated"><em class="ph">连接上</em><a class="ae lh" href="https://www.linkedin.com/in/pedrama/" rel="noopener ugc nofollow" target="_blank"><em class="ph">Linkedin</em></a><em class="ph">！</em></li><li id="6b66" class="oy oz it lk b ll pi lo pj lr pk lv pl lz pm md pd pe pf pg bi translated"><em class="ph">关注我</em> <a class="ae lh" href="https://twitter.com/pedram_ataee" rel="noopener ugc nofollow" target="_blank"> <em class="ph">推特</em> </a> <em class="ph">！</em></li></ul><div class="nv nw gp gr nx ny"><a href="https://pedram-ataee.medium.com/membership" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd jd gy z fp od fr fs oe fu fw jc bi translated">通过我的推荐链接加入Medium-Pedram Ataee博士</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">pedram-ataee.medium.com</p></div></div><div class="oh l"><div class="pn l oj ok ol oh om lb ny"/></div></div></a></div></div></div>    
</body>
</html>