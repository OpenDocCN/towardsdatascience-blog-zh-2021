<html>
<head>
<title>PyWebIO 1.3.0: Add Tabs, Pin Input, and Update an Input Based on Another Input</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PyWebIO 1.3.0:添加选项卡、锁定输入，并基于另一个输入更新一个输入</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pywebio-1-3-0-add-tabs-pin-input-and-update-an-input-based-on-another-input-e81a139fefcb?source=collection_archive---------18-----------------------#2021-06-17">https://towardsdatascience.com/pywebio-1-3-0-add-tabs-pin-input-and-update-an-input-based-on-another-input-e81a139fefcb?source=collection_archive---------18-----------------------#2021-06-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f6c4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用几行代码创建有用的Python应用程序</h2></div><h1 id="56f9" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">动机</h1><p id="50a6" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">PyWebIO是一个Python库，它使您可以用几行代码轻松创建如下所示的web应用程序。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/7e3cbcb3dafdbc5f8d061136249f5cc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IjETrzNnqM4_IxQIJZMgbQ.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="a4e0" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">在上一篇文章中，我介绍了PyWebIO的一些基本用法，但是您可能想做的不仅仅是这些基本功能。幸运的是，PyWebIO 1.3.0引入了更有用的工具，可以用几行代码创建复杂的接口。</p><p id="6860" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">在本文中，您将学习如何:</p><ul class=""><li id="ddc5" class="ms mt it lc b ld mm lg mn lj mu ln mv lr mw lv mx my mz na bi translated">添加选项卡以便更好地导航</li><li id="5b8e" class="ms mt it lc b ld nb lg nc lj nd ln ne lr nf lv mx my mz na bi translated">根据一个输入的值更新另一个输入</li><li id="ba12" class="ms mt it lc b ld nb lg nc lj nd ln ne lr nf lv mx my mz na bi translated">持续输入</li></ul><p id="cf5d" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">要安装<a class="ae mr" href="https://www.pyweb.io/" rel="noopener ugc nofollow" target="_blank"> PyWebIO </a> 1.3.0，请键入:</p><pre class="lx ly lz ma gt ng nh ni nj aw nk bi"><span id="5467" class="nl kj it nh b gy nm nn l no np">pip install pywebio==1.3.0</span></pre><h1 id="b8e0" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">put_tabs —添加选项卡以实现更好的导航</h1><p id="bcc0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">PyWebIO 1.3.0允许你添加标签到你的应用程序，如下所示:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nq"><img src="../Images/5fcd6744c6e198ef982c0be7b2b83e75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Jp5vWDmMSKDwTKQnJUqDZg.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="d69c" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">要添加选项卡，只需使用<code class="fe nr ns nt nh b">put_tabs</code>小部件。<code class="fe nr ns nt nh b">put_tabs</code>的参数是如下的字典列表:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="22e2" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">完整代码:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div><p class="mi mj gj gh gi mk ml bd b be z dk translated"><a class="ae mr" href="https://github.com/khuyentran1401/Data-science/blob/master/applications/pywebio_1_3_0/tab_example.py" rel="noopener ugc nofollow" target="_blank">源代码</a></p></figure><h1 id="a905" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated"><strong class="ak">输入_更新—当一个输入改变时更新另一个输入</strong></h1><p id="dabb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">有时，您可能希望一个输入的选项根据另一个输入的值而改变。</p><p id="050e" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">比如下面的GIF，当我改变话题时，文章的选项也随之改变。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/955a7b26a1c814d65480dff15538c085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3nX2vueZbCvlcSlE8PEUCQ.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="8379" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">我们如何在两个小部件之间创建这样的依赖关系？首先，让我们创建两个互不依赖的下拉菜单:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="eca8" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">正如我们所料，当我们改变话题时，文章的选项不会改变。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nq"><img src="../Images/a693ad71eea9e29de9bb3f178cc3a707.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Iqlh8qWyQjzOJuZyeS9KUQ.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="08eb" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">现在让我们添加一个组件，它将在这两个下拉列表之间创建依赖关系。那就是<code class="fe nr ns nt nh b">input_update</code>。</p><p id="4317" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated"><code class="fe nr ns nt nh b">input_update</code>应该放在<code class="fe nr ns nt nh b">onchange</code>回调的一个输入函数中。这意味着如果输入功能改变，将触发<code class="fe nr ns nt nh b">input_update</code>:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="d860" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">代码<code class="fe nr ns nt nh b">onchange=lambda t: input_update('article', options=topics_to_articles[t])</code>根据选择的主题更新输入<code class="fe nr ns nt nh b"> 'article'</code>的选项。</p><p id="9eba" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">完整代码:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div><p class="mi mj gj gh gi mk ml bd b be z dk translated"><a class="ae mr" href="https://github.com/khuyentran1401/Data-science/blob/master/applications/pywebio_1_3_0/input_update_example.py" rel="noopener ugc nofollow" target="_blank">源代码</a></p></figure><p id="5fad" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">输出:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/955a7b26a1c814d65480dff15538c085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3nX2vueZbCvlcSlE8PEUCQ.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><h1 id="a5ad" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">固定—固定输入</h1><p id="6819" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">PyWebIO有很多有用的<a class="ae mr" href="https://pywebio.readthedocs.io/en/v1.3.0/input.html" rel="noopener ugc nofollow" target="_blank">输入法</a>比如<code class="fe nr ns nt nh b">select</code>、<code class="fe nr ns nt nh b">input</code>、<code class="fe nr ns nt nh b">radio</code>、<code class="fe nr ns nt nh b">checkbox</code>。通常，输入表单会在您提交输入后消失，如下所示:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nx"><img src="../Images/72122734a9781f802891c9424d65f436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uc40kejYYwAH5XZDBDGbfA.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="bf99" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">代码:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div><p class="mi mj gj gh gi mk ml bd b be z dk translated"><a class="ae mr" href="https://github.com/khuyentran1401/Data-science/blob/master/applications/pywebio_1_3_0/app_without_pin.py" rel="noopener ugc nofollow" target="_blank">完整代码</a></p></figure><p id="f760" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">但是如果你不想让输入表单像下面这样提交输入后消失呢？</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ny"><img src="../Images/bbf19fa48070df38a6f3aab7de557525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pH_iwOV40vt_PM2ktOwtnQ.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="a9cb" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">这时候<code class="fe nr ns nt nh b">pin</code>就派上用场了。为了让您的输入持久化，首先，用<code class="fe nr ns nt nh b">pin.put_select</code>小部件替换<code class="fe nr ns nt nh b">input.select</code>小部件。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="38bf" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">提交成功后<code class="fe nr ns nt nh b">pywebio.input</code>中的小部件会消失，而<code class="fe nr ns nt nh b">pywebio.pin</code>中的小部件不会在提交后消失。</p><p id="b6c9" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">现在我们使用<code class="fe nr ns nt nh b">pin_wait_change</code>来监听一个pin部件列表。如果任何小部件的值发生变化，该函数将返回该小部件的名称和值。</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="4b50" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">在下面的GIF中，每当我们改变一个小部件，形状就被打印到终端上。这意味着当我们改变一个小部件时，一个新的值被赋予。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nz"><img src="../Images/7b931a6125ee4ccb78a416a7d949c220.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9DSxBrpI3zRJlrsN9OJnSQ.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="a1b9" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">要获取新形状并将其分配给当前的<code class="fe nr ns nt nh b">pin</code>小部件，请使用:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="7ab1" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">最后但同样重要的是，将上面的代码放入<code class="fe nr ns nt nh b">with use_scope(..., clear=True)</code>中，以便在新图像出现之前旧图像被清除。</p><p id="f5db" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">将所有东西放在一起:</p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div><p class="mi mj gj gh gi mk ml bd b be z dk translated"><a class="ae mr" href="https://github.com/khuyentran1401/Data-science/blob/master/applications/pywebio_1_3_0/app_pin.py" rel="noopener ugc nofollow" target="_blank">完整代码</a></p></figure><p id="640e" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">输出:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ny"><img src="../Images/bbf19fa48070df38a6f3aab7de557525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pH_iwOV40vt_PM2ktOwtnQ.gif"/></div></div><p class="mi mj gj gh gi mk ml bd b be z dk translated">作者GIF</p></figure><p id="a832" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">你可以在这里找到别针小工具<a class="ae mr" href="https://pywebio.readthedocs.io/en/v1.3.0/pin.html" rel="noopener ugc nofollow" target="_blank">的完整列表</a>。</p><h1 id="eecd" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">结论</h1><p id="1b32" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">恭喜你！您已经了解了PyWebIO的3个新特性。PyWebIO还有很多很酷的特性，我在这里无法一一列举。我推荐你去看看<a class="ae mr" href="https://www.pyweb.io/" rel="noopener ugc nofollow" target="_blank"> PyWebIO网站</a>了解其他功能。</p><p id="4f6e" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">您可以在这里随意使用本文的源代码:</p><div class="oa ob gp gr oc od"><a href="https://github.com/khuyentran1401/Data-science/tree/master/applications/pywebio_1_3_0" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">khuyentran 1401/数据科学</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">有用的数据科学主题以及代码和文章的集合- khuyentran1401/Data-science</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">github.com</p></div></div><div class="om l"><div class="on l oo op oq om or mg od"/></div></div></a></div></div><div class="ab cl os ot hx ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="im in io ip iq"><p id="a67e" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">我喜欢写一些基本的数据科学概念，并尝试不同的算法和数据科学工具。你可以在LinkedIn和T2 Twitter上与我联系。</p><p id="25c5" class="pw-post-body-paragraph la lb it lc b ld mm ju lf lg mn jx li lj mo ll lm ln mp lp lq lr mq lt lu lv im bi translated">星<a class="ae mr" href="https://github.com/khuyentran1401/Data-science" rel="noopener ugc nofollow" target="_blank">这个回购</a>如果你想检查我写的所有文章的代码。在Medium上关注我，了解我的最新数据科学文章，例如:</p><div class="oa ob gp gr oc od"><a rel="noopener follow" target="_blank" href="/pywebio-write-interactive-web-app-in-script-way-using-python-14f50155af4e"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">PyWebIO:使用Python以脚本方式编写交互式Web应用</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">在没有HTML和JS知识的情况下，用几行Python代码构建Web应用程序！</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="oz l oo op oq om or mg od"/></div></div></a></div><div class="oa ob gp gr oc od"><a rel="noopener follow" target="_blank" href="/how-to-solve-a-staff-scheduling-problem-with-python-63ae50435ba4"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">如何用Python解决人员调度问题</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">尽可能减少每班的工人数量，同时为每个时间窗口分配足够的工人</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="pa l oo op oq om or mg od"/></div></div></a></div><div class="oa ob gp gr oc od"><a rel="noopener follow" target="_blank" href="/streamlit-and-spacy-create-an-app-to-predict-sentiment-and-word-similarities-with-minimal-domain-14085085a5d4"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">Streamlit和spaCy:创建一个应用程序来预测情绪和单词的相似性，最小域…</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">只需要10行代码！</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="pb l oo op oq om or mg od"/></div></div></a></div><div class="oa ob gp gr oc od"><a rel="noopener follow" target="_blank" href="/simulate-real-life-events-in-python-using-simpy-e6d9152a102f"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">使用SimPy在Python中模拟真实事件</h2><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="pc l oo op oq om or mg od"/></div></div></a></div></div></div>    
</body>
</html>