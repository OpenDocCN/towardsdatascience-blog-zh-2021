<html>
<head>
<title>Profitability Margin Analysis with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python进行利润率分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/profitability-margin-analysis-with-python-ae8290ee0015?source=collection_archive---------18-----------------------#2021-05-22">https://towardsdatascience.com/profitability-margin-analysis-with-python-ae8290ee0015?source=collection_archive---------18-----------------------#2021-05-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8ebe" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">盈利率是一种财务指标，可以洞察一家公司产生收益的效率。</h2></div><p id="be62" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本帖中，我们将使用Python 进行<strong class="kh ir">利润率分析，比较同行公司的利润率。下面是我们将计算和分析的5个不同的相关盈利率:</strong></p><ul class=""><li id="936e" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">纯利润率</li><li id="bc94" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">毛利</li><li id="4532" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">营业利润</li><li id="8199" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">资产回报率</li><li id="999c" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">股本回报率</li></ul><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/7edfa0dc7722d517c16d9983e2c8f878.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a3CIXaWogGj3Q-NV"/></div></div><p class="mb mc gj gh gi md me bd b be z dk translated">照片由<a class="ae mf" href="https://unsplash.com/@emiliotakas?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">埃米利奥·塔卡什</a>在<a class="ae mf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="33fc" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">如何计算盈利率</h1><p id="d279" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">在开始用Python代码识别同行公司和分析利润率之前，我们将在本节中介绍每个比率。</p><h2 id="b130" class="nd mh iq bd mi ne nf dn mm ng nh dp mq ko ni nj ms ks nk nl mu kw nm nn mw no bi translated">利润率和利润率</h2><p id="6982" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">利润率对于了解一家公司将收入转化为营业收入和净收入的效率非常有用。在这个故事中，我们将涵盖三个主要指标:毛利率、营业利润率和净利润率:</p><p id="44ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="np">毛利率=毛利/收入</em> </strong></p><p id="cfbf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="np">营业利润率=营业利润/收入</em> </strong></p><p id="2ee9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="np">净利润率=净收入/营业收入</em> </strong></p><p id="53a1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在进行财务分析时，我们需要意识到，在比较同行时，我们可以得出非常有见地的结论。例如，通过比较各公司的净利润率，我们可以确定哪些公司在将销售额转化为利润方面的运营效率更高。</p><p id="5ae7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们在一群同行中找到净利润率表现最好的公司，我们就可以进一步<strong class="kh ir">分析毛利率</strong> <strong class="kh ir">和营业利润率，以更好地理解为什么表现最好的公司有优势。较高的营业利润率表明一家公司要么拥有极具竞争力的毛利率，要么拥有极具吸引力的营业利润率。也就是说，能够产生一个单位的销售额，减少产生一美元销售额所需的<a class="ae mf" href="https://en.wikipedia.org/wiki/Cost_of_goods_sold" rel="noopener ugc nofollow" target="_blank">销售成本</a>(更高的毛利率)或更低的营销&amp;销售、研究&amp;开发和G &amp; A(一般和管理)费用。</strong></p><p id="e04a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者，为了比较同类公司，我们可以进行时间序列分析，以分析单个公司在不同时期的表现。这种比率分析对于了解公司趋势特别有用。在我上一篇关于<a class="ae mf" href="https://codingandfun.com/analysing-balance-sheet-financial-ratios-with-python/" rel="noopener ugc nofollow" target="_blank">用Python分析资产负债表财务比率的文章</a>中，我谈到了财务比率的时间序列分析。</p><h1 id="cb8c" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">股本回报率和资产回报率</h1><p id="a784" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">ROE或ROA是盈利能力比率，衡量一家公司基于所用股本(ROE)或所用资产量(ROA)创造利润的效率。</p><p id="7d03" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们已经在我的前一篇文章<a class="ae mf" href="https://codingandfun.com/analyze-a-firm-roe-with-python/" rel="noopener ugc nofollow" target="_blank">中看到了如何用Python </a>分析公司的股本回报率。因此，关于如何解释<strong class="kh ir">净资产收益率(ROE) </strong>比率，我们无需赘述。这个财务比率只是让我们知道一家公司基于股东权益能创造多少净收入。</p><p id="9c30" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，<strong class="kh ir">资产回报率(ROA) </strong>表示一家公司使用多少资产来创造净收入。</p><p id="60c9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="np">净资产收益率=净收入/平均总股本</em> </strong></p><p id="eeec" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="np"> ROA =净收入/平均总资产</em> </strong></p><p id="179c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">太好了，我们已经讨论了足够多的理论。让我们在下一节中看看我们如何首先找到对等公司，然后使用Python检索利润率。</p><h1 id="1ea3" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">用Python检索利润率</h1><p id="ba53" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">我们将使用<a class="ae mf" href="http://financialmodelingprep.com" rel="noopener ugc nofollow" target="_blank">financial modeling rep</a>来检索和处理所需的财务数据。这篇文章中的代码非常简单。以下是脚本执行的高级步骤:</p><ol class=""><li id="bff6" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la nq lh li lj bi translated"><strong class="kh ir">查找所有公司同辈</strong>。为此，我们将依靠Financialmodelingprep。该应用编程接口提供了检索所选公司的同行的入口和终点。因此，我们只需要在url中传递公司的股票代码。然后，API将返回一个Python列表，其中包含基于行业和市值的所有对等项。</li><li id="5f80" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la nq lh li lj bi translated">循环遍历每只股票，从财务比率API端点<strong class="kh ir">检索盈利比率</strong>。</li><li id="59f3" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la nq lh li lj bi translated"><strong class="kh ir">将每个财务比率提取并添加到Python字典中</strong>。这将有助于能够按公司列出财务比率。</li><li id="63d1" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la nq lh li lj bi translated">将Python字典转换成熊猫数据框架</li></ol><p id="a627" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，我们需要financialmodelingprep中的一个API键，以便代码工作。您可以通过每天250个请求获得一个免费的API密钥。</p><figure class="lq lr ls lt gt lu"><div class="bz fp l di"><div class="nr ns l"/></div><p class="mb mc gj gh gi md me bd b be z dk translated">财务盈利能力分析</p></figure><p id="67c6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">运行代码后，下面的Pandas DataFrame将显示使用Python 进行的<strong class="kh ir">盈利能力分析的结果。我们得到一个包含苹果公司同行的财务表，因为这是我们在代码中传递的公司。请随意更改股票代码，以便为其他公司执行类似的盈利能力分析。</strong></p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nt"><img src="../Images/6b4959bf77b8600f06e11d87688dd186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bb1sDXPvh-R0S44bg3fhoA.png"/></div></div><p class="mb mc gj gh gi md me bd b be z dk translated">同行公司盈利能力分析</p></figure><h1 id="59a4" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">包扎</h1><p id="531a" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">是不是很棒？使用不到20行Python代码，我们能够比较不同同行公司的盈利能力指标。</p><p id="8772" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们看到与其他公司相比，<em class="np"> Adobe </em> (ADBE)的净利润率非常高。我们可以观察到，Adobe较高的净利润率主要是由较高的毛利率推动的，相比之下，同行的毛利率约为87%。这可能是因为Adobe的数字产品缺乏实体，而且生产成本相对较低。但营业利润率与其余同行持平。可能是因为Adobe在新产品研发上的投入。</p><p id="ba69" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下一步，我们可以改进Python脚本来添加新的函数。例如，我们可以计算每个指标的平均值，以便将每个公司与该组的平均值进行比较。</p><p id="bda6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="np">请注意，本帖包含的任何信息都将用作财务建议。此处提供的信息可能不准确，因此不应用于投资决策。</em> </strong></p></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><p id="1fb3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="np">原载于2021年5月22日https://codingandfun.com</em><em class="np">的</em> <a class="ae mf" href="https://codingandfun.com/profitability-analysis-with-python/" rel="noopener ugc nofollow" target="_blank"> <em class="np">。</em></a></p></div></div>    
</body>
</html>