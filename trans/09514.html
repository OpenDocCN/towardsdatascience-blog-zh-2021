<html>
<head>
<title>Posts &amp; Comments on Euro 2020 by the Redditors’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Redditors关于2020年欧洲杯的帖子和评论</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/posts-comments-on-euro-2020-by-the-redditors-228af74cef9c?source=collection_archive---------29-----------------------#2021-09-03">https://towardsdatascience.com/posts-comments-on-euro-2020-by-the-redditors-228af74cef9c?source=collection_archive---------29-----------------------#2021-09-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2073" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">自然语言处理:利用潜在狄利克雷分配(LDA)提取主题</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/89a476c183b741e70e91dc2c2f5fecb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E1f0VAb3L2sRBtqNbzuQ_Q.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@robanderson72?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">罗伯特·安德森</a>在<a class="ae kv" href="https://unsplash.com/s/photos/euro-2020-football?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="d880" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在伦敦温布利体育场举行的2020年欧洲杯决赛已经过去了将近两个月。<em class="ls">足球热</em>正在慢慢消退，但最近的2022年FIFA世界杯资格赛引起了我的注意和兴趣，想看看人们对2020年欧洲杯有什么看法。因此，我利用了一个<a class="ae kv" href="https://www.kaggle.com/gpreda/euro-2020-on-reddit" rel="noopener ugc nofollow" target="_blank"> Kaggle数据集</a>，其中包含Redditors讨论2020年欧洲杯的帖子。</p><p id="ca4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个小练习的参考资料可以在<a class="ae kv" href="https://github.com/jimmeng-kok-2017/lda_euro2020_reddit_topics/" rel="noopener ugc nofollow" target="_blank"> my GitHub </a>上找到，其中包括数据集和Python笔记本文件。</p><h1 id="95eb" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">什么是艾达？</h1><p id="70d3" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">LDA是一种<strong class="ky ir">主题建模</strong>技术，它假设文档是由混合主题产生的，这些主题基于它们的概率分布生成单词。它还构建了每个文档一个主题的模型和每个主题一个单词的模型。</p><h1 id="5d24" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">数据预处理</h1><p id="c5f6" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">按顺序，数据预处理涉及以下内容:</p><ul class=""><li id="0cc3" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">处理空数据:<strong class="ky ir"> <em class="ls">标题</em> </strong>和<strong class="ky ir"> <em class="ls">正文</em> </strong>列是唯一填充有文本的列。但是，<strong class="ky ir"> <em class="ls">正文</em> </strong>栏中有很多空数据。因此，这些空数据被占位符“NaN”填充，这些占位符稍后将被删除。这样，通过连接<strong class="ky ir"> <em class="ls">标题</em> </strong>和<strong class="ky ir"> <em class="ls">正文</em> </strong>列，形成了一个新列<strong class="ky ir"> <em class="ls">正文</em> </strong>。</li><li id="4b0c" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">小写转换:将<strong class="ky ir"> <em class="ls">文本</em> </strong>列中的所有文本转换为小写是必要的，因为这有利于矢量化。</li><li id="3b9f" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">标点符号删除:使用正则表达式(Regex)删除标点符号。</li><li id="3200" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">数字移除:使用正则表达式移除数字。</li><li id="c573" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">停用词移除:通过使用NLTK库以及将常见的无关词(如“comment”和“nan”)添加到定制的停用词列表中，停用词被移除。</li><li id="eb1b" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">词汇化:将有助于保持文本信息含义的单词标准化，以便进行矢量化。</li><li id="36ab" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">符号化:将文本分割成句子，再将句子分割成单词。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/83b6d122c233de9c8c2d2fa89b418601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uzsMiYM8IV8B1g_Y.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">NLTK的停用词，图片由GeeksforGeeks提供</p></figure><p id="b384" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在继续使用LDA进行主题建模之前，<strong class="ky ir">矢量化，</strong>旨在建立词典和语料库(单词袋)，应用于标记化和词条。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="1b94" class="nk lu iq ng b gy nl nm l nn no">dictionary = gensim.corpora.Dictionary(words_in_docs)<br/>bow = [dictionary.doc2bow(doc) for doc in words_in_docs]</span></pre><p id="01d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在单词包(<code class="fe np nq nr ng b">bow</code>)中，Gensim库为每个单词及其在文档中的词频创建了唯一的标识符。</p><h1 id="6512" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">让LDA开始吧！</h1><p id="5179" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">为了启动LDA过程，需要指定数据集中主题的数量。因此，我将最小主题数设置为4，最大主题数设置为24。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="f1c3" class="nk lu iq ng b gy nl nm l nn no"># Topics: 4 Score: 0.637187704946018<br/># Topics: 6 Score: 0.5656505764313163<br/># Topics: 8 Score: 0.5608577918583089<br/># Topics: 10 Score: 0.5285639454916335<br/># Topics: 12 Score: 0.6549002572803391<br/># Topics: 14 Score: 0.5805171708843707<br/># Topics: 16 Score: 0.619577703739399<br/># Topics: 18 Score: 0.5787737269759226<br/># Topics: 20 Score: 0.5799681660889682<br/># Topics: 22 Score: 0.6062730130523755<br/># Topics: 24 Score: 0.5941403131806395</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/ef6be45c9d3f9c020cc738a7196b8741.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*XpLlZSgeG7wdi94PuTWTxg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">一致性得分图表，图片由作者提供</p></figure><p id="d2f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基于上述结果和一致性分数的可视化，指定的主题的最佳数量是12个主题。</p><p id="f337" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然我们从LDA要处理的12个独特主题开始，但我们将通过次数设置为9 (75%训练数据集)。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="4064" class="nk lu iq ng b gy nl nm l nn no">lda_model =  gensim.models.LdaMulticore(bow, <br/>                                   num_topics = 12, <br/>                                   id2word = dictionary,                                    <br/>                                   passes = 9,<br/>                                   workers = 3)</span></pre><h1 id="9091" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">结果的解释</h1><p id="1f35" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">一个好的模型包含<strong class="ky ir">低困惑</strong>和<strong class="ky ir">高主题连贯性</strong>。下面的结果表明，建立的模型符合标准。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="a71e" class="nk lu iq ng b gy nl nm l nn no">Perplexity:  -7.724412623387592</span><span id="1540" class="nk lu iq ng b gy nt nm l nn no">Coherence Score:  0.6073296144040131</span></pre><p id="9d1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该模型的输出显示了12个独特的主题，每个主题都按单词分类。由于LDA不提供每个主题的主题，因此，通过给每个主题一个主题来推断主题是主观的。以下是输出以及我对每个主题所属主题的推断。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="457b" class="nk lu iq ng b gy nl nm l nn no">Topic 0: Italy vs Spain<br/>Words: "italy", "team", "group", "think", "spain", "game", "match", "final", "played", "goal"<br/><br/>Topic 1: Italy would score goals against England in the final<br/>Words: "team", "euro", "goal", "football", "player", "game", "im", "italy", "would", "england"<br/><br/>Topic 2: England's controversial penalty against Denmark<br/>Words: "england", "right", "penalty", "sure", "see", "well", "im", "football", "game", "player"<br/><br/>Topic 3: Don't underestimate England's performance<br/>Words: "fan", "people", "english", "player", "dont", "country", "team", "one", "know", "football"<br/><br/>Topic 4: England would win against Italy in the final<br/>Words: "england", "game", "like", "win", "team", "italy", "dont", "home", "final", "english"<br/><br/>Topic 5: World questioning England fans' behaviour<br/>Words: "please", "fan", "england", "use", "cup", "question", "world", "contact", "im", "action"<br/><br/>Topic 6: Spain's and England's performances during the semi-finals<br/>Words: "substitution", "match", "shot", "card", "yellow", "scored", "goal", "spain", "england", "thread"<br/><br/>Topic 7: Belgium's performance against its opponents during the tournament<br/>Words: "denmark", "belgium", "v", "finland", "goal", "game", "hazard", "player", "portugal", "bruyne"<br/><br/>Topic 8: Italians don't like the idea of "Football's Coming Home"<br/>Words: "fan", "england", "team", "home", "coming", "english", "dont", "like", "italian", "match"<br/><br/>Topic 9: No red cards for England's fouls throughout the tournament<br/>Words: "england", "red", "card", "didnt", "foul", "would", "even", "im", "ref", "power"<br/><br/>Topic 10: Group A's final matches before Round of 16 started<br/>Words: "switzerland", "italy", "substitution", "match", "card", "shot", "yellow", "turkey", "wale", "goal"<br/><br/>Topic 11: Getting the UEFA Euro 2020 Final tickets<br/>Words: "ticket", "game", "england", "euro", "get", "final", "would", "uefa", "time", "player"</span></pre><h1 id="e0c4" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">结论</h1><p id="c528" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">基于上述分析，我们可以得出以下结论，Reddit用户对2020年欧洲杯感兴趣的是:</p><ul class=""><li id="9bdf" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">意大利和英格兰之间的决赛</li><li id="0853" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">英格兰队及其表现</li><li id="872c" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">围绕英格兰队及其球迷的有争议的新闻</li><li id="76b0" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">涉及英格兰、意大利、西班牙和比利时的比赛</li><li id="c7c5" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">比利时球员——凯文·德·布鲁恩和埃登·阿扎尔(或者甚至是后者的兄弟索尔根·阿扎尔！)</li></ul><h1 id="444c" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">参考</h1><p id="c498" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">班萨尔，S. (2016年)。<em class="ls">Python主题建模初学者指南。</em>分析Vidhya。8月24日。检索自<a class="ae kv" href="https://www.analyticsvidhya.com/blog/2016/08/beginners-guide-to-topic-modeling-in-python/" rel="noopener ugc nofollow" target="_blank">https://www . analyticsvidhya . com/blog/2016/08/初学者指南-主题建模-python/ </a></p><p id="210f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">布莱医学博士，Ng，A. Y .，&amp;乔丹医学博士，I. (2016)。<em class="ls">潜在狄利克雷分配。</em>机器学习研究杂志3(2003)993–1022。从http://www.jmlr.org/papers/volume3/blei03a/blei03a.pdf<a class="ae kv" href="http://www.jmlr.org/papers/volume3/blei03a/blei03a.pdf" rel="noopener ugc nofollow" target="_blank">取回</a></p><p id="055d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">极客之福。(2020).<em class="ls">在Python中用NLTK删除停用词。</em>11月24日。检索自<a class="ae kv" href="https://www.geeksforgeeks.org/removing-stop-words-nltk-python/" rel="noopener ugc nofollow" target="_blank">https://www . geeks forgeeks . org/removing-stop-words-nltk-python/</a></p></div></div>    
</body>
</html>