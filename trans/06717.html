<html>
<head>
<title>Generate Simulated Dataset for Linear Model in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为R中的线性模型生成模拟数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/generate-simulated-dataset-for-linear-model-in-r-469a5e2f4c2e?source=collection_archive---------5-----------------------#2021-06-17">https://towardsdatascience.com/generate-simulated-dataset-for-linear-model-in-r-469a5e2f4c2e?source=collection_archive---------5-----------------------#2021-06-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/44e922b180681edef8256cee5e9c6683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xnLJHeZajnBLhVpV"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">由<a class="ae jd" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> CHUTTERSNAP </a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="02a1" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">当真实数据集很难找到时，模拟一下。</h2></div><h2 id="64ca" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">动机</h2><p id="b219" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">近年来，随着计算能力的增加，关于机器学习(ML)的研究也在增加。因此，在一些ML模型中有了很大的发展——如果不是发明一个新的模型的话——表现得比传统模型更好。</p><p id="3ea6" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">研究人员在尝试实现所提出的模型时通常会遇到的一个主要问题是缺乏符合模型假设的正确的真实世界数据集。或者在另一种情况下，真实世界的数据集是存在的，但是数据集本身非常昂贵并且难以收集。</p><p id="5e23" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">为了克服这些问题，研究人员通常会生成一个遵循模型假设的模拟数据集。该模拟数据集可用作建模过程中模型或真实数据集替换的基准，其中模拟数据集比真实数据集更具成本效益。本文将解释如何使用r为线性模型生成模拟数据集。</p><h2 id="54ee" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">这个概念</h2><p id="a7d2" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">生成模拟数据集的过程可以解释如下。首先，我们指定想要模拟的模型。接下来，我们确定每个自变量的系数，然后模拟遵循概率分布的自变量和误差。最后，根据模拟的自变量(及其预定系数)和误差计算因变量。</p><p id="2dad" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">为了在实践中更好地理解这个过程，这里我将给出一些使用r为线性模型生成模拟数据集的实现。</p><h2 id="1540" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">实施:线性回归</h2><p id="e00f" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">对于第一个示例，假设我们想要模拟以下线性回归模型</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/7f3fedf0a6999c5e7fb3b2df00ece368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*qd6SHk8fYZWWTYzxHNEomw@2x.png"/></div></figure><p id="4b19" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">其中x_1遵循均值为50、方差为9的正态分布，x_2遵循均值为200、方差为64的正态分布，误差遵循均值为0、方差为16的正态分布。也假设b0、b1和b2分别是150、-4和2.5。我们可以通过编写如下代码来模拟它<strong class="lt jh">(注意不同的种子，结果可能不同)</strong>。</p><figure class="mq mr ms mt gt is"><div class="bz fp l di"><div class="mu mv l"/></div></figure><pre class="mq mr ms mt gt mw mx my mz aw na bi"><span id="4fd5" class="kv kw jg mx b gy nb nc l nd ne">&gt; summary(m1)</span><span id="e73d" class="kv kw jg mx b gy nf nc l nd ne">Call:<br/>lm(formula = y1 ~ x1 + x2)</span><span id="9d33" class="kv kw jg mx b gy nf nc l nd ne">Residuals:<br/>    Min      1Q  Median      3Q     Max <br/>-41.782 -12.913  -0.179  10.802  53.316</span><span id="0afc" class="kv kw jg mx b gy nf nc l nd ne">Coefficients:<br/>             Estimate Std. Error t value Pr(&gt;|t|)    <br/>(Intercept) 154.23621   10.71954   14.39   &lt;2e-16 ***<br/>x1           -3.98515    0.19636  -20.30   &lt;2e-16 ***<br/>x2            2.47327    0.02714   91.14   &lt;2e-16 ***<br/>---<br/>Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span><span id="f9ff" class="kv kw jg mx b gy nf nc l nd ne">Residual standard error: 17.96 on 97 degrees of freedom<br/>Multiple R-squared:  0.9885, Adjusted R-squared:  0.9883 <br/>F-statistic:  4179 on 2 and 97 DF,  p-value: &lt; 2.2e-16</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/111981d458355962b3ce8df1930153c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*ZXIPO-8rG_0hSHDAbPyO9w.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">使用模拟数据集对第一个示例模型进行诊断检查(图片由作者提供)</p></figure><p id="7862" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">从模型<code class="fe nh ni nj mx b">m1</code>可以看出，模型是显著的(基于总体检验的p值)，每个自变量(x1和x2)和常数都是显著的(基于每个变量中的p值)。我们还可以看到，估计的系数非常接近每个系数的预定值。</p><h2 id="6059" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">实施:带分类自变量的线性回归</h2><p id="f747" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">现在，对于第二个示例，假设我们想要模拟以下线性回归模型</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/b52a422c15e6fb43f13b791edd6b5344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*Fvh0t0kKEqwrpWv6aSJrAg@2x.png"/></div></figure><p id="5e04" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">其中x_1和x_2(及其系数)、error和b0与第一个示例相同，但x_3是一个二进制分类变量，遵循二项式分布，成功概率(在R中表示为1)为0.7，b3为5。使用与之前相同的种子，我们可以通过编写如下代码行来模拟它。</p><figure class="mq mr ms mt gt is"><div class="bz fp l di"><div class="mu mv l"/></div></figure><pre class="mq mr ms mt gt mw mx my mz aw na bi"><span id="2eba" class="kv kw jg mx b gy nb nc l nd ne">&gt; summary(m2)</span><span id="a362" class="kv kw jg mx b gy nf nc l nd ne">Call:<br/>lm(formula = y2 ~ x1 + x2 + x3)</span><span id="b7f7" class="kv kw jg mx b gy nf nc l nd ne">Residuals:<br/>    Min      1Q  Median      3Q     Max <br/>-41.914 -12.804  -0.065  10.671  53.178</span><span id="864b" class="kv kw jg mx b gy nf nc l nd ne">Coefficients:<br/>             Estimate Std. Error t value Pr(&gt;|t|)    <br/>(Intercept) 153.84275   11.32094  13.589   &lt;2e-16 ***<br/>x1           -3.98432    0.19751 -20.173   &lt;2e-16 ***<br/>x2            2.47330    0.02728  90.671   &lt;2e-16 ***<br/>x3            5.46641    4.11890   1.327    0.188    <br/>---<br/>Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span><span id="ac5d" class="kv kw jg mx b gy nf nc l nd ne">Residual standard error: 18.05 on 96 degrees of freedom<br/>Multiple R-squared:  0.9885, Adjusted R-squared:  0.9882 <br/>F-statistic:  2758 on 3 and 96 DF,  p-value: &lt; 2.2e-16</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/4203339f932c235a77db36b566fe46a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*tC34IBO83ejdlnsSMXODow.png"/></div></figure><p id="7eca" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">从模型<code class="fe nh ni nj mx b">m2</code>可以看出，模型是显著的，每个自变量(除了x_3)和常数都是显著的(基于每个变量中的p值)。</p><h2 id="8d1d" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">实施:计数回归</h2><p id="43e5" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">对于最后一个例子，假设我们想要模拟下面的计数线性模型(具体来说是泊松回归模型)</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/937541c1278088b2ad5003029655db92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*idF3aRHwb_bFegAL_PsRvQ@2x.png"/></div></figure><p id="a26a" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">其中x_1服从均值为2、方差为1的正态分布，x_2服从均值为1、方差为1的正态分布，b0、b1、b2分别为5、-4、2.5。与前两个示例的不同之处在于，我们需要首先使用上面的等式计算λ的对数，并对其求幂以计算因变量。我们可以通过编写如下代码来模拟它。</p><figure class="mq mr ms mt gt is"><div class="bz fp l di"><div class="mu mv l"/></div></figure><pre class="mq mr ms mt gt mw mx my mz aw na bi"><span id="3bf4" class="kv kw jg mx b gy nb nc l nd ne">&gt; summary(m3)</span><span id="e097" class="kv kw jg mx b gy nf nc l nd ne">Call:<br/>glm(formula = y3 ~ x1 + x2, family = poisson(link = "log"))</span><span id="a3a0" class="kv kw jg mx b gy nf nc l nd ne">Deviance Residuals: <br/>     Min        1Q    Median        3Q       Max  <br/>-1.99481  -0.58807  -0.14819   0.00079   2.08933</span><span id="bbe3" class="kv kw jg mx b gy nf nc l nd ne">Coefficients:<br/>            Estimate Std. Error z value Pr(&gt;|z|)    <br/>(Intercept)  5.02212    0.03389   148.2   &lt;2e-16 ***<br/>x1          -3.96326    0.02871  -138.0   &lt;2e-16 ***<br/>x2           2.48380    0.02950    84.2   &lt;2e-16 ***<br/>---<br/>Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span><span id="ac1e" class="kv kw jg mx b gy nf nc l nd ne">(Dispersion parameter for poisson family taken to be 1)</span><span id="9449" class="kv kw jg mx b gy nf nc l nd ne">Null deviance: 90503.729  on 99  degrees of freedom<br/>Residual deviance:    69.329  on 97  degrees of freedom<br/>AIC: 283.21</span><span id="a8f5" class="kv kw jg mx b gy nf nc l nd ne">Number of Fisher Scoring iterations: 4</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/cd94d7c82fc69b4e1540ead3b6dc77a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*KY2tJiOuvoT3hZ-UcRy_FA.png"/></div></figure><p id="b0b5" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">从模型<code class="fe nh ni nj mx b">m3</code>中，我们可以看到变量和模型常数是重要的，并且我们可以看到估计的系数与每个系数的预定值相比也非常接近。</p><h2 id="5ef5" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结论</h2><p id="8c84" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">就是这样！您已经学习了如何在r中为线性模型生成模拟数据集。本文中的示例只是如何进行模拟数据集生成过程的一些简单实现。在实际应用中，您可以生成更复杂的模拟数据集，并将其用于一些具有交互效果的线性模型或一些高级ML模型。</p><p id="5627" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">像往常一样，如果您有任何问题，请随时提问和/或讨论！我的下一篇文章再见！</p><h2 id="5204" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">作者的联系人</h2><p id="2948" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">领英:<a class="ae jd" href="https://www.linkedin.com/in/raden-aurelius-andhika-viadinugroho-b84b19163/" rel="noopener ugc nofollow" target="_blank">拉登·奥勒留和希卡·维亚迪努格罗霍</a></p><p id="a0b4" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">中:【https://medium.com/@radenaurelius】T4</p><h2 id="74f1" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">参考</h2><p id="4676" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">[1]s . m .罗斯(2013年)。<a class="ae jd" href="https://www.sciencedirect.com/book/9780124158252/simulation" rel="noopener ugc nofollow" target="_blank"> <em class="nm">模拟，第5版</em> </a>。爱思唯尔。</p><p id="7714" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">[2]<a class="ae jd" href="https://bookdown.org/rdpeng/rprogdatascience/simulation.html#simulating-a-linear-model" rel="noopener ugc nofollow" target="_blank">https://book down . org/rd Peng/rprogdatascience/simulation . html # simulating-a-linear-model</a></p><p id="5301" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">[3]巴拉尔迪，p .，曼吉利，f .，和齐奥，E. (2013年)。<a class="ae jd" href="https://www.sciencedirect.com/science/article/pii/S0951832012002591?casa_token=VIZMOmD3vBwAAAAA:miZcBKZp_5HIzzVw1UcVQfsbrgvWv59piCov8XtcrtGgA-TMdcYfVI9tab0ioZ3PexsflwXY" rel="noopener ugc nofollow" target="_blank">使用模拟数据调查基于模型和数据驱动的预测方法的不确定性处理能力</a>。<em class="nm">可靠性工程&amp;系统安全</em>，第112卷，第94–108页。</p><p id="4269" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">[4]奥尔蒂斯-巴里奥斯，硕士，伦德斯特伦，法官，辛诺特，法官，热尔佩和圣安娜(2020年)。<a class="ae jd" href="https://link.springer.com/article/10.1007/s11042-019-08368-5" rel="noopener ugc nofollow" target="_blank">用模拟数据补充真实数据集:基于回归的方法</a>。<em class="nm">多媒体工具和应用</em>，第79卷，第34301–34324页。</p></div></div>    
</body>
</html>