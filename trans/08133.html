<html>
<head>
<title>Oilfield Lithology Prediction from Drilling Data with Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于机器学习的钻井数据油田岩性预测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/oilfield-lithology-prediction-from-drilling-data-with-machine-learning-520ee9ff6e7c?source=collection_archive---------23-----------------------#2021-07-26">https://towardsdatascience.com/oilfield-lithology-prediction-from-drilling-data-with-machine-learning-520ee9ff6e7c?source=collection_archive---------23-----------------------#2021-07-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1a57" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">实际工作流程和经验教训</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/72701fd206adb4178b42dae65af3ccd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u_DSKPYn2r0lSdHdm1Kj9w.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">丹尼尔·史密斯在<a class="ae kv" href="https://unsplash.com/s/photos/drilling?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="74f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近，在石油和天然气行业，我们发现了相当多的机器学习应用。我去年写了<a class="ae kv" rel="noopener" target="_blank" href="/prediction-of-p-sonic-log-in-the-volve-oil-field-using-machine-learning-9a4afdb92fe8">另一篇关于声波测井预测的文章</a>，令人惊讶的是获得了如此多的回应，这项工作传播非常迅速。另一个ML应用是岩性预测。岩性是指岩石的类型。例如，岩性分为砂岩、粘土岩、泥灰岩、石灰石和白云石。</p><p id="a6d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通常根据地球物理测井预测岩性，因为这些测井直接代表岩性。在这个应用领域已经有了无数的作品，甚至已经有了两个公开的比赛<a class="ae kv" href="https://agilescientific.com/blog/2016/12/8/seg-machine-learning-contest-theres-still-time" rel="noopener ugc nofollow" target="_blank">这里</a> (2016)和<a class="ae kv" href="https://www.npd.no/en/force/Previous-events/machine-learning-contest-with-wells-and-seismic/" rel="noopener ugc nofollow" target="_blank">这里</a> (2020)。</p><p id="1bd6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们想做一些不同的事情，即从钻井数据预测岩性<strong class="ky ir">。这是不同的，因为岩性和钻井测量值(如扭矩、钻头转速或泵冲程)之间的关系仍未得到很好的理解。</strong></p><p id="8bba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基于钻井数据的岩性预测将有助于石油和天然气行业的<strong class="ky ir">实时地质导向</strong>。地质导向是一种控制定向钻井的过程，以使其保持在产油层中，产油层是地下的一个区域，具有作为碳氢化合物生产者的经济价值。这需要了解钻头周围的岩性。实际上，这些信息可以通过随钻测井(LWD)来提供。然而，在通过LWD的测量和钻头的当前位置之间存在深度滞后，并且LWD传递到地面存在时间延迟。因此，我们需要一个准确实时的岩性描述。</p><p id="e5a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们把手弄脏。</p><blockquote class="ls lt lu"><p id="05a4" class="kw kx lv ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">本文提供了源代码以供复制。<strong class="ky ir">访问它</strong> <a class="ae kv" href="https://github.com/yohanesnuwara/volve-machine-learning/blob/main/notebook/lith_prediction_from_drilling.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">这里</strong> </a>。</p></blockquote><h1 id="487a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">数据概述</h1><p id="42ba" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们使用Equinor为公众提供的Volve字段的数据集。我们将要使用的数据集已经过预处理。在这里找到数据<a class="ae kv" href="https://github.com/yohanesnuwara/volve-machine-learning/blob/main/Realtime_Drilling_F_15.csv" rel="noopener ugc nofollow" target="_blank">。来自特定井的数据集有33列；2列(深度和时间)被称为标识符，因为我们实时获得每个深度的测量值，30列是从钻井数据获得的被测变量，在ML术语中我们称之为特征，最后1列是从泥浆测井数据获得的岩性标签。</a></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="ed4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在岩性栏中有5个岩性类别:砂岩、粘土岩、泥灰岩、石灰石和白云石。由于石灰石和白云石的观察次数最少，我们将只使用<strong class="ky ir">砂岩、粘土岩和泥灰岩</strong>进行分类。此外，请注意观察数量的不平衡。在这种情况下，我们有一个不平衡的分类。稍后，我们将在做出预测之前先处理这个问题。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi my"><img src="../Images/b0f672add229a5512f4ec614482668f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*bcZ_2Bj-r7rbInF2Bpl8Tg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">岩性分类分布— Yohanes Nuwara</p></figure><p id="c0bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可能会对这些钻井数据中的大量被测变量感到惊讶。所有这些被测变量都是缩写的，但我们不会逐一描述每个被测变量是什么，因为当然，<strong class="ky ir">我们不需要所有这30个特征来进行预测！</strong>它们中的一些是错误的和无用的，这就是为什么我们将进行特征选择。</p><h1 id="604b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">特征选择</h1><p id="26cd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">当我们进行机器学习时，我们会尽最大努力减少过多特征的数量，因为较少的特征可以使我们的预测模型训练得更快。基本上，我们有两种方法可以做:移除错误特征和移除冗余特征。</p><h2 id="5e80" class="mz ma iq bd mb na nb dn mf nc nd dp mj lf ne nf ml lj ng nh mn ln ni nj mp nk bi translated">1.埃罗纽斯特征</h2><p id="58ce" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">一个错误的特征不能帮助我们对目标进行分类。它<strong class="ky ir">包含常量或统一值</strong>。同样，当我们对水果进行分类时，例如，苹果、橘子和西瓜，仅用“形状”作为预测指标是不够的。所有这些水果当然都是“圆形”的。如果有1000个观察值被标记为苹果、桔子或西瓜，那么我们的“形状”列中的所有值都将是“圆形”。在这种情况下，我们需要一个更鲜明的预测因子，比如“颜色”。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">水果分类时的错误特征示例</p></figure><p id="17db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，错误的特征并不总是由常量值引起的。有时，特征上可能有常量值，因为该特定特征是一个<strong class="ky ir">注释</strong>。</p><p id="67e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在某些情况下，我们不需要删除某个特征。由于任何数据都容易出现测量误差，因此异常值会使要素看起来不正确。通常，<strong class="ky ir">我们可以使用我们的领域知识</strong>发现异常值。如果这个特性看起来仍然有用，我们可以只移除离群值，而<strong class="ky ir">保留它，而不是</strong>。</p><blockquote class="nl"><p id="2782" class="nm nn iq bd no np nq nr ns nt nu lr dk translated">我们需要明智地发现错误的特征。</p></blockquote><p id="7277" class="pw-post-body-paragraph kw kx iq ky b kz nv jr lb lc nw ju le lf nx lh li lj ny ll lm ln nz lp lq lr ij bi translated">有一些方法可以识别。第一，汇总统计。在Pandas中，我们使用<code class="fe oa ob oc od b">dataframe.describe()</code>来打印汇总统计数据。以下是一些功能的精选摘要统计数据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/9ea4abe8dcccd779ead2bc53f4a82108.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*no6pynayjhg_Sb0WFzUirw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">钻井数据的错误特征</p></figure><p id="f8ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> RigActivityCode </strong>和<strong class="ky ir"> DXC </strong>都具有恒定值，因为平均值、最小值、最大值和百分位数相等。这些功能是错误的，因此不能使用。我们看到“RigActivityCode”只是一个没有任何意义的注释。接下来，<strong class="ky ir"> MWIN </strong>显示所有相等的百分位数和最大值，而<strong class="ky ir"> LAGMTDIFF </strong>显示所有相等的百分位数和最小值。我们可以得出结论，这两个也是错误的。</p><p id="9b64" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，看看WOB。百分位数看起来不错，但是最小值是负的，最大值非常大。由于WOB是钻压，负的钻压不可能是真的。此外，非常大的最大值意味着存在异常值。然而，<strong class="ky ir">我们保留WOB，而不是</strong>，因为我们可以仅移除异常值，即移除WOB小于0且小于1，000，000的数据部分。</p><p id="0534" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一种发现错误特征的方法是识别具有零的数据的百分比<strong class="ky ir"/>。这里，我们计算了百分比。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/8a3309fdc7af58f55bb50b4b6d19f9a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*XAXcId02NGBOzpS_bSfMQQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">数据中零的百分比</p></figure><p id="6ff2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的计算结果中，<strong class="ky ir">lagwdiff</strong>有81%的值为零。这也是我们需要放弃这个特性的一个重要原因。</p><h2 id="47c2" class="mz ma iq bd mb na nb dn mf nc nd dp mj lf ne nf ml lj ng nh mn ln ni nj mp nk bi translated">2.冗余功能</h2><p id="d92b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">冗余特征具有在它们之间具有高相关性的特征。我们可以绘制出这些变量之间相互关系的热图。使用了斯皮尔曼相关性。我们的特征选择规则是<strong class="ky ir">高度相关的特征将不被使用</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/f7b852f09e11b6cc98c60d456519f7b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lBCIxiVHdc_NY_civhfXPg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Spearman相关特征的热图——yo hanes nu wara</p></figure><p id="c8f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在发现一些高度相关的特征之后，我们现在可以移除这些特征。</p><blockquote class="nl"><p id="7a2f" class="nm nn iq bd no np nq nr ns nt nu lr dk translated">但是请记住，我们需要使用我们的领域知识来证明为什么我们需要删除它。</p></blockquote><p id="e04e" class="pw-post-body-paragraph kw kx iq ky b kz nv jr lb lc nw ju le lf nx lh li lj ny ll lm ln nz lp lq lr ij bi translated">SURF_RPM(表面上每分钟的转数)与BIT_RPM(钻头上每分钟的转数)相关，因为当我们使用钻头时，钻头上测得的转数将总是等于表面上测得的转数。我们将<strong class="ky ir">移除SURF_RPM </strong>。</p><p id="840e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还<strong class="ky ir">移除了MUDRETDEPTH、BIT_DIST、ONBOTTOM_TIME </strong>，因为这三者都是相关的。</p><p id="cf53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">流入(泥浆流入)与STRATESUM(泵总冲程速率)相关，因为当泥浆流入时，钻井工程师会获得泵的测量值。我们选择<strong class="ky ir">移除流入</strong>。</p><p id="04bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，我们看到流出量(泥浆流出量)与STRATESUM不相关，因为泥浆流出量不受泥浆流入量的控制。所以，我们<strong class="ky ir">保留这两个</strong>。</p><h2 id="c061" class="mz ma iq bd mb na nb dn mf nc nd dp mj lf ne nf ml lj ng nh mn ln ni nj mp nk bi translated">3.选定的功能</h2><p id="e287" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">令人惊讶的是，经过紧张的试镜，我们已经将30个特征减少到只有9个！功能如下:</p><ul class=""><li id="bb2a" class="oh oi iq ky b kz la lc ld lf oj lj ok ln ol lr om on oo op bi translated">扭矩:平均表面扭矩(N.m)</li><li id="b733" class="oh oi iq ky b kz oq lc or lf os lj ot ln ou lr om on oo op bi translated">STRATESUM:泵总冲程速率(Hz)</li><li id="7f5a" class="oh oi iq ky b kz oq lc or lf os lj ot ln ou lr om on oo op bi translated">BIT_RPM:钻头每分钟的转数(c/s)</li><li id="5cbd" class="oh oi iq ky b kz oq lc or lf os lj ot ln ou lr om on oo op bi translated">泵:泵压(Pa)</li><li id="c28d" class="oh oi iq ky b kz oq lc or lf os lj ot ln ou lr om on oo op bi translated">流出量:泥浆流出量(m3/s)</li><li id="2b2e" class="oh oi iq ky b kz oq lc or lf os lj ot ln ou lr om on oo op bi translated">ROP_AVG:深度平均每分钟转数(米/秒)</li><li id="6a80" class="oh oi iq ky b kz oq lc or lf os lj ot ln ou lr om on oo op bi translated">TOTGAS:总气体含量(ppm)</li><li id="cbaf" class="oh oi iq ky b kz oq lc or lf os lj ot ln ou lr om on oo op bi translated">WOB:钻压(N)</li><li id="e040" class="oh oi iq ky b kz oq lc or lf os lj ot ln ou lr om on oo op bi translated">ECDBIT:钻头有效循环密度(kg/m3)</li></ul><p id="4867" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们希望这些特征有助于对砂岩、粘土岩和泥灰岩岩性进行分类。以下是我们减少特征后的数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="7c8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以以日志的形式显示数据，x轴为特征，y轴为深度。右边的日志是岩性栏；红色是泥灰岩，绿色是粘土岩，紫色是砂岩。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/c1b2b225fd3f87818d2adfe792020e67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*0jVXkhXQMqEM2GncAwvaOA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">测井显示中的钻井数据和岩性图— Yohanes Nuwara</p></figure><p id="1908" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pairplot也是一种有用的探索性数据分析技术。下面是使用<code class="fe oa ob oc od b">seaborn</code>库的所有特征的配对图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/78ed8dff2436d978fd01cfb61de23389.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vtbkzHn92TR9jmHpC8VLhw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">钻井数据特征对绘图——yo hanes nu wara</p></figure><h1 id="1ce0" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">对不平衡类进行过采样</h1><p id="107f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们知道我们班的观测数是不平衡的。有一个不平衡的类将使我们的预测模型具有高精度但低召回率。为了纠正这一点，我们需要对数据进行重新采样。许多重采样技术中有3种；欠采样、过采样以及两者的组合。</p><p id="c09f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<a class="ae kv" rel="noopener" target="_blank" href="/multi-class-metrics-made-simple-part-i-precision-and-recall-9250280bddc2">这篇文章</a>中，Boaz Shmueli博士更深入地解释了精度和召回，而<a class="ae kv" rel="noopener" target="_blank" href="/how-to-deal-with-imbalanced-data-in-python-f9b71aba53eb">另一篇文章</a>解释了为什么我们应该关注不平衡类以及上述技术。</p><p id="e575" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，我们将使用<code class="fe oa ob oc od b">imblearn</code> Python库中提供的<a class="ae kv" href="https://www.cs.cmu.edu/afs/cs/project/jair/pub/volume16/chawla02a-html/chawla2002.html" rel="noopener ugc nofollow" target="_blank"> SMOTE </a>(合成少数过采样技术)进行过采样。最初，我们有219:30:17的砂岩、粘土岩和泥灰岩样品。击杀后，我们将拥有所有219:219:219。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/934a1d2d30ebda30eae5eae211a90725.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3pI3d_3ec0fHk1VKN840ww.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://medium.com/analytics-vidhya/bank-data-smote-b5cb01a5e0a2" rel="noopener"> Zaki Jefferson </a>对SMOTE过采样过程的说明</p></figure><h1 id="4500" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">预言；预测；预告</h1><p id="8139" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们以30%的测试规模执行训练和测试数据分割，其中<code class="fe oa ob oc od b">train_test_split</code>在<code class="fe oa ob oc od b">scikit-learn</code>中。注意，我们应该<strong class="ky ir">通过定义<code class="fe oa ob oc od b">stratify</code>参数来使用分层抽样而不是随机抽样</strong>，因为分层对于不平衡的情况是有用的。然后我们应用标准化来转换数据。这里，标准缩放技术用于归一化。最后，我们使用AdaBoost分类器训练数据。</p><p id="5e8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了简化我们的训练过程，我们构建了一个包含<code class="fe oa ob oc od b">StandardScaler</code>归一化、<code class="fe oa ob oc od b">SMOTE</code>过采样器和<code class="fe oa ob oc od b">AdaBoostClassifier</code>模型的流水线。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/627a1eb34ae20d1e34cf203c9e8d1935.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*3KyRXdIZGfALvwJjD0e-4w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">管道结构——约哈内斯努瓦拉</p></figure><p id="f22e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要评估我们的分类器的性能，所以我们将做交叉验证(CV)。在这几种CV中，我们选择使用10次分割和3次重复的重复分层K-Fold CV。再次，分层。</p><p id="8f44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们已经讨论过的，我们使用准确度、精确度和召回率作为我们的衡量标准。使用AdaBoost分类器，我们实现了96%的准确度、86%的精确度和89%的召回率。这是一个很好的性能，因为这些指标表明该模型可以很好地预测每个类别。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/6c036f94ca87274f2bd75ea3897b6620.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*IeNw5QOXg0tFAI7W7Mj_eg.png"/></div></figure><p id="b947" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还绘制了混淆矩阵，以帮助我们了解AdaBoost模型对来自我们的测试集的每个真实类和每个预测类的分类情况。我们看到65个样本中的61个粘土岩、60个泥灰岩和64个砂岩样本被成功预测。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/2ed4fa64b79086f252983f8e8bd33bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*pWB_Dp5a8hxZp3v8uqmQpA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">混淆矩阵——约哈内斯·努瓦拉</p></figure><p id="3270" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是我们的分类报告，显示了每个类别的指标。这表明该模型对每个类别的预测都一样好。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/8af3a6d3831cabfc8afcc09551ce0ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HnobpOEN1iC-9w-LlMnYqA.png"/></div></div></figure><p id="1f13" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">模型的可解释性也很重要。这里，我们制作了AdaBoost预测中使用的所有特征的特征重要性图。只有ECDBIT、TOTGAS和ROP_AVG这三个功能表现突出，重要性几乎相当，分别为30%和35%。这意味着这三个特征对预测岩性的能力贡献最大。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/4dbd73caaca0216ef6cdc5f2947f5329.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*bYNOSjfiUj2po4HUPZ6TtA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">特征重要性图— Yohanes Nuwara</p></figure><h1 id="e252" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">总结和结论</h1><p id="8c28" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们的数据集包括钻井测量值和来自泥浆测井的岩性。我们通过剔除错误和冗余的功能，经过严格选择，将30个功能减少到9个。我们数据中的岩性类别不平衡，砂岩是主要类别，因此我们使用SMOTE进行过采样。数据集以分层的方式分成30%的测试集。在流水线中，我们从标准缩放归一化、SMOTE和AdaBoost模型开始。接下来，我们进行分层重复K-Fold交叉验证，并拟合我们的数据。事实证明，我们的AdaBoost模型可以预测砂岩、粘土岩和泥灰岩岩性，准确率为86%，召回率为89%。在解释我们的模型后，3个特征，ECDBIT、TOTGAS和ROP_AVG对预测贡献最大，同等重要性为30%至35%。</p><p id="8f30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们试图从钻井数据中预测岩性，这仅仅是利用更多数据创建更强大的预测模型的更令人兴奋的机会的开始。如前所述，基于钻井数据的岩性预测可以应用于实时地质导向。每当来自钻井的测量值到来时，模型就预测岩性。机会向我们所有人开放。所以，请让我知道，如果你有任何想法来改善这项工作！再见！</p></div><div class="ab cl pd pe hu pf" role="separator"><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi"/></div><div class="ij ik il im in"><p id="2c45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">领英:</strong>【https://www.linkedin.com/in/yohanesnuwara/】T2</p><p id="47af" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">GitHub:<a class="ae kv" href="https://github.com/yohanesnuwara" rel="noopener ugc nofollow" target="_blank">https://github.com/yohanesnuwara</a></p></div></div>    
</body>
</html>