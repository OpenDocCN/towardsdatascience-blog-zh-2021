<html>
<head>
<title>Create Stunning Visualizations with Altair</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Altair创建令人惊叹的可视化效果</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-stunning-visualizations-with-altair-f9af7ad5e9b?source=collection_archive---------13-----------------------#2021-05-30">https://towardsdatascience.com/create-stunning-visualizations-with-altair-f9af7ad5e9b?source=collection_archive---------13-----------------------#2021-05-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="257f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">提高在Python中可视化数据的效率</h2></div><blockquote class="ki kj kk"><p id="d3af" class="kl km kn ko b kp kq ju kr ks kt jx ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">“美将拯救世界。”</p><p id="1536" class="kl km kn ko b kp kq ju kr ks kt jx ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">- F .陀思妥耶夫斯基</p></blockquote><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi li"><img src="../Images/29d42912af2138101be569854eb2954a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5chJb8JPTz13kpRYAy2jOg.jpeg"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">在<a class="ae ly" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ly" href="https://unsplash.com/@corina?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> corina ardeleanu </a>拍摄的照片</p></figure><h1 id="469c" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">介绍</h1><p id="8d87" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">你是否曾经在看了Python中的可视化后感到沮丧？你有没有想过用更少的努力和时间可以做得更好？如果是这样，这篇文章非常适合你，因为我想分享一下Altair库，它会提高你的工作效率，让你的视觉效果更吸引人。</p><p id="7b87" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">我想你已经知道可视化对于任何分析是多么重要，以及它如何帮助向更广泛的受众传达和翻译一个想法。此外，可视化数据是探索数据并了解从哪里深入挖掘的第一步。因此，我将使用散点图 重点介绍牛郎星的<strong class="ko iu"> <em class="kn">基本语法，然后<strong class="ko iu"> <em class="kn">与您分享一些各种图形</em> </strong>的示例。在此之前，我们先来说说牛郎星，了解一下它为什么这么厉害。</em></strong></p><h1 id="4c18" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">为什么是牛郎星？</h1><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi mz"><img src="../Images/61cad3caaa5a77d3d417d6d4f57edb3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6XUNdRO1B_ma_VHPcckH0A.gif"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">牛郎星示例图库(来源于作者)</p></figure><p id="d60a" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">Altair是一个声明性的统计可视化库，它使用Vega和Vega-Lite语法来帮助描述JSON格式的可视化的视觉外观和交互行为。</p><p id="77f8" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">Altair背后的关键思想是，你声明数据列和可视编码通道之间的链接(例如，x和y轴、颜色、大小等。)并且可视化过程的其余部分由库来处理。因此，它让你有更多的时间关注数据和分析，而不是解释如何可视化数据[1]。</p><h2 id="5243" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">牛郎星的组件</h2><ol class=""><li id="888f" class="nm nn it ko b kp mr ks ms mt no mv np mx nq lh nr ns nt nu bi translated"><strong class="ko iu"> <em class="kn">数据:</em> </strong>用于可视化的数据帧</li></ol><p id="d598" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">2.<strong class="ko iu"> <em class="kn">标记:</em> </strong>您希望数据以何种方式显示(线条、条形、刻度、点)？</p><p id="5796" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">3.<strong class="ko iu"> <em class="kn">编码:</em> </strong>数据将如何表示(x和y的位置，颜色，大小)？</p><p id="9b19" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">4.<strong class="ko iu"> <em class="kn">转换:</em> </strong>在应用可视化之前，您希望如何转换数据(聚集、折叠、过滤等)。)?</p><p id="ce86" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">5.<strong class="ko iu"> <em class="kn"> Scale: </em> </strong>用于在屏幕上输入和渲染数据的功能</p><p id="5e03" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">6.<strong class="ko iu"> <em class="kn">引导:</em> </strong>图例、x轴和y轴上的记号等视觉辅助。</p><p id="bc54" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">对于<strong class="ko iu"> <em class="kn">标记</em> </strong>组件，可以使用以下基本标记属性:</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi nv"><img src="../Images/d4e53cb31950d5b1a1bf21dccbe18b10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CIEnfOE7SqzT7frZaJTBRw.png"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">Altair的文档截图</p></figure><h1 id="f3cf" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">用散点图理解牛郎星的语法</h1><p id="2f54" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">让我们把我们的手脏，并学习阿尔泰的语法使用散点图。</p><h2 id="8ad8" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">装置</h2><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="190f" class="na ma it nx b gy ob oc l od oe">$ pip install <!-- -->altair vega_datasets</span></pre><p id="fb56" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">conda的等效值为</p><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="2c0d" class="na ma it nx b gy ob oc l od oe">$ conda install -c conda-forge altair vega_datasets</span></pre><h2 id="88c8" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">数据</h2><p id="667a" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">我将使用以下Vega数据集:</p><ol class=""><li id="193c" class="nm nn it ko b kp kq ks kt mt of mv og mx oh lh nr ns nt nu bi translated">data.gapminder()</li><li id="8fed" class="nm nn it ko b kp oi ks oj mt ok mv ol mx om lh nr ns nt nu bi translated">投资数据.股票()</li><li id="3eb1" class="nm nn it ko b kp oi ks oj mt ok mv ol mx om lh nr ns nt nu bi translated">data.movies()</li></ol><p id="3edf" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">让我们导入包并查看数据</p><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="f718" class="na ma it nx b gy ob oc l od oe">import pandas as pd<br/>import altair as alt<br/>from vega_datasets import data</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi on"><img src="../Images/effa477412ed656479ce083ad5a02131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*33ASvR9V9JzvmMRV4_CXAw.png"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">Gapminder数据集</p></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi oo"><img src="../Images/8faf34d30450f6fe4fac9b9672adae36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TVXiM0tiaaSIq-0xUedSgw.png"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">股票数据集</p></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi op"><img src="../Images/a69db2f0c86f88f885c6ce7bad21aa1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HdRFwQRImgBQPBnITj5K3A.png"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">电影数据集</p></figure><h2 id="0645" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">步骤1:简单散点图</h2><p id="f143" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated"><em class="kn"> Chart()。让我们使用<em class="kn"> Chart() </em>、<em class="kn"> mark_point()。</em></em></p><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="4d2c" class="na ma it nx b gy ob oc l od oe">alt.Chart(df_gm_2005).mark_point().encode(<br/> alt.X(‘life_expect’),<br/> alt.Y(‘fertility’))</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/ee809560427464299b1f6542579991af.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*hMNI2KZiP3NdihP8s79jPw.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">简单散点图</p></figure><h2 id="9ccf" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">第二步:增加互动性</h2><p id="025e" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">通过在散点图中添加<em class="kn"> interactive()。此外，让我们用<em class="kn"> alt来定义泡沫的大小。大小)(</em>为地块添加更多信息。</em></p><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="0fd4" class="na ma it nx b gy ob oc l od oe">alt.Chart(df_gm_2005).mark_point(filled=True).encode(<br/> alt.X(‘life_expect’),<br/> alt.Y(‘fertility’),<br/> alt.Size(‘pop’)<br/>).interactive()</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi or"><img src="../Images/7978dc4fcfe7776c297120c5289b56d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/1*mL6S4XcGUTnuTLicyfunXw.gif"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">简单交互散点图</p></figure><h2 id="b114" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">第三步:添加颜色</h2><p id="45a4" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">我们可以通过添加<em class="kn"> alt来改变气泡的颜色。<em class="kn">中的</em>颜色()编码为</em>对象。这是伟大的，我们不需要担心每一个国家的每一种颜色，因为牛郎星为你这样做。</p><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="0900" class="na ma it nx b gy ob oc l od oe">alt.Chart(df_gm_2005).mark_point(filled=True).encode(<br/> alt.X(‘life_expect’),<br/> alt.Y(‘fertility’),<br/> alt.Size(‘pop’),<br/> alt.Color(‘country’),<br/> alt.OpacityValue(0.7)<br/>).interactive()</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi os"><img src="../Images/a6e40d6f733afaebe6727c4e88e3b561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/1*qBo2UPnZUOMS0fx-HCvenA.gif"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">带有彩色气泡的交互式散点图</p></figure><h2 id="c2fd" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">第4步:添加更多信息</h2><p id="31ca" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">我们可以通过在<em class="kn"> encode()。</em></p><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="9ff8" class="na ma it nx b gy ob oc l od oe">alt.Chart(df_gm_2005).mark_point(filled=True).encode(<br/> alt.X(‘life_expect’),<br/> alt.Y(‘fertility’),<br/> alt.Size(‘pop’),<br/> alt.Color(‘country’),<br/> alt.OpacityValue(0.7),<br/> tooltip = [alt.Tooltip(‘country’),<br/> alt.Tooltip(‘fertility’),<br/> alt.Tooltip(‘life_expect’),<br/> alt.Tooltip(‘pop’),<br/> alt.Tooltip(‘year’)]<br/>).interactive()</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi os"><img src="../Images/6dfae0d8ea0986d034f7b872ffbc91de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/1*KgqUoJ_toT8PFhUJa-97jA.gif"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">现在显示每个国家/地区的信息</p></figure><h2 id="013a" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">第五步:让情节充满活力</h2><p id="3819" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">对于2005年的数据来说已经显得惊人了。让我们添加一个酒吧，以改变数据，使绘图动态。</p><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="5af1" class="na ma it nx b gy ob oc l od oe">select_year = alt.selection_single(<br/> name=’Select’, fields=[‘year’], init={‘year’: 1955},<br/> bind=alt.binding_range(min=1955, max=2005, step=5)<br/>)</span><span id="2552" class="na ma it nx b gy ot oc l od oe">alt.Chart(df_gm).mark_point(filled=True).encode(<br/> alt.X(‘life_expect’),<br/> alt.Y(‘fertility’),<br/> alt.Size(‘pop’),<br/> alt.Color(‘country’),<br/> alt.OpacityValue(0.7),<br/> tooltip = [alt.Tooltip(‘country’),<br/> alt.Tooltip(‘fertility’),<br/> alt.Tooltip(‘life_expect’),<br/> alt.Tooltip(‘pop’),<br/> alt.Tooltip(‘year’)]<br/>).add_selection(select_year).transform_filter(select_year).interactive()</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/813558d0001d536fb14e63aa83d8ca7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/1*Te2UokQxJgPcLxY--vJITA.gif"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">选择年度的动态可视化</p></figure><h2 id="05da" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">步骤6:更改大小并添加标题</h2><p id="2a69" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">最后，让我们更改情节的大小并添加一个标题</p><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="35e5" class="na ma it nx b gy ob oc l od oe">select_year = alt.selection_single(<br/> name=’Select’, fields=[‘year’], init={‘year’: 1955},<br/> bind=alt.binding_range(min=1955, max=2005, step=5)<br/>)</span><span id="fe13" class="na ma it nx b gy ot oc l od oe">scatter_plot = alt.Chart(df_gm).mark_point(filled=True).encode(<br/> alt.X(‘life_expect’),<br/> alt.Y(‘fertility’),<br/> alt.Size(‘pop’),<br/> alt.Color(‘country’),<br/> alt.OpacityValue(0.7),<br/> tooltip = [alt.Tooltip(‘country’),<br/> alt.Tooltip(‘fertility’),<br/> alt.Tooltip(‘life_expect’),<br/> alt.Tooltip(‘pop’),<br/> alt.Tooltip(‘year’)]<br/>).properties(<br/> width=500,<br/> height=500,<br/> title=”Relationship between fertility and life expectancy for various countries by year”<br/>).add_selection(select_year).transform_filter(select_year).interactive()</span><span id="be2d" class="na ma it nx b gy ot oc l od oe">scatter_plot.configure_title(<br/> fontSize=16,<br/> font=”Arial”,<br/> anchor=”middle”,<br/> color=”gray”)</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/23edc7c8f6d48da353a9f539a1da57b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*6qBzRWpew0srO2kOsNArCQ.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">散点图的最终结果</p></figure><p id="7806" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">最终的输出看起来很棒，我们可以从这样一个复杂的可视化中得到各种见解。</p><h1 id="c8dd" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">其他有用的地块与牵牛星</h1><p id="648b" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">现在，了解了基本的牵牛星的语法，让我们看看其他一些情节。</p><h2 id="052c" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">方框图</h2><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="e9a5" class="na ma it nx b gy ob oc l od oe">box_plot = alt.Chart(df_gm_2005).mark_boxplot(size=100, extent=0.5).encode(<br/> y=alt.Y(‘life_expect’, scale=alt.Scale(zero=False))<br/>).properties(<br/> width=400,<br/> height=400,<br/> title=”Distribution of life expectancy for various countries in 2005 year”<br/>).configure_axis(<br/> labelFontSize=14,<br/> titleFontSize=14<br/>).configure_mark(<br/> opacity=0.6,<br/> color=’darkmagenta’<br/>)</span><span id="79c9" class="na ma it nx b gy ot oc l od oe">box_plot.configure_title(<br/> fontSize=16,<br/> font=”Arial”,<br/> anchor=”middle”,<br/> color=”gray”)</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/82240aa6b468e995dcb6618bc6dab1a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*O74RCfweKO3nQ8AP4S-Haw.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">方框图</p></figure><h2 id="f26c" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">柱状图</h2><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="0813" class="na ma it nx b gy ob oc l od oe">histogram = alt.Chart(df_gm_2005).mark_bar().encode(<br/> alt.X(“life_expect”, bin=alt.Bin(extent=[0, 100], step=10)),<br/> y=”count()”<br/>).properties(<br/> width=400,<br/> height=300,<br/> title=”Distribution of population for various countries in 2005 year”<br/>).configure_axis(<br/> labelFontSize=14,<br/> titleFontSize=14<br/>).configure_mark(<br/> opacity=0.5,<br/> color=’royalblue’<br/>)</span><span id="db3b" class="na ma it nx b gy ot oc l od oe">histogram.configure_title(<br/> fontSize=16,<br/> font=”Arial”,<br/> anchor=”middle”,<br/> color=”gray”)</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/a00dc02333cf6380aa8154b5cef4e4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*hlSJ51mW0BXEsfbdL_iEJQ.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">柱状图</p></figure><h2 id="fbe9" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">条形图</h2><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="c835" class="na ma it nx b gy ob oc l od oe">bar_chart = alt.Chart(df_gm_ir).mark_bar(color=’seagreen’,<br/> opacity=0.6<br/>).encode(<br/> x=’pop:Q’,<br/> y=”year:O”<br/>).properties(<br/> width=400,<br/> height=400,<br/> title=”Population of Ireland”<br/>)</span><span id="545e" class="na ma it nx b gy ot oc l od oe">text = bar_chart.mark_text(<br/> align=’left’,<br/> baseline=’middle’,<br/> dx=3<br/>).encode(<br/> text=’pop:Q’<br/>)</span><span id="ebc8" class="na ma it nx b gy ot oc l od oe">bar_chart + text</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/907f61cdff2223487011d39dd5e78909.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*EWEQ0H3yb7RHonIR-9xXpg.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">条形图</p></figure><h2 id="9630" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">折线图</h2><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="4387" class="na ma it nx b gy ob oc l od oe">line_chart = alt.Chart(df_stocks).mark_line().encode(<br/> x=’date’,<br/> y=’price’,<br/> color=’symbol’<br/>).properties(<br/> width=400,<br/> height=300,<br/> title=”Daily closing stock prices”<br/>)</span><span id="f87b" class="na ma it nx b gy ot oc l od oe">line_chart.configure_title(<br/> fontSize=16,<br/> font=”Arial”,<br/> anchor=”middle”,<br/> color=”gray”)</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/4bfbf7831b72d96897e62e412972b682.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*4HZwegOu_7qTxJhLL0AKvQ.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">折线图</p></figure><h2 id="01d9" class="na ma it bd mb nb nc dn mf nd ne dp mj mt nf ng ml mv nh ni mn mx nj nk mp nl bi translated">多个散点图</h2><pre class="lj lk ll lm gt nw nx ny nz aw oa bi"><span id="6095" class="na ma it nx b gy ob oc l od oe">mult_scatter_plots = alt.Chart(df_movies).mark_circle().encode(<br/> alt.X(alt.repeat(“column”), type=’quantitative’),<br/> alt.Y(alt.repeat(“row”), type=’quantitative’),<br/> color=’Major_Genre:N’<br/>).properties(<br/> width=150,<br/> height=150<br/>).repeat(<br/> row=[‘US_Gross’, ‘Worldwide_Gross’, ‘IMDB_Rating’],<br/> column=[‘US_Gross’, ‘Worldwide_Gross’, ‘IMDB_Rating’]<br/>).interactive()</span><span id="8085" class="na ma it nx b gy ot oc l od oe">mult_scatter_plots</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi pa"><img src="../Images/0f52967aaf4b68ddc241856ae2cbfef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v7C6JkEm2jOJA3IsCRo8bQ.png"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">多个散点图</p></figure><h1 id="f485" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">最后的想法</h1><p id="927e" class="pw-post-body-paragraph kl km it ko b kp mr ju kr ks ms jx ku mt mu kx ky mv mw lb lc mx my lf lg lh im bi translated">牛郎星是一个伟大的工具，以提高你的生产力可视化数据，在那里你只需要指定数据和可视化编码通道之间的链接。这样你就可以把你的思想直接放在一个情节上，而不用担心耗时的“如何”部分。</p><p id="cac3" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">有关详细信息，请参阅</p><ul class=""><li id="b13e" class="nm nn it ko b kp kq ks kt mt of mv og mx oh lh pb ns nt nu bi translated">我的<a class="ae ly" href="https://github.com/aigera2007/data_visualization_with_altair/blob/main/data_visualization_with_altair.ipynb" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>用于博客帖子</li><li id="e03b" class="nm nn it ko b kp oi ks oj mt ok mv ol mx om lh pb ns nt nu bi translated"><a class="ae ly" href="https://altair-viz.github.io/getting_started/overview.html" rel="noopener ugc nofollow" target="_blank">官方文件</a>附有各种地块的示例画廊。</li></ul><p id="e7f6" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mt kw kx ky mv la lb lc mx le lf lg lh im bi translated">感谢您的阅读，请在下面评论您对使用Altair可视化数据的想法。要查看我的更多帖子，请订阅Medium和<a class="ae ly" href="https://www.linkedin.com/in/aigerimshopenova/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>。</p><h1 id="7d11" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">参考</h1><ol class=""><li id="ce4d" class="nm nn it ko b kp mr ks ms mt no mv np mx nq lh nr ns nt nu bi translated"><em class="kn">总览页面</em>。概述— Altair 4.1.0文档。(未注明)。<a class="ae ly" href="https://altair-viz.github.io/getting_started/overview.html." rel="noopener ugc nofollow" target="_blank">https://altair-viz.github.io/getting_started/overview.html.</a></li></ol></div></div>    
</body>
</html>