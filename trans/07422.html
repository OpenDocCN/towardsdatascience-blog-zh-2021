<html>
<head>
<title>Robojournalism — How to tackle the repetition</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器人记者——如何应对重复</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/robojournalism-how-to-tackle-the-repetition-693fcc25cac4?source=collection_archive---------23-----------------------#2021-07-06">https://towardsdatascience.com/robojournalism-how-to-tackle-the-repetition-693fcc25cac4?source=collection_archive---------23-----------------------#2021-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="55ef" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在基于模板的自动新闻NLG中改进语言多样性</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0371add74a140488603a84cb5cb0814a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Y3uGacoILW9_pytNOQ9og.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">汉娜·格蕾丝在<a class="ae kv" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b345" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇博文中，我描述了我2020年在赫尔辛基大学进行的数据科学领域硕士论文研究的一部分。2021年4月，一篇关于新闻媒体内容分析和自动报告生成的论文随后发表在《EACL黑客工作室学报》上。特别感谢我的硕士论文导师和合著者Leo Leppä nen。</p><p id="62b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了服务于更广泛的受众，我将很快解释一些关键概念。然而，理解这篇文章需要对计算机科学有一些基本的了解。</p><p id="a04b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">自然语言生成(NLG)</strong>——在NLG，目标是从一些潜在的非语言数据(如时间序列数据或图像)中创建可以用英语或其他人类语言生成流利文本的系统。</p><p id="5973" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">基于模板的NLG </strong> —经典的NLG方法，通过将数据插入模板来构造最终文本，如“In<strong class="ky ir"><em class="ls">【where】</em></strong>，最高温度为<strong class="ky ir"><em class="ls">【period】</em></strong><em class="ls"/><em class="ls">【temperature】</em><em class="ls"/>【C”。由此产生的句子可能是“在<strong class="ky ir"> <em class="ls">芬兰</em> </strong>，2020年夏季<strong class="ky ir"><em class="ls"/></strong>的最高温度是<strong class="ky ir"> <em class="ls"> 33.5 </em> </strong>摄氏度”。</p><p id="7067" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">词性(POS)标签</strong> —用于表示单词在文本中的作用的标签，例如名词和副词。</p><p id="c532" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">单词嵌入</strong> —用数字向量表示的自然语言单词，以便计算机能够理解它们。这些从文本集合中学习的向量形成了向量空间，其中向量的距离是那些单词的语义距离的近似值。一个经典的例子是，你可以做这样的计算，“如果你从国王的向量中减去男人的向量，然后加上女人的向量，你就会得到王后的向量”。</p><p id="20da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">上下文单词嵌入</strong> —单词嵌入最初是非上下文的，这意味着不管原始上下文如何，拼写相同的两个单词将具有相同的向量表示。让我们以<em class="ls">银行</em>这个词为例，它可以指一家银行或一家金融机构。上下文单词嵌入将学习不同上下文的不同向量表示。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="ee38" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">在基于模板的自动新闻NLG中使用上下文单词嵌入来改进语言的多样性</h1><p id="af86" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">基于模板的自然语言生成(NLG)方法仍然广泛用于新闻行业的自动化新闻报道，即使已经引入了新的和令人兴奋的NLG统计方法。为什么？基于模板的方法精确地表示底层数据<strong class="ky ir"/>，并且它们的过程<strong class="ky ir">是透明的</strong>。</p><p id="7893" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">开发一个简单的基于模板的NLG系统很容易，但是当引入更多的模板来增加语言的多样性时，所需的工作量就会迅速增加。并且当为特定领域编写大量模板时，如果不进行大量修改，它们就不能转移到新的领域。</p><p id="3a8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于我的硕士论文研究，我们提出了一个想法:如果我们依靠少量的简单模板，并允许上下文单词嵌入模型在输出中<strong class="ky ir">插入新的</strong>和<strong class="ky ir">替换现有的</strong>单词，会怎么样？</p><p id="d2b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于保留意义和控制输出对于新闻的上下文至关重要，我们将方法缩小到只插入预定义的词类和用同义词替换。</p><h1 id="8b79" class="ma mb iq bd mc md mx mf mg mh my mj mk jw mz jx mm jz na ka mo kc nb kd mq mr bi translated">方法</h1><p id="2b6e" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">在我的论文研究中，我开发了两个算法，一个用于单词的添加，一个用于单词的替换。我的方法需要上下文单词嵌入，带有一个屏蔽语言模型头(<a class="ae kv" href="https://arxiv.org/abs/1810.04805" rel="noopener ugc nofollow" target="_blank"> BERT </a>)、一个同义词词典(<a class="ae kv" href="https://wordnet.princeton.edu/" rel="noopener ugc nofollow" target="_blank"> Wordnet </a>)和一个词性标注工具(<a class="ae kv" href="https://www.nltk.org/" rel="noopener ugc nofollow" target="_blank"> NLTK </a>)，可用于所讨论的语言(英语)。我的研究中使用的具体工具和语言在括号中提到。</p><p id="901a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为示例使用的系统从欧盟统计局(欧盟统计局)提供的时间序列数据中生成新闻报道。</p><h2 id="43e7" class="nc mb iq bd mc nd ne dn mg nf ng dp mk lf nh ni mm lj nj nk mo ln nl nm mq nn bi translated">基于上下文添加新单词</h2><p id="91db" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">为了添加新词，将带有词性标签定义的<strong class="ky ir">空槽</strong>引入到中间领域模板中。然后，在过程结束时处理这些空槽，因为上下文单词嵌入需要上下文，即句子中的周围单词来操作。</p><blockquote class="no np nq"><p id="280e" class="kw kx ls ky b kz la jr lb lc ld ju le nr lg lh li ns lk ll lm nt lo lp lq lr ij bi translated">在澳大利亚，2018年75岁或以上的女性<strong class="ky ir"> {empty，pos=RB} </strong>的平均等值净收入为22234 €。</p></blockquote><p id="17f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，使用上下文单词嵌入来为该空槽找到一组合适的单词。如果单词从上下文单词嵌入中得到高于给定阈值的分数，则该单词被认为是合适的。然后通过我们选择的词类来缩小单词列表，在这个例子中，词类是副词RB。</p><blockquote class="no np nq"><p id="18e8" class="kw kx ls ky b kz la jr lb lc ld ju le nr lg lh li ns lk ll lm nt lo lp lq lr ij bi translated">在澳大利亚，2018年75岁以上的女性<strong class="ky ir">仍然</strong>获得22234 €的平均等值净收入。</p></blockquote><p id="9fcf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">简而言之的插入算法(硕士论文中有完整的伪代码):</strong></p><p id="8f7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">输入</strong>:句子、词性、k、最小掩码标记数、最大掩码标记数<br/> <strong class="ky ir">输出</strong>:拟合词列表</p><ol class=""><li id="ac4f" class="nu nv iq ky b kz la lc ld lf nw lj nx ln ny lr nz oa ob oc bi translated">初始化空列表<em class="ls"> WordsAndScores </em>。</li><li id="6290" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">从min [MASK] tokens到max [MASK] tokens <br/> 2.1范围内的<em class="ls"> n </em>循环。在句子中插入<em class="ls"> n </em> [MASK]标记，代替空槽<br/> 2.2。针对2.1中的屏蔽句子，从屏蔽语言模型中获取top <em class="ls"> k </em>预测(单词和分数)。<br/> 2.3。将单词及其分数插入到步骤1中初始化的列表中。</li><li id="25fc" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">返回列表<em class="ls">单词和分数</em>的子集，其中单词词性等于输入词性，分数大于或等于确定的阈值。</li></ol><h2 id="bc7b" class="nc mb iq bd mc nd ne dn mg nf ng dp mk lf nh ni mm lj nj nk mo ln nl nm mq nn bi translated">基于上下文替换现有单词</h2><p id="d3fc" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">为了替换单词，单词在中间模板中被标记为“要被替换”。</p><blockquote class="no np nq"><p id="1aa3" class="kw kx ls ky b kz la jr lb lc ld ju le nr lg lh li ns lk ll lm nt lo lp lq lr ij bi translated">在芬兰，2016年家庭在医疗保健上的总支出为20.35 %。</p></blockquote><p id="e5e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在生成过程结束时，向同义词词典查询要替换的那些单词的同义词。这些同义词随后用带有屏蔽语言模型头的上下文单词嵌入来评分，并且那些分数高于给定阈值的被认为是合适的候选。然后从这个列表中随机选择一个单词。</p><blockquote class="no np nq"><p id="279d" class="kw kx ls ky b kz la jr lb lc ld ju le nr lg lh li ns lk ll lm nt lo lp lq lr ij bi translated">在芬兰，2016年家庭在医疗保健上的总支出为20.35 %。</p></blockquote><p id="7cf3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">替换算法简称(硕士论文有完整伪代码):</strong></p><p id="5742" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">输入</strong>:原单词，句子<br/> <strong class="ky ir">输出</strong>:拟合单词列表</p><ol class=""><li id="f11c" class="nu nv iq ky b kz la lc ld lf nw lj nx ln ny lr nz oa ob oc bi translated">初始化一个空列表<em class="ls">字和分数</em></li><li id="e64b" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">从同义词词典中获取原单词的同义词列表</li><li id="13ae" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">循环同义词列表<br/> 3.1。用句子<br/> 3.2中的同义词替换原词。使用掩蔽语言模型，给句子<br/> 3.3中的单词打分。将同义词和分数添加到步骤1中初始化的单词和分数列表中。</li><li id="8467" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">返回列表中得分大于或等于给定阈值的子集<em class="ls"> WordsAndScores </em></li></ol><h1 id="2cbb" class="ma mb iq bd mc md mx mf mg mh my mj mk jw mz jx mm jz na ka mo kc nb kd mq mr bi translated">结果呢</h1><p id="4a58" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">我们的方法由通过在线平台招募的人类法官进行评估。法官被问及关于原句和修改后的句子的问题1-3，以及关于合适和不合适单词的问题4和5。</p><ol class=""><li id="93cf" class="nu nv iq ky b kz la lc ld lf nw lj nx ln ny lr nz oa ob oc bi translated">原句是目标语言中质量好的句子。</li><li id="ed21" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">修饰句是目标语言中质量好的句子。</li><li id="bc63" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">原文和修改后的句子意思基本相同。</li><li id="6159" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">有多少被评估为合适的单词可以用在第一句中标记的地方，这样意思基本上保持不变？</li><li id="cdeb" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr nz oa ob oc bi translated">有多少被评价为不合适的词可以用在第一句中有标记的地方，使意思基本保持不变？</li></ol><p id="27c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">问题1和2被要求评估修改是否改变了句子质量，问题3被要求评估句子含义是否基本上保持与定义为新闻生成系统的要求相同。</p><p id="5d0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">问题4和5用来检查我们将单词分为合适和不合适的单词是否有意义。事实并非如此。有合适的词被排除在第一组词之外，类似地，一些明显不合适的词也被包括在第一组词中。</p><p id="5845" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，根据我们的评估，修改并没有降低句子的质量，句子的含义基本上与用李克特量表评估句子1-3时相同，李克特量表的范围从1(“强烈不同意”)到4(“既不同意也不反对”)到7(“强烈同意”)，Q1和Q2的得分大致相同，Q3的得分也在同意一方。我们认为这些结果是成功的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/55a704db4abd1c0e00a97798cf3bfdad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EINf4zkkL5_0GenS9bdedw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">插入法句子的质量和句子意义的保持。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/bfb53ffcb343fc3a06460d666811f0e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R6svp6O65knNNQumzSRvAQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">英语中高资源替换句子的质量和句子意义的保持。</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">插入和替换方法的人工评估结果。主要数字是在7点李克特量表上给出的分数，括号中的数字是标准偏差。</p></figure><h1 id="bed5" class="ma mb iq bd mc md mx mf mg mh my mj mk jw mz jx mm jz na ka mo kc nb kd mq mr bi translated">关键要点</h1><ul class=""><li id="34cd" class="nu nv iq ky b kz ms lc mt lf om lj on ln oo lr op oa ob oc bi translated">在一个案例研究的上下文中使用这篇博文中提出的算法确实创造了语言的多样性，同时保持了句子的质量和意义。</li><li id="e475" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr op oa ob oc bi translated"><strong class="ky ir">加法:</strong>将加法缩小到一个特定的词类，使过程处于控制之中。我预计，要添加的词性“安全”在很大程度上取决于文本的类型。例如，对于新闻报道，添加形容词可能会添加错误信息，从而改变意思，但对于虚构的故事，这可能是一个有趣的选择。</li><li id="d44c" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr op oa ob oc bi translated"><strong class="ky ir">替换方法</strong>:同义词词典的使用减少了自然语言生成所需的模板变体的数量，而语言模型的使用允许对提议的变体进行上下文评分，从而选择更高质量的结果。例如，人们可以找出某个词类“安全”地在自己的领域中进行替换，并允许替换模板中该词类的所有出现。</li></ul><h1 id="3bb9" class="ma mb iq bd mc md mx mf mg mh my mj mk jw mz jx mm jz na ka mo kc nb kd mq mr bi translated">限制</h1><ul class=""><li id="3121" class="nu nv iq ky b kz ms lc mt lf om lj on ln oo lr op oa ob oc bi translated">在替换法中，我设法避免了用英语处理词法形式。我预计开发一个单独的词法处理将允许成功地替换单词，例如，复数形式。</li><li id="26bd" class="nu nv iq ky b kz od lc oe lf of lj og ln oh lr op oa ob oc bi translated">这些结果是在局部(句子)而不是全球(完整的新闻报道)水平上进行评估的。我们预计，例如，当在一个句子中插入一个像“still”这样的词时(如关于加法方法的部分中的示例所示)，当在全局级别上进行评估时，结果可能会有所不同。</li></ul></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="1870" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">其余硕士论文研究</h1><p id="35b4" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">在我的论文工作中，我还为低资源语言开发了本文中提出的算法的变体，这些语言没有同义词词典或词性标注工具。这些变体利用成对对齐的跨语言单词嵌入将低资源语言单词“翻译”成高资源语言，然后利用可用的同义词词典和词性标注工具。这些变体的结果明显低于这篇博文中的结果。然而，已经确定了一些明显的改进点。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="a047" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读！如果你学到了新的东西或者喜欢这篇文章，<a class="ae kv" href="https://medium.com/@miiaramo/follow" rel="noopener">在Medium </a>上跟随我。我目前正在撰写关于NLP和数据工程的未来文章。你也可以在<a class="ae kv" href="https://www.linkedin.com/in/miiaramo/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上找到我。你可以从以下链接找到原始论文和研讨会论文:</p><p id="e404" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">硕士论文</strong> : <a class="ae kv" href="http://urn.fi/URN:NBN:fi:hulib-202011254592" rel="noopener ugc nofollow" target="_blank">【语境和跨语言嵌入的自动撰写新闻的(再)词汇化</a></p><p id="3d9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">研讨会论文</strong> : <a class="ae kv" href="https://www.aclweb.org/anthology/2021.hackashop-1.9.pdf" rel="noopener ugc nofollow" target="_blank">使用上下文和跨语言的单词嵌入来提高基于模板的自动杂志NLG的多样性</a></p></div></div>    
</body>
</html>