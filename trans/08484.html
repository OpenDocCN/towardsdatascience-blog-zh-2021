<html>
<head>
<title>Python Virtual Environments &amp; Jupyter Notebook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python虚拟环境&amp; Jupyter笔记本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-virtual-environments-jupyter-notebook-bb5820d11da8?source=collection_archive---------4-----------------------#2021-08-05">https://towardsdatascience.com/python-virtual-environments-jupyter-notebook-bb5820d11da8?source=collection_archive---------4-----------------------#2021-08-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3525" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用conda在Jupyter中创建虚拟环境和相应的内核</h2></div><h1 id="c249" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated"><strong class="ak">TL；博士</strong></h1><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="1013" class="lg kg iq lc b gy lh li l lj lk">conda create -n myenv python=3.8<br/>conda activate myenv<br/>conda install jupyter<br/>conda install -n base nb_conda_kernels<br/>jupyter notebook</span></pre><p id="6e02" class="pw-post-body-paragraph ll lm iq ln b lo lp jr lq lr ls ju lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated"><em class="mh">注意，我在Windows </em>上运行Python 3.8(与Anaconda一起安装)</p><figure class="kx ky kz la gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mi"><img src="../Images/e3ba09d81c20561d6a5aaeba0f807a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y1cNNkTBRnVDEI3q"/></div></div><p class="mq mr gj gh gi ms mt bd b be z dk translated">由<a class="ae mu" href="https://unsplash.com/@maxcodes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">麦克斯韦·纳尔逊</a>在<a class="ae mu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="3a19" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">完整的操作方法</h1><p id="e683" class="pw-post-body-paragraph ll lm iq ln b lo mv jr lq lr mw ju lt lu mx lw lx ly my ma mb mc mz me mf mg ij bi translated">我最近决定清理我的Python安装，因为我的已经变得一团糟。我用Anaconda卸载/重新安装了Python，并选择在开始新项目时开始创建虚拟环境，以保持Python的基本安装整洁。虚拟环境将允许我安装给定项目所需的任何包的任何版本，而不会干扰我的基本安装。这样，我可以拥有我需要的所有软件包的所有版本，并且不会出现我不知道的恼人的不兼容错误。</p><h2 id="1eb6" class="lg kg iq bd kh na nb dn kl nc nd dp kp lu ne nf kr ly ng nh kt mc ni nj kv nk bi translated">第一步。</h2><p id="cac9" class="pw-post-body-paragraph ll lm iq ln b lo mv jr lq lr mw ju lt lu mx lw lx ly my ma mb mc mz me mf mg ij bi translated">要创建一个新的虚拟环境，打开Anaconda提示符并运行以下命令<em class="mh">(用您选择的虚拟环境名替换“myenv”):</em></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a527" class="lg kg iq lc b gy lh li l lj lk">conda create -n myenv python=3.8<br/>conda activate myenv</span></pre><p id="1299" class="pw-post-body-paragraph ll lm iq ln b lo lp jr lq lr ls ju lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">请注意，您必须指定Python版本，否则您的虚拟环境将被创建为一个完全空的文件夹，没有预先安装Python和一些像pip这样的基本包。你可以通过运行<strong class="ln ir"> conda list </strong>来查看哪些包已经在那里(提示:应该有&gt; 0)，以确保你已经正确安装了它。</p><p id="bf83" class="pw-post-body-paragraph ll lm iq ln b lo lp jr lq lr ls ju lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">此时，您可以使用<strong class="ln ir"> conda </strong>或<strong class="ln ir"> pip </strong>在新激活的虚拟环境中安装您需要的<strong class="ln ir">或</strong>软件包。</p><h2 id="74bc" class="lg kg iq bd kh na nb dn kl nc nd dp kp lu ne nf kr ly ng nh kt mc ni nj kv nk bi translated">第二步。</h2><p id="1767" class="pw-post-body-paragraph ll lm iq ln b lo mv jr lq lr mw ju lt lu mx lw lx ly my ma mb mc mz me mf mg ij bi translated">当您在Jupyter Notebook中运行项目时，您需要一种方法来引用这个新的虚拟环境，而不是您的基础环境。在Anaconda提示符下(在虚拟环境仍然激活的情况下)，运行以下命令。请记住，您必须在您创建的每个虚拟环境中运行此操作。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="7222" class="lg kg iq lc b gy lh li l lj lk">conda install jupyter</span></pre><h2 id="5841" class="lg kg iq bd kh na nb dn kl nc nd dp kp lu ne nf kr ly ng nh kt mc ni nj kv nk bi translated">第三步。</h2><p id="c94e" class="pw-post-body-paragraph ll lm iq ln b lo mv jr lq lr mw ju lt lu mx lw lx ly my ma mb mc mz me mf mg ij bi translated">然后，在您的基础环境中，您需要安装<strong class="ln ir"> nb_conda_kernels </strong>(只需一次)，它会为您创建的每个虚拟环境自动创建一个新的内核，前提是您已经在其中安装了jupyter。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a68a" class="lg kg iq lc b gy lh li l lj lk">conda install -n base nb_conda_kernels</span></pre><h2 id="150f" class="lg kg iq bd kh na nb dn kl nc nd dp kp lu ne nf kr ly ng nh kt mc ni nj kv nk bi translated">第四步。</h2><p id="9522" class="pw-post-body-paragraph ll lm iq ln b lo mv jr lq lr mw ju lt lu mx lw lx ly my ma mb mc mz me mf mg ij bi translated">您的Jupyter笔记本现在可以在任何一个内核(base或myenv)上运行，因此可以根据手头的项目获得正确的包/版本。您可以使用下面的命令从任何激活的环境中启动Jupyter Notebook，它将打开您的笔记本位置(我的位置在C:/Users/myusername中，我的Anaconda3也安装在那里)。</p><p id="8259" class="pw-post-body-paragraph ll lm iq ln b lo lp jr lq lr ls ju lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated"><code class="fe nl nm nn lc b">jupyter notebook</code></p><p id="85e5" class="pw-post-body-paragraph ll lm iq ln b lo lp jr lq lr ls ju lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">打开一个新的Jupyter笔记本，点击<strong class="ln ir">内核</strong> &gt; <strong class="ln ir">改变内核</strong> &gt;，选择你需要的虚拟环境。</p><figure class="kx ky kz la gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi no"><img src="../Images/ad0423327f5dd765425bb30af31f7b19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GEXOg0o9TWfETpbWPFZlgw.png"/></div></div></figure><p id="c912" class="pw-post-body-paragraph ll lm iq ln b lo lp jr lq lr ls ju lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">我希望这有所帮助！</p></div></div>    
</body>
</html>