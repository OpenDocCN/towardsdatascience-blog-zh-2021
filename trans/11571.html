<html>
<head>
<title>Vital Commands To Empower Your Git Workflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">增强 Git 工作流的重要命令</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/vital-commands-to-empower-your-git-workflow-7e37d5bedf54?source=collection_archive---------28-----------------------#2021-11-15">https://towardsdatascience.com/vital-commands-to-empower-your-git-workflow-7e37d5bedf54?source=collection_archive---------28-----------------------#2021-11-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="61d6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一些 git 提示和技巧来提高您的贡献和协作能力</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2501ba4328634b23c754646b926142c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MEe2Eh4u5UNUbGU2uiF5qg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@_zachreiner_?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">扎克·赖纳</a>在<a class="ae kv" href="https://unsplash.com/s/photos/branches?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="9fb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为一名软件工程师、设计师、开发人员，或者你选择的其他身份，你的工具包中最重要的一项是版本控制系统，特别是 git。</p><p id="bc8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为开发人员，git 是我们的保险单，也是协作的强大工具。但是，重要的是，除了简单的提交或推送之外，我们很多人都不知道自己到底在做什么。</p><p id="cac0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是请不要担心，我将带您快速浏览一些您在现实世界中会遇到的常见场景，以及一些帮助您应对这些场景的简单解决方案。</p><h1 id="e608" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">观众</h1><p id="ef60" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">对于那些已经理解 git 作为工作流的一部分的重要性并对提高他们的生产力感兴趣的用户来说，这篇文章将是最有帮助的。如果你对使用 Git 的好处感兴趣，我强烈建议<a class="ae kv" rel="noopener" target="_blank" href="/why-git-and-how-to-use-git-as-a-data-scientist-4fa2d3bdc197">为什么使用 Git 以及如何作为数据科学家使用 Git</a>。</p><h1 id="3d12" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">背景</h1><p id="ecc0" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我在这里分享的方法是在以下假设下运行的，但也可能适用于其他情况。</p><ol class=""><li id="2c82" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">你和其他人一起工作。</li><li id="3ee0" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">您在一个从“主”存储库中派生出来的存储库上工作，而其他人从他们的派生中贡献出来。</li><li id="bf22" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><strong class="ky ir">你是唯一一个使用叉子的人</strong>。<em class="nd">(极其重要:其中一些方法将改写历史。如果你在共享回购中搞乱了历史，这对你的合作伙伴来说可能是一件痛苦的事情。)</em></li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/55bd50fada12f87c871fbdd5466b54f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RpdCB8ssHVk6dpHL31rKbA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@yancymin?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Yancy Min </a>在<a class="ae kv" href="https://unsplash.com/s/photos/github?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><h1 id="de5d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">如何下载私人回购？(Github)</h1><blockquote class="nf ng nh"><p id="e891" class="kw kx nd ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated">方案</p><p id="a1d4" class="kw kx nd ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated">你刚刚开始与一个新的组织合作，并且你很兴奋开始建立一些令人惊奇的东西。您尝试克隆存储库，但是哦，不——您遇到了一个小问题</p><p id="438d" class="kw kx nd ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated"><code class="fe nl nm nn no b">fatal: repository 'https://github.com/user/project.git/' not found</code></p></blockquote><p id="5dad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，我们该如何度过这一关呢？</p><p id="c502" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，您需要为 Github 设置一个个人访问令牌。您可以使用下面的链接找到相关说明。</p><p id="b676" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" rel="noopener ugc nofollow" target="_blank">https://docs . github . com/en/authentic ation/keeping-your-account-and-data-secure/creating-a-personal-access-token</a></p><p id="a678" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在您已经有了令牌，您可以运行以下命令来克隆 repo。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="2021" class="nt lt iq no b gy nu nv l nw nx">git clone https://&lt;TOKEN&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git</span></pre><p id="548d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">准备好开始贡献吧！</p><h1 id="7379" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">如何使分叉回购中的分支与原始回购中的分支完全匹配？</h1><blockquote class="nf ng nh"><p id="3df7" class="kw kx nd ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated">方案</p><p id="8c31" class="kw kx nd ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated">假设我们有一个名为<strong class="ky ir"> dev 的分支。</strong>在这个场景中，<strong class="ky ir"> dev </strong>是主要的分支，贡献者在这里合并来自原始<em class="iq"> repo </em>的变更。因此，您希望将分叉回购中的本地<strong class="ky ir"> dev </strong>分支与原始回购中的<strong class="ky ir"> dev </strong>分支上的最新变更同步。</p></blockquote><p id="ce86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好的，这是一个相当简单的方法，如果你在一个快速发展的团队中，你会发现自己每天都在使用它。</p><p id="b9ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，您需要确保获取最新的更改。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="8530" class="nt lt iq no b gy nu nv l nw nx">git fetch upstream/dev</span></pre><p id="9d07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此后，您可以硬重置本地分支，以匹配上游分支的状态。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="6ba8" class="nt lt iq no b gy nu nv l nw nx">git reset --hard upstream/dev</span></pre><p id="dc26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完全匹配。</p><h1 id="260b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">怎么取别人的 PR(拉取请求)？</h1><blockquote class="nf ng nh"><p id="fc43" class="kw kx nd ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated">方案</p><p id="349f" class="kw kx nd ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated">您的开发伙伴对代码做了一个小而重要的更改，从他们的 repo 向主 repo 提交了一个 PR，并希望您帮助测试这些更改。所以你需要在你的机器上获得他们的代码，这样你就可以在本地测试它。</p></blockquote><p id="3a8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是你怎么做的！</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="ea2e" class="nt lt iq no b gy nu nv l nw nx">git fetch upstream pull/ID/head:#username</span></pre><p id="ad38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里的<em class="nd"> ID </em>是拉请求的 ID，而#username 是您试图获取其代码的开发人员的用户名。例如，假设您的好友 JaneSmith 希望您查看他们的 PR，该命令如下所示:</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="85e8" class="nt lt iq no b gy nu nv l nw nx">git fetch upstream pull/1234/head:#JaneSmith</span></pre><p id="a93c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">附加信息:在<a class="ae kv" href="https://stackoverflow.com/questions/9257533/what-is-the-difference-between-origin-and-upstream-on-github#:~:text=When%20a%20repo%20is%20cloned,repo%20it%20was%20forked%20from.&amp;text=You%20will%20use%20upstream%20to,you%20want%20to%20contribute%20to)." rel="noopener ugc nofollow" target="_blank"> <em class="nd">上面的命令中，“上游”</em> </a> <em class="nd"> </em>是指分叉回购发起的回购。</p><p id="f1d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将使分支机构，他们的公关是提供给你本地，所有你要做的下一步是检查他们的分支机构。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="58a6" class="nt lt iq no b gy nu nv l nw nx">git checkout #JaneSmith</span></pre><p id="1418" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">瞧啊。现在，您可以在本地测试它们的更改。</p><p id="ce91" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="nd">更新(2022 年 10 月):</em> </strong> <em class="nd">不必在分支机构名称前加标签，实际上名称是任意的，你可以随意命名。</em></p><h1 id="5dbd" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">如何从分支的历史记录中删除特定的提交？</h1><blockquote class="nf ng nh"><p id="0d0c" class="kw kx nd ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated">方案</p><p id="5bcf" class="kw kx nd ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated">您刚刚修复了一个 bug，发布了代码，创建了 PR。您去检查您的变更，但是，您注意到其中有一些来自您以前工作的分支的代码没有被批准，您需要将它从这个分支中取出来。</p></blockquote><p id="be6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是你需要做的。</p><p id="f51c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，您需要包含不需要的更改的提交散列。您可以使用下面的命令找到它。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="b57c" class="nt lt iq no b gy nu nv l nw nx">git log</span></pre><p id="2d17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">找到散列后，可以运行下面的命令将其从分支的历史记录中删除。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="4d7f" class="nt lt iq no b gy nu nv l nw nx">git rebase --onto &lt;commit-id&gt;^ &lt;commit-id&gt;</span></pre><p id="9651" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了，现在你已经摆脱了那些讨厌的不想要的变化！</p><p id="7158" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，由于您删除了提交，本地分支的历史记录将不再与远程分支的历史记录相匹配。要解决此问题，您必须强制推送以覆盖遥控器的历史记录。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="6d97" class="nt lt iq no b gy nu nv l nw nx">git push -f</span></pre><p id="2885" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了，现在你的公关准备好了！</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="58b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你做到了这一步，首先，感谢你的阅读。</p><p id="85d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为开发人员，git 是一个至关重要的工具，它使我们能够以很小的摩擦进行协作，并轻松地修复我们破坏的东西。我分享了这些具体的情况，因为它们是我经常遇到的问题，我发现自己在谷歌上搜索。我发现这些简单的命令对我的工作效率是不可或缺的，我希望你也能把它们添加到你的工具箱中！</p></div></div>    
</body>
</html>