<html>
<head>
<title>Sentiment Analysis and Emotion Recognition in Italian (using BERT)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">意大利语的情感分析和情感识别(使用BERT)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sentiment-analysis-and-emotion-recognition-in-italian-using-bert-92f5c8fe8a2?source=collection_archive---------14-----------------------#2021-04-01">https://towardsdatascience.com/sentiment-analysis-and-emotion-recognition-in-italian-using-bert-92f5c8fe8a2?source=collection_archive---------14-----------------------#2021-04-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="4236" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/thoughts-and-theory" rel="noopener" target="_blank">思想和理论</a></h2><div class=""/><div class=""><h2 id="0067" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">意大利语情感分析和情感识别的数据集和软件包。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/cf0136797d6c536d9f482cec36d06276.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FxBx-FNHcsjPulvdYehfAQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">我们搭建的情绪情感分类库截图。</p></figure><h1 id="94bf" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">情感分析和情感识别</h1><p id="fc17" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">识别文本中的情感是更好地理解人们谈论某事的基础。人们可以谈论一个新事件，但正面/负面的标签可能还不够。被某件事激怒和被某件事吓到，区别很大。这种差异就是为什么在文本中考虑情绪和情感是至关重要的。</p><p id="0564" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">有很多关于英语情感分析和情感识别的研究。在谷歌上快速搜索会给你带来不同的可能算法，这些算法可以为你处理情绪/情感预测。但有些语言缺乏数据，其中一种语言是意大利语(但有一些工作，例如Sprugnoli，2020)。</p><p id="6a7c" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">所以我们(<a class="ae mx" href="https://dnozza.github.io/" rel="noopener ugc nofollow" target="_blank">黛博拉</a>、<a class="ae mx" href="http://dirkhovy.com/" rel="noopener ugc nofollow" target="_blank">德克</a>和<a class="ae mx" href="https://federicobianchi.io/" rel="noopener ugc nofollow" target="_blank">你真正的</a>)试图提供这个问题的解决方案。我们为意大利情绪和情感预测创建了一个新的数据集，并对BERT模型进行了微调。</p><p id="eafe" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">在这篇博文中，我们描述了我们创建这个新数据集的经历，解释了我们做的一些事情和我们的结果。我在这里描述的内容也可以在同行评议的研究论文中找到:</p><p id="d90c" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">费德里科·比安奇、德博拉·诺扎和德克·霍维(2021)。<strong class="ly ja"> FEEL-IT:意大利语的情感和情绪分类</strong>。第11届主观性、情感和社交媒体分析计算方法研讨会。</p><p id="91ce" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">由于这些方法的可用性对社区至关重要，您可以在网上找到:</p><ul class=""><li id="0300" class="my mz iq ly b lz ms mc mt mf na mj nb mn nc mr nd ne nf ng bi translated"><a class="ae mx" href="https://github.com/MilaNLProc/feel-it" rel="noopener ugc nofollow" target="_blank">我们的python包</a></li><li id="bb9c" class="my mz iq ly b lz nh mc ni mf nj mj nk mn nl mr nd ne nf ng bi translated"><a class="ae mx" href="https://huggingface.co/MilaNLProc/feel-it-italian-sentiment" rel="noopener ugc nofollow" target="_blank">我们的拥抱脸情感模型</a></li><li id="e97a" class="my mz iq ly b lz nh mc ni mf nj mj nk mn nl mr nd ne nf ng bi translated"><a class="ae mx" href="https://huggingface.co/MilaNLProc/feel-it-italian-emotion" rel="noopener ugc nofollow" target="_blank">我们的拥抱脸情感模型</a></li></ul><h1 id="f010" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">感觉:意大利语的情感和情绪分类</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/abd1320c83f5eaeb716b4be410eba4bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oeOe4dSpyrzwAge-bL7TnQ.png"/></div></div></figure><h2 id="0809" class="nn lf iq bd lg no np dn lk nq nr dp lo mf ns nt lq mj nu nv ls mn nw nx lu iw bi translated">为情绪和情感识别建立新的数据集</h2><p id="5f26" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">当创建一个新的数据集时，我们需要解决的一个问题是，它需要代表领域。一个人不可能收集两天三个关键词的推文。收集的推文过于依赖于领域，使得训练的模型不够通用，无法应用于不同的领域。</p><p id="cf29" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">相反，我们采取了不同的方法:我们决定每天收集1000条与Twitter上的热门话题相关的推文。通过这种方式，我们每天都能获得最相关的推文，而且因为每天都有新的话题，我们收集了很多不同的东西。这种方法让我们获得了一个数据集，其中包含了从足球比赛到政治等广泛话题的推文。</p><p id="41ed" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">然后，我们用情绪来注释推文，排除那些没有可识别情绪的推文。最终，我们得到了2037条带注释的推文:912条<strong class="ly ja">愤怒</strong>，103条<strong class="ly ja">恐惧</strong>，728条<strong class="ly ja">喜悦</strong>，294条<strong class="ly ja">悲伤。</strong></p><p id="223a" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">虽然这个数据集并不庞大，但正如我们所说的，它涵盖了广泛的不同主题，并在更广泛的情绪和情感分类任务中非常有用。</p><p id="6584" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">您可以在下表中看到一些带注释的推文示例(以及英文翻译):</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ny"><img src="../Images/3555089666d64611ea7ed8f149070bbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BKQzqPRGmkkUvus2QZjzyw.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">在我们的数据集中，一些带有情感注释的推文的例子。</p></figure><p id="b770" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">正如你所料，这个过程在注释方面的成本很高，因为我们丢弃了大部分推文。然而，它具有非常高的精确度，因为我们从广泛的主题中收集了推文，并且我们有精确的注释。</p><h2 id="bf73" class="nn lf iq bd lg no np dn lk nq nr dp lo mf ns nt lq mj nu nv ls mn nw nx lu iw bi translated">微调(嗯)伯特(o)</h2><p id="9146" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">作为最近预训练时期的标准，我们用我们提出的数据集微调了BERT模型。BERT是自然语言处理中最流行的神经结构之一。微调BERT允许我们有一个健壮的分类模型来预测我们的标签。微调是允许我们调整BERT模型的权重来执行我们的分类任务的操作。</p><p id="5635" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">对于许多语言，有许多不同的BERT模型(参见Nozza et al .，2020的综述和<a class="ae mx" href="http://bertlang.unibocconi.it/" rel="noopener ugc nofollow" target="_blank"> BERTLang </a>)。这里，我们使用<a class="ae mx" href="https://github.com/musixmatchresearch/umberto/" rel="noopener ugc nofollow" target="_blank"> UmBERTo </a>，一个非常高效的意大利BERT模型。特别是，我们微调了在<a class="ae mx" href="https://huggingface.co/Musixmatch/umberto-commoncrawl-cased-v1" rel="noopener ugc nofollow" target="_blank">通用抓取</a>数据集上训练的UmBERTo模型。</p><h2 id="1923" class="nn lf iq bd lg no np dn lk nq nr dp lo mf ns nt lq mj nu nv ls mn nw nx lu iw bi translated">情感分类</h2><p id="5ec8" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">为了评估我们的数据集和情感分析模型，我们将我们的FEEL-IT UmBERTo与另一个数据集上的相同模型进行了比较:<a class="ae mx" href="http://www.di.unito.it/~tutreeb/sentipolc-evalita16/" rel="noopener ugc nofollow" target="_blank"> SentiPolc16 </a>。两个模型都根据各自的数据进行了微调。</p><p id="0f38" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">SentiPolc带有一个训练集和一个测试集。因此，我们评估了下面这个有趣的研究问题:是使用“感觉”好还是“感知”好？</p><p id="2a7a" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">我们在SentiPolc的测试集上对FEEL-IT和test进行了微调，并将其与SentiPolc的训练集上的微调和SentiPolc的数据集上的测试进行了比较。请注意，在训练集中使用SentiPolc的模型应该有很大的优势，因为我们希望训练和测试是相似的。在下图中，你可以看到结果。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nz"><img src="../Images/bd47fe1e39f93016bcc68f15be1f41b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dCi4lGqQxm2EnnT_z9az7w.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">在senti pol 16测试集上使用FEEL-IT和senti pol 16作为训练集的比较结果。使用感觉-它更好。截图来自我们的HuggingFace知识库。</p></figure><p id="0b6f" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">然而，这些结果表明，使用FEEL-IT比使用之前最先进的数据集SentiPolc要好得多。</p><h2 id="675a" class="nn lf iq bd lg no np dn lk nq nr dp lo mf ns nt lq mj nu nv ls mn nw nx lu iw bi translated">情感分类</h2><p id="1502" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">现在，除了我们的感觉之外，Twitter上没有情感分类的数据集。因此，我们运行了一个简单的交叉验证，表明一个微调的翁贝托模型可以让我们达到<strong class="ly ja"> 0.71 </strong>宏F1！那是一个极好的结果！</p><h2 id="2f5f" class="nn lf iq bd lg no np dn lk nq nr dp lo mf ns nt lq mj nu nv ls mn nw nx lu iw bi translated">创建Python库:感受一下</h2><p id="5fda" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">我的一个爱好是写代码，我试着做一些其他人可以使用的库。因此，黛博拉和我一直在开发一个<a class="ae mx" href="https://github.com/MilaNLProc/feel-it" rel="noopener ugc nofollow" target="_blank">小库</a>，它包装了HuggingFace的内部API，为情绪和情感预测提供了一个简单的接口。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/cf0136797d6c536d9f482cec36d06276.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FxBx-FNHcsjPulvdYehfAQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">我们的库超级好用！:)</p></figure><p id="3748" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">这个库的好处是，它允许你用很少的编码工作进行快速的情感和情绪分类:你可以加载你的熊猫数据帧，提取文本，将其传递给库，并得到结果。这正是我们现在要做的。</p><p id="5a9f" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">首先要做的是:<strong class="ly ja"> pip install -U feel-it </strong>在命令行中:)</p><p id="21f7" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">下面是我们将要使用的小文件:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="1b15" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">现在，让我们导入我们的分类器。包装器将为您处理模型的下载。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="8cde" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">现在，让我们开始预测吧！我们只需要使用我们感兴趣的分类器的预测方法。分类器将句子列表作为输入——在本例中，我们将从我之前展示的CSV文件中获取。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="cd4c" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">你看到了吗？有了我们建的库，用意大利语做感悟和情感分类超级容易！</p><h2 id="a53b" class="nn lf iq bd lg no np dn lk nq nr dp lo mf ns nt lq mj nu nv ls mn nw nx lu iw bi translated">参考</h2><p id="35dc" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">诺扎博士、比安奇女士和霍维博士(2020年)。<strong class="ly ja">那个什么【面具】？理解特定于语言的BERT模型。</strong> <em class="oc"> arXiv预印本arXiv:2003.02912 </em>。</p><p id="2a1a" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">比安奇，f .，诺扎，d .，&amp;霍维，D. (2021)。<strong class="ly ja"> FEEL-IT:意大利语的情感和情绪分类</strong>。第11届主观性、情感和社交媒体分析计算方法研讨会。</p><p id="a46e" class="pw-post-body-paragraph lw lx iq ly b lz ms ka mb mc mt kd me mf mu mh mi mj mv ml mm mn mw mp mq mr ij bi translated">斯普鲁尼奥利河(2020年)。<strong class="ly ja"> MultiEmotions-it:一个新的意大利观点极性和情感分析数据集。</strong>第七届意大利计算语言学会议，CLiC-it 2020(第402–408页)。</p><h2 id="22b1" class="nn lf iq bd lg no np dn lk nq nr dp lo mf ns nt lq mj nu nv ls mn nw nx lu iw bi translated">承认</h2><p id="9222" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">非常感谢黛博拉和德克对此的评论！</p></div></div>    
</body>
</html>