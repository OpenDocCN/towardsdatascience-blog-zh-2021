<html>
<head>
<title>Modelling Bimodal Distributions with multimode in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用R中的多模态模拟双峰分布</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/modelling-bimodal-distributions-with-multimode-in-r-94dbb884abc9?source=collection_archive---------8-----------------------#2021-10-08">https://towardsdatascience.com/modelling-bimodal-distributions-with-multimode-in-r-94dbb884abc9?source=collection_archive---------8-----------------------#2021-10-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="438f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">分析具有多个模式的分布</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0810961ebccaa5986b91dd06cdeafcd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_NjbLeXY3pI0XJGZwSgeg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:图片由<a class="ae ky" href="https://pixabay.com/users/edar-609103/" rel="noopener ugc nofollow" target="_blank"> Edar </a>从<a class="ae ky" href="https://pixabay.com/photos/calculator-calculation-assurance-723925/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>拍摄</p></figure><p id="e270" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们通常认为大多数发行版只有一种模式。这包括正态分布等分布，它是统计学中的标准参考。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/007ad0a0407b4d15538bc47f49abd612.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*o3fkx-QB9EjaGMo5TGfFuA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:RStudio输出</p></figure><p id="2fc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际上，一个发行版可能有不止一种模式。在这种情况下，我们使用<strong class="lb iu">模式</strong>来指代系列中具有多个峰值的分布。</p><p id="730e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果要检查一天中的高峰时间交通，很可能会发现早晚高峰，因为车辆往返于工作/学校环境。</p><p id="2a57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然查看简单的直方图可以为我们提供关于分布是否是双峰的视觉线索，但是最好能够正式测试这种情况。</p><p id="00e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看如何使用r中的<a class="ae ky" href="https://cran.r-project.org/web/packages/multimode/multimode.pdf" rel="noopener ugc nofollow" target="_blank">多模式</a>库来实现这一点。</p><h1 id="011e" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">多模式用电量分析</h1><p id="af87" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在本例中，使用多模式软件包分析千瓦消耗。具体来说，从2011年3月30日到2011年4月6日的15分钟间隔内的消费模式使用爱尔兰都柏林市政局记录的数据进行分析。正在讨论的完整数据集可从data.gov.ie获得，并在撰写本文时获得知识共享署名4.0的许可。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/d71bba88dd7531edea86ef74e18b7c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*T5l_VvrpeUjmn9lWD704Kw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:RStudio输出</p></figure><p id="f7a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从上图中，我们可以看到消费有规律的季节性趋势。</p><p id="6ba7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也就是说，假设电力消耗可能是双峰的。例如，消费模式可能在一天中的特定时间达到峰值，或者一周中的特定日期可能显示比其他日期更高的消费模式。</p><p id="5bd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们首先绘制数据的直方图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/ff162203fe9850d4e5d56155cfc7ef50.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*KJYCMVvV8nI6VTg8i99n3A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:RStudio输出</p></figure><p id="6bfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到数据中存在两个峰值。消耗往往在30-40千瓦之间达到峰值，然后下降，在70-80千瓦再次达到峰值。</p><p id="4a64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们可以正式测试分布是否确实是双峰的。</p><p id="0b83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，我们将测试单峰性的零假设，即一个模式的存在。另一种假设认为数据有不止一种模式。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="c9cf" class="my lx it mu b gy mz na l nb nc">&gt; library(multimode)</span><span id="5e70" class="my lx it mu b gy nd na l nb nc">&gt; # Testing for unimodality<br/>&gt; modetest(data)</span><span id="bb48" class="my lx it mu b gy nd na l nb nc">Ameijeiras-Alonso et al. (2019) excess mass test</span><span id="dab1" class="my lx it mu b gy nd na l nb nc">data:  data<br/>Excess mass = 0.148, p-value &lt; 2.2e-16<br/>alternative hypothesis: true number of modes is greater than 1</span><span id="2a8b" class="my lx it mu b gy nd na l nb nc">Warning message:<br/>In modetest(data) :<br/>  A modification of the data was made in order to compute the excess mass or the dip statistic</span></pre><p id="1a2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的分析中，p值实际上是0——在5%的显著性水平上支持数据中存在一种以上模式的替代假设。</p><p id="5d23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设数据中存在两种模式，可以获得这些模式的估计位置。此外，可以识别<strong class="lb iu">反模式</strong>，或两种模式之间最不频繁的值。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="35b0" class="my lx it mu b gy mz na l nb nc">&gt; locmodes(data,mod0=2,display=TRUE)</span><span id="3ea2" class="my lx it mu b gy nd na l nb nc">Estimated location<br/>Modes: 33.25836  71.55446 <br/>Antimode: 55.06092</span><span id="f30c" class="my lx it mu b gy nd na l nb nc">Estimated value of the density<br/>Modes: 0.03056129  0.01474216 <br/>Antimode: 0.006843394</span><span id="9cdf" class="my lx it mu b gy nd na l nb nc">Critical bandwidth: 7.378684</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/5a244189648fca4f32cf7240fcd8ed8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*7pU7wdm3l50-oXcFbvthig.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:RStudio输出</p></figure><p id="46d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据以上，我们可以看到两个模式峰值在33.25和71.55，反模式识别在55.06。</p><h1 id="046e" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">检验双峰分布的目的</h1><p id="d3fd" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">建立分布模型的全部目的首先是为了逼近总体的值。</p><p id="c337" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不可能收集人们希望观察的每一种现象的数据。因此，有必要依赖数据样本。</p><p id="73d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，通过识别分布，这可用于识别特定数据样本中的潜在异常。</p><p id="b744" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，假设在某一周的正常高用电期间，在某些情况下发生了假设的停电，并且电力消耗模式与上面观察到的模式显著不同。识别分布形状的变化可以提供在那一周中功耗会发生显著变化的线索，并且可以调查这种情况的潜在原因。</p><p id="af97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种类型的分析在其他场景中也很有用。例如，假设特定产品的销售通常是正态分布的。然而，在特定品牌或公司中观察到双峰分布。这可能表明分布在更高模式中的购买者正在选择该产品的奢侈品——分析分布将允许进一步的调查。</p><h1 id="8ef7" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">结论</h1><p id="d2fb" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在本文中，您已经看到:</p><ul class=""><li id="e4e4" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated">什么是双峰分布</li><li id="6de4" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">这种分布所揭示的洞察力</li><li id="60c7" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">如何用R中的<em class="nt">多模式</em>库测试双模式</li><li id="a591" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">模式和反模式值的识别</li></ul><p id="c8b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢您的阅读，非常感谢您的任何想法或反馈。</p><h1 id="ec4c" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">参考</h1><ul class=""><li id="cbe2" class="nf ng it lb b lc mo lf mp li nu lm nv lq nw lu nk nl nm nn bi translated"><a class="ae ky" href="https://data.gov.ie/dataset/energy-consumption-gas-and-electricity-civic-offices-2009-2012/resource/6091c604-8c94-4b44-ac52-c1694e83d746" rel="noopener ugc nofollow" target="_blank">data . gov . ie:2009-2012年能源消耗(天然气和电力)市政办公室</a></li><li id="e582" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><a class="ae ky" href="https://cran.r-project.org/web/packages/multimode/multimode.pdf" rel="noopener ugc nofollow" target="_blank">综合R档案网:包‘多模’</a></li></ul><p id="7306" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nt">免责声明:本文是在“原样”的基础上编写的，没有任何担保。它旨在提供数据科学概念的概述，不应被解释为专业建议。本文中的发现和解释是作者的发现和解释，不被本文中提到的任何第三方认可或隶属于任何第三方。作者与本文提及的任何第三方无任何关系。</em></p></div></div>    
</body>
</html>