<html>
<head>
<title>Autonomous Vehicle Test Drive Results | A Data Pipeline</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自动驾驶汽车试驾结果|数据管道</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-pipeline-for-autonomous-vehicle-test-drive-results-4eabd9b73c49?source=collection_archive---------34-----------------------#2021-03-18">https://towardsdatascience.com/data-pipeline-for-autonomous-vehicle-test-drive-results-4eabd9b73c49?source=collection_archive---------34-----------------------#2021-03-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f2b8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">自动驾驶汽车已经在公共道路上行驶了数百万英里。目前为止结果如何？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/95173f5466eb7877a341d65850d3c25e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6zmuub6p1dv2yMcysq4WsQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://unsplash.com/@yanshulee" rel="noopener ugc nofollow" target="_blank">晏殊·李</a>通过<a class="ae kv" href="https://images.unsplash.com/photo-1599831968677-d727629073a2?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mnx8c2VsZiUyMGRyaXZpbmclMjBjYXJ8ZW58MHx8MHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=60" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="4695" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你是一个自动驾驶汽车(AV)爱好者吗？你想知道AV发展到什么程度了吗？你是否在一家影音公司工作，想知道自己的表现与竞争对手相比如何？</p><p id="802c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">没有单一的答案，没有单一的来源。挖掘法规、安全标准、市场研究、业务案例接受脉冲、独立和关联的汽车子系统报告、算法基准、测试报告、燃烧率分析，等等。</p><p id="a739" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">需要一个以上的职位来全面分析所有这些问题。这篇文章占了一大块。它利用公开可用的数据，以定量的方式关注AV道路测试报告。它为您提供了代码和指南，以便您可以开始使用AV试驾结果数据管道(请记住，数据不是现成的可消费格式)。最后是对未来改进的思考和基于整合数据的简要分析。</p><p id="44fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">系好你的安全带，跟着读…</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="3acb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">公开的AV试驾结果数据</strong></p><p id="b08c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然Udacity、加州大学伯克利分校、Nvidia和更多机构以专门构建的格式公开提供了大量AV传感器数据来试验算法，但缺乏公开提供的AV测试结果数据来全面评估当前状况，甚至是公共政策！AV测试分三个阶段进行:模拟、赛道测试和道路测试。道路测试是在现场部署AV之前的最后一英里，监管机构会查看道路测试数据。</p><p id="419f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">加州车管所公布了AV <a class="ae kv" href="https://www.dmv.ca.gov/portal/vehicle-industry-services/autonomous-vehicles/autonomous-vehicle-collision-reports/" rel="noopener ugc nofollow" target="_blank">碰撞报告</a>和<a class="ae kv" href="https://www.dmv.ca.gov/portal/vehicle-industry-services/autonomous-vehicles/disengagement-reports/" rel="noopener ugc nofollow" target="_blank">脱离报告</a>。在CA持有AV测试许可的公司向DMV提交报告。安全性是反车辆地雷可行性的首要标准。碰撞报告提供了直接的见解。脱离接触报告是一个替代指标。假设是，如果AV已经脱离，它就没有为无人驾驶做好准备。如果安全驾驶员因为AV没有完全遵循他/她的想法而担心，并且他/她启动了脱离，该怎么办？如果场景在模拟中运行，结果是安全的，但没有脱离，会怎么样？关键是这些报告并非没有缺陷。</p><blockquote class="lz ma mb"><p id="65c9" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated">那评价的备选选择是什么？目前没有。<strong class="ky ir">除了加州，美国没有其他州公布过此类数据。</strong>一些州，例如<a class="ae kv" href="https://azdot.gov/motor-vehicles/professional-services/autonomous-vehicle-notification-and-certification/company-and" rel="noopener ugc nofollow" target="_blank">亚利桑那州</a>、<a class="ae kv" href="https://flhsmv.gov/html/HSMVAutonomousVehicleReport2014.pdf" rel="noopener ugc nofollow" target="_blank">佛罗里达州</a>已经在PowerPoint演示文稿中分享了AV文学。</p></blockquote></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="7328" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">了解加州车管所AV数据管道</strong></p><p id="33f1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据管道的目的是以可用于分析的格式访问数据。</p><p id="88b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谁可以使用数据管道？在AV行业工作的开发人员可以访问特定公司的丰富数据，但缺乏其他公司的数据。他们可以用它作为基准。市场研究公司和影音爱好者也可以使用它。</p><p id="e142" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是否需要数据管道？脱离报告以excel格式提供，可由任何分析工具获取，并且不需要数据管道。由脱离度驱动的直觉本身就是一个有争议的话题。碰撞报告实际上是一个以pdf格式存储的表单。每年都有数百份碰撞报告提交。手动分析数据是不可能的。</p><p id="f9e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据管道在处理不同AV公司在不同日期提交的数百份多页表格后，生成一个整洁的excel文件。以下是字段/列标题列表和字段子集上的字段值片段。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/713561d5d2f9aa8375cd392e6f70d7b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lg2Gt8RD-r5x1hj3PsSA-A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">字段列表(来源:作者)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mh"><img src="../Images/08e7d795b011a4b6f059d82517c0e9b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N7JKH4BoYkbYtzfLrpIPLw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">字段列表(来源:作者)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mi"><img src="../Images/b0834d4caa4f458f1f7be4f799653192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZOpEVlufb1u0_JOS8YtNEA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">字段列表(来源:作者)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mj"><img src="../Images/6f00098babc52db1fa988202bc2a721b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54WLNaNoE_thVSlTopqJQA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">字段值的片段(来源:作者)</p></figure><p id="1b11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上述输出的输入是从<a class="ae kv" href="https://www.dmv.ca.gov/portal/vehicle-industry-services/autonomous-vehicles/autonomous-vehicle-collision-reports/" rel="noopener ugc nofollow" target="_blank"> CA DMV </a>站点下载的一堆pdf表单文件。下面的截图显示1) Waymo、Cruise、苹果、Zoox、Aurora购买了优步的自动驾驶设备，以及更多提交AV drive崩溃报告的AV公司2)先睹为快Lyft提交的pdf表格。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/7d1e7a9fb44de8d30d0d69da7e873c39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vAJc804r9_l3d6j1MifHtA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">输入=不同公司在不同日期的pdf表单(来源:作者)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/f2d2fe7792ae5737c4bdaee592c6dee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ySL8p9Lb9gmyLJKdcLFWdA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Lyft自动驾驶实验室提交给CA DMV的pdf表格中先睹为快(来源:作者)</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="0bff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">数据管道入门指南</strong></p><p id="d6de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">参见<a class="ae kv" href="https://github.com/manimalakumar/Autonomous-Vehicle-CA-DMV/tree/master" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。<a class="ae kv" href="https://github.com/manimalakumar/Autonomous-Vehicle-CA-DMV/blob/master/README.md" rel="noopener ugc nofollow" target="_blank">自述文件</a>包含分步指南。</p><p id="00ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有几点值得注意。这两种光学字符识别(OCR)技术都用于从表单中提取信息，它们相互补充。</p><p id="5605" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">空间用于自然语言处理(NLP)。表单中有一个描述部分，如下所示。并不是所有的影音公司都以同样的方式填写。如果有，速度和相关的对象值将被捕获到excel的速度<n>和上下文<n>字段中。在下面的截图中:1) Waymo填写了自动驾驶车辆的速度。2)提取速度、动词和对应的名词对象，从而实现词性依存分析。图中显示了spaCy文档中的图表。这是一个有趣的实验。但由于数据的不一致性和NLP的复杂性，这部分并不是很有成果。</n></n></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mm"><img src="../Images/7ba5f5212afd1c331b740ac569fedb1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zdBVTfNdoy6__vVsJCTrDw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Waymo在CA DMV表格中输入了19年2月21日撞车时AV速度的详细信息(来源:作者)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/9201c8138f5386ee1c33dcc24f9822cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*R--aP-w-XDd7gvqVqxMSYA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用spaCy的依赖解析器可视化(来源:<a class="ae kv" href="https://spacy.io/displacy-3504502e1d5463ede765f0a789717424.svg" rel="noopener ugc nofollow" target="_blank"> spaCy开发者文档</a></p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="97dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">AV测试结果数据管道的未来改进</strong></p><p id="ec26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让某样东西工作，测试它，让它变得更好。当前版本是最低可行版本。它允许按照碰撞报告的当前格式创建一个excel文件。</p><p id="afc6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是未来改进的想法:</p><p id="f6be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mc">捕捉多选选项。举例来说，天气可能同时下雨、有雾和刮风。表格可以通过勾选所有这些选项来填写。到目前为止，没有表单选择一个以上的选项，代码只支持一个选项。</em></p><p id="4822" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mc">自动收集输入文件</em>。从CA DMV网站下载文件需要一段时间。考虑使用网络爬虫和自动下载。爬虫可以第一次运行，然后以每季度或每年的频率收集新文件。代码应该只快速增量地处理新文件。</p><p id="adb6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mc">拥有易于维护且健壮的代码库</em>。CA DMV将来可能会改变表格的格式。这一特点强调了AV领域对标准的需求。这将要求不可避免的代码变更。目前在图像处理和最终格式检查时需要一些人工干预。代码应该没有任何人工干预。</p><p id="5989" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mc"> NLP识别相关信息</em>:如果数据和管道继续有用，最后要改进的是准确和相关的文本提取。</p><p id="7e35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">结果分析一瞥</strong></p><p id="d7ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用数据管道生成的excel文件，可以进行数据分析。下面是对2019年数据的分析；报告了104起事件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/356a3fae32b48e6ea8468cc26ee573d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gms4lIGuHwba9HmsohHhuA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">CA DMV AV碰撞报告2019 |损坏程度|碰撞时的速度(来源:作者)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/e74749a4792359112af83e70cce12b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sgts3NoMdgm5M-2Zpsr13Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">CA DMV AV碰撞报告2019 |碰撞类型| AV碰撞前的移动(来源:作者)</p></figure><blockquote class="lz ma mb"><p id="a40b" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated">在深入分析之前，看一下数据是值得的。数据有偏差。<strong class="ky ir">所有记录都属于城市道路上的撞车和自动驾驶汽车。</strong>没有关于高速公路驾驶或大型车辆(如自动驾驶卡车和公共汽车)的数据。</p></blockquote><p id="bff8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">速度(mph)数据不足以推断结论，因为75%的情况下没有报告速度。</p><p id="e8bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">令人惊讶的是，在预碰撞阶段，自动驾驶汽车直线行驶，然后发生碰撞。AV在崩溃前停止似乎是一个常见的场景。AV是否预见到了碰撞并停止了？还是在停车标志前停下来被撞了？当中等强度的碰撞发生时，AV是否试图使其变得轻微？如果是，交换是什么？为了进一步了解情况，需要访问AV的事件日志和情况的原因分析。</p><p id="a788" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有大量的追尾事故。汽车主机厂是否应该在车尾材料上进行创新和实验？</p><p id="0d33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你注意到AV准备就绪的好消息了吗？虽然撞车确实发生了，但70%的撞车是轻微的。让我们以积极的态度到达终点。</p></div></div>    
</body>
</html>