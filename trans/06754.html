<html>
<head>
<title>How to Prepare Data for Object Detection?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">物体检测如何准备数据？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-prepare-data-for-object-detection-34750c4d00da?source=collection_archive---------10-----------------------#2021-06-18">https://towardsdatascience.com/how-to-prepare-data-for-object-detection-34750c4d00da?source=collection_archive---------10-----------------------#2021-06-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="db39" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为大型机器学习项目构建自定义对象检测模型的见解</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/eb1982c381975e3bb49cf4fe84df1cba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9uhBWl5GMSQbqvHjxTDmZQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">构建可视化人工智能的图像标注。[ <a class="ae kv" href="http://www.ximilar.com" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="1f9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着时间的推移，我们在Ximilar从事了许多具有挑战性的项目，其中包括对象检测。如今，仅模型的训练和部署就可以在几分钟内完成。您可以简单地上传您的数据并点击几个按钮来训练和部署您的模型作为一个API。如今，检测模型训练越来越具有挑战性和难度的部分是数据，因为:</p><ul class=""><li id="129f" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">物体检测需要<strong class="ky ir">比普通图像分类器大得多的数据集</strong>。</li><li id="edb0" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">所有你想让人工智能检测到的物品，首先需要被适当地标注</strong>，这意味着它们以某种方式被标记了标签和边界框。</li><li id="5fb2" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">数据注释是一个耗时且费力的过程，通常需要一个<strong class="ky ir">团队。</strong></li><li id="1698" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">当注释你的数据时，你需要绝对一致，注释的人必须训练有素，协调一致。</li></ul><h1 id="cd53" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">数据监管和MLOps非常重要</h1><p id="1989" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">选择架构类型只会使整体精度上下移动<strong class="ky ir">几个百分点</strong>。遗憾的是，大多数机器学习研究都是关于架构设计、新的激活函数和层的。<strong class="ky ir">此外，这项研究大多是在相同的庞大数据集上完成的(</strong><a class="ae kv" href="https://www.image-net.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">ImageNET</strong></a><strong class="ky ir">，</strong> <a class="ae kv" href="https://cocodataset.org/#home" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> COCO </strong> </a>，<a class="ae kv" href="https://storage.googleapis.com/openimages/web/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Google Open Images</strong></a><strong class="ky ir">)一遍又一遍</strong>。基本上，研究小组和大型科技公司在这部分研究上花费了数百万美元，但没有花费在数据监管过程上。</p><blockquote class="nd ne nf"><p id="d097" class="kw kx ng ky b kz la jr lb lc ld ju le nh lg lh li ni lk ll lm nj lo lp lq lr ij bi translated">根据我们的经验，以数据为中心比谷歌开发的最新架构带来更好的结果。大多数机器学习项目都是从很少或没有数据开始的。在数据很少的情况下，最先进的模型往往会失败。</p></blockquote><p id="3d80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">人工智能研究员<strong class="ky ir"> Andrew NG敦促人工智能社区更加以数据为中心，</strong>我们完全同意。数据的增量改进和使数据集适当平衡是一个更好的方法。[ <a class="ae kv" href="https://analyticsindiamag.com/big-data-to-good-data-andrew-ng-urges-ml-community-to-be-more-data-centric-and-less-model-centric/" rel="noopener ugc nofollow" target="_blank">来源</a>如果你更注重数据而不是模型，你也可以节省很多培训时间。尝试不同的架构还需要调整许多超参数。</p><h1 id="8545" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">构建检测MLOps注释管道</h1><p id="b418" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在一个空白的机器学习项目中，我们从几个数据点开始。正如我们之前所说，更多的数据可能会带来更好的结果。然而，做注释(分配标签，创建边界框)的人应该重新检查其他人的数据。这样，我们可以交叉验证注释的正确性。</p><p id="cfab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，如果我们希望更加以数据为中心，我们需要知道哪些数据已经被检查过。例如，我们正在开发一个能够分析时尚产品图像的时尚人工智能系统。这个项目的复杂性令人震惊。成千上万的图像，成千上万的类别，包括对象检测和分割。</p><p id="94cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每周，注释者都关注我们需要解决的不同类型的问题。解决一个问题最终会产生另一个问题，或者降低系统不同部分的准确性。这正是<a class="ae kv" href="https://www.youtube.com/watch?v=oBklltKXtDE" rel="noopener ugc nofollow" target="_blank">特斯拉AI开发者正在经历的问题</a>。你需要非常小心正确的图像样本的适当平衡。</p><p id="a39a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是为什么我们正在系统地改进我们的训练数据集。每周我们都会分析问题，并为注释者定义新的工作。他们的工作进度被保存下来，然后在下周进行分析。为时尚或自动驾驶等重大任务构建可靠的人工智能是一个永无止境的过程，因为世界也在变化。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/9a02ab97b776dacebd91feae7f24e0a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QHylVSxAIFJ6c1VsjsNGAw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">注释作业及其进度。[ <a class="ae kv" href="http://www.ximilar.com" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="0887" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，在我们的注释工具中，您可以定义注释作业，并指定注释者应该查看图像的次数。然后，机器学习项目的项目经理可以看到工作的进展以及更多内容。</p><p id="99b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注记工具支持数据的<strong class="ky ir">验证</strong>和多种绘图工具，如矩形、多边形和经典标注。随着时间的推移，注释过程越来越快。这是因为您可以简单地在单击时训练对象检测模型，然后在不使用绘图工具的情况下做出所有预测。<strong class="ky ir">通过标注系统的MLOps，您可以A/B测试在不同版本的数据集上训练的不同版本的模型</strong>。</p><h1 id="0400" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">如何让物体检测更准确？</h1><p id="2ad6" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在一些项目中，我们需要检测看起来非常相似的不同类型的项目。这对于模型来说非常难学。<strong class="ky ir">因为如果我们有视觉上非常相似的不同类，目标检测的目标函数的损失将最终停留在第一个时期</strong>。例如，检测数百种鸟类可能非常困难。这同样适用于微控制器(Raspberry PI，Arduino，…)，时尚产品(衬衫与t恤)，产品缺陷…</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/abe7e538c57a50719c6e82d969fc6536.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gSNsXcHvyfY--Xzy247_tQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Arduino的产品之一。所有的Arduino产品看起来都非常相似。由<a class="ae kv" href="https://unsplash.com/@sahandbabali?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">萨汉德·巴巴里</a>在<a class="ae kv" href="https://unsplash.com/s/photos/arduino?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="a012" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">想象一下<a class="ae kv" rel="noopener" target="_blank" href="/detecting-microcontrollers-with-cnn-ced688a8a144">在图像上检测微控制器</a> (Arduino)的问题。对象检测模型将很容易学会检测&amp;区分Arduino和Raspberry。然而，对于所有不同的Arduino和Raspberry微控制器来说，做到这一点是非常困难的。它们有几百种。</p><p id="dbb7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">那么，有什么选项可以让对象检测在许多视觉上相似的类上工作呢？</strong></p><p id="9c39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以划分问题，简单地创建一个对象检测模型，只有一个标签，名称为“微控制器”。然后创建一个图像分类器模型，它将告诉我们有哪种特定的Arduino产品。<strong class="ky ir">这种两步法将提高整个系统的整体精度。</strong>我们的注释系统能够做到这一点，创建一个对象并分配一个标签或一个复杂的标签分类(层次结构)。只需点击几下鼠标，预测系统就可以部署到API端点，只需通过流连接对象检测和图像分类器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/c6212f57d422bf1b88c598e83ab8d8de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5tI48Mff_cWd7qrBbNBZ1Q.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">检测大量对象类型的问题可以分为两个步骤。首先检测对象，然后只对边界框的内容进行分类。[ <a class="ae kv" href="http://www.ximilar.com" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="7c5e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">还记得我提到的时尚或特斯拉用例吗？检测类别越多，需要的数据就越多。将问题分成更少的类是一种更有效的方法。它也不会破坏系统的另一部分，因为每个神经网络只看到我们所说的那部分数据。如果你有一个大的模型，那么你所有的图像必须有所有的边界框和所有的标签，并且要平衡，所以这个类不是主要的。</p><h1 id="a2bc" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">用于目标检测的数据扩充</h1><p id="7868" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">数据扩充是多种训练样本的常用方法。为同一个图像创建许多不同的变体可以帮助提升你的模型。<strong class="ky ir">然而，你需要非常小心选择哪个增强</strong>。有时图像的水平或垂直翻转会破坏模型的性能(例如，检测交通标志可能会出现这种情况)。理想情况下，您应该能够在不同的增强设置上测试您的模型的性能。然后，您可以选择一个在您的测试数据和生产设置中更加健壮的模型。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/af2b9a24e2297c63768933397a43fc32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*PP8Cip7h4m7jUowmZPSbOg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">如何扩大图像的多种方法？改变颜色，饱和度，缩放，删除部分图像。【<a class="ae kv" href="http://www.ximilar.com/blog" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><h1 id="4b30" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">使用在线注释工具的好处</h1><p id="33d9" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">总之，注释图像应该可以帮助您建立高质量的数据集，用于训练精确的机器学习模型。整个过程应该是有效的，并且应该导致迭代开发，然后在生产中部署。在处理具有复杂分类的大型项目时，您应该首先考虑您的数据，并将您的问题分成子问题。</p><p id="0e2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想使用或阅读更多关于注释平台和所有功能的信息，请访问<a class="ae kv" href="https://www.ximilar.com/image-annotation-tool-for-teams-2021/" rel="noopener ugc nofollow" target="_blank"> Ximilar </a>。</p></div></div>    
</body>
</html>