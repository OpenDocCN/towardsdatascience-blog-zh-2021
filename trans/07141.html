<html>
<head>
<title>7 Tell-tale Signs That You Need to Level Up Your Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你需要提高你的Python水平的7个信号</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/7-tell-tale-signs-that-you-need-to-level-up-your-python-ed2e41d0d2eb?source=collection_archive---------33-----------------------#2021-06-28">https://towardsdatascience.com/7-tell-tale-signs-that-you-need-to-level-up-your-python-ed2e41d0d2eb?source=collection_archive---------33-----------------------#2021-06-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7e53" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">避免这些常见的不良做法和新手错误</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/37250369c5506dc9a28d1004e46206fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t_DvAbaEtYsH-obD"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@austinchan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">奥斯汀·陈</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="292a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在以下七种说法中，你能认出自己吗？那么这个故事是给你的！</p><ol class=""><li id="3bdf" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">您正在使用<code class="fe me mf mg mh b">sys</code>或<code class="fe me mf mg mh b">os</code>进行文件路径管理</li><li id="09bc" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu ma mb mc md bi translated">你正在用<code class="fe me mf mg mh b">.format()</code>或<code class="fe me mf mg mh b">% operator</code>格式化字符串</li><li id="37ee" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu ma mb mc md bi translated">你没有使用<code class="fe me mf mg mh b">typing</code>类型提示</li><li id="7594" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu ma mb mc md bi translated">你没有使用<code class="fe me mf mg mh b">lambda</code>的显式熊猫功能</li><li id="5bb5" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu ma mb mc md bi translated">你是<code class="fe me mf mg mh b">printing</code>而不是<code class="fe me mf mg mh b">logging</code>用户反馈</li><li id="aa87" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu ma mb mc md bi translated">您没有使用linters或formatters，也没有使用<code class="fe me mf mg mh b">pre-commit</code></li><li id="25b8" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu ma mb mc md bi translated">你没有使用<code class="fe me mf mg mh b">ifmain</code></li></ol><p id="bf37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是时候用下面的小技巧&amp;把你的Python 2.x知识升级到<strong class="lb iu"> Python 3.10 </strong>了。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="e1ce" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">Pathlib:一种更好的路径处理方式</h1><blockquote class="nm nn no"><p id="841b" class="kz la np lb b lc ld ju le lf lg jx lh nq lj lk ll nr ln lo lp ns lr ls lt lu im bi translated">忘记<code class="fe me mf mg mh b">sys</code>和<code class="fe me mf mg mh b">os</code>，用<code class="fe me mf mg mh b">pathlib</code>代替。</p></blockquote><p id="0d43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python 3.4引入了内置库<code class="fe me mf mg mh b">pathlib</code>，它将字符串路径转换为<strong class="lb iu">面向对象的文件系统路径</strong>，启用属性和方法功能。从PEP519开始，<code class="fe me mf mg mh b">pathlib</code>是公认的Python文件路径的抽象。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="ee3c" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">用f字符串格式化字符串</h1><blockquote class="nm nn no"><p id="5d82" class="kz la np lb b lc ld ju le lf lg jx lh nq lj lk ll nr ln lo lp ns lr ls lt lu im bi translated">忘记<code class="fe me mf mg mh b">% operator</code>和<code class="fe me mf mg mh b">.format()</code>，用<code class="fe me mf mg mh b"><em class="it">f''</em></code>代替。</p></blockquote><p id="6395" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python 3.6+引入了对字符串格式的最新更新:<code class="fe me mf mg mh b">f-strings</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="1ef5" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">类型提示</h1><blockquote class="nm nn no"><p id="d9a1" class="kz la np lb b lc ld ju le lf lg jx lh nq lj lk ll nr ln lo lp ns lr ls lt lu im bi translated">使用类型提示增加源代码文档和可读性。</p></blockquote><p id="8240" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从Python 3.5+开始，我们已经看到了下一代代码文档:<em class="np">提示</em>哪些<em class="np">变量的类型</em>在函数或类参数和返回语句中。这使得格式化程序、linters和IDE能够为类型检查提供运行时支持。</p><p id="1a1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类型提示可以从<code class="fe me mf mg mh b">typing</code>模块导入。格式为<code class="fe me mf mg mh b">&lt;variable name&gt; : &lt;variable type&gt;</code>，可以直接插入函数参数中。您可以用<code class="fe me mf mg mh b">-&gt; &lt;return variable&gt;</code>包含返回声明。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="5102" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，类型提示是<strong class="lb iu">可选的</strong>:Python解释器完全忽略它们，带有错误格式的类型提示的Python代码仍然会运行。像Pycharm这样的ide集成了类型检查，而像<code class="fe me mf mg mh b">mypy</code>这样的静态类型检查工具可以将类型错误作为bug挖掘出来。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="f70d" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">熊猫:使用lambda函数</h1><blockquote class="nm nn no"><p id="f330" class="kz la np lb b lc ld ju le lf lg jx lh nq lj lk ll nr ln lo lp ns lr ls lt lu im bi translated">忘记隐式过滤和列赋值，改用<code class="fe me mf mg mh b">lambda</code>。</p></blockquote><p id="836b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas是一个很棒的库，已经成为任何数据科学项目的标准。但是要确保明智地使用它的功能。避免常见的不良行为，例如:</p><ol class=""><li id="0214" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">没有<code class="fe me mf mg mh b">.loc</code>和<code class="fe me mf mg mh b">lambda</code>函数的隐式滤波。</li><li id="b787" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu ma mb mc md bi translated">没有<code class="fe me mf mg mh b">.assign</code>和<code class="fe me mf mg mh b">lambda</code>函数的隐式列赋值。</li></ol><p id="c2bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这些方法有效，但是它们很难维护，尤其是在链接选项时。<strong class="lb iu">显式比隐式好</strong>:用指定的方法指定你在做什么，比如<code class="fe me mf mg mh b">.loc</code>或<code class="fe me mf mg mh b">.assign</code>和<strong class="lb iu">如何用<code class="fe me mf mg mh b">lambda</code>函数</strong>。<code class="fe me mf mg mh b">lambda</code>函数是未命名的函数，在这种情况下，迭代熊猫<code class="fe me mf mg mh b">DataFrames</code>的行。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="f780" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">日志:用于反馈的内置模块</h1><blockquote class="nm nn no"><p id="a773" class="kz la np lb b lc ld ju le lf lg jx lh nq lj lk ll nr ln lo lp ns lr ls lt lu im bi translated">忘记<code class="fe me mf mg mh b">print()</code>，使用<code class="fe me mf mg mh b">logging</code>进行错误、警告和调试。</p></blockquote><p id="7380" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打印错误可能对调试有用，但是使用Python内置的<code class="fe me mf mg mh b"><a class="ae ky" href="https://docs.python.org/3/library/logging.html" rel="noopener ugc nofollow" target="_blank">logging</a></code>模块使<strong class="lb iu">所有的</strong> Python模块都能够参与日志记录，因此您的应用程序日志可以包含您的消息以及来自第三方模块的消息。</p><p id="5e15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe me mf mg mh b">logging</code>模块提供了从最不严重到最严重的几个<code class="fe me mf mg mh b">LEVELS</code>:</p><ul class=""><li id="f25d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nv mb mc md bi translated"><code class="fe me mf mg mh b">DEBUG</code> —详细信息，通常仅在诊断问题时感兴趣。</li><li id="3fec" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu nv mb mc md bi translated"><code class="fe me mf mg mh b">INFO</code> —确认事情按预期运行。</li><li id="28e5" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu nv mb mc md bi translated"><code class="fe me mf mg mh b">WARNING</code> —表示发生了或即将发生意想不到的事情(如“磁盘空间不足”)。该软件仍按预期工作。</li><li id="ce26" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu nv mb mc md bi translated"><code class="fe me mf mg mh b">ERROR</code> —由于更严重的问题，软件无法执行某些功能。</li><li id="74e2" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu nv mb mc md bi translated"><code class="fe me mf mg mh b">CRITICAL</code> —严重错误，表示程序本身可能无法继续运行。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="40c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe me mf mg mh b">basicConfig</code>的级别表示要包含哪些日志。例如，如果您使用<code class="fe me mf mg mh b">info()</code>，但是日志级别被设置为<code class="fe me mf mg mh b">WARNING</code>，这些日志就不会显示出来。您也可以使用配置将日志输出到一个<code class="fe me mf mg mh b">example.log</code>文件，而不是将我们的日志流式传输到标准输出(相当于打印它们):</p><pre class="kj kk kl km gt nw mh nx ny aw nz bi"><span id="6882" class="oa mv it mh b gy ob oc l od oe">logging.basicConfig(filename='example.log',level=logging.DEBUG)</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="f28c" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">预提交:自动林挺和格式化</h1><blockquote class="nm nn no"><p id="0aae" class="kz la np lb b lc ld ju le lf lg jx lh nq lj lk ll nr ln lo lp ns lr ls lt lu im bi translated">再也不要手动检查Python源代码中的样式错误。</p></blockquote><p id="cc00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过Git挂钩，我们可以在每次提交和推送到我们的库之前运行林挺和格式化工具，比如<code class="fe me mf mg mh b">mypy</code>、<code class="fe me mf mg mh b">autoflake</code>、<code class="fe me mf mg mh b">flake8</code>、<code class="fe me mf mg mh b">isort</code>、<code class="fe me mf mg mh b">black</code>。这使我们能够在Python项目中自动创建<strong class="lb iu">标准化的代码风格约定</strong>。这些Git挂钩由<code class="fe me mf mg mh b">pre-commit</code>包提供。请在下面的故事中找到更多关于预提交Git挂钩的有用提示👇</p><div class="of og gp gr oh oi"><a href="https://betterprogramming.pub/4-tips-to-automate-clean-code-in-python-527f59b5fe4e" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">在Python中自动化干净代码的4个技巧</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">通过这些林挺和格式化工具，使用预提交Git挂钩来自动化Python代码样式</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">better编程. pub</p></div></div><div class="or l"><div class="os l ot ou ov or ow ks oi"/></div></div></a></div></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="5658" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">Ifmain:模块化Python代码</h1><blockquote class="nm nn no"><p id="70b9" class="kz la np lb b lc ld ju le lf lg jx lh nq lj lk ll nr ln lo lp ns lr ls lt lu im bi translated">通过<code class="fe me mf mg mh b">__main__</code>执行脚本，通过<code class="fe me mf mg mh b">__module_name__</code>执行模块。</p></blockquote><p id="20cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当Python解释器解析Python脚本时，设置一些顶级变量<strong class="lb iu">并执行源代码</strong>。为了避免执行<code class="fe me mf mg mh b">.py</code>文件中的所有源代码，我们将<code class="fe me mf mg mh b">ifmain</code>与顶层<code class="fe me mf mg mh b">__name__</code>变量结合使用。该<code class="fe me mf mg mh b">__name__</code>变量是</p><ol class=""><li id="f0ef" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe me mf mg mh b">__main__</code>执行源文件时，像这样:<code class="fe me mf mg mh b">$ python3 file.py</code></li><li id="4ddf" class="lv lw it lb b lc mi lf mj li mk lm ml lq mm lu ma mb mc md bi translated">导入模块时的模块名称<code class="fe me mf mg mh b">__module_name__</code>如下:<code class="fe me mf mg mh b">import modular_function from file.py</code></li></ol><p id="47fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe me mf mg mh b">if __name__ == '__main__':</code>下的<code class="fe me mf mg mh b">ifmain</code>代码是样板代码，保护用户在无意中调用脚本中的源代码。导入使用命令行参数和<code class="fe me mf mg mh b">argparse</code>的无保护脚本的一个问题是CLI参数会被覆盖。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="d8b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">An <code class="fe me mf mg mh b">ifmain</code>是Python中模块化编码原则的一部分:<strong class="lb iu">不要重复自己</strong>(干)。它使您能够编写独立的函数，这些函数独立于<code class="fe me mf mg mh b">.py</code>文件中的其余代码运行，同时也能够将源代码作为主程序运行。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="6beb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在你的日常工作中使用这七个技巧，至少在接下来的几个月里，你就是未来的证明😉编码快乐！</p><div class="of og gp gr oh oi"><a href="https://medium.com/analytics-vidhya/seven-tips-to-clean-code-with-python-24930d35927f" rel="noopener follow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">用Python清理代码的七个技巧</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">以下是我作为数据科学家在工作中每天使用的七个技巧和代码片段。</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">medium.com</p></div></div><div class="or l"><div class="ox l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/five-tips-for-automatic-python-documentation-7513825b760e"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">自动化Python文档的五个技巧</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">用这五个自动化步骤和预提交Git挂钩在MkDocs &amp; Material中创建漂亮的Python文档</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="oy l ot ou ov or ow ks oi"/></div></div></a></div></div></div>    
</body>
</html>