<html>
<head>
<title>4 Python Features that Cause You to Make a Mistake Without Noticing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4个Python特性让你在没有注意到的情况下犯了错误</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-python-features-that-cause-you-to-make-a-mistake-without-noticing-98ef46d873c8?source=collection_archive---------8-----------------------#2021-09-23">https://towardsdatascience.com/4-python-features-that-cause-you-to-make-a-mistake-without-noticing-98ef46d873c8?source=collection_archive---------8-----------------------#2021-09-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7607" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不要让他们拖累你</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5ee44f8a2d3247f9754b87cdd7c8bb5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vF62ZQ6UAwXpphJkqQyOoA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Brando Louhivaara 在<a class="ae ky" href="https://unsplash.com/s/photos/hidden?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ee95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自从我踏入数据科学的第一步，我就一直在使用Python。虽然我过分关注第三方库，如Pandas和Scikit-learn，但学习基本Python也是至关重要的。</p><p id="437d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于各种原因，Python是一门伟大的语言。很容易学习和理解。你可以像阅读普通英语一样阅读Python代码。Python也带来了快速简单的开发过程，我认为这是一个动力助推器。</p><p id="1553" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，Python有一些我们需要额外注意的特性。否则，我们可能会在不知不觉中犯一些错误。我在学习Python的旅途中其实也犯过这样的错误。</p><p id="7d0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将讨论4个Python特性，如果使用不当，它们可能会给你带来麻烦。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="de29" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">1.有效的方法</h2><p id="d259" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Python提供了几种修改内置数据结构的方法。例如，sort方法可用于对列表中的项目进行排序。</p><p id="6c8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，这些方法中的一些在适当的位置工作，这意味着它们不返回任何东西。这些方法的一个潜在错误是用它们进行变量赋值。</p><p id="f5a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有下面的列表，并且需要对它进行排序。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="dba6" class="mc md it nb b gy nf ng l nh ni">mylist = [1, 4, 2, 10, 5]</span><span id="4afa" class="mc md it nb b gy nj ng l nh ni">mysortedlist = mylist.sort()</span></pre><p id="a1ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们检查排序列表中项目的顺序。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6d10" class="mc md it nb b gy nf ng l nh ni">print(mysortedlist)<br/>None</span></pre><p id="d9ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它实际上没有任何值，因为sort方法对原始列表中的项目进行排序，并且不返回任何内容。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="9ae2" class="mc md it nb b gy nf ng l nh ni">print(mylist)<br/>[1, 2, 4, 5, 10]</span></pre><p id="74bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你使用合适的方法时要小心。否则，您将最终拥有没有值的变量。</p><p id="5a04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不想修改原来的列表，你可以使用sorted函数，它不会改变原来的列表，而是返回一个排序后的列表。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="1c9d" class="mc md it nb b gy nf ng l nh ni">mylist = ["d", "a", "c"]<br/>mysortedlist = sorted(mylist)</span><span id="f1a8" class="mc md it nb b gy nj ng l nh ni">print(mysortedlist)<br/>['a', 'c', 'd']</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="4e0f" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">2.创建空集</h2><p id="fa7f" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Set是Python中内置的数据结构。它类似于一个列表，但是它只包含唯一的值。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2750" class="mc md it nb b gy nf ng l nh ni">mylist = [1, 1, 2, 3, 3, 4]</span><span id="62b9" class="mc md it nb b gy nj ng l nh ni">myset = set(mylist)</span><span id="690e" class="mc md it nb b gy nj ng l nh ni">print(myset)<br/>{1, 2, 3, 4}</span></pre><p id="63c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们将列表转换为集合时，重复项将被删除。集合表示为用逗号分隔的大括号中的值。因此，我们应该能够创建如下空集:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="1ff8" class="mc md it nb b gy nf ng l nh ni">myset = {}</span></pre><p id="0d4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们检查一下myset变量的类型。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d134" class="mc md it nb b gy nf ng l nh ni">type(myset)<br/>dict</span></pre><p id="f03e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一本字典，不是一套。Dictionary是另一种内置的数据结构，用花括号中的键值对表示。中间没有项目的花括号会产生字典。</p><p id="6c9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用set函数创建一个空集。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="c931" class="mc md it nb b gy nf ng l nh ni">myset = set()</span><span id="e700" class="mc md it nb b gy nj ng l nh ni">type(myset)<br/>set</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="a01f" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">3.创建包含单个项目的元组</h2><p id="8139" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Tuple是Python中的另一种内置数据结构。它用括号中的值表示，并用逗号分隔。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="7abb" class="mc md it nb b gy nf ng l nh ni">mytuple = ("Jane","John","Matt")</span><span id="0093" class="mc md it nb b gy nj ng l nh ni">type(mytuple)<br/>tuple</span></pre><p id="7315" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">元组类似于列表，但它们是不可变的。因此，我们不能更新元组中的值。</p><p id="0ece" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">append方法也不适用于元组。然而，我们可以将元组加在一起以创建另一个元组。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="4398" class="mc md it nb b gy nf ng l nh ni">mytuple = ("Jane","John","Matt")</span><span id="a688" class="mc md it nb b gy nj ng l nh ni">mytuple + ("Ashley", "Max")<br/>('Jane', 'John', 'Matt', 'Ashley', 'Max')</span></pre><p id="29ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用一个条目创建一个元组有点棘手。虽然只有一项，但你应该在它后面加一个逗号。否则，你将得到一个字符串而不是一个元组。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="093c" class="mc md it nb b gy nf ng l nh ni">mytuple = ("Jane")</span><span id="b85c" class="mc md it nb b gy nj ng l nh ni">print(mytuple)<br/>Jane</span><span id="1d2f" class="mc md it nb b gy nj ng l nh ni">type(mytuple)<br/>str</span></pre><p id="ed5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用逗号做同样的操作。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="cc7a" class="mc md it nb b gy nf ng l nh ni">mytuple = ("Jane",)</span><span id="0e6d" class="mc md it nb b gy nj ng l nh ni">print(mytuple)<br/>('Jane',)</span><span id="cccc" class="mc md it nb b gy nj ng l nh ni">type(mytuple)<br/>tuple</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="830a" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">4.列表理解中的多个可重复项</h2><p id="5314" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">列表理解是Python最好的特性之一。它提供了一种基于其他可迭代对象(如集合、元组、其他列表等)创建列表的方法。</p><p id="8b56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列表理解也可以描述为用更简单、更吸引人的语法来表示for和if循环。不过，它们也比循环快。</p><p id="920d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个简单的例子。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="3606" class="mc md it nb b gy nf ng l nh ni">a = [1, 2, 3]</span><span id="75c0" class="mc md it nb b gy nj ng l nh ni">mylist = [x**2 for x in a]</span><span id="1c87" class="mc md it nb b gy nj ng l nh ni">mylist<br/>[1, 4, 9]</span></pre><p id="de24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">新列表包含列表a中每个项目的方块。列表理解允许在不同的可重复项中使用多个项目。例如，我们可以基于另外两个列表创建一个列表。</p><p id="32ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑以下列表a和b。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="89a3" class="mc md it nb b gy nf ng l nh ni">a = [1,2,3]</span><span id="8e90" class="mc md it nb b gy nj ng l nh ni">b = [6,7,8]</span></pre><p id="4a41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想创建一个包含列表a和b中具有相同索引的产品的列表。因此，新列表将包含项目6、14和24。下面的列表理解似乎是这个任务的一个很好的解决方案。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="01b2" class="mc md it nb b gy nf ng l nh ni">newlist = [x*y for x in a for y in b]</span></pre><p id="1d01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们检查结果。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="be45" class="mc md it nb b gy nf ng l nh ni">newlist<br/>[6, 7, 8, 12, 14, 16, 18, 21, 24]</span></pre><p id="f311" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不是我们所需要的。不是将具有相同索引(1*6、2*7和3*8)的项目相乘，而是将第一个列表中的所有项目与第二个列表中的所有项目相乘。它实际上是一个叉积。</p><p id="8160" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python为我们的问题提供了一个很好的解决方案:zip函数。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="8bf5" class="mc md it nb b gy nf ng l nh ni">newlist = [x*y for x, y in zip(a,b)]</span><span id="3a18" class="mc md it nb b gy nj ng l nh ni">newlist<br/>[6, 14, 24]</span></pre><p id="b53f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">zip函数返回一个zip对象，该对象包含两个列表中匹配项的元组。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="85d1" class="mc md it nb b gy nf ng l nh ni">list(zip(a, b))</span><span id="4a95" class="mc md it nb b gy nj ng l nh ni">[(1, 6), (2, 7), (3, 8)]</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="334e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经讨论了4个不太明显的Python特性。它们可能会让你犯一些乍一看很难注意到的错误。然而，这样的错误可能会有严重的后果，尤其是当你在一个长脚本中使用它们的时候。</p><p id="0481" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>