<html>
<head>
<title>Simple Ways to Apply Lambda Function in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Python 中应用 Lambda 函数的简单方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-ways-to-apply-lambda-function-in-python-7382276403a4?source=collection_archive---------7-----------------------#2021-11-06">https://towardsdatascience.com/simple-ways-to-apply-lambda-function-in-python-7382276403a4?source=collection_archive---------7-----------------------#2021-11-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7ddd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">开始使用高度通用的功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ab6b90df711dbfaadc3df8d547a3889a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KaKigyOwR_XmK8Zu"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Yannis Papanastasopoulos 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="2663" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么是λ函数</h1><p id="0c5d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">匿名函数是没有名字的函数。在 Python 中，使用<code class="fe mn mo mp mq b">lambda</code>关键字来确定匿名函数。这是因为 lambda 函数在定义时不需要名字，不像常规函数。我们使用<code class="fe mn mo mp mq b">lambda</code>关键字来构造函数，而不是使用<code class="fe mn mo mp mq b">def</code>关键字。这就是匿名函数也被称为 lambda 函数的原因。</p><p id="24d2" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">lambda 函数可以有几个参数，但只有一个表达式。以下语法用于声明 lambda 函数:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="8b03" class="na la it mq b gy nb nc l nd ne">lambda argument(s): expression</span></pre><h1 id="ec59" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">何时使用 Lambda 函数</h1><p id="2662" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">有成千上万个使用 lambda 函数的用例。然而，当需要函数对象时，它们最常被应用。</p><p id="c8a8" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">此外，lambda 定义中没有“return”语句；相反，它总是包含一个返回的表达式。所以，为了简单起见，可以考虑使用<code class="fe mn mo mp mq b">lambda</code>函数。</p><p id="c44e" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">此外，当函数表达式很小时，最好使用 lambda 函数来提高可读性。换句话说，lambda 只能有一个表达式，因此如果你的函数不能用一行代码来描述，就不要使用 lambda 函数。</p><p id="1f8f" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">稍后，我们将探索几个使用 lambda 函数的例子，以便更好地理解它的用例。</p><h1 id="1edb" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">如何使用 Lambda 函数</h1><h2 id="4567" class="na la it bd lb nf ng dn lf nh ni dp lj ma nj nk ll me nl nm ln mi nn no lp np bi translated">λ和应用</h2><p id="f56e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我将通过将 lambda 函数应用于不同的例子来解释它的用法。首先，让我们创建一个简单的数据框进行操作。</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="b81c" class="na la it mq b gy nb nc l nd ne">grade = {'Class':['A1', 'A2', 'A3', 'A4','A5'],<br/>        'MathScore':[3.2, 3.3, 2.1, 2.9, 3.6],<br/>        'ChemistryScore': [3.2, 3.6,3.3,2.1,4.6]}</span><span id="14ab" class="na la it mq b gy nq nc l nd ne">grade = pd.DataFrame(grade)</span></pre><p id="b021" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">该数据集显示了从 A1 到 A5 的五个班级的数学和化学平均分数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/030fede56ef6e2ad1be4e12abf0de9be.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*IdKsj94IfYThdMpr1U-gDg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 1:数据集—按作者分类的图像</p></figure><p id="79e8" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">例如，我想根据一个特殊的公式来评估每个班级的数学能力，该公式是将数学分数乘以数学分数本身的幂，然后将结果除以 2。下面是我如何使用<code class="fe mn mo mp mq b">lambda</code>函数计算的。</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="f08d" class="na la it mq b gy nb nc l nd ne">grade['evaluate']=grade['MathScore'].apply(lambda x: round((x**x)/2,2))</span></pre><p id="eb30" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><code class="fe mn mo mp mq b">apply</code>方法调用<code class="fe mn mo mp mq b">lambda</code>函数，并将计算应用于数据帧的每一行。此外，<code class="fe mn mo mp mq b">apply</code>还可以对数据框中的每一列进行修改。在这种情况下，在<code class="fe mn mo mp mq b">apply</code>函数中再指定一个参数作为<code class="fe mn mo mp mq b">axis = 0</code>。我计算后的结果存储在<strong class="lt iu">“evaluate”</strong>列，如下图所示。</p><p id="f162" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><strong class="lt iu"> <em class="ns">输出:</em> </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/ef7552d59c4e93eb5cdef8e299bf1c90.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*nbLNPVtqZDFxvnhghNDAcw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 2: Lambda +应用——作者图片</p></figure><p id="e461" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">在我们的数据框架的另一个例子中(图 1 ),我想根据他们在数学和化学上的表现对班级进行分类。我们可以使用<code class="fe mn mo mp mq b">lambda</code>很容易地解决这个问题。</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="de53" class="na la it mq b gy nb nc l nd ne">grade['group']=grade['MathScore'].apply(lambda x: 'Excellent' if x&gt;=3.0 else 'Average')</span></pre><p id="fe52" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><strong class="lt iu"> <em class="ns">输出:</em> </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/21c85e5c91ed512b3473ccabd7c12e96.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*1SUZqb7N2AufG7C1E5HHBg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 3:使用 Apply、Lambda 和条件语句</p></figure><h2 id="9524" class="na la it bd lb nf ng dn lf nh ni dp lj ma nj nk ll me nl nm ln mi nn no lp np bi translated"><strong class="ak">λ和子列表</strong></h2><p id="8bc3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">假设我有一个如下的列表:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="a230" class="na la it mq b gy nb nc l nd ne">list = [[5,6],[12,32,43],[3,43,42]]</span></pre><p id="00d3" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">为了找到具有最大值的子列表，我可以如下应用<code class="fe mn mo mp mq b">lambda</code>函数和<code class="fe mn mo mp mq b">max</code>:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="9136" class="na la it mq b gy nb nc l nd ne">max(list, key=lambda x: sum(x))</span></pre><p id="b07b" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">因此，[3，43，42]是三个子列表中总值最高的子列表。</p><h2 id="6f04" class="na la it bd lb nf ng dn lf nh ni dp lj ma nj nk ll me nl nm ln mi nn no lp np bi translated">Lambda 和 if-else</h2><p id="b7a1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">万一我想做一个值之间的比较，得到一个更大值的结果。让我们看看如何用<code class="fe mn mo mp mq b">lambda</code>和<code class="fe mn mo mp mq b">if-else.</code>来实现它</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="ecd1" class="na la it mq b gy nb nc l nd ne">Greater = lambda x, y : x if(x &gt; y) else y<br/>Greater(0.002, 0.5897)</span></pre><p id="ad43" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">结果是 0.5897。简单吧？</p><h2 id="2986" class="na la it bd lb nf ng dn lf nh ni dp lj ma nj nk ll me nl nm ln mi nn no lp np bi translated"><strong class="ak">λ和过滤器</strong></h2><p id="42de" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">继续使用图 1 中的示例数据框，我将找出有多少数学成绩大于平均分。<code class="fe mn mo mp mq b">filter</code>方法可以通过对序列应用 lambda 函数来过滤数据。事情是这样的:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="bdaf" class="na la it mq b gy nb nc l nd ne">mean = mean(grade['MathScore'])<br/>list(filter(lambda x: x&gt; mean,grade['MathScore']))</span></pre><p id="c407" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">输出是一个大于平均值的数学分数列表:[3.2，3.3，3.6]</p><p id="d051" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">在另一种情况下，我想用<code class="fe mn mo mp mq b">filter</code>方法找到嵌套列表的交集。看看我在下面的两个列表中有什么:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="95fe" class="na la it mq b gy nb nc l nd ne">group1 = [1, 2,3,43,23,42,8,3,7]<br/>group2 = [[3, 34, 23, 32, 42], [6, 11, 9], [1, 3,9,7,2,8]]</span></pre><p id="0abd" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">现在，通过应用下面的代码，我可以找出一个列表，其中组 2 中的值也存在于组 1 中:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="c59a" class="na la it mq b gy nb nc l nd ne">[list(filter(lambda x: x in group1, sublist)) for sublist in group2]</span></pre><p id="e81a" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><strong class="lt iu"> <em class="ns">输出:</em> </strong> [[3，23，42]，[]，[1，3，7，2，8]]</p><p id="7251" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">简单地说，filter 方法检查每个子列表的项目，以确定它是否包含在组 1 中。列表理解应用于组 2 中的每个子列表。</p><h1 id="a3aa" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="b4d4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">以上是一些简单的<code class="fe mn mo mp mq b">lambda.</code>例子，希望你觉得有用。如果你有什么有趣的应用，不要犹豫，与我分享。</p></div></div>    
</body>
</html>