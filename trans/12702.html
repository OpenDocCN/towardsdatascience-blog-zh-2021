<html>
<head>
<title>Reshaping a DataFrame using Pandas melt()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Pandas melt()重塑数据帧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/reshaping-a-dataframe-using-pandas-melt-83a151ce1907?source=collection_archive---------6-----------------------#2021-12-31">https://towardsdatascience.com/reshaping-a-dataframe-using-pandas-melt-83a151ce1907?source=collection_archive---------6-----------------------#2021-12-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="725d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用 Pandas melt()将数据帧从宽格式更改为长格式的实践教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/48170c5c45f76f9e8c0a72deb4d05d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VtntXiJ9pBlG4_lfjEEyWw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Jonny Caspari 在<a class="ae ky" href="https://unsplash.com/s/photos/frame?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><blockquote class="kz la lb"><p id="8179" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">当您处理包含具有某种序列的变量的数据集(例如，时序数据)时，通常需要进行整形。</p><p id="ca9a" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">来源于弗吉尼亚大学研究数据服务部[1]</p></blockquote><p id="13ab" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">我不久前发表了一篇文章，展示了处理新冠肺炎时间序列数据的一步一步的教程。在本教程中，主要任务之一是将数据从宽格式转换为长格式，以便于进一步的数据分析。Pandas <code class="fe mc md me mf b">melt()</code>方法节省了我很多时间，而且只需要几行代码就可以完成任务。</p><p id="f065" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">重塑数据帧是数据科学中一项重要的基本技能。在本文中，我们将探索 Pandas <code class="fe mc md me mf b">melt()</code>以及如何使用它进行数据处理。这篇文章的结构如下:</p><ol class=""><li id="9ef8" class="mg mh it lf b lg lh lj lk lz mi ma mj mb mk ly ml mm mn mo bi translated">最简单的熔化</li><li id="896c" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">显示自定义名称</li><li id="7129" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">显示多个 id</li><li id="401e" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">指定要熔化的列</li><li id="03c3" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">熊猫融化了</li><li id="bb1f" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">额外收获:重塑新冠肺炎时间序列数据</li></ol><blockquote class="mu"><p id="0fb5" class="mv mw it bd mx my mz na nb nc nd ly dk translated">请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/048-pandas-melt/pandas-melt.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码。更多教程可从<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>获得。</p></blockquote></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="5579" class="nl nm it bd nn no np nq nr ns nt nu nv jz nw ka nx kc ny kd nz kf oa kg ob oc bi translated">1.最简单的熔化</h1><p id="45ce" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">最简单的<code class="fe mc md me mf b">melt()</code>不需要任何参数，它会将所有列转换为行(显示为列<strong class="lf iu">变量</strong>，并在新列<strong class="lf iu">值</strong>中列出所有相关值。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="3df6" class="om nm it mf b gy on oo l op oq"># without any argument<br/>df_wide<strong class="mf iu">.melt()</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/e33be34ee7e943bc744ae34eebc48691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8WFMVqGvU_31qtaSOuWp5A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最简单的熊猫融化(图片由作者提供)</p></figure><p id="df3f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">但是，这个输出往往没有太大意义，所以一般用例至少指定了<code class="fe mc md me mf b">id_vars</code>参数。例如，<code class="fe mc md me mf b">id_vars='Country'</code>会告诉熊猫保持<strong class="lf iu">国家</strong>为一列，其他所有列都变成行。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="7421" class="om nm it mf b gy on oo l op oq">df_wide.melt(<br/>    <strong class="mf iu">id_vars='Country',</strong><br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/ddeb1f894d9650dfcc0a78c3b2211436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*82DV0exvs7GDhqEgYPVYgg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最简单的熊猫融化(图片由作者提供)</p></figure><p id="cac3" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">注意现在的行数是 15，因为<strong class="lf iu">国家</strong>列中的每个值有 5 个值(<code class="fe mc md me mf b">3 X 5 = 15</code>)。</p><h1 id="9cb4" class="nl nm it bd nn no ot nq nr ns ou nu nv jz ov ka nx kc ow kd nz kf ox kg ob oc bi translated">2.显示自定义名称</h1><p id="abba" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">默认情况下，<strong class="lf iu">【变量】</strong>和<strong class="lf iu">【值】</strong>为列名。我们可以通过<code class="fe mc md me mf b">var_name</code>和<code class="fe mc md me mf b">value_name</code>参数指定自定义名称:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="9515" class="om nm it mf b gy on oo l op oq">df_wide.melt(<br/>    id_vars='Country',<br/>    <strong class="mf iu">var_name='Date',</strong><br/>    <strong class="mf iu">value_name='Cases'</strong><br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/c1eaff759831be1cb312d003817d32c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sgweLEsE70qJj0uL4SaCTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫与自定义名称融为一体(作者图片)</p></figure><h1 id="e479" class="nl nm it bd nn no ot nq nr ns ou nu nv jz ov ka nx kc ow kd nz kf ox kg ob oc bi translated">3.指定多个 id</h1><p id="9aec" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated"><code class="fe mc md me mf b">melt()</code>最有用的特性之一是我们可以指定多个 id 来将它们保存为列。例如，如果我们希望将<strong class="lf iu">国家</strong>、<strong class="lf iu">纬度</strong>和<strong class="lf iu">经度</strong>保留为列，以便更好地参考:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="4046" class="om nm it mf b gy on oo l op oq">df_wide.melt(<br/>    <strong class="mf iu">id_vars=['Country', 'Lat', 'Long'],</strong><br/>    var_name='Date',<br/>    value_name='Cases'<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/76090b4ae2d3f27051fa8da7e4f70dec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1amMkhzZz06f_sLQuETjxQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫融化与 id_vars(图片由作者提供)</p></figure><h1 id="8971" class="nl nm it bd nn no ot nq nr ns ou nu nv jz ov ka nx kc ow kd nz kf ox kg ob oc bi translated">4.指定要熔化的列</h1><p id="6bc8" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">默认情况下，Pandas <code class="fe mc md me mf b">melt()</code>函数会将所有其他列(除了在<code class="fe mc md me mf b">id_vars</code>中指定的列)转换为行。在实际项目中，您可能只关心某些列，例如，如果我们只想看到<strong class="lf iu"> "24/01/2020" </strong>和<strong class="lf iu"> "25/01/2020": </strong>上的值</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="59c8" class="om nm it mf b gy on oo l op oq">df_wide.melt(<br/>    id_vars=['Country', 'Lat', 'Long'],<br/>    <strong class="mf iu">value_vars=["24/01//2020", "25/01//2020"],</strong><br/>    var_name='Date',<br/>    value_name='Cases'<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/e639bcb22ce163a02f3b1a87481863de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zq8Q21s7sdgSwttR4jymBA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫融化与价值 _ vars(图片由作者提供)</p></figure><h1 id="472b" class="nl nm it bd nn no ot nq nr ns ou nu nv jz ov ka nx kc ow kd nz kf ox kg ob oc bi translated">5.熊猫融化了</h1><p id="d4db" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">我们也可以直接从 Pandas 模块调用<code class="fe mc md me mf b">melt()</code>而不是 DataFrame。然而，这些是相同的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/5d275b957ac84b29c8ca3f3f6307a51c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ijHeRcvuoABrDHjKOIbp0g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从熊猫模块调用融化(图片由作者提供)</p></figure><h1 id="ddf5" class="nl nm it bd nn no ot nq nr ns ou nu nv jz ov ka nx kc ow kd nz kf ox kg ob oc bi translated">6.额外收获:重塑新冠肺炎时间序列数据</h1><p id="0360" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">利用我们目前所学的知识，让我们来看看一个现实世界的问题:可从约翰·霍普金斯大学<a class="ae ky" href="https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_time_series" rel="noopener ugc nofollow" target="_blank"> CSSE Github </a>获得的新冠肺炎时间序列数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/8cb192c0718d8835140e32915f8f125e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-6AY8BOua7D9pMTytJ0esw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="0de1" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">有两个问题:</p><ul class=""><li id="060f" class="mg mh it lf b lg lh lj lk lz mi ma mj mb mk ly pd mm mn mo bi translated"><strong class="lf iu"><em class="le"/></strong><strong class="lf iu"><em class="le"/></strong><strong class="lf iu"><em class="le"/></strong>被保存在不同的 CSV 文件中。将它们绘制在一张图中并不简单。</li><li id="ece0" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly pd mm mn mo bi translated"><strong class="lf iu">日期显示为列名</strong>，并且难以执行日间计算，例如，计算每日新增病例、新增死亡病例和新增康复病例。</li></ul><p id="5933" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">让我们重塑 3 个数据集，并将它们合并成一个数据帧。</p><h2 id="e7c6" class="om nm it bd nn pe pf dn nr pg ph dp nv lz pi pj nx ma pk pl nz mb pm pn ob po bi translated">6.1 加载数据集</h2><p id="e449" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">首先，让我们加载数据集:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="736d" class="om nm it mf b gy on oo l op oq">confirmed_df = pd<br/>    .read_csv('time_series_covid19_confirmed_global.csv')</span><span id="92a3" class="om nm it mf b gy pp oo l op oq">deaths_df = pd<br/>    .read_csv('time_series_covid19_deaths_global.csv')</span><span id="a87f" class="om nm it mf b gy pp oo l op oq">recovered_df = pd<br/>    .read_csv('time_series_covid19_recovered_global.csv')</span></pre><h2 id="90f7" class="om nm it bd nn pe pf dn nr pg ph dp nv lz pi pj nx ma pk pl nz mb pm pn ob po bi translated">6.2 将它们从宽格式重塑为长格式</h2><p id="f79d" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">通过运行<code class="fe mc md me mf b">confirmed_df.columns</code>、<code class="fe mc md me mf b">deaths_df.columns</code>和<code class="fe mc md me mf b">recovered_df.columns</code>，它们都应该输出如下相同的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/7f5e8d4167f2dd85fd7d52ce07c6eee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R3d-5vfpoCuLXSu6Dnc8Bw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="962c" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">请注意，从第 4 列开始，所有列都是日期，以获取日期列表<code class="fe mc md me mf b">confirmed_df.columns[4:]</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/5f1edad90a663f5792409c681f37b20a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*spmLSGjf7yfmzAIVLH6OBQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="88d0" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在合并之前，我们需要使用<code class="fe mc md me mf b">melt()</code>将数据帧从当前的宽格式转换为长格式。换句话说，我们把所有的日期列都转换成了值。以下是相关的主要设置:</p><ul class=""><li id="d7b6" class="mg mh it lf b lg lh lj lk lz mi ma mj mb mk ly pd mm mn mo bi translated">使用<code class="fe mc md me mf b">‘Province/State’</code>、<code class="fe mc md me mf b">‘Country/Region’</code>、<code class="fe mc md me mf b"> ‘Lat’</code>、<code class="fe mc md me mf b">‘Long’</code>作为标识符变量。我们稍后将使用它们进行合并。</li><li id="829d" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly pd mm mn mo bi translated">用变量列<code class="fe mc md me mf b">‘Date’</code>和值列<code class="fe mc md me mf b"> ‘Confirmed’</code>取消透视日期列(如我们之前看到的<code class="fe mc md me mf b">columns[4:]</code></li></ul><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="9c6f" class="om nm it mf b gy on oo l op oq">confirmed_df_long = confirmed_df.melt(<br/>    <strong class="mf iu">id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'],</strong> <br/>    <strong class="mf iu">value_vars=dates, </strong><br/>    <strong class="mf iu">var_name='Date', </strong><br/>    <strong class="mf iu">value_name='Confirmed'</strong><br/>)</span><span id="af78" class="om nm it mf b gy pp oo l op oq">deaths_df_long = deaths_df.melt(<br/>    <strong class="mf iu">id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'], </strong><br/>    <strong class="mf iu">value_vars=dates, <br/>    var_name='Date', <br/>    value_name='Deaths'</strong><br/>)</span><span id="ed98" class="om nm it mf b gy pp oo l op oq">recovered_df_long = recovered_df.melt(<br/>    <strong class="mf iu">id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'], <br/>    value_vars=dates, <br/>    var_name='Date', <br/>    value_name='Recovered'</strong><br/>)</span></pre><p id="f33d" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">所有结果都是新的长格式。它们都是按<strong class="lf iu"> <em class="le">日期</em> </strong>和<strong class="lf iu"> <em class="le">国家/地区</em> </strong>排序的，因为原始数据已经按<strong class="lf iu"> <em class="le">国家/地区</em> </strong>排序，日期列已经是 ASC 顺序。</p><p id="330d" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">下面是<code class="fe mc md me mf b">confirmed_df_long</code>的例子</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/5d6a61dcd4dabf414313b9105ededc33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B1itBQqz0XeA1x4RnN1W8w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">confirmed_df_long 示例(图片由作者提供)</p></figure><h2 id="9ba3" class="om nm it bd nn pe pf dn nr pg ph dp nv lz pi pj nx ma pk pl nz mb pm pn ob po bi translated">6.3 合并确认、死亡和恢复</h2><p id="3184" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">最后，我们使用<code class="fe mc md me mf b">merge()</code>一个接一个地合并 3 个数据帧:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="9ce1" class="om nm it mf b gy on oo l op oq"># Merging <strong class="mf iu">confirmed_df_long</strong> and <strong class="mf iu">deaths_df_long</strong><br/>full_table = <strong class="mf iu">confirmed_df_long</strong>.merge(<br/>  right=<strong class="mf iu">deaths_df_long</strong>, <br/>  how='left',<br/><strong class="mf iu">  on=['Province/State', 'Country/Region', 'Date', 'Lat', 'Long']<br/></strong>)</span><span id="ca24" class="om nm it mf b gy pp oo l op oq"># Merging <strong class="mf iu">full_table</strong> and <strong class="mf iu">recovered_df_long</strong><br/>full_table = <strong class="mf iu">full_table</strong>.merge(<br/>  right=<strong class="mf iu">recovered_df_long</strong>, <br/>  how='left',<br/><strong class="mf iu">  on=['Province/State', 'Country/Region', 'Date', 'Lat', 'Long']<br/></strong>)</span></pre><p id="22ba" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">现在，我们应该得到一个包含<code class="fe mc md me mf b">Confirmed</code>、<code class="fe mc md me mf b">Deaths</code>和<code class="fe mc md me mf b">Recovered</code>列的完整表格:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/9df7747a0880a5bb4e59b257362da1eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*epyJ3DGqAVVH_oxZeGo7ow.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">full _ 表格，包含已确认、死亡和已康复的患者(图片由作者提供)</p></figure><p id="b960" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果您想了解更多关于创建<strong class="lf iu">活动</strong>、<strong class="lf iu">新确认</strong>、<strong class="lf iu">新死亡</strong>和<strong class="lf iu">新恢复</strong>的信息，请查看这篇文章:</p><div class="pu pv gp gr pw px"><a rel="noopener follow" target="_blank" href="/covid-19-data-processing-58aaa3663f6"><div class="py ab fo"><div class="pz ab qa cl cj qb"><h2 class="bd iu gy z fp qc fr fs qd fu fw is bi translated">新冠肺炎数据处理</h2><div class="qe l"><h3 class="bd b gy z fp qc fr fs qd fu fw dk translated">下载、加载、合并、清理和聚合新冠肺炎时间序列数据的分步指南</h3></div><div class="qf l"><p class="bd b dl z fp qc fr fs qd fu fw dk translated">towardsdatascience.com</p></div></div><div class="qg l"><div class="qh l qi qj qk qg ql ks px"/></div></div></a></div><h1 id="154a" class="nl nm it bd nn no ot nq nr ns ou nu nv jz ov ka nx kc ow kd nz kf ox kg ob oc bi translated">结论</h1><p id="53bb" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">在本文中，我们讨论了 5 个用例以及 1 个真实的例子，它们都是关于使用 Pandas <code class="fe mc md me mf b">melt()</code>方法将数据帧从宽格式重塑为长格式的。它非常方便，是数据预处理和探索性数据分析中最受欢迎的方法之一。</p><p id="d507" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">重塑数据是数据科学中一项重要的基本技能。我希望你喜欢这篇文章，并学到一些新的有用的东西。</p><p id="4a9a" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">感谢阅读。请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/048-pandas-melt/pandas-melt.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码，如果您对机器学习的实用方面感兴趣，请继续关注。更多教程可从<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>获得。</p><h2 id="f69c" class="om nm it bd nn pe pf dn nr pg ph dp nv lz pi pj nx ma pk pl nz mb pm pn ob po bi translated">参考</h2><ul class=""><li id="4e43" class="mg mh it lf b lg od lj oe lz qm ma qn mb qo ly pd mm mn mo bi translated">[1]弗吉尼亚大学:<a class="ae ky" href="https://data.library.virginia.edu/stata-basics-reshape-data/" rel="noopener ugc nofollow" target="_blank">研究数据服务+科学</a></li></ul></div></div>    
</body>
</html>