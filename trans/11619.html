<html>
<head>
<title>How to Export and Load Anaconda Environments for Data Science Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何为数据科学项目导出和加载Anaconda环境</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-export-and-load-anaconda-environments-for-data-science-projects-77dc3b781369?source=collection_archive---------4-----------------------#2021-11-17">https://towardsdatascience.com/how-to-export-and-load-anaconda-environments-for-data-science-projects-77dc3b781369?source=collection_archive---------4-----------------------#2021-11-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3eb5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">用单一终端命令共享Python虚拟环境</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/395d160bd8da276904cc39f6daf9754c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iYEAD7z7y4OzE63VaWg-pA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@chrisyangchrisfilm?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克里斯杨</a>在<a class="ae ky" href="https://unsplash.com/s/photos/monitors?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="25a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每次从头开始设置虚拟环境都是一个繁琐而耗时的过程。有一种方法可以绕过它。您可以使用Anaconda将Python虚拟环境导出为YAML文件，然后在不同的项目中重用。您还可以与您的团队共享YAML文件，这样每个人都在同一轨道上。</p><p id="d319" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天你将学会如何做。这比你想象的要简单，所以让我们开门见山吧。</p><p id="8901" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不想看书？请观看我的视频:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="d167" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">创建和设置Anaconda环境</h1><p id="9b37" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">Anaconda使数据科学家建立虚拟环境变得非常容易。我使用的是名为<em class="nb"> Miniforge </em>的缩小版，它没有预装大量的库。你用哪种口味并不重要。</p><p id="cf0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将基于最新版本的Python 3.9创建一个名为<code class="fe nc nd ne nf b">test_env</code>的新环境。打开终端窗口，键入以下内容:</p><pre class="kj kk kl km gt ng nf nh ni aw nj bi"><span id="2170" class="nk mf it nf b gy nl nm l nn no">conda create --name test_env python=3.9 -y</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/7d1950eb82697c0d387bc8a060d4db82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QSWco3Y67onSH9fcRWc4ng.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1 —创建一个Anaconda环境(图片由作者提供)</p></figure><p id="a1a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">初始设置不会花很长时间。几秒钟后，您会看到以下消息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/c0a0eef977d3f9dc79b43ca2871b2d1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rAE1UJIfFyQYUBTrnzjQgw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2 —创建Anaconda环境(2)(图片由作者提供)</p></figure><p id="83ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着环境安装成功。您可以使用以下命令激活它:</p><pre class="kj kk kl km gt ng nf nh ni aw nj bi"><span id="a122" class="nk mf it nf b gy nl nm l nn no">conda activate test_env</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/c0e1c394b6142483851963ab43d15602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*08g_xiHjLG02S8ugEUbTMA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3 —激活Anaconda环境(图片由作者提供)</p></figure><p id="f1ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在您已经拥有了安装两个库所需的一切。让我们坚持使用基本的——Numpy、Pandas、Matplotlib、Scipy、Scikit-Learn和Jupyter:</p><pre class="kj kk kl km gt ng nf nh ni aw nj bi"><span id="1450" class="nk mf it nf b gy nl nm l nn no">conda install -c conda-forge -y numpy pandas matplotlib scipy scikit-learn jupyter jupyterlab</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/8ea70ad6a3244641d6c3f4a82c88904a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*03cDiEn9DhLqo4VTcGZPRQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4-安装Python库(图片由作者提供)</p></figure><p id="1f5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可能需要一段时间，取决于你的网速。Anaconda必须下载所有列出的库及其依赖项，所以让它去做吧。完成后，您应该会看到类似的显示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/a07a1b203a31ce0768c96f933df4a1ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nqHY8FoltbvMdqFCNDejmQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5 —安装Python库(2)(图片由作者提供)</p></figure><p id="6cb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是您通常从头开始设置虚拟环境的方式。让我们看看接下来如何导出它。</p><h1 id="c6d0" class="me mf it bd mg mh nq mj mk ml nr mn mo jz ns ka mq kc nt kd ms kf nu kg mu mv bi translated">如何导出和加载Anaconda虚拟环境</h1><p id="dcbd" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">Anaconda允许您将虚拟环境导出到YAML文件中。理解经常用于创建配置文件的数据序列化语言很简单。YAML类似于JSON，但是没有括号。</p><p id="1fb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用以下命令导出环境，只需记住修改导出路径:</p><pre class="kj kk kl km gt ng nf nh ni aw nj bi"><span id="534b" class="nk mf it nf b gy nl nm l nn no">conda env export &gt; \Users\Dario\Desktop\test_env.yaml</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/94e72dca053dcb8c818d17a01150fd29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6iccMI1ioW0W5uJGsRLH8A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6 —导出Anaconda环境(图片由作者提供)</p></figure><p id="cf94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以用任何文本编辑器打开YAML文件，例如Visual Studio代码。以下是它包含的内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/a9ad89e390e49baecb9a5063995ff991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*GmCM_oDgbHK588Y2__oNpg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图7—YAML环境文件(图片由作者提供)</p></figure><p id="1004" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该文件包含关于如何用Anaconda建立一个相同环境的完整说明。唯一的问题是第一行显示的环境名。您必须改变它，因为您已经有了一个名为<code class="fe nc nd ne nf b">test_env</code>的环境。让我们保持简单，将其重命名为<code class="fe nc nd ne nf b">test_env_2</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/84a37c06f334f69e9fceb72d913cefb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hFHM1VGR1CgmdOeeCjW_Wg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图8 —更改环境名称(作者图片)</p></figure><p id="f9c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您可以使用以下命令从YAML文件创建虚拟环境:</p><pre class="kj kk kl km gt ng nf nh ni aw nj bi"><span id="e390" class="nk mf it nf b gy nl nm l nn no">conda env create -f \Users\Dario\Desktop\test_env.yaml</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/79f6fa749edf2e28400230e0ccd0b8e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dzy5DIysWOuxxSCNuvwIsA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图9 —从YAML文件创建环境(图片由作者提供)</p></figure><p id="c0c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行这个命令应该不会花很长时间，因为您已经下载了所有的库。完成后，您将看到一条类似的消息，告诉您如何激活环境:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/66590782d78fea623c66a6e2b64f11ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1p6ezVR5g0gEjcKANxt9Vg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图10 —从YAML文件创建环境(2)(图片由作者提供)</p></figure><p id="5b45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用显示的命令激活环境:</p><pre class="kj kk kl km gt ng nf nh ni aw nj bi"><span id="e8f5" class="nk mf it nf b gy nl nm l nn no">conda activate test_env_2</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/f6080aea0237d984f46aa3c36d485848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R2SNOM3gh2eQJDd2N4gcjA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图11 —激活新的Anaconda环境(图片由作者提供)</p></figure><p id="fd46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，让我们验证一下我们已经安装了Python库。启动一个Python shell并导入之前安装的所有内容——Numpy、Pandas、Scipy、Matplotlib和Scikit——了解:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/a29a637ce25258ecb9fc91bebc0103a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tNILYj3HlUdMNnBblS2Ciw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图12 —验证库安装(图片由作者提供)</p></figure><p id="772a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来一切都像预期的那样工作，您有了一个新的环境，其中包含了来自YAML文件的依赖项。很简单，对吧？</p><h1 id="a9d8" class="me mf it bd mg mh nq mj mk ml nr mn mo jz ns ka mq kc nt kd ms kf nu kg mu mv bi translated">结论</h1><p id="0bc2" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">这就是你想要的——不费吹灰之力就能再现Anaconda环境。您可以使用它们来设置基础环境，然后根据项目需要进行调整。例如，几乎每个数据科学项目都需要我们今天安装的库，所以为什么不为自己节省几分钟呢。</p><p id="ad32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个用例是与您的团队共享YAML文件的能力，这样每个人都在同一轨道上。</p><p id="219f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不管怎样，这是Anaconda的一个众所周知的特性。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="8c7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nb">喜欢这篇文章吗？成为</em> <a class="ae ky" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="nb">中等会员</em> </a> <em class="nb">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="nx ny gp gr nz oa"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">通过我的推荐链接加入Medium-Dario rade ci</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">medium.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo ks oa"/></div></div></a></div></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="2ae1" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">保持联系</h1><ul class=""><li id="27e5" class="op oq it lb b lc mw lf mx li or lm os lq ot lu ou ov ow ox bi translated">注册我的<a class="ae ky" href="https://mailchi.mp/46a3d2989d9b/bdssubscribe" rel="noopener ugc nofollow" target="_blank">简讯</a></li><li id="87e4" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">订阅<a class="ae ky" href="https://www.youtube.com/c/BetterDataScience" rel="noopener ugc nofollow" target="_blank"> YouTube </a></li><li id="8286" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">在<a class="ae ky" href="https://www.linkedin.com/in/darioradecic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上连接</li></ul></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="0d4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nb">原载于2021年11月17日</em><a class="ae ky" href="https://betterdatascience.com/export-and-load-anaconda-environments/" rel="noopener ugc nofollow" target="_blank"><em class="nb">【https://betterdatascience.com】</em></a><em class="nb">。</em></p></div></div>    
</body>
</html>