<html>
<head>
<title>Getting the Index of Rows With Certain Column Value in Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">获取Pandas中具有特定列值的行的索引</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/rows-index-with-certain-column-value-pandas-1b25d382f0cb?source=collection_archive---------12-----------------------#2021-10-26">https://towardsdatascience.com/rows-index-with-certain-column-value-pandas-1b25d382f0cb?source=collection_archive---------12-----------------------#2021-10-26</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="1948" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">了解如何在pandas数据帧中检索其列与特定值匹配的行的索引</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/d0a105e4a37f90187dedeb70fd060578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O4h5luNQWQb5nDlPPOb9eQ.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@davisuko?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> davisuko </a>在<a class="ae kz" href="https://unsplash.com/s/photos/index?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="dad3" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h2><p id="ca76" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">有时，我们可能需要检索其列匹配特定值的数据帧行的索引。在今天的简短指南中，我们将探索如何在熊猫身上做到这一点。</p><p id="2a3e" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">具体来说，我们将展示如何使用</p><ul class=""><li id="a29c" class="mu mv iu ly b lz mp mc mq lj mw ln mx lr my mo mz na nb nc bi translated">熊猫数据框的<code class="fe nd ne nf ng b">index</code>属性</li><li id="7569" class="mu mv iu ly b lz nh mc ni lj nj ln nk lr nl mo mz na nb nc bi translated">和NumPy的<code class="fe nd ne nf ng b">where()</code>方法</li></ul><p id="e8b9" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">此外，我们还将讨论如何使用检索到的索引来执行常见任务。</p></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><p id="68be" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">首先，让我们创建一个示例数据框架，我们将在本文中引用它，以便围绕感兴趣的主题演示一些概念。</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="4756" class="la lb iu ng b gz nx ny l nz oa">import pandas as pd</span><span id="7979" class="la lb iu ng b gz ob ny l nz oa"><br/>df = pd.DataFrame(<br/>    [<br/>        (1, 100, 10.5, True),<br/>        (2, 500, 25.6, False), <br/>        (3, 150, 12.3, False),<br/>        (4, 100, 76.1, True),<br/>        (5, 220, 32.1, True),<br/>        (6, 100, 10.0, True),<br/>    ],<br/>    columns=['colA', 'colB', 'colC', 'colD']<br/>)</span><span id="2dc3" class="la lb iu ng b gz ob ny l nz oa">print(df)<br/><em class="oc">   colA  colB  colC   colD<br/>0     1   100  10.5   True<br/>1     2   500  25.6  False<br/>2     3   150  12.3  False<br/>3     4   100  76.1   True<br/>4     5   220  32.1   True<br/>5     6   100  10.0   True</em></span></pre></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="318f" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用索引属性</h2><p id="8cf2" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">访问索引的第一个选项是<code class="fe nd ne nf ng b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.index.html" rel="noopener ugc nofollow" target="_blank">pandas.DataFrame.index</a></code>属性返回熊猫数据帧的索引(即行标签)。</p><p id="a156" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">例如，假设我们想要检索所有行的索引，这些行在<code class="fe nd ne nf ng b">colD</code>中的列值是<code class="fe nd ne nf ng b">True</code>。下面的方法可以解决这个问题:</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="9708" class="la lb iu ng b gz nx ny l nz oa"><strong class="ng iv">idx = df.index[df['colD']]</strong></span><span id="a432" class="la lb iu ng b gz ob ny l nz oa">print(idx)<br/><em class="oc">Int64Index([0, 3, 4, 5], dtype='int64')</em></span></pre><p id="9b4b" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">现在，如果你想将索引存储到一个列表中，你可以简单地使用<code class="fe nd ne nf ng b">tolist()</code>方法:</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="d750" class="la lb iu ng b gz nx ny l nz oa"><strong class="ng iv">indices = df.index[df['colD']].tolist()</strong></span><span id="d33f" class="la lb iu ng b gz ob ny l nz oa">print(indices)<br/><em class="oc">[0, 3, 4, 5]</em></span></pre></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="ecfd" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用NumPy的where()方法</h2><p id="9295" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">或者，您可以使用NumPy的<code class="fe nd ne nf ng b"><a class="ae kz" href="https://numpy.org/doc/stable/reference/generated/numpy.where.html" rel="noopener ugc nofollow" target="_blank">where()</a></code>方法，该方法返回一个包含基于指定条件选择的元素的<code class="fe nd ne nf ng b">ndarray</code>。</p><p id="db66" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">例如，为了获得列值在<code class="fe nd ne nf ng b">colB</code>中等于<code class="fe nd ne nf ng b">100</code>的所有行的索引，下面的表达式将完成这个任务:</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="5cd3" class="la lb iu ng b gz nx ny l nz oa">import numpy as np</span><span id="bb15" class="la lb iu ng b gz ob ny l nz oa"><strong class="ng iv">indices = np.where(df['colB'] == 100)</strong></span><span id="70d4" class="la lb iu ng b gz ob ny l nz oa">print(indices)<br/><em class="oc">(array([0, 3, 5]),)</em></span></pre></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="0eed" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">利用检索到的索引</h2><p id="ed4f" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">现在我们知道了如何获取特定行的索引，这些行的列匹配特定的值，您可能希望以某种方式利用这些索引。</p><p id="0066" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">例如，为了使用检索到的索引从pandas DataFrame中选择行，您可以使用<code class="fe nd ne nf ng b">loc</code>属性和<code class="fe nd ne nf ng b">Index</code>:</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="970e" class="la lb iu ng b gz nx ny l nz oa"><strong class="ng iv">idx = df.index[df['colD']]<br/></strong><strong class="ng iv">df_colD_is_true = df.loc[idx]</strong></span><span id="c0e8" class="la lb iu ng b gz ob ny l nz oa"><br/>print(df_colD_is_true)<br/><em class="oc">   colA  colB  colC  colD<br/>0     1   100  10.5  True<br/>3     4   100  76.1  True<br/>4     5   220  32.1  True<br/>5     6   100  10.0  True</em></span></pre><p id="d040" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">或者，如果您有一些存储在列表中的索引，并且您想要直接使用它们来获取相应的行，您可以使用<code class="fe nd ne nf ng b">iloc</code>属性:</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="c2a3" class="la lb iu ng b gz nx ny l nz oa"><strong class="ng iv">indices = df.index[df['colD']].tolist()<br/></strong><strong class="ng iv">df_colD_is_true = </strong><strong class="ng iv">df.iloc[indices]</strong></span><span id="8f44" class="la lb iu ng b gz ob ny l nz oa">print(df_colD_is_true)<br/><em class="oc">   colA  colB  colC  colD<br/>0     1   100  10.5  True<br/>3     4   100  76.1  True<br/>4     5   220  32.1  True<br/>5     6   100  10.0  True</em></span></pre></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="8093" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h2><p id="3ed9" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的简短指南中，我们讨论了如何检索其列与指定值匹配的行的索引。具体来说，我们展示了如何使用pandas DataFrames的<code class="fe nd ne nf ng b">index</code>属性以及NumPy库的<code class="fe nd ne nf ng b">where()</code>方法来获取索引。</p><p id="a299" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">此外，我们还探索了如何使用检索到的索引从pandas数据帧中获取实际的行。</p></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="ly iv">成为会员</strong> </a> <strong class="ly iv">阅读媒体上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="od oe gq gs of og"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated"><strong class="ly iv">你可能也会喜欢</strong></p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/whats-the-difference-between-static-and-class-methods-in-python-1ef581de4351"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">Python中静态方法和类方法有什么区别？</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">关于classmethod和staticmethod，您只需要知道</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ov l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/automating-python-workflows-with-pre-commit-hooks-e5ef8e8d50bb"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">使用预提交挂钩自动化Python工作流</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">什么是预提交钩子，它们如何给你的Python项目带来好处</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/mastering-indexing-and-slicing-in-python-443e23457125"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">掌握Python中的索引和切片</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">深入研究有序集合的索引和切片</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ox l or os ot op ou kt og"/></div></div></a></div></div></div>    
</body>
</html>