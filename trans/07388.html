<html>
<head>
<title>Parsing QIF Files to Retrieve Financial Data with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python解析QIF文件以检索金融数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/parsing-qif-files-to-retrieve-financial-data-with-python-f599cc0d8c03?source=collection_archive---------24-----------------------#2021-07-05">https://towardsdatascience.com/parsing-qif-files-to-retrieve-financial-data-with-python-f599cc0d8c03?source=collection_archive---------24-----------------------#2021-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="eb24" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Quiffen包的基本概述以及它如此有用的原因</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8c6be1f0f1eb1615c7f34d2f398e53d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-nzXSbGs2opAG94G"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@olloweb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">通讯社跟随</a>于<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="46e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你曾经试图完成一个围绕个人财务的数据科学项目，你可能熟悉银行导出的交易数据CSV文件的乐趣。</p><p id="c22e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简而言之，它们非常糟糕。大多数银行会允许你将银行对账单导出为CSV格式，但很多银行不会告诉你这些CSV文件的结构有多糟糕。不同的银行对金额、参考等使用不同的标题名称，对每个银行进行硬编码几乎是不可能的。</p><p id="d8dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是QIF档案的用处。QIF(Quicken Interchange Format)是由Intuit开发的一种文件格式，最初用于QuickBooks产品。然而，这种格式现在已经很老了(甚至比OFX还老)。</p><p id="3475" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管如此，大多数银行和其他金融机构(股票经纪人等。)将在导出数据时提供QIF作为选项。尽管年代久远，QIF文件格式仍然有用，因为:</p><ul class=""><li id="ccba" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">它是标准化的—不再需要为不同的银行硬编码不同的CSV模式</li><li id="1c0d" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">它被广泛使用</li><li id="769a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">它是用纯文本编写的，所以很容易解析</li></ul><p id="245b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Quiffen 是一个Python包，用于解析QIF文件，并以更有用的格式导出数据，如字典或熊猫数据帧。Quiffen可以通过运行以下命令从命令行安装:</p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="2214" class="ml mm iq mh b gy mn mo l mp mq">pip install quiffen</span></pre><p id="a0a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从那里，您就可以开始分析您的数据了！</p><h2 id="5e93" class="ml mm iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated">解析QIF文件</h2><p id="7313" class="pw-post-body-paragraph kw kx iq ky b kz ni jr lb lc nj ju le lf nk lh li lj nl ll lm ln nm lp lq lr ij bi translated">以下是如何解析QIF文件并将其中的事务导出到数据帧的代码示例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="3616" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以选择不同的数据来导出，例如类别(由树表示)或存储在<code class="fe np nq nr mh b">Qif</code>对象中的帐户。您还可以将数据从导出到带有标题的CSV文件中，每次都与<code class="fe np nq nr mh b">to_csv()</code>方法保持一致。</p><h2 id="ed87" class="ml mm iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated">创建您自己的QIF文件</h2><p id="90d7" class="pw-post-body-paragraph kw kx iq ky b kz ni jr lb lc nj ju le lf nk lh li lj nl ll lm ln nm lp lq lr ij bi translated">Quiffen还支持QIF结构的创建和导出！你可以创建自己的<code class="fe np nq nr mh b">Qif</code>对象，添加账户、交易、类别、类等等。下面显示了一个例子，但是完整的API参考可以在Quiffen文档中找到:</p><div class="ns nt gp gr nu nv"><a href="https://quiffen.readthedocs.io/en/latest/" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">Quiffen -一个读/写Quicken交换格式文件的Python库</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">编辑描述</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">quiffen.readthedocs.io</p></div></div></div></a></div><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="46e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以在GitHub上查看Quiffen包的完整源代码。任何反馈或(建设性的！)批评不胜感激！</p><div class="ns nt gp gr nu nv"><a href="https://github.com/isaacharrisholt/quiffen" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">isaacharrisholt/quiffen</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">Quiffen是一个用于解析QIF (Quicken Interchange Format)文件的Python包。该软件包允许用户阅读…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">github.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj kp nv"/></div></div></a></div></div><div class="ab cl ok ol hu om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="ij ik il im in"><p id="4722" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我强烈建议用你自己的交易数据来试试Quiffen，如果你也想看看这个让我的金融屁股进入状态的程序，请也这样做！</p><p id="9bdf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，如果您有任何问题，请随时在<a class="ae kv" href="https://github.com/isaacharrisholt/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> GitHub </strong> </a>上发送给我，或在<a class="ae kv" href="https://www.linkedin.com/in/isaac-harris-holt/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> LinkedIn </strong> </a>上与我联系！我喜欢写我的项目，所以你可能也想在<a class="ae kv" href="https://isaacharrisholt.medium.com/" rel="noopener"> <strong class="ky ir"> Medium </strong> </a>上关注我。</p><div class="ns nt gp gr nu nv"><a rel="noopener follow" target="_blank" href="/beating-monzo-plus-with-python-and-pandas-83cb066c1b95"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">用蟒蛇和熊猫打败Monzo Plus</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">我如何用编程超越英国银行的新星</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">towardsdatascience.com</p></div></div><div class="oe l"><div class="or l og oh oi oe oj kp nv"/></div></div></a></div><p id="e82c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="os">这一条就这么多了！我希望你喜欢它，任何反馈都非常感谢！</em>T15】</strong></p></div></div>    
</body>
</html>