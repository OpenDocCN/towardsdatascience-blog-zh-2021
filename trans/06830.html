<html>
<head>
<title>ğŸ”¥Wildfire Modeling in Yosemite National Park</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ğŸ”¥çº¦å¡ç±³è’‚å›½å®¶å…¬å›­çš„é‡ç«å»ºæ¨¡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/wildfire-modeling-in-yosemite-national-park-666f45c9a0a0?source=collection_archive---------21-----------------------#2021-06-20">https://towardsdatascience.com/wildfire-modeling-in-yosemite-national-park-666f45c9a0a0?source=collection_archive---------21-----------------------#2021-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f430904f0215a7691d70a173c94a9258.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8HqxJEtv31Q8ytUR"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@parachutel_?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ææ™Ÿ</a>åœ¨<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹ç…§</p></figure><p id="da1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿™ç¯‡æ–‡ç« å°†é‡ç‚¹ä»‹ç»æˆ‘ä»¬åœ¨<a class="ae kc" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyterç¬”è®°æœ¬</a>ä¸­ä½¿ç”¨<a class="ae kc" href="https://earthengine.google.com/" rel="noopener ugc nofollow" target="_blank">è°·æ­Œåœ°çƒå¼•æ“</a> (GEE)ã€<a class="ae kc" href="https://geemap.org/" rel="noopener ugc nofollow" target="_blank"> geemapã€</a> <a class="ae kc" href="https://geopandas.org/" rel="noopener ugc nofollow" target="_blank"> GeoPandas </a>å’Œ<a class="ae kc" href="https://grass.osgeo.org/" rel="noopener ugc nofollow" target="_blank"> GRASS GIS </a>å¯¹é‡ç«äº‹ä»¶å»ºæ¨¡çš„æ•™ç¨‹ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ã€‚é€šè¿‡æˆ‘ä»¬çš„æ•™ç¨‹ï¼Œä½ å¯ä»¥åœ¨2020å¹´å¤å­£åœ¨ç¾å›½åŠ å·çº¦å¡ç±³è’‚å›½å®¶å…¬å›­çš„ä¸‰ä¸ªåŒºåŸŸè¿›è¡Œç«ç¾æ¨¡æ‹Ÿ(<code class="fe lb lc ld le b">from 2020-06-20 through 2020-09-22</code>)ã€‚å®ƒæœ‰ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†:<strong class="kf ir">è·å–æ•°æ®ã€å¯¼å…¥æ•°æ®å’ŒWildfireæ¨¡æ‹Ÿã€‚</strong></p><p id="7795" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ¬æ•™ç¨‹æºäº<em class="lf"> </em> <a class="ae kc" href="https://ig.conae.unc.edu.ar/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> Mario Guliché«˜çº§ç©ºé—´ç ”ç©¶æ‰€</strong> </a>ç»„ç»‡çš„<em class="lf"> </em>ä½¿ç”¨GRASS GISè½¯ä»¶è¿›è¡Œåœ°ç†ç©ºé—´æ•°æ®å¤„ç†å’Œåˆ†æç ”è®¨ä¼šçš„æœ€ç»ˆå·¥ä½œï¼Œç”±<a class="ae kc" href="https://veroandreo.gitlab.io/" rel="noopener ugc nofollow" target="_blank"> Veronica Andreoåšå£«æˆè¯¾ã€‚</a></p><blockquote class="lg lh li"><p id="5906" class="kd ke lf kf b kg kh ki kj kk kl km kn lj kp kq kr lk kt ku kv ll kx ky kz la ij bi translated">æˆ‘ä»¬æ•™ç¨‹çš„å®Œæ•´ä»£ç å¯ä»¥åœ¨:<a class="ae kc" href="https://github.com/acoiman/wildfire_modeling" rel="noopener ugc nofollow" target="_blank">https://github.com/acoiman/wildfire_modeling</a>æ‰¾åˆ°</p></blockquote></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="3585" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">1.è·å–æ•°æ®</h1><p id="e6e6" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">è·å–æ¨¡å‹æ‰€éœ€çš„æ•°æ®å¯èƒ½æ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ã€‚æœ‰æ—¶ï¼Œæ•°æ®ä¸å®¹æ˜“è·å¾—ï¼Œå› ä¸ºå®ƒä»¬å¾ˆå°‘æˆ–åˆ†æ•£åœ¨å¹¿æ³›çš„æ¥æºä¸­ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºä¸€ç§ä¸ºwildfireå»ºæ¨¡ç›®çš„è½»æ¾æ”¶é›†æ•°æ®çš„æ–¹æ³•ã€‚ä¸‹è¡¨æ˜¾ç¤ºäº†æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨çš„æ•°æ®ã€‚</p><figure class="mw mx my mz gt jr"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="6003" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ¬æ•™ç¨‹å‡è®¾æ‚¨æ­£åœ¨ä¸€ä¸ªJupyterç¬”è®°æœ¬å’Œä¸€ä¸ªPythonç¯å¢ƒä¸­å·¥ä½œï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰å¿…éœ€çš„åŒ…ã€‚æ‚¨è¿˜éœ€è¦å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„GRASS GISå¹¶æ‹¥æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„GEEå¸æˆ·ã€‚æˆ‘ä»¬çš„Pythonç¯å¢ƒåŸºäºUbuntu 20.04ä¸Šçš„Anacondaå®‰è£…ã€‚æ‚¨éœ€è¦å®‰è£…ä»¥ä¸‹ä¸åŒ…å«åœ¨Anacondaä¸­çš„åŒ…:Geopandasã€GEE Python APIã€eeconvertã€geemapã€‚</p><h1 id="2863" class="lt lu iq bd lv lw nc ly lz ma nd mc md me ne mg mh mi nf mk ml mm ng mo mp mq bi translated">1.2ä»GEEä¸‹è½½æ•°æ®</h1><p id="4a5f" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">æˆ‘ä»¬å°†è°ƒç”¨WDPAè¦ç´ é›†åˆ(FC)å¹¶æå–çº¦å¡ç±³è’‚å›½å®¶å…¬å›­å¤šè¾¹å½¢ã€‚æˆ‘ä»¬å°†æŠŠæå–çš„FCè½¬æ¢ä¸ºåœ°ç†æ•°æ®æ¡†æ¶(GDF ),å¹¶å°†å…¶ä½œä¸ºshapefileä¿å­˜åˆ°æˆ‘ä»¬çš„å·¥ä½œç›®å½•ä¸­ã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="5165" class="nl lu iq le b gy nm nn l no np"># get World Data Protected Areas (WDPA) FeatureCollection<br/>pa = ee.FeatureCollection("WCMC/WDPA/current/polygons")</span><span id="f2db" class="nl lu iq le b gy nq nn l no np"># Yosemite National Park polygon<br/>filter = ee.Filter.inList('NAME', ['Yosemite National Park'])<br/>yosemite = pa.filter(filter)</span><span id="db23" class="nl lu iq le b gy nq nn l no np"># transform Yosemite fc into gdf<br/>yosGDF = eeconvert.fcToGdf(yosemite)</span><span id="df65" class="nl lu iq le b gy nq nn l no np"># convert gdf into shp<br/>yosGDF.to_file("gisdata/yosemite/shp/yosemite.shp")</span></pre><figure class="mw mx my mz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/f85813311096d88eb5faa12d75595468.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GiZca5nIT8FCY8t-PBOdAQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">ä½œè€…ç…§ç‰‡</p></figure><p id="ca6c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºäº†ä»GEEè·å¾—100å°æ—¶çš„ç‡ƒæ–™æ¹¿åº¦ã€é£å‘å’Œé£é€Ÿæ•°æ®ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦è°ƒç”¨GRIDMET ImageCollectionå¹¶æŒ‰æ—¥æœŸè¿‡æ»¤ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªçŸ©å½¢ï¼Œç”¨äºè£å‰ªæ•°æ®ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€‰æ‹©æ‰€éœ€çš„æ•°æ®å¹¶è®¡ç®—æ¨¡å¼ã€‚ç”Ÿæˆçš„å›¾åƒå°†è¢«è£å‰ªä¸ºä¹‹å‰åˆ›å»ºçš„å¤šè¾¹å½¢ã€‚ä¹‹åï¼Œæˆ‘ä»¬å°†åˆ›å»º2000ä¸ªéšæœºç‚¹ï¼Œç”¨äºä½¿ç”¨å¹³å‡å€¼å¯¹å›¾åƒè¿›è¡Œé‡‡æ ·ã€‚æœ€åï¼Œç”Ÿæˆçš„FCå°†è¢«è½¬æ¢ä¸ºåœ°ç†æ•°æ®æ¡†æ¶ï¼Œå¹¶ä½œä¸ºshapefileä¿å­˜åˆ°æˆ‘ä»¬çš„å·¥ä½œç›®å½•ä¸­ã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="aae3" class="nl lu iq le b gy nm nn l no np"># load GRIDMET ImageCollection<br/>gridmet = ee.ImageCollection('IDAHO_EPSCOR/GRIDMET').filter(ee.Filter.date('2020-06-20', '2020-09-22'));</span><span id="f314" class="nl lu iq le b gy nq nn l no np"># create a rectangle<br/>coords = [-120.10157709250639,37.36645735913506,-118.99122199244081,38.31280791348237]<br/>bbox = ee.Geometry.Rectangle(coords)</span><span id="bb48" class="nl lu iq le b gy nq nn l no np"># select 100-hour dead fuel moisture (fm100) and calculate the mode<br/>fm100 = gridmet.select('fm100').mode()<br/># clip data to rectangle<br/>fm100_clip =fm100.clip(bbox)</span><span id="edba" class="nl lu iq le b gy nq nn l no np"># create 2000 random points<br/>fm100_points = ee.FeatureCollection.randomPoints(bbox, 2000);<br/># sample points using the mean<br/>samplefm100 = fm100_clip.reduceRegions(**{<br/>  'collection':fm100_points,<br/>  'reducer':ee.Reducer.mean(), <br/>  'scale': 4000, <br/>  });</span><span id="a6a3" class="nl lu iq le b gy nq nn l no np"># transform fc into gdf<br/>samplefm100GDF = eeconvert.fcToGdf(samplefm100)</span><span id="35e0" class="nl lu iq le b gy nq nn l no np"># convert gdf into shp<br/>samplefm100GDF.to_file("gisdata/yosemite/shp/samplefm100.shp")</span></pre><p id="9ace" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬å°†é€šè¿‡è°ƒç”¨Landsat 8 Collection 1 Tier 1 32å¤©EVIåˆæˆå›¾ä»GEEä¸‹è½½<a class="ae kc" href="https://en.wikipedia.org/wiki/Enhanced_vegetation_index#:~:text=The%20enhanced%20vegetation%20index%20(EVI,a%20reduction%20in%20atmosphere%20influences." rel="noopener ugc nofollow" target="_blank"> EVI </a>æ•°æ®ï¼Œä½¿ç”¨Yosemite FCæŒ‰æ—¥æœŸå’Œè¾¹ç•Œè¿‡æ»¤ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è®¡ç®—ä¸€ä¸ªå¹³å‡å›¾åƒï¼Œå¹¶ä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„å¤šè¾¹å½¢å¯¹å…¶è¿›è¡Œè£å‰ªã€‚æœ€åï¼Œå‰ªè¾‘åçš„å›¾åƒå°†è¢«å¯¼å‡ºåˆ°æˆ‘ä»¬çš„Google Driveå­˜å‚¨å™¨ä¸­ï¼Œç„¶åæˆ‘ä»¬å°†å®ƒä¸‹è½½åˆ°æˆ‘ä»¬çš„å·¥ä½œç›®å½•ä¸­ã€‚</p><p id="0a3d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºäº†è¿è¡Œæˆ‘ä»¬çš„ç«ç¾æ¨¡æ‹Ÿï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç”±ç¾å›½å†œä¸šéƒ¨æ—åŠ¡å±€å®šä¹‰çš„ç‡ƒæ–™æ¨¡å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨https://landfire.cr.usgs.gov/fbfm13.phpçš„<a class="ae kc" href="https://landfire.cr.usgs.gov/fbfm13.php" rel="noopener ugc nofollow" target="_blank">æä¾›çš„13 Anderson Fire Behaviorç‡ƒæ–™æ¨¡å‹ã€‚è¯¥æ¨¡å‹æœ‰13ç±»ç‡ƒæ–™ï¼Œå…¶è´Ÿè½½ã€åˆ†å¸ƒå’Œé¢—ç²’å¤§å°å„ä¸ç›¸åŒ(Petrasovaç­‰äººï¼Œ2018å¹´)ã€‚</a></p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="10d4" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">2.å¯¼å…¥æ•°æ®</h1><p id="a137" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†ç»§ç»­å¯¼å…¥ä»GEEå’Œå…¶ä»–æ¥æºä¸‹è½½çš„æ•°æ®ã€‚è¿™ä¸€éƒ¨åˆ†åŒ…æ‹¬è®¾ç½®æˆ‘ä»¬çš„GRASS GISç¯å¢ƒå’Œå¯¼å…¥æ•°æ®æœ¬èº«ã€‚</p><p id="e7ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å½“åœ¨Jupyterç¬”è®°æœ¬ä¸­è®¾ç½®GRASSæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨Pythonæ¥åˆå§‹åŒ–GRASS GISã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªGRASS GISè¿è¡Œæ—¶ç¯å¢ƒï¼Œæ–¹æ³•æ˜¯ä¼ é€’ä¸€ä¸ªå˜é‡GRASS GISâ€œæ‰€åœ¨â€çš„ç›®å½•ï¼Œå¹¶å°†å…¶ç»‘å®šåˆ°Pythonç›®å½•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯¼å…¥GRASS GISåŒ…ã€‚ä¹‹åï¼Œæˆ‘ä»¬è®¾ç½®é»˜è®¤å­—ä½“æ˜¾ç¤ºå’Œè¦†ç›–è¡Œä¸ºï¼Œä»¥é¿å…æ¯æ¬¡æ‰§è¡Œå‘½ä»¤æ—¶æ·»åŠ `â€” overwrite 'æ ‡å¿—ã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="46e3" class="nl lu iq le b gy nm nn l no np"># create GRASS GIS runtime environment<br/>gisbase = subprocess.check_output(["grass", "--config", "path"], text=True).strip() # directory where GRASS GIS lives<br/>os.environ['GISBASE'] = gisbase<br/>sys.path.append(os.path.join(gisbase, "etc", "python"))</span><span id="26c5" class="nl lu iq le b gy nq nn l no np"># import grass gis package<br/>import grass.script as gs<br/>import grass.script.setup as gsetup<br/>from grass.pygrass.modules import Module<br/>from grass import script<br/>from grass.pygrass.modules.shortcuts import raster as r, vector as v, general as g, display as d<br/>from grass.pygrass.modules import Module as run_command<br/>import grass.imaging as imaging</span><span id="7a06" class="nl lu iq le b gy nq nn l no np"># default font displays<br/>os.environ['GRASS_FONT'] = 'sans'</span><span id="2abb" class="nl lu iq le b gy nq nn l no np"># overwrite existing maps<br/>os.environ['GRASS_OVERWRITE'] = '1'<br/>gs.set_raise_on_error(True)<br/>gs.set_capture_stderr(True)</span></pre><p id="1d9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬ä¹‹å‰éœ€è¦ä½¿ç”¨GUIåœ¨GRASS GISä¸­åˆ›å»ºä¸€ä¸ªä½ç½®æ¥è¿è¡Œä»¥ä¸‹å•å…ƒã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸ºyosemite_3310_2çš„ä½ç½®å’Œä¸€ä¸ªåä¸ºwf_mod_2çš„åœ°å›¾é›†ã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="c8ee" class="nl lu iq le b gy nm nn l no np"># set GRASS GIS session data<br/>cfile = gsetup.init(gisbase, "grassdata", "yosemite_3310_2", "PERMANENT")</span><span id="5c4f" class="nl lu iq le b gy nq nn l no np"># create a new maset inside yosemite_3310_2 location<br/>g.mapset(flags='c', mapset='wf_mod_2', location='yosemite_3310_2')</span><span id="9f9c" class="nl lu iq le b gy nq nn l no np"># set GRASS GIS session data<br/>cfile = gsetup.init(gisbase, "grassdata", "yosemite_3310_2", "wf_mod_2");</span></pre><h1 id="9cd5" class="lt lu iq bd lv lw nc ly lz ma nd mc md me ne mg mh mi nf mk ml mm ng mo mp mq bi translated">2.2åŠ è½½æ•°æ®</h1><p id="14e1" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">åœ¨è¿™ä¸€å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¸Šä¼ è¿è¡Œç«ç¾æ¨¡æ‹Ÿæ‰€éœ€çš„æ‰€æœ‰æ•°æ®é›†ã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="ab32" class="nl lu iq le b gy nm nn l no np"># import Yosemite National Park vector<br/>script.run_command('v.import', input='gisdata/yosemite/shp/yosemite.shp',output='yosemite')</span><span id="a088" class="nl lu iq le b gy nq nn l no np"># import evi raster<br/>script.run_command('r.import', input='gisdata/yosemite/raster/evi.tif', output='evi',resolution='value', resolution_value=30.0)</span><span id="b9a3" class="nl lu iq le b gy nq nn l no np"># import fm 100h samples<br/>script.run_command('v.import', input='gisdata/yosemite/shp/samplefm100.shp',output='samplefm100')</span><span id="f353" class="nl lu iq le b gy nq nn l no np"># import vs (wind velocity) samples<br/>script.run_command('v.import', input='gisdata/yosemite/shp/samplevs.shp', output='samplevs')</span><span id="ec76" class="nl lu iq le b gy nq nn l no np"># import th (wind direction) samples<br/>script.run_command('v.import', input='gisdata/yosemite/shp/sampleth.shp',output='sampleth')</span><span id="e786" class="nl lu iq le b gy nq nn l no np"># import landsat image<br/>script.run_command('r.import', input='gisdata/yosemite/raster/landsat/landsat.tif',output='landsat',resolution='value', resolution_value=30.0);</span></pre><p id="3eef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">GRASS GISæœ€å¤§çš„ç‰¹ç‚¹ä¹‹ä¸€æ˜¯æœ‰ä¸€ä¸ªä¸æ–­å¢é•¿çš„<a class="ae kc" href="https://grass.osgeo.org/download/addons/" rel="noopener ugc nofollow" target="_blank">æ’ä»¶åˆ—è¡¨</a>ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°å®‰è£…åœ¨æ‚¨æœ¬åœ°çš„GRASS GISä¸­ï¼Œå¹¶ç”¨äºæ‰§è¡Œç‰¹å®šçš„åˆ†æã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ä»GEEä¸‹è½½DEMï¼Œè€Œæ˜¯ä½¿ç”¨äº†<a class="ae kc" href="https://grass.osgeo.org/grass78/manuals/addons/r.in.nasadem.html" rel="noopener ugc nofollow" target="_blank"> <em class="lf">æ¨¡å—ã€‚</em></a></p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="857a" class="nl lu iq le b gy nm nn l no np">r.in.nasadem user="my_nasa_user" password="my_nasa_pw" output=dem memory=2000 resolution=30</span></pre></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="dc9a" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">3.é‡ç«æ¨¡æ‹Ÿ</h1><p id="c415" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">åœ¨æˆ‘ä»¬çš„æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†çº¦å¡ç±³è’‚å›½å®¶å…¬å›­ä¸‰ä¸ªåœ°åŒºçš„é‡ç«è”“å»¶ï¼Œè§ä¸‹å›¾ã€‚æˆ‘ä»¬å°†ä»æ¯ä¸ªåŒºåŸŸçš„å¯¼å…¥æ•°æ®ä¸­è·å–æ–°æ•°æ®ï¼Œæ¨¡æ‹Ÿä¸åŒæŒç»­æ—¶é—´çš„ç«ç¾äº‹ä»¶ï¼Œå¹¶å¯è§†åŒ–é‡ç«ä¼ æ’­ã€‚è¿™ç¯‡æ–‡ç« åªå‘ä½ å±•ç¤ºäº†æˆ‘ä»¬å¦‚ä½•åœ¨ç¬¬ä¸‰ä¸ªç ”ç©¶åŒºåŸŸæ¨¡æ‹Ÿé‡ç«ã€‚</p><figure class="mw mx my mz gt jr gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/18c9aa9012ba77cf813d2b6fbe8ab54a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*eBzT7XZ3WS5NYmEtkQN0Ag.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">ä½œè€…ç…§ç‰‡</p></figure><h1 id="551f" class="lt lu iq bd lv lw nc ly lz ma nd mc md me ne mg mh mi nf mk ml mm ng mo mp mq bi translated">3.1ç ”ç©¶åŒºåŸŸ3</h1><p id="9fe8" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">3å·ç ”ç©¶åŒºä½äºçº¦å¡ç±³è’‚å›½å®¶å…¬å›­çš„ä¸­ä¸œéƒ¨ã€‚ä¸»è¦çš„å¯ç‡ƒç‰©ç±»å‹æ˜¯è¦†ç›–é¢ç§¯ä¸º29.70%çš„å°é—­æœ¨æå‡‹è½ç‰©å’Œè¦†ç›–é¢ç§¯ä¸º21.67%çš„æœ¨æ(è‰åœ°å’Œæ—ä¸‹æ¤è¢«)ã€‚è¦äº†è§£æ›´å¤šå…³äºç‡ƒæ–™ç§ç±»çš„ä¿¡æ¯ï¼Œè¯·ç‚¹å‡»<a class="ae kc" href="https://iftdss.firenet.gov/firenetHelp/help/pageHelp/content/10-mapstudio/files/fbfmsummaries.htm" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>ã€‚æ ¹æ®:USGSå›½å®¶åœŸåœ°è¦†ç›–æ•°æ®åº“(Yang et al .ï¼Œ2018)ï¼Œè¯¥åœ°åŒºä¸»è¦ç”±å¸¸ç»¿æ—(51%)ã€çŒæœ¨/çŒä¸›(34%)å’Œè‰åœ°/è‰æœ¬(5%)è¦†ç›–ã€‚</p><h1 id="ae31" class="lt lu iq bd lv lw nc ly lz ma nd mc md me ne mg mh mi nf mk ml mm ng mo mp mq bi translated">3.2è®¡ç®—æ•°æ®</h1><p id="f382" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">é‡ç«äº‹ä»¶å»ºæ¨¡åˆ†ä¸ºä¸¤æ­¥ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ‰§è¡ŒGRASS <a class="ae kc" href="https://grass.osgeo.org/grass78/manuals/r.ros.html" rel="noopener ugc nofollow" target="_blank"> r.ros </a>æ¨¡å—ï¼Œè¯¥æ¨¡å—ç”Ÿæˆæ‰©å±•ç‡(ros)æ …æ ¼åœ°å›¾ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬è¿è¡ŒGRASS <a class="ae kc" href="https://grass.osgeo.org/grass79/manuals/r.spread.html" rel="noopener ugc nofollow" target="_blank"> r.spread </a>æ¨¡å—æ¥æ¨¡æ‹Ÿæ¤­åœ†å„å‘å¼‚æ€§æ‰©æ•£ã€‚</p><p id="c614" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç”±äºæˆ‘ä»¬å‡è®¾æœ‰é£ä¸”åœ°å½¢é™¡å³­ï¼Œr.rosæ¨¡å—éœ€è¦ä»¥ä¸‹è¾“å…¥:</p><blockquote class="lg lh li"><p id="2a6e" class="kd ke lf kf b kg kh ki kj kk kl km kn lj kp kq kr lk kt ku kv ll kx ky kz la ij bi translated">- moisture_1h: <em class="iq">åŒ…å«1å°æ—¶ç‡ƒæ²¹æ¹¿åº¦(%)çš„å…‰æ …å›¾ã€‚</em> <br/> - moisture_live: <em class="iq">åŒ…å«liveç‡ƒæ–™æ°´åˆ†(%)çš„æ …æ ¼åœ°å›¾ã€‚<br/> - </em>é€Ÿåº¦:<em class="iq">åŒ…å«é£é€Ÿçš„æ …æ ¼åœ°å›¾(è‹±å°º/åˆ†é’Ÿ)ã€‚<br/> </em> -æ–¹å‘:<em class="iq">åŒ…å«é£å‘(åº¦)çš„æ …æ ¼åœ°å›¾ã€‚<br/> </em> -å¡åº¦:<em class="iq">åŒ…å«å¡åº¦(åº¦)çš„æ …æ ¼åœ°å›¾ã€‚<br/> </em> -å¡å‘:<em class="iq">åŒ…å«å¡å‘åº¦æ•°çš„å…‰æ …åœ°å›¾ã€‚</em></p></blockquote><p id="7b54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºäº†å®Œæˆè¿™é¡¹å·¥ä½œï¼Œæˆ‘ä»¬å°†åˆ›å»ºå¹¶åº”ç”¨ä¸€ä¸ªPythonå‡½æ•°ã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="8b77" class="nl lu iq le b gy nm nn l no np">caldata('sa_2R', '_sa_2')</span></pre><h1 id="c178" class="lt lu iq bd lv lw nc ly lz ma nd mc md me ne mg mh mi nf mk ml mm ng mo mp mq bi translated">3.3å»ºæ¨¡</h1><p id="8728" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä¸ºæˆ‘ä»¬çš„ç ”ç©¶åŒºåŸŸ3è¿è¡Œ<em class="lf"> r.ros </em>æ¨¡å—ã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="23d2" class="nl lu iq le b gy nm nn l no np"># generates rate of spread raster map<br/>r.ros(model='fuel', moisture_1h='moisture_1h_sa_3', moisture_live='lfm_sa_3_scaled', velocity='wind_speed_sa_3', direction='wind_dir_sa_3', slope='slope_sa_3', aspect='aspect_sa_3',elevation='dem', base_ros='out_base_ros',max_ros='out_max_ros',direction_ros='out_dir_ros',spotting_distance='out_spotting');</span></pre><p id="98a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç‚¹æ …æ ¼åœ°å›¾ï¼Œå®ƒå°†è¢«ç”¨ä½œæˆ‘ä»¬çš„ç«ç„°æ¨¡æ‹Ÿçš„æºã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="5c68" class="nl lu iq le b gy nm nn l no np"># create a vector map from an ASCII points <br/>script.run_command('v.in.ascii',input='gisdata/yosemite/csv/source_3.txt',output='source_3', separator='comma')</span><span id="fb56" class="nl lu iq le b gy nq nn l no np"># rasterize vector map <br/>script.run_command('v.to.rast', input='source_3', output='source_3', type='point', use='cat');</span></pre><p id="5884" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">é€šè¿‡r.spreadæ¨¡å—ï¼Œæˆ‘ä»¬å°†æ¨¡æ‹Ÿ32å°æ—¶çš„é‡ç«äº‹ä»¶ã€‚æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ¨¡æ‹Ÿå‘¨æœŸæ˜¯480åˆ†é’Ÿ(8å°æ—¶)ï¼Œå› ä¸ºå½“å‰æ¨¡æ‹Ÿçš„åˆå§‹æ—¶é—´æ˜¯0(é»˜è®¤å€¼)ï¼Œæˆ‘ä»¬çš„æ»åæ˜¯480åˆ†é’Ÿã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä½¿ç”¨â€œsâ€æ ‡å¿—ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨è€ƒè™‘<a class="ae kc" href="https://www.nwcg.gov/publications/pms437/crown-fire/spotting-fire-behavior#TOC-Estimating-Maximum-Spotting-Distance" rel="noopener ugc nofollow" target="_blank">å®šä½è·ç¦»</a>ã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="88d3" class="nl lu iq le b gy nm nn l no np"># elliptically anisotropic spread simulation 8 hours source 3<br/>r.spread(flags="s", base_ros='out_dir_ros', max_ros='out_max_ros',direction_ros='out_dir_ros', start='source_3',spotting_distance='out_spotting', wind_speed='wind_speed_sa_3', fuel_moisture='moisture_1h_sa_3', output='spread_8h_s3', lag=480)</span><span id="a262" class="nl lu iq le b gy nq nn l no np"># elliptically anisotropic spread simulation 24 hours source 3<br/>script.run_command('r.spread', flags='si', base_ros='out_dir_ros', max_ros='out_max_ros',direction_ros='out_dir_ros', start='spread_16h_s3',spotting_distance='out_spotting', wind_speed='wind_speed_sa_3',fuel_moisture='moisture_1h_sa_3', output='spread_24h_s3', lag=480, init_time=960);</span></pre><p id="651a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ‰§è¡Œr.roså’Œr.spreadæ¨¡å—åï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å¯è§†åŒ–æˆ‘ä»¬çš„ç»“æœã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨GRASS GISå‘½ä»¤åˆ›å»ºå››ä¸ªæ¡†æ¶ã€‚æ¯ä¸€å¸§å°†åŒ…å«æ¯ä¸ªæ—¶é—´æ»åçš„æ‰©æ•£æ …æ ¼çš„é€Ÿç‡ã€æŒ‡ç¤ºæ¨¡æ‹Ÿæºçš„çŸ¢é‡ã€Landsatå›¾åƒçš„CIR(å½©è‰²çº¢å¤–)åˆæˆä»¥åŠç›¸åº”çš„æ ‡é¢˜ã€å›¾ä¾‹ã€æ¯”ä¾‹å’ŒæŒ‡åŒ—é’ˆã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="b968" class="nl lu iq le b gy nm nn l no np"># display monitor and save image file<br/>d.mon(start='cairo', output='gisdata/yosemite/images/sa_3_frame.png', width=800, height=700)</span><span id="251d" class="nl lu iq le b gy nq nn l no np"># remove all frames<br/>d.frame(flags='e')</span><span id="0251" class="nl lu iq le b gy nq nn l no np"># frame spread_8h_s3# create upper-left frame<br/>d.frame(flags='c', frame='first', at=(50,100,0,50))</span><span id="2ad6" class="nl lu iq le b gy nq nn l no np"># add raster map landsat cir<br/>d.rast(map='landsat_cir_sa_3')</span><span id="79ff" class="nl lu iq le b gy nq nn l no np"># add raster map spread_8h_s3<br/>d.rast(map='spread_8h_s3')</span><span id="2e6a" class="nl lu iq le b gy nq nn l no np"># add vector map source_3<br/>d.vect(map='source_3', size=25, icon='basic/pin_dot', color='green',legend_label='Source 3')</span><span id="0225" class="nl lu iq le b gy nq nn l no np"># add title<br/>d.text(text='Fire Spread 8h', bgcolor=('255:255:204'),color='black', size=6)</span><span id="616f" class="nl lu iq le b gy nq nn l no np"># add north arrow<br/>script.run_command('d.northarrow', flags='t', style='9',at=(85,85), fill_color=('0:0:0'),color='none')</span><span id="4e4c" class="nl lu iq le b gy nq nn l no np"># add raster legend<br/>script.run_command('d.legend', flags='sb', raster='spread_32h_s3_reclass',at=(5,60, 81, 83), title='Spread (%)', title_fontsize= 7, bgcolor=('255:255:204'), border_color='none')</span><span id="170e" class="nl lu iq le b gy nq nn l no np"># add vector legend<br/>script.run_command('d.legend.vect', flags='b', at=(7,15), symbol_size=10, fontsize=12,border_color='none', bgcolor=('255:255:204'))</span><span id="ce01" class="nl lu iq le b gy nq nn l no np"># add bar scale<br/>script.run_command('d.barscale', bgcolor=('255:255:204'), at=(40,10), style='line',length=2, units='kilometers', width_scale=0.5)<br/>...</span></pre><figure class="mw mx my mz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/404ca033c2c725aaaec9f7508b802a5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qp4hXdhW16B2niuNZH4m1Q.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">ä½œè€…ç…§ç‰‡</p></figure><p id="378e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ€åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨GRASS GISå›¾åƒåŒ…åˆ›å»ºå¯è§†åŒ–çš„åŠ¨ç”»gifå›¾åƒã€‚</p><pre class="mw mx my mz gt nh le ni nj aw nk bi"><span id="2ac1" class="nl lu iq le b gy nm nn l no np"># create the animated gif with GRASS Python imaging package<br/>imaging.images2gif.writeGifPillow('gisdata/yosemite/images/Animation_Sa_3_2.gif',images, duration=2, repeat=True)</span></pre><figure class="mw mx my mz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/d80d13a10910a70a3de53a9c1aff335f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*f0ZaTb-vQAd1VvuZHHhTJw.gif"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">ä½œè€…ç…§ç‰‡</p></figure></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="08da" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">4.ç»“è®º</h1><p id="1d79" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">æœ¬æ•™ç¨‹æ¼”ç¤ºäº†æˆ‘ä»¬å¯ä»¥å°†GRASS GISã€Google Earth Engineå’ŒJupyter Notebooké›†æˆåˆ°ä¸€ä¸ªç‹¬ç‰¹çš„å¼€å‘ç¯å¢ƒä¸­ã€‚ä½†æ˜¯ï¼Œä¸ºäº†å°†GEEå’ŒGeopandaså¯¹è±¡ä¼ é€’åˆ°GRASS GISæ¨¡å—ä¸­ï¼Œè¿˜éœ€è¦åšæ›´å¤šçš„å·¥ä½œã€‚</p><p id="55a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿå—è¿‡å»ç«ç¾äº‹ä»¶å½±å“çš„åœ°åŒºçš„é‡ç«ï¼Œä»¥æ¯”è¾ƒæ¨¡æ‹Ÿå’ŒçœŸå®çš„ç«ç¾ã€‚</p><p id="5579" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç«ç¾æ¨¡æ‹Ÿçš„ç»“æœè¡¨æ˜ï¼Œè¾“å‡ºæ …æ ¼ä¸ä¼šä¸éæ¤è¢«åŒºåŸŸé‡å ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œç«ç¾æ¨¡æ‹Ÿåœ¨å¤§åŒºåŸŸè¡¨ç°æ›´å¥½ï¼Œå› ä¸ºæˆ‘ä»¬çš„åŸºæœ¬ç©ºé—´åˆ†è¾¨ç‡æ˜¯30ç±³ï¼Œè¿™é€‚åˆäºåŒºåŸŸå°ºåº¦çš„ç ”ç©¶ã€‚</p><blockquote class="lg lh li"><p id="af99" class="kd ke lf kf b kg kh ki kj kk kl km kn lj kp kq kr lk kt ku kv ll kx ky kz la ij bi translated">ä¸€å¦‚æ—¢å¾€ï¼Œæ¬¢è¿ä»»ä½•ä¸æ­¤ç›¸å…³çš„åé¦ˆï¼</p></blockquote></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="59f8" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">5.å‚è€ƒ</h1><p id="5561" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">å½¼å¾—æ‹‰ç´¢å¨ƒã€å“ˆè’™ã€ä½©ç‰¹æ‹‰ä»€ã€å¤§ä¸é‡Œå£«å’Œç±³å¡”ç´¢å¨ƒ(2018å¹´)ã€‚é‡ç«è”“å»¶æ¨¡æ‹Ÿã€‚å¼€æºGISçš„æœ‰å½¢å»ºæ¨¡(ç¬¬155-163é¡µ)ã€‚æ–¯æ™®æ—æ ¼ï¼ŒæŸ¥å§†ã€‚</p><p id="921d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ¨ã€lã€é‡‘ã€sã€ä¸¹å°¼å°”æ£®ã€pã€éœé»˜ã€cã€åŠ æ–¯ã€lã€å‡¯æ–¯ã€aã€ç§‘æ–¯ç‰¹æ´›ã€cã€å¾·ç»´èŒ¨ã€jã€å¼—è±ã€jã€èŠ¬å…‹ã€mã€æ ¼å…°å†…æ›¼ã€bã€é‡Œæ ¼ã€må’Œg .è¥¿å®‰ã€‚2018ï¼Œæ–°ä¸€ä»£ç¾å›½å›½å®¶åœŸåœ°è¦†ç›–æ•°æ®åº“:éœ€æ±‚ã€ç ”ç©¶é‡ç‚¹ã€è®¾è®¡å’Œå®æ–½ç­–ç•¥ï¼Œç¬¬108â€“123é¡µã€‚</p></div></div>    
</body>
</html>