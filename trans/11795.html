<html>
<head>
<title>7 DevOps skills for Machine Learning Operations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">7机器学习操作的DevOps技能</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/7-devops-skills-for-machine-learning-operations-7cf54b19adc0?source=collection_archive---------10-----------------------#2021-11-24">https://towardsdatascience.com/7-devops-skills-for-machine-learning-operations-7cf54b19adc0?source=collection_archive---------10-----------------------#2021-11-24</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="b3f6" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">从成功实施MLOps中吸取的经验教训</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/38f08c72e17bf9f126357511dd15390d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iB-KtJrRrwNS49gC"/></div></div><p class="ks kt gk gi gj ku kv bd b be z dk translated">由<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kw" href="https://unsplash.com/@pietrozj?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Pietro Jeng </a>拍摄</p></figure><h1 id="b5b4" class="kx ky ir bd kz la lb lc ld le lf lg lh jx li jy lj ka lk kb ll kd lm ke ln lo bi translated">DevOps遇上机器学习</h1><p id="a4f2" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">MLOps一直是2021年的热门话题，许多人都在谈论它，许多公司都致力于实施它。原因很明显:MLOps使敏捷原则能够应用于机器学习项目，这意味着更短的发布周期和更高的质量标准。</p><p id="1bce" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">从技术的角度来看，我想说成功的MLOps实现的主要部分是可用的:使用容器训练和服务ML模型的能力，大量的数据管道编排工具，自动化测试框架，以及成熟的DevOps实践。</p><p id="5759" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">然而，拥有技术并不意味着成功。由于通常涉及的角色:数据科学家、机器学习工程师、数据工程师、开发运维工程师和管理人员，构建MLOps团队极具挑战性。经验表明，担任这些角色的人不一定说同一种语言，在我看来，应该有人负责将这些点连接起来。</p><p id="4659" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">在最近的MLOps项目中，我主要关注与开发运维相关的任务。作为一个团队，我们实现了我们的里程碑，我注意到DevOps工程师可以在许多方面提供帮助，不仅在技术问题上，而且在更好的团队合作体验方面。我不是说他们比别人更重要，绝对不是。但是，作为团队中的交叉角色，工程师可以从头到尾玩、学习和共享知识，倡导敏捷和工程最佳实践，同时交付MLOps的“运营”部分。</p><p id="c83d" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">想要从事机器学习操作的DevOps工程师无疑会利用他们来自“常规”项目的专业知识。正如你接下来将看到的，他们也应该对学习新东西持开放态度，尤其是针对大数据、数据分析和ML/AI的云服务。</p><h2 id="ba51" class="mq ky ir bd kz mr ms dn ld mt mu dp lh ly mv mw lj mc mx my ll mg mz na ln nb bi translated">GitLab、Terraform和谷歌云</h2><p id="83c6" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">我在这篇博文中分享的经验来自于用<em class="nc"> GitLab </em>、<em class="nc"> Terraform </em>和Google云托管服务实现MLOps，例如<em class="nc"> BigQuery </em>、<em class="nc">云存储</em>、<em class="nc">顶点特征存储</em>、<em class="nc">顶点管道</em>、<em class="nc">顶点模型</em>和<em class="nc">顶点端点</em>。</p><p id="17a8" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">我们使用了Google Cloud关于机器学习 中<a class="ae kw" href="https://cloud.google.com/architecture/mlops-continuous-delivery-and-automation-pipelines-in-machine-learning" rel="noopener ugc nofollow" target="_blank"> <strong class="lr is">连续交付和自动化管道的博文作为参考指南。无论如何，考虑到MLOps是一种语言、框架、平台和基础设施不可知的实践，我希望使用其他替代方案的人也可以利用这样的经验。</strong></a></p></div><div class="ab cl nd ne hv nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ik il im in io"><h1 id="b811" class="kx ky ir bd kz la nk lc ld le nl lg lh jx nm jy lj ka nn kb ll kd no ke ln lo bi translated">七项技能</h1><h2 id="efd9" class="mq ky ir bd kz mr ms dn ld mt mu dp lh ly mv mw lj mc mx my ll mg mz na ln nb bi translated">1.源代码管理</h2><p id="d604" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">这是DevOps工程师的基本技能。他们应该知道<em class="nc"> Git </em>的概念，比如分支、合并、重置基础以及相关的命令。此外，广泛使用的工作流，如<a class="ae kw" href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow" rel="noopener ugc nofollow" target="_blank"> Gitflow </a>、<a class="ae kw" href="https://docs.github.com/en/get-started/quickstart/github-flow" rel="noopener ugc nofollow" target="_blank"> GitHub flow </a>，或者设计更适合团队源代码管理需求的定制替代方案。</p><h2 id="54f6" class="mq ky ir bd kz mr ms dn ld mt mu dp lh ly mv mw lj mc mx my ll mg mz na ln nb bi translated">2.持续集成和交付</h2><p id="792e" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">CI/CD知识也是DevOps工程师必备的工具。与其他团队成员谈论各种话题会很有帮助，包括但不限于:</p><ul class=""><li id="46ce" class="np nq ir lr b ls ml lv mm ly nr mc ns mg nt mk nu nv nw nx bi translated">决定支持团队CI/CD需求的工具，例如代码评审支持、容器和其他工件注册，以及与第三方服务(例如，云提供商)集成的能力；</li><li id="d6b0" class="np nq ir lr b ls ny lv nz ly oa mc ob mg oc mk nu nv nw nx bi translated">以数据处理代码、ML/AI代码、CI/CD代码和基础设施相关代码同步但独立管理的方式组织储存库；</li><li id="ac64" class="np nq ir lr b ls ny lv nz ly oa mc ob mg oc mk nu nv nw nx bi translated">开发适合自动化测试的代码；</li><li id="e92b" class="np nq ir lr b ls ny lv nz ly oa mc ob mg oc mk nu nv nw nx bi translated">使代码准备好在隔离的容器上运行；</li><li id="47f5" class="np nq ir lr b ls ny lv nz ly oa mc ob mg oc mk nu nv nw nx bi translated">将待办事项分解成小任务，在短周期内持续交付。</li></ul><h2 id="62b6" class="mq ky ir bd kz mr ms dn ld mt mu dp lh ly mv mw lj mc mx my ll mg mz na ln nb bi translated">3.基础设施作为代码</h2><p id="eefd" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">自动化对MLOps至关重要。通过代码提供基础设施允许团队在开发、QA和生产环境中轻松地复制资源。它还保留了应用于所有环境的更改的完整历史记录，使故障排除和回滚任务更加容易。</p><p id="51fb" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">建议从MLOps项目的早期开始就使用基础设施代码。当处理也是手动管理的资源时，诸如Terraform的IaC工具可能变得复杂并且容易出错。</p><p id="e15e" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">值得注意的是，MLOps团队通常依赖托管云服务进行数据处理、存储和模型培训，这意味着在这种情况下，基础架构配置并不严格与网络或虚拟机相关，而是与存储桶、类似数据库的服务和云调度程序相关。</p><h2 id="6db0" class="mq ky ir bd kz mr ms dn ld mt mu dp lh ly mv mw lj mc mx my ll mg mz na ln nb bi translated">4.编程语言</h2><p id="7cc0" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">DevOps工程师通常负责检测容器，这些容器将运行自动化测试或由数据或机器学习工程师创建的端到端管道。虽然他们不需要深入了解他们的同行所使用的编程语言，但至少了解团队最常用的CLI工具(例如，<em class="nc"> Python </em>的<code class="fe od oe of og b">pytest</code>)以及如何管理外部依赖关系(例如，<em class="nc"> Python </em>的<code class="fe od oe of og b">pip install</code>和<code class="fe od oe of og b">requirements.txt</code>之间的关系)会很有帮助。这些知识将帮助DevOps工程师找到CI/CD管道中的基本错误，并自行修复它们。</p><p id="6395" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">构建自动化工具和脚本语言，如<em class="nc"> Make </em>和<em class="nc"> Bash </em>帮助团队简化重复性任务。<em class="nc"> Bash </em>是必备的，而<em class="nc">让</em>介于好东西和必备东西之间，适合那些志在从事MLOps工作的DevOps工程师。</p><blockquote class="oh oi oj"><p id="39bf" class="lp lq nc lr b ls ml js lu lv mm jv lx ok mn ma mb ol mo me mf om mp mi mj mk ik bi translated"><strong class="lr is">专业提示</strong>:在早期使用Vertex Feature Store时，我们意识到相关的Terraform模块是一个WIP，缺少创建一些资源的能力。我们的一名DevOps工程师需要编写一个Python脚本来绕过这个限制，通过API调用来创建资源。当使用最近发布的工具时，您的团队可能会面临类似的情况。也就是说，了解一种允许你与第三方服务交互的编程语言可能对你有利。</p></blockquote><h2 id="5b44" class="mq ky ir bd kz mr ms dn ld mt mu dp lh ly mv mw lj mc mx my ll mg mz na ln nb bi translated">5.定制容器</h2><p id="2642" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">幸运的是，人们总能找到现成的容器图像。在现实世界的项目中，我们通常需要构建适合特定用例的定制图像(<a class="ae kw" href="https://medium.com/google-cloud/how-to-run-vertexai-custom-jobs-in-gitlab-ci-b986e6ebed89" rel="noopener">我在以前的博客文章</a>中写过这个)。这意味着你应该理解Docker的概念和最佳实践。</p><h2 id="00d9" class="mq ky ir bd kz mr ms dn ld mt mu dp lh ly mv mw lj mc mx my ll mg mz na ln nb bi translated">6.管道编排</h2><p id="7a6f" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">在MLOps上工作时有两种主要类型的管道:一种用于CI/CD，另一种用于机器学习。CI/CD管道是由<em class="nc"> GitLab CI </em>、<em class="nc"> GitHub Actions </em>、<em class="nc"> Circle CI </em>或类似的工具编排的，这些工具都有很好的文档，我在这里就不重复它们的文档了。</p><p id="d24d" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">另一方面，机器学习管道可能会因项目而异。它们通常包括数据准备、模型训练、模型验证、模型部署和模型监控等步骤。不像CI/CD管道在<em class="nc"> Git </em>事件时触发，ML管道通常在日历的基础上触发(例如，每日调度)。顺便说一下，根据所使用的技术，每一步都可能变成一个子管道。DevOps工程师必须了解团队如何决定协调他们的管道，以便为成功执行提供所有必要的资源。</p><p id="eedc" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">例如，如果团队使用<em class="nc"> Apache Airflow </em>(包括托管版本，如<em class="nc"> Cloud Composer </em>或<em class="nc">天文学家</em>)，DevOps工作可能就像触发机器学习<em class="nc"> DAG </em>一样简单。在这种情况下，编排代码通常由数据工程师构建。但是如果像<em class="nc"> Airflow </em>这样的编排工具不是一个选项(相信我，它会发生！)，DevOps工程师可能负责提供类似cron的调度程序、无服务器功能和其他旨在以适当的顺序运行机器学习步骤的部分。</p><h2 id="b77a" class="mq ky ir bd kz mr ms dn ld mt mu dp lh ly mv mw lj mc mx my ll mg mz na ln nb bi translated">7.协力</h2><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj on"><img src="../Images/6d4acb7fb9ab10c452db5aff9a65965c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U7K5qxbSpgq7--n2"/></div></div><p class="ks kt gk gi gj ku kv bd b be z dk translated">Antonio Janeski 在<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="8764" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">最后但同样重要的是，说几句团队合作的话。正如我之前提到的，DevOps是MLOps团队中的交叉角色，因此DevOps工程师与所有其他角色都有联系。为了完成工作，他们需要与其他工程师交流，了解他们使用的编程语言、工具和服务。此外，他们需要了解ML管道的每一步是如何相互作用的——例如，他们共享哪些数据以及执行的顺序。</p><p id="80d9" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">此外，请记住一些队友可能不熟悉敏捷和DevOps实践。</p><p id="c0cc" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">也就是说，团队合作是DevOps工程师的一项重要技能。为了茁壮成长，他们需要时不时地设身处地为队友着想，感同身受，记住在自动化就绪性方面不是每个人都在同一页上(尤其是在新团队中)，并追求有效的沟通。</p></div><div class="ab cl nd ne hv nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ik il im in io"><h1 id="6160" class="kx ky ir bd kz la nk lc ld le nl lg lh jx nm jy lj ka nn kb ll kd no ke ln lo bi translated">包扎</h1><p id="d3bb" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">我知道，我报道过很多事情。然而，这并不意味着一个人必须掌握所有的技能。相反，为了增加DevOps的采用，团队成员分享他们的专业知识是很常见的。</p><p id="86a5" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">从长远来看，DevOps思维模式应该在所有团队成员之间共享，以获得更好的结果。此外，这种文化应该在团队中有机地传播，这样每个人都能看到更高质量标准和更短交付周期的好处。</p><p id="4326" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">最终，所有团队成员都要对成功实施MLOps负责。</p><p id="f5d1" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">感谢阅读到目前为止！</p></div><div class="ab cl nd ne hv nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ik il im in io"><h1 id="7a28" class="kx ky ir bd kz la nk lc ld le nl lg lh jx nm jy lj ka nn kb ll kd no ke ln lo bi translated">参考</h1><ul class=""><li id="14cf" class="np nq ir lr b ls lt lv lw ly oo mc op mg oq mk nu nv nw nx bi translated"><strong class="lr is">机器学习操作</strong>:【ml-ops.org T2】</li><li id="37ca" class="np nq ir lr b ls ny lv nz ly oa mc ob mg oc mk nu nv nw nx bi translated">cloud.google.com/resources/mlops-whitepaper:<a class="ae kw" href="https://cloud.google.com/resources/mlops-whitepaper" rel="noopener ugc nofollow" target="_blank"/>谷歌云实践者指南m lops——机器学习的持续交付和自动化框架<strong class="lr is"/></li></ul></div></div>    
</body>
</html>