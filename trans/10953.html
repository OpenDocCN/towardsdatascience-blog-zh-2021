<html>
<head>
<title>Charting with Plotly Dash</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用虚线绘制图表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/charting-with-plotly-dash-fa96c171409b?source=collection_archive---------19-----------------------#2021-10-25">https://towardsdatascience.com/charting-with-plotly-dash-fa96c171409b?source=collection_archive---------19-----------------------#2021-10-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><h1 id="f6b6" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak"> 1:损耗模式</strong></h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/50bb118771e5a318d5fac9b2b2d6d89d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*JRZQxrZxip9qwaxpEyP7SA.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated"><a class="ae la" href="http://istockphoto-1298240610-612x612" rel="noopener ugc nofollow" target="_blank">图片来自Unsplash </a></p></figure><h1 id="4651" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">破折号</strong></h1><p id="404f" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">Dash是位于加拿大蒙特利尔的技术计算公司<strong class="ld iu"> Plotly </strong>创建的一个<strong class="ld iu"> python框架</strong>。这是一个开源的、麻省理工学院许可的免费库，通过它你可以创建基于网络的、交互式的、可定制的、可响应的仪表盘和dataviz应用程序。</p><p id="5d80" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">它的一个主要优势在于无需了解HTML、CSS或Java就可以创建web应用程序(尽管需要基础知识)。你不仅可以用Python创建Dash应用程序，还可以用R、Julia或. NET创建Dash应用程序。Dash非常简单，只需运行代码，dataviz应用程序就会立即在web浏览器上显示出来。</p><h1 id="6b7e" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">带破折号的应用</strong></h1><p id="3ca6" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">首先，我们必须设计未来应用程序的基本结构(<strong class="ld iu">布局</strong>)。这是至关重要的一步，因为它决定了我们演示的视觉效果。</p><p id="5b8d" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">在布局中，我们放置应用程序的组件。为此，我们使用了<strong class="ld iu">两个库</strong>:<em class="me">dash _ core _ components</em>和<em class="me"> dash_html_components。</em>最后一个提供了<strong class="ld iu"> HTML组件</strong>:用于为HTML元素创建标题、段落、图像或<strong class="ld iu">容器</strong>的HTML标签的python版本。另一方面，<em class="me"> dash_core_components </em>提供了<strong class="ld iu">图形、</strong> <strong class="ld iu">下拉菜单、滑块、按钮、</strong>等仪表盘常用组件。最后，我们必须配置一个样式属性，在这里我们定义一些CSS属性，比如字体大小、字体颜色、空白和其他与模板相关的方面。</p><p id="4aa1" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">还有一个名为d<em class="me">ash _ bootstrap _ components</em>的库，用于设计用户界面的样式，其有用性和适用性将在以后的文章中讨论。</p><p id="703e" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">如果你的Dash应用有<strong class="ld iu">交互功能</strong>，你需要编写一个<em class="me">回调函数</em>。回调函数有两个部分:</p><p id="0316" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">1.decorator，使用<em class="me"> @app.callback() </em>初始化；</p><p id="1e99" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">2.-用<em class="me"> def </em>初始化的函数定义。</p><p id="f876" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">在装饰器中，我们指出了可以被用户修改的输入组件和显示应用程序对输入变化的反应的输出组件。在用<em class="me"> def </em>关键字初始化的函数中，我们编写了接受输入变化并返回相应输出的逻辑。</p><h1 id="b764" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">行动图表:损耗模式</strong></h1><p id="ef5b" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">损耗率(<strong class="ld iu">流失率，客户流失率</strong>)是客户停止与特定商业实体做生意的比率。这是一项业务指标，计算在给定时间内停止购买特定公司产品或服务的客户数量除以剩余客户总数。损耗率是许多公司最重要的<a class="ae la" href="https://www.investopedia.com/terms/k/kpi.asp" rel="noopener ugc nofollow" target="_blank"> <strong class="ld iu">关键绩效指标</strong></a>(KPI)之一，因为它可以用来预测公司的增长或衰退。</p><p id="4f4e" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">跟踪流失率至关重要，但分析数据对于<strong class="ld iu">发现模式</strong> <strong class="ld iu">解决造成流失的动机</strong>也非常重要。这些模式可能与人口统计学有关，也可能出于经济原因。<strong class="ld iu"/><strong class="ld iu">使这些模式可视化的仪表板</strong>将允许公司通过根据人口统计或群体划分现有客户来组织营销活动。这样，就有可能激活个性化消息或特定促销来降低流失率。</p><p id="50ec" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">为了创建具有这些功能的仪表板，我们从Kaggle 下载了一个<a class="ae la" href="https://www.kaggle.com/sakshigoyal7/credit-card-customers" rel="noopener ugc nofollow" target="_blank">数据集，该数据集由10，000名银行客户组成，显示了一个<strong class="ld iu">流失标志</strong>(现有客户与流失客户)，人口统计数据:客户年龄；性别；教育水平；婚姻状况和财务数据:收入类别；卡片类别；与银行的关系期限、闲置月份等。</a></p><p id="9041" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">我们决定绘制四个图表来回答以下问题:</p><ul class=""><li id="c0e6" class="mf mg it ld b le lz li ma lm mh lq mi lu mj ly mk ml mm mn bi translated">1)婚姻状况和减员情况有关系吗？</li><li id="5db2" class="mf mg it ld b le mo li mp lm mq lq mr lu ms ly mk ml mm mn bi translated">2)受教育程度与减员情况有关系吗？</li><li id="1026" class="mf mg it ld b le mo li mp lm mq lq mr lu ms ly mk ml mm mn bi translated">3)客户的年龄和减员情况有关系吗？</li><li id="2298" class="mf mg it ld b le mo li mp lm mq lq mr lu ms ly mk ml mm mn bi translated">4)帐户不活动与流失情况之间有什么关系吗？</li></ul><p id="3e92" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">让我们做一个仪表盘来回答这些问题。</p><h1 id="45e6" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">带破折号的图表</strong></h1><p id="6cea" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">Dash库<code class="fe mt mu mv mw b"><em class="me">dash_core_components</em></code>中的函数<code class="fe mt mu mv mw b"><em class="me">dcc.Graph()</em></code>允许我们绘制图形。我们必须编写类似于<code class="fe mt mu mv mw b"><em class="me">dcc.Graph(figure=fig</em>)</code>的代码，其中<code class="fe mt mu mv mw b"><em class="me">figure</em> </code>是函数的参数，<code class="fe mt mu mv mw b"> <em class="me">fig</em> </code>是用<strong class="ld iu">Plotly Express</strong><em class="me"/>(Plotly图形库)制作的图表。</p><p id="16b3" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">首先，我们将Pandas库导入为<em class="me"> pd，</em>plot Express为<em class="me"> px，</em>并将我们的<em class="me"> csv文件</em>转换为dataframe:</p><pre class="kp kq kr ks gt mx mw my mz aw na bi"><span id="40db" class="nb jr it mw b gy nc nd l ne nf">import pandas as pd<br/>import plotly.express as px</span><span id="fb70" class="nb jr it mw b gy ng nd l ne nf">path = 'your path'<br/>df = pd.read_csv(path + 'CreditCardCustomersCols.csv', <br/>                 index_col = False, header = 0, sep = ';',   <br/>                 engine='python')</span></pre><p id="cdf7" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">我们的第一个图表是一个<a class="ae la" href="http://Stacked Bar Graphs, Why &amp; How. Storytelling &amp; Warnings | by Darío Weitz | Towards Data Science" rel="noopener ugc nofollow" target="_blank"> 100%堆积条形图</a>，根据客户的婚姻状况显示流失客户的百分比。我们选择列<code class="fe mt mu mv mw b">'Attrition_Flag' </code>和<code class="fe mt mu mv mw b"> 'Marital_Status' </code>将数据集中的记录从长格式转换为宽格式。然后，我们使用函数<code class="fe mt mu mv mw b"><em class="me">size(</em>) </code>和函数<code class="fe mt mu mv mw b">lambda</code>来计算相应的百分比。</p><pre class="kp kq kr ks gt mx mw my mz aw na bi"><span id="7197" class="nb jr it mw b gy nc nd l ne nf">df_stack1 = df.groupby(['Attrition_Flag', <br/>                        'Marital_Status']).size().reset_index()</span><span id="979f" class="nb jr it mw b gy ng nd l ne nf">df_stack1['Percentage'] =     df.groupby(['Attrition_Flag','Marital_Status']).size().groupby(level=1).apply(lambda x:100 * x/float(x.sum())).values</span><span id="294d" class="nb jr it mw b gy ng nd l ne nf">df_stack1.columns= ['Attrition_Flag', 'Marital_Status', <br/>                    'Counts', 'Percentage']</span></pre><p id="8020" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">下面的屏幕截图显示了名为df_stack1的数据集的记录:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/18c353016ca61362bf342203ab8aff9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*r1W_jZOBQYLwlkmObqpfCg.png"/></div></figure><p id="a887" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">我们使用<code class="fe mt mu mv mw b">px.bar()<em class="me"> </em></code>和<code class="fe mt mu mv mw b">barmode = 'stack'</code>生成了一个用<a class="ae la" href="http://Stacked Bar Charts with Plotly Express | by Darío Weitz | Towards Data Science" rel="noopener ugc nofollow" target="_blank"> Plotly表示的100%堆积条形图</a>(图1):</p><pre class="kp kq kr ks gt mx mw my mz aw na bi"><span id="b9ce" class="nb jr it mw b gy nc nd l ne nf">fig1 = px.bar(df_stack1, x = 'Marital_Status', y = 'Percentage',<br/>              color = 'Attrition_Flag', <br/>              color_discrete_sequence=["crimson", "green"],<br/>              barmode = 'stack', text = 'Percentage')</span><span id="6563" class="nb jr it mw b gy ng nd l ne nf">fig1.update_layout(title = "Marital Status Customers' Attrition",<br/>                   xaxis_title = 'Marital Status', <br/>                   yaxis_title = 'Percentage (%)',width = 800)</span><span id="725f" class="nb jr it mw b gy ng nd l ne nf">fig1.update_traces(texttemplate='%{text:.2s}',textposition='inside')</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/55c6b5a679e89d84aa8a345dcd7a0809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*RP_RaxFDchZbEUKU2c6RZQ.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">图1:作者用Plotly Express制作的100%百分比堆积条形图。</p></figure><p id="0c88" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">仪表板中的第二个图表(<code class="fe mt mu mv mw b">fig2</code>)是另一个100%堆积条形图，根据客户的<strong class="ld iu">教育水平显示流失客户的百分比。</strong>代码是相同的，除了我们用原始数据帧中的<code class="fe mt mu mv mw b"> ‘Education Level’</code>列替换了<code class="fe mt mu mv mw b">‘Marital_Status’ </code>列。</p><p id="e90c" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">我们决定使用<a class="ae la" rel="noopener" target="_blank" href="/histograms-why-how-431a5cfbfcd5">重叠直方图</a>来回答问题3 &amp; 4。</p><p id="3fec" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">因此，仪表板的第三个图表(<code class="fe mt mu mv mw b">fig3a</code>)是一个<a class="ae la" href="http://Histograms with Plotly Express. Themes &amp; Templates | by Darío Weitz | Towards Data Science" rel="noopener ugc nofollow" target="_blank">图表，显示了现有客户和流失客户的年龄频率分布。</a></p><p id="1ecd" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">我们使用<code class="fe mt mu mv mw b">px.histogram()</code>和<code class="fe mt mu mv mw b">barmode = ‘overlay’</code>生成了Plotly Express重叠直方图(图2):</p><pre class="kp kq kr ks gt mx mw my mz aw na bi"><span id="2a98" class="nb jr it mw b gy nc nd l ne nf">df3a = df[df['Attrition_Flag'] == 'Existing Customer']<br/>df3b = df[df['Attrition_Flag'] == 'Attrited Customer']</span><span id="76ef" class="nb jr it mw b gy ng nd l ne nf">fig3a = px.histogram(df3a, x="Customer_Age", <br/>                     nbins = 10, barmode = 'overlay',<br/>                     template = 'seaborn', color = 'Attrition_Flag')</span><span id="f305" class="nb jr it mw b gy ng nd l ne nf">fig3b = px.histogram(df3b, x="Customer_Age", <br/>                     nbins = 10, barmode = 'overlay',<br/>                     template = 'ggplot2', color = 'Attrition_Flag')</span><span id="df01" class="nb jr it mw b gy ng nd l ne nf">fig3a.add_trace(fig3b.data[0])</span><span id="5dd2" class="nb jr it mw b gy ng nd l ne nf">fig3a.update_layout(title = "Customers' Age Histogram",<br/>                    title_font_size = 20,<br/>                    xaxis_title = "Customers' Age", <br/>                    yaxis_title = 'Count',<br/>                    width = 800, height = 350)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/ac9d9c4d42d3bab95857350a6c2b1e07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*IKRf07He5Ijzi47vMxdJFw.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">图2:作者用Plotly Express制作的重叠直方图。</p></figure><p id="36d4" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">仪表板中的最后一个图表(<code class="fe mt mu mv mw b">fig4a</code>)是另一个重叠的直方图，比较了现有客户和流失客户的账户不活跃的月数。代码与前一个完全相同，只是我们使用了原始dataframe中的<code class="fe mt mu mv mw b"><em class="me">'Months_Inactive_12_mon’</em></code> <em class="me"> </em>列。</p><p id="a8a5" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">现在，该是仪表板的时候了。</p><p id="24f7" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">我们假设您安装了Dash如果没有，请遵循这些<a class="ae la" href="https://dash.plotly.com/installation" rel="noopener ugc nofollow" target="_blank">说明。</a></p><p id="a5d4" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">首先，我们需要导入三个必要的库:<code class="fe mt mu mv mw b">dash</code>，主库；<em class="me"/>dash _ html _ components(<code class="fe mt mu mv mw b">html</code>)用于构建布局；dash_core_components ( <code class="fe mt mu mv mw b">dcc</code>)使用<code class="fe mt mu mv mw b"> <em class="me">graph</em></code>组件渲染plotly图形。</p><pre class="kp kq kr ks gt mx mw my mz aw na bi"><span id="15c7" class="nb jr it mw b gy nc nd l ne nf">import dash</span><span id="f7cf" class="nb jr it mw b gy ng nd l ne nf">from dash import html</span><span id="ee57" class="nb jr it mw b gy ng nd l ne nf">from dash import dcc</span></pre><p id="7149" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">接下来，我们必须通过创建一个<strong class="ld iu">实例</strong>来初始化仪表板。由于Dash应用程序使用CSS在web浏览器中呈现，因此我们包含了一个外部样式表(<code class="fe mt mu mv mw b">‘https://codepen.io/chriddyp/pen/bWLwgP.css</code>’)</p><pre class="kp kq kr ks gt mx mw my mz aw na bi"><span id="734d" class="nb jr it mw b gy nc nd l ne nf">external_stylesheets =['https://codepen.io/chriddyp/pen/bWLwgP.css']</span><span id="a1a8" class="nb jr it mw b gy ng nd l ne nf">app = dash.Dash(__name__, external_stylesheets=external_stylesheets)</span></pre><p id="4e43" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">然后我们必须定义我们的应用程序的布局，自然是用带有父组件<code class="fe mt mu mv mw b">html.Div</code>的<code class="fe mt mu mv mw b">app.layout</code>。前者是布局管理的<strong class="ld iu">关键字</strong>，后者是封装布局内多个组件的<strong class="ld iu">容器</strong>。</p><p id="a769" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">我们的计划是在顶部放置一个标题，然后放置100%堆积条形图，在其下方放置重叠直方图。对应的Dash组件在容器 <code class="fe mt mu mv mw b">html.Div</code> <strong class="ld iu">的</strong> <code class="fe mt mu mv mw b">children</code> <strong class="ld iu">属性中被表示为<strong class="ld iu"> a列表。</strong></strong></p><p id="0e99" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated"><code class="fe mt mu mv mw b">dcc.graph</code>功能中的参数有:</p><ul class=""><li id="bb60" class="mf mg it ld b le lz li ma lm mh lq mi lu mj ly mk ml mm mn bi translated"><em class="me"> id: </em>每个图形的唯一标识符(字符串)</li><li id="f1bf" class="mf mg it ld b le mo li mp lm mq lq mr lu ms ly mk ml mm mn bi translated"><em class="me">人物:</em>一个情节性人物的名字</li><li id="6cb0" class="mf mg it ld b le mo li mp lm mq lq mr lu ms ly mk ml mm mn bi translated"><em class="me"> style </em>:定义(在我们的例子中)图形高度和宽度的字典</li></ul><pre class="kp kq kr ks gt mx mw my mz aw na bi"><span id="b35e" class="nb jr it mw b gy nc nd l ne nf">app.layout = html.Div(children = <br/>               [html.Div([<br/>                  html.Div([<br/>                     html.H1(children = 'Attrition Data Analysis',<br/>                             style = {'textAlign' : 'center',          <br/>                                      'fontSize'  : '30px', <br/>                                      'fontWeight': 'bold',<br/>                  html.Div([<br/>                              dcc.Graph(id = 'marit-graph', <br/>                                        figure = fig1,<br/>                                        style={'width': '90vh', <br/>                                               'height': '40vh'}),<br/>                           ], className = 'five columns'),</span><span id="f464" class="nb jr it mw b gy ng nd l ne nf">                 html.Div([<br/>                              dcc.Graph(id = 'educa-graph', <br/>                                        figure = fig2,<br/>                                        style={'width': '90vh', <br/>                                                'height': '40vh'}),<br/>                           ], className = 'six columns'),</span><span id="8721" class="nb jr it mw b gy ng nd l ne nf">                           ],<br/>                    className='row'),</span><span id="955c" class="nb jr it mw b gy ng nd l ne nf">  <br/>                html.Div([html.Div([<br/>                     html.H1(children = ''),<br/>                     dcc.Graph(id = 'hisage-graph', figure = fig3a,<br/>                               style={'width': '80vh', <br/>                                      'height': '10vh'}),<br/>                                    ], className = 'six columns'),</span><span id="b0e6" class="nb jr it mw b gy ng nd l ne nf">                html.Div([html.Div([<br/>                     html.H1(children = ''),<br/>                     dcc.Graph(id = 'hisina-graph', figure = fig4a,<br/>                               style={'width': '80vh', <br/>                                      'height': '10vh'}),<br/>                                    ], className = 'six columns'),</span><span id="b380" class="nb jr it mw b gy ng nd l ne nf">                           ]),<br/>                   ]),<br/>              ])</span></pre><p id="aa5e" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">最后，我们添加以下两行代码来运行服务器:</p><pre class="kp kq kr ks gt mx mw my mz aw na bi"><span id="89ae" class="nb jr it mw b gy nc nd l ne nf">if __name__ == '__main__':<br/>     app.run_server(debug = True, port = 8080)</span></pre><p id="4f61" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated"><code class="fe mt mu mv mw b">debug=True</code>参数启用应用程序中的<strong class="ld iu">热重装</strong>选项。这是一个强烈推荐的选择，因为如果代码发生变化，应用程序会自动重新加载，而不需要重启服务器。</p><p id="b93b" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">如果一切正常，应用程序运行，屏幕上将显示几行。我们真正感兴趣的行应该如下所示:</p><p id="4469" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated"><em class="me"> Dash正在http://127.0.0.1:8080/ </em>上运行</p><p id="26e5" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">在您的网络浏览器中复制url，您将看到图表仪表板。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/bc3681d0494a1b0a49b465112aa06e00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*dYargUYyo39HLxCg3ZP42A.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">图3:作者用Plotly Dash制作的仪表盘。</p></figure><p id="a2b4" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">可以看出，流失情况和银行客户的婚姻状况之间似乎没有明显的关系。客户年龄或账户闲置时间也没有显示出它们是流失的原因。</p><p id="e238" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">为了分析教育水平和损耗状况之间是否存在任何关系，我们使用<code class="fe mt mu mv mw b">ascending = True.</code>对相应的数据帧进行了排序。热重装选项允许我们立即获得以下仪表板:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nj"><img src="../Images/0a16b09c9d6b94228c2ed1675dda4dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n5PpwQ4l4N1wtC7aQTowKQ.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">图4:作者用Plotly Dash制作的仪表盘。</p></figure><p id="3906" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">似乎受教育程度较高的顾客比受教育程度较低的同行更不满意。然而，应该进行适当的统计研究来证实这一说法。</p><p id="e66e" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">Dash使我们能够轻松地生成一个应用程序，让我们能够搜索流失背后的原因。不幸的是，分析的变量似乎都不是我们要寻找的答案。在以后的文章中，我们将分析原始数据框架中包含的任何其他金融变量是否是答案。</p><p id="4131" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">如果你对这篇文章感兴趣，请阅读我之前的文章:(<strong class="ld iu">https://medium.com/@dar.wtz</strong>):</p><p id="1b8e" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">“平行坐标标绘有Plotly，规范化还是标准化？</p><div class="no np gp gr nq nr"><a rel="noopener follow" target="_blank" href="/parallel-coordinates-plots-with-plotly-dffe3f526c6b"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd iu gy z fp nw fr fs nx fu fw is bi translated">平行坐标用Plotly绘制</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">常态化还是标准化？</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">towardsdatascience.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of ku nr"/></div></div></a></div><p id="a241" class="pw-post-body-paragraph lb lc it ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly im bi translated">饼图和甜甜圈图，带有Plotly，Why &amp; How</p><div class="no np gp gr nq nr"><a rel="noopener follow" target="_blank" href="/pie-donut-charts-with-plotly-d5524a60295b"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd iu gy z fp nw fr fs nx fu fw is bi translated">Plotly的饼图和圆环图</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">为什么和如何</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">towardsdatascience.com</p></div></div><div class="oa l"><div class="og l oc od oe oa of ku nr"/></div></div></a></div></div></div>    
</body>
</html>