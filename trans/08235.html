<html>
<head>
<title>What are the Most Popular Skills for Data Science Jobs? Ask a Graph Database!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学工作最受欢迎的技能是什么？求一个图形数据库！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-are-the-most-popular-skills-for-data-science-jobs-ead45f56841?source=collection_archive---------32-----------------------#2021-07-28">https://towardsdatascience.com/what-are-the-most-popular-skills-for-data-science-jobs-ead45f56841?source=collection_archive---------32-----------------------#2021-07-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e083" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过用TigerGraph、实际工作数据和Kaggle API构建Indeed.com工作图来寻找下一份工作</h2></div><h1 id="1339" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">概观</h1><p id="4720" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">图表无处不在，可以帮很多忙，包括找工作。像LinkedIn这样的平台由图表数据库驱动，帮助向你推荐工作。在这篇博客中，我们将创建一个可以帮助你回答一些问题的图表，比如什么技能最适合我想要的工作和工资范围。让我们构建图表，然后回答图表上的一些问题。</p><h1 id="d9c2" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">第一部分:在TigerGraph云上创建解决方案</h1><p id="3804" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">首先，您需要在TigerGraph Cloud上创建一个解决方案。关注本博客了解更多详情:</p><div class="lt lu gp gr lv lw"><a href="https://www.tigergraph.com/blog/getting-started-with-tigergraph-3-0/" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">TigerGraph 3.0入门- TigerGraph</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">使用TigerGraph的GraphStudio创建您的第一个图形数据库所需要知道的一切什么是GraphStudio…</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">www.tigergraph.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk ml lw"/></div></div></a></div><p id="d291" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">简而言之，您需要:</p><ol class=""><li id="a002" class="mr ms iq kz b la mm ld mn lg mt lk mu lo mv ls mw mx my mz bi translated">导航到<a class="ae na" href="https://tgcloud.io/." rel="noopener ugc nofollow" target="_blank">https://tgcloud.io/.</a></li><li id="7037" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls mw mx my mz bi translated">单击“我的解决方案”选项卡。</li><li id="880e" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls mw mx my mz bi translated">点击右上角的蓝色“创建解决方案”按钮。</li><li id="0d0d" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls mw mx my mz bi translated">在第一页按“空白”。</li><li id="30ec" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls mw mx my mz bi translated">不要更改第二页中的任何内容，然后按下一步。</li><li id="f352" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls mw mx my mz bi translated">根据您的详细信息定制第三页。</li><li id="723c" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls mw mx my mz bi translated">提交您的解决方案，等待它被创建。</li></ol><h1 id="5643" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">第二部分:创建图表模式</h1><p id="355b" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在让我们去https://colab.research.google.com/的<a class="ae na" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank">创建一个新的Colab笔记本。创建之后，让我们连接到图表，然后创建图表模式，这有点像我们将如何加载数据的地图。</a></p><h2 id="d48f" class="ng kg iq bd kh nh ni dn kl nj nk dp kp lg nl nm kr lk nn no kt lo np nq kv nr bi translated">步骤1:连接到您的解决方案</h2><p id="0611" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">首先，让我们安装并导入pyTigerGraph。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="8525" class="ng kg iq nx b gy ob oc l od oe">!pip install pyTigerGraph</span><span id="478e" class="ng kg iq nx b gy of oc l od oe">import pyTigerGraph as tg</span></pre><p id="d213" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">接下来，让我们创建一个TigerGraphConnection，将我们连接到我们刚刚创建的TG云解决方案。</p><blockquote class="og oh oi"><p id="a82c" class="kx ky oj kz b la mm jr lc ld mn ju lf ok mo li lj ol mp lm ln om mq lq lr ls ij bi translated">注意:用您在第一部分中分配的子域和密码替换子域和密码。</p></blockquote><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="214f" class="ng kg iq nx b gy ob oc l od oe">conn = tg.TigerGraphConnection(host="https://SUBDOMAIN.i.tgcloud.io/", password="PASSWORD")</span></pre><p id="67b4" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">一旦运行，您就可以开始了！</p><h2 id="4be3" class="ng kg iq bd kh nh ni dn kl nj nk dp kp lg nl nm kr lk nn no kt lo np nq kv nr bi translated">第二步:创建您的模式和图表</h2><p id="39a2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在我们已经连接到我们的解决方案，让我们创建一个新的图表，我们的JobGraph。为此，我们将有六个顶点(工作、工作类型、职称、工资范围、公司和技能)和六条边。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="6d73" class="ng kg iq nx b gy ob oc l od oe">print(conn.gsql('''</span><span id="e298" class="ng kg iq nx b gy of oc l od oe">CREATE VERTEX Job_Option(PRIMARY_ID job_id INT, job_link STRING, num_skills INT, num_reviews DOUBLE, num_stars DOUBLE)<br/>CREATE VERTEX Job_Type(PRIMARY_ID job_type_id STRING) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX Job_Title(PRIMARY_ID job_title_id STRING) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX Salary_Range(PRIMARY_ID salary_range STRING) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX Company(PRIMARY_ID company_name STRING) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX Skill(PRIMARY_ID skill STRING) WITH PRIMARY_ID_AS_ATTRIBUTE="true"</span><span id="a109" class="ng kg iq nx b gy of oc l od oe">CREATE UNDIRECTED EDGE JOB_OPTION_JOB_TYPE(FROM Job_Option, TO Job_Type)<br/>CREATE UNDIRECTED EDGE JOB_OPTION_JOB_TITLE(FROM Job_Option, TO Job_Title)<br/>CREATE UNDIRECTED EDGE JOB_TYPE_JOB_TITLE(FROM Job_Type, TO Job_Title)<br/>CREATE UNDIRECTED EDGE JOB_OPTION_SALARY_RANGE(FROM Job_Option, To Salary_Range)<br/>CREATE UNDIRECTED EDGE JOB_OPTION_COMPANY(FROM Job_Option, To Company)<br/>CREATE UNDIRECTED EDGE JOB_OPTION_SKILL(FROM Job_Option, To Skill)</span><span id="6e3b" class="ng kg iq nx b gy of oc l od oe">'''))</span></pre><p id="3bbb" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">一旦你创建了顶点和边，把它们放在一起形成一个图，我们称之为JobGraph。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="3578" class="ng kg iq nx b gy ob oc l od oe">print(conn.gsql('''</span><span id="22ba" class="ng kg iq nx b gy of oc l od oe">CREATE GRAPH JobGraph(</span><span id="6cd5" class="ng kg iq nx b gy of oc l od oe">Job_Option, Job_Type, Job_Title, Salary_Range, Company, Skill,</span><span id="2b8a" class="ng kg iq nx b gy of oc l od oe">JOB_OPTION_JOB_TYPE, JOB_OPTION_JOB_TITLE, JOB_TYPE_JOB_TITLE, JOB_OPTION_SALARY_RANGE, JOB_OPTION_COMPANY, JOB_OPTION_SKILL</span><span id="aa65" class="ng kg iq nx b gy of oc l od oe">)</span><span id="967d" class="ng kg iq nx b gy of oc l od oe">'''))</span></pre><p id="4c8a" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">完美！通过按Actions和GraphStudio下的四个方块导航到GraphStudio。</p><figure class="ns nt nu nv gt oo gh gi paragraph-image"><div role="button" tabindex="0" class="op oq di or bf os"><div class="gh gi on"><img src="../Images/78b32e6d105dec38bcb3cc2b2f149470.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*8ydAlKFTOUJIodkmVz8dLg.png"/></div></div><p class="ou ov gj gh gi ow ox bd b be z dk translated">转到动作下的四个框，然后按“GraphStudio”(作者图片)</p></figure><p id="a933" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">点击侧边栏中的“设计模式”。在那里，您将看到刚刚创建的模式！</p><figure class="ns nt nu nv gt oo gh gi paragraph-image"><div role="button" tabindex="0" class="op oq di or bf os"><div class="gh gi oy"><img src="../Images/65f61f7f3ac096907be4cddc5b3e6d1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qHWh3uc5S00zdGuOVs_SUA.png"/></div></div><p class="ou ov gj gh gi ow ox bd b be z dk translated">查看GraphStudio中的模式(图片由作者提供)</p></figure><h2 id="8e67" class="ng kg iq bd kh nh ni dn kl nj nk dp kp lg nl nm kr lk nn no kt lo np nq kv nr bi translated">第三步:更新你的图名和令牌</h2><p id="6e0b" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">太棒了，我们快完成了！在加载数据和运行查询之前，让我们更新连接凭证。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="8379" class="ng kg iq nx b gy ob oc l od oe">conn.graphname = "JobGraph"</span><span id="ae1c" class="ng kg iq nx b gy of oc l od oe">conn.apiToken = conn.getToken(conn.createSecret())</span></pre><p id="604a" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">完美！现在让我们输入数据。</p><h1 id="9bdb" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">第三部分:加载您的数据</h1><h2 id="d142" class="ng kg iq bd kh nh ni dn kl nj nk dp kp lg nl nm kr lk nn no kt lo np nq kv nr bi translated">第一步:创建一个Kaggle令牌</h2><p id="3607" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们将从位于<a class="ae na" href="https://www.kaggle.com/elroyggj/indeed-dataset-data-scientistanalystengineer" rel="noopener ugc nofollow" target="_blank">这里</a>的Kaggle的Indeed dataset中获取数据。该数据包含数据科学家、数据分析师和数据工程师的工作信息。</p><div class="lt lu gp gr lv lw"><a href="https://www.kaggle.com/elroyggj/indeed-dataset-data-scientistanalystengineer" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">实际上是数据集——数据科学家/分析师/工程师)</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">Kaggle是世界上最大的数据科学社区，拥有强大的工具和资源来帮助您实现您的数据…</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">www.kaggle.com</p></div></div><div class="mf l"><div class="oz l mh mi mj mf mk ml lw"/></div></div></a></div><p id="ea0e" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">首先，在kaggle.com上创建一个帐户。</p><div class="lt lu gp gr lv lw"><a href="https://kaggle.com" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">Kaggle:你的机器学习和数据科学社区</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">Kaggle是世界上最大的数据科学社区，拥有强大的工具和资源来帮助您实现您的数据…</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">kaggle.com</p></div></div></div></a></div><p id="1fd9" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">接下来，在主页中单击您的个人资料图片。在打开的边栏中，按下“帐户”</p><figure class="ns nt nu nv gt oo gh gi paragraph-image"><div role="button" tabindex="0" class="op oq di or bf os"><div class="gh gi pa"><img src="../Images/211c376f9d5c6f2d2e3bd6f1492fdd3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yjfqzGZQfsdK1GRi8woRpA.png"/></div></div><p class="ou ov gj gh gi ow ox bd b be z dk translated">按下你的个人资料表，然后选择“帐户”(作者图片)</p></figure><p id="3e4a" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">向下滚动页面，然后在API下，按“API令牌过期”这将使任何现有的API过期。</p><figure class="ns nt nu nv gt oo gh gi paragraph-image"><div role="button" tabindex="0" class="op oq di or bf os"><div class="gh gi pb"><img src="../Images/86cfc368f38252e6aa57662c45f44584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgXGQVt8uZNtdH30IiZT1A.png"/></div></div><p class="ou ov gj gh gi ow ox bd b be z dk translated">按“过期API令牌”</p></figure><p id="9af7" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">接下来，按“创建新的API令牌”,它将自动下载您的令牌作为kaggle.json。</p><figure class="ns nt nu nv gt oo gh gi paragraph-image"><div role="button" tabindex="0" class="op oq di or bf os"><div class="gh gi pc"><img src="../Images/3fad322ac8c6231eb8b49b95dd98beaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ESrIw7GdhbUbp-wTt_uNRw.png"/></div></div><p class="ou ov gj gh gi ow ox bd b be z dk translated">按“创建新的API令牌”将下载“kaggle.json”(图片由作者提供)</p></figure><p id="8996" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">完美！现在您已经有了API令牌，让我们在笔记本中加载数据。</p><h2 id="73e5" class="ng kg iq bd kh nh ni dn kl nj nk dp kp lg nl nm kr lk nn no kt lo np nq kv nr bi translated">第二步:从Kaggle加载数据</h2><p id="a821" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">首先，您需要安装Kaggle库。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="cea3" class="ng kg iq nx b gy ob oc l od oe">!pip install -q kaggle</span></pre><p id="73c0" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">接下来，让Colab提示您上传一个文件。上传刚刚下载的kaggle.json文件。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="0f68" class="ng kg iq nx b gy ob oc l od oe">from google.colab import files</span><span id="6262" class="ng kg iq nx b gy of oc l od oe">files.upload()</span></pre><p id="3926" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">太棒了。现在让我们创建Kaggle文件夹并使其可访问，然后下载数据。我们将它存储在一个名为data的文件夹中。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="19e2" class="ng kg iq nx b gy ob oc l od oe">! mkdir ~/.kaggle<br/>! cp kaggle.json ~/.kaggle/<br/>! chmod 600 ~/.kaggle/kaggle.json<br/>! kaggle datasets list</span><span id="3cc5" class="ng kg iq nx b gy of oc l od oe">! kaggle datasets download -d elroyggj/indeed-dataset-data-scientistanalystengineer<br/>! unzip indeed-dataset-data-scientistanalystengineer.zip -d data<br/>! ls data</span></pre><p id="8104" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">从结果来看！ls数据，你会发现两个文件。有我们数据的文件是indeed_job_dataset.csv(在data的目录下，所以data/indeed_job_dataset.csv)。</p><figure class="ns nt nu nv gt oo gh gi paragraph-image"><div role="button" tabindex="0" class="op oq di or bf os"><div class="gh gi pd"><img src="../Images/6460c96f83b2f6e337e10220101e9fff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*earFYBADohsUx7jBWm3Rnw.png"/></div></div><p class="ou ov gj gh gi ow ox bd b be z dk translated">ls的结果(图片由作者提供)</p></figure><p id="ffa7" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">太好了！现在让我们将数据加载到图表中。</p><h2 id="e77c" class="ng kg iq bd kh nh ni dn kl nj nk dp kp lg nl nm kr lk nn no kt lo np nq kv nr bi translated">第二步:将数据插入图表</h2><p id="ab3c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">让我们使用pandas创建一个indeed_job_dataset.csv的数据框架。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="1ae3" class="ng kg iq nx b gy ob oc l od oe">import pandas as pd</span><span id="313e" class="ng kg iq nx b gy of oc l od oe">data = pd.read_csv("data/indeed_job_dataset.csv")</span></pre><p id="35e1" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">接下来，让我们编辑一些列值和名称，以确保一切都可以向上插入。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="0750" class="ng kg iq nx b gy ob oc l od oe">data["id_val"] = [val for val in data["Unnamed: 0"]]<br/>data = data.drop("Unnamed: 0", 1)</span><span id="ff3d" class="ng kg iq nx b gy of oc l od oe">data["Company"] = ["No Company Found" if type(i) != str else i for i in data["Company"]]</span></pre><p id="69d9" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">完美！现在我们的数据已经准备好了，让我们向上插入所有的顶点和边。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="1771" class="ng kg iq nx b gy ob oc l od oe">conn.upsertVertexDataFrame(data, "Job_Type", "Job_Type", attributes={"job_type_id": "Job_Type"})<br/>conn.upsertVertexDataFrame(data, "Job_Title", "Job_Title", attributes={"job_title_id": "Job_Title"})<br/>conn.upsertVertexDataFrame(data, "Salary_Range", "Queried_Salary", attributes={"salary_range": "Queried_Salary"})<br/>conn.upsertVertexDataFrame(data, "Company", "Company", attributes={"company_name": "Company"})</span><span id="3d0a" class="ng kg iq nx b gy of oc l od oe">conn.upsertEdgeDataFrame(data, "Job_Option", "JOB_OPTION_SALARY_RANGE", "Salary_Range", "Job_Type", "Queried_Salary", attributes={})<br/>conn.upsertEdgeDataFrame(data, "Job_Option", "JOB_OPTION_COMPANY", "Company", "Job_Type", "Job_Title", attributes={})<br/>conn.upsertEdgeDataFrame(data, "Job_Type", "JOB_TYPE_JOB_TITLE", "Job_Title", "Job_Type", "Job_Title", attributes={})<br/>conn.upsertEdgeDataFrame(data, "Job_Option", "JOB_OPTION_JOB_TITLE", "Job_Title", "id", "Job_Title", attributes={})<br/>conn.upsertEdgeDataFrame(data, "Job_Option", "JOB_OPTION_JOB_TYPE", "Job_Type", "id", "Job_Type", attributes={})</span></pre><p id="0482" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">由于“Skills”是数据帧中的一个列表，我们将分别向上插入每个顶点和边，而不是通过数据帧。运行此代码块以加载技能:</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="517e" class="ng kg iq nx b gy ob oc l od oe">for job in range(len(data["Skill"])):<br/>   if type(data["Skill"][job]) == str:<br/>      for skill in eval(data["Skill"][job]):<br/>         conn.upsertVertex("Skill", skill, attributes={"skill": skill})<br/>         conn.upsertEdge("Job_Option", job, "JOB_OPTION_SKILL", "Skill", skill)</span></pre><p id="b788" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">之后，我们将所有数据加载到我们的图表中！现在我们的图表已经准备好了，让我们开始查询我们的数据，从标题中提出问题。</p><h1 id="7323" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">第四部分:编写查询</h1><h2 id="d639" class="ng kg iq bd kh nh ni dn kl nj nk dp kp lg nl nm kr lk nn no kt lo np nq kv nr bi translated">问题1:总体而言，什么是最受欢迎的技能(对于数据科学家、数据分析师和数据工程师而言)？</h2><p id="8639" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">首先，我们来找最热门的整体技能。</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="fb37" class="ng kg iq nx b gy ob oc l od oe">conn.gsql('''</span><span id="7747" class="ng kg iq nx b gy of oc l od oe">USE GRAPH JobGraph</span><span id="6891" class="ng kg iq nx b gy of oc l od oe">DROP QUERY topSkills</span><span id="6d25" class="ng kg iq nx b gy of oc l od oe">CREATE QUERY topSkills () FOR GRAPH JobGraph {</span><span id="92bc" class="ng kg iq nx b gy of oc l od oe">SumAccum&lt;INT&gt; @connectedJobs;</span><span id="4989" class="ng kg iq nx b gy of oc l od oe">Seed = {Job_Option.*};</span><span id="be04" class="ng kg iq nx b gy of oc l od oe">Res = SELECT tgt FROM Seed:s - (JOB_OPTION_SKILL:e) - Skill:tgt<br/>      ACCUM tgt.@connectedJobs+=1<br/>      ORDER BY tgt.@connectedJobs DESC<br/>      LIMIT 5;</span><span id="d441" class="ng kg iq nx b gy of oc l od oe">PRINT Res;</span><span id="f8dc" class="ng kg iq nx b gy of oc l od oe">}</span><span id="60ce" class="ng kg iq nx b gy of oc l od oe">INSTALL QUERY topSkills</span><span id="4097" class="ng kg iq nx b gy of oc l od oe">''')</span></pre><p id="3579" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">结果如下:</p><pre class="ns nt nu nv gt nw nx ny nz aw oa bi"><span id="6259" class="ng kg iq nx b gy ob oc l od oe">[<br/>  {<br/>    "Res": [<br/>      {<br/>        "attributes": {<br/>          "<a class="ae na" href="http://twitter.com/connectedJobs" rel="noopener ugc nofollow" target="_blank">@connectedJobs</a>": 466,<br/>          "skill": "Python"<br/>        },<br/>        "v_id": "Python",<br/>        "v_type": "Skill"<br/>      },<br/>      {<br/>        "attributes": {<br/>          "<a class="ae na" href="http://twitter.com/connectedJobs" rel="noopener ugc nofollow" target="_blank">@connectedJobs</a>": 434,<br/>          "skill": "Machine Learning"<br/>        },<br/>        "v_id": "Machine Learning",<br/>        "v_type": "Skill"<br/>      },<br/>      {<br/>        "attributes": {<br/>          "<a class="ae na" href="http://twitter.com/connectedJobs" rel="noopener ugc nofollow" target="_blank">@connectedJobs</a>": 417,<br/>          "skill": "R"<br/>        },<br/>        "v_id": "R",<br/>        "v_type": "Skill"<br/>      },<br/>      {<br/>        "attributes": {<br/>          "<a class="ae na" href="http://twitter.com/connectedJobs" rel="noopener ugc nofollow" target="_blank">@connectedJobs</a>": 351,<br/>          "skill": "SQL"<br/>        },<br/>        "v_id": "SQL",<br/>        "v_type": "Skill"<br/>      },<br/>      {<br/>        "attributes": {<br/>          "<a class="ae na" href="http://twitter.com/connectedJobs" rel="noopener ugc nofollow" target="_blank">@connectedJobs</a>": 203,<br/>          "skill": "Data Mining"<br/>        },<br/>        "v_id": "Data Mining",<br/>        "v_type": "Skill"<br/>      }<br/>    ]<br/>  }<br/>]</span></pre><p id="afe8" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">因此，总而言之，最受欢迎的技能是:</p><ul class=""><li id="aa58" class="mr ms iq kz b la mm ld mn lg mt lk mu lo mv ls pe mx my mz bi translated">计算机编程语言</li><li id="9795" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls pe mx my mz bi translated">机器学习</li><li id="aea7" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls pe mx my mz bi translated">稀有</li><li id="eb5e" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls pe mx my mz bi translated">结构化查询语言</li><li id="abc5" class="mr ms iq kz b la nb ld nc lg nd lk ne lo nf ls pe mx my mz bi translated">数据挖掘</li></ul><p id="d734" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">完美！我们可以编写更多的查询来继续探索，但是我们现在已经回答了我们的主要问题。</p><h1 id="d415" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">第五部分:祝贺你！</h1><p id="94da" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">恭喜你完成这篇博客！在这里，您了解了如何创建一个职位图来确定与数据相关的职位的主要技能。</p><p id="6bbd" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">如果您有任何问题，请随时加入TigerGraph Discord或在TigerGraph社区论坛中提问。</p><div class="lt lu gp gr lv lw"><a href="https://community.tigergraph.com/" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">老虎图</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">一个学习、提问、展示酷项目以及与其他TigerGraph开发人员交流的地方！</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">community.tigergraph.com</p></div></div><div class="mf l"><div class="pf l mh mi mj mf mk ml lw"/></div></div></a></div></div></div>    
</body>
</html>