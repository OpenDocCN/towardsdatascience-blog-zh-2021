<html>
<head>
<title>Venn Diagrams — An Underrated Data Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">维恩图——被低估的数据可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/venn-diagrams-an-underrated-data-visualization-6eb6c123eb4a?source=collection_archive---------28-----------------------#2021-05-09">https://towardsdatascience.com/venn-diagrams-an-underrated-data-visualization-6eb6c123eb4a?source=collection_archive---------28-----------------------#2021-05-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e04e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">有时候，简单更好。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/020f7f4420da6d89e2cf23f7da26c679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kz77FG4Q5qsjOUMvAS7IeA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@maxcodes" rel="noopener ugc nofollow" target="_blank">麦斯威尔·尼尔森</a>上<a class="ae kv" href="https://unsplash.com/photos/taiuG8CPKAQ" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="4211" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个<strong class="ky ir">数据</strong> <strong class="ky ir">可视化</strong>的主要目标是<strong class="ky ir">以一种清晰、引人注目的方式</strong>表示一个点。作为数据科学家，我们一直致力于创建最酷、最具创新性的数据可视化类型。以至于实际的信息丢失了。<strong class="ky ir">为什么要把事情复杂化</strong>？有时，一个简单的信息只需要一个简单的可视化来传达。在这篇博客中，我将分享一个简短的教程，教你如何用Matplotlib和任何类型的数据轻松地创建维恩图。</p><h2 id="b675" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">项目背景</strong></h2><p id="1f34" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在我最近的项目“Twitter仇恨言论检测”中，我面临着一个重大挑战，即数据的类别不平衡。整个数据集是24802条文本推文，其中只有6%被标记为仇恨言论。最后，这种阶级不平衡对我最终模型的结果产生了影响。你可以在这里查看最终项目的资源库<a class="ae kv" href="https://github.com/sidneykung/twitter_hate_speech_detection" rel="noopener ugc nofollow" target="_blank">以了解更多细节。</a></p><p id="15d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我为这个项目做演示的时候，<strong class="ky ir">我需要一种方法来可视化这个问题。另外，我想找到<strong class="ky ir">专有</strong>到<strong class="ky ir">仇恨言论标签</strong>的字数，并且不与简单的攻击性语言重叠。然后我突然想到，维恩图可以完美地展示这个概念。这是最终产品。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/0a2d0741322a5630c2181f4817ed19d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*NNTa43F9dmMEdDhCYurWHQ.png"/></div></figure><p id="b44a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我开始学习教程之前，让我们先回顾一下基础知识。我们在小学都学过这个简单的视觉化。维恩图是由两个或两个以上的圆圈重叠而成的图，用来显示集合之间的逻辑关系。众所周知，集合包含了数据集中的唯一值。因此，这个维恩图<strong class="ky ir">显示了来自每个标签</strong>的唯一单词，以及那些重叠的单词。</p><h2 id="112d" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">教程</strong></h2><p id="b80d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">用Python创建维恩图非常简单。没有多少人知道这一点，但流行的数据可视化包<code class="fe mr ms mt mu b">matplotlib</code>有一个扩展，可以创建可定制的维恩图。你可以点击查看<strong class="ky ir">文档</strong>和<a class="ae kv" href="https://pypi.org/project/matplotlib-venn/" rel="noopener ugc nofollow" target="_blank">。第一步总是将软件包安装到您的本地机器上。</a></p><pre class="kg kh ki kj gt mv mu mw mx aw my bi"><span id="8ba7" class="ls lt iq mu b gy mz na l nb nc">pip install matplotlib-venn</span></pre><p id="0f20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为它是基于<code class="fe mr ms mt mu b">matplotlib</code>的，所以你也需要导入matplotlib的<strong class="ky ir">依赖项</strong>，比如<code class="fe mr ms mt mu b">numpy</code>和<code class="fe mr ms mt mu b">scipy</code>。</p><p id="7e4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦软件包被安装，你将需要输入你的数据作为一个<strong class="ky ir">集合</strong>。我不打算深入我的代码的细节，但是我可以在这个笔记本中查看所有的细节。首先，我将每个标签中的tweets分开，然后使用map函数将<strong class="ky ir">标记化的单词</strong>变成两个单独的<strong class="ky ir">列表</strong>。从那以后，我使用列表理解将它们转换成嵌套列表进行查询。</p><p id="007c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的数据采用合适的格式后，我们可以<strong class="ky ir">将包</strong>导入笔记本电脑本身。</p><pre class="kg kh ki kj gt mv mu mw mx aw my bi"><span id="868e" class="ls lt iq mu b gy mz na l nb nc">import matplotlib_venn as venn</span><span id="5891" class="ls lt iq mu b gy nd na l nb nc">from matplotlib_venn import venn2, venn2_circles, venn3, venn3_circles</span><span id="5253" class="ls lt iq mu b gy nd na l nb nc">import matplotlib.pyplot as plt</span><span id="051e" class="ls lt iq mu b gy nd na l nb nc">%matplotlib inline</span></pre><p id="5470" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从这里开始，创建文氏图的代码就像<strong class="ky ir">一行代码</strong>一样简单。</p><pre class="kg kh ki kj gt mv mu mw mx aw my bi"><span id="af0c" class="ls lt iq mu b gy mz na l nb nc">venn2([set(label_1), set(label_2)])</span></pre><p id="178c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，这个包的美妙之处在于它非常<strong class="ky ir">可定制</strong>。您可以通过将此代码添加到原始行来添加标题和标签。</p><pre class="kg kh ki kj gt mv mu mw mx aw my bi"><span id="2673" class="ls lt iq mu b gy mz na l nb nc">venn2([set(label_1), set(label_2)], set_labels = ('Hate Speech', 'Not Hate Speech'))</span><span id="3ab1" class="ls lt iq mu b gy nd na l nb nc">plt.title('Comparison of Unique Words in Each Corpus Label')</span></pre><p id="a6d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一步是<strong class="ky ir">保存图片并在演示中使用它！</strong></p><pre class="kg kh ki kj gt mv mu mw mx aw my bi"><span id="8d74" class="ls lt iq mu b gy mz na l nb nc">plt.savefig('venn_diagram.png', bbox_inches = "tight", pad_inches=.5)</span></pre><p id="32b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了标题和标签，你还可以<strong class="ky ir">添加更多的圆</strong>、<strong class="ky ir">改变圆的颜色</strong>、<strong class="ky ir">添加轮廓</strong>、<strong class="ky ir">改变尺寸</strong>等等。还有其他博客详细介绍了如何做到这一点，我将在下面链接这些博客。</p><ul class=""><li id="cba1" class="ne nf iq ky b kz la lc ld lf ng lj nh ln ni lr nj nk nl nm bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/how-to-create-and-customize-venn-diagrams-in-python-263555527305">如何用Python创建和定制维恩图</a></li><li id="b5f9" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/how-to-design-professional-venn-diagrams-in-python-693c9ed2c288">如何用Python设计专业的维恩图</a></li></ul><p id="5464" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在探索性数据分析阶段，我们不断地<strong class="ky ir">询问关于数据的问题</strong>和<strong class="ky ir">利用隐藏的洞察力</strong>。下一次你发现自己在创建一个复杂的可视化并且<strong class="ky ir">在努力传达这些见解</strong>，解决方案可能是<strong class="ky ir">简化它</strong>。我们不应该忽视基本的可视化，如维恩图！</p></div></div>    
</body>
</html>