<html>
<head>
<title>Xgboost with AWS Sagemaker 2.20 ‘Debugger’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带AWS Sagemaker 2.20的Xgboost '调试器'</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/xgboost-with-aws-sagemaker-2-20-debugger-41429236f80d?source=collection_archive---------37-----------------------#2021-06-09">https://towardsdatascience.com/xgboost-with-aws-sagemaker-2-20-debugger-41429236f80d?source=collection_archive---------37-----------------------#2021-06-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b491" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">用几行Python代码快速简单地获得完整的数据科学分析报告</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/97ea64197bf0acff6a1e50fd070b0807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*01_DZ_pxlljdUHKjIkF0wA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@michaelfousert?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">迈克尔·福塞特</a>在<a class="ae ky" href="https://unsplash.com/s/photos/lego-paris?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="e493" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">文章合著者</em> <strong class="lb iu"> <em class="lv"> </em> </strong> <em class="lv">作者:</em> @bonnefoypy，Olexya公司CEO。</p><p id="01ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lw translated"><span class="l lx ly lz bm ma mb mc md me di"> D </span>由于数据量巨大，使用自动化库寻找更快分析的技巧是成为独角兽数据科学家的一个关键优势。AWS sagemaker提供了各种工具，用于在几行代码中开发机器和深度学习模型。对于任何数据科学家来说，机器学习的过程都是极具挑战性的，包括处理缺失数据、编码数据类型、计算特征之间的关联-相关性、塑造数据结构、选择正确的模型以及为推理进行经济高效的模型部署。在本文中，我们将回顾AWS‘debugger’的最新版本(Sagemaker 2.20)，该版本使用众所周知的XGboost算法，使用少量python代码行生成一流的数据科学分析报告。</p><p id="41d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将分析成人糖尿病数据集，您可以通过以下代码阅读:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="cb90" class="mk ml it mg b gy mm mn l mo mp">import pandas as pd <br/> <br/> data = pd.read_csv('diabetes.csv')<br/> data <br/> <br/> X_display = data.drop('Diabetes', axis = 1)<br/> y_display= data['Diabetic']</span><span id="2703" class="mk ml it mg b gy mq mn l mo mp">display(X_display.describe())<br/>hist = X_display.hist(bins=30, sharey=True, figsize=(20, 10))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/2559ae0e6786c3186bdbb33bdca996fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UMNd7y0ZFXw6EmVnPTgvFA.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/08181cb89a12afab270f373b3ff2c9fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7wKsuwAnf7wkxdh4mNYsmw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">数据集描述(</strong>图片由作者提供)</p></figure><p id="d55a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将数据分为训练集、验证集和测试集，并使用以下代码将其保存到我们的AWS S3数据存储中(有关完整的分析，请查看以下网址中的完整代码) :</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="95ef" class="mk ml it mg b gy mm mn l mo mp">import sagemaker, boto3, os</span><span id="f1a7" class="mk ml it mg b gy mq mn l mo mp">bucket = sagemaker.Session().default_bucket()</span><span id="8afc" class="mk ml it mg b gy mq mn l mo mp">prefix = "demo-sagemaker-xgboost-diabetes -prediction"</span><span id="4ff2" class="mk ml it mg b gy mq mn l mo mp">boto3.Session().resource('s3').Bucket(bucket).Object(os.path.join(prefix, 'data/train.csv')).upload_file('train.csv')</span><span id="b3ce" class="mk ml it mg b gy mq mn l mo mp">boto3.Session().resource('s3').Bucket(bucket).Object(os.path.join(prefix, 'data/validation.csv')).upload_file('validation.csv')</span></pre><p id="f05b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="1a8c" class="mk ml it mg b gy mm mn l mo mp">AWS Region: eu-west-3</span><span id="53b8" class="mk ml it mg b gy mq mn l mo mp">RoleArn: arn:aws:iam::61xxxxxx :role/service-role/AmazonSageMaker-ExecutionRole-eu-west-3-philippe-bouaziz</span></pre><p id="f550" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AWS地区:欧盟-西方-3</p><p id="bde6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">role arn:arn:AWS:iam::61 xxxxx:role/service-role/Amazon管理人员-执行role-eu-west-3-Philippe-bouaziz</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="238d" class="mk ml it mg b gy mm mn l mo mp">from sagemaker.debugger import Rule, rule_configs</span><span id="dc5d" class="mk ml it mg b gy mq mn l mo mp">from sagemaker.session import TrainingInput</span><span id="e8ca" class="mk ml it mg b gy mq mn l mo mp">s3_output_location='s3://{}/{}/{}'.format(bucket, prefix, 'xgboost_model')</span><span id="0c19" class="mk ml it mg b gy mq mn l mo mp">container=sagemaker.image_uris.retrieve("xgboost", region, "1.2-1")</span><span id="8cb7" class="mk ml it mg b gy mq mn l mo mp">print(container)</span></pre><p id="f1ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="4567" class="mk ml it mg b gy mm mn l mo mp">61xxxxxx.dkr.ecr.eu-west-3.amazonaws.com/sagemaker-xgboost:1.2-1</span></pre><p id="df25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用各种参数和规则轻松个性化我们的模型，如下面的代码所示:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="6a0a" class="mk ml it mg b gy mm mn l mo mp">xgb_model=sagemaker.estimator.Estimator(image_uri=container,</span><span id="402c" class="mk ml it mg b gy mq mn l mo mp">role=role,</span><span id="c9af" class="mk ml it mg b gy mq mn l mo mp">instance_count=1,</span><span id="916f" class="mk ml it mg b gy mq mn l mo mp">instance_type='ml.m5.large',</span><span id="843c" class="mk ml it mg b gy mq mn l mo mp">volume_size=5,</span><span id="2b06" class="mk ml it mg b gy mq mn l mo mp">output_path=s3_output_location,</span><span id="25fa" class="mk ml it mg b gy mq mn l mo mp">sagemaker_session=sagemaker.Session(),</span><span id="f940" class="mk ml it mg b gy mq mn l mo mp">rules=[Rule.sagemaker(rule_configs.create_xgboost_report())])</span></pre><p id="48c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">超参数的设置可以在一个步骤中完成:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="56f9" class="mk ml it mg b gy mm mn l mo mp">xgb_model.set_hyperparameters(max_depth = 5,</span><span id="e3b1" class="mk ml it mg b gy mq mn l mo mp">eta = 0.2,</span><span id="8558" class="mk ml it mg b gy mq mn l mo mp">gamma = 4,</span><span id="26dd" class="mk ml it mg b gy mq mn l mo mp">min_child_weight = 6,</span><span id="1bbf" class="mk ml it mg b gy mq mn l mo mp">subsample = 0.7,</span><span id="a972" class="mk ml it mg b gy mq mn l mo mp">objective = "binary:logistic",</span><span id="56c8" class="mk ml it mg b gy mq mn l mo mp">num_round = 1000</span><span id="dd9b" class="mk ml it mg b gy mq mn l mo mp">)</span></pre><p id="cd3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们可以轻松地拟合我们的模型:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="ae93" class="mk ml it mg b gy mm mn l mo mp">xgb_model.fit({"train": train_input, "validation": validation_input}, wait=True)</span></pre><p id="4b69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/de839345cbb7f674c4400095f482bd9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y3qjRUgIeCTh_EdRZb_Nqw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt"> Xgboost算法训练和验证错误(</strong>图片由作者提供)</p></figure><p id="4906" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数数据科学家声称，真正的工作是从迭代这一步开始的，找到最佳超参数是部署最佳模型的关键。一份清晰的数据科学分析报告可能是成功结果的重要过渡。AWS sagemaker调试器用如下所示的几行代码提供了两个报告，满足了这一需求:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="a1e7" class="mk ml it mg b gy mm mn l mo mp">from IPython.display import FileLink, FileLinks</span><span id="8053" class="mk ml it mg b gy mq mn l mo mp">display("Click link below to view the XGBoost Training report",</span><span id="9f14" class="mk ml it mg b gy mq mn l mo mp">FileLink("CreateXgboostReport/xgboost_report.html"))</span><span id="0ad9" class="mk ml it mg b gy mq mn l mo mp">profiler_report_name = [rule["RuleConfigurationName"]</span><span id="743c" class="mk ml it mg b gy mq mn l mo mp">for rule in xgb_model.latest_training_job.rule_job_summary()</span><span id="e96e" class="mk ml it mg b gy mq mn l mo mp">if "Profiler" in rule["RuleConfigurationName"]][0]</span><span id="bbd1" class="mk ml it mg b gy mq mn l mo mp">profiler_report_name</span><span id="b7ac" class="mk ml it mg b gy mq mn l mo mp">display("Click link below to view the profiler report",</span><span id="56b3" class="mk ml it mg b gy mq mn l mo mp">FileLink(profiler_report_name+"/profiler-output/profiler-report.html"))</span><span id="d93a" class="mk ml it mg b gy mq mn l mo mp">xgb_model.model_data</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/e68c370cd108b14057bf38198bfca98b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*IOSoFve3MvLQP3ZkqR3ing.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="f079" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> XGboost profiler报告</strong></p><p id="3783" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">profiler报告显示每个工作线程(节点)的资源利用率统计信息，例如总CPU和GPU利用率，以及CPU和GPU上的内存利用率。该表还显示了数据的描述性统计，包括最小值和最大值以及p99、p90和p50百分位数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/7fede31122f36096954a0b787ac319ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*Bt6-hPcXEusvALb3hiLMzQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">资源利用统计(</strong>图片由作者提供)</p></figure><p id="95fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">报告的第二部分演示了在培训工作中使用的调试器内置规则的完整概要。最佳参数包括:批量大小、异常值、清晰显示表格中的数据加载器配置，表明数据流中未来的成本效益改进。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/8f5d1d2e438e07291f974fa5e80b4d45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*KPnosDfXHdYyIp7JvkfQ7w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">调试器内置规则参数(</strong>图片由作者提供)</p></figure><p id="4a35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该报告还分析了在训练实例上并行运行的数据加载进程的数量，并将其与核心总数进行了比较。如果该数量少于70%,则可能会降低数据处理速度，从而导致更高的费用；如果该数量大于200%,则内核总数可能会降低模型在CPU上的性能。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/22d7829ea7537a1f34869f402b49be6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*G83fTxSkWLcWxN3QncScYg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">数据加载流程报告</strong></p></figure><p id="247a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多详情参见本<a class="ae ky" href="https://github.com/awslabs/sagemaker-debugger" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> github </strong> </a>。</p></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><p id="0be3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> XGBoost培训报告</strong></p><p id="7538" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此报告提供了XGBoost模型培训评估结果的摘要、模型性能的见解以及交互式图表。在创建报告的过程中，包括绘图在内的输出会自动保存到S3，如以下代码所示:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="8569" class="mk ml it mg b gy mm mn l mo mp"># Parameters</span><span id="f443" class="mk ml it mg b gy mq mn l mo mp">path = "/opt/ml/processing/input/tensors"</span><span id="4418" class="mk ml it mg b gy mq mn l mo mp">plot_step = 995</span><span id="235c" class="mk ml it mg b gy mq mn l mo mp">s3_path = "s3://sagemaker-eu-west-3-xxxx/demo-sagemaker-xgboost-adult-diabetes-prediction/xgboost_model/sagemaker-xgboost-2021-06-04-08-56-51-612/debug-output"</span></pre><p id="4eca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该报告包括数据集的真实(目标)标签的直方图。您可以看到目标标签的<strong class="lb iu">分布是否不平衡(用于分类),建议通过生成合成样本、重采样或收集更多数据来校正我们的数据集。该分布还显示了数据集的左偏度或右偏度(用于回归)，建议使用numpy.log或numpy。exp来减少我们数据的偏斜度。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/62458c0a62b908009e9857de6ba24c77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*g9_EqJxk087eVqpE4WQmGA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">目标分布</strong>(图片由作者提供)</p></figure><p id="4c31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本报告的另一个重要情节是<strong class="lb iu">特征重要性</strong>。该方法根据输入要素在预测标注变量时的有用程度为输入要素分配分数。对于我们的Xgboost算法，考虑了3个参数:</p><p id="8b6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">权重</strong>(或频率)是模型中出现的相对特征的百分比。</p><p id="e5e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">增益</strong>是解释每个特征相对重要性的最相关属性。</p><p id="08e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">覆盖率</strong>通过特征测量观察值的数量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/1eed152d3315190c19e11d40f5ea79ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*mjxQjvdiLAbaGlgCpBRRsQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">功能重要性图表(</strong>图片由作者提供)</p></figure><p id="eda0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SageMaker调试器还描述了XGBoost学习任务参数的损失值曲线，更多细节请参考此<a class="ae ky" href="https://xgboost.readthedocs.io/en/latest/parameter.html#learning-task-parameters" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">链接</strong> </a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/81e86d5beb4e343d589a20b08c4176a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*0qQwZMXf48nxPviZFmPtrA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">训练和验证损失曲线(</strong>图片由作者提供)</p></figure><p id="9d1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些损失曲线给了我们宝贵的见解。如果模型过度拟合，我们的模型会拟合太多的训练数据，这会导致对验证集的负面模型估计。如果模型不合适，则模型参数设置不正确。</p><p id="bf4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于Xgboost，如果模型不合适，您可能希望通过增加树的深度(max_depth)、减少正则化参数(lambda，alpha)或者甚至减少gamma和eta参数来调整参数。如果模型过拟合，您可能希望减少每棵树的深度max_depth，增加min_child_weight，甚至增加其他有价值的参数，如gamma和eta、lambda和alpha、subsample和colsample_bytree。</p><p id="89f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该报告的另一个关键要素是评估性能指标，如混淆矩阵、精确度、召回率、F分数和操作特性曲线。如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/277b56b861850acd42313b6b4274e374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*u2xoYc58vrA3LETPwaw_9A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">分类器混淆矩阵(</strong>图片由作者提供)</p></figure><p id="055f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的混淆矩阵显示了分类结果。对角线单元上的真正计数和非对角线单元上的误分类预测数。</p><p id="7a1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">包括准确度、精确度、召回率和F1得分在内的性能模型得分指标的完整摘要还提供了使用<a class="ae ky" href="https://scikit-learn.org/stable/modules/model_evaluation.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Scikit-learn指标和评分API</strong></a>的功能，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/d6ff2669f1ce26b4fa543bfb12658e3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*U-Ekc4rGXDC2G8QmxCdzjw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">分类器性能报告(</strong>图片由作者提供)</p></figure><p id="f617" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">接收器工作特性</strong> <strong class="lb iu">曲线</strong>显示了TPR与FPR的比值以及用于评估二元分类的<strong class="lb iu">曲线下面积(AUC) </strong>。如果AUC值接近1，则模型性能最佳，否则，如果AUC小于0.6，则意味着模型性能不佳，需要进一步调整参数，甚至改变模型算法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/c7ac2cdc19541571ee8944a7f41e889f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*BuUtp73SL93ciuD58v7hsA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt"> Roc曲线(</strong>图片由作者提供)</p></figure><p id="f2db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，报告显示了残差直方图的<strong class="lb iu">分布。对于<strong class="lb iu">回归</strong>，直方图应显示一个值为零的良好模型训练的正态分布。对于<strong class="lb iu">分类</strong>，残差显示正确预测计数与错误预测计数的比率。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/70e650970ab96c20a2a8b2cdb77a3c02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*c6clf7rDznVGE1CsaAgOWg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mt">残差分布(</strong>图片由作者提供)</p></figure><p id="024d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总之，AWS sagemaker调试器可从panda数据帧轻松生成配置文件报告，为找到模型最佳参数和模型训练的最佳技术条件提供重要见解，这是高效模型训练和部署的重要步骤。</p></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><p id="32f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文是对AWS Xgboost调试器和另一个数据集的回顾，仅用于教学目的，所使用的代码已被修改(图表大小、颜色、质量、格式)，仅用于设计目的。有关SageMaker调试器的更多信息，请参见<a class="ae ky" href="https://docs.aws.amazon.com/sagemaker/latest/dg/debugger-training-xgboost-report.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> SageMaker调试器XGBoost、</strong> <strong class="lb iu">训练报告</strong> </a>和<a class="ae ky" href="https://docs.aws.amazon.com/sagemaker/latest/dg/debugger-profiling-report.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> SageMaker调试器剖析报告</strong> </a>。</p></div></div>    
</body>
</html>