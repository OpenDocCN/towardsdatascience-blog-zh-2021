<html>
<head>
<title>How to Print a Full NumPy Array Without Truncation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在不截断的情况下打印完整的 NumPy 数组</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/print-numpy-array-without-truncation-2d8fc97ca418?source=collection_archive---------15-----------------------#2021-11-04">https://towardsdatascience.com/print-numpy-array-without-truncation-2d8fc97ca418?source=collection_archive---------15-----------------------#2021-11-04</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="3c43" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">探索在不截断的情况下打印 NumPy 数组的几种不同方法</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/ebb0954988ef942e531a300b831255cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Ecv84RerTOkrXdmv2SoAw.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@sstoppo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">阳光摄影</a>在<a class="ae kz" href="https://unsplash.com/s/photos/eraser?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="19aa" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h2><p id="26a7" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">当打印出 NumPy 数组时，由于大量的元素，默认情况下输出可能会被截断。虽然在大多数情况下这不是问题，但有时您可能必须完整地打印出数组，以便能够检查完整的内容。</p><p id="5d05" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">在今天的简短指南中，我们将探索将 NumPy 数组打印到标准输出而不进行任何截断的几种不同方法。具体来说，我们将展示如何做到这一点</p><ul class=""><li id="94a6" class="mu mv iu ly b lz mp mc mq lj mw ln mx lr my mo mz na nb nc bi translated">使用<code class="fe nd ne nf ng b">set_printoptions</code>方法</li><li id="f1ff" class="mu mv iu ly b lz nh mc ni lj nj ln nk lr nl mo mz na nb nc bi translated">使用<code class="fe nd ne nf ng b">printoptions</code>上下文管理器</li><li id="c018" class="mu mv iu ly b lz nh mc ni lj nj ln nk lr nl mo mz na nb nc bi translated">通过将 NumPy 数组转换成列表的列表</li></ul></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><p id="a758" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">首先，让我们创建一个示例 NumPy 数组，我们将在这篇短文中引用它来演示一些概念。</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="596b" class="la lb iu ng b gz nx ny l nz oa">import numpy as np</span><span id="4abb" class="la lb iu ng b gz ob ny l nz oa"># Create a dummy NumPy array consisting of 250 rows and 40 columns<br/>my_arr = np.arange(10000).reshape(250, 40)<br/>print(my_arr)</span><span id="0714" class="la lb iu ng b gz ob ny l nz oa"><em class="oc">array([[   0,    1,    2, ...,   37,   38,   39],<br/>       [  40,   41,   42, ...,   77,   78,   79],<br/>       [  80,   81,   82, ...,  117,  118,  119],<br/>       ...,<br/>       [9880, 9881, 9882, ..., 9917, 9918, 9919],<br/>       [9920, 9921, 9922, ..., 9957, 9958, 9959],<br/>       [9960, 9961, 9962, ..., 9997, 9998, 9999]])</em></span></pre><p id="1b06" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">正如您在上面看到的，当输出到标准输出时，numpy 数组的列和行都被截断。</p></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="6ece" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用<code class="fe nd ne nf ng b">set_printoptions</code>方法</h2><p id="93bd" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated"><code class="fe nd ne nf ng b"><a class="ae kz" href="https://numpy.org/doc/stable/reference/generated/numpy.set_printoptions.html" rel="noopener ugc nofollow" target="_blank">numpy.set_printoptions</a></code>是一种用于配置显示选项的方法，例如数组、浮点数和其他<code class="fe nd ne nf ng b">numpy</code>对象显示到标准输出的方式。</p><p id="d10c" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">在<code class="fe nd ne nf ng b">set_printoptions</code>中接受的参数之一是<code class="fe nd ne nf ng b">threshold</code>，它对应于触发全表示汇总的数组元素的总数。默认情况下，该值设置为<code class="fe nd ne nf ng b">1000</code>。为了在没有总结的情况下触发完整的表示，您应该将<code class="fe nd ne nf ng b">threshold</code>设置为<code class="fe nd ne nf ng b"><a class="ae kz" href="https://docs.python.org/dev/library/sys.html#sys.maxsize" rel="noopener ugc nofollow" target="_blank"><strong class="ly iv">sys.maxsize</strong></a></code>。</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="2593" class="la lb iu ng b gz nx ny l nz oa">import sys<br/>import numpy as np</span><span id="1f4b" class="la lb iu ng b gz ob ny l nz oa"><strong class="ng iv">np</strong><strong class="ng iv">.set_printoptions(threshold=sys.maxsize)</strong></span></pre><p id="76a9" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">此外，如果您还想通过在调用<code class="fe nd ne nf ng b">set_printoptions()</code>时指定<code class="fe nd ne nf ng b">precision</code>参数来调整浮点输出的精度。</p></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="b0cb" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用 printoptions 上下文管理器</h2><p id="a080" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在许多情况下，您可能希望完全打印一个或几个 numpy 数组，然后使用默认选项。在这种情况下，上下文管理器是一个非常有用的构造，可以帮助您做到这一点。</p><p id="28b6" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">NumPy 附带了一个名为<code class="fe nd ne nf ng b"><a class="ae kz" href="https://numpy.org/doc/stable/reference/generated/numpy.printoptions.html#numpy.printoptions" rel="noopener ugc nofollow" target="_blank">np.printoptions</a></code>的上下文管理器，帮助您在<code class="fe nd ne nf ng b">with</code>块的范围内设置打印选项，然后在最后恢复旧的选项。</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="c875" class="la lb iu ng b gz nx ny l nz oa">import sys<br/>import numpy as np</span><span id="c709" class="la lb iu ng b gz ob ny l nz oa"><strong class="ng iv">with np.printoptions(threshold=sys.maxsize):<br/>    print(my_arr)</strong></span></pre></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="dc78" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">将数组转换为列表</h2><p id="0237" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">前一种方法的另一种替代方法是使用<code class="fe nd ne nf ng b"><a class="ae kz" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.tolist.html" rel="noopener ugc nofollow" target="_blank">numpy.ndarray.tolist()</a></code>方法将 NumPy 数组转换成一个列表。</p><pre class="kk kl km kn gu nt ng nu nv aw nw bi"><span id="bae5" class="la lb iu ng b gz nx ny l nz oa">import numpy as np</span><span id="09b3" class="la lb iu ng b gz ob ny l nz oa"><br/><strong class="ng iv">print(my_arr.tolist())</strong></span></pre></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><h2 id="78f3" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h2><p id="f311" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的简短指南中，我们探索了几种完全打印 NumPy 数组的不同方法。默认情况下，在标准输出中打印的数组可能会被截断(取决于它们的大小/元素)。</p><p id="55f0" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">在许多情况下，您可能希望完整地查看所有元素，因此本文中介绍的选项是一个很好的参考，可以帮助您做到这一点。</p></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="ly iv">成为会员</strong> </a> <strong class="ly iv">阅读媒体上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="od oe gq gs of og"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">通过我的推荐链接加入 Medium-Giorgos Myrianthous</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated"><strong class="ly iv">你可能也会喜欢</strong></p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/16-must-know-bash-commands-for-data-scientists-d8263e990e0e"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">数据科学家必须知道的 16 个 Bash 命令</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">探索一些最常用的 bash 命令</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ov l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/whats-the-difference-between-shallow-and-deep-copies-in-python-ceee1e061926"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">Python 中浅拷贝和深拷贝有什么区别？</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">Python 中的 copy()与 deepcopy()</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nm nn hy no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/8-must-know-venv-commands-for-data-scientists-and-engineers-dd81fbac0b38"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">数据科学家和工程师必须知道的 8 个 venv 命令</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">探索一些对 Python 日常编程最有用的虚拟环境命令</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ox l or os ot op ou kt og"/></div></div></a></div></div></div>    
</body>
</html>