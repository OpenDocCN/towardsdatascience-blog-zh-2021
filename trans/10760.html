<html>
<head>
<title>4 simple tips for plotting multiple graphs in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python绘制多个图形的4个简单技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-simple-tips-for-plotting-multiple-graphs-in-python-38df2112965c?source=collection_archive---------7-----------------------#2021-10-18">https://towardsdatascience.com/4-simple-tips-for-plotting-multiple-graphs-in-python-38df2112965c?source=collection_archive---------7-----------------------#2021-10-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/4333990a6bc834ae7295309968d559f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6u2YB7rPRpKGNLwz"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://unsplash.com/@deeezyfree?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Peter Olexa </a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="701e" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph">数据可视化</h2><div class=""/><div class=""><h2 id="be8a" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">学习可视化多个支线剧情的有用的简短代码片段</h2></div><p id="dc8d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">当可视化数据时，通常需要在一个图形中绘制多个图形。例如，如果你想从不同的角度观察同一个变量，多图表是很有用的(例如，一个数值变量的并排直方图和箱线图)。在这篇文章中，我分享了4个简单但实用的绘制多个图表的技巧。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi md"><img src="../Images/80cb89fc3c3e5ef9ad16914fba634e5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oJ0dcfzQOxmAdY7b"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">Pawel Czerwinski 在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="02a5" class="mp mq jj bd mr ms mt mu mv mw mx my mz ky na kz nb lb nc lc nd le ne lf nf ng bi translated">资料组📦</h1><p id="713d" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">让我们导入包并更新图表的默认设置，为图表添加一点个人风格。我们将在tips上使用Seaborn的内置数据集:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="5b0a" class="nr mq jj nn b gy ns nt l nu nv">import seaborn as sns # v0.11.2<br/>import matplotlib.pyplot as plt # v3.4.2<br/>sns.set(style='darkgrid', context='talk', palette='rainbow')</span><span id="f4be" class="nr mq jj nn b gy nw nt l nu nv">df = sns.load_dataset('tips')<br/>df.head()</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/3058d6856ff39efe67edc16e8b68c09b.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*ua3iTOc-Q8a6ZyBah_K3MA.png"/></div></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="f5f2" class="mp mq jj bd mr ms mt mu mv mw mx my mz ky na kz nb lb nc lc nd le ne lf nf ng bi translated">📍技巧1: plt.subplots()</h1><p id="584b" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">绘制多个支线剧情的一个简单方法是使用<code class="fe ny nz oa nn b">plt.subplots()</code>。以下是绘制2个并排支线剧情的语法示例:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="fb17" class="nr mq jj nn b gy ns nt l nu nv">fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(10,4))<br/>sns.histplot(data=df, x='tip', ax=ax[0])<br/>sns.boxplot(data=df, x='tip', ax=ax[1]);</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/72bd69768c106b94eaf28b3ac0db8a07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*u1N8SwGAwxahKT4sBipKfQ.png"/></div></figure><p id="b877" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这里，我们在一个图形中绘制了两个支线剧情。我们可以进一步定制每个支线剧情。例如，我们可以像这样给每个支线剧情添加标题:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="5d72" class="nr mq jj nn b gy ns nt l nu nv">fig, ax = plt.subplots(1, 2, figsize=(10,4))<br/>sns.histplot(data=df, x='tip', ax=ax[0])<br/>ax[0].set_title("Histogram")<br/>sns.boxplot(data=df, x='tip', ax=ax[1])<br/>ax[1].set_title("Boxplot");</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/2cf77238cb3230d5340d75f7397c257a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*GkDHZqCk8ZLUYo3UCs7Dhw.png"/></div></figure><p id="2fd4" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以将循环中所有数值变量的同一组图形可视化:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="e87e" class="nr mq jj nn b gy ns nt l nu nv">numerical = df.select_dtypes('number').columns</span><span id="fd87" class="nr mq jj nn b gy nw nt l nu nv">for col in numerical:<br/>    fig, ax = plt.subplots(1, 2, figsize=(10,4))<br/>    sns.histplot(data=df, x=col, ax=ax[0])<br/>    sns.boxplot(data=df, x=col, ax=ax[1]);</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi od"><img src="../Images/7840e4fdb1f9b8d20411c40779c2965b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*iCd4_ItQklslvHbM1lQolA.png"/></div></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="b20d" class="mp mq jj bd mr ms mt mu mv mw mx my mz ky na kz nb lb nc lc nd le ne lf nf ng bi translated">📍技巧2: plt.subplot()</h1><p id="361c" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">另一种可视化多个图形的方法是使用<code class="fe ny nz oa nn b">plt.subplot()</code>而不在末尾使用<code class="fe ny nz oa nn b">s</code>。语法与之前略有不同:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="3ac5" class="nr mq jj nn b gy ns nt l nu nv">plt.figure(figsize=(10,4))<br/>ax1 = plt.subplot(1,2,1)<br/>sns.histplot(data=df, x='tip', ax=ax1)<br/>ax2 = plt.subplot(1,2,2)<br/>sns.boxplot(data=df, x='tip', ax=ax2);</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/034f97f6ac99eed90dc9676324c372e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*6vUjM1VO0eaFC4gGagJ2Dw.png"/></div></figure><p id="1a13" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果您想要为多个图绘制相同类型的图形，并在一个图中查看所有内容，这种方法特别有用:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="89c5" class="nr mq jj nn b gy ns nt l nu nv">plt.figure(figsize=(14,4))<br/>for i, col in enumerate(numerical):<br/>    ax = plt.subplot(1, len(numerical), i+1)<br/>    sns.boxplot(data=df, x=col, ax=ax)</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oe"><img src="../Images/5a61e95367d5ac1e3c42df6cf296fee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*76gUhEAzC8SQaDWv_rzf9A.png"/></div></div></figure><p id="7bc1" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以像以前一样进一步定制每个支线剧情。例如，让我们为每个情节添加一个标题:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="e97e" class="nr mq jj nn b gy ns nt l nu nv">plt.figure(figsize=(14,4))<br/>for i, col in enumerate(numerical):<br/>    ax = plt.subplot(1, len(numerical), i+1)<br/>    sns.boxplot(data=df, x=col, ax=ax) <br/>    ax.set_title(f"Boxplot of {col}")</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/09ec3ab8a1d8ab0f2298ae855caa2732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZMPBZV06IZuWG6_7ORBTcg.png"/></div></div></figure><p id="dd8d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">学过<code class="fe ny nz oa nn b">plt.subplots()</code>和<code class="fe ny nz oa nn b">plt.subplot()</code>之后，下面的对比有助于理解两者的异同:</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi og"><img src="../Images/c78257d136f6e98c928954c1ddcb6d9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*TH6KO5j_pKHV30MWzCS3lg.png"/></div></figure><p id="0bb0" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">熟悉这两种方法是很有用的，因为它们在不同的情况下会派上用场。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="724e" class="mp mq jj bd mr ms mt mu mv mw mx my mz ky na kz nb lb nc lc nd le ne lf nf ng bi translated">📍技巧3: plt.tight_layout()</h1><p id="36dd" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">绘制多个图形时，通常会看到一些支线剧情的标签重叠在相邻支线剧情上，如下所示:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="0314" class="nr mq jj nn b gy ns nt l nu nv">categorical = df.select_dtypes('category').columns</span><span id="3d25" class="nr mq jj nn b gy nw nt l nu nv">plt.figure(figsize=(8, 8))<br/>for i, col in enumerate(categorical):<br/>    ax = plt.subplot(2, 2, i+1)<br/>    sns.countplot(data=df, x=col, ax=ax)</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/234534bb34d6f437e720ea88a7609c88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*4XhQ50jGnqV4diNMJ_dGbA.png"/></div></figure><p id="90ec" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">顶部两个图表的x轴上的变量名被切掉，并且右边的图的y轴标签与左边的子图重叠。使用<code class="fe ny nz oa nn b">plt.tight_layout()</code>很容易解决这个问题:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="b079" class="nr mq jj nn b gy ns nt l nu nv">plt.figure(figsize=(8, 8))<br/>for i, col in enumerate(categorical):<br/>    ax = plt.subplot(2, 2, i+1)<br/>    sns.countplot(data=df, x=col, ax=ax) <br/>plt.tight_layout()</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/cfe6358958d9bafaae95d6b2930d6efb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*qNAQf4HN1Ge2urrbPseeRw.png"/></div></figure><p id="2209" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">瞧啊。现在看起来好多了。在绘制多个图形时，我几乎总是使用<code class="fe ny nz oa nn b">plt.tight_layout()</code>来防止重叠。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="1eef" class="mp mq jj bd mr ms mt mu mv mw mx my mz ky na kz nb lb nc lc nd le ne lf nf ng bi translated">📍技巧4: plt.suptitle()</h1><p id="1c9f" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">最后，如果您想给整个图加标题，这个技巧很有用:</p><pre class="me mf mg mh gt nm nn no np aw nq bi"><span id="00af" class="nr mq jj nn b gy ns nt l nu nv">plt.figure(figsize=(8, 8))<br/>for i, col in enumerate(categorical):<br/>    ax = plt.subplot(2, 2, i+1)<br/>    sns.countplot(data=df, x=col, ax=ax) <br/>plt.suptitle('Category counts for all categorical variables')<br/>plt.tight_layout()</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/b457c0208b4223752a587a9542f1530f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*n48XmJUzouDGRD7IOD1FWg.png"/></div></figure><p id="f591" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">此外，你可以自定义你喜欢的单独的情节。例如，你仍然可以为每个支线剧情添加标题。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/2fabe0ce0c50f6c5d92465586584cbb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c7Ab9nrpnVBu40Ca"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><a class="ae jg" href="https://unsplash.com/@enginakyurt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> engin akyurt </a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="3505" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><em class="ol">您想访问更多这样的内容吗？媒体会员可以无限制地访问媒体上的任何文章。如果你使用</em> <a class="ae jg" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="ol">我的推荐链接</em></a><em class="ol">成为会员，你的一部分会费会直接去支持我。</em></p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="7948" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">感谢您阅读这篇文章。希望你下次在Python中绘制多个支线剧情时能够应用这些有用的技巧。如果你是一个求知欲很强的学习者，想要了解更多关于这个主题的知识，<a class="ae jg" href="https://jakevdp.github.io/PythonDataScienceHandbook/04.08-multiple-subplots.html" rel="noopener ugc nofollow" target="_blank">这个</a>资源会很有帮助。如果你热衷于学习更多的数据可视化技巧，这里有一些我关于数据可视化的帖子:</p><p id="26d7" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">◼️ <a class="ae jg" rel="noopener" target="_blank" href="/prettifying-pandas-dataframes-75c1a1a6877d">美化熊猫数据帧</a> <br/> ◼ <a class="ae jg" rel="noopener" target="_blank" href="/simple-data-visualisations-in-python-that-you-will-find-useful-5e42c92df51e">用Python实现简单的数据可视化，你会发现很有用</a> ️ <br/> ◼️ <a class="ae jg" rel="noopener" target="_blank" href="/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393">在Seaborn (Python)中实现更漂亮和定制情节的6个简单技巧</a></p><p id="d9f2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">再见🏃 💨</p></div></div>    
</body>
</html>