<html>
<head>
<title>Visualizing Skill Assessment Metrics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可视化技能评估指标</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizing-skill-assessment-metrics-24454e63385c?source=collection_archive---------23-----------------------#2021-04-14">https://towardsdatascience.com/visualizing-skill-assessment-metrics-24454e63385c?source=collection_archive---------23-----------------------#2021-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3a2f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">评估你的模型有多“好”</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ca3c141e8edeadcd96760e12f1e75d1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*COoAW63LtuD81Jhe"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@wladkiselev?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">弗拉德·基塞洛夫</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="403d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论是评估回归模型还是地球系统模型，我们都需要能够量化它的“好”，这可能是主观的。这篇文章讨论了一套常用的技能评估指标，它们的优点，以及如何可视化或解释它们。每个指标将模型的<strong class="lb iu"> <em class="lv">预测值(P) </em> </strong>与一组<strong class="lb iu"> <em class="lv">实际观察值(A) </em> </strong> <em class="lv">进行比较。</em></p><p id="2be3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不主张选择一个度量标准来量化好，而是提倡综合并呈现一套标准。在这篇文章中，我将讨论:<code class="fe lw lx ly lz b">bias</code>、<code class="fe lw lx ly lz b">MAE</code>、<code class="fe lw lx ly lz b">RMSE</code>、<code class="fe lw lx ly lz b">NSE</code>和<code class="fe lw lx ly lz b">RI</code>。我将描述每个指标，展示它的可视化，并展示如何用Python对它进行编码。前三个(<code class="fe lw lx ly lz b">bias</code>、<code class="fe lw lx ly lz b">MAE</code>和<code class="fe lw lx ly lz b">RMSE</code>)是一个数字，用来量化预测的偏差程度。每一种都提供不同的信息，应该在分析中提出。</p><p id="60d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他两个指标<code class="fe lw lx ly lz b">NSE</code>和<code class="fe lw lx ly lz b">RI</code>应谨慎解读，因为它们涉及比率。<code class="fe lw lx ly lz b">NSE</code>量化模型的预测能力，而<code class="fe lw lx ly lz b">RI</code>量化预测在乘法意义上的偏离程度。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="52cd" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">0.交叉绘图</h1><p id="3b2d" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">虽然不是一个技能指标，但这个情节非常重要，值得讨论。每当将预测值与实际数据进行比较时，总是从交会图开始，y轴上的<strong class="lb iu"> <em class="lv">预测值</em> </strong>，x轴上的<strong class="lb iu"> <em class="lv">实际值</em> </strong>，以及一条一对一的对角线。</p><p id="d04e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将预测值放在y轴上，将实际值放在x轴上是很重要的。有了这个约定，一对一线以上的点被高估，线以下的点被低估。因此，坚持这一惯例可以对预测进行快速的视觉评估，并可以告诉你是否存在系统性偏差。</p><h2 id="cef9" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">残差</h2><p id="3465" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">下图显示了交叉图上的数据点，并说明了如何可视化单个数据点的<strong class="lb iu"><em class="lv">【R】</em></strong><em class="lv"/>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/a7bb33c896bbcebb0989b9b62c1186f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LL5G6bG6qZQVAIab74TAvw@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">单个数据点的残差示意图。</p></figure><p id="ea9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了得到正确的符号，残差必须计算为预测值减去实际值。在Python中，残差可以通过按元素减去两个数据集来计算，这通常适用于大多数数据类型:</p><pre class="kj kk kl km gt nr lz ns nt aw nu bi"><span id="ab6b" class="ne mi it lz b gy nv nw l nx ny">residual = prediction - actual</span></pre><p id="1963" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">残差是预测值和实际值之间的差值，它告诉您两条信息:</p><ol class=""><li id="d49b" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated">量级:预测与实际观测的差距有多远</li><li id="eddb" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><strong class="lb iu">符号:</strong>正表示高估，负表示低估</li></ol><blockquote class="on"><p id="a5a0" class="oo op it bd oq or os ot ou ov ow lu dk translated">总是从一个交会图开始，y轴上的<strong class="ak"> <em class="ox">预测值</em> </strong>，x轴上的<strong class="ak"> <em class="ox">实际值</em> </strong>，以及一条一对一的对角线。</p></blockquote><h1 id="2d6d" class="mh mi it bd mj mk oy mm mn mo oz mq mr jz pa ka mt kc pb kd mv kf pc kg mx my bi translated">1.平均误差(偏差)</h1><p id="4e85" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">平均误差或偏差是所有残差的平均值，与符号无关。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/10d653fc0842bd9feb450150cf1810b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Mf55FyjgqMQhmripj-Upg@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">偏差方程(图片由作者提供)</p></figure><p id="559b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个等价的表达偏差的方式是这样的:<code class="fe lw lx ly lz b">bias = mean(P) — mean(A)</code>，因为你可以分配总和。这清楚地表明，偏见仅仅是手段的不同。对偏差的解释是量化预测是否过度或低估的一种快速而肮脏的方法。</p><h2 id="d0e4" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">计算</h2><p id="c239" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">无论你计算的平均误差是所有残差的平均值，</p><pre class="kj kk kl km gt nr lz ns nt aw nu bi"><span id="2ce2" class="ne mi it lz b gy nv nw l nx ny">import numpy as np</span><span id="57a8" class="ne mi it lz b gy pe nw l nx ny">residual = prediction - actual<br/>mean_error = np.mean( residual )</span></pre><p id="762a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者作为两个平均值之间的差异，</p><pre class="kj kk kl km gt nr lz ns nt aw nu bi"><span id="3510" class="ne mi it lz b gy nv nw l nx ny">import numpy as np</span><span id="b301" class="ne mi it lz b gy pe nw l nx ny">bias = np.mean(prediction) - np.mean(actual)</span></pre><p id="e4d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">答案完全一样。</p><blockquote class="on"><p id="e04b" class="oo op it bd oq or pf pg ph pi pj lu dk translated">平均误差是平均残差，与符号无关。</p></blockquote><h2 id="513f" class="ne mi it bd mj nf pk dn mn nh pl dp mr li pm nk mt lm pn nm mv lq po no mx np bi translated">无偏见是什么意思？</h2><p id="b585" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">解释偏差时一定要小心，因为接近零的值可能会引起误解。例如，如果较低的实际值被高估，而较大的值被低估，那么<code class="fe lw lx ly lz b">bias</code>也将出现在零附近。这在下面右边的图中有所说明。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/ea2f9cbf39f84b709c7e0fa482b2e843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p5cGbu4XSPGaC9Ivelg6iQ@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">两个交叉图，每个都有接近零的偏差。</p></figure><p id="ba43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是因为大小相似的正负残差相互抵消，从而导致接近零的<code class="fe lw lx ly lz b">bias</code>。因此，要小心不要过于强调偏见，总是要参考交叉图来为<code class="fe lw lx ly lz b">bias</code>添加上下文。</p><p id="a9cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也可以计算交会图的线性回归斜率，为<code class="fe lw lx ly lz b">bias</code>添加上下文。如果预测与实际观测完全一致，则斜率为1。</p><blockquote class="on"><p id="6d1b" class="oo op it bd oq or pf pg ph pi pj lu dk translated">谨慎解释偏见是很重要的</p></blockquote><h1 id="78b7" class="mh mi it bd mj mk oy mm mn mo oz mq mr jz pa ka mt kc pb kd mv kf pc kg mx my bi translated">2.平均绝对误差</h1><p id="d7a6" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">平均绝对误差<code class="fe lw lx ly lz b">MAE</code>与平均误差相似，只是我们忽略了符号。数学上，这是通过取绝对值来完成的。换句话说，<code class="fe lw lx ly lz b">MAE</code>是残差的平均幅度。值得注意的是没有告诉你错误的方向。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/fbee2d0231ec0094c599e89e23a4649f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cEhev_jnxcmlqzEskRpbtg@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">平均绝对误差方程。这与偏置方程非常相似，只是我们取绝对值。(图片由作者提供)</p></figure><blockquote class="on"><p id="3acc" class="oo op it bd oq or os ot ou ov ow lu dk translated">MAE是残差的平均幅度</p></blockquote><h2 id="47c4" class="ne mi it bd mj nf pk dn mn nh pl dp mr li pm nk mt lm pn nm mv lq po no mx np bi translated">计算</h2><p id="47f3" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">使用<code class="fe lw lx ly lz b">numpy</code>，<code class="fe lw lx ly lz b">MAE</code>是这样计算的:</p><pre class="kj kk kl km gt nr lz ns nt aw nu bi"><span id="a50f" class="ne mi it lz b gy nv nw l nx ny">import numpy as np</span><span id="d43a" class="ne mi it lz b gy pe nw l nx ny">mae = np.mean(np.abs(prediction - actual))</span></pre><p id="1ef1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lw lx ly lz b">sklearn</code>的实现如下所示。</p><pre class="kj kk kl km gt nr lz ns nt aw nu bi"><span id="e8d3" class="ne mi it lz b gy nv nw l nx ny">from sklearn.metrics import mean_absolute_error<br/>mae = mean_absolute_error(actual, prediction)</span></pre><p id="bfe3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际值通常是<code class="fe lw lx ly lz b">sklearn.metrics</code>中的第一个参数，但顺序与MAE无关。</p><blockquote class="on"><p id="9160" class="oo op it bd oq or pf pg ph pi pj lu dk translated">MAE告诉你，平均来说，一个数据点距离一对一的直线有多远</p></blockquote><h1 id="e910" class="mh mi it bd mj mk oy mm mn mo oz mq mr jz pa ka mt kc pb kd mv kf pc kg mx my bi translated">3.均方根误差(RMSE)</h1><p id="7423" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">了解RMSE的最好方法是把它分成以下几个部分:</p><ol class=""><li id="a257" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated"><strong class="lb iu">平方误差</strong> : SE</li><li id="7ef7" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><strong class="lb iu">均方误差</strong> : MSE</li><li id="2ec4" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><strong class="lb iu">均方根误差:</strong> RMSE</li></ol><h2 id="fd94" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">平方误差:标准误差</h2><p id="e330" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">这是通过对每个数据点的残差求平方来计算的，并显示在一个十字图上，就像正方形一样。见下图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/79eda331734ae29dd042e6d96bd7519c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MgVxIFTHqJJ2Vil2T-GXaw@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">交会图上的平方误差示意图。</p></figure><p id="e401" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更准确地说，它被想象成一个区域。如果我们预测的是开尔文温度，那么误差平方的单位是开尔文平方。</p><h2 id="1cb6" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">均方差:MSE</h2><p id="f53c" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">均方误差MSE就是平均“误差面积”。然而，MSE不是一个好的技能指标，因为单位仍然是平方的。MSE随残差呈指数增长，因为它代表一个面积，并且通过对残差求平方来计算。</p><h2 id="a2d6" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">均方根误差:RMSE</h2><p id="7da1" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">求MSE的平方根解决了单位问题，并得到均方根误差(RMSE)。这可以解释为MSE正方形的边长。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/e92bdd0f7cee5e3d226684896c252a53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q8hJ9rbwg-N4AMLYyLHDxQ@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">RMSE方程(图片由作者提供)</p></figure><h2 id="142e" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">计算</h2><p id="da84" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">下面是一个<code class="fe lw lx ly lz b">numpy</code>实现。</p><pre class="kj kk kl km gt nr lz ns nt aw nu bi"><span id="9f0d" class="ne mi it lz b gy nv nw l nx ny">import numpy as np</span><span id="aeca" class="ne mi it lz b gy pe nw l nx ny"># squared error<br/>se = (actual - prediction)**2</span><span id="04ea" class="ne mi it lz b gy pe nw l nx ny"># mean squared error<br/>mse = np.mean(se)</span><span id="6319" class="ne mi it lz b gy pe nw l nx ny"># root mean squared error<br/>rmse = np.sqrt(mse)</span></pre><p id="db39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个<code class="fe lw lx ly lz b">sklearn</code>实现:</p><pre class="kj kk kl km gt nr lz ns nt aw nu bi"><span id="fce3" class="ne mi it lz b gy nv nw l nx ny">from sklearn.metrics import mean_squared_error</span><span id="8d86" class="ne mi it lz b gy pe nw l nx ny"># mean squared error<br/>mse = mean_squared_error(actual, prediction)</span><span id="9860" class="ne mi it lz b gy pe nw l nx ny"># take square root of mse<br/>rmse = np.sqrt(mean_squared_error)</span></pre><h2 id="ecd0" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">RMSE边界</h2><p id="2054" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">看起来似乎<code class="fe lw lx ly lz b">RMSE</code>和<code class="fe lw lx ly lz b">MAE</code>是同一个数字。然而，<code class="fe lw lx ly lz b">RMSE</code>被限制在<code class="fe lw lx ly lz b">MAE</code>和<code class="fe lw lx ly lz b">MAE*sqrt(N)</code>之间。下限是当所有的误差具有相同的幅度时，而上限是当所有的<code class="fe lw lx ly lz b">N</code>点除了一个以外都为零时的情况。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/1aeb101dd351df48498d8fe322b2c005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JHXXWUXGzDIHs31s6fp7Kw@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">RMSE误差界限(图片由作者提供)</p></figure><p id="f40e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">见<a class="ae ky" href="https://medium.com/human-in-a-machine-world/mae-and-rmse-which-metric-is-better-e60ac3bde13d" rel="noopener">这篇文章</a>关于RMSE及其误差范围的详细讨论。</p><blockquote class="on"><p id="f07e" class="oo op it bd oq or pf pg ph pi pj lu dk translated">MSE告诉你平均面积，RMSE告诉你面积的平方长度。</p></blockquote><h2 id="486a" class="ne mi it bd mj nf pk dn mn nh pl dp mr li pm nk mt lm pn nm mv lq po no mx np bi translated">RMSE对重大失误的处罚力度更大</h2><p id="2841" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">RMSE对大错误的惩罚比MAE多，这可能是一个可取的特征。例如，考虑以下两个残差，5和10</p><ul class=""><li id="a3ba" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu pt of og oh bi translated">梅说，10点下班比5点下班“糟糕”两倍。</li><li id="a531" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu pt of og oh bi translated">RMSE说，10点前的失误是5点前的两倍多。这是因为残差首先被平方。</li></ul><blockquote class="on"><p id="43d8" class="oo op it bd oq or os ot ou ov ow lu dk translated">RMSE对重大失误的处罚力度超过了MAE</p></blockquote></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="4979" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">其他指标</h1><p id="dc37" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">以下两个指标与后三个不同。它们是作为比率计算的，因此需要小心解读。每当涉及一个比率时，总有被零或一个非常小的值除的风险。解释NSE和RI时要小心</p><h1 id="820b" class="mh mi it bd mj mk oy mm mn mo oz mq mr jz pu ka mt kc pv kd mv kf pw kg mx my bi translated">4.纳什-萨特克利夫效率</h1><p id="714e" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">Nash-Sutcliffe效率衡量的是预测值相对于观测平均值的准确程度。这与RMSE的根据有关:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi px"><img src="../Images/e05f7ff38232626e619f27793e1a001b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0BGe7lXG-v9HeukWvAd0EA@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">纳什-苏特克利夫效率方程(图片由作者提供)</p></figure><p id="48cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中<code class="fe lw lx ly lz b">var(A)</code>是实际观测值的方差。</p><h2 id="620e" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">计算</h2><p id="fe00" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">这里是<code class="fe lw lx ly lz b">NSE</code>的一个<code class="fe lw lx ly lz b">numpy</code>实现。</p><pre class="kj kk kl km gt nr lz ns nt aw nu bi"><span id="0ffc" class="ne mi it lz b gy nv nw l nx ny">import numpy as np</span><span id="92b7" class="ne mi it lz b gy pe nw l nx ny"># squared error<br/>se = (actual - prediction)**2</span><span id="21c1" class="ne mi it lz b gy pe nw l nx ny"># mean squared error<br/>mse = np.mean(se)</span><span id="f63d" class="ne mi it lz b gy pe nw l nx ny"># nse<br/>nse = 1 - (mse/np.var(actual))</span></pre><h2 id="c97e" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">解释</h2><ul class=""><li id="c269" class="nz oa it lb b lc mz lf na li py lm pz lq qa lu pt of og oh bi translated"><strong class="lb iu"> NSE = 1 </strong>:满分</li><li id="f4b3" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu pt of og oh bi translated"><strong class="lb iu"> NSE = 0 </strong>:表示预测并不比观测平均值好。</li><li id="be99" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu pt of og oh bi translated"><strong class="lb iu"> NSE &lt; 0 </strong>:表示观察平均值是比您的模型更好的预测器</li></ul><h1 id="2200" class="mh mi it bd mj mk oy mm mn mo oz mq mr jz pu ka mt kc pv kd mv kf pw kg mx my bi translated">5.可靠性指数</h1><p id="0684" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">可靠性指数被解释为预测值与实际观测值不同的平均因子。例如，RI为2表示，平均而言，预测值与观测值在乘法因子2的范围内一致。理想情况下，RI应该接近1。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qb"><img src="../Images/e8a6799bc894a69e57b71e16e88e9430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hAjq8avgelDyaVS4OMjt3w@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">可靠性指数方程(图片由作者提供)</p></figure><h2 id="bf6d" class="ne mi it bd mj nf ng dn mn nh ni dp mr li nj nk mt lm nl nm mv lq nn no mx np bi translated">计算</h2><p id="ca2a" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">在数学上，RI从对预测和观测值进行对数转换开始。然后计算RMSE，最后对结果求幂。因此，RI是对数变换预测和观测值的指数RMSE。</p><p id="26b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个<code class="fe lw lx ly lz b">numpy</code>实现。</p><pre class="kj kk kl km gt nr lz ns nt aw nu bi"><span id="4ee9" class="ne mi it lz b gy nv nw l nx ny">import numpy as np</span><span id="47fd" class="ne mi it lz b gy pe nw l nx ny"># logged squared error<br/>log_se = np.log(prediction/actual)**2</span><span id="e2b7" class="ne mi it lz b gy pe nw l nx ny"># log rmse<br/>log_rmse = np.sqrt(np.mean(se))</span><span id="737e" class="ne mi it lz b gy pe nw l nx ny"># reliability inded<br/>ri = np.exp(log_rmse)</span></pre></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="5a9c" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">最后的想法</h1><p id="f04d" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">这篇文章描述了评估模型预测的五个标准，无论是回归模型还是海洋模型。对于<code class="fe lw lx ly lz b">bias</code>、<code class="fe lw lx ly lz b">MAE</code>和<code class="fe lw lx ly lz b">RMSE</code>，越接近零预测越好。对于<code class="fe lw lx ly lz b">NSE</code>和<code class="fe lw lx ly lz b">RI</code>，1分被认为是完美的。我主张显示所有这些指标的完整性。关于海洋科学背景下这些指标的详细讨论，我鼓励你阅读<a class="ae ky" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5375119/" rel="noopener ugc nofollow" target="_blank"> Stow et al. 2009 </a>。</p><p id="cfc1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我没有讨论的一个常见指标是相关性，它也与决定系数(R2)相关。这个在别处已经讨论过了(见<strong class="lb iu">相关帖子</strong>)。</p><p id="4842" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">讨论的每个度量都是空间和时间上的敏感相移。因此，每个指标都可以用“滞后”来计算例如，通常通过计算滞后相关性来确定任何滞后-超前效应。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="bacb" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">相关职位</h1><div class="qc qd gp gr qe qf"><a href="https://medium.com/human-in-a-machine-world/mae-and-rmse-which-metric-is-better-e60ac3bde13d" rel="noopener follow" target="_blank"><div class="qg ab fo"><div class="qh ab qi cl cj qj"><h2 class="bd iu gy z fp qk fr fs ql fu fw is bi translated">梅和RMSE——哪个指标更好？</h2><div class="qm l"><h3 class="bd b gy z fp qk fr fs ql fu fw dk translated">平均绝对误差与均方根误差</h3></div><div class="qn l"><p class="bd b dl z fp qk fr fs ql fu fw dk translated">medium.com</p></div></div><div class="qo l"><div class="qp l qq qr qs qo qt ks qf"/></div></div></a></div><div class="qc qd gp gr qe qf"><a href="https://medium.com/analytics-vidhya/r-squared-vs-adjusted-r-squared-a3ebc565677b" rel="noopener follow" target="_blank"><div class="qg ab fo"><div class="qh ab qi cl cj qj"><h2 class="bd iu gy z fp qk fr fs ql fu fw is bi translated">R平方与调整后的R平方</h2><div class="qm l"><h3 class="bd b gy z fp qk fr fs ql fu fw dk translated">回归模型的评价指标及其比较</h3></div><div class="qn l"><p class="bd b dl z fp qk fr fs ql fu fw dk translated">medium.com</p></div></div></div></a></div><div class="qc qd gp gr qe qf"><a rel="noopener follow" target="_blank" href="/avoid-r-squared-to-judge-regression-model-performance-5c2bc53c8e2e"><div class="qg ab fo"><div class="qh ab qi cl cj qj"><h2 class="bd iu gy z fp qk fr fs ql fu fw is bi translated">避免用R平方来判断回归模型的性能</h2><div class="qm l"><h3 class="bd b gy z fp qk fr fs ql fu fw dk translated">依靠R来判断一个回归模型的表现是被误导的</h3></div><div class="qn l"><p class="bd b dl z fp qk fr fs ql fu fw dk translated">towardsdatascience.com</p></div></div><div class="qo l"><div class="qu l qq qr qs qo qt ks qf"/></div></div></a></div><div class="qc qd gp gr qe qf"><a href="https://medium.com/@SilentFlame/pearson-correlation-a-mathematical-understanding-c9aa686113cb" rel="noopener follow" target="_blank"><div class="qg ab fo"><div class="qh ab qi cl cj qj"><h2 class="bd iu gy z fp qk fr fs ql fu fw is bi translated">皮尔逊相关，一种数学理解！</h2><div class="qm l"><h3 class="bd b gy z fp qk fr fs ql fu fw dk translated">我一直注意到，只是得到一个方法的想法，而不了解背后的数学…</h3></div><div class="qn l"><p class="bd b dl z fp qk fr fs ql fu fw dk translated">medium.com</p></div></div><div class="qo l"><div class="qv l qq qr qs qo qt ks qf"/></div></div></a></div></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="beef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">感谢阅读和支持媒体作者</em></p><div class="qc qd gp gr qe qf"><a href="https://lukegloege.medium.com/membership" rel="noopener follow" target="_blank"><div class="qg ab fo"><div class="qh ab qi cl cj qj"><h2 class="bd iu gy z fp qk fr fs ql fu fw is bi translated">通过我的推荐链接加入Medium—Luke Gloege博士</h2><div class="qm l"><h3 class="bd b gy z fp qk fr fs ql fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="qn l"><p class="bd b dl z fp qk fr fs ql fu fw dk translated">lukegloege.medium.com</p></div></div><div class="qo l"><div class="qw l qq qr qs qo qt ks qf"/></div></div></a></div></div></div>    
</body>
</html>