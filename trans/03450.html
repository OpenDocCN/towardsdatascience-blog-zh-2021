<html>
<head>
<title>Master Data Visualization with ggplot2: Pie Charts, Spider Plots, and Bar Plots</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用ggplot2实现主数据可视化:饼图、蜘蛛图和条形图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/master-data-visualization-with-ggplot2-pie-charts-spider-plots-and-bar-plots-899a07a15827?source=collection_archive---------10-----------------------#2021-03-19">https://towardsdatascience.com/master-data-visualization-with-ggplot2-pie-charts-spider-plots-and-bar-plots-899a07a15827?source=collection_archive---------10-----------------------#2021-03-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8372" class="pw-subtitle-paragraph jr is it bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">关于在R中创建饼图、蜘蛛图和圆形条形图的指南</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/8c87cdde2bbb18c8391f7e06c0aa5498.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_tvl6q1V1yzadLMQ"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@sheri_silver?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">谢里·西尔弗</a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="2885" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi lw translated"><span class="l lx ly lz bm ma mb mc md me di">在使用ggplot2的数据可视化系列的第三部分中，我们将关注圆形图。教程列表如下:</span></p><ol class=""><li id="3481" class="mf mg it lc b ld le lg lh lj mh ln mi lr mj lv mk ml mm mn bi translated"><em class="mo">散点图和箱线图</em></li><li id="e98b" class="mf mg it lc b ld mp lg mq lj mr ln ms lr mt lv mk ml mm mn bi translated"><em class="mo">直方图、条形图和密度图</em></li><li id="88cf" class="mf mg it lc b ld mp lg mq lj mr ln ms lr mt lv mk ml mm mn bi translated"><strong class="lc iu"> <em class="mo">圆形图(饼图、蜘蛛图和条形图)</em> </strong></li><li id="f657" class="mf mg it lc b ld mp lg mq lj mr ln ms lr mt lv mk ml mm mn bi translated"><em class="mo">主题()</em>:为增加的工作流程创建您自己的主题()</li></ol><p id="7083" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">因此，在循环可视化下，我们将介绍如何创建以下图表:</p><ol class=""><li id="c67b" class="mf mg it lc b ld le lg lh lj mh ln mi lr mj lv mk ml mm mn bi translated">饼图</li><li id="99e0" class="mf mg it lc b ld mp lg mq lj mr ln ms lr mt lv mk ml mm mn bi translated">蜘蛛图</li><li id="c208" class="mf mg it lc b ld mp lg mq lj mr ln ms lr mt lv mk ml mm mn bi translated">圆形条形图</li></ol><p id="53e2" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">此外，我们将讨论使用这些类型的可视化的利弊。</p><blockquote class="mu mv mw"><p id="72fb" class="la lb mo lc b ld le jv lf lg lh jy li mx lk ll lm my lo lp lq mz ls lt lu lv im bi translated"><strong class="lc iu">权力越大，责任越大，明智地使用饼状图和蜘蛛图。</strong></p></blockquote><h1 id="ca62" class="na nb it bd nc nd ne nf ng nh ni nj nk ka nl kb nm kd nn ke no kg np kh nq nr bi translated">数据和包</h1><p id="e794" class="pw-post-body-paragraph la lb it lc b ld ns jv lf lg nt jy li lj nu ll lm ln nv lp lq lr nw lt lu lv im bi translated">为了创建圆形图的视觉效果，我们将使用Kaggle的早餐<a class="ae kz" href="https://www.kaggle.com/crawford/80-cereals" rel="noopener ugc nofollow" target="_blank">谷物数据集</a>。该数据集有16个领域的77种独特的谷物类型。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="1300" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们将创建两个新变量:<em class="mo">manufacture</em>(包含不同谷物制造商的数量)和<em class="mo">谷类_麸皮_低</em>(卡路里值在80到120之间的选定麸皮谷类品牌的过滤营养数据)。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="ca5c" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在本系列的第三部分，像往常一样，我们将使用广泛使用的基本包<code class="fe nz oa ob oc b">ggplot2</code>和<code class="fe nz oa ob oc b">tidyverse</code>。除此之外，对于绘制蜘蛛或雷达图，将使用<code class="fe nz oa ob oc b">ggradar</code>包。</p><h1 id="6ace" class="na nb it bd nc nd ne nf ng nh ni nj nk ka nl kb nm kd nn ke no kg np kh nq nr bi translated">饼图</h1><p id="6467" class="pw-post-body-paragraph la lb it lc b ld ns jv lf lg nt jy li lj nu ll lm ln nv lp lq lr nw lt lu lv im bi translated">为了创建饼图，我们将使用<code class="fe nz oa ob oc b">manufact</code>变量。虽然R中的基本绘图有<code class="fe nz oa ob oc b">pie()</code>功能，但是<code class="fe nz oa ob oc b">ggplot2</code>包中没有定义创建饼图的功能。为了让我们使用ggplot2绘制饼图，我们将使用<code class="fe nz oa ob oc b">geom_bar()</code>和<code class="fe nz oa ob oc b">coord_polar()</code>函数来创建圆的线段。<code class="fe nz oa ob oc b">coord_polar()</code>功能将笛卡尔坐标转换到极坐标系统，这样很容易创建圆形图。在<code class="fe nz oa ob oc b">coord_polar()</code>函数中，<code class="fe nz oa ob oc b">ggplot()</code>美学的x参数被指定为<code class="fe nz oa ob oc b">x=“ ”</code>，而<code class="fe nz oa ob oc b">theta</code>参数被指定为<code class="fe nz oa ob oc b">y</code>值。</p><p id="ad6a" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu"> <em class="mo">将条形图转换为饼图，在</em> </strong> <code class="fe nz oa ob oc b"><strong class="lc iu"><em class="mo">geom_bar()</em></strong></code> <strong class="lc iu"> <em class="mo">中设置</em> </strong> <code class="fe nz oa ob oc b"><strong class="lc iu"><em class="mo">stat=“identity”</em></strong></code> <strong class="lc iu"> <em class="mo">，并固定</em> </strong> <code class="fe nz oa ob oc b"><strong class="lc iu"><em class="mo">width=1</em></strong></code> <strong class="lc iu"> <em class="mo">。</em> </strong></p><p id="e369" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">优点</strong>:比较少量数据点时有用。</p><p id="57fb" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">缺点</strong>:难以解释大型数据集，难以描绘长期趋势</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi od"><img src="../Images/23e77fff74a9f9da87239415280cf5ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T1mxwPRidkWoB3UImGIvfA.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">作者图片</p></figure><p id="d4f2" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">饼图的修改导致了圆环图。可以通过控制<code class="fe nz oa ob oc b">ggplot()</code>美学的x参数来控制甜甜圈的大小和厚度。<strong class="lc iu"> <em class="mo">确保x参数的值位于xlim范围之间。</em> </strong></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi od"><img src="../Images/8ca7bdf0154dd1bcf95d2840e524a2b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l6p77L1eJThT8uGh59hqlA.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">作者图片</p></figure><h1 id="9b96" class="na nb it bd nc nd ne nf ng nh ni nj nk ka nl kb nm kd nn ke no kg np kh nq nr bi translated">靶心图</h1><p id="eeb0" class="pw-post-body-paragraph la lb it lc b ld ns jv lf lg nt jy li lj nu ll lm ln nv lp lq lr nw lt lu lv im bi translated">为了创建圆形条形图，在<code class="fe nz oa ob oc b">geom_bar()</code>功能中设置参数<code class="fe nz oa ob oc b">stat=“identity”</code>。径向向外时，确保按长度递增的顺序排列钢筋。用于将条形图转换为圆形方向，在<code class="fe nz oa ob oc b">coord_polar()</code>功能中设置参数<code class="fe nz oa ob oc b">theta=“y”</code>。如果彩条完成了一个完整的回合，那么图表将像一个靶心，因此得名。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi od"><img src="../Images/e35595ab17a812a5ba38e65800dd00de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fus_pI2nCrAlsuEIzJEC1A.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">作者图片</p></figure><h1 id="8e63" class="na nb it bd nc nd ne nf ng nh ni nj nk ka nl kb nm kd nn ke no kg np kh nq nr bi translated">统计图</h1><p id="1ad7" class="pw-post-body-paragraph la lb it lc b ld ns jv lf lg nt jy li lj nu ll lm ln nv lp lq lr nw lt lu lv im bi translated">简单地改变靶心图中的单个参数会导致鸡冠图。如果在<code class="fe nz oa ob oc b">coord_polar()</code>函数中<code class="fe nz oa ob oc b">theta=“y”</code>变成了<code class="fe nz oa ob oc b">theta=“x”</code>,我们得到的不是赋值<code class="fe nz oa ob oc b">theta=“y”</code>,而是统计图。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi od"><img src="../Images/49064adbcbc0a3e19424e3afab218b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CbMFt-hgkhHFFukUwHrbfw.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">作者图片</p></figure><h1 id="2d33" class="na nb it bd nc nd ne nf ng nh ni nj nk ka nl kb nm kd nn ke no kg np kh nq nr bi translated">蜘蛛图</h1><p id="fb8f" class="pw-post-body-paragraph la lb it lc b ld ns jv lf lg nt jy li lj nu ll lm ln nv lp lq lr nw lt lu lv im bi translated">目前，<code class="fe nz oa ob oc b">ggplot2</code>包中没有创建蜘蛛图或雷达图的功能。<code class="fe nz oa ob oc b">ggradar</code>包与<code class="fe nz oa ob oc b">ggplot2</code>包兼容，可用于创建蜘蛛图。在ggradar()函数中，与在ggplot()函数中一样，可以定义美学。需要的几个重要参数是:</p><p id="f206" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="mo"> values.radar </em>:打印圆形网格线的最小值、中间值和最大值。</p><p id="6107" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="mo"> grid.min </em>:网格的最小值</p><p id="2812" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="mo"> grid.mid </em>:网格的中间值</p><p id="96a0" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="mo"> grid.max </em>:网格的最大值</p><p id="6a70" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">优点</strong>:如果所有变量都有相同的尺度，就容易理解了。</p><p id="b939" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">缺点</strong>:刻度单位不同时比较困难，圆形图解释困难。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oe"><img src="../Images/dce7084434938e5eac907db5c28c24ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JhIeFct2vTRQQ-AyejbHbg.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">作者图片</p></figure><p id="b99e" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">绘制所有图表的完整代码。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nx ny l"/></div></figure><h1 id="64b9" class="na nb it bd nc nd ne nf ng nh ni nj nk ka nl kb nm kd nn ke no kg np kh nq nr bi translated">结论</h1><p id="9f57" class="pw-post-body-paragraph la lb it lc b ld ns jv lf lg nt jy li lj nu ll lm ln nv lp lq lr nw lt lu lv im bi translated">因此，在本教程中，我们看到了如何创建饼图，蜘蛛图，鸡冠图，牛眼图。确定了如何通过改变<code class="fe nz oa ob oc b">ggplot()</code>函数或<code class="fe nz oa ob oc b">geom_bar()</code>函数中的几个参数，将饼图轻松转换为除蜘蛛图之外的其他图表类型。我们进一步讨论了使用圆形图表类型(尤其是流行的饼图和蜘蛛图)的利与弊，并看到通常不鼓励使用这些图表，而是使用易于理解和解释的替代图表。</p><p id="4f27" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">本系列或使用<code class="fe nz oa ob oc b">ggplot2</code>包的可视化的进一步阅读。</p><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/master-data-visualization-with-ggplot2-scatter-and-box-plots-2f0c14cf2b26"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">使用ggplot2的主数据可视化:散点图和箱线图</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">使用散点图和箱线图的数据可视化指南</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow kt oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/master-data-visualization-with-ggplot2-histograms-bar-and-density-plots-86c8290c9adc"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">使用ggplot2实现主数据可视化:直方图、条形图和密度图</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">关于何时以及如何在R中使用直方图、条形图和密度图的指南</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="ox l ot ou ov or ow kt oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/data-visualization-using-ggplot2-5-features-worth-knowing-c0447a760335"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">使用ggplot2的数据可视化:值得了解的5个特性</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">使用ggplot2包提高dataviz效率的技巧</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="oy l ot ou ov or ow kt oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/creating-your-own-color-palette-for-data-visualization-part-1-84df48954845"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">为数据可视化创建自己的调色板——第1部分</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">为数据可视化创建个人调色板的全面颜色指南。</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="oz l ot ou ov or ow kt oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/creating-your-own-color-palette-for-data-visualization-part-2-7b02ebc31c19"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">为数据可视化创建自己的调色板——第2部分</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">平衡色调、色调和饱和度，以生成完美的颜色渐变。</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="pa l ot ou ov or ow kt oi"/></div></div></a></div><p id="9d7f" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">参考</p><ol class=""><li id="5b37" class="mf mg it lc b ld le lg lh lj mh ln mi lr mj lv mk ml mm mn bi translated"><a class="ae kz" href="https://www.kaggle.com/crawford/80-cereals" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/crawford/80-cereals</a></li><li id="4e9e" class="mf mg it lc b ld mp lg mq lj mr ln ms lr mt lv mk ml mm mn bi translated"><a class="ae kz" href="https://blog.scottlogic.com/2011/09/23/a-critique-of-radar-charts.html#chart2" rel="noopener ugc nofollow" target="_blank">https://blog . Scott logic . com/2011/09/23/a-critical-of-radar-charts . html # chart 2</a></li><li id="0011" class="mf mg it lc b ld mp lg mq lj mr ln ms lr mt lv mk ml mm mn bi translated">【https://www.data-to-viz.com/caveat/spider.html T4】</li></ol><p id="078a" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">完整代码的链接是这里的<a class="ae kz" href="https://github.com/amalasi2418/Blog-post/tree/master/ggplot2%20tutorial%203" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="73cd" class="pw-post-body-paragraph la lb it lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">您可以在<a class="ae kz" href="https://www.linkedin.com/in/abhinav-malasi/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae kz" href="https://twitter.com/malasi_abhinav" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上与我联系，跟随我的数据科学和数据可视化之旅。</p></div></div>    
</body>
</html>