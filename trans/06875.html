<html>
<head>
<title>Building a Web App to Calculate Cohen’s Kappa Coefficient</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建一个计算科恩Kappa系数的Web应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-web-app-to-calculate-cohens-kappa-coefficient-39781fda0cf?source=collection_archive---------40-----------------------#2021-06-21">https://towardsdatascience.com/building-a-web-app-to-calculate-cohens-kappa-coefficient-39781fda0cf?source=collection_archive---------40-----------------------#2021-06-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cb47" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">混合使用streamlit和scikit-learn</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/70521c9415387076fc262f10d17cfa50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oo1I5SYaBpmxXvw7Pilqkw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h1 id="1f80" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="467b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在医疗保健研究中，经常有多个小组或个人在研究同一种情况或变量。他们独立地收集数据，但是期望，并且经常需要，报告发现的人之间的一致性。因此，设计良好的程序必须包括各种数据收集者之间的系统测量协议。数据收集者之间的一致程度被称为<strong class="lt iu"> <em class="mn">评分者信度</em> </strong>。</p><p id="3cd3" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">从历史上看，衡量两个评分者之间的可靠性是通过简单的<em class="mn">百分比一致度</em>来实现的，该百分比表示分数总数中一致度的总数。然而，这并不能控制两个计分员无意中达成一致的可能性。</p><p id="f18d" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">因此，Cohen的Kappa系数被开发出来以调整这种可能性。</p><blockquote class="mt mu mv"><p id="ce72" class="lr ls mn lt b lu mo ju lw lx mp jx lz mw mq mc md mx mr mg mh my ms mk ml mm im bi translated">简而言之，科恩的Kappa是一种衡量两个评分者(法官、观察员)之间可靠性的方法，修正了偶然发生一致的概率。</p></blockquote><p id="ae74" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">更多关于科恩卡帕系数的阅读，请查看以下内容:</p><div class="mz na gp gr nb nc"><a href="https://en.wikipedia.org/wiki/Cohen%27s_kappa" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">科恩的卡帕-维基百科</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">Cohen的kappa系数(κ)是一个统计量，用于测量评分者之间的可靠性(以及评分者内部的可靠性)</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">en.wikipedia.org</p></div></div></div></a></div><div class="mz na gp gr nb nc"><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3900052/" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">评分者之间的可靠性:kappa统计</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">kappa统计经常被用来检验评分者之间的可靠性。评分者信度的重要性在于…</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">www.ncbi.nlm.nih.gov</p></div></div><div class="nl l"><div class="nm l nn no np nl nq ks nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a rel="noopener follow" target="_blank" href="/cohens-kappa-9786ceceab58"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">科恩的卡帕</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">理解科恩的卡帕系数</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">towardsdatascience.com</p></div></div><div class="nl l"><div class="nr l nn no np nl nq ks nc"/></div></div></a></div></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h1 id="bddd" class="kz la it bd lb lc nz le lf lg oa li lj jz ob ka ll kc oc kd ln kf od kg lp lq bi translated">构建一个简单的Kappa统计应用程序</h1><p id="5ec5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我希望这个应用程序能够创建一个简单的方法来输入数据，以计算Cohen的Kappa系数。为此，我使用了<em class="mn"> streamlit </em>，这是一个使用纯python快速创建数据科学应用的开源框架，以及<em class="mn"> scikit-learn </em>，这是一个用于机器学习和数据分析的开源库。</p><div class="mz na gp gr nb nc"><a href="https://streamlit.io/" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">Streamlit *构建和共享数据应用的最快方式</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">用我们神奇简单的API，用几行代码构建一个应用程序。然后看到它随着你的迭代自动更新…</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">streamlit.io</p></div></div><div class="nl l"><div class="oe l nn no np nl nq ks nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a href="https://scikit-learn.org/stable/" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">sci kit-学习</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">“我们使用scikit-learn来支持前沿基础研究[...]" "我认为这是我设计过的最棒的ML套装…</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">scikit-learn.org</p></div></div><div class="nl l"><div class="of l nn no np nl nq ks nc"/></div></div></a></div><p id="23ad" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><em class="mn">以下是使用streamlit和scikit-learn构建简单kappa统计应用程序的教程。</em></p><h1 id="f726" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">搭建舞台</h1><p id="ff6f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们从导入我们需要的库开始。最重要的是，我们将<em class="mn"> scikit-learn </em> (sklearn)用于我们的功能，将<em class="mn"> streamlit </em>用于我们的用户界面。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="4eaa" class="ol la it oh b gy om on l oo op">import pandas as pd<br/>import streamlit as st<br/>import sklearn<br/>from sklearn import metrics<br/>import os<br/>import numpy as np<br/><br/>from urllib.error import URLError<br/>import matplotlib.pyplot as plt<br/><br/>import base64</span></pre><h1 id="b3c7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">标题和文本</h1><p id="d15f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Streamlit 让在我们的应用程序中添加文本变得简单。</p><p id="05c3" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">为此，我们使用<strong class="lt iu"> streamlit.title </strong>和<strong class="lt iu"> streamlit.text. </strong>我们使用<strong class="lt iu"> streamlit.sidebar. </strong>向我们的侧边栏添加额外的文本</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="c134" class="ol la it oh b gy om on l oo op">st.title("Kappa Stat Calculator")<br/>st.text("Measuring interrater reliability")<br/>st.sidebar.header("About")<br/>st.sidebar.text("""The kappa stat calculator uses the<br/>power of scikit-learn to quickly<br/>calculate cohen's kappa statistic<br/>between two raters.</span><span id="6a70" class="ol la it oh b gy oq on l oo op">Upload a csv file with columns<br/>specifying your raters names or ids.<br/>""")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/558553627341bc1d6ae4f3a911227676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uG_I_0YkzMAvau4IqjORwA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">标题和文本</p></figure><h1 id="fb41" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">文件上传</h1><p id="4ffb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">接下来，我们可以使用<strong class="lt iu"> streamlit.file_uploader将文件上传到我们的应用程序中。</strong></p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="b5b3" class="ol la it oh b gy om on l oo op">df = st.file_uploader("Choose a file")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/4e0e3963f99447440172fbe18cc63c55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-wOP0JFFMf51hFe7tst59w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">文件上传</p></figure><h1 id="9790" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">拆分成列</h1><p id="9300" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对于下一部分，我们将屏幕分成两列，以保持易用性和交互性。这可以通过<strong class="lt iu"> streamlit.beta_columns </strong>来完成。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="8cb2" class="ol la it oh b gy om on l oo op">col1, col2 = st.beta_columns(2)</span></pre><h1 id="3811" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">左列</h1><p id="b84e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">左栏将显示我们的数据框，使用pandas处理我们的数据。我们使用<strong class="lt iu"> streamlit.dataframe </strong>并添加<strong class="lt iu"> df.style.highlight </strong>以使探索数据更容易，从而暴露潜在的差异。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="fa16" class="ol la it oh b gy om on l oo op">with col1:<br/>   st.dataframe(df.style.highlight_max(axis=0)) </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/bd296b0eaa35e05679edc3ab1d30e956.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*UV-QBxYAAPTAHjK9Xn6CHA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">包含评分者列的数据框架</p></figure><h1 id="8167" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">右列</h1><p id="12dc" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">右栏将显示一个图表，以便进一步浏览数据。我们可以用<strong class="lt iu"> streamlit.linechart </strong>查看折线图。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="cfc1" class="ol la it oh b gy om on l oo op">with col2:<br/>   st.linechart(df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/0b078c93e263d3138d2ee163a3c0cfca.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*ZPf1YhrT_AeNM61yPChWAA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示数据帧的牛郎星线图</p></figure><h1 id="5846" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">输入字段</h1><p id="6210" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">接下来，我们创建文本输入字段来指定数据帧中的列。在这种情况下，我们的数据有两个名为<em class="mn">人员1 </em>和<em class="mn">人员2的评价人。</em></p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="dcaa" class="ol la it oh b gy om on l oo op">person1 = st.sidebar.text_input("Enter column name for person 1")<br/>person2 = st.sidebar.text_input("Enter column name for person 2")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/dfff212abd6134afe05c40af06a4dd75.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*UNAJ1-NNVeDB965OxsZeOA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">文本输入字段</p></figure><h1 id="bfb0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">功能</h1><p id="a578" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了使用scikit-learn的cohen's kappa统计计算器，我们使用了<strong class="lt iu">sk learn . metrics . Cohen _ kappa _ score</strong>并显示了一个带有<strong class="lt iu"> streamlit.button. </strong>的按钮</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="2776" class="ol la it oh b gy om on l oo op">kap = sklearn.metrics.cohen_kappa_score(y1, y2,labels=None, weights=None, sample_weight=None)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/406f92bbcecb21f56ba0764c75b8d245.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*yzjhan1DQf70sg00A4Jl_g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有sckit-learn功能的Streamlit按钮</p></figure><h1 id="b819" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结果和庆祝！</h1><p id="7a78" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们的函数将使用<strong class="lt iu"> streamlit.write </strong>在按钮下方显示Cohen's Kappa统计数据。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="340f" class="ol la it oh b gy om on l oo op">st.sidebar.write('Result: %s' % kap)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/45bb0923c5fd9ecba1870b95ab903d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*juFTx9fZNoxbQhHa8ndYqA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卡帕统计量</p></figure><p id="7bcd" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">然后我们用<strong class="lt iu">流线型气球</strong>庆祝！！！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/5867c82e1a7e2564793b9f81c0814978.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qqqNa7MqGqF377vdEtiU9g.png"/></div></div></figure><h1 id="3ccc" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">外卖食品</h1><p id="bd11" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">本文简要概述了如何为一个通用的医疗保健研究指标创建工具。我希望您对Cohen的Kappa、streamlit和scikit-learn有了更好的理解。</p><p id="f056" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">这个项目的源代码可以在这里找到<a class="ae ky" href="https://github.com/chags1313/kappa-app" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="80f3" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><em class="mn">更多来自作者的故事:</em></p><div class="mz na gp gr nb nc"><a rel="noopener follow" target="_blank" href="/making-it-rain-with-raincloud-plots-496c39a2756f"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">用雨云图让它下雨</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">使用python实现ptitprince库以实现健壮的数据可视化</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">towardsdatascience.com</p></div></div><div class="nl l"><div class="oy l nn no np nl nq ks nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a rel="noopener follow" target="_blank" href="/introducing-openhac-an-open-source-toolkit-for-digital-biomarker-analysis-and-machine-learning-6e107c4524ad"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">介绍open HAC——用于数字生物标记分析和机器学习的开源工具包</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">用于人体活动分类研究和模型创建的新视频分析平台。</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">towardsdatascience.com</p></div></div><div class="nl l"><div class="oz l nn no np nl nq ks nc"/></div></div></a></div><h2 id="a635" class="ol la it bd lb pa pb dn lf pc pd dp lj ma pe pf ll me pg ph ln mi pi pj lp pk bi translated">感谢您的阅读！！</h2></div></div>    
</body>
</html>