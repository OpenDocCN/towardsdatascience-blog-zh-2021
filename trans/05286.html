<html>
<head>
<title>Data Scientists, You Need to Know How to Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家，你需要知道如何编码</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-scientists-you-need-to-know-how-to-code-9142b2dc74e8?source=collection_archive---------5-----------------------#2021-05-10">https://towardsdatascience.com/data-scientists-you-need-to-know-how-to-code-9142b2dc74e8?source=collection_archive---------5-----------------------#2021-05-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8283" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不仅仅是代码，还要写出好的代码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c07e4171207303af79a602222ad44320.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f9SWCw6qRTfyieTu"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">罗曼·辛克维奇在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ee86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我知道你在想什么——“我当然知道怎么编码，你疯了吗？”</p><p id="803b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你每天在Jupyter笔记本上写大量代码，数百行。显然，你可以编码。这并不是说你在手工或Excel中训练机器学习模型(尽管这是可能的)。</p><p id="8411" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么我可能是什么意思呢？</p><p id="0ce5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不想打断你，但是科学家做的大多数编码数据我都不认为是真正的编程。您正在使用编程语言作为探索数据和构建模型的工具。但是，只要你创建的程序能完成工作，你就不会真正去想它。</p><p id="bbef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你的代码通常是混乱的，甚至可能不会按顺序运行(多亏了笔记本)。您可能从未编写过任何单元测试，并且对如何编写良好的、可重用的函数知之甚少。</p><p id="451a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，随着数据科学越来越多地嵌入到实际产品中，这种类型的代码将不会削减它。你不能信任糟糕的代码，把你不信任的代码放到产品中会导致大量的技术债务和糟糕的用户体验。</p><p id="161a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“好吧，好吧，但是，我是数据科学家，不是软件工程师”，你说。我构建模型，清理代码是其他人的问题。虽然这可能在一些公司行得通，但就目前而言，我坚信一个更好的模式是让数据科学家学会如何编写更好的代码。你可能永远成不了精英级别的软件工程师，但数据科学家可以通过一些工作写出可信的代码并投入生产。</p><h1 id="be54" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">从你的功能开始</h1><p id="2804" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当学习如何提升你的代码时，从你如何写函数开始。大多数代码只是一系列函数(或者潜在的类),如果你能学会写相当好的函数，那将对提高你的代码质量大有帮助。</p><p id="bf70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的职能至少应该:</p><ol class=""><li id="ffe4" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">只做一件事</li><li id="b7c3" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">有文档</li><li id="9783" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">使用好的变量名</li></ol><p id="55fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然有整本书都在讲述如何编写干净的函数，但这三项是一个很好的起点。</p><p id="dc70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">永远不要让一个函数感觉它在试图做一件以上的事情。一些迹象表明您的功能可能做得太多:</p><ul class=""><li id="1ecb" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu ng my mz na bi translated">它比单个屏幕长，或者大约30行代码长(以我的经验来看)。</li><li id="e8dc" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu ng my mz na bi translated">很难清楚地给你的函数命名，因为它做了太多的事情</li><li id="0c0c" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu ng my mz na bi translated">它包含了if/else块中的大量代码，这些代码实际上应该被分解成独立的函数</li></ul><p id="1d46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只做一件事的函数很重要，因为它使你的代码更容易理解、管理和测试(稍后将详细介绍测试)。</p><p id="2d39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何发布到产品中的函数都应该有一个文档字符串，该字符串应该描述该函数的功能，给出关于输入参数的信息，并可能提供一些如何使用该函数的简单示例。将来，当您拥有记录良好的函数时，您会感谢自己，而其他人理解您的代码会容易得多。</p><p id="87f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，请使用易于理解和有帮助的变量名。太多的数据科学家不喜欢使用变量名，如“a”、“a1”和“a2”在试验时，输入简短、无用的变量名会更快，但是在将代码投入生产时，要确保你的变量名会帮助其他人理解你的代码。</p><h1 id="6d96" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">删除打印报表</h1><p id="981e" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">数据科学家经常使用打印报表来显示正在发生的信息。但是，在生产中，如果不再需要这些打印语句，则应该将其删除，或者将其转换为日志语句。</p><p id="bf13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">日志应该是您交流代码中的信息和错误的方式。Loguru是一个很好的Python库，可以用来简化日志记录。它自动处理关于日志记录的大部分烦人的部分，感觉更像是使用打印语句。</p><h1 id="90bb" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用样式指南</h1><p id="acbf" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">编程中的风格指南是用来让许多人更容易地处理同一个代码，但是让代码看起来更像是由一个人编写的。</p><p id="4473" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么这很重要？</p><p id="3ba8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你有一个一致的风格时，导航和理解代码就容易多了。令人惊讶的是，当使用样式指南时，发现一个bug是多么容易。遵循编写代码的标准方式将使您更容易浏览该代码以及其他代码。这意味着您不必花费太多时间来解释代码是如何格式化的，而是可以专注于代码做什么以及它是否正确和良好地执行。</p><p id="f26c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">PEP 8可能是Python使用最广泛的风格指南。不过，外面有很多。另一个流行的风格指南来源是谷歌，因为他们已经公开了他们的内部风格指南。</p><p id="7173" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重要的是你选择一个并努力坚持下去。一种更简单的方法是让您的IDE检查样式错误，并设置样式检查，以便在没有遵循样式指南的情况下阻止代码被推送。您还可以通过使用自动格式化程序来进一步提交，该程序会自动为您格式化代码。这些允许你写你想写的代码，然后在运行时自动格式化你的代码以符合标准。Python的一个流行颜色是黑色。</p><h1 id="2f2d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">编写测试</h1><p id="92fa" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我发现大多数数据科学家害怕测试，因为他们不知道如何开始测试。</p><p id="901e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实上，许多数据科学家已经在运行我所说的临时测试了。我发现数据科学家在他们的笔记本上快速运行一些新功能的“健全检查”是很常见的。您通过一些简单的测试用例，并确保函数按预期运行。</p><p id="4d97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">软件工程师称之为过程单元测试。</p><p id="fe3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不过，唯一的区别是，数据科学家通常会删除那些临时测试，然后继续前进。相反，您需要保存它们，并确保它们在每次代码被推送之前都运行，以确保没有任何东西被破坏。</p><p id="af02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要开始使用Python，我会选择pytest。使用pytest，您可以轻松地创建测试，并一次性运行它们以确保它们通过。一个简单的入门方法是创建一个名为“tests”的目录，在该目录中有以“test”开头的Python文件。例如，您可以使用“test_addition.py”</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="dccf" class="nm lw it ni b gy nn no l np nq"><em class="nr"># content of test_addition.py</em><br/><strong class="ni iu">def</strong> add(x, y):<br/>    <strong class="ni iu">return</strong> x + y<br/><br/><br/><strong class="ni iu">def</strong> test_add():<br/>    <strong class="ni iu">assert</strong> add(3, 2) == 5</span></pre><p id="2633" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，您会在另一个Python文件中拥有您的实际函数，并将它导入到您的测试模块中。您也永远不需要测试Python加法，但这只是一个非常简单的例子。</p><p id="0e56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这些测试模块中，您可以保存您的函数的所有“健全性检查”。一般来说，不仅要测试常见案例，还要测试边缘案例和潜在的错误案例，这是一个很好的实践。</p><blockquote class="ns nt nu"><p id="34f0" class="kz la nr lb b lc ld ju le lf lg jx lh nv lj lk ll nw ln lo lp nx lr ls lt lu im bi translated">注意:有许多不同类型的测试。我认为单元测试是数据科学家开始测试的最佳测试。</p></blockquote><h1 id="84ae" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">做代码审查</h1><p id="411d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">最后，同样重要的是，在我们的列表中，为了写出更好的代码，最重要的事情是代码评审。</p><p id="3233" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码评审是指在您将代码提交到主分支之前，另一个擅长在您的领域中编写代码的人对您的代码进行评审。这一步确保遵循最佳实践，并有希望捕获任何不良代码或错误。</p><p id="c26d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">审查你的代码的人最好至少和你一样擅长写代码，但是即使让一个资历更浅的人审查你的代码也是非常有益的。</p><p id="7de0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">懒惰是人之常情，很容易让这种懒惰蔓延到我们的代码中。知道有人会审查你的代码是花时间写好代码的巨大激励。这也是我发现的最好的提高方法。让一个更有经验的同事审查你的代码并给你改进的建议是无价的。</p><p id="3989" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了让那些审查你的代码的人更容易，尽量保持新代码的数量少。小规模、频繁的代码审查效果很好。不频繁的大规模代码审查是很糟糕的。没有人希望被发送1000行代码来审查。这些审查往往提供更差的反馈，因为这个人不能花必要的时间一次真正理解那么多代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/551ff9921fa800513bbfd2d3a41c5996.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*KK89C8mb2e8IJecY.png"/></div></figure><h1 id="9fb7" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">提高你的编码水平</h1><p id="397e" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我希望这篇文章能启发你花时间学习如何编写更好的代码。这并不一定很难，但是需要时间和努力去提高。</p><p id="805f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你遵循这5条建议，我相信你会发现你的代码质量有了很大的提高。</p><p id="fbf3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你未来的自己和你的同事会感谢你的。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="a7a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看我关于如何部署机器学习模型的免费课程。</p></div></div>    
</body>
</html>