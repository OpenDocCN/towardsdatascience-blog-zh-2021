<html>
<head>
<title>5 Cold Knowledge Points About Python Timedelta</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Python Timedelta的5个冷知识点</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-cold-knowledge-points-about-python-timedelta-a791bbe4ed80?source=collection_archive---------20-----------------------#2021-03-28">https://towardsdatascience.com/5-cold-knowledge-points-about-python-timedelta-a791bbe4ed80?source=collection_archive---------20-----------------------#2021-03-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/e603372527ee0f4af6f1b3e102c720a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EAfCNSYgmrtJwCP_KWsN5w.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/anncapictures-1564471/" rel="noopener ugc nofollow" target="_blank"> anncapictures </a>在<a class="ae jg" href="https://pixabay.com/photos/pocket-watch-sand-time-clock-dial-1637396/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>拍摄的照片</p></figure><div class=""/><div class=""><h2 id="cdba" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">了解datetime.timedelta的功能范围</h2></div><p id="e682" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为Python中最重要的内置库之一，“<strong class="la jk"> datetime </strong>”库是任何Python学习者的必学之作。在这个库中，表示时间间隔的“<strong class="la jk"> timedelta </strong>”是我最喜欢的模块。它提供了许多有用的功能，让我们能够实现开箱即用的特性，并实现使用模式的最大灵活性。毫无疑问，这个库可以成为任何开发者的“角色模块”,展示什么是“Pythonic”。</p><p id="7a15" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于这样一个常见的库，我相信你一定用过或者已经掌握了。但是，仍然有一些关于“时间增量”模块的“冷知识”需要你去了解。它可能会帮助您在开发过程中节省大量时间。希望这篇文章能有所帮助。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="cc02" class="md me jj lz b gy mf mg l mh mi">from datetime import timedelta</span></pre><p id="15a7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">导入此模块后，我们可以开始演示。</p><h1 id="6993" class="mj me jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">1.时间界限</h1><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/953477fa6309fa00e47fa8423d04325e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CHVpzTSZKnw6j3egIqjv3A.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/sunbeamphoto-16431709/" rel="noopener ugc nofollow" target="_blank">阳光照片</a>在<a class="ae jg" href="https://pixabay.com/photos/indoor-time-waiting-classic-mood-5235953/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>拍摄</p></figure><p id="964d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你应该知道使用timedelta定义时间间隔是非常容易的。例如，<code class="fe na nb nc lz b">timedelta(days=1)</code>表示正好是一天的时间间隔。</p><p id="63cb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，你知道timedelta其实是有边界的吗？我们可以按如下方式检查边界。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="1f2c" class="md me jj lz b gy mf mg l mh mi">timedelta.min<br/>timedelta.max</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/eb4651c7af439885ee7c1835b898208f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*xFdAcL6as21fxfk0QqfgZw.png"/></div></figure><p id="46eb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想定义一个超出界限的时间间隔呢？我们试试在上限上加一天。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="2126" class="md me jj lz b gy mf mg l mh mi">timedelta(days=1) + timedelta.max</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/dcdd5689522bd1b191a394776c7a4072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*vOk3JEXTppjYBnb1x7Odeg.png"/></div></figure><p id="20f4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如图所示，Python将抛出一个溢出异常，因为timedelta不是为处理那么长的时间间隔而设计的。它有多大？如果用9999999999天除以365(粗略估计忽略闰年)，大约是275万年。</p><p id="bc6b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">嗯，如果我们不使用时间增量来计算一些关于恐龙的历史，那就足够了:)</p><h1 id="b26f" class="mj me jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">2.时间分辨率</h1><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/2c16a6c956c09b5e3b517fa0faab4349.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TTXF4ASEq495hDnGlyae8w.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/geralt-9301/" rel="noopener ugc nofollow" target="_blank"> geralt </a>在<a class="ae jg" href="https://pixabay.com/illustrations/time-time-management-stopwatch-3222267/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的照片</p></figure><p id="1608" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">众所周知，我们可以使用<code class="fe na nb nc lz b">days</code>、<code class="fe na nb nc lz b">hours</code>、<code class="fe na nb nc lz b">minutes</code>、<code class="fe na nb nc lz b">seconds</code>和<code class="fe na nb nc lz b">microseconds</code>来定义使用时间增量的时间间隔。顺便说一下，我们不能使用超过<code class="fe na nb nc lz b">days</code>的单位是有道理的，因为一个月可能有28-31天，而一年可能有365或366天。</p><p id="676d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，我们需要知道timedelta的分辨率是微秒。这意味着我们不能使用timedelta来处理纳秒。抱歉让物理学家和化学家失望了:)</p><p id="805a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实上，我们可以通过调用timedelta模块的属性<code class="fe na nb nc lz b">resolution</code>来获得这个最小分辨率。</p><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/2cd37085feed4e1d7d1ce0e33b755a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*I5ekx16Bx8DxvTHS6LSe7w.png"/></div></figure><p id="4780" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们试图让时间间隔小于分辨率呢？这里有一个例子。我们可以试着得到半微秒。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="ea56" class="md me jj lz b gy mf mg l mh mi">timedelta.resolution / 2</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/c0ceeee51815e27e8c4092e07d91b26b.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*yPdAtmOzgmU5VP-MkDsrCg.png"/></div></figure><p id="0d37" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">timedelta对象将简单地变成零，这意味着在这个“间隔”中实际上没有时间跨度。这肯定是真的，因为我们可以通过在分裂后试图将其恢复到1微秒来证明这一点。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="8374" class="md me jj lz b gy mf mg l mh mi">(timedelta(microseconds=1) / 2) * 2</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/1e45fb1302944cf1ed30b295fcc240e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*O3x8L8MuDVk3CDkVYBYIPg.png"/></div></figure><p id="fcf6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它仍然是零，因为当我们除以它时，我们失去了它。</p><h1 id="d2e2" class="mj me jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">3.属性范围</h1><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ni"><img src="../Images/5473730a5893fe6259f04b2a5a722497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Mxkm6GtINgpy6zMPB8URw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/couleur-1195798/" rel="noopener ugc nofollow" target="_blank"> Couleur </a>在<a class="ae jg" href="https://pixabay.com/photos/watches-old-antique-time-indicating-1204696/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的照片</p></figure><p id="dee0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在timedelta对象的实现中，<code class="fe na nb nc lz b">days</code>、<code class="fe na nb nc lz b">hours</code>、<code class="fe na nb nc lz b">minutes</code>、<code class="fe na nb nc lz b">seconds</code>、<code class="fe na nb nc lz b">microseconds</code>是类属性。这些属性将有自己的有效范围。</p><p id="3e09" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这绝对有意义，因为我们知道1天只有24小时，1小时包含60分钟。然而，即使我们定义了超出范围的timedelta对象，我们也不会触发溢出异常，也不会丢失超出的部分。它会自动转换成更高或更低的单位。</p><p id="0ba2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，如果我们定义一个1000000微秒的间隔，正好是1秒，我们将简单地得到一个等于1秒的间隔。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="9c87" class="md me jj lz b gy mf mg l mh mi">one_second = timedelta(microseconds=999999 + 1)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/60694efed4aa0572811400b110cb7164.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*CFQChPPOd7CjpLBe2DPFAQ.png"/></div></figure><p id="b401" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们仅使用<code class="fe na nb nc lz b">seconds </code>属性定义一个间隔，并使其超过1天，timedelta将会很好地处理它。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="28b3" class="md me jj lz b gy mf mg l mh mi">one_day_and_one_second = timedelta(seconds=86401)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/4abac6ce24a94ae5e9de8c0d854ba562.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*wYT1DhhMq8x_cFX2aW91-Q.png"/></div></figure><p id="6230" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，属性<code class="fe na nb nc lz b">seconds</code>是在时间增量中具有更高优先级的主要属性。这意味着只要间隔少于一天，timedelta将使用<code class="fe na nb nc lz b">seconds</code>来指示它，而不是使用<code class="fe na nb nc lz b">hours</code>或<code class="fe na nb nc lz b">minutes</code>。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="d9fd" class="md me jj lz b gy mf mg l mh mi">three_thousands_six_hundred_seconds = timedelta(minutes=60)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/d4f0ea9b5e7ebc17a42293f1c3133153.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*OC6uOVO2Vbrp66dyIPAshg.png"/></div></figure><h1 id="e4c1" class="mj me jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">4.时间增量的操作</h1><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/d58bd535ac12aacef191b37aa3e596c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZO1FRWEf7foYU0D78SOKGw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/stocksnap-894430/" rel="noopener ugc nofollow" target="_blank"> StockSnap </a>在<a class="ae jg" href="https://pixabay.com/photos/pocket-watch-locket-watch-timepiece-2569573/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的照片</p></figure><p id="ac6e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这一节中，我想展示timedelta模块是如何灵活的。您几乎可以对timedelta对象应用任何类型的数值运算。在上一节中，我们已经定义了一些对象，这样我们就可以在演示中重用它们。</p><p id="c8a9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，减法会起作用并不会让人感到意外。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="94a4" class="md me jj lz b gy mf mg l mh mi">one_day = one_day_and_one_second - one_second</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/335a2e4ecf87e990a8cf7abdc695fbd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*AF2_ntSQIJ7R5n2p1nE1yg.png"/></div></figure><p id="092f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这也意味着我们可以像元素是数字一样转换方程。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="3b3e" class="md me jj lz b gy mf mg l mh mi">assert one_day + one_second == one_day_and_one_second<br/>assert one_day_and_one_second - one_day == one_second</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/cd599df10ef1790cc096912a5090438d.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*BhFeUWQ53XYr0KUy7XJfxQ.png"/></div></figure><p id="aa6e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以用数字来乘或除时间间隔。比如1天10次就是10天。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="42a8" class="md me jj lz b gy mf mg l mh mi">one_day * 10</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi no"><img src="../Images/645eca948d43e37e7fd38b0dd85096c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*CfHBvzeLKRXr73wU2VNuXw.png"/></div></div></figure><p id="0e72" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以将时间间隔除以另一个。下面的例子显示了“一天有多少秒”。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="66a4" class="md me jj lz b gy mf mg l mh mi">one_day / one_second</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi np"><img src="../Images/feb5b10563f9d2f1449be0c2aa3734e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*NFYLygpmRElp7ATrAL1-wg.png"/></div></figure><p id="3176" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想要一个整数，双斜线也给我们一个结果的“底数”。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="d912" class="md me jj lz b gy mf mg l mh mi">one_day // one_second</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/5ae2d69e908503c19c727c21abb0d946.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*UAezNAKmlBiy4BRIATy3Rw.png"/></div></figure><p id="5b46" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们甚至可以在timedelta对象之间进行模运算。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="6b08" class="md me jj lz b gy mf mg l mh mi">timedelta(seconds=5) % timedelta(seconds=2)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/573955bd23b873f4b704bee7cecb1224.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*fZpm2eZegOxzWJ99uP-r8w.png"/></div></figure><p id="6949" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一些数字函数也可以应用于timedelta对象，比如获取绝对值。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="c584" class="md me jj lz b gy mf mg l mh mi">abs(timedelta(days=-7))</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/7fc91548462c246c6484d0b98e809b77.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*DFIQ01QkglVoiHuNJGMXNw.png"/></div></figure><p id="e338" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当您正在获取两个datetime对象之间的“差异”并且不在乎哪一个是先例时，这将非常有帮助。</p><h2 id="a10f" class="md me jj bd mk nt nu dn mo nv nw dp ms lh nx ny mu ll nz oa mw lp ob oc my od bi translated">除秒以外的展平时间间隔</h2><p id="5af4" class="pw-post-body-paragraph ky kz jj la b lb oe kk ld le of kn lg lh og lj lk ll oh ln lo lp oi lr ls lt im bi translated">有时，出于比较或存储的目的，我们可能需要将时间间隔转换成统一的时间单位。大多数时候我们可以调用<code class="fe na nb nc lz b">total_seconds()</code>函数将一个timedelta对象“展平”成秒。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="d296" class="md me jj lz b gy mf mg l mh mi">one_day.total_seconds()</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/0b60ed69449deddee1a8cfb4141ed46d.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*tghzOaFxmQr_c1mAZtifcQ.png"/></div></figure><p id="97ae" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这其实相当于<code class="fe na nb nc lz b">one_day / timedelta(seconds=1)</code>。因此，我们可以轻松地将timedelta对象展平为其他时间单位。例如:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="1ef5" class="md me jj lz b gy mf mg l mh mi">one_day / timedelta(hours=1)<br/>one_day / timedelta(microseconds=1)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/7abc01169bc2b92aea6d34c262333da0.png" data-original-src="https://miro.medium.com/v2/resize:fit:734/format:webp/1*6u3tWMrSPQcg8KTzQia6Lg.png"/></div></figure><h1 id="241d" class="mj me jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">5.字符串的时间增量</h1><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6c9b32f76d86afacfae21d0d5096909e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4lDTJ87o-Q-qXaxcSZwRYw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/nattanan23-6312362/" rel="noopener ugc nofollow" target="_blank"> nattanan23 </a>在<a class="ae jg" href="https://pixabay.com/photos/clock-money-growth-grow-time-2696234/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></figure><p id="5682" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，不仅datetime对象可以方便地转换为字符串以供输出，timedelta对象也可以。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="e502" class="md me jj lz b gy mf mg l mh mi">str(timedelta(days=7, hours=10, seconds=30, microseconds=300000))</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/b5915ca854e72263bb4402440cf97a88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*z5QdXY08Dm5F0BhpxawLJQ.png"/></div></figure><p id="bdfa" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它可能不完全是您所期望的，因为我们每次开发的应用程序都有不同的需求。然而，这绝对是一种输出时间间隔的有效方法。</p><p id="0959" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样，我们可以使用类函数<code class="fe na nb nc lz b">repr()</code>将对象输出为字符串。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="61cf" class="md me jj lz b gy mf mg l mh mi">repr(timedelta(days=7, hours=10, seconds=30, microseconds=300000))</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi om"><img src="../Images/8f17ecddf43d32e47afb09deb1a63bdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*Yq7K_Nrcu7e_gZDJEnuVNA.png"/></div></figure><h1 id="99f9" class="mj me jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">摘要</h1><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/fdadfc437cb2c13a3ef4468b186bbe76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3V_L79FYoPMijD62baCI1g.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/free-photos-242387/" rel="noopener ugc nofollow" target="_blank">自由照片</a>在<a class="ae jg" href="https://pixabay.com/photos/beer-cheers-sunset-sunlight-839865/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的照片</p></figure><p id="97e1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我假设您已经知道Python内置的datetime库中的timedelta模块。我试图组织一些知识点，这些知识点不太可能被每个开发人员，尤其是学习者所了解，并且在本文中有所解释，比如对象之间的边界和稀有操作。希望它能满足你的一些好奇心。</p><div class="is it gp gr iu on"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd jk gy z fp os fr fs ot fu fw ji bi translated">通过我的推荐链接加入Medium克里斯托弗·陶</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">medium.com</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb ja on"/></div></div></a></div><p id="62e3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入Medium会员来支持我和成千上万的其他作者！(点击上面的链接)</p></div></div>    
</body>
</html>