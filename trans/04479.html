<html>
<head>
<title>Data Visualization using Grammar Graphics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用语法图形的数据可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-visualization-using-grammar-graphics-a600379d0d22?source=collection_archive---------31-----------------------#2021-04-16">https://towardsdatascience.com/data-visualization-using-grammar-graphics-a600379d0d22?source=collection_archive---------31-----------------------#2021-04-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5256" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Plotnine进行数据可视化</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c1041e03fb406e57362bb1f65f4e7a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aKysKlwPFbrFSrz8qw676Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a>)</p></figure><p id="8444" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">数据可视化</strong>是可视化地表示数据，以便找出某些模式或异常值。它有助于发现数据集不同属性之间的关系。它是数据的图形表示。</p><p id="8ce9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/has2k1/plotnine" rel="noopener ugc nofollow" target="_blank"> Plotnine </a>是一个基于ggplot2的开源库，是图形文法的一个实现。使用plotnine使用语法创建图很容易，因为它使自定义图变得容易，并且还可以创建简单的图。</p><p id="de40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将了解如何使用plotnine创建不同的条形图和图表。</p><p id="d699" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧…</p><h1 id="dea6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">安装所需的库</h1><p id="b151" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们将从使用pip安装Plotnine开始。下面给出的命令可以做到这一点。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="77a7" class="mx lw it mt b gy my mz l na nb">pip install plotnine</span></pre><h1 id="8c4e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">导入所需的库</h1><p id="5edc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在这一步中，我们将导入所需的库和函数来创建图。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="9126" class="mx lw it mt b gy my mz l na nb">from plotnine import *<br/>from plotnine.data import *</span></pre><h1 id="51c0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">创建地块</h1><p id="b344" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在我们将开始一个接一个地创建情节，看看如何创建它们</p><ol class=""><li id="13e1" class="nc nd it lb b lc ld lf lg li ne lm nf lq ng lu nh ni nj nk bi translated"><strong class="lb iu">散点图</strong></li></ol><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="fafd" class="mx lw it mt b gy my mz l na nb">(ggplot(mtcars, aes('wt', 'mpg'))<br/> + geom_point())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/3b14e6eb628fa5690c6ef27553006129.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*gIROIirw27_D570fjHuYwA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">散点图(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a>)</p></figure><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="054a" class="mx lw it mt b gy my mz l na nb">#Scatter Plot with differnt theme<br/>(ggplot(mtcars, aes('wt', 'mpg', color='factor(gear)'))<br/> + geom_point()<br/> + stat_smooth(method='lm')<br/> + facet_wrap('~gear')<br/> + theme_xkcd())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/01e159aaee2cb1c51e9afa0e248b3cdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QCvqFjkhVLXwjtPxxj2eMA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">散点图(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a></p></figure><p id="0370" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.<strong class="lb iu">线条图</strong></p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4fe8" class="mx lw it mt b gy my mz l na nb">(<br/>    ggplot(economics, aes(x='date', y='uempmed')) <br/>    + geom_line() # line plot<br/>    + labs(x='date', y='median duration of unemployment')<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/42eb7b76ebaa2976886fac83dbb7a2dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*HXYsYSG1rdR69xCIktglcg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">线条图(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a>)</p></figure><p id="0714" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.<strong class="lb iu">直方图</strong></p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4cde" class="mx lw it mt b gy my mz l na nb">(<br/>    ggplot(diamonds, aes(x='carat')) <br/>    + geom_histogram()<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/12169912286ebd659f05270b80a45999.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*6llo4JxQNNJTBQR9G3HlFw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">直方图(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a></p></figure><p id="efdc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.<strong class="lb iu">堆叠</strong> <strong class="lb iu">条形图</strong></p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="21c5" class="mx lw it mt b gy my mz l na nb">import pandas as pd<br/>df = pd.DataFrame({<br/>    'variable': ['gender', 'gender', 'age', 'age', 'age', 'income', 'income', 'income', 'income'],<br/>    'category': ['Female', 'Male', '1-24', '25-54', '55+', 'Lo', 'Lo-Med', 'Med', 'High'],<br/>    'value': [60, 40, 50, 30, 20, 10, 25, 25, 40],<br/>})<br/>df['variable'] = pd.Categorical(df['variable'], categories=['gender', 'age', 'income'])<br/>df['category'] = pd.Categorical(df['category'], categories=df['category'])</span><span id="d7d5" class="mx lw it mt b gy no mz l na nb">#Plotting Data<br/><br/>(ggplot(df, aes(x='variable', y='value', fill='category'))<br/> + geom_col()<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/f9ab5d087acfbbb2d781e670c5a9ffb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*d9ZM53D1-LpJjaco5Es5BA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">条形图(来源:<a class="ae ky" href="https://www.linkedin.com/in/himanshusharmads/" rel="noopener ugc nofollow" target="_blank">作者</a>)</p></figure><p id="3526" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是我们如何使用plotnine创建不同的条形图和曲线图。继续尝试不同的数据集，并让我知道您在回复部分的评论。</p><p id="e5da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文是与<a class="nq nr ep" href="https://medium.com/u/40808d551f5a?source=post_page-----a600379d0d22--------------------------------" rel="noopener" target="_blank">皮尤什·英格尔</a>合作完成的。</p><h1 id="e06e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">在你走之前</h1><p id="b9c4" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><strong class="lb iu"> <em class="ns">感谢</em> </strong> <em class="ns">的阅读！如果你想与我取得联系，请随时通过hmix13@gmail.com联系我或我的</em> <a class="ae ky" href="http://www.linkedin.com/in/himanshusharmads" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="ns"> LinkedIn个人资料</em> </strong> </a> <em class="ns">。可以查看我的</em><a class="ae ky" href="https://github.com/hmix13" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="ns">Github</em></strong><em class="ns"/></a><em class="ns">简介针对不同的数据科学项目和包教程。还有，随意探索</em> <a class="ae ky" href="https://medium.com/@hmix13" rel="noopener"> <strong class="lb iu"> <em class="ns">我的简介</em> </strong> </a> <em class="ns">，阅读我写过的与数据科学相关的不同文章。</em></p></div></div>    
</body>
</html>