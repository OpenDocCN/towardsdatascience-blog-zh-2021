<html>
<head>
<title>Dirty Secrets of BookCorpus, a Key Dataset in Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习中的关键数据集BookCorpus的肮脏秘密</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dirty-secrets-of-bookcorpus-a-key-dataset-in-machine-learning-6ee2927e8650?source=collection_archive---------23-----------------------#2021-05-12">https://towardsdatascience.com/dirty-secrets-of-bookcorpus-a-key-dataset-in-machine-learning-6ee2927e8650?source=collection_archive---------23-----------------------#2021-05-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="8474" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/fairness-and-bias" rel="noopener" target="_blank">公平和偏见</a></h2><div class=""/><div class=""><h2 id="3c2e" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">仔细看看BookCorpus，这是一个帮助Google、OpenAI、Amazon和其他公司训练大型语言模型的文本数据集</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/a8b4643fc775838bf6be4e5eb2f3a97d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ne1AhCdOnOCgo5cDe_8aKg.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@javiertenenbaum?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">贾维尔·基罗加</a>在<a class="ae le" href="https://unsplash.com/s/photos/dirty-books?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d0b5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">据<a class="ae le" href="https://huggingface.co/datasets/bookcorpus" rel="noopener ugc nofollow" target="_blank"> HuggingFace </a>报道，BookCorpus已经帮助训练了至少三十个有影响力的语言模型(包括谷歌的<a class="ae le" href="https://ai.googleblog.com/2018/11/open-sourcing-bert-state-of-art-pre.html" rel="noopener ugc nofollow" target="_blank"> BERT </a>，OpenAI的<a class="ae le" href="https://openai.com/blog/language-unsupervised/" rel="noopener ugc nofollow" target="_blank"> GPT </a>，以及亚马逊的<a class="ae le" href="https://huggingface.co/amazon/bort" rel="noopener ugc nofollow" target="_blank"> Bort </a>)。</p><p id="07f1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">但是BookCorpus里面到底是什么呢？</em></p><p id="c0fd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这是我和Nicholas Vincent在一篇新的工作论文中提出的研究问题，这篇论文试图解决机器学习研究中的一些“文档债务”——这是由Emily M. Bender博士和Timnit Gebru博士等人在他们的随机鹦鹉论文中讨论的概念。</p><p id="0317" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">虽然自从BookCorpus首次推出以来，许多研究人员已经使用了它，但文档仍然很少。介绍该数据集的<a class="ae le" href="https://yknzhu.wixsite.com/mbweb" rel="noopener ugc nofollow" target="_blank">原始论文</a>将其描述为“来自网络的11，038本书的语料库”，并提供了6项汇总统计数据(7400万个句子，9.84亿个单词等。).</p><p id="47dd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们决定仔细看看——这是我们的发现。</p><h1 id="b831" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">一般注意事项</h1><p id="ec1f" class="pw-post-body-paragraph lf lg iq lh b li mu ka lk ll mv kd ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">首先要注意的是，BookCorpus包含了来自Smashwords.com的书籍样本，该网站自称是“世界上最大的独立电子书分销商”</p><p id="9071" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">截至2014年，Smashwords托管了<a class="ae le" href="https://blog.smashwords.com/2014/12/smashwords-year-in-review-2014-and.html" rel="noopener ugc nofollow" target="_blank">33.64万本图书</a>。相比之下，在同一年，国会图书馆总共收藏了<a class="ae le" href="https://www.loc.gov/item/prn-14-009/library-by-the-numbers-2013/2014-01-23/" rel="noopener ugc nofollow" target="_blank"> 23，592，066本编目图书</a>(大约是它的70倍)。</p><p id="295d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">收集BookCorpus的研究人员下载了每本超过20000字的免费书籍，结果是11038本——占所有Smashwords.com书籍的3%。但是正如下面所讨论的，我们发现这些书中有数千本是重复的，只有7185本是独特的，所以BookCorpus只是所有关于词汇书籍的2%的样本。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="0ed1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在<a class="ae le" href="https://arxiv.org/abs/2105.05241" rel="noopener ugc nofollow" target="_blank">完整数据表</a>中，我们提供了关于资金的信息(谷歌和三星是资金来源之一)、BookCorpus的原始用例(句子嵌入)，以及<a class="ae le" href="https://arxiv.org/abs/1803.09010" rel="noopener ugc nofollow" target="_blank">数据表标准</a>中概述的其他细节。在这篇博文中，我将重点介绍一些更令人关注的发现。</p><h1 id="42ad" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">🚨主要关切</h1><h2 id="134d" class="nb md iq bd me nc nd dn mi ne nf dp mm lo ng nh mo ls ni nj mq lw nk nl ms iw bi translated">🙅🏻侵犯版权</h2><p id="2c79" class="pw-post-body-paragraph lf lg iq lh b li mu ka lk ll mv kd ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">2016年，<a class="ae le" href="https://www.theguardian.com/books/2016/sep/28/google-swallows-11000-novels-to-improve-ais-conversation" rel="noopener ugc nofollow" target="_blank"> Richard Lea在<em class="mb"> The Guardian </em> </a>中解释说，谷歌没有征得BookCorpus作者的同意，这些作者的书有助于推动谷歌的技术。</p><p id="e9f0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">更进一步，我们发现有证据表明BookCorpus直接违反了数百本不应该通过免费数据集重新分发的书籍的版权限制。例如，BookCorpus中有超过200本书明确声明“不得出于商业或非商业目的复制、拷贝和分发”</p><p id="5e9a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们还发现，包括在免费图书语料库数据集中的至少406本书现在需要在数据集的来源Smashwords上付费。截至2021年4月，购买这406本书将花费1182.21美元。</p><h2 id="165f" class="nb md iq bd me nc nd dn mi ne nf dp mm lo ng nh mo ls ni nj mq lw nk nl ms iw bi translated">📕📕复制书籍</h2><p id="c7cf" class="pw-post-body-paragraph lf lg iq lh b li mu ka lk ll mv kd ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">BookCorpus通常被描述为包含11，038本书，这是原作者报告的内容。然而，我们发现数千本书是重复的，事实上数据集中只有7185本书是唯一的。具体细分如下:</p><ul class=""><li id="6ce8" class="nm nn iq lh b li lj ll lm lo no ls np lw nq ma nr ns nt nu bi translated">4，255本书出现一次(即没有重复)</li><li id="3f74" class="nm nn iq lh b li nv ll nw lo nx ls ny lw nz ma nr ns nt nu bi translated">2101本书出现两次📕📕</li><li id="9a37" class="nm nn iq lh b li nv ll nw lo nx ls ny lw nz ma nr ns nt nu bi translated">741本书出现了三次📗📗📗</li><li id="ccbb" class="nm nn iq lh b li nv ll nw lo nx ls ny lw nz ma nr ns nt nu bi translated">82本书出现了四次📘📘📘📘</li><li id="5e03" class="nm nn iq lh b li nv ll nw lo nx ls ny lw nz ma nr ns nt nu bi translated">6本书出现了5次📙📙📙📙📙</li></ul><h2 id="e94e" class="nb md iq bd me nc nd dn mi ne nf dp mm lo ng nh mo ls ni nj mq lw nk nl ms iw bi translated">📊倾斜的流派表现</h2><p id="6857" class="pw-post-body-paragraph lf lg iq lh b li mu ka lk ll mv kd ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">与一个名为BookCorpusOpen的新版本和另一个关于Smashwords的所有书籍的数据集(Smashwords21)相比，原始的BookCorpus有一些重大的体裁偏差。下表列出了所有详细信息:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="oa na l"/></div></figure><p id="5140" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">值得注意的是，BookCorpus过度代表了言情小说类型，考虑到自助出版的更广泛模式，这并不奇怪(<a class="ae le" href="https://www.theatlantic.com/technology/archive/2018/07/amazon-kindle-unlimited-self-publishing/565664/" rel="noopener ugc nofollow" target="_blank">作者一直发现</a><a class="ae le" href="https://www.theverge.com/2018/7/16/17566276/cockygate-amazon-kindle-unlimited-algorithm-self-published-romance-novel-cabal" rel="noopener ugc nofollow" target="_blank">言情小说的需求量很大</a>)。它还包含了相当多的吸血鬼类型的书籍，这些书籍可能已经被淘汰，因为Smashwords21中没有出现吸血鬼书籍。</p><p id="4a3b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">就其本身而言，在训练大型语言模型时，偏斜的表示可能会导致问题。但是当我们看一些“浪漫”小说时，很明显一些书引起了更多的关注。</p><h1 id="9b5e" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">需要进一步关注的⚠️潜在问题</h1><h2 id="31d1" class="nb md iq bd me nc nd dn mi ne nf dp mm lo ng nh mo ls ni nj mq lw nk nl ms iw bi translated">🔞有问题的内容</h2><p id="7a12" class="pw-post-body-paragraph lf lg iq lh b li mu ka lk ll mv kd ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">虽然在确定BookCorpus中有问题内容的程度方面还有更多工作要做，但我们的分析表明它确实存在。举个例子，想想《图书文集》中的一本名为<a class="ae le" href="https://www.smashwords.com/books/view/308710" rel="noopener ugc nofollow" target="_blank"> <em class="mb">的小说《警察和咖啡店里的女孩》</em> </a>。</p><div class="ob oc gp gr od oe"><a href="https://www.smashwords.com/books/view/308710" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ja gy z fp oj fr fs ok fu fw iz bi translated">警察和咖啡店的女孩，特里·塔沃斯的电子书</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">对杰德来说，有一个顾客让去咖啡店工作变得值得，他就是亚历克斯·凯恩警官。只需一个…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">www.smashwords.com</p></div></div><div class="on l"><div class="oo l op oq or on os ky oe"/></div></div></a></div><p id="f676" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这本书的序言明确指出“这本书的内容面向18岁以上的人。”这本书的标签包括“强势男性”和“顺从女性”</p><p id="98b3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">虽然有见识的成年人阅读这样的书可能没有什么害处，但将它作为训练材料喂给语言模型会导致这些技术中有据可查的性别歧视。</p><h2 id="ca4c" class="nb md iq bd me nc nd dn mi ne nf dp mm lo ng nh mo ls ni nj mq lw nk nl ms iw bi translated">🛐教潜在地扭曲了宗教代表性</h2><p id="afb8" class="pw-post-body-paragraph lf lg iq lh b li mu ka lk ll mv kd ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">当谈到歧视时，最近推出的大胆框架还建议关注世界上最常见的七种宗教:锡克教、犹太教、伊斯兰教、印度教、基督教、佛教和无神论。</p><p id="2c84" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">虽然我们还没有适当的元数据来全面分析BookCorpus中的宗教表现，但我们确实发现BookCorpusOpen和Smashwords21表现出偏斜，这表明这也可能是原始BookCorpus数据集中的一个问题。下面是细目分类:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ot na l"/></div></figure><p id="c5ce" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">需要做更多的工作来澄清BookCorpus原始版本中的宗教表述，然而，BookCorpus确实使用了与BookCorpusOpen和Smashwords21相同的来源，所以类似的偏差是可能的。</p><h2 id="b85f" class="nb md iq bd me nc nd dn mi ne nf dp mm lo ng nh mo ls ni nj mq lw nk nl ms iw bi translated">⚖️不平衡的作者贡献</h2><p id="8ea9" class="pw-post-body-paragraph lf lg iq lh b li mu ka lk ll mv kd ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">另一个潜在的问题是不平衡的作者贡献。同样，我们还没有完整分析BookCorpus所需的所有元数据，但我们可以根据Smashwords21数据集进行估计。</p><p id="420a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在Smashwords21中，我们发现作者的贡献相当不平衡，前10%的作者贡献了数据集中所有单词的59%。单词贡献大致遵循<a class="ae le" href="https://en.wikipedia.org/wiki/Pareto_principle" rel="noopener ugc nofollow" target="_blank">帕累托原则</a>(即80/20法则)，排名前20%的作者贡献了所有单词的75%。</p><p id="7f0e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">同样，在图书贡献方面，前10%的作者贡献了所有图书的43%。我们甚至发现了一些“超级作者”，比如已经出版了800多本书的<a class="ae le" href="https://www.smashwords.com/profile/view/kenkee481/newest/50" rel="noopener ugc nofollow" target="_blank">肯尼斯·基</a>。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ou na l"/></div></figure><p id="db21" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果BookCorpus从整体上看与Smashwords.com相似，那么数据集中的大部分书籍可能是由少数作者写的。在许多情况下，研究人员可能希望在使用数据集时考虑这些不平衡的贡献。</p><h1 id="551a" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">下一步是什么？</h1><p id="c8dd" class="pw-post-body-paragraph lf lg iq lh b li mu ka lk ll mv kd ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">有了数据集文档的新NeurIPS <a class="ae le" href="https://neuripsconf.medium.com/introducing-the-neurips-2021-paper-checklist-3220d6df500b" rel="noopener">标准</a>，甚至有了专门用于数据集的全新<a class="ae le" href="https://neuripsconf.medium.com/announcing-the-neurips-2021-datasets-and-benchmarks-track-644e27c1e66c" rel="noopener">轨道</a>，追溯文档工作的需求(就像这里展示的)有望下降。</p><p id="ce48" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">与此同时，像这样的努力可以帮助我们理解和改善支持机器学习的数据集。</p></div><div class="ab cl ov ow hu ox" role="separator"><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa"/></div><div class="ij ik il im in"><p id="7c5d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">如果你想了解更多，你可以在这里查看我们的</em> <a class="ae le" href="https://github.com/jackbandy/bookcorpus-datasheet" rel="noopener ugc nofollow" target="_blank"> <em class="mb">代码和数据</em> </a> <em class="mb">，以及</em> <a class="ae le" href="https://arxiv.org/abs/2105.05241" rel="noopener ugc nofollow" target="_blank"> <em class="mb">全文在这里</em> </a> <em class="mb">，其中包括以下总结我们发现的“数据卡:</em></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pc"><img src="../Images/c567320566dba88b5ac6d4931652e899.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSDMQbMYNnK0MrDLf-plmA.png"/></div></div></figure><p id="4fb0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">如果你有问题/评论，请到</em> <a class="ae le" href="https://github.com/jackbandy/bookcorpus-datasheet/discussions/1" rel="noopener ugc nofollow" target="_blank"> <em class="mb"> Github讨论</em> </a> <em class="mb">！也可以直接伸手</em> <a class="ae le" href="https://twitter.com/nickmvincent" rel="noopener ugc nofollow" target="_blank"> <em class="mb">尼克</em> </a> <em class="mb">或者</em> <a class="ae le" href="https://twitter.com/jackbandy" rel="noopener ugc nofollow" target="_blank"> <em class="mb">本人</em> </a> <em class="mb">。感谢阅读到最后🙂</em></p></div></div>    
</body>
</html>