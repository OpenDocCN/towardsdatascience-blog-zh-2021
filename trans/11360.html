<html>
<head>
<title>Why Data Scientists Should use Jupyter Notebooks with Moderation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么数据科学家应该适度使用Jupyter笔记本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-data-scientists-should-use-jupyter-notebooks-with-moderation-808900a69eff?source=collection_archive---------5-----------------------#2021-11-08">https://towardsdatascience.com/why-data-scientists-should-use-jupyter-notebooks-with-moderation-808900a69eff?source=collection_archive---------5-----------------------#2021-11-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8a57" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Jupyter笔记本改变了全球数据科学家的游戏规则。但是应该乱用吗？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/765ace3e9c80b099120b5fff8bc321f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2cNEWlF6E5N0NzU9ft3zNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Elisa Ventur 在Unsplash上拍摄的照片</p></figure><h1 id="2cc5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="df3e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">毫无疑问，2015年Jupyter项目及其笔记本的推出改变了科学程序员和他们的代码之间的关系。第一个原因是连接不同编程语言(内核)的简单性，以及将文本与代码片段和输出(如表格、图形和地图)组合成一个页面的简单性。这种笔记本特性使得实现由Donald Knuth在1984年首次提出的有文化的编程范例成为可能，而且很简单。</p><blockquote class="mn mo mp"><p id="24a4" class="lr ls mq lt b lu mr ju lw lx ms jx lz mt mu mc md mv mw mg mh mx my mk ml mm im bi translated">识字编程最初是由斯坦福大学的Knuth提出的，目的是使程序逻辑更接近人类语言。它将代码与自然语言文本结合起来。</p></blockquote><p id="571d" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">第二个原因是Jupyter笔记本的交互特性。试验数据并查看每个输入命令的代码结果的可能性使它成为数据科学家和研究人员的理想选择，他们的重点是数据分析而不是开发。<br/>通过使用交互式笔记本，不再需要编写充满几十(或几百)行容易出错的代码的长脚本来在处理结束时显示结果。根据目标的不同，你甚至不需要费心去声明函数或者设计类。你可以按需声明你的变量，然后关注结果。</p><p id="0479" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">一句话:Python和Jupyter成为数据科学家的标准。越来越多需要这些技能的课程和工作岗位可以证实这一点。</p><p id="f80d" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">但现在，你可能会问自己。如果它这么好(而且是一个改变游戏规则的人)，为什么我还要管它的使用呢？</p><p id="3494" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">为了回答这个问题，我要讲一个小故事。</p><h1 id="f43c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">老式节目</h1><p id="0c43" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当我开始在大学开展我的研究时，我至少有10年没有从事任何编码工作，我几乎不知道Python的存在。我曾经用Pascal、C和Fortran中的一点点编写代码，它们是我毕业时在大学里使用的主要科学语言(我知道，那是很久以前的事了)。我既不知道Jupyter的存在，也不知道成千上万个不同的Python包中的任何一个，这可能会让人不知所措。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/81f98f80e97cea95c74d129dea103a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Spx7JA8d_cjCPr24"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@bertsz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">伯特b </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="e555" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">所以我开始了我习惯的方式。买了两本Python的书(没错没错…我还在用书)装了基本的Python解释器和一个很好的免费IDE。快速的网络搜索让我找到了Pycharm社区的T2版本。</p><p id="ed33" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">由于我没有Jupyter提供的快速可视化的优势，我创建了一个管道来预处理所有的输入数据，并测试不同的处理组合。最后，它生成了我的研究所需的所有可能的图表和输出。我被迫写一个好的代码，它很容易被复制，否则，我将不能分析一切。当我处理高分辨率卫星图像时，数据量非常大。</p><p id="b146" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">我花了一些时间来开发一切，但一旦工作完成，我就可以专注于在全球的不同地区，以不同的覆盖范围等来试验该算法。最终，我对结果感到满意，我的第一篇科学论文和公共Python包(一个卫星图像的水探测软件)发表了。你可以在GitHub库<a class="ae ky" href="https://github.com/cordmaur/WaterDetect" rel="noopener ugc nofollow" target="_blank">这里</a>查看它们。</p><h1 id="1fa5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">笔记本“编程”</h1><p id="e6f8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">通过了我的第一个研究“检查点”，我开始学习新的工具来提高我的技能，然后我安装了Jupyter Lab(以前笔记本的更新版本)。</p><p id="01ea" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">我的生活改变了。我记得当时在想… <strong class="lt iu">“为什么我之前不试试这个？”</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/5b2f85feb101726b651c4ea0f0957f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wszdw-xJuqg7g7aC"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@mjessier?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Myriam Jessier </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="9802" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">我对测试、记录和快速可视化我所做的所有事情的无限可能性感到惊讶。我甚至测试了一些最近的软件包，它们将笔记本变成了一种开发环境。这个名为<code class="fe nb nc nd ne b"><strong class="lt iu">nbdev</strong></code>的工具使得导出模块、创建包甚至记录全部内容变得更加容易。我想，这是两个世界中较好的一个。</p><p id="4f24" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">然而，在另一个主题上工作了几个月，并在我的机器学习研究方面取得了相当好的成果之后，我的上司告诉了我一些害怕的话:“伟大的成果！让我们在不同的网站上进行尝试，以验证结果。”。不同的网站？验证结果？为了明天？？？</p><p id="564c" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">我对此没有准备。为了获得最初的结果，我用不同的算法、不同的预处理标准化等运行了一系列不同的机器学习测试。但重点是结果，而不是开发一个完整的加工链，我仍然在“试验”。因此，代码没有模块化，很难重现一个旧的实验，我从来没有找到笔记本上正确版本的实现，等等。等等。等等。</p><p id="700a" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">因此，仅仅是为一个新的位置复制结果就非常痛苦。而且要花很多时间。这让我们效率很低。对于要求苛刻的上级来说，这不是一件容易理解的事情。他只是想“…但是你已经开发了它，你已经给我看了结果，我现在所要求的是<strong class="lt iu">按下同样的按钮</strong>”。嗯……算是吧。</p><p id="26f5" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">事实是，一段时间后，我做了很多不同的测试和实验，并编码，这是真的。但是我没有模块化的代码，无法发布，也无法与其他研究人员分享。我只有…一堆互不关联的笔记本，重复的功能，奇怪的名字，等等。</p><p id="9c91" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">到最后，似乎我没有以前那么有效率了。我没有构建任何东西。我没有软件要交付。这种感觉很糟糕。</p><p id="2173" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">我已经在这个故事里写过科学软件设计不好的原因:<a class="ae ky" rel="noopener" target="_blank" href="/7-reasons-why-scientific-software-are-not-well-designed-5b9f38e0027d?source=your_stories_page----------------------------------------">科学软件设计不好的7个原因</a>。而我相信，科学家“程序员”对Jupyter笔记本的不加选择的使用，会让这个问题变得更加严重。</p><h1 id="57f0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">卡格尔的洞察力</h1><p id="f693" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在我是一个狂热的笔记本用户的这段时间里，我也参加了一些Kaggle比赛，以提高我在深度学习方面的技能(在我看来，这是向其他DL从业者学习的最好方式)。比赛结束后，他们总会做的一件好事是采访获胜者。</p><p id="352d" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">于是有了这次采访，采访对象是一个俄罗斯人(我不记得他是哪个比赛的了)。有人问他使用的开发环境，他回答说:“我不使用Jupyter笔记本。我所做的一切都是通过简单的旧观念。那改变了我的想法。我是从一个有成千上万竞争者的比赛的获胜者那里听到的。很可能，他们中的大部分人直到现在还贴在他们的笔记本上。</p><p id="a62e" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">这个故事让我重新思考我的一些误解。事实是，使用Pycharm(或Spyder，或VS Code，任何其他IDE)时，我使用笔记本的效率比开始时更低了。</p><p id="ede9" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">这里我想指出的是:因为笔记本赋予我们的自由，所以有必要加倍承诺保持代码的干净、可复制、有组织等。有时候，这是不可行的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/73369709a538bc09636aa9eb9deb8112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nqyqUn2YDSi0zx3YK4iL0Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><h1 id="e195" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">解决办法？</h1><p id="843c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在，在我的数据科学之旅中，最适合我的是同时使用IDE和Jupyter进行开发，但目的不同。我在IDE上编写函数和类，放在我创建的一些新包中，然后我使用笔记本来调用包并可视化结果。这样，最终，我有了一个“现成的”包，可以与其他研究人员共享。</p><p id="a388" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">为了使这个设置工作，我们需要注意以下几点:</p><ul class=""><li id="8a19" class="ng nh it lt b lu mr lx ms ma ni me nj mi nk mm nl nm nn no bi translated">创建一个新的(空)包，并使用pip ( <code class="fe nb nc nd ne b">-e</code>选项)在编辑模式下安装。这样，源代码将保留在原始的文件夹结构中，您可以在其上继续开发。</li></ul><pre class="kj kk kl km gt np ne nq nr aw ns bi"><span id="2d73" class="nt la it ne b gy nu nv l nw nx">cd project_folder<br/>pip install -e .</span></pre><ul class=""><li id="ff5f" class="ng nh it lt b lu mr lx ms ma ni me nj mi nk mm nl nm nn no bi translated">使用Jupyter笔记本上的<code class="fe nb nc nd ne b">%autoreload</code>分机。这将允许您在IDE上更新软件包，并在笔记本上检查结果，而无需重新启动内核。</li></ul><pre class="kj kk kl km gt np ne nq nr aw ns bi"><span id="9ba4" class="nt la it ne b gy nu nv l nw nx"># on the very first cell of the notebook<br/>%load_ext autoreload<br/>%autoreload 2</span></pre><ul class=""><li id="63d8" class="ng nh it lt b lu mr lx ms ma ni me nj mi nk mm nl nm nn no bi translated">或者，您可以将IDE的调试器附加到Jupyter内核。在PyCharm上，这是在运行菜单中完成的(下图)。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/33c8b0f1e26cfcbdb3803bb948e80614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nAK2q0FfzHq5-E_zAm3qvA.png"/></div></div></figure><p id="1352" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">我目前正在开发一个新的掩模处理器，这是一个例子，展示了我现在的设置。我拥有IDE的所有优点(完成、参数检查等)。)，调试器正常运行，最终，包“准备好”进行部署。使用Jupyter笔记本仅用于显示结果的另一个优点是，它可以用作新软件包的用户手册。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/4b107799b906522cfa51b681fc88edad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ya-Yh2sjnJ_yUos3923uWw.png"/></div></div></figure><h1 id="434d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="d742" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">先说清楚。我并不反对使用Jupyter笔记本或任何其他交互式环境，如R或Matlab。我理解他们的优势，特别是对于研究和数据科学工作，重点是数据分析和实验，而不是代码生产。</p><p id="5c29" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">然而，我们必须牢记期望是什么。通常，我们所做的最简单的数据分析应该是可重复的，并且容易与其他同事共享。</p><p id="def2" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">如果我们使用笔记本只是为了利用社区中已经存在的多个包并显示结果，那也没问题。但是，对于一段新的代码，一种新的处理，甚至是现有过程的简单自动化，最终可能会适得其反。</p><p id="b343" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">作为一名数据科学家，您认为哪种环境设置最适合您？留下你的评论和见解。</p><p id="0551" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mu mc md me mw mg mh mi my mk ml mm im bi translated">下一个故事再见。</p><h1 id="0f99" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">保持联系</h1><p id="c5c3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><em class="mq">如果你喜欢这篇文章，并想继续无限制地阅读/学习这些和其他故事，考虑成为</em> <a class="ae ky" href="https://cordmaur.medium.com/membership" rel="noopener"> <em class="mq">中等会员</em> </a> <em class="mq">。你也可以在https://cordmaur.carrd.co/查看我的作品集。</em></p><div class="oa ob gp gr oc od"><a href="https://cordmaur.medium.com/membership" rel="noopener follow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">通过我的推荐链接加入媒体-毛里西奥·科代罗</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">cordmaur.medium.com</p></div></div><div class="om l"><div class="on l oo op oq om or ks od"/></div></div></a></div></div></div>    
</body>
</html>