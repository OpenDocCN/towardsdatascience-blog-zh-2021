<html>
<head>
<title>Data Cleaning: The Unsexy Side of Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据清理:数据科学不性感的一面</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-cleaning-the-unsexy-side-of-data-science-680fedabcb20?source=collection_archive---------20-----------------------#2021-11-03">https://towardsdatascience.com/data-cleaning-the-unsexy-side-of-data-science-680fedabcb20?source=collection_archive---------20-----------------------#2021-11-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9c5c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">对现实生活中的一个例子的深入研究</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a69aefb6a3f4b91f9d07c54e84a5ff70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ngpZPJU-NBkxSIOYmrWBrA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1531575" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>的<a class="ae ky" href="https://pixabay.com/users/klimkin-1298145/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1531575" rel="noopener ugc nofollow" target="_blank">克利姆金</a>提供</p></figure><p id="2883" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当<a class="ae ky" href="https://hbr.org/2012/10/data-scientist-the-sexiest-job-of-the-21st-century" rel="noopener ugc nofollow" target="_blank">《哈佛商业评论》</a>称数据科学家为<em class="lv"/><a class="ae ky" href="https://hbr.org/2012/10/data-scientist-the-sexiest-job-of-the-21st-century" rel="noopener ugc nofollow" target="_blank"><em class="lv">21 世纪最性感的工作</em></a><em class="lv"/>时，我怀疑“性感”是否包括了数据清理这一平凡的任务。虽然许多人认为数据科学就是使用机器学习算法来建立模型和产生商业影响，但数据清理也是成为数据科学家的一个重要组成部分。</p><p id="283b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于那些不熟悉数据清理过程的人来说，它可以像检查丢失的值、修复格式和标准化值一样简单——但这仅仅触及了表面。今天，我想通过一个现实生活中的例子来讨论我的经历，这个例子超越了基础知识，让你了解作为一名数据科学家应该做些什么。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="4e56" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">背景</h2><p id="be7b" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">我刚刚在一家新公司开始工作，市场渠道<a class="ae ky" href="https://www.wordstream.com/blog/ws/2014/07/23/referral-traffic-links" rel="noopener ugc nofollow" target="_blank">要求我计算访客注册率，因为谷歌分析中没有这些信息。作为一名新员工，我不熟悉这些数据，经过一些初步研究，我得出结论，有足够的数据来进行分析。当我开始更详细地查看数据并遇到一些障碍时，我意识到我说得太早了。</a></p><h2 id="dfe0" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">解决缺失的环节</h2><p id="f971" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">我的第一个问题是连接访问者注册。网站访问者和用户注册之间没有连接数据的公共密钥。访问者被分配一个 cookie ID，如果他们注册，他们被分配一个用户 ID，但是注册表格不存储 cookie ID😕</p><p id="5c10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在回到市场部告诉他们这项任务是不可能的之前，我决定探索连接数据的替代方法。我查看了两组数据之间的所有数据字段，以确定一个我可以使用的公共密钥，并找到了 IP 地址。这不是一个完美的解决方案，因为一个访问者可能有多个 IP 地址，但营销部门不知道每个渠道的注册率是多少。他们需要方向性的洞察力来决定在短期内将精力集中在哪里，直到工程修复了访问者和注册之间的联系。否则，他们可能会浪费时间来优化表现不佳的渠道。</p><p id="8fc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了确保 IP 地址是一个可行的选择，我比较了整体访客注册率，我计算的结果与其他营销报告类似。如果比率相差甚远，我会告诉市场部，在数据修正之前，分析是不可能的。</p><p id="14bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">外卖</strong>:</p><ul class=""><li id="84bd" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">现实世界中的数据是不完美的，您可能需要提出替代方案，以在短期内提供方向性的见解，直到找到长期解决方案。在我的例子中，我不得不使用 IP 地址来链接访问者和用户。</li><li id="925f" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">在继续之前，将您计算的费率与其他报告进行比较。您提议的解决方案可能会生成不正确的结果，您需要等待数据得到修复。</li><li id="669a" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">向利益相关者传达数据限制，以设定期望值。洞察力是方向性的，应在数据确定后重新计算。</li></ul><h2 id="e506" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">数据发现和删除重复项</h2><p id="ba44" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">下一步是创建一个 IP 地址到用户 ID 的映射表。这在理论上听起来很简单，直到我查看数据，发现有两个用户表，每个都有重复的用户 ID 记录。此外，用户表具有不同的覆盖范围，这意味着一个用户 ID 可以在两个表中，也可以只在一个表中。</p><p id="6d6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我必须对用户表进行重复数据删除，以确保每个表只有一个用户 ID 记录。我一次检查一个用户 ID 的重复记录，以评估哪些值不同。我注意到最早的用户记录与注册日期的访问者 IP 地址相匹配。我通过选择创建日期最早的记录，继续对用户数据进行重复数据消除。</p><p id="7653" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用了一个按用户 ID 的完整外部连接来创建一个完整的用户列表。我运行了另一个重复检查，删除了一个 IP 地址映射到多个用户的记录，因为我不能确定哪个用户 ID 对应于那个访问者记录。</p><p id="cab3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">外卖</strong>:</p><ul class=""><li id="f077" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">对于具有多个源的数据，运行覆盖率检查以确定是否需要创建新表。我注意到一个表只包含历史数据，而新用户在另一个表中被更新。这意味着我必须创建一个新表来获得创建的用户的完整列表。</li><li id="49fe" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">检查重复记录的值以确定差异(如果有)，从而确定要应用重复数据消除的业务逻辑。在我的例子中，我选择了最早的记录，因为它包含了与访问者匹配的正确的 IP 地址。可能所有值都相同，您可以通过选择任何记录来对表进行重复数据删除。</li><li id="3a3b" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">始终检查源表中的重复项以及从源数据创建的新表。如果有您没有发现的重复项，您可能会计算出错误的结果。如果我保存了一个 IP 地址映射到多个用户的记录，我可能会按渠道报告错误的注册率。</li></ul><h2 id="8372" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">应用业务逻辑生成新数据</h2><p id="3812" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">加入访客到用户后，我需要按营销渠道分组。不幸的是，没有可用的营销渠道字段，我不得不从访问者数据的其他字段中获取它。我研究了 Google Analytics 如何定义营销渠道，并使用类似的业务逻辑来与现有的营销报告保持一致。</p><p id="3d96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">外卖</strong>:</p><ul class=""><li id="73ce" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">如果你不确定获取价值的业务逻辑，研究现有的利益相关者使用和应用的类似定义的报告。这将有助于他们理解你的数字，因为他们已经熟悉了现有报告中使用的定义。</li></ul><h2 id="83d0" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated"><strong class="ak">最后的想法</strong></h2><p id="1de9" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">Tableau 将<a class="ae ky" href="https://www.tableau.com/learn/articles/what-is-data-cleaning" rel="noopener ugc nofollow" target="_blank">数据清理</a>定义为<a class="ae ky" href="https://www.tableau.com/learn/articles/what-is-data-cleaning" rel="noopener ugc nofollow" target="_blank"> <em class="lv">修复或删除数据集</em> </a> <strong class="lb iu"> <em class="lv">内不正确、损坏、格式不正确、重复或不完整数据的过程。</em> </strong>“在我的案例中，我用 IP 地址固定了从访客到注册的链接，去除了重复，应用了业务逻辑，生成了不完整的渠道数据。虽然数据清理不像构建机器学习模型那样性感，但它是成为数据科学家的一个重要部分，我希望你现在对现实世界中会发生什么有更好的想法。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="1379" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">你可能也会喜欢…</h2><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/how-to-present-machine-learning-results-to-non-technical-people-e096cc1b9f76"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">如何向非技术人员展示机器学习结果</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">展示利益相关者能够理解的模型结果</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og ks ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/how-to-deliver-a-successful-data-presentation-bfd23684197d"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">如何交付成功的数据演示</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">我从向高层领导做报告中学到的经验</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oh l od oe of ob og ks ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://medium.datadriveninvestor.com/how-to-become-a-successful-data-storyteller-f90e677e4770" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">如何成为一名成功的数据故事讲述者</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">数据演示初学者指南</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.datadriveninvestor.com</p></div></div><div class="ob l"><div class="oi l od oe of ob og ks ns"/></div></div></a></div></div></div>    
</body>
</html>