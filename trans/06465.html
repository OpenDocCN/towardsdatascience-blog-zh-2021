<html>
<head>
<title>Simulating and Visualizing Real-Life Events in Python with SimPy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用SimPy在Python中模拟和可视化真实事件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simulating-real-life-events-in-python-with-simpy-619ffcdbf81f?source=collection_archive---------2-----------------------#2021-06-10">https://towardsdatascience.com/simulating-real-life-events-in-python-with-simpy-619ffcdbf81f?source=collection_archive---------2-----------------------#2021-06-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bb76" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们将介绍活动行业完整模型的开发过程，并展示三种不同的可视化结果的方法(包括AR/VR)</h2></div><p id="eebe" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">离散事件仿真(DES)已成为专门产品的领域，如Simulink 8[1]和MatLab/Simulink [2]。然而，在用Python进行分析的时候(过去我会使用MatLab ),我很想测试Python是否也有DES的答案。</p><p id="5fe1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">DES是一种使用统计函数对现实生活事件建模的方法，通常用于医疗保健、制造、物流和其他领域的队列和资源使用[3]。最终目标是获得关键的运营指标，如资源使用和平均等待时间，以便评估和优化各种实际配置。SIMUL8有一个描述如何模拟急诊室等待时间的视频[4]，MathWorks有许多教育视频来提供该主题的概述[5]，此外还有一个关于汽车制造的案例研究[6]。SimPy [7]库支持在Python中描述和运行des模型。与SIMUL8等软件包不同，SimPy不是一个用于构建、执行和报告模拟的完整图形环境；但是，它确实提供了执行模拟和输出数据以进行可视化和分析的基本组件。</p><p id="a729" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本文将首先介绍一个场景，并展示如何在SimPy中实现它。然后，它将查看可视化结果的三种不同方法:Python原生解决方案(使用Matplotlib [8]和Tkinter [9])、基于HTML5 canvas的方法和交互式AR/VR可视化。最后，我们将使用SimPy模型来评估替代配置。</p><h1 id="c44b" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">场景</h1><p id="676c" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">在我们的演示中，我将使用我以前工作中的一个例子:一个活动的入场队列。然而，遵循类似模式的其他示例可能是在杂货店或接受在线订单的餐馆、电影院、药店或火车站排队。</p><p id="438c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将模拟一个完全由公共交通服务的入口:定期会有一辆公共汽车让几个顾客下车，然后他们需要在进入活动前扫描他们的门票。一些参观者会有他们预先购买的徽章或门票，而其他人则需要先去售票亭购买门票。更复杂的是，当参观者走近售票亭时，他们会成群结队(模拟家庭/团体购票)；但是，每个人都需要单独扫描门票。</p><p id="d212" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面描述了该场景的高级布局。</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ly"><img src="../Images/c8b1682ab15dd3e8560403fa30894a5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kjaFv-KqPChMSYji.png"/></div></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">图片作者和<a class="mo mp ep" href="https://medium.com/u/ff9741c7a288?source=post_page-----619ffcdbf81f--------------------------------" rel="noopener" target="_blank"> Matheus Ximenes </a></p></figure><p id="108e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了模拟这种情况，我们需要决定如何使用概率分布来表示这些不同的事件。在我们的实施中所做的假设包括:</p><ul class=""><li id="7d6a" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">平均每三分钟就有一辆公共汽车到达。我们将使用λ为1/3的指数分布来表示这一点</li><li id="9caa" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">每辆巴士将包含100 +/- 30名游客，使用正态分布确定(μ = 100，σ = 30)</li><li id="cf26" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">游客将使用正态分布(μ = 2.25，σ = 0.5)组成2.25+/–0.5人的群体。我们将把它四舍五入到最接近的整数</li><li id="8c25" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">我们假设40%的访问者需要在销售亭购买门票，另外40%的访问者将带着已经在线购买的门票到达，20%的访问者将带着员工凭证到达</li><li id="2b42" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">参观者平均需要一分钟走出巴士，走到卖家摊位(正常，μ = 1，σ = 0.25)，再花半分钟从卖家走到扫描仪(正常，μ = 0.5，σ = 0.1)。对于那些跳过卖家的人(预先购买的门票或佩戴徽章的员工)，我们假设平均步行时间为1.5分钟(正常，μ = 1.5，σ = 0.35)</li><li id="7451" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">游客到达时会选择最短的队伍，每一队都有一个卖家或扫描仪</li><li id="9b7f" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">销售需要1 +/- 0.2分钟完成(正常，μ = 1，σ = 0.2)</li><li id="60d9" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">完成一次扫描需要0.05 +/- 0.01分钟(正常，μ = 0.05，σ = 0.01)</li></ul><p id="e45d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">记住这一点，让我们从输出开始，并从那里向后工作。</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ne"><img src="../Images/d949b70af04039efa746d544037f7edb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hFhJYxTZ5VA3pDZD.gif"/></div></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">作者图片</p></figure><p id="c190" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">左手边的图表代表每分钟到达的游客数量，右手边的图表代表在该时刻离开队列的游客在被接待之前需要等待的平均时间。</p><h1 id="2066" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">简单模拟设置</h1><p id="0316" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">包含完整可运行源代码的存储库可以在<a class="ae nf" href="https://github.com/dattivo/gate-simulation" rel="noopener ugc nofollow" target="_blank">https://github.com/dattivo/gate-simulation</a>找到，下面的片段摘自<strong class="kh ir"> simpy example.py </strong>文件。在本节中，我们将逐步完成简单的特定设置；但是，请注意，为了将重点放在SimPy的DES特性上，省略了连接到Tkinter进行可视化的部分。</p><p id="a4f7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，让我们从模拟的参数开始。分析起来最有趣的变量是销售者行数(<strong class="kh ir"> SELLER_LINES </strong>)和每行的销售者数(<strong class="kh ir"> SELLERS_PER_LINE </strong>)以及它们对于扫描器的等价物(<strong class="kh ir"> SCANNER_LINES </strong>和<strong class="kh ir"> SCANNERS_PER_LINE </strong>)。此外，请注意两种可能的队列/卖家配置之间的区别:尽管最普遍的配置是拥有多个不同的队列，访问者将选择并停留，直到他们得到服务，但在零售业中看到多个卖家排队也变得更加主流(例如，在一般商品大盒子零售商的快速结账队列)。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="9f54" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">配置完成后，让我们开始SimPy过程，首先创建一个“环境”、所有队列(资源)，并运行模拟(在本例中，直到第60分钟)。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="1c7d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，我们正在创建一个<strong class="kh ir"> RealtimeEnvironment </strong>，它旨在近乎实时地运行一个模拟，特别是为了在它运行时将它可视化。随着环境的建立，我们生成我们的销售者和扫描器线路资源(队列),然后我们将依次传递给我们的总线到达的“主事件”。<strong class="kh ir"> env.process() </strong>命令将开始流程，如下图的<strong class="kh ir"> bus_arrival() </strong>函数所述。此函数是顶级事件，所有其他事件都从该事件调度。它模拟每隔<strong class="kh ir"> BUS_ARRIVAL_MEAN </strong>分钟到达一辆公交车，车上有<strong class="kh ir"> BUS_OCCUPANCY_MEAN </strong>人，然后相应地触发销售和扫描过程。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="3fa6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于这是顶级事件函数，我们看到该函数中的所有工作都发生在一个无限的while循环中。在循环中，我们用<strong class="kh ir"> env.timeout() </strong>来“放弃”我们的等待时间。SimPy广泛使用了生成器函数，这些函数将返回生成值的迭代器。关于Python生成器的更多信息可以在[10]中找到。</p><p id="6efd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在循环的最后，我们将分派两个事件中的一个，这取决于我们是直接进入扫描仪，还是随机决定该组需要先购买门票。请注意，我们不会屈服于这些过程，因为这将指示SimPy按顺序完成这些操作中的每一个；取而代之的是，所有下车的游客将同时排队。</p><p id="945d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，使用了<strong class="kh ir"> people_ids </strong>列表，以便为每个人分配一个唯一的ID用于可视化目的。我们使用<strong class="kh ir"> people_ids </strong>列表作为待处理人员的队列；随着游客被分派到他们的目的地，他们从<strong class="kh ir"> people_ids </strong>队列中被移除。</p><p id="b829" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> purchasing_customer() </strong>函数模拟三个关键事件:走向队列、排队等候，然后将控制传递给<strong class="kh ir"> scanning_customer() </strong>事件(与<strong class="kh ir"> bus_arrival() </strong>调用的函数相同，用于那些绕过销售者直接进入扫描器的事件)。这个函数根据选择时最短的线来选择它的线。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="5e7c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们需要实现<strong class="kh ir"> scanning_customer() </strong>的行为。这与<strong class="kh ir"> purchasing_customer() </strong>函数非常相似，但有一个关键区别:尽管游客可能会成群结队地到达和步行，但每个人都必须单独扫描他们的门票。因此，您将看到对每个被扫描的客户重复扫描超时。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="942e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将步行持续时间和标准偏差传递给<strong class="kh ir"> scanning_customer() </strong>函数，因为这些值会根据访问者是直接走到扫描仪前还是先在卖家处停留而变化。</p><h1 id="6913" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">使用Tkinter(原生Python UI)可视化数据</h1><p id="06be" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">为了可视化数据，我们添加了一些全局列表和字典来跟踪关键指标。例如，到达字典按分钟跟踪到达人数，而seller_waits和scan_waits字典将模拟的分钟映射到在这些分钟内退出队列的人的等待时间列表。还有一个event_log列表，我们将在下一节的HTML5 Canvas动画中使用。当关键事件发生时(例如，一个访问者退出队列)，调用<strong class="kh ir"> simpy example.py </strong>文件中<strong class="kh ir"> ANALYTICAL_GLOBALS </strong>标题下的函数来保持这些字典和列表最新。</p><p id="9b4a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用一个辅助的SimPy事件向UI发送一个tick事件，以便更新时钟、更新当前的平均等待时间并重新绘制Matplotlib图表。完整的代码可以在GitHub储存库中找到(<a class="ae nf" href="https://github.com/dattivo/gate-simulation/blob/master/simpy%20example.py" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/dattivo/gate-simulation/blob/master/simpy % 20 example . py</a>)；但是，下面的代码片段提供了如何从SimPy发送这些更新的框架视图。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="49c0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用标准Tkinter逻辑来表示用户进出销售者和扫描者队列的可视化。我们创建了<strong class="kh ir"> QueueGraphics </strong>类来抽象销售者和扫描者队列的公共部分。这个类中的方法被编码到上一节中描述的SimPy事件函数中，以更新画布(例如，<strong class="kh ir"> sellers.add_to_line(1) </strong>，其中1是卖方编号，以及<strong class="kh ir">sellers . remove _ from _ line(1)</strong>)。作为未来的工作，我们可以在流程的关键点使用事件处理程序，这样SimPy模拟逻辑就不会与特定于该分析的UI逻辑紧密耦合。</p><h1 id="2460" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">使用HTML5画布制作数据动画</h1><p id="eb53" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">作为另一种可视化方式，我们希望从SimPy模拟中导出事件，并将它们放入一个简单的HTML5 web应用程序中，以便在2D画布上可视化场景。我们通过在简单事件发生时添加一个<strong class="kh ir"> event_log </strong>列表来实现这一点。特别是，公交车到达、步行到销售者、在销售者队伍中等待、购买门票、步行到扫描仪、在扫描仪队伍中等待和扫描门票事件都被记录为单独的字典，然后在模拟结束时导出到JSON。你可以在这里看到一些示例输出:<a class="ae nf" href="https://github.com/dattivo/gate-simulation/tree/master/output" rel="noopener ugc nofollow" target="_blank">https://github . com/dattivo/gate-simulation/tree/master/output</a></p><p id="cef3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们开发了一个快速的概念验证来展示如何将这些事件转化成2D动画，你可以在https://dattivo.github.io/gate-simulation/visualize.html进行实验。你可以在<a class="ae nf" href="https://github.com/dattivo/gate-simulation/blob/master/visualize.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/dattivo/gate-simulation/blob/master/visualize . ts</a>中看到动画逻辑的源代码。</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ni"><img src="../Images/33c2db536d4b57f47c74a6c5a25146d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f8-6DFcoHXRVgCZA.gif"/></div></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">作者图片</p></figure><p id="c007" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种可视化得益于动画，然而，出于实际目的，基于Python的Tkinter接口组装起来更快，Matplotlib图形(可以说是该模拟最重要的部分)在Python中设置起来也更平滑和更熟悉。也就是说，让行为生动起来是有价值的，尤其是在向非技术利益相关者传达结果的时候。</p><h1 id="bfed" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">使用虚拟现实制作数据动画</h1><p id="5fdf" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">让画布动画更进一步，<a class="mo mp ep" href="https://medium.com/u/ff9741c7a288?source=post_page-----619ffcdbf81f--------------------------------" rel="noopener" target="_blank"> Matheus Ximenes </a>和我一起工作，使用HTML5画布也在使用的相同JSON模拟数据，将以下AR/VR 3-D可视化放在一起。我们使用我们已经熟悉的React [11]和A-FRAME [12]实现了这一点，A-FRAME令人惊讶地易于使用和学习。</p><p id="ab8d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在https://www.dattivo.com/3d-visualization/的<a class="ae nf" href="https://www.dattivo.com/3d-visualization/" rel="noopener ugc nofollow" target="_blank">亲自测试模拟</a></p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="nj nh l"/></div></figure><h1 id="add5" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">分析卖方/扫描仪队列配置备选方案</h1><p id="4b9a" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">虽然这个例子是为了演示如何创建和可视化SimPy模拟，但是我们仍然可以展示几个例子来说明平均等待时间如何依赖于队列的配置。</p><p id="baab" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们从上面动画中演示的案例开始:六个销售人员和四个扫描仪，每行一个销售人员和一个扫描仪(6/4)。60分钟后，我们看到卖家的平均等待时间为1.8分钟，而扫描仪的平均等待时间为0.1分钟。从下面的图表中，我们看到销售者的时间在大约6分钟的等待时达到峰值。</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi nk"><img src="../Images/1ae52d2f8a620705c926b452728dd24b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*A0we99oPwAmUHsMl.png"/></div></div></figure><p id="d342" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到，卖家们都是一致备份的(虽然3.3分钟可能不会太不合理)；所以，让我们看看，如果我们再增加四个卖家，总数达到10个，会发生什么。</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi nk"><img src="../Images/e3640b847bf03d54bd4608b87d1298d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tEIHTTxUbwfPIfBA.png"/></div></div></figure><p id="d286" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如预期的那样，卖家的平均等待时间减少到了0.7分钟，最长等待时间减少到了3分钟多一点。</p><p id="2935" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，让我们说，通过降低在线门票的价格，我们能够将持票到达的人数提高35%。最初，我们假设所有访客中有40%需要购买门票，40%已经在线预购，20%是凭凭证进入的工作人员和供应商。因此，随着35%以上的人带着票到达，我们将需要购买的人数减少到26%。让我们用初始的6/4配置来模拟一下。</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi nl"><img src="../Images/45e81bf453316c0a9c63702c24f11cc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9qMS0P3fu__vXuYR.png"/></div></div></figure><p id="fc10" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这种情况下，卖家的平均等待时间减少到1.0分钟，最长等待时间超过4分钟。在这种情况下，增加35%的在线销售额与增加更多的卖家队列有相似的效果；如果等待时间是我们最想减少的指标，那么在这一点上，我们可以考虑这两个选项中哪一个具有更强的业务案例。</p><h1 id="db6d" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">结论和未来工作</h1><p id="e0f5" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">Python可用的数学和分析工具的广度令人生畏，SimPy完善了这些功能，还包括离散事件模拟。与SIMUL8等商业打包工具相比，Python方法确实留给编程更多的空间。对于快速分析来说，组装模拟逻辑和从头构建UI和度量支持可能是笨拙的；然而，它确实提供了很大的灵活性，对于已经熟悉Python的人来说应该相对简单。如上所述，SimPy提供的DES逻辑产生了清晰易读的代码。</p><p id="a1c1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如前所述，Tkinter可视化是三种演示方法中最直接的一种，尤其是在包含Matplotlib支持的情况下。HTML5 canvas和AR/VR方法可以方便地将可共享的交互式可视化放在一起；然而，他们的发展并不平凡。</p><p id="f191" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">比较队列配置时需要考虑的一个重要改进是销售者/扫描者利用率。减少排队时间只是分析的一个组成部分，因为在得出最佳解决方案时，还应该考虑销售者和扫描仪空闲时间的百分比。此外，如果有人看到队列太长而选择不进入，添加一个概率也会很有趣。</p><h1 id="aba3" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">参考</h1><p id="f7a4" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">[1]<a class="ae nf" href="https://www.simul8.com/" rel="noopener ugc nofollow" target="_blank">https://www.simul8.com/</a></p><p id="ee17" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[2]<a class="ae nf" href="https://www.mathworks.com/solutions/discrete-event-simulation.html" rel="noopener ugc nofollow" target="_blank">https://www . mathworks . com/solutions/discrete-event-simulation . html</a></p><p id="4365" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[3]https://en.wikipedia.org/wiki/Discrete-event_simulation<a class="ae nf" href="https://en.wikipedia.org/wiki/Discrete-event_simulation" rel="noopener ugc nofollow" target="_blank"/></p><p id="ee76" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae nf" href="https://www.simul8.com/videos/" rel="noopener ugc nofollow" target="_blank">https://www.simul8.com/videos/</a></p><p id="6ea0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[5]<a class="ae nf" href="https://www.mathworks.com/videos/series/understanding-discrete-event-simulation.html" rel="noopener ugc nofollow" target="_blank">https://www . mathworks . com/videos/series/understanding-discrete-event-simulation . html</a></p><p id="0e2b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[6]<a class="ae nf" href="https://www.mathworks.com/company/newsletters/articles/optimizing-automotive-manufacturing-processes-with-discrete-event-simulation.html" rel="noopener ugc nofollow" target="_blank">https://www . mathworks . com/company/newslettes/articles/optimizing-automotive-manufacturing-processes-with-discrete-event-simulation . html</a></p><p id="2fd5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae nf" href="https://simpy.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">https://simpy.readthedocs.io/en/latest/</a></p><p id="9ae6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae nf" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank">https://matplotlib.org/</a></p><p id="5a52" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[9]<a class="ae nf" href="https://docs.python.org/3/library/tkinter.html" rel="noopener ugc nofollow" target="_blank">https://docs.python.org/3/library/tkinter.html</a></p><p id="ee24" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">【https://wiki.python.org/moin/Generators T2】</p><p id="27db" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[11]https://reactjs.org/<a class="ae nf" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"/></p><p id="e191" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[12]<a class="ae nf" href="https://aframe.io/" rel="noopener ugc nofollow" target="_blank">https://aframe.io/</a></p><p id="295b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nm">(本文改编自之前发表的两篇文章:</em><a class="ae nf" href="https://dattivo.com/simulating-real-life-events-in-python-with-simpy/" rel="noopener ugc nofollow" target="_blank">https://dattivo . com/simulating-real-life-events-in-python-with-simpy/</a><em class="nm">和</em><a class="ae nf" href="https://dattivo.com/3d-visualization-of-a-simulated-real-life-event-in-virtual-reality/" rel="noopener ugc nofollow" target="_blank">https://dattivo . com/3d-visualization-of-a-simulated-real-life-events-in-virtual-reality/</a>)</p></div></div>    
</body>
</html>