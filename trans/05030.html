<html>
<head>
<title>Stemming Text with NLTK</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用NLTK对文本进行词干分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/stemming-corpus-with-nltk-7a6a6d02d3e5?source=collection_archive---------7-----------------------#2021-05-03">https://towardsdatascience.com/stemming-corpus-with-nltk-7a6a6d02d3e5?source=collection_archive---------7-----------------------#2021-05-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b932" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">词干分析是文本规范化中使用最广泛的技术之一。在这篇文章中，我们将探索nltk的三个最著名的词干分析器</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5e5ecaa09131432fcaf31ee109e1a9be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xQHAvcP-Q-6qzuN8"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·斯皮斯克的照片</p></figure><p id="d64d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> T </span>处理文本数据的能力是一项巨大的技术成就，使公司和组织能够处理非结构化信息，并根据过去极难收集和存储的信息支持决策。</p><p id="918d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自然，由于计算机不像人类那样真正理解字符和单词，这带来了许多新的挑战，这些挑战可以通过使用专门处理文本数据的特定技术来解决，如词干化或词汇化。</p><p id="8cb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">在这篇文章中，我们将探讨词干的概念，以及词干如何帮助你挖掘文本管道。</strong></p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h2 id="120f" class="ml mm it bd mn mo mp dn mq mr ms dp mt li mu mv mw lm mx my mz lq na nb nc nd bi translated">词干定义</h2><p id="30d0" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">词干提取，也称为后缀剥离，是一种用于减少文本维数的技术。<strong class="lb iu">词干化也是一种文本标准化类型，使您能够将一些单词标准化为特定的表达式，也称为词干。</strong></p><p id="8942" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从一个句子的例子开始:</p><blockquote class="nj nk nl"><p id="3043" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated">这绝对是一个争议，因为律师称该案件“极具争议”</p></blockquote><p id="2451" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想将这个文本表示为一个数组(查看本系列的另一篇文章 )单词<em class="nm">争议</em>和<em class="nm">争议</em><em class="nm"/>会被认为是不同的标记，并在您可能构建的任何数组中有不同的位置。</p><p id="784f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">词干有助于我们标准化有相同后缀的单词，这些单词通常是语法相似单词的派生词。</p><p id="fba4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，像往常一样，在几个文本挖掘管道中，有许多可能导致信息丢失的选择。请记住，考虑到我们今天能够在NLP管道中应用的计算能力和更高级的模型(例如深度神经网络)，在NLP领域中词干提取是否真的是一个好主意，这是一个正在进行的讨论。</p><p id="9933" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">词干提取对于处理大量维度的算法来说可能是个好主意。回想一下，词干分析是一种标准化技术，但是像大多数标准化问题(例如主成分分析)一样，它会导致你丢失文本中的一些原始信息。对于NLP管道来说，这是一个好的还是坏的应用程序，这实际上取决于您使用的模型、您保存数据所需的空间量(尽管现在空间应该不是问题)以及您想要使用的算法的特征。</p><p id="ff5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">鉴于此，让我们探索一下<em class="nm"> NLTK(自然语言工具包)</em>库中最常见的词干分析器。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h2 id="258e" class="ml mm it bd mn mo mp dn mq mr ms dp mt li mu mv mw lm mx my mz lq na nb nc nd bi translated">波特的斯特梅尔</h2><p id="3e50" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">波特的斯特梅尔实际上是计算机科学中最古老的词干分析器应用程序之一。它第一次被提及是在1980年Martin Porter <em class="nm"> </em>的论文<a class="ae ky" href="https://www.cs.toronto.edu/~frank/csc2501/Readings/R2_Porter/Porter-1980.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="nm">中的一种后缀剥离</em> </a> <em class="nm"> </em>算法，它是<strong class="lb iu"><em class="nm">【nltk】</em></strong>中广泛使用的词干分析器之一。</p><p id="29e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">波特的斯特梅尔应用一套五个连续的规则(也称为阶段)来确定句子中常见的后缀。</strong>举例来说，第一阶段首先从句子中移除复数和过去分词，例如单词<em class="nm"> cats </em>被转换成<em class="nm"> cat </em>:</p><blockquote class="nj nk nl"><p id="c652" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated">猫-&gt;猫</p></blockquote><p id="beed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从第二阶段到第五阶段，波特的算法根据前面辅音和元音的不同组合来阻止常见的词尾。</p><p id="46a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个阶段的详细描述见<a class="ae ky" href="http://facweb.cs.depaul.edu/mobasher/classes/csc575/papers/porter-algorithm.html" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><p id="7551" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">porter stemmer最重要的概念之一是以下公式中的<em class="nm"> m </em>的概念:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/d3a48924cbf01c37f469556d8a439a5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:190/1*C_udf5i7kiEevFVXZsUV4Q.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">波特的斯特梅尔算法辅音和元音公式</p></figure><p id="d14e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个<em class="nm"> C </em>都被认为是一个包含一个或多个辅音的字符串。每个<em class="nm"> V </em>都被认为是一个包含一个或多个元音的字符串。元音字母被认为是字母<em class="nm"> a，e，I，o，u </em>和<em class="nm"> y </em>有一定的限制<em class="nm">。</em></p><p id="e122" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nm"> m </em>是波特词干分析器中最重要的概念之一，因为它定义了对特定单词应用特定规则的阈值。让我们来看一些单词的例子:</p><ul class=""><li id="ac31" class="nr ns it lb b lc ld lf lg li nt lm nu lq nv lu nw nx ny nz bi translated">树-&gt;这个词可以用表示法<strong class="lb iu"> <em class="nm"> CV </em> </strong> <em class="nm"> </em>来表示，因为TR被认为是<strong class="lb iu"> <em class="nm"> C </em> </strong> <em class="nm"> </em>表示法而ee被认为是<strong class="lb iu"> <em class="nm"> V </em> </strong> <em class="nm"> </em>表示法。在这种情况下，<em class="nm"> m </em>是零，因为这个单词只适合格式[C][V]</li><li id="e5a2" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">创作-&gt;这个词可以用<em class="nm"> CVCVC </em>来表示。为了符合波特公式，可以用[C][VC]来表示，因此<em class="nm">m</em>等于2。</li><li id="959a" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">燕麦-&gt;这个词可以用符合波特公式的VC来表示为[VC]。在这种情况下<em class="nm"> m </em>等于1。</li></ul><p id="f653" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住这个“T2”的概念，因为它对下面的一些解释很重要。</p><p id="f8d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在<em class="nm"> nltk </em>图书馆有波特的《斯特梅尔》:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="108d" class="ml mm it og b gy ok ol l om on">from nltk.stem import PorterStemmer</span></pre><p id="0185" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用它，必须在导入后声明PorterStemmer的实例:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="d7d7" class="ml mm it og b gy ok ol l om on">porter = PorterStemmer()</span></pre><p id="0a31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">定义了<em class="nm"> PorterStemmer </em>的实例后，我们可以根据算法中定义的规则对单词进行词干处理:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="4304" class="ml mm it og b gy ok ol l om on">porter.stem('cats')</span></pre><p id="3d1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个命令产生单词:<em class="nm">‘cat’—</em>单词cats的词干版本。<strong class="lb iu">我们来看看更常见的例子:</strong></p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="35af" class="ml mm it og b gy ok ol l om on">porter.stem('amazing') returns ‘amaz’</span></pre><p id="4cb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出现这个词干是因为<em class="nm"> ing </em>在英语单词中是一个如此常见的词尾，以至于单词<em class="nm"> amazing </em>被词干化为单词<em class="nm"> amaz。</em>这个<em class="nm"> amaz </em>词干也是由下面这些词产生的，惊叹、拍案叫绝、惊叹:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="7726" class="ml mm it og b gy ok ol l om on">porter.stem('amazement') returns ‘amaz’<br/>porter.stem('amaze') returns ‘amaz’<br/>porter.stem('amazed') returns ‘amaz’</span></pre><p id="3b70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"><em class="nm">惊异</em>、<em class="nm">惊异</em>、<em class="nm">惊异</em>和<em class="nm">惊异</em>这四个单词在经过词干处理后，在我们的文本中被认为是同一个单词——这就是为什么我们称之为文本规范化！</strong></p><p id="63a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个反例，单词<em class="nm"> amazon </em>并不是源于<em class="nm"> amaz </em>:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="d528" class="ml mm it og b gy ok ol l om on">porter.stem('amazon') returns ‘amazon‘</span></pre><p id="7024" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么<em class="nm">亚马逊</em>中上的<em class="nm">没有被移除？这是因为某些词尾，比如上的<strong class="lb iu">，在波特的算法中是不被考虑的——只有当它们前面有<em class="nm"> i </em>的时候，比如<em class="nm">民族</em>、<em class="nm">预感、</em>等等。让我们测试这两个例子的词干:</strong></em></p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="53b6" class="ml mm it og b gy ok ol l om on">porter.stem('nation') returns ‘nation‘<br/>porter.stem('premonition') returns 'premonit'</span></pre><p id="3b88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在一个新的问题出现了——为什么预感被阻止了，而国家却没有？</p><p id="c4ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">某些词尾只考虑某个类似字长的阈值</strong>(我们的<em class="nm"> m </em>！).如果你查看波特规则，你会看到后缀<strong class="lb iu"> ION </strong>或<strong class="lb iu"> TION </strong>仅在基于<em class="nm"> m </em>的特定条件下应用于第二和第四阶段。</p><p id="75d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们一步一步地了解每个阶段，真正理解波特的斯特梅尔背后的规则。当词干分析器被顺序应用时，可以应用不止一个<a class="ae ky" href="http://facweb.cs.depaul.edu/mobasher/classes/csc575/papers/porter-algorithm.html" rel="noopener ugc nofollow" target="_blank">规则</a>，例如，单词<strong class="lb iu"> <em class="nm">条件</em> (m等于4) </strong>在斯特梅尔阶段中遵循以下流程:</p><ul class=""><li id="e772" class="nr ns it lb b lc ld lf lg li nt lm nu lq nv lu nw nx ny nz bi translated">阶段1:它不匹配该步骤认为的任何模式，例如以<strong class="lb iu"> IES </strong>或<strong class="lb iu"> SSES </strong>结尾，以及阶段1b和1c中存在的其他规则。</li><li id="5bad" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">阶段2:当<em class="nm"> m </em>大于0并且单词以<em class="nm">国家</em>结尾时，词干分析器应用后缀<em class="nm"> al </em>的裁剪，并且我们的单词成为<strong class="lb iu"> <em class="nm">条件。</em>T9】</strong></li><li id="554f" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">阶段3:我们的单词<em class="nm">条件</em>(注意，现在我们将我们的单词视为<em class="nm">条件</em>，而不是原始的<em class="nm">条件</em>，因为我们已经在阶段2中应用了一些东西)。</li><li id="1ef1" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">阶段4:这个单词以第<em class="nm">个第</em>个第<em class="nm">个第</em>个第&gt;个第1，所以后缀第<em class="nm">个第</em>个第<em class="nm">个第</em>个第<em class="nm">个第</em>个第<em class="nm">个第</em>个第<em class="nm">个第<em class="nm">个第</em>个第<em class="nm">个第</em>个第</em>个】个第<em class="nm">个】个第<em class="nm">个第【20】个第【18】个第【19】个】个第【18】个第【19】个】个第【</em></em></li><li id="b8c8" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">阶段5:我们的单词<em class="nm"> condit </em>与阶段5中可以剥离的任何模式都不匹配，因此我们的最终词干是<strong class="lb iu"> <em class="nm"> condit </em> </strong>。</li></ul><p id="cb8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您在上面的过程中看到的，在词干提取过程的各个阶段，我们的单词可能会被词干提取多次。</p><p id="b2a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您需要检查每个阶段应用的规则列表，请返回此<a class="ae ky" href="http://facweb.cs.depaul.edu/mobasher/classes/csc575/papers/porter-algorithm.html" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="b8ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">波特的斯特梅尔是自然语言处理中最常用的词干技术之一，但自从它首次实现和开发以来已经过去了近30年，马丁·波特开发了一个名为Porter2的更新版本，由于它的<em class="nm"> nltk </em>实现，它也被称为雪球斯特梅尔。</p><h2 id="b597" class="ml mm it bd mn mo mp dn mq mr ms dp mt li mu mv mw lm mx my mz lq na nb nc nd bi translated">雪球斯特梅尔</h2><p id="40c1" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">Snowball stemmer(正式名称为Porter2)是波特的斯特梅尔的更新版本，引入了新规则，修改了波特的斯特梅尔中已经存在的一些现有规则。</p><p id="9eec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">雪球/搬运工2的详细规则在这里找到<a class="ae ky" href="http://snowball.tartarus.org/algorithms/english/stemmer.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="43ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">其逻辑和过程与波特的斯特梅尔完全相同，单词在词干分析器的五个阶段中被依次词干化。</strong></p><p id="aef2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Snowball和Porter之间的另一个相关区别是，Snowball还详细说明了其他语言的规则——例如，您可以在这里访问葡萄牙语的规则。</p><p id="587c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以很容易地在nltk中访问Snowball，就像我们访问波特的斯特梅尔一样——这里我们也同时定义了实例，但是我们必须将语言定义为一个参数:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="a555" class="ml mm it og b gy ok ol l om on">from nltk.stem import SnowballStemmer<br/>snowball = SnowballStemmer(language='english')</span></pre><p id="34ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了广泛回顾雪球的规则，让我们用一些例子来检查波特和雪球之间的一些重要区别:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="e761" class="ml mm it og b gy ok ol l om on">porter.stem('fairly') -&gt; returns fairli<br/>snowball.stem('fairly') -&gt; returns fair</span></pre><p id="d43f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的例子中，斯诺鲍在规范副词<em class="nm">方面做得更好，</em>让它产生词干<em class="nm"> fair，</em>，而波特产生词干<em class="nm"> fairli。</em>这样做<em class="nm"> </em>使得单词<em class="nm">的词干相当</em>与形容词<em class="nm">尚可，</em>相同，从规范化的角度来看似乎是有意义的。</p><p id="13df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个规则也适用于其他副词:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="c2f1" class="ml mm it og b gy ok ol l om on">porter.stem('loudly') -&gt; returns loudli<br/>snowball.stem('loudly') -&gt; returns loud</span></pre><p id="9c49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Snowball的另一个改进是它的规则防止了一些越界(从单词中去掉太多后缀)。让我们看看一般的<em class="nm">和<em class="nm">慷慨的</em>这两个词的例子——从波特的第一个开始:</em></p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="f810" class="ml mm it og b gy ok ol l om on">porter.stem('generically') -&gt; returns gener<br/>porter.stem('generous') -&gt; returns gener</span></pre><p id="0601" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据波特的斯特梅尔，这些表达完全不同意思的词将被归结为同一个表达<em class="nm"> gener。</em></p><p id="1e85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于Snowball，这种情况不会发生，因为两个单词的词干不同:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="a654" class="ml mm it og b gy ok ol l om on">snowball.stem('generically') -&gt; returns generical<br/>snowball.stem('generous') -&gt; returns generous</span></pre><p id="189f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总之，<strong class="lb iu"> SnowballStemmer被广泛认为是波特的《斯特梅尔》的改进版本。</strong></p><p id="7010" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nm"> nltk </em> </strong>的实现基于Porter2，是对马丁·波特开发的原始算法的改进。</p><h2 id="07b9" class="ml mm it bd mn mo mp dn mq mr ms dp mt li mu mv mw lm mx my mz lq na nb nc nd bi translated">兰卡斯特斯特梅尔</h2><p id="6ab2" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">兰开斯特·斯特梅尔是兰开斯特大学的克里斯·佩斯在论文<a class="ae ky" href="https://dl.acm.org/doi/abs/10.1145/101306.101310" rel="noopener ugc nofollow" target="_blank"> <em class="nm">中提出的另一个斯特梅尔</em> </a> <em class="nm"> </em>中开发的词干分析器。</p><p id="6cee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它的规则比波特和雪球更具侵略性，它是最具侵略性的词干分析器之一，因为它倾向于超越许多单词。</p><p id="4454" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一般的经验法则，认为兰开斯特的斯特梅尔的规则试图减少单词到尽可能短的词干。你可以在这里查看兰卡斯特的一些规则<a class="ae ky" href="https://github.com/nltk/nltk/blob/develop/nltk/stem/lancaster.py#L62" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="69bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是<strong class="lb iu"> <em class="nm"> nltk的</em> </strong>实现兰卡斯特的斯特梅尔:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="0095" class="ml mm it og b gy ok ol l om on">from nltk.stem import LancasterStemmer<br/>lanc = LancasterStemmer()</span></pre><p id="e817" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看一些例子，看看兰开斯特的斯特梅尔是如何词干化的，并将结果与斯诺鲍·斯特梅尔的方法进行比较——从单词<em class="nm">salt</em>开始:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="bbda" class="ml mm it og b gy ok ol l om on">snowball.stem('salty') returns 'salti'<br/>lanc.stem('salty') returns 'sal'</span></pre><p id="e320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在对比一下销售这个词:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="c293" class="ml mm it og b gy ok ol l om on">snowball.stem('sales') returns 'sale'<br/>lanc.stem('sales') returns 'sal'</span></pre><p id="2cdb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所看到的，Lancaster把单词<em class="nm"> salty </em>和<em class="nm"> sales </em>放在同一个词干中，这对于两个单词的意思来说没有多大意义。发生这种情况是因为Lancaster倾向于过度词干，这是我们说Lancaster词干是最积极的词干分析器之一的主要原因。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h2 id="b4a5" class="ml mm it bd mn mo mp dn mq mr ms dp mt li mu mv mw lm mx my mz lq na nb nc nd bi translated">评估词干分析器的影响</h2><p id="8cb6" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">既然我们已经理解了词干是如何通过裁剪后缀来规范化文本的，那么我们如何理解这种规范化在我们的语料库中的影响呢？</p><p id="92cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于词干化是一种导致信息丢失的标准化技术，最直接的方法之一是了解词干化前后文本长度之间的比率。这将给出一个近似值，即词干化后保留的信息的百分比。</p><p id="2bff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个例子，让我们使用维基百科中欧盟定义文章的第一段和第二段来评估我们的词干分析器:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="cf82" class="ml mm it og b gy ok ol l om on">eu_definition = 'The European Union (EU) is a political and economic union of 27 member states that are located primarily in Europe. Its members have a combined area of 4,233,255.3 km2 (1,634,469.0 sq mi) and an estimated total population of about 447 million. The EU has developed an internal single market through a standardised system of laws that apply in all member states in those matters, and only those matters, where members have agreed to act as one. EU policies aim to ensure the free movement of people, goods, services and capital within the internal market; enact legislation in justice and home affairs; and maintain common policies on trade, agriculture, fisheries and regional development. Passport controls have been abolished for travel within the Schengen Area. A monetary union was established in 1999, coming into full force in 2002, and is composed of 19 EU member states which use the euro currency. The EU has often been described as a <em class="nm">sui generis</em> political entity (without precedent or comparison).</span><span id="e52b" class="ml mm it og b gy oo ol l om on">The EU and European citizenship were established when the Maastricht Treaty came into force in 1993. The EU traces its origins to the European Coal and Steel Community (ECSC) and the European Economic Community (EEC), established, respectively, by the 1951 Treaty of Paris and 1957 Treaty of Rome. The original members of what came to be known as the European Communities were the Inner Six: Belgium, France, Italy, Luxembourg, the Netherlands, and West Germany. The Communities and their successors have grown in size by the accession of new member states and in power by the addition of policy areas to their remit. The United Kingdom became the first member state to leave the EU on 31 January 2020. Before this, three territories of member states had left the EU or its forerunners. The latest major amendment to the constitutional basis of the EU, the Treaty of Lisbon, came into force in 2009.'</span></pre><p id="cc42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过我们的搬运工的斯特梅尔，看看结果。为了在<em class="nm"> nltk的</em>实现上传递整个文本，我们必须使用<em class="nm"> word_tokenize </em>函数来标记我们的文本:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="6caa" class="ml mm it og b gy ok ol l om on">from nltk.stem import PorterStemmer<br/>from nltk.tokenize import word_tokenize</span><span id="2496" class="ml mm it og b gy oo ol l om on">tokenized_eu = word_tokenize(eu_definition)</span><span id="e451" class="ml mm it og b gy oo ol l om on">porter_eu = [porter.stem(word) for word in tokenized_eu]</span></pre><p id="b890" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">让我们检查最终的词干版本:</strong></p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="4de6" class="ml mm it og b gy ok ol l om on">'the european union ( EU ) is a polit and econom union of 27 member state that are locat primarili in europ . it member have a combin area of 4,233,255.3 km2 ( 1,634,469.0 sq mi ) and an estim total popul of about 447 million . the EU ha develop an intern singl market through a standardis system of law that appli in all member state in those matter , and onli those matter , where member have agre to act as one . EU polici aim to ensur the free movement of peopl , good , servic and capit within the intern market ; enact legisl in justic and home affair ; and maintain common polici on trade , agricultur , fisheri and region develop . passport control have been abolish for travel within the schengen area . A monetari union wa establish in 1999 , come into full forc in 2002 , and is compos of 19 EU member state which use the euro currenc . the EU ha often been describ as a sui generi polit entiti ( without preced or comparison ) .the EU and european citizenship were establish when the maastricht treati came into forc in 1993 . the EU trace it origin to the european coal and steel commun ( ecsc ) and the european econom commun ( eec ) , establish , respect , by the 1951 treati of pari and 1957 treati of rome . the origin member of what came to be known as the european commun were the inner six : belgium , franc , itali , luxembourg , the netherland , and west germani . the commun and their successor have grown in size by the access of new member state and in power by the addit of polici area to their remit . the unit kingdom becam the first member state to leav the EU on 31 januari 2020 . befor thi , three territori of member state had left the EU or it forerunn . the latest major amend to the constitut basi of the EU , the treati of lisbon , came into forc in 2009 .'</span></pre><p id="b37c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是使用波特词干分析器对<em class="nm"> eu_definition </em>文本进行词干分析的版本。这对于人类来说是不可能的，但是请记住，词干提取的主要目的是规范化文本，以提高机器学习算法的泛化能力。我们的词干版本包含1430个字符，不包括空格。我们可以通过以下方式获得:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="21ae" class="ml mm it og b gy ok ol l om on">len(''.join(porter_eu))</span></pre><p id="f6a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">我们的原始句子包含1591个字符，</strong>我们可以使用:</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="f630" class="ml mm it og b gy ok ol l om on">len(''.join(word_tokenize(eu_definition)))</span></pre><p id="8328" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">信息保留的百分比是这些数字之间的比值(1430/1591)，约为89.88%。</strong></p><p id="71a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">如果我们对Snowball和Lancaster </strong>的相同文本应用相同的逻辑，我们会得到以下值:</p><ul class=""><li id="6b5f" class="nr ns it lb b lc ld lf lg li nt lm nu lq nv lu nw nx ny nz bi translated">雪球:90.88%</li><li id="8084" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">兰卡斯特:78.44%</li></ul><p id="c1d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不出所料，保留较少信息的词干分析器是兰卡斯特·斯特梅尔。</p><p id="a719" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想在项目中使用词干，这里有一个小要点和代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="496c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！词干是最常用的文本规范化技术之一，当您想要减少将在代码中使用的词汇(独特的单词)时，它可能适合您的自然语言管道。但是请记住，与任何规范化一样，每次应用词干都会丢失语料库中的一些原始信息。</p><p id="a26b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管如此，词干分析对于数据科学家来说是一个很好的工具，因为它仍然广泛应用于整个NLP应用程序，并且可能对监督和非监督方法都有好处。</p><blockquote class="nj nk nl"><p id="a70f" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated"><em class="it">感谢您花时间阅读这篇文章！随意在LinkedIn上加我(</em><a class="ae ky" href="https://www.linkedin.com/in/ivobernardo/" rel="noopener ugc nofollow" target="_blank">【https://www.linkedin.com/in/ivobernardo/】</a><em class="it">)查看我公司网站(</em><a class="ae ky" href="https://daredata.engineering/home" rel="noopener ugc nofollow" target="_blank"><em class="it">https://daredata.engineering/home</em></a><em class="it">)。</em></p><p id="25ac" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated">如果你有兴趣获得分析方面的培训，你也可以访问我在Udemy(<a class="ae ky" href="https://www.udemy.com/user/ivo-bernardo/" rel="noopener ugc nofollow" target="_blank">https://www.udemy.com/user/ivo-bernardo/</a>)上的页面</p></blockquote><p id="d1ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nm">这个例子摘自我在Udemy平台</em> </strong>  <strong class="lb iu"> <em class="nm">上为绝对初学者开设的</em> </strong> <a class="ae ky" href="https://www.udemy.com/course/nlp_natural_language_processing_python_beginners/?couponCode=LEARN_NLP" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="nm"> NLP课程——该课程适合初学者和希望学习自然语言处理基础知识的人。该课程还包含50多个编码练习，使您能够在学习新概念的同时进行练习。</em>T15】</strong></a></p><div class="or os gp gr ot ou"><a href="https://ivopbernardo.medium.com/membership" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">通过我的推荐链接加入Medium-Ivo Bernardo</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">ivopbernardo.medium.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi ks ou"/></div></div></a></div></div></div>    
</body>
</html>