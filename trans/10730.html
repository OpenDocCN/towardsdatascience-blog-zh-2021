<html>
<head>
<title>9 Clean Code Patterns I wish I knew earlier</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">9个干净的代码模式，我希望我能早点知道</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/9-clean-code-patterns-i-wish-i-knew-earlier-57ee56c5892?source=collection_archive---------4-----------------------#2021-10-16">https://towardsdatascience.com/9-clean-code-patterns-i-wish-i-knew-earlier-57ee56c5892?source=collection_archive---------4-----------------------#2021-10-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/3649bb304c9a09a0fccc4ec312b1f25d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQeZMTPH2sV_L_r3DMXUwQ.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@timchowstudio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Tim Chow </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="5a58" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当你回顾自己职业生涯早期写的代码时，你知道那种感觉吗？我总觉得有点恐怖。但这也有积极的一面:我学到了一些新东西😄</p><p id="ed81" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好软件的核心部分是可读性。保持较低的心理复杂度，以便每个人(包括作者)都能轻松理解。干净的代码模式有助于做到这一点。</p><p id="f7e0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，您将了解9种清晰的代码模式，它们使代码更易于阅读。请将这些模式视为工具。它们并不总是适用。不要对他们有宗教信仰。我使用的语言是Python，但是这些模式也适用于Python之外。开始吧！</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="7e90" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">№1:解释变量</h1><p id="0806" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">这可能是你可以轻松运用的最简单的技巧。如果有些东西很难理解，你需要给它一个评论，试着给它一个名字。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="b043" class="mx lm it mt b gy my mz l na nb"># Bad<br/>if not (<br/>    string.startswith('"""')<br/>    and string.endswith('"""')<br/>    and '"' not in string[3:-3]<br/>):<br/>    return string</span><span id="c666" class="mx lm it mt b gy nc mz l na nb"># Good<br/><strong class="mt iu">is_tripple_quoted_string</strong> = (<br/>    string.startswith('"""')<br/>    and string.endswith('"""')<br/>)<br/>if not (is_tripple_quoted_string and '"' not in string[3:-3]):<br/>    return string</span></pre><p id="1129" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这主要适用于布尔表达式，但也适用于正则表达式，有时也适用于返回值。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="48e2" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">№2:遵循惯例和风格指南</h1><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/a3f1eefe39f212f001efc9d520449016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZZERvL4XB41BeMEY"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@ruthson_zimmerman?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">鲁特森·齐默曼</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="64c8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每一种编程语言都有一个你需要遵循的语法，否则，它将无法工作。然后还有惯例。你不必跟随他们；它仍然会工作。然而，如果你跟随他们，会让其他人的生活变得更容易。</p><p id="e97d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最简单的惯例之一是<strong class="ki iu">风格指南</strong>。在Python中是<a class="ae kf" href="https://www.python.org/dev/peps/pep-0008/" rel="noopener ugc nofollow" target="_blank"> PEP 8 </a>，谷歌发布了<a class="ae kf" href="https://google.github.io/styleguide/cppguide.html" rel="noopener ugc nofollow" target="_blank"> C++ </a> / <a class="ae kf" href="https://google.github.io/styleguide/javaguide.html" rel="noopener ugc nofollow" target="_blank"> Java </a>、Oracle Java代码惯例<a class="ae kf" href="https://www.oracle.com/technetwork/java/codeconventions-150003.pdf" rel="noopener ugc nofollow" target="_blank">的指南，在PHP中有</a><a class="ae kf" href="https://www.php-fig.org/psr/psr-1/" rel="noopener ugc nofollow" target="_blank"> PSR-1 </a>，…</p><p id="68cf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其他向导是隐式的。例如，Django项目是如何构建的。您通常存储视图、模型和模板的地方。</p><blockquote class="ne"><p id="b8ce" class="nf ng it bd nh ni nj nk nl nm nn ld dk translated">找到与你相关的风格指南，并遵循它们。</p></blockquote><p id="70f7" class="pw-post-body-paragraph kg kh it ki b kj no kl km kn np kp kq kr nq kt ku kv nr kx ky kz ns lb lc ld im bi translated">通常，也有<strong class="ki iu"> linters </strong>或<strong class="ki iu">静态代码分析工具</strong>帮助你习惯指南。比如Python里有<code class="fe nt nu nv mt b">flake8</code>，有很多插件。对于最简单的部分，即格式化，您可以使用工具来完成。我喜欢的一个Python代码自动套用格式器是黑色的。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="6bb6" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">№3:类型检查</h1><p id="663d" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">我喜欢Python中的类型注释。它们是可选的，但是我强烈推荐使用它们。在使用方法上也有区别。</p><p id="ed72" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果你有<code class="fe nt nu nv mt b">Dict[str, Any]</code>，你可以考虑用<code class="fe nt nu nv mt b">NamedTuple</code> / <code class="fe nt nu nv mt b">TypedDict</code> / <code class="fe nt nu nv mt b">pydantic</code> / <code class="fe nt nu nv mt b">dataclasses</code>来代替。</p><p id="49bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在某些情况下，当你使用<code class="fe nt nu nv mt b">str</code>作为类型时，你可能要考虑使用<code class="fe nt nu nv mt b">NewType</code>来表示你正在使用哪种类型的字符串。是一个<code class="fe nt nu nv mt b">AuthorId</code>吗？是一个<code class="fe nt nu nv mt b">UserId</code>吗？</p><p id="8a7f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这两种模式也适用于其他语言。让我们这样表述:</p><blockquote class="ne"><p id="ee2c" class="nf ng it bd nh ni nj nk nl nm nn ld dk translated">善用类型系统。</p></blockquote><p id="391a" class="pw-post-body-paragraph kg kh it ki b kj no kl km kn np kp kq kr nq kt ku kv nr kx ky kz ns lb lc ld im bi translated">如果您想了解更多关于Python中的类型注释，请阅读:</p><div class="nw nx gp gr ny nz"><a href="https://medium.com/analytics-vidhya/type-annotations-in-python-3-8-3b401384403d" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">Python 3.8中的类型注释</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">了解如何通过逐步键入来使Python代码更容易阅读，更不容易出错</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">medium.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on jz nz"/></div></div></a></div><p id="634d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想知道最近的改进，请阅读我的<a class="ae kf" href="https://betterprogramming.pub/python-3-10-is-released-know-whats-new-and-if-it-s-worth-the-switch-19c7a5738f7c" rel="noopener ugc nofollow" target="_blank"> Python 3.10文章</a>。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="3fa5" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">№4一致的术语</h1><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/1dd2af52b6ad5d6ad01b11253a853554.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W2P9YP2EO_JOVB5c"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@waldemarbrandt67w?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">瓦尔德马·布兰德</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="6200" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在金融科技公司Cashlink工作，是一名Python后端开发人员。我们处理数字证券，例如代表真实价值的代币，比如太阳能发电厂的一部分。这些代币可以转让。这里开始变得有趣了。根据转移的类型，我们必须做不同的事情。要么是因为法规，要么是因为技术原因。因此，我们开始为不同类型的转账起不同的名字，以免总是混淆:</p><ul class=""><li id="d9d1" class="op oq it ki b kj kk kn ko kr or kv os kz ot ld ou ov ow ox bi translated"><strong class="ki iu">转移</strong>:任何改变平衡的动作。下面的所有条款都是某种转让(虽然我会犹豫要不要打电话给minting，烧个转让)。</li><li id="0c83" class="op oq it ki b kj oy kn oz kr pa kv pb kz pc ld ou ov ow ox bi translated"><strong class="ki iu">造币</strong>:代币生成。这种情况首先发生。</li><li id="b131" class="op oq it ki b kj oy kn oz kr pa kv pb kz pc ld ou ov ow ox bi translated"><strong class="ki iu">发行</strong>:发行人向投资人的转让。这种情况其次发生。</li><li id="933d" class="op oq it ki b kj oy kn oz kr pa kv pb kz pc ld ou ov ow ox bi translated"><strong class="ki iu"> Move </strong>:从钱包A到钱包B的转账，其中A和B属于同一个投资人。</li><li id="e350" class="op oq it ki b kj oy kn oz kr pa kv pb kz pc ld ou ov ow ox bi translated"><strong class="ki iu">交接</strong>:从钱包A到钱包B的一次转账，其中A和B属于不同的投资人。</li><li id="942e" class="op oq it ki b kj oy kn oz kr pa kv pb kz pc ld ou ov ow ox bi translated"><strong class="ki iu">烧钱</strong>:从投资者账户中取出代币。</li></ul><p id="95d3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些事情很重要，但是还有其他例子，其中的术语可能不同。比如内部的产品名，外部的。营销可能有不同于开发的需求。试着找到一个适合公司大多数人的词汇。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="dff5" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">№5个有意义的名字</h1><p id="9699" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">把你的代码库想象成一本书。这本书有很多很多不同的故事情节。变量就是字符。你可以在一定程度上依赖上下文，但是如果你把每个人都称为“朋友”，读者会感到困惑。如果仅仅为了名字就需要看半页，他们会很烦。</p><ul class=""><li id="b276" class="op oq it ki b kj kk kn ko kr or kv os kz ot ld ou ov ow ox bi translated"><strong class="ki iu">避免太短的名字</strong>，比如<code class="fe nt nu nv mt b">i</code>或者<code class="fe nt nu nv mt b">x</code>。他们很难找到。如果你写一个数学函数，它们可能是有意义的。</li><li id="26e3" class="op oq it ki b kj oy kn oz kr pa kv pb kz pc ld ou ov ow ox bi translated"><strong class="ki iu">避免太长的名字</strong>比如<code class="fe nt nu nv mt b">InternalFrameInternalFrameTitlePaneInternalFrameTitlePaneMaximizeButtonWindowNotFocusedState</code>。Java开发人员经常落入这个陷阱。是的，这个名字可能非常准确。然而，这使得围绕它的所有逻辑都超级难以理解。在<code class="fe nt nu nv mt b">x</code>和<code class="fe nt nu nv mt b">InternalFrameInternalFrameTitlePaneInternalFrameTitlePaneMaximizeButtonWindowNotFocusedState</code>之间有一个不错的中间地带。</li><li id="2e30" class="op oq it ki b kj oy kn oz kr pa kv pb kz pc ld ou ov ow ox bi translated"><strong class="ki iu">与№4的词汇保持一致</strong>。同样在拼写上。决定你是想用美式英语还是英式英语。决定是否要在代码库中编写display/show/present/print。</li><li id="0f07" class="op oq it ki b kj oy kn oz kr pa kv pb kz pc ld ou ov ow ox bi translated"><strong class="ki iu">避免使用像<code class="fe nt nu nv mt b">user_dict</code>这样的名字</strong>中的数据结构。如果你需要，那可能是你违反了第6条。尽量只使用一个对象的一种表示。但是请记住，这是一个普遍的规则。有时候使用<code class="fe nt nu nv mt b">user_dict</code>确实有意义。</li><li id="88fc" class="op oq it ki b kj oy kn oz kr pa kv pb kz pc ld ou ov ow ox bi translated">利用上下文。例如，<code class="fe nt nu nv mt b">java.sql.SQLIntegrityContraintViolation</code>可能只是一个<code class="fe nt nu nv mt b">java.sql.IntegrityError</code>。在<code class="fe nt nu nv mt b">sql</code>包中，一切都应该是关于SQL的。而<code class="fe nt nu nv mt b">ConstraintViolation</code>就是一个错误。</li></ul><p id="d5d3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">迭代时我喜欢的一种模式是使用迭代器的复数形式(以“s”结尾)和单数形式(没有最后的“s”)</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="09da" class="mx lm it mt b gy my mz l na nb"># Bad<br/>for tmp in users: ...</span><span id="a04b" class="mx lm it mt b gy nc mz l na nb"># Good<br/>for user in registered_users: ...</span></pre><p id="aab1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">顺便说一句:如果你在野外看过<a class="ae kf" href="https://www.reddit.com/r/ProgrammerHumor/comments/k1wdrt/whats_the_most_inappropriate_variable_name/" rel="noopener ugc nofollow" target="_blank">搞笑的变量命名</a>请分享😄</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="9b96" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">№6降压法则</h1><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/b7e3e8cc5ad5ee49bacc003328f62882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*beIO8I4KcJNur1tc"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kf" href="https://unsplash.com/@larm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Larm Rmah </a>拍摄的照片</p></figure><p id="6cc9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将一个功能保持在一个抽象层次有助于你专注于一个主题。</p><blockquote class="ne"><p id="8530" class="nf ng it bd nh ni nj nk nl nm nn ld dk translated">独立逻辑↔数据收集/传输↔演示。</p></blockquote><p id="a044" class="pw-post-body-paragraph kg kh it ki b kj no kl km kn np kp kq kr nq kt ku kv nr kx ky kz ns lb lc ld im bi translated">演示不一定必须是可视化的。它可以是打印语句，也可以是API响应。</p><p id="1168" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">马雷克·胡季马给<a class="ae kf" href="https://marekhudyma.com/code-style/2021/03/02/step-down-rule.html" rel="noopener ugc nofollow" target="_blank">举了一个降级规则的好例子</a>。</p><p id="b52b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在Python中，当有大量缩进时，有时会看到这种情况。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="ec92" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">№7删除死代码</h1><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pd"><img src="../Images/fa3496b9e9c0aa025fc51fb24cdc5476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y9x2yyfDJEhmhkPH"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@genefoto?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">吉恩·加林</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="c593" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不存在的代码是无法破解的代码。这是不会引起安全问题的代码。是不需要维护的代码。不要将代码注释掉，而是将其移除。</p><p id="af6b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以使用<a class="ae kf" href="https://pypi.org/project/vulture/" rel="noopener ugc nofollow" target="_blank"> vulture </a>和<a class="ae kf" href="https://pypi.org/project/flake8-eradicate/" rel="noopener ugc nofollow" target="_blank">flake 8-根除</a>在Python代码库中找到这样的片段。</p><p id="74d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我知道当你有了以后可能需要的东西时的感觉。我通常会尝试编写一个真正彻底的提交消息，只删除那些注释/文件，以便以后需要时能够找到它。但是有YAGNI: <a class="ae kf" href="https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it" rel="noopener ugc nofollow" target="_blank">你不会需要它的！</a></p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="d5b8" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">8使用容器</h1><p id="8b22" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">如果您在代码库的几个地方传递相同的几个值，您可能要考虑编写一个容器。那可能是一个类，在Python中你可以使用一个<a class="ae kf" href="https://docs.python.org/3/library/dataclasses.html" rel="noopener ugc nofollow" target="_blank">数据类</a>、一个<a class="ae kf" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" rel="noopener ugc nofollow" target="_blank">命名元组</a>或者一个<a class="ae kf" href="https://www.python.org/dev/peps/pep-0589/" rel="noopener ugc nofollow" target="_blank">类型集合</a>。如果您需要序列化它，Pydantic类也很不错。</p><p id="a573" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">应该使用容器格式的一个主要例子是配置。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="997d" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">避免意外</h1><p id="b279" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">这是显而易见的，但有时很容易忘记。一个核心部分就是<strong class="ki iu">避免副作用</strong>。应该清楚函数是否改变状态。另一部分是对<strong class="ki iu">文件的黑客攻击</strong>。有时有黑客是必要的，但至少留下一个为什么有黑客的评论。</p><p id="bf5d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不要试图做一些聪明的事情。遵循接吻原则——保持简单和愚蠢！</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="bc06" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">摘要</h1><p id="2f9d" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">写好代码就像写好文章一样:它需要<strong class="ki iu">练习</strong>，你会不断进步。大量阅读，<a class="ae kf" href="https://codereview.stackexchange.com/" rel="noopener ugc nofollow" target="_blank">寻求反馈</a>并鼓励人们在反馈中也给出小的笔记。那些没太大关系，只是个人喜好的。</p><p id="86bc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，明白自己读代码讨厌什么。避免<a class="ae kf" href="https://cs.fit.edu/~kgallagher/Schtick/How%20To%20Write%20Unmaintainable%20Code.html" rel="noopener ugc nofollow" target="_blank">那些模式</a>😄—但是<a class="ae kf" href="https://github.com/zedr/clean-code-python/blob/master/README.md" rel="noopener ugc nofollow" target="_blank">应用这个</a>😍练习，接受反馈，对你的代码持批评态度。然后你会成为一名出色的软件工程师🥂</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><p id="1cca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我喜欢写关于软件开发和技术的文章🤩不要错过更新:<a class="ae kf" href="https://martinthoma.medium.com/subscribe" rel="noopener"> <strong class="ki iu">获取我的免费电子邮件简讯</strong> </a>📧或者<a class="ae kf" href="https://martinthoma.medium.com/membership" rel="noopener">如果你还没有报名参加medium</a>✍️——这两者都鼓励我写更多🤗</p></div></div>    
</body>
</html>