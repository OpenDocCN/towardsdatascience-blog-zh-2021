<html>
<head>
<title>Python Lambda Functions: Three Practical Examples (Sort, Map, and Apply)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python Lambda函数:三个实际例子(排序、映射和应用)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-lambda-functions-three-practical-examples-sort-map-and-apply-286593792cb4?source=collection_archive---------21-----------------------#2021-08-24">https://towardsdatascience.com/python-lambda-functions-three-practical-examples-sort-map-and-apply-286593792cb4?source=collection_archive---------21-----------------------#2021-08-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="91d2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过真实的例子学习lambda函数</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cb01c7ec24d7f09d1e4529a9d948f82c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Wumrqtgcy6-sCFod"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@tolga__?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">托尔加·乌尔坎</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="e07d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">简介—λ函数</h1><p id="ab4d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一个高级的Python概念是lambda函数，它是使用<code class="fe mn mo mp mq b">lambda</code>关键字定义的匿名函数。Lambda函数具有以下基本形式:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="0fe7" class="mv la it mq b gy mw mx l my mz">lambda params: expression</span></pre><ul class=""><li id="f484" class="na nb it lt b lu nc lx nd ma ne me nf mi ng mm nh ni nj nk bi translated">关键字<code class="fe mn mo mp mq b">lambda</code>表示您正在定义一个lambda函数。</li><li id="8e65" class="na nb it lt b lu nl lx nm ma nn me no mi np mm nh ni nj nk bi translated"><code class="fe mn mo mp mq b">params</code>指的是lambda函数将使用的参数。参数的数量可以是零到多个。</li><li id="417d" class="na nb it lt b lu nl lx nm ma nn me no mi np mm nh ni nj nk bi translated"><code class="fe mn mo mp mq b">expression</code>表示lambda函数将要运行的表达式。</li></ul><p id="15a5" class="pw-post-body-paragraph lr ls it lt b lu nc ju lw lx nd jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">就其核心而言，lambda函数就像其他Python函数一样，可以使用call操作符(括号)来调用。下面的代码向您展示了相关的事实。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="86f0" class="mv la it mq b gy mw mx l my mz">&gt;&gt;&gt; multiply = lambda x, y: x*y<br/>&gt;&gt;&gt; type(multiply)<br/>&lt;class 'function'&gt;<br/>&gt;&gt;&gt; multiply(5, 3)<br/>15<br/>&gt;&gt;&gt; multiply(8, 5)<br/>40</span></pre><p id="8d9c" class="pw-post-body-paragraph lr ls it lt b lu nc ju lw lx nd jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">虽然我们把lambda函数赋给了变量<code class="fe mn mo mp mq b">multiply</code>，这只是为了向你展示lambda是函数的事实。在实际项目中，强烈建议不要这样做，因为正如它的别名所知，lambdas是匿名函数，应该用在不需要明确定义函数的地方。</p><p id="3b78" class="pw-post-body-paragraph lr ls it lt b lu nc ju lw lx nd jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">在了解了如何定义lambda函数之后，让我们探索它的实际用例，以便更彻底地学习这种技术。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="0e2f" class="kz la it bd lb lc oa le lf lg ob li lj jz oc ka ll kc od kd ln kf oe kg lp lq bi translated">实际例子</h1><h2 id="053c" class="mv la it bd lb of og dn lf oh oi dp lj ma oj ok ll me ol om ln mi on oo lp op bi translated">示例1:对自定义实例列表进行排序</h2><p id="f34d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">通常，我们使用列表来保存同类数据——相同类型的对象。但是，这些对象可能不会按照特定需求的期望顺序排列。例如，一个列表可以包含一个论坛应用程序的一堆帖子。我们应该允许用户按照作者或者评论号来排序文章。在这些情况下，我们可以将<code class="fe mn mo mp mq b">sort</code>方法与lambda函数一起使用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Lambda排序</p></figure><p id="3034" class="pw-post-body-paragraph lr ls it lt b lu nc ju lw lx nd jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">因为我们希望按照作者的姓氏对文章进行排序，所以lambda函数的表达式需要提取每次的姓氏。我们利用了string的split方法，它创建了一个字符串列表。因为姓氏是最后一项，所以我们使用-1来检索它。</p><p id="a787" class="pw-post-body-paragraph lr ls it lt b lu nc ju lw lx nd jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">如你所见，这些帖子确实是按照作者的姓氏排序的。顺便提一下，sort方法对列表中的项目进行就地排序，这意味着它改变了原始列表的顺序。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h2 id="496c" class="mv la it bd lb of og dn lf oh oi dp lj ma oj ok ll me ol om ln mi on oo lp op bi translated">示例2:绘制熊猫系列的数据(地图)</h2><p id="8879" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">pandas中的一个主要数据类型是<code class="fe mn mo mp mq b">Series</code>类型，它表示一维数据，比如数据表中的一行或一列。当我们从一个系列开始时，我们可以使用map方法创建另一个系列。尽管可以使用dictionary对象来提供映射，但通常可以使用lambda函数。考虑下面的例子。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="dc1e" class="mv la it mq b gy mw mx l my mz">&gt;&gt;&gt; import pandas as pd<br/>&gt;&gt;&gt; str_data = pd.Series(["95.2%", "92.7%", "93.4%"])<br/>&gt;&gt;&gt; str_data<br/>0    95.2%<br/>1    92.7%<br/>2    93.4%<br/>dtype: object<br/>&gt;&gt;&gt; float_data = str_data.map(lambda x: float(x[:-1]))<br/>&gt;&gt;&gt; float_data<br/>0    95.2<br/>1    92.7<br/>2    93.4<br/>dtype: float64</span></pre><p id="1c20" class="pw-post-body-paragraph lr ls it lt b lu nc ju lw lx nd jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">如上所示，我们从一个由多个百分比字符串数据组成的<code class="fe mn mo mp mq b">Series</code>开始。但是，我们希望在删除百分号后提取这些字符串的数值。我们可以用一个lambda函数轻松完成转换:<code class="fe mn mo mp mq b">lambda x: float(x[:-1])</code>。在这个函数中，<code class="fe mn mo mp mq b">x</code>指的是<code class="fe mn mo mp mq b">Series</code>中的每一项，我们使用<code class="fe mn mo mp mq b">float</code>函数将字符串转换成相应的数值。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h2 id="1217" class="mv la it bd lb of og dn lf oh oi dp lj ma oj ok ll me ol om ln mi on oo lp op bi translated">示例3:从Pandas数据框架创建数据(应用)</h2><p id="bd85" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">pandas中的另一个基本数据类型是<code class="fe mn mo mp mq b">DataFrame</code>类型，它表示类似数据表的二维电子表格。带有<code class="fe mn mo mp mq b">DataFrame</code>的lambda函数最常见的用例是<code class="fe mn mo mp mq b">apply</code>方法，使用它，我们可以从现有的列创建新的数据列。让我们通过下面的例子来探索这种用法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据帧应用Lambda</p></figure><p id="d120" class="pw-post-body-paragraph lr ls it lt b lu nc ju lw lx nd jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">在示例中，我们使用lambda函数创建另一列<code class="fe mn mo mp mq b">portion</code>。参数<code class="fe mn mo mp mq b">x</code>指的是<code class="fe mn mo mp mq b">DataFrame</code>中的每一行(因为我们设置了<code class="fe mn mo mp mq b">axis=1</code>，这意味着操作是按行应用的)。如您所见，在操作之后，我们成功地计算出了具有相应百分比值的部分。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="8726" class="kz la it bd lb lc oa le lf lg ob li lj jz oc ka ll kc od kd ln kf oe kg lp lq bi translated">结论</h1><p id="59a2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在本文中，我们回顾了lambda函数的三个常见用例。本质上，lambda函数应该用于执行不需要定义常规函数的小任务。</p><p id="2e80" class="pw-post-body-paragraph lr ls it lt b lu nc ju lw lx nd jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">我希望你喜欢这篇文章。你可以在这里成为中级会员<a class="ae ky" href="https://medium.com/@yong.cui01/membership" rel="noopener">来支持我，不需要额外付费。</a></p></div></div>    
</body>
</html>