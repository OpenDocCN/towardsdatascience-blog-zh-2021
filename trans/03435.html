<html>
<head>
<title>Improve Python Substring knowledge with these 10 Frequently Asked Question</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过这10个常见问题提高Python子串知识</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/improve-python-substring-knowledge-with-these-10-frequently-asked-question-4c726fef4fc4?source=collection_archive---------37-----------------------#2021-03-18">https://towardsdatascience.com/improve-python-substring-knowledge-with-these-10-frequently-asked-question-4c726fef4fc4?source=collection_archive---------37-----------------------#2021-03-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cfc5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">与字符串切片、索引、子字符串搜索类型、替换、子字符串重复等相关的解释</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fa4b5dcda7faeb1018559972dc437a5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qJuMwxpISsayzhd4qAe0kw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">设计生态学家在<a class="ae kv" href="/s/photos/string?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="6462" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">子串是字符串的一部分或子集。文本数据中的任何修改都在子串过程中进行。</p><p id="0c3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如:——“这是一个很好的whether。我们有时应该出去走走。”是一个字符串。还有弦乐的一部分“我们有时应该出去走走。”是子字符串。</p><p id="f55b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一年来，我面对了很多子串相关的问题。我把它编译成了一个关于子串的常见问题。你可能已经知道一些子串问题。有些对你来说是新的。</p><p id="2217" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以浏览一下名单。你可能会发现一些有趣的东西。</p><ol class=""><li id="b974" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">关于字符串切片的所有内容</li><li id="811e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">为什么索引显示索引越界错误但不切片？</li><li id="2910" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">检查字符串中是否存在子串</li><li id="f78f" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">在字符串中搜索子字符串</li><li id="40c2" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">字符串中存在的子字符串的百分比</li><li id="5129" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">使用单词或字符将字符串拆分为子字符串</li><li id="281e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">获取句子的最后一个子串，不考虑长度</li><li id="42ff" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">替换子字符串</li><li id="ec64" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">统计子字符串在字符串中的出现次数</li><li id="f13a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">字符串中重复子字符串的索引</li></ol><p id="d147" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们开始讨论这些问题。</p><h1 id="86bd" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">1.关于字符串切片的所有内容</h1><p id="86b5" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">最常见和最基本的切片模板是string[start _ index:end _ index:step]。</p><p id="47cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">仅指定切片的起点(start_index)。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="4436" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="0926" class="ni mh iq ne b gy nn nk l nl nm">In [2]: text_data[8:]                                                                                                                                                           <br/>Out[2]: "what happens when you're busy making other plans."</span></pre><p id="fbea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">仅为切片指定端点(end_index)。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="dfaa" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="ce87" class="ni mh iq ne b gy nn nk l nl nm">In [2]: text_data[:8]                                                                                                                                                           <br/>Out[2]: 'Life is '</span></pre><p id="c175" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">指定start_index和end_index。保持start_index &lt; end_index.</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="e5ea" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="0da6" class="ni mh iq ne b gy nn nk l nl nm">In [2]: text_data[8:21]                                                                                                                                                         <br/>Out[2]: 'what happens '</span></pre><p id="aa6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Keep start_index &gt; end_index。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="0150" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="c3f2" class="ni mh iq ne b gy nn nk l nl nm">In [2]: text_data[10:3]                                                                                                                                                         <br/>Out[2]: ''</span></pre><p id="d60b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果start_index值大于end_index值，那么text_data的切片将不返回任何内容。</p><p id="ef78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从text_data中提取一个字符。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="ffa8" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="08bb" class="ni mh iq ne b gy nn nk l nl nm">In [2]: text_data[10]                                                                                                                                                          <br/>Out[2]: 'a'</span></pre><p id="da54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在切片过程中添加一个步骤。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="6531" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="149b" class="ni mh iq ne b gy nn nk l nl nm">In [2]: text_data[8:21:2]                                                                                                                                                      <br/>Out[2]: 'wa apn '</span></pre><p id="7633" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在切片过程中添加一个负步骤。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="7569" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="be43" class="ni mh iq ne b gy nn nk l nl nm">In [2]: text_data[::-1]                                                                                                                                                        <br/>Out[2]: ".snalp rehto gnikam ysub er'uoy nehw sneppah tahw si efiL"</span></pre><p id="8780" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">负阶跃的输出也反转该单词。你可以用这个方法来检查回文单词。</p><p id="140e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">示例:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="e82c" class="ni mh iq ne b gy nj nk l nl nm">In [16]: is_palindrome = 'malayalam'In [17]: reverse = is_palindrome[::-1]</span><span id="e882" class="ni mh iq ne b gy nn nk l nl nm">In [18]: reverse == is_palindrome                                                                                                                                               <br/>Out[18]: True</span></pre><p id="0244" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请指定负的start_index和end_index。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="9915" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="a038" class="ni mh iq ne b gy nn nk l nl nm">In [19]: text_data[-6:-1]                                                                                                                                                       <br/>Out[19]: 'plans'</span></pre><p id="8460" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在python中，字符串末尾的索引从-1开始，而不是从0开始。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="ca4c" class="ni mh iq ne b gy nj nk l nl nm"> L    I    f    e<br/> 0    1    2    3<br/>-4   -3   -2   -1</span></pre><h1 id="e713" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">2.为什么索引显示索引超出范围错误，但不切片？</h1><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="3843" class="ni mh iq ne b gy nj nk l nl nm">In [1]: index_error = 'Life'<br/>In [2]: index_error[5]                                                                                                                                                          <br/>--------------------------------------------------------------------------<br/>IndexError                                Traceback (most recent call last)<br/>&lt;ipython-input-2-83a895f5645d&gt; in &lt;module&gt;<br/>----&gt; 1 index_error[5]</span><span id="8b71" class="ni mh iq ne b gy nn nk l nl nm">IndexError: string index out of range</span><span id="7ba5" class="ni mh iq ne b gy nn nk l nl nm">In [3]: index_error[5:]                                                                                                                                                         <br/>Out[3]: ''</span></pre><p id="a1d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">index_error[5]尝试返回索引5处的值。但是，如果索引5处的值不可用，那么它将显示一个错误。切片返回值的序列。因此，如果索引[5]处的值丢失，python不会给出任何错误。</p><p id="c020" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你不确定文本数据的长度，那么总是使用切片。</p><h1 id="3769" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">3.检查字符串中是否存在子串</h1><p id="d68c" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">我们将使用“in”操作符来检查字符串中是否存在子字符串。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="9e6a" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="492e" class="ni mh iq ne b gy nn nk l nl nm">In [2]: 'Life' in text_data                                                                                                                                                     <br/>Out[2]: True</span><span id="0cef" class="ni mh iq ne b gy nn nk l nl nm">In [3]: 'plant' in text_data                                                                                                                                                    <br/>Out[3]: False</span></pre><h1 id="54c0" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">4.在字符串中搜索子字符串</h1><p id="20da" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">我们将使用find()函数来查找字符串中存在的子字符串的起始索引。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="c878" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="a26b" class="ni mh iq ne b gy nn nk l nl nm">In [2]: sub_text_var1 = 'happens'</span><span id="0d87" class="ni mh iq ne b gy nn nk l nl nm">In [3]: text_data.find(sub_text_var1)                                                                                                                                           <br/>Out[3]: 13</span><span id="ace3" class="ni mh iq ne b gy nn nk l nl nm">In [4]: sub_text_var2 = 'plants'</span><span id="af21" class="ni mh iq ne b gy nn nk l nl nm">In [5]: text_data.find(sub_text_var2)                                                                                                                                           <br/>Out[5]: -1</span></pre><p id="6b85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果子串在字符串中不可用，find()函数将返回-1。</p><h1 id="90f9" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">5.字符串中存在的子字符串的百分比</h1><p id="fc11" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">我们可以使用Jaccard相似度方法来找出一个字符串中子串重复的百分比。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="252d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果一个子串与一个字符串相同，那么jaccord_coeff值为0.5。如果substring和string之间的相似度是一半，那么jaccord_coeff值将是0.25。</p><h1 id="064a" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">6.使用单词或字符将字符串拆分为子字符串</h1><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="4828" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span></pre><p id="0060" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设您有一个业务需求，每当一个繁忙的单词出现在一个字符串中时，程序会将该字符串拆分为子字符串。您可以使用下面的代码来实现这一点。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="0c9c" class="ni mh iq ne b gy nj nk l nl nm">In [2]: if 'busy' in text_data: <br/>   ...:     print(text_data.split('busy')) <br/>   ...:                                                                                                                                                                         <br/>["Life is what happens when you're ", ' making other plans.']</span></pre><p id="2a0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以使用单个字符拆分字符串。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="89fb" class="ni mh iq ne b gy nj nk l nl nm">In [3]: if '.' in text_data: <br/>   ...:     print(text_data.split('.')) <br/>   ...:                                                                                                                                                                         <br/>["Life is what happens when you're busy making other plans", '']</span></pre><h1 id="9c00" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">7.获取句子的最后一个子串，不考虑长度</h1><p id="2646" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">您可以使用下面的代码获取字符串的最后一部分。它也可以处理不同长度的句子。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="5fae" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data_var1 = "Life is what happens when you're busy making other plans."</span><span id="b422" class="ni mh iq ne b gy nn nk l nl nm">In [2]: text_data_var2 = "Today is a beautiful day."</span><span id="f089" class="ni mh iq ne b gy nn nk l nl nm">In [3]: for i in [text_data_var1, text_data_var2]: <br/>   ...:     print(i.split()[-1]) <br/>   ...:                                                                                                                                                                         <br/>plans.<br/>day.</span></pre><h1 id="b816" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">8.替换子字符串</h1><p id="f38f" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">您可以使用replace()方法替换一个单词或一组单词。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="a968" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data = "Life is what happens when you're busy making other plans."</span><span id="d3e3" class="ni mh iq ne b gy nn nk l nl nm">In [2]: text_data.replace('other','no')                                                                                                                                         <br/>Out[2]: "Life is what happens when you're busy making no plans."</span><span id="8f61" class="ni mh iq ne b gy nn nk l nl nm">In [3]: text_data.replace('making other','with')                                                                                                                                <br/>Out[3]: "Life is what happens when you're busy with plans."</span></pre><h1 id="e9dc" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">9.统计子字符串在字符串中的出现次数</h1><p id="c966" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">借助find()和replace()方法，您可以统计一个单词在文档中的出现次数。请在下面找到相关代码。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="134a" class="ni mh iq ne b gy nj nk l nl nm">In [1]: text_data_test = "Life is what life happens when you're busy life making other life plans."</span><span id="648e" class="ni mh iq ne b gy nn nk l nl nm">In [2]: count = 0</span><span id="d243" class="ni mh iq ne b gy nn nk l nl nm">In [3]: while 'life' in text_data_test: <br/>   ...:     text_data_test = text_data_test.lower().replace('life','',1) <br/>   ...:     count+=1 <br/>   ...:</span><span id="89d3" class="ni mh iq ne b gy nn nk l nl nm">In [4]: f'occurrence of word life is {count}'                                                                                                                                   <br/>Out[4]: 'occurrence of word life is 4'</span></pre><p id="3a3e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果删除lower()方法，单词life的出现次数将为3。因为replace()是区分大小写的函数。</p><p id="5ba8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尝试更改函数replace()的输入以获得不同的结果。</p><h1 id="6d35" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">10.字符串中重复子字符串的索引</h1><p id="bd02" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">可以使用find()方法在文本或字符串中定位子字符串的所有索引。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="efe6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">python中没有任何内置函数，它可以给你一个字符串中所有重复子串的索引。所以，我们需要建立一个新的。你可以使用上面的代码或者写一个新的代码。</p><h1 id="dde4" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">结论</h1><p id="3b5f" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">Python开发人员总是面临与substring相关的问题。这些只是与substring相关的10个最常出现的问题的汇编。在本文中，我解释了切片、重复字符串、在字符串中查找子字符串、索引外问题等。</p><p id="a147" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您有任何与substring相关的新问题，请告诉我。</p><p id="e4e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望这篇文章能帮助你解决与substring相关的问题。</p></div></div>    
</body>
</html>