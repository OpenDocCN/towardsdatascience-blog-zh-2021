<html>
<head>
<title>How to Save Break Points in Tennis Using Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何利用数据挽救网球中的破发点</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-save-break-points-in-tennis-using-data-f0b32c026a88?source=collection_archive---------31-----------------------#2021-06-08">https://towardsdatascience.com/how-to-save-break-points-in-tennis-using-data-f0b32c026a88?source=collection_archive---------31-----------------------#2021-06-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3f4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">任何网球比赛的关键之一是挽救破发点的能力。看一看<a class="ae kl" href="https://www.atptour.com/en/stats/leaderboard?boardType=pressure&amp;timeFrame=52Week&amp;surface=all&amp;versusRank=all&amp;formerNo1=false" rel="noopener ugc nofollow" target="_blank"> ATP排行榜</a>，你会想起这个事实，因为你会看到游戏中的顶级职业选手始终保持在破发点挽救百分比的最顶端。但是是什么让一个球员擅长挽救破发点呢？借助杰夫·萨克曼(Jeff Sackman)过去10年每个大满贯的逐点数据集，我们可以深入了解职业选手如何在网球的最大舞台上挽救破发点。</p><p id="3188" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们开始导入相关库的:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="bbbf" class="kv kw iq kr b gy kx ky l kz la">import pandas as pd<br/>import seaborn as sn<br/>import matplotlib.pyplot as plt<br/>import numpy as np</span></pre><p id="5b2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们需要导入数据。从2018年开始，澳大利亚网球公开赛和法国网球公开赛的数据被不同地打包，所以我们现在放弃了这几场比赛。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="ada5" class="kv kw iq kr b gy kx ky l kz la">years = [i for i in range(2011, 2021)]<br/>slams = ['ausopen', 'frenchopen', 'usopen', 'wimbledon']<br/>data = pd.DataFrame()</span><span id="3b83" class="kv kw iq kr b gy lb ky l kz la">for year in years:<br/>    for slam in slams:<br/>        if year &gt;= 2018 and slam in ['ausopen', 'frenchopen']: #these slams did not have the same data collected<br/>            continue<br/>        try:<br/>            new_data = pd.read_csv('./tennis_slam_pointbypoint-master/' + str(year) + '-' + slam + '-points.csv')<br/>            if year == 2011 and slam == 'ausopen':<br/>                data = new_data<br/>            else:<br/>                data = pd.concat([new_data, data])<br/>        except FileNotFoundError:<br/>            print(year, slam)<br/>            continue</span></pre><p id="01aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我删除了没有对打数据的行(在这种情况下，这些行没有发球速度读数)，并收集了相关的特征，如ace、净得分、非受迫性失误、获胜者等。我会推荐任何感兴趣的人参考<a class="ae kl" href="https://github.com/dcaustin33/Medium-hosting/blob/main/Break%20Point%20Save%20%25.py" rel="noopener ugc nofollow" target="_blank"> Github </a>文件，因为把所有内容都发布到文章中会让人不知所措。</p><p id="38ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">终于我们可以开始分析了。在网球场上做出的第一个决定是是否先发球。如下所示，先发球似乎有很大的帮助，因为第一场比赛的破发点比第二场少得多(大约减少了25%)。善于挽救破发点的最好方法是首先不要面对它们，首先发球可以最大限度地减少球员在整场比赛中面临的破发点。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="5f0e" class="kv kw iq kr b gy kx ky l kz la">#imported library's include (Seaborn, Matplotlib.pyplot, pandas)<br/>#sets the x axis to be 12 games and then uses a pandas groupby statement</span><span id="9073" class="kv kw iq kr b gy lb ky l kz la">a_plot = sn.lineplot(x = [i for i in range(0,12)], y = data.groupby('GamesPlayed').mean()['BreakPoint'][0:11])</span><span id="cf96" class="kv kw iq kr b gy lb ky l kz la">a_plot.set(ylim = (0, .19))<br/>plt.title("Break Points Faced per Game")<br/>plt.grid()<br/>plt.xlabel("Games into Set")</span></pre><figure class="km kn ko kp gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lc"><img src="../Images/51a1c054d2df5a8593cd6a04ed696ba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M-O-oBA-0Luv28LtqTmyDA.png"/></div></div><p class="lk ll gj gh gi lm ln bd b be z dk translated">第一场比赛显示，与其他比赛相比，面临的破发点减少了25%</p></figure><p id="ffcd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来我们要研究的是如何在破发点发球，毕竟这是网球场上你可以完全控制的事情。虽然我们在某种程度上受到限制，因为如果球员错过了第一次发球(即他们试图击球的力度)，我们仍然可以检查发球速度如何影响破发点挽救百分比的一些关键因素。</p><p id="03da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将发球速度从每小时80-140英里，每5英里一组。所有指标都与这个循环相关联，每个指标的名称都应该相当直观</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="f9a2" class="kv kw iq kr b gy kx ky l kz la">for i in range(80, 145, 5): #bucketing by fives and then appending to lists corresponding to different metrics</span><span id="e8fe" class="kv kw iq kr b gy lb ky l kz la">bucket_data = data[(data.ServeSpeed &gt;= i) &amp; (data.ServeSpeed &lt;= i + 5)]<br/>    trimmed_data = bucket_data[bucket_data.BreakPoint]<br/>    <br/>    x = bucket_data.groupby('BreakPoint').mean()#all data<br/>    y = trimmed_data.groupby('BreakPointWon').mean()#just bp data<br/>    <br/>    <br/>    save_percentage.append(1 - x.loc[True, 'BreakPointWon'])#doing the one because has two entries True and False<br/>    rally_length.append(y.loc[True, 'Rally'])<br/>    <br/>    buckets.append(i)<br/>    <br/>    winner_percentage_loss.append(y.loc[False, 'Winner'])<br/>    winner_percentage_save.append(y.loc[True, 'Winner'])<br/>    <br/>    unforced_error_percentage_loss.append(y.loc[True, 'UnforcedError'])<br/>    unforced_error_percentage_save.append(y.loc[False, 'UnforcedError'])<br/>    <br/>    net_point.append(x.loc[True, 'ServerNetPoint'])<br/>    net_point_won.append(x.loc[True, 'ServerNetPointWon'] / x.loc[True, 'ServerNetPoint'])<br/>    <br/>    return_net_point.append(x.loc[True, 'NetPoint'] - x.loc[True, 'ServerNetPoint'])<br/>    return_net_point_won.append((x.loc[True, 'NetPointWon'] - x.loc[True, 'ServerNetPointWon']) / (x.loc[True, 'NetPoint'] - x.loc[True, 'ServerNetPoint']))</span></pre><p id="a6d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如你所料，发球速度的提高与破发点挽救率相关。然而，一旦你达到130，这种影响似乎变平了。最终发球速度可以公式化为一个决策方程。如果一名球员可以量化每增加一英里他们错过第一次发球的可能性有多大，以及他们在第二次发球时赢得分数的可能性有多大，他们就能够计算出他们应该发球的最佳速度。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="3439" class="kv kw iq kr b gy kx ky l kz la">import matplotlib.ticker as mtick #imports to enable percentage reading</span><span id="f01a" class="kv kw iq kr b gy lb ky l kz la">#graphs save percentage by serve speed<br/>ax = sn.lineplot(x = buckets, y = [i * 100 for i in save_percentage])<br/>ax.yaxis.set_major_formatter(mtick.PercentFormatter())#sets y axis as a percent</span><span id="6922" class="kv kw iq kr b gy lb ky l kz la">plt.grid()<br/>plt.title("Save Percentage by Serve Speed")</span><span id="0356" class="kv kw iq kr b gy lb ky l kz la">plt.ylabel("Save Percentage")<br/>plt.xlabel("Serve Speed")</span></pre><figure class="km kn ko kp gt ld gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/5927ab8df7c5082c01d2272ffddde342.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*DPTaG_JahO3Z6c7EbtoL2g.png"/></div><p class="lk ll gj gh gi lm ln bd b be z dk translated">130英里/小时后，图表稳定增长，影响有限</p></figure><p id="28a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们考虑赢家和非受迫性失误。正如我们从下面看到的，当你的发球速度提高时，胜率稳步上升，而当你的对手击中胜方的几率保持相对稳定。作为服务器，这可能会导致重要的战术决策。例如，如果你正在打一个打了很多致胜球的大击球手，打一个较慢的发球可能没问题，因为发球速度似乎不会影响他们打致胜球的机会。然而，如果你不得不打致胜球来赢得你的大部分分数，你可以冒险在你的第一次和第二次发球时打得更用力一点，以增加打致胜球的可能性。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="45c4" class="kv kw iq kr b gy kx ky l kz la">#uses two lines on one plot to visualize Winner percentage<br/>ax1 = sn.lineplot(x = buckets, y = [i *100 for i in winner_percentage_loss], label = 'Server')<br/>ax2 = sn.lineplot(x = buckets, y = [i * 100 for i in winner_percentage_save], label = 'Returner')<br/>ax1.yaxis.set_major_formatter(mtick.PercentFormatter())<br/>ax2.yaxis.set_major_formatter(mtick.PercentFormatter())</span><span id="6164" class="kv kw iq kr b gy lb ky l kz la">plt.grid()<br/>plt.title("Winner Percentage Server vs Returner by Serve Speed")</span><span id="8f71" class="kv kw iq kr b gy lb ky l kz la">plt.ylabel("Winner Percentage")<br/>plt.xlabel("Serve Speed MPH")</span></pre><figure class="km kn ko kp gt ld gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/5e88b30e1552911e0bc976b693b0b8aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*0W0qDc92OyXXmbBg-Y_AjQ.png"/></div><p class="lk ll gj gh gi lm ln bd b be z dk translated">对于返回者来说，赢家比例保持不变</p></figure><p id="b93b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还必须考虑发生非受迫性失误的可能性。正如下图所示，如果你的发球速度是90英里/小时，而不是135英里/小时，你的对手基本上不会犯非受迫性错误——140英里/小时的百分比可能是由样本量低造成的。然而，随着你发球速度的提高，你的发球出现非受迫性失误的几率会稳步下降。这同样会导致重要的战术变化。如果你的对手是零星的，犯了很多非受迫性错误，你可能想打一个更软的第一次发球，因为发球速度不会影响他们犯错误的倾向。然而，如果作为一个发球者，你一直不稳定，通过更努力的发球来降低非受迫性失误的概率可能是正确的举动。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="b237" class="kv kw iq kr b gy kx ky l kz la">#uses two lines on one plot to visualize unforced errors<br/>ax1 = sn.lineplot(x = buckets, y = [i * 100 for i in unforced_error_percentage_save], label = 'Server')<br/>ax2 = sn.lineplot(x = buckets, y = [i * 100 for i in unforced_error_percentage_loss], label = 'Returner')<br/>ax1.yaxis.set_major_formatter(mtick.PercentFormatter())<br/>ax2.yaxis.set_major_formatter(mtick.PercentFormatter())</span><span id="2a47" class="kv kw iq kr b gy lb ky l kz la">plt.grid()<br/>plt.title("Unforced Error Percentage Server vs Returner by Serve Speed")</span><span id="2c21" class="kv kw iq kr b gy lb ky l kz la">plt.ylabel("Unforced Error Percentage")<br/>plt.xlabel("Serve Speed MPH")</span></pre><figure class="km kn ko kp gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lq"><img src="../Images/a63a917bd7dc196ec7a902d56839cffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q71BE0GNKmEkyZpEvHW9iA.png"/></div></div><p class="lk ll gj gh gi lm ln bd b be z dk translated">服务器的非受迫性错误百分比随着速度的增加而降低</p></figure><p id="c411" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我们发现当一个球员来到网前，他们有68%的机会赢得这一分。上网是一个成功的策略，尤其是在破发点，当你迫使对手在高压情况下进行艰难的射门时。正如我们所看到的，随着你发球速度的增加，网前胜率保持不变，这两种情况都可能是由于样本量小，但你上网的能力显著增加——从80英里/小时的10%增加到120-130英里/小时的20%左右。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="5bb1" class="kv kw iq kr b gy kx ky l kz la">#graphs by percentage chance to get to the Net<br/>ax = sn.lineplot(x = buckets, y = [i * 100 for i in net_point])</span><span id="cb35" class="kv kw iq kr b gy lb ky l kz la">ax.yaxis.set_major_formatter(mtick.PercentFormatter())</span><span id="43f8" class="kv kw iq kr b gy lb ky l kz la">plt.grid()<br/>plt.title("Percentage Chance to Get to the Net")</span><span id="07f3" class="kv kw iq kr b gy lb ky l kz la">plt.ylabel("Server Net Point Percentage")<br/>plt.xlabel("Serve Speed MPH")<br/></span><span id="aaab" class="kv kw iq kr b gy lb ky l kz la">#graphs by win percentage at the net<br/>ax = sn.lineplot(x = buckets, y = [i * 100 for i in net_point_won])<br/>ax.yaxis.set_major_formatter(mtick.PercentFormatter())</span><span id="6c60" class="kv kw iq kr b gy lb ky l kz la">plt.grid()<br/>plt.title("Win Percentage at the Net by Serve Speed")</span><span id="315c" class="kv kw iq kr b gy lb ky l kz la">plt.ylabel("Server Net Point Win Percentage")<br/>plt.xlabel("Serve Speed MPH")</span></pre><div class="km kn ko kp gt ab cb"><figure class="lr ld ls lt lu lv lw paragraph-image"><img src="../Images/d5f5becb6e64d344af7580f487c2f3be.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*SpKhjMFUEy_TGQXYOwrPSQ.png"/></figure><figure class="lr ld lx lt lu lv lw paragraph-image"><img src="../Images/347b29d609fd37f0f6fe658781f4eac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*fvWkckplaLAYg-zxjFRgWg.png"/></figure></div><p id="019e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，这些信息取决于你的对手和你的实力。如果网络机会是你战略的一个关键部分，你可能会通过增加你的MPH得到更好的服务。此外，增加你的MPH也会降低你的对手入网的概率，而他们的胜率保持不变，除非是135 MPH的异常值。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="2806" class="kv kw iq kr b gy kx ky l kz la">#Returner percent chance to get to the net<br/>ax = sn.lineplot(x = buckets, y = [i * 100 for i in return_net_point])<br/>ax.yaxis.set_major_formatter(mtick.PercentFormatter())</span><span id="d901" class="kv kw iq kr b gy lb ky l kz la">plt.grid()<br/>plt.title("Oppenent Percent Chance to get to Net by Serve Speed")</span><span id="a0bd" class="kv kw iq kr b gy lb ky l kz la">plt.ylabel("Returner Net Point Win Percentage")<br/>plt.xlabel("Serve Speed MPH")<br/></span><span id="5582" class="kv kw iq kr b gy lb ky l kz la">#Returner win percentage at the net<br/>ax = sn.lineplot(x = buckets, y = [i * 100 for i in return_net_point_won])<br/>ax.yaxis.set_major_formatter(mtick.PercentFormatter())</span><span id="d971" class="kv kw iq kr b gy lb ky l kz la">plt.grid()<br/>plt.title("Returner Win Percentage at the Net by Serve Speed")</span><span id="680f" class="kv kw iq kr b gy lb ky l kz la">plt.ylabel("Returner Net Point Win Percentage")<br/>plt.xlabel("Serve Speed MPH")</span></pre><div class="km kn ko kp gt ab cb"><figure class="lr ld ly lt lu lv lw paragraph-image"><img src="../Images/b2f9d097164b69939bd3d8cc12f5d86a.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*62JnjLoKuAX1L8DIOVke5A.png"/></figure><figure class="lr ld lz lt lu lv lw paragraph-image"><img src="../Images/81f1b787e9a2e8aa27d85d41cfecbe80.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*WjsoWGjp-33pe3E1_UE4-A.png"/></figure></div><p id="15fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然比赛中做出的每个决定都完全取决于你和对手的比赛风格，但这些统计数据为在破发点上做出明智的选择提供了一些证据。显然，不是每个人都能够发球超过130英里/小时，但是发球速度显然是节省破发点的一个重要部分，可能是你下次练习时的一个重要考虑因素。杰夫·萨克曼的数据为网球和网球统计数据提供了宝贵的视角，我们只能希望ATP像MLB一样开放IBM和InfoSys的跟踪数据，以增加对这项运动的分析关注。</p><p id="7e50" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我希望做我上一篇文章做的事情(<a class="ae kl" rel="noopener" target="_blank" href="/atp-tennis-cluster-analysis-91bbcce61595">聚类</a>)，同时使用大满贯的逐点数据，看看是否可以找到任何额外的见解。</p><p id="0798" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">github:<a class="ae kl" href="https://github.com/dcaustin33/Medium-hosting/blob/main/Break%20Point%20Save%20%25.py" rel="noopener ugc nofollow" target="_blank">https://github . com/dcaustin 33/Medium-hosting/blob/main/Break % 20 point % 20 save % 20% 25 . py</a></p></div></div>    
</body>
</html>