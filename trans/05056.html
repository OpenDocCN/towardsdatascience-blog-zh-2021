<html>
<head>
<title>Automate your Text Processing workflow in a single line of Python Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在一行Python代码中自动化您的文本处理工作流程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/automate-your-text-processing-workflow-in-a-single-line-of-python-code-e276755e45de?source=collection_archive---------7-----------------------#2021-05-04">https://towardsdatascience.com/automate-your-text-processing-workflow-in-a-single-line-of-python-code-e276755e45de?source=collection_archive---------7-----------------------#2021-05-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ad0b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用CleanText库处理NLP任务的文本数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/612686c872d277167372621e4959ce27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sj4BZxAljMCcLX5SCujffA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@windows?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">窗口</a>拍摄</p></figure><p id="8b65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自然语言处理(NLP)是人工智能的一个子领域，涉及计算机和自然语言之间的交互。它围绕着如何训练一个可以理解和实现自然语言任务用法的数据科学模型。典型的NLP项目遵循流水线的各个方面来训练模型。流水线中的各个步骤包括文本清理、记号化、词干化、编码成数字向量等，然后是模型训练。</p><p id="ba79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为NLP任务导出的数据集是文本数据，主要来自互联网。大多数时候，用于NLP建模的文本数据是脏的，需要在数据处理的早期进行清理。数据科学家将大部分时间花在数据预处理上，包括清理文本数据。</p><p id="8385" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将讨论一个有趣的库CleanText，它简化了清理文本数据的过程，并加快了数据预处理管道。</p><h1 id="9dfb" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">什么是CleanText？</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/7f9205ae03fab746ce67c581eec64a4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*ISMhZhA3DR13VWYfYpLg_w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/users/jarmoluk-143740/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=268179" rel="noopener ugc nofollow" target="_blank">米哈尔·贾莫鲁克</a>拍摄，来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=268179" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a></p></figure><p id="c472" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CleanText是一个开源的Python库，它能够清除从web或社交媒体上搜集的文本数据。CleanText使开发人员能够创建规范化的文本表示。CleanText使用<a class="ae ky" href="https://github.com/LuminosoInsight/python-ftfy" rel="noopener ugc nofollow" target="_blank"> ftfy </a>、<a class="ae ky" href="https://github.com/takluyver/Unidecode" rel="noopener ugc nofollow" target="_blank"> unidecode </a>和各种其他硬编码规则(包括RegEx)将损坏或不干净的输入文本转换为干净的文本，可以进一步处理这些文本以训练NLP模型。</p><h2 id="61d6" class="mo lw it bd lx mp mq dn mb mr ms dp mf li mt mu mh lm mv mw mj lq mx my ml mz bi translated">安装:</h2><p id="3877" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">可以使用以下命令从PyPl安装CleanText库:</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="1e61" class="mo lw it ng b gy nk nl l nm nn"><strong class="ng iu">pip install clean-text</strong></span></pre><p id="b0fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装后，您可以使用以下命令导入库:</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="fe7c" class="mo lw it ng b gy nk nl l nm nn"><strong class="ng iu">from cleantext import clean</strong></span></pre><h1 id="c2e7" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">用法:</h1><p id="5370" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">库CleanText只提供了一个函数“Clean ”,它采用各种参数来执行文本清理。清洗功能可以执行11种清洗，包括:</p><h2 id="378d" class="mo lw it bd lx mp mq dn mb mr ms dp mf li mt mu mh lm mv mw mj lq mx my ml mz bi translated">Unicode:</h2><p id="4a56" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">它修复了各种Unicode错误。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="6813" class="mo lw it ng b gy nk nl l nm nn"><strong class="ng iu">s1 = 'Zürich'<br/>clean(s1, fix_unicode=True)</strong></span><span id="cbd6" class="mo lw it ng b gy no nl l nm nn"># Output: zurich</span></pre><h2 id="7a4a" class="mo lw it bd lx mp mq dn mb mr ms dp mf li mt mu mh lm mv mw mj lq mx my ml mz bi translated">ASCII:</h2><p id="c9e7" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">它将文本翻译成最接近的ASCII表示。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="d7d9" class="mo lw it ng b gy nk nl l nm nn"><strong class="ng iu">s2 = "ko\u017eu\u0161\u010dek"<br/>clean(s2, to_ascii=True)</strong></span><span id="b285" class="mo lw it ng b gy no nl l nm nn"># Output: kozuscek</span></pre><h2 id="ba86" class="mo lw it bd lx mp mq dn mb mr ms dp mf li mt mu mh lm mv mw mj lq mx my ml mz bi translated">下限:</h2><p id="bd2a" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">将文本数据转换成小写。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="8c65" class="mo lw it ng b gy nk nl l nm nn"><strong class="ng iu">s3 = "My Name is SATYAM"<br/>clean(s3, lower=True)</strong></span><span id="1f83" class="mo lw it ng b gy no nl l nm nn"># Output: my name is satyam</span></pre><h2 id="609a" class="mo lw it bd lx mp mq dn mb mr ms dp mf li mt mu mh lm mv mw mj lq mx my ml mz bi translated">替换网址/电子邮件/电话号码:</h2><p id="ca23" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">用一个特殊的令牌替换文本数据中出现的所有URL、电子邮件或电话号码。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="b9f2" class="mo lw it ng b gy nk nl l nm nn"><strong class="ng iu">s4 = "https://www.Google.com and https://www.Bing.com are popular seach engines. You can mail me at satkr7@gmail.com. If not replied call me at 9876543210"</strong></span><span id="29df" class="mo lw it ng b gy no nl l nm nn"><strong class="ng iu">clean(s4, no_urls=True, replace_with_url="URL",<br/>no_emails=True, replace_with_email="EMAIL"<br/>no_phone_numbers=True, replace_with_email="PHONE")</strong></span><span id="69ee" class="mo lw it ng b gy no nl l nm nn"># Output: url and url are popular search engines. You can mail me at EMAIL. If not replied call me at PHONE</span></pre><h2 id="9cd2" class="mo lw it bd lx mp mq dn mb mr ms dp mf li mt mu mh lm mv mw mj lq mx my ml mz bi translated">替换货币:</h2><p id="c15d" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">用特殊标记替换文本数据中出现的所有货币。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="88ee" class="mo lw it ng b gy nk nl l nm nn"><strong class="ng iu">s5 = "I want ₹ 40"<br/>clean(s5, no_currency_symbols = True)<br/>clean(s5, no_currency_symbols = True, replace_with_currency_symbol="Rupees")</strong></span><span id="3bb7" class="mo lw it ng b gy no nl l nm nn"># Output: i want &lt;cur&gt; 40<br/># Output: i want rupees 40</span></pre><h2 id="3802" class="mo lw it bd lx mp mq dn mb mr ms dp mf li mt mu mh lm mv mw mj lq mx my ml mz bi translated">删除号码:</h2><p id="2745" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">用特殊符号替换或删除所有数字。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="e342" class="mo lw it ng b gy nk nl l nm nn"><strong class="ng iu">s7 = 'abc123def456ghi789zero0'</strong></span><span id="5c49" class="mo lw it ng b gy no nl l nm nn"><strong class="ng iu">clean(s7, no_digits = True)<br/>clean(s7, no_digits = True, replace_with_digit="")</strong></span><span id="de85" class="mo lw it ng b gy no nl l nm nn"># Output: abc000def000ghi000zero0<br/># Output: abcdefghizero</span></pre><h2 id="e51c" class="mo lw it bd lx mp mq dn mb mr ms dp mf li mt mu mh lm mv mw mj lq mx my ml mz bi translated">替换标点符号:</h2><p id="c6ab" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">用特殊符号删除或替换文本数据中的所有标点符号。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="201f" class="mo lw it ng b gy nk nl l nm nn"><strong class="ng iu">s6 = "40,000 is greater than 30,000."<br/>clean(s6, no_punct = True)</strong></span><span id="bc92" class="mo lw it ng b gy no nl l nm nn"># Output: 40000 is greater than 30000</span></pre><h2 id="f26f" class="mo lw it bd lx mp mq dn mb mr ms dp mf li mt mu mh lm mv mw mj lq mx my ml mz bi translated">结合所有参数:</h2><p id="8ce1" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">我们已经在上面单独讨论了所有的参数。现在让我们在Clean函数中组合它们，为一个脏的样本文本调用它，并观察干净文本的结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(作者代码)，CleanText</p></figure><p id="4703" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，只需编写一行Python代码，就可以清除不干净的文本数据，并对其进行进一步的预处理。</p><h1 id="e98f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论:</h1><p id="1df9" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">CleanText是一个高效的库，它可以处理或清理您收集的脏数据，只需一行代码就可以获得规范化的干净文本输出。开发者只需要根据他/她的需要调整参数。它简化了数据科学家的工作，因为现在他/她不必编写许多行复杂的正则表达式代码来清理文本。CleanText不仅可以处理英语语言的输入文本，还可以处理德语，只需设置<code class="fe nr ns nt ng b"><strong class="lb iu">lang=’de’</strong></code> <strong class="lb iu">。</strong></p><p id="e285" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CleanText library只涵盖了一些文本清理参数，还有改进的空间。尽管如此，开发人员可以使用它来完成一些清理任务，然后继续手工编码来完成剩余的工作。</p><blockquote class="nu nv nw"><p id="f3c4" class="kz la nx lb b lc ld ju le lf lg jx lh ny lj lk ll nz ln lo lp oa lr ls lt lu im bi translated">阅读下面提到的文章来了解AutoNLP——一个自动化的NLP库。</p></blockquote><div class="ob oc gp gr od oe"><a href="https://medium.com/swlh/autonlp-sentiment-analysis-in-5-lines-of-python-code-7b2cd2c1e8ab" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd iu gy z fp oj fr fs ok fu fw is bi translated">AutoNLP:用5行Python代码进行情感分析</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">AutoNLP —自然语言处理的自动化</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">medium.com</p></div></div><div class="on l"><div class="oo l op oq or on os ks oe"/></div></div></a></div><h1 id="b8d6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">参考资料:</h1><p id="5457" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">[1]明文知识库:<a class="ae ky" href="https://github.com/jfilter/clean-text" rel="noopener ugc nofollow" target="_blank">https://github.com/jfilter/clean-text</a></p><blockquote class="ot"><p id="c3bb" class="ou ov it bd ow ox oy oz pa pb pc lu dk translated">感谢您的阅读</p></blockquote></div></div>    
</body>
</html>