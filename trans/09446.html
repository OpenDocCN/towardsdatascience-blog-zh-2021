<html>
<head>
<title>How to talk to your database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何与您的数据库对话</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-talk-to-your-database-1dc5ffafba37?source=collection_archive---------44-----------------------#2021-09-01">https://towardsdatascience.com/how-to-talk-to-your-database-1dc5ffafba37?source=collection_archive---------44-----------------------#2021-09-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e897" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">传统的方式</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a6db54ab69363a24bd41e7e6188e3f39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wLkVUaQ0XnWUTFS7Nkpzwg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://burst.shopify.com/@matthew_henry?utm_campaign=photo_credit&amp;utm_content=High+Res+Business+Pug+Working+On+Laptop+Picture+%E2%80%94+Free+Images&amp;utm_medium=referral&amp;utm_source=credit" rel="noopener ugc nofollow" target="_blank">马太·亨利</a>发自<a class="ae kv" href="https://burst.shopify.com/pets?utm_campaign=photo_credit&amp;utm_content=High+Res+Business+Pug+Working+On+Laptop+Picture+%E2%80%94+Free+Images&amp;utm_medium=referral&amp;utm_source=credit" rel="noopener ugc nofollow" target="_blank">突发</a></p></figure><h2 id="2508" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">介绍</h2><p id="1329" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">毫无疑问，最近自然语言处理(NLP)中使用<a class="ae kv" rel="noopener" target="_blank" href="/transformers-141e32e69591">转换器——神经网络</a>的进步确实令人瞩目。这些模型可以很好地执行不同类型的任务，如翻译、文本摘要和自动完成。作为变形金刚的一个不同变体，<a class="ae kv" href="https://arxiv.org/abs/2010.11929" rel="noopener ugc nofollow" target="_blank">视觉变形金刚</a>是图像分类和物体检测中许多计算机视觉任务的当前技术水平。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/b43762c606379c99f06e3fa5e8a13ec6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9N8xFDJqf1OCsOQO"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@alinnnaaaa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Alina Grubnyak </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="6595" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">为了训练这些模型，我们需要大量的数据、专业知识和计算能力。不幸的是，对于中小型企业和个人来说，这可能相当昂贵。</p><p id="6bce" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">本文的目的是从人工智能的炒作中退一步，并提供一种替代方法来完成这个NLP任务。在接下来的章节中，我们将看到如何使用自然语言——简单的英语——与数据库“对话”,而无需训练任何机器学习算法。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="4a0f" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">程序</h2><p id="dd1f" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">第一步是结合若干基于规则的自然语言处理技术<a class="ae kv" href="https://medium.com/mlearning-ai/nlp-tokenization-stemming-lemmatization-and-part-of-speech-tagging-9088ac068768" rel="noopener">对用户输入进行预处理，例如标记化、词条化和词性标注。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/a84c0e893df726a48241133fe80f732f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q9nggwvU-7w1LWbsZ_U8IQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Tokenizer API方法代码(图片由作者提供)</p></figure><p id="e4c9" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">例如，提供输入<strong class="lu ir"> <em class="mz">“显示2017年1月拉纳卡的agros销售额”</em> </strong>将返回如下所示的响应。也可以玩玩<a class="ae kv" href="https://github.com/FAlexandrou97/tokenizerAPI" rel="noopener ugc nofollow" target="_blank"> API </a>，如果发现什么bug或者有什么建议就告诉我。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/42798e12f7c73ddd2217e959da215cbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-6tW9-7nFzdfbYPpm8qNEg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Tokenizer API示例响应(图片由作者提供)</p></figure><p id="5362" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">接下来，我们创建一个平面表来表示我们的数据库模式。原因是查询单个表比连接多个表更简单。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/e6db455c8585415d8eaa699749312083.png" data-original-src="https://miro.medium.com/v2/resize:fit:494/format:webp/1*1RVQmbAMUIlSZBEf3O5gXg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">平面表模式(作者图片)</p></figure><p id="40cc" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">在上面的例子中，仅仅通过列名，我们就可以识别出至少7个不同的表合并成1个。</p><p id="061e" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">发生在数据库级别的另一部分是映射视图。这个视图帮助我们找出每个标记/单词的含义，还可以在SQL中得到它的等价列名。比如给定“Agros”这个词，我们想得出的结论其实是一个品牌。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/e449ae9bff284dd7e82eefde3420fd8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8THHWYHtldeQFw02uqvlxw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">表格映射视图的一部分(作者图片)</p></figure><p id="e94b" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">上图显示了该视图的一部分。尽管一开始看起来有些混乱和不直观，但是一旦我们理解了它在生成SQL中的作用，它就变得有意义了。对于尽可能多的令牌，我们查询视图并根据令牌(或二元模型)的值进行过滤。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/d542b1f0fc3b617f723c65e88d48a375.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*WdRP7u1CK-e9frYA6MdBhw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">映射视图的使用示例(图片由作者提供)</p></figure><p id="8de7" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">下图显示了高级别的标记化和映射过程。我们首先提供用户查询，然后生成二元模型和令牌。为了提高效率，我们进行二元模型查找，并从我们的令牌中删除这些单词。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/bf5b99d6dd24650ad7dad8d54d8ba41a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*cwXkwLuip-ZqJE1G_wWz4w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">标记化和SQL映射过程(图片由作者提供)</p></figure><p id="7c94" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">一旦我们完成了映射，我们就可以通过编程方式将所有内容组合在一起来构造SQL。我们用一个“AND”语句连接每个查找，最后我们执行查询来获得结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/239c81b1185755cdd153ba5f880e0fa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*Ea0xezcvpwdqXbc0ty6hFw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">生成的SQL(图片由作者提供)</p></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="ccf0" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">结论</h2><p id="8ccc" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">即使这个系统不像基于机器学习的系统那样智能和不能一般化，它也提供了为这个特定任务定制的更便宜和更快的解决方案。</p><p id="8874" class="pw-post-body-paragraph ls lt iq lu b lv mm jr lx ly mn ju ma lf mo mc md lj mp mf mg ln mq mi mj mk ij bi translated">下次见，感谢阅读！</p><blockquote class="ng nh ni"><p id="c698" class="ls lt mz lu b lv mm jr lx ly mn ju ma nj mo mc md nk mp mf mg nl mq mi mj mk ij bi translated">这篇文章解释了我本科论文项目的一部分，你可以在这个<a class="ae kv" href="https://github.com/FAlexandrou97/MercuryNLQS" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>中找到一个演示和源代码。</p></blockquote></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="84d2" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">资源</h2><ol class=""><li id="bdc8" class="nm nn iq lu b lv lw ly lz lf no lj np ln nq mk nr ns nt nu bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/transformers-141e32e69591">变形金刚如何工作</a></li><li id="84db" class="nm nn iq lu b lv nv ly nw lf nx lj ny ln nz mk nr ns nt nu bi translated"><a class="ae kv" href="https://arxiv.org/abs/2010.11929" rel="noopener ugc nofollow" target="_blank">一幅图像值16x16个字:大规模图像识别的变形金刚</a></li><li id="d960" class="nm nn iq lu b lv nv ly nw lf nx lj ny ln nz mk nr ns nt nu bi translated"><a class="ae kv" href="https://medium.com/mlearning-ai/nlp-tokenization-stemming-lemmatization-and-part-of-speech-tagging-9088ac068768" rel="noopener">自然语言处理:标记化、词干化、词条化和词性标注</a></li></ol></div></div>    
</body>
</html>