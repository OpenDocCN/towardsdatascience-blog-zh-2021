<html>
<head>
<title>Learning GraphQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习图表QL</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/learning-graphql-4e913f12640d?source=collection_archive---------29-----------------------#2021-05-24">https://towardsdatascience.com/learning-graphql-4e913f12640d?source=collection_archive---------29-----------------------#2021-05-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f334" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">深入探究API的查询语言</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a5fad58d85a14fe25a4f35da1c121785.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ay8bMjZfEhsw40e7"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·斯皮斯克在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="299d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不久前我写了一篇关于GraphQL和REST区别的文章。虽然我对GraphQL做了一些研究以形成比较，但我发现这种查询语言可能非常强大，但有一个陡峭的学习曲线。有几个概念，比如只有一个端点，让我觉得在尝试使用GraphQL之前，我们需要更多地了解它。</p><p id="484b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当对它了解得更多时，不仅要知道什么时候使用GraphQL是理想的，还要知道它的优点和缺点。此外，我们需要理解一些“怪癖”，主要是语法方面的。然而，我们不会深入研究语法，因为这与其说是一个教程，不如说是一个概述。但是一旦我们有了一个好的基础，以后请留意我的指导。</p><h1 id="5dde" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">基本意图</strong></h1><p id="cf85" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">GraphQL是API用来从数据库中查询信息的语言。这被认为是中间层，因为数据能够显示在前端网页上。GraphQL的目标是成为一种查询语言，允许开发人员只收集他们需要的数据，仅此而已。它还旨在运行时更快。作为一个给定，结果应该是预测的，这意味着数据没有意外改变或收集不正确。使用GraphQL，查询运行得很快，因为它们只收集必要的信息，而且很稳定，因为它控制数据，而不是由服务器控制。</p><p id="a278" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GraphQL实现了一个使用模式定义语言(Schema Definition Language，SDL)语法定义API模式的系统。这意味着在它的语法中，您可以创建必需的字段，构建图表版本的表，甚至定义两个表之间的关系。</p><h1 id="a414" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">使用单个端点</strong></h1><p id="06e0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">正如我在比较文章中提到的，GraphQL使用单个端点。对于其他典型的查询语言，比如REST API，我们通常会为每个表请求创建一个端点。例如，给定一个表，您将创建一个端点来选择、插入、更新和删除。这将是四个独立的端点。那将是每张桌子。然而，对于GraphQL，您只为每种类型创建一个端点，包括不同的表。</p><p id="505e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，这是我发现有点困惑的一个痛点。如果只有一个端点，那么我们如何区分哪些表正在被更新，或者哪些表可能被选中？经过一点研究，我发现了一个教程，可以演示这是如何工作的，但还没有完全投入进去。</p><p id="4e96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于单个端点，我们也在主体中发送单个参数。这个参数是“query”，我们通过它发送我们想要采取的任何GraphQL动作。例如，如果我想从我的样本表中获取或选择所有内容，我首先创建我的GraphQL代码，测试它，当我知道它可以工作时，复制它作为测试主体中的值。这将把查询作为键发送，代码作为值发送。还和我在一起吗？这看起来有点令人困惑，但我认为稍加练习，这将非常有用。</p><h1 id="d212" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">查询灵活性</strong></h1><p id="5dbf" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">另一个需要注意的关键点是，GraphQL在查询方面要灵活得多。使用REST API，如果您想从表中获得更多/更少的列，您需要创建一个全新的端点来处理该请求。使用GraphQL，我们只需改变通过参数发送的变量。对于移动开发，这是GraphQL的一个主要用途，这对速度和使用该应用程序的电池寿命都有好处。</p><h1 id="2116" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">理解类型</strong></h1><p id="55c8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">GraphQL使用类型系统来描述模式的形状。然而，这描述了更广泛的定义。首先，类型可以指数据类型，比如Integer或String。一个类型也可以是另一个表的类型，这会创建一个关系。类型也指被描述的表本身。</p><p id="fa54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，类型不仅仅是数据。例如，查询和变异也是类型。这是因为它描述了正在做的事情。</p><p id="32a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于值，另一个需要考虑的重要事项是考虑可空性。默认情况下，GraphQL的类型系统允许任何值都可以为NULL。这意味着如果没有任何明确的说明，值可能为空。这可以减少请求中的失败。但是，空值可能会导致问题，因为某些数据是必需的。有很多方法可以使列成为语法中必需的，只需简单地添加一个感叹号(！)在数据类型旁边。比如“Int！”。这将要求整数有一个值，而不是可空的。所以，这是一个很容易解决的问题，但是我必须考虑一下，因为我使用的所有东西都不是空的，除非特别说明。</p><h1 id="13dd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">突变</strong></h1><p id="8e94" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">对于API，我们需要有改变数据的能力。这可能表示更新、插入或删除。这种突变类型可能类似于一个函数，在这里它被声明为一个突变，给定参数，然后调用表，然后将必要的列设置为变量值。这使得突变仍然在单个终点完成。</p><h1 id="88e2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">图表语法</strong></h1><p id="dc77" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">GraphQL有一个利用图形的独特语法。这意味着您可以写出您的模式，在其中声明不同的节点类型。在这些节点中，您还可以确定是否要定义节点之间的任何关系。在GraphQL中，节点就像数据库的表，而模式就像DBMS一样表示结构。这个语法非常类似于JSON。</p><h1 id="5e38" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">使用什么数据库</strong></h1><p id="7a5d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">正如前面在类型中提到的，可以通过将一个条目的数据类型用作另一个表的类型来声明关系。因为关系存在这种可能性，所以关系数据库是GraphQL的一个非常有效的选择。然而，对于RDBMS来说，它就不那么具体了。它可以是你喜欢的任何东西。这是因为JSON语法是通用的，允许更容易地连接到其他数据库管理系统。</p><p id="41a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然关系可以包括在内，但这并不意味着NoSQL是不可能的。就像选择RDBMS一样，选择NoSQL DBMS也是通用的。只要你对这些怪癖做了正确的研究，你想使用的任何DBMS都有可能与GraphQL一起工作。</p><h1 id="1962" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">结论</strong></h1><p id="4aa1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">本文概述了什么是GraphQL，以及如何使用它。GraphQL是一种功能强大的查询编写语言，采用语法定义语言(SDL)风格。该语法特定于GraphQL，它是一种图形格式。这个图看起来很像JSON，很容易适应各种DBMS或构建表之间的关系。</p><p id="de7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然功能强大，但GraphQL确实有一点学习曲线。具体来说，GraphQL只使用一个端点。这是因为您不是设置不同的端点，而是发送一个包含图形代码的查询变量，并将其直接发送给API。</p><p id="ee42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GraphQL使用类型系统来定义我们的模式。这包括数据类型、可能的关系、表，甚至数据是否会被查询或变异。突变包括插入新数据、更新现有数据，甚至删除不再需要的数据。</p><p id="f2b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管有学习曲线，GraphQL似乎是一种有趣的API查询语言。尽管我们已经在GraphQL和REST API的比较文章中简要讨论了GraphQL，但这是一个更深层次的探索，我们学到了更多，特别是关于语法，而没有做任何编码。然而，下一步将是通过编码来学习。但是那将不得不等待另一天，所以将来在这里寻找GraphQL教程。在那之前，干杯！</p><p id="27e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="ms">用我的</em> </strong> <a class="ae ky" href="https://crafty-leader-2062.ck.page/8f8bcfb181" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="ms">每周简讯</em> </strong> </a> <strong class="lb iu"> <em class="ms">免费阅读我的所有文章，谢谢！</em> </strong></p><p id="92af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="ms">想看完介质上的所有文章？成为中等</em> </strong> <a class="ae ky" href="https://miketechgame.medium.com/membership" rel="noopener"> <strong class="lb iu"> <em class="ms">成员</em> </strong> </a> <strong class="lb iu"> <em class="ms">今天！</em>T13】</strong></p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="543c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看我最近的文章:</p><div class="na nb gp gr nc nd"><a rel="noopener follow" target="_blank" href="/a-dive-into-dash-ed5561f11021"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">一头扎进Dash</h2><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">towardsdatascience.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq ks nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://python.plainenglish.io/getting-the-weather-with-python-dce8f20331fd" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">使用Python获取天气信息</h2><div class="nr l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">这么多可以选择…</h3></div><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">python .平原英语. io</p></div></div><div class="nl l"><div class="ns l nn no np nl nq ks nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a rel="noopener follow" target="_blank" href="/mysql-vs-postgresql-3d48891452a"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">MySQL vs PostgreSQL</h2><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">towardsdatascience.com</p></div></div><div class="nl l"><div class="nt l nn no np nl nq ks nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://medium.com/codex/graphql-vs-rest-c0e14c9f9f1" rel="noopener follow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">GraphQL与REST</h2><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">medium.com</p></div></div><div class="nl l"><div class="nu l nn no np nl nq ks nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://python.plainenglish.io/build-your-own-plex-client-using-python-11cf2e566262" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">使用Python构建您自己的Plex客户端</h2><div class="nr l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">Plex是一个客户端-服务器媒体播放器，可用于流式视频、播放音乐、观看直播电视、收听播客…</h3></div><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">python .平原英语. io</p></div></div><div class="nl l"><div class="nv l nn no np nl nq ks nd"/></div></div></a></div><p id="b4dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参考资料:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><div class="na nb gp gr nc nd"><a href="https://graphql.org/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">API的查询语言</h2><div class="nr l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">GraphQL是一种API查询语言，也是一种用现有数据完成这些查询的运行时语言。图表QL…</h3></div><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">graphql.org</p></div></div><div class="nl l"><div class="ny l nn no np nl nq ks nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://www.freecodecamp.org/news/a-beginners-guide-to-graphql-60e43b0a41f5/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">简明英语的GraphQL指南</h2><div class="nr l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">Luis Aguilar简单英语GraphQL指南所有你需要知道的关于API的最新流行词…</h3></div><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">www.freecodecamp.org</p></div></div><div class="nl l"><div class="nz l nn no np nl nq ks nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://graphql.org/learn/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">GraphQL简介</h2><div class="nr l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">了解GraphQL，它如何工作，以及如何使用它。寻找关于如何构建GraphQL服务的文档…</h3></div><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">graphql.org</p></div></div><div class="nl l"><div class="oa l nn no np nl nq ks nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://graphql.org/learn/best-practices/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">GraphQL最佳实践</h2><div class="nr l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">GraphQL规范在API面临的一些重要问题上故意保持沉默，比如处理…</h3></div><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">graphql.org</p></div></div><div class="nl l"><div class="ob l nn no np nl nq ks nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://graphql.org/learn/thinking-in-graphs/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">图形思维</h2><div class="nr l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">使用GraphQL，您可以将您的业务领域建模为图。图是建模许多现实世界的强大工具…</h3></div><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">graphql.org</p></div></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://www.howtographql.com/basics/2-core-concepts/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">GraphQL核心概念教程</h2><div class="nr l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">在这一章中，你将学习一些GraphQL的基本语言结构。这包括第一次瞥见…</h3></div><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">www.howtographql.com</p></div></div><div class="nl l"><div class="oc l nn no np nl nq ks nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://blog.couchbase.com/creating-a-graphql-application-with-node-js-and-a-nosql-database/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">用Node.js和NoSQL数据库创建一个GraphQL应用程序</h2><div class="nr l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">我听到了很多关于与GraphQL和NoSQL合作的传言，不管是在Couchbase内部还是外部…</h3></div><div class="nk l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">blog.couchbase.com</p></div></div><div class="nl l"><div class="od l nn no np nl nq ks nd"/></div></div></a></div></div></div>    
</body>
</html>