<html>
<head>
<title>Python for Beginners — Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学Python熊猫</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-for-beginners-pandas-e396c8364af1?source=collection_archive---------26-----------------------#2021-05-05">https://towardsdatascience.com/python-for-beginners-pandas-e396c8364af1?source=collection_archive---------26-----------------------#2021-05-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="48d5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">友好的熊猫帮助我们处理电子表格数据</h2></div><p id="7f4f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上一篇<a class="ae lb" rel="noopener" target="_blank" href="/numpy-for-beginners-ba9ca0bba441">文章中，我们看到了Numpy </a>在处理大量数字数据时如何让我们的生活变得更加轻松。但是有时候，还会涉及到其他类型的数据，而且Numpy并不总是最好的解决方案。在这样的情况下，<a class="ae lb" href="https://pandas.pydata.org/pandas-docs/stable/index.html#" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">熊猫</strong> </a>就派上了用场。它有许多应用的可能性，但我的首选情况是读取文件，而不仅仅是数字，即。csv或。xlsx文件，包含某种观察结果(数字数据)，也包含关于这些观察结果的文本信息或元数据。</p><p id="8b9f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这篇文章的结构如下:</p><ul class=""><li id="7fe5" class="lc ld iq kh b ki kj kl km ko le ks lf kw lg la lh li lj lk bi translated">介绍</li><li id="f84e" class="lc ld iq kh b ki ll kl lm ko ln ks lo kw lp la lh li lj lk bi translated">熊猫系列和熊猫数据框</li><li id="0ee4" class="lc ld iq kh b ki ll kl lm ko ln ks lo kw lp la lh li lj lk bi translated">读取数据</li><li id="d835" class="lc ld iq kh b ki ll kl lm ko ln ks lo kw lp la lh li lj lk bi translated">检查数据</li><li id="1464" class="lc ld iq kh b ki ll kl lm ko ln ks lo kw lp la lh li lj lk bi translated">选择数据</li><li id="4ac5" class="lc ld iq kh b ki ll kl lm ko ln ks lo kw lp la lh li lj lk bi translated">简单的情节</li><li id="a161" class="lc ld iq kh b ki ll kl lm ko ln ks lo kw lp la lh li lj lk bi translated">结论</li></ul><p id="3276" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">享受阅读吧！🙂</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lq"><img src="../Images/bb6cdf9cc07fbf9400ef1e353c3edf9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9tniVawjEy9LjP6R"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">照片由<a class="ae lb" href="https://unsplash.com/@billow926?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">翻滚926 </a>上的<a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="3ad9" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">介绍</h1><p id="ded0" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">熊猫是什么？Pandas是一个基于Numpy的非常受欢迎的库，用于处理表格数据、数据操作和分析。Pandas最好的一点可能是它将数据存储为包含行和列的Python对象，与存储在Excel文件中的数据非常相似。此外，这样我们可以很容易地可视化我们的数据，使我们的工作比处理列表或字典形式的数据容易得多。此外，优于Numpy的优点是它处理多种数据类型(即字符串)，而不仅仅是数字数据，尽管我需要提到缺点，这使它与Numpy相比速度较慢。</p><h2 id="017d" class="nk mo iq bd mp nl nm dn mt nn no dp mx ko np nq mz ks nr ns nb kw nt nu nd nv bi translated">熊猫怎么装？</h2><p id="3566" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">嗯，如果使用Anaconda，Pandas是预装在基本环境中的。然而，通常情况下，为您的新项目创建新环境是一个好的实践。要在新环境中安装Pandas，我们需要激活该环境，然后输入:</p><blockquote class="nw nx ny"><p id="fc54" class="kf kg nz kh b ki kj jr kk kl km ju kn oa kp kq kr ob kt ku kv oc kx ky kz la ij bi translated">康达安装熊猫</p></blockquote><p id="7f5d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果正在使用pip，可以通过键入以下命令来安装Pandas:</p><blockquote class="nw nx ny"><p id="c311" class="kf kg nz kh b ki kj jr kk kl km ju kn oa kp kq kr ob kt ku kv oc kx ky kz la ij bi translated">pip安装熊猫</p></blockquote><h2 id="21ea" class="nk mo iq bd mp nl nm dn mt nn no dp mx ko np nq mz ks nr ns nb kw nt nu nd nv bi translated">如何进口熊猫？</h2><p id="17eb" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">当导入某些库时，包括Pandas，我们遵循一个惯例，基本上这意味着我们使用已建立的库的缩写。对于熊猫，我们用“<strong class="kh ir"> pd </strong>”。</p><blockquote class="nw nx ny"><p id="f26d" class="kf kg nz kh b ki kj jr kk kl km ju kn oa kp kq kr ob kt ku kv oc kx ky kz la ij bi translated">进口熊猫作为pd</p></blockquote></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="340b" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">熊猫系列和熊猫数据框</h1><p id="6dea" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">在我们开始讨论Pandas的一些工具之前，我们需要提到Pandas用来存储数据的两个数据结构，Pandas系列和Pandas数据框架。可以把Pandas系列想象成一个有1列的Excel电子表格，外加一个<em class="nz">索引</em>列，或者更好，如果你熟悉Numpy，可以想象成一个一维数组。</p><p id="f7fb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">想象在一个点位置的每日气象观测，例如两周的风速。让我们看一个例子。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi od"><img src="../Images/f3e8f8ed2c78851aa4a25924c5870c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*5pruQodKTQnk8gxD7Qp3mQ.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="b60f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<strong class="kh ir"> pd。Series() </strong>命令，并提供一个列表，在本例中是一个长度为14的floats列表。打印出来后，我们还会得到序列中每个元素的索引。我们还可以从一维Numpy数组创建一个序列。为了提高效率，我将使用同样的风速表。</p><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="ba67" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">尝试打印出新创建的<strong class="kh ir">系列</strong>，并与之前的结果进行比较。</p><p id="5541" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你现在可能会想，如果我们有多个<strong class="kh ir">系列</strong>会怎么样，如果我们也有降水测量，那么Pandas会把我们的数据存储在<strong class="kh ir">数据帧</strong>中。我很确定，你明白了，一个<strong class="kh ir">数据帧</strong>只是多个<strong class="kh ir">系列</strong>的容器。可以把它想象成一个包含多个列和一个索引列的Excel电子表格，或者一个N维的Numpy数组。让我们看一个例子。</p><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="2847" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了创建数据帧，我们使用<strong class="kh ir"> pd。DataFrame() </strong>命令，并提供一个字典，其中键表示我们的列名，值是之前创建的Numpy数组(我们的数据)。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi og"><img src="../Images/14c464691e0bdc146b72049a4fc4d682.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*Av7yF6GZra_tOIvCfZWIig.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="4950" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看起来有点类似于N维数组。每个Pandas DataFrame由以下组件组成:<strong class="kh ir">索引、列和数据(值)</strong>。<strong class="kh ir">索引</strong>是每<strong class="kh ir">行</strong>的<strong class="kh ir">标签</strong>(“名称”)，而每<strong class="kh ir">列</strong>也有它们的标签(“名称”)。索引总是从<strong class="kh ir">零(0) </strong>开始，直到<em class="nz"> n-1 </em>，其中<em class="nz"> n </em>是行数。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/bd3d60f31c91605e8dc22a007dd47295.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*R79A_l-bW6fy4eNE_dDEKg.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="fd8b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个数据帧只包含浮点(数字)，但是允许任何数据类型(整数、字符串、布尔值..)，尽管如果在一个列中组合多种数据类型，必须小心。</p><p id="78b0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了避免意外行为，我们还可以如下指定列数据类型:</p><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="1981" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也可以使用<strong class="kh ir"> pd。Series() </strong>命令用一个字典，如果你想命名创建的系列。</p><p id="6522" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建系列和数据框有更多的选择和可能性，你可以在<a class="ae lb" href="https://pandas.pydata.org/docs/user_guide/index.html#user-guide" rel="noopener ugc nofollow" target="_blank">官方熊猫网站</a>上找到。但是在处理数据科学或数据分析任务时，我们经常需要处理大型数据集，这些数据集以逗号分隔值的形式存储。csv)或Excel电子表格(。xlsx)。让我们看看如何将这样的文件读入熊猫数据帧。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="cdbf" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">读取数据</h1><p id="4dd1" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">要读取一个. csv文件，我们使用<strong class="kh ir"> pd.read_csv() </strong>命令。当文件被正确格式化后，Pandas会计算出分隔符、列名、数据类型等。都存在于我们的数据中。所有提到的都可以被提供，并且更多的参数可以被添加到<strong class="kh ir"> pd.read_csv() </strong>，以扩大读取不同格式文件的可能性。此外，为每个(或一些)列提供dtype参数，显著提高了读取文件的速度，但也大大降低了内存使用，在这篇<a class="ae lb" rel="noopener" target="_blank" href="/please-stop-doing-these-5-things-in-pandas-9fbabea897aa">精彩文章</a>中可以找到更多信息。</p><p id="fdb1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了了解<strong class="kh ir"> pd.read_csv() </strong>如何工作，我创建了一个数据集，其中包含2018年全年的一些气象观测数据，我们将把这些数据作为熊猫数据帧读入并进行处理。为了可视化新创建的数据帧，Pandas提供了一些方便的方法，<strong class="kh ir"> df.head() </strong>和<strong class="kh ir"> df.tail() </strong> (df代表我们的数据帧的名称，在我们的例子中是weather_data)。</p><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="b05c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，有几件事情是重要的:我们需要确保我们的test_data文件在s <strong class="kh ir"> ame文件夹中，就像我们的Jupyter notebook </strong>(或者。py文件),其次我们要正确拼写文件的名称，并提供扩展名<strong class="kh ir">。csv </strong>。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/e10d843d31d9ff55e0378c4aebeb5436.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*K5-P5a0dXh7OOB6d5OV8Aw.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="9e23" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">。head() </strong>方法打印出前5行(默认情况下，我们可以通过在括号中输入任意整数来改变)，而<strong class="kh ir">。tail() </strong>打印出最后5行(也是默认的)。</p><p id="df64" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以与…相同的方式。csv文件，我们也可以读取Excel文件。</p><blockquote class="nw nx ny"><p id="5c5d" class="kf kg nz kh b ki kj jr kk kl km ju kn oa kp kq kr ob kt ku kv oc kx ky kz la ij bi translated">weather _ excel = PD . read _ excel(" test _ data . xlsx ")</p></blockquote><p id="a810" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时会出现错误，“<strong class="kh ir"> <em class="nz"> XLRDError:Excel xlsx文件；不支持</em> </strong>”，那么确保将<strong class="kh ir"> openpyxl </strong>库安装到您选择的环境中，并使用命令:</p><blockquote class="nw nx ny"><p id="406d" class="kf kg nz kh b ki kj jr kk kl km ju kn oa kp kq kr ob kt ku kv oc kx ky kz la ij bi translated">weather _ excel = PD . read _ excel(" test _ data . xlsx "，engine="openpyxl ")</p></blockquote><p id="deb8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我使用了一个读取逗号分隔值文件或Excel文件的基本示例，但是请确保您检查了官方文档(<a class="ae lb" href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html" rel="noopener ugc nofollow" target="_blank">)。csv此处为</a>，而<a class="ae lb" href="https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html" rel="noopener ugc nofollow" target="_blank">为。xlsx这里</a>)来找出我们可以用这两种方法使用的所有论点。另外，你可以看看我以前的一篇关于<a class="ae lb" href="https://medium.com/analytics-vidhya/how-to-extract-time-series-data-from-tabular-strings-e5b2d83fc711" rel="noopener">用熊猫</a>打开和处理格式不太好的文件的文章。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="243f" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">检查数据</h1><p id="664e" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">在我们成功读取数据后，我们需要更仔细地查看我们的数据帧。我们已经打印了前5行和后5行，但是剩下的呢？类似地，检查数据帧的形状总是一个好的做法，就像我们对Numpy ndarrays所做的那样。因此，我们使用df.shape方法，该方法返回数据帧的行数和列数。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/e1f67a64ef5fc2da17ee987c208e54ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/format:webp/1*QDYJTpzCBFSK_t45OsbJwQ.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="c46d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">数据帧有365行和5列，因为2018年有365天，我们有每天的观察值。此外，我们有一个日期栏，和4个不同的观察。</p><p id="ace4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过使用<a class="ae lb" href="http://df.info" rel="noopener ugc nofollow" target="_blank"> df.info </a>()方法，我们可以获得关于数据帧的更多信息，该方法产生列的长度、数量和数据类型，以及内存中的大小。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/753d1971f80847c526b7a42dfe440a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*LwbrjTbIX5aZqeD_JUj0Ew.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="298d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在水文(和气象)任务中，我们经常对数据集的统计参数感兴趣，Pandas为这个问题提供了一个解决方案。它提供了最常用的统计参数，如方法，平均值，中位数，最小值，最大值，偏斜度等。我们来看几个例子。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/8488fe3f83e5eda294a7d02c463cc557.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*AY2JdQaYLGrmF3CKnbfhag.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi om"><img src="../Images/ecfb8dd9dbabe87bde78b73b763bab5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*X_fQ1tNVR1acS-C2Ma0V8A.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi on"><img src="../Images/1bc32bcbb652ca7c3565af5058ffb27d.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*_hw47zUnuTYJiNhvr8Zf_A.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="5c12" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有趣的是，<strong class="kh ir"> df.max() </strong>也用日期计算对象类型列。由于我们没有将日期转换为datetime格式，因此最大值不是12/31/2018，而是一个字符串的最大值，即9，所以是9/9/2018。为了将日期转换成datetime格式(Python随后将其评估为实际日期)，我们使用了<strong class="kh ir"> pd.to_datetime() </strong>函数，如下所示:</p><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="e4f7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，在我们将日期转换为datetime格式之前，尝试打印出dataframe的前5行，并与前面的示例进行比较。此外，我们可以看到列的数据类型发生了变化。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/c97eb3f59649f5a113e81e9f6ed7eeab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*Sswi6heBHucMn07atYWhJQ.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="bece" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在让我们更进一步，学习从我们的weather_data数据框架中选择数据的某些部分。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="1c79" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">选择数据</h1><p id="0de1" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">为了从数据帧中选择数据，我们有几个选项，例如使用<strong class="kh ir">方括号[] </strong>、<strong class="kh ir">。loc[] </strong>或<strong class="kh ir">。iloc[] </strong>功能。当然还有更多的可能性，但这三种应该可以满足我们的大部分需求。</p><h2 id="dfe0" class="nk mo iq bd mp nl nm dn mt nn no dp mx ko np nq mz ks nr ns nb kw nt nu nd nv bi translated">方括号</h2><p id="f319" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">使用方括号，我们可以选择一列(返回熊猫系列)或多列(返回熊猫数据框架)。假设我们只对降水数据感兴趣。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi op"><img src="../Images/d09143ac851b6925e18e042a86bf8371.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*seQz3blS9MekwPToPrRuWA.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="2c80" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者如前所述，我们还可以在方括号内提供列名列表，然后返回新的DataFrame。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/765b3786fb637352171b35d242a3fbd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*HpjUWI62527JBeeM-BwFAQ.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="f910" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也可以通过给方括号提供索引来选择数据，但这种方法不常使用。</p><h2 id="e0cc" class="nk mo iq bd mp nl nm dn mt nn no dp mx ko np nq mz ks nr ns nb kw nt nu nd nv bi translated">。位置[]</h2><p id="7dce" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">的。锁定方法工作方式略有不同。这意味着通过索引标签来选择数据，而且，数据类型取决于我们所处理的数据帧的索引数据类型。我们如下使用它:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/c95ccd19a97fdcb0e2bd445471da9985.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*31oo3Up_M1q9-MHkglNhNA.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="2d47" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它也适用于具有其他类型索引(字符串、日期时间等)的数据帧。).</p><p id="5be3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">仅选择一个索引标签，返回一个系列。选择两个标签或一个子集，返回一个新的数据帧。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi os"><img src="../Images/bc5b09f45040dedcc3f4745cdd03a101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*BjStUaCZ93WePuIDpDFUbQ.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="ddc5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，当提供多个标签时，我们需要将它们存储在一个列表中(因此有两个方括号)。还有，<strong class="kh ir">。loc </strong>包括最后的值，例如与索引一个列表相反。</p><p id="610f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">带<strong class="kh ir">。loc </strong>我们也可以选择多行多列！</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/de40e6426b4db8e90141f5f8012585af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*mR1KNyLaNUxaYwAX6vkwhQ.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="d62f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，。loc只能用于标签(整数，字符串，日期时间…)，它可以选择行，但也可以选择列，我们可以提供单个标签，子集或列表的选择。</p><h2 id="fe75" class="nk mo iq bd mp nl nm dn mt nn no dp mx ko np nq mz ks nr ns nb kw nt nu nd nv bi translated">。iloc[]</h2><p id="959a" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated"><strong class="kh ir">。iloc </strong>方法的工作方式与。loc方法，但是它只支持行的整数位置(无论DataFrame的索引是什么数据类型，<strong class="kh ir">)。iloc </strong>正在通过整数位置选择数据)。仅使用一个值(索引)将返回一个序列，而使用多个索引或一个子集将返回一个数据帧。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/b6344adb93cb9db7d5e62e0123765d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*ZS6YpIat5Wz_sjn0IWLwQw.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="cfa7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">。iloc </strong>也可用于同时选择列，但方式与行相同，通过它们的整数位置。让我们来看看。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/2d3d344a53ff8a7797d9af5f46354a5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*5AP991CFpN8qRTqW_lMs_A.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="45b8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以在上面的例子中，我们选择了第7、第8、第9和第10行，以及第1到第3列。(行和列的计数都从零开始)</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="fe50" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">简单的情节</h1><p id="9212" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">获得数据的统计数据并知道如何选择数据帧的某些部分是很好的，但看到数据集的一些图形解释当然更好。所以，作为数据探索的最后一步，让我们来看看熊猫的简单情节。对于这个例子，让我们画出2018年1月的风速。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/84cef9c73d0b8fb33cb601f1c7198cc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*KTQWvgTjX8O8f0y9Cs4pEQ.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="f3d0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以绘制多个列，现在让我们看看2018年的夏天有多暖(或冷)。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/ba2492c05f2b58b9e6374bc68339da6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*QhdijBGRaoRa2tU4fMmdpw.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="dab6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">值得一提的是，那些情节，可以通过其他方式选择数据，你能想到任何吗？自己试试吧。</p><p id="e081" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">降水量大多被绘制成柱状图。因为对于这个位置，秋天在大多数情况下都是多雨的，让我们通过将9月和10月的降雨量绘制成柱状图来看看2018年的降雨量。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/9045efc743e7462a588abe9cca39b726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*agEGwDyyPQCyMy721LNtbw.png"/></div><p class="mc md gj gh gi me mf bd b be z dk translated">作者图片</p></figure><p id="8f74" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们并没有绘制成条形图，但是“step”参数是一个很好的变通方法，可以得到像条形图一样的图形，而不会弄乱标签。🙂</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="1df0" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">结论</h1><p id="6d44" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">今天我们学习了一些基本的熊猫函数，这些函数在处理类似电子表格的数据时是必要的。我再怎么强调也不为过，还有几十个函数和方法，所有这些都无法涵盖和展示，但是你可以在官方的熊猫文档中找到它们。此外，当您使用自己的数据时，您将会遇到许多自己的数据。</p><p id="cb6b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是作为第一步，为了熟悉我们的朋友熊猫，你一定会发现上面的建议很有用。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="08d5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于这篇文章或我在<a class="ae lb" href="https://medium.com/@Karlo_Leskovar" rel="noopener">媒体</a>上的其他文章有任何问题或建议，欢迎通过<a class="ae lb" href="https://www.linkedin.com/mwlite/in/karlo-leskovar-a8612b105" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我。</p><p id="94e9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢您抽出时间，干杯！🙂</p></div></div>    
</body>
</html>