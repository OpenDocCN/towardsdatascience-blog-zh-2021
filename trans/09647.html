<html>
<head>
<title>5 Awesome NumPy Functions That Can Save You in a Pinch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5个可怕的数字功能，可以在紧要关头拯救你</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-awesome-numpy-functions-that-can-save-you-in-a-pinch-ba349af5ac47?source=collection_archive---------16-----------------------#2021-09-08">https://towardsdatascience.com/5-awesome-numpy-functions-that-can-save-you-in-a-pinch-ba349af5ac47?source=collection_archive---------16-----------------------#2021-09-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5c53" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">避免被5个简单的功能困住</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cba6613d2f0d690e8bb9f8bd2b3bd452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4jjkXtRjE3TvV4jJ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><h1 id="2dfc" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">您的旅程概述</h1><ul class=""><li id="3135" class="lr ls it lt b lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><a class="ae ky" href="#9585" rel="noopener ugc nofollow">设置舞台</a></li><li id="9f62" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated"><a class="ae ky" href="#17f2" rel="noopener ugc nofollow"> 1 —快速过滤</a></li><li id="4e70" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated"><a class="ae ky" href="#3e97" rel="noopener ugc nofollow"> 2 —重塑自我，走出困境</a></li><li id="2185" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated"><a class="ae ky" href="#40a0" rel="noopener ugc nofollow"> 3 —重组你的形状</a></li><li id="68a3" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated"><a class="ae ky" href="#cb34" rel="noopener ugc nofollow"> 4 —查找唯一值</a></li><li id="ff6b" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated"><a class="ae ky" href="#fce7" rel="noopener ugc nofollow"> 5 —组合数组</a></li><li id="df34" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated"><a class="ae ky" href="#65ba" rel="noopener ugc nofollow">包装</a></li></ul></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="9585" class="kz la it bd lb lc mv le lf lg mw li lj jz mx ka ll kc my kd ln kf mz kg lp lq bi translated">搭建舞台</h1><p id="72dd" class="pw-post-body-paragraph na nb it lt b lu lv ju nc lw lx jx nd ly ne nf ng ma nh ni nj mc nk nl nm me im bi translated">用Python做数据科学时，包<a class="ae ky" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank"> NumPy </a>无处不在。无论你是用<a class="ae ky" href="https://scikit-learn.org/stable/" rel="noopener ugc nofollow" target="_blank"> Scikit-Learn </a>开发机器学习模型，还是用<a class="ae ky" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>绘图，你的代码中肯定会有一些NumPy数组。</p><p id="0559" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">当我开始学习Python中的数据科学时，我对NumPy能做什么知之甚少。这些年来，我提高了我的数字技能，并因此成为一名更好的数据科学家。</p><p id="2b9d" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">擅长操作NumPy数组可以挽救你的生命…或者至少一个小时令人沮丧的搜索。当事情变得困难时，我在这里给你的五个数字函数可以帮助你🔥</p><p id="922f" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">在这篇博文中，我假设您已经安装了NumPy，并且已经使用别名<code class="fe ns nt nu nv b">np</code>导入了NumPy:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="9927" class="oa la it nv b gy ob oc l od oe">import numpy as np</span></pre><p id="e554" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">我建议在阅读这篇博客之前先看看NumPy。如果你对NumPy完全陌生，那么你可以查看一下<a class="ae ky" href="https://numpy.org/doc/stable/user/absolute_beginners.html" rel="noopener ugc nofollow" target="_blank"> NumPy的初学者指南</a>或者NumPy 上的这个<a class="ae ky" href="https://www.youtube.com/playlist?list=PLSE7WKf_qqo2SWmdhOapwmerekYxgahQ9" rel="noopener ugc nofollow" target="_blank"> YouTube视频系列。</a></p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="17f2" class="kz la it bd lb lc mv le lf lg mw li lj jz mx ka ll kc my kd ln kf mz kg lp lq bi translated">1 —快速过滤</h1><p id="121b" class="pw-post-body-paragraph na nb it lt b lu lv ju nc lw lx jx nd ly ne nf ng ma nh ni nj mc nk nl nm me im bi translated">您可以使用<code class="fe ns nt nu nv b">where</code>函数根据条件快速过滤数组。假设您有一个表示为一维数组的音频信号:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="2b44" class="oa la it nv b gy ob oc l od oe"># Audio Signal (in Hz)<br/>signal = np.array([23, 50, 900, 12, 1100, 10, 2746, 9, 8])</span></pre><p id="3f9f" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">假设您想要删除<code class="fe ns nt nu nv b">signal</code>中所有Hz小于20的内容。要在NumPy中有效地做到这一点，您可以编写:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="b150" class="oa la it nv b gy ob oc l od oe"># Filter the signal<br/>filtered_signal = np.where(signal &gt;= 20, signal, 0)</span><span id="8d28" class="oa la it nv b gy of oc l od oe"># Print out the result<br/>print(filtered_signal)<br/>&gt;&gt;&gt; np.array([23, 50, 900, 0, 1100, 0, 2746, 0, 0])</span></pre><p id="b15f" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated"><code class="fe ns nt nu nv b">where</code>函数有三个参数:</p><ul class=""><li id="23e9" class="lr ls it lt b lu nn lw no ly og ma oh mc oi me mf mg mh mi bi translated">第一个参数(在我们的例子中是<code class="fe ns nt nu nv b">signal &gt;= 20</code>)给出了您想要用于过滤的条件。</li><li id="7064" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">第二个参数(在我们的例子中是<code class="fe ns nt nu nv b">signal</code>)指定了当条件满足时你希望发生什么。</li><li id="e021" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">第三个参数(在我们的例子中是<code class="fe ns nt nu nv b">0</code>)指定了当条件不满足时您希望发生什么。</li></ul><p id="6e17" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">作为第二个例子，假设你有一个数组<code class="fe ns nt nu nv b">high-pitch</code>指示声音的音高是否应该提高:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="3d5f" class="oa la it nv b gy ob oc l od oe"># Audio Signal (in Hz)<br/>signal = np.array([23, 50, 900, 760, 12])</span><span id="97c6" class="oa la it nv b gy of oc l od oe"># Rasing pitch<br/>high_pitch = np.array([True, False, True, True, False])</span></pre><p id="ebde" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">每当相应的<code class="fe ns nt nu nv b">high-pitch</code>变量这么说时，要提高<code class="fe ns nt nu nv b">signal</code>的音调，您可以简单地写:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="f086" class="oa la it nv b gy ob oc l od oe"># Creating a high-pitch signal<br/>high_pitch_signal = np.where(high_pitch, signal + 1000, signal)</span><span id="3b36" class="oa la it nv b gy of oc l od oe"># Printing out the result<br/>print(high_pitch_signal)<br/>&gt;&gt;&gt; np.array([1023, 50, 1900, 1760, 12])</span></pre><p id="cf1b" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">那很容易😃</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="3e97" class="kz la it bd lb lc mv le lf lg mw li lj jz mx ka ll kc my kd ln kf mz kg lp lq bi translated">2——重塑自我，摆脱困境</h1><p id="6906" class="pw-post-body-paragraph na nb it lt b lu lv ju nc lw lx jx nd ly ne nf ng ma nh ni nj mc nk nl nm me im bi translated">通常，一个数组的元素是正确的，但形式是错误的。更具体地说，假设您有以下一维数组:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="ec18" class="oa la it nv b gy ob oc l od oe">my_array = np.array([5, 3, 17, 4, 3])</span><span id="7ac9" class="oa la it nv b gy of oc l od oe">print(my_array.shape)<br/>&gt;&gt;&gt; (5,)</span></pre><p id="4717" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">这里你可以看到这个数组是一维的。您想将<code class="fe ns nt nu nv b">my_array</code>输入到另一个需要二维输入的函数中吗？在Scikit-Learn这样的库中，这种情况经常发生。为此，您可以使用<code class="fe ns nt nu nv b">reshape</code>功能:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="bdd6" class="oa la it nv b gy ob oc l od oe">my_array = np.array([5, 3, 17, 4, 3]).reshape(5, 1)</span><span id="8fbb" class="oa la it nv b gy of oc l od oe">print(my_array.shape)<br/>&gt;&gt;&gt; (5, 1)</span></pre><p id="bf4a" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">现在<code class="fe ns nt nu nv b">my_array</code>是恰当的二维。你可以把<code class="fe ns nt nu nv b">my_array</code>想象成一个五行单列的矩阵。</p><p id="7a3a" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">如果你想回到一维，那么你可以写:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="c59f" class="oa la it nv b gy ob oc l od oe">my_array = my_array.reshape(5)</span><span id="39b9" class="oa la it nv b gy of oc l od oe">print(my_array.shape)<br/>&gt;&gt;&gt; (5,)</span></pre><blockquote class="oj ok ol"><p id="5be2" class="na nb om lt b lu nn ju nc lw no jx nd on np nf ng oo nq ni nj op nr nl nm me im bi translated"><strong class="lt iu">专业提示:</strong>简单来说，你可以使用NumPy函数<code class="fe ns nt nu nv b">squeeze</code>删除所有长度为1的维度。因此，你可以使用<code class="fe ns nt nu nv b">squeeze</code>函数代替上面的<code class="fe ns nt nu nv b">reshape</code>函数。</p></blockquote></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="40a0" class="kz la it bd lb lc mv le lf lg mw li lj jz mx ka ll kc my kd ln kf mz kg lp lq bi translated">3-重组你的形状</h1><p id="ea18" class="pw-post-body-paragraph na nb it lt b lu lv ju nc lw lx jx nd ly ne nf ng ma nh ni nj mc nk nl nm me im bi translated">你有时需要重组你已经拥有的维度。一个例子可以说明这一点:</p><p id="a92b" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">假设您将一个大小为1280x720(这是YouTube缩略图的大小)的RGB图像表示为一个名为<code class="fe ns nt nu nv b">my_image</code>的NumPy数组。你的图像有形状<code class="fe ns nt nu nv b">(720, 1280, 3)</code>。数字3来源于这样一个事实，即有3个颜色通道:红色、绿色和蓝色。</p><p id="78b1" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">如何重新排列<code class="fe ns nt nu nv b">my_image</code>以使RGB通道填充第一维？您可以通过<code class="fe ns nt nu nv b">moveaxis</code>功能轻松实现:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="a0ed" class="oa la it nv b gy ob oc l od oe">restructured = np.moveaxis(my_image, [0, 1, 2], [2, 0, 1])</span><span id="2b78" class="oa la it nv b gy of oc l od oe">print(restrctured.shape)<br/>&gt;&gt;&gt; (3, 720, 1280)</span></pre><p id="b212" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">通过这个简单的命令，您已经重构了图像。<code class="fe ns nt nu nv b">moveaxis</code>中的两个列表指定了轴的源位置和目的位置。</p><blockquote class="oj ok ol"><p id="4f9b" class="na nb om lt b lu nn ju nc lw no jx nd on np nf ng oo nq ni nj op nr nl nm me im bi translated"><strong class="lt iu"> Pro提示:</strong> NumPy还有其他函数，比如<code class="fe ns nt nu nv b">swapaxes</code>和<code class="fe ns nt nu nv b">transpose</code>，它们也处理数组的重构。<code class="fe ns nt nu nv b">moveaxis</code>函数是最通用的，也是我用得最多的一个。</p></blockquote><h2 id="e8d6" class="oa la it bd lb oq or dn lf os ot dp lj ly ou ov ll ma ow ox ln mc oy oz lp pa bi translated">为什么重塑和重组不一样？</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/d75aa39d85186043dadcd74c928cd2ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oiX2a8ItZKrMxhzW"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">普里西拉·杜·普里兹</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="0470" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">很多人认为用<code class="fe ns nt nu nv b">reshape</code>功能整形和用<code class="fe ns nt nu nv b">moveaxis</code>功能重组是一样的。然而，它们以不同的方式工作😦</p><p id="63f0" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">最好的方法是用一个例子:假设你有矩阵:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="14f6" class="oa la it nv b gy ob oc l od oe">matrix = np.array([[1, 2], [3, 4], [5, 6]])</span><span id="c247" class="oa la it nv b gy of oc l od oe"># The matrix looks like this:<br/>1 2<br/>3 4<br/>5 6</span></pre><p id="fc40" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">如果您使用<code class="fe ns nt nu nv b">moveaxis</code>功能切换两个轴，那么您会得到:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="7782" class="oa la it nv b gy ob oc l od oe">restructured_matrix = np.moveaxis(matrix, [0, 1], [1, 0])</span><span id="87ee" class="oa la it nv b gy of oc l od oe"># The restructured matrix looks like this:<br/>1 3 5<br/>2 4 6</span></pre><p id="6ddc" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">然而，如果您使用<code class="fe ns nt nu nv b">reshape</code>函数，那么您会得到:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="2893" class="oa la it nv b gy ob oc l od oe">reshaped_matrix = matrix.reshape(2, 3)</span><span id="f499" class="oa la it nv b gy of oc l od oe"># The reshaped matrix looks like this:<br/>1 2 3<br/>4 5 6</span></pre><p id="283f" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated"><code class="fe ns nt nu nv b">reshape</code>函数只是按行处理，并在适当的时候生成新行。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="cb34" class="kz la it bd lb lc mv le lf lg mw li lj jz mx ka ll kc my kd ln kf mz kg lp lq bi translated">4 —寻找独特的价值</h1><p id="e130" class="pw-post-body-paragraph na nb it lt b lu lv ju nc lw lx jx nd ly ne nf ng ma nh ni nj mc nk nl nm me im bi translated"><code class="fe ns nt nu nv b">unique</code>函数是一个很好的实用函数，用于查找数组的唯一元素。假设您有一个数组，代表从民意调查中抽取的人们最喜欢的城市:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="a288" class="oa la it nv b gy ob oc l od oe"># Favorite cities<br/>cities = np.array(["Paris", "London", "Vienna", "Paris", "Oslo", "London", "Paris"])</span></pre><p id="4c46" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">然后您可以使用<code class="fe ns nt nu nv b">unique</code>函数来获取数组<code class="fe ns nt nu nv b">cities</code>中的唯一值:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="11a0" class="oa la it nv b gy ob oc l od oe">unique_cities = np.unique(cities)</span><span id="1be0" class="oa la it nv b gy of oc l od oe">print(unique_cities)<br/>&gt;&gt;&gt; ['London' 'Oslo' 'Paris' 'Vienna']</span></pre><p id="17c0" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">请注意，独特的城市不一定按照它们最初出现的顺序排列(例如，奥斯陆在巴黎之前)。</p><p id="28da" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">有了民调，画柱状图真的很常见。在这些图表中，类别是投票选项，而条形的高度代表每个选项获得的票数。要获得这些信息，您可以使用可选参数<code class="fe ns nt nu nv b">return_counts</code>,如下所示:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="e677" class="oa la it nv b gy ob oc l od oe">unique_cities, counts = np.unique(cities, return_counts=True)</span><span id="a1b0" class="oa la it nv b gy of oc l od oe">print(unique_cities)<br/>&gt;&gt;&gt; ['London' 'Oslo' 'Paris' 'Vienna']</span><span id="8fa1" class="oa la it nv b gy of oc l od oe">print(counts)<br/>&gt;&gt;&gt; [2 1 3 1]</span></pre><p id="fdee" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated"><code class="fe ns nt nu nv b">unique</code>函数可以让你避免编写许多烦人的循环😍</p><h1 id="fce7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">5-组合数组</h1><p id="a3d8" class="pw-post-body-paragraph na nb it lt b lu lv ju nc lw lx jx nd ly ne nf ng ma nh ni nj mc nk nl nm me im bi translated">有时，您会同时使用许多阵列。那么将阵列组合成单个“主”阵列通常是方便的。在NumPy中使用<code class="fe ns nt nu nv b">concatenate</code>函数很容易做到这一点。</p><p id="a658" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">假设您有两个一维数组:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="748c" class="oa la it nv b gy ob oc l od oe">array1 = np.arange(10)<br/>array2 = np.arange(10, 20)</span></pre><p id="e635" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">然后您可以用<code class="fe ns nt nu nv b">concatenate</code>将它们组合成一个更长的一维数组:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="f141" class="oa la it nv b gy ob oc l od oe"># Need to put the arrays into a tuple<br/>long_array = np.concatenate((array1, array2))</span><span id="da94" class="oa la it nv b gy of oc l od oe">print(long_array)<br/>&gt;&gt;&gt; [0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19]</span></pre><h2 id="f4ce" class="oa la it bd lb oq or dn lf os ot dp lj ly ou ov ll ma ow ox ln mc oy oz lp pa bi translated">组合我们的工具</h2><p id="9d18" class="pw-post-body-paragraph na nb it lt b lu lv ju nc lw lx jx nd ly ne nf ng ma nh ni nj mc nk nl nm me im bi translated">如果您想将<code class="fe ns nt nu nv b">array1</code>和<code class="fe ns nt nu nv b">array2</code>堆叠在彼此的顶部会怎么样？因此，您希望创建一个二维向量，如下所示:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="916d" class="oa la it nv b gy ob oc l od oe">[[ 0  1  2  3  4  5  6  7  8  9]<br/> [10 11 12 13 14 15 16 17 18 19]]</span></pre><p id="7bc7" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">你可以先用<code class="fe ns nt nu nv b">reshape</code>函数将<code class="fe ns nt nu nv b">array1</code>和<code class="fe ns nt nu nv b">array2</code>整形为二维数组:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="4ad1" class="oa la it nv b gy ob oc l od oe">array1 = array1.reshape(10, 1)<br/>array2 = array2.reshape(10, 1)</span></pre><p id="3d17" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">现在您可以使用<code class="fe ns nt nu nv b">concatenate</code>函数中可选的<code class="fe ns nt nu nv b">axis</code>参数来正确组合它们:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="7128" class="oa la it nv b gy ob oc l od oe">stacked_array = np.concatenate((array1, array2), axis=1)</span><span id="f953" class="oa la it nv b gy of oc l od oe">print(stacked_array)<br/>&gt;&gt;&gt; <br/>[[ 0 10]<br/> [ 1 11]<br/> [ 2 12]<br/> [ 3 13]<br/> [ 4 14]<br/> [ 5 15]<br/> [ 6 16]<br/> [ 7 17]<br/> [ 8 18]<br/> [ 9 19]]</span></pre><p id="6b28" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">差不多了…现在您可以使用<code class="fe ns nt nu nv b">moveaxis</code>功能来完成工作:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="361f" class="oa la it nv b gy ob oc l od oe">stacked_array = np.moveaxis(stacked_array, [0, 1], [1, 0])</span><span id="32ea" class="oa la it nv b gy of oc l od oe">print(stacked_array)<br/>&gt;&gt;&gt; <br/>[[ 0  1  2  3  4  5  6  7  8  9]<br/> [10 11 12 13 14 15 16 17 18 19]]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/2c212522cd5675ae8c4cded71cb49d8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-EIu3HoNSSvuVP9C"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@japhethmast?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Japheth桅杆</a>拍摄</p></figure><p id="9e4f" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated">厉害！我希望这个例子向您展示了您刚刚学到的一些不同的工具是如何组合在一起的。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="65ba" class="kz la it bd lb lc mv le lf lg mw li lj jz mx ka ll kc my kd ln kf mz kg lp lq bi translated">包扎</h1><p id="5217" class="pw-post-body-paragraph na nb it lt b lu lv ju nc lw lx jx nd ly ne nf ng ma nh ni nj mc nk nl nm me im bi translated">现在，您应该对在一些棘手的情况下使用NumPy感到满意了。如果您需要了解更多关于NumPy的信息，那么请查看NumPy文档。</p><p id="892e" class="pw-post-body-paragraph na nb it lt b lu nn ju nc lw no jx nd ly np nf ng ma nq ni nj mc nr nl nm me im bi translated"><strong class="lt iu">喜欢我写的？</strong>查看我的博客文章<a class="ae ky" rel="noopener" target="_blank" href="/modernize-your-sinful-python-code-with-beautiful-type-hints-4e72e98f6bf1">类型提示</a>、<a class="ae ky" rel="noopener" target="_blank" href="/tired-of-pointless-discussions-on-code-formatting-a-simple-solution-exists-af11ea442bdc">黑色格式</a>、Python中的<a class="ae ky" href="https://medium.com/geekculture/master-the-5-ways-to-use-underscores-in-python-cfcc7fa53734" rel="noopener">下划线</a>和<a class="ae ky" rel="noopener" target="_blank" href="/5-expert-tips-to-skyrocket-your-dictionary-skills-in-python-1cf54b7d920d"> 5字典提示</a>了解更多Python内容。如果你对数据科学、编程或任何介于两者之间的东西感兴趣，那么请随意在LinkedIn上加我，并向✋问好</p></div></div>    
</body>
</html>