<html>
<head>
<title>How To Speed Up Writing a Large SQL Query</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何加快编写大型SQL查询</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-speed-up-writing-a-large-sql-query-9237c6db56cc?source=collection_archive---------21-----------------------#2021-09-12">https://towardsdatascience.com/how-to-speed-up-writing-a-large-sql-query-9237c6db56cc?source=collection_archive---------21-----------------------#2021-09-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a805" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">更聪明地工作，而不是更努力:在大约3分钟内学会！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fb8dee6eb54944aa17b644f6402b1b82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BU36_SYn4QiWxy4JD_Cu_g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由Prateek Katyal通过Unsplash提供</p></figure><p id="c19c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们都经历过这种情况:从一个大表中提取数据，这个大表有<strong class="la iu">多</strong>个需要聚合的数字列。为什么要为30多列中的每一列都键入“SUM(col_1) AS col_1，etc ”,而这可以简单得多？注意:第二个超级省时器跟在第一个魔术后面！</p><h1 id="2f94" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">Excel不仅仅可以用于数据透视表</h1><p id="5a16" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">在下图中，我使用了一个假想的SQL表中的10列。对于每一列，我们将对值求和。我们可以使用Excel的内置函数CONCATENATE()来完成所有繁重的工作，而不是把这些都写出来。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/43caaecf9cad0f50068f4e293eff9d31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V6nhwmGsjsMH5gosANO7Tw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片</p></figure><p id="557f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在A列中，我们有一个要求和的列的列表。在B列中，我们输入连接函数。这可以通过别名、不同的聚合等来改变。基本语法是:</p><ol class=""><li id="e571" class="ms mt it la b lb lc le lf lh mu ll mv lp mw lt mx my mz na bi translated">逗号(也可以放在末尾)</li><li id="ffc8" class="ms mt it la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">带有左“(”的聚合名称</li><li id="117e" class="ms mt it la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">列名</li><li id="e352" class="ms mt it la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">用空格结束“)”</li><li id="d278" class="ms mt it la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">“AS”这个词(AS不是必需的，但既然如此简单，不妨使用它)</li><li id="a2b4" class="ms mt it la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">再次输入列名</li></ol><p id="bb92" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦我们创建了B列，只将<strong class="la iu">值</strong>复制并粘贴到另一列。然后，您可以复制这些结果并将其粘贴到您的SQL查询中。</p><p id="dab6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对10列这样做将节省少量时间。真正的好处是当你开始引入30或50+列时。</p><h1 id="e500" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">但是等等，还有更多…</h1><p id="0309" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">在A列或步骤1中，我们需要一个列名列表。如果可以加快这个过程，为什么还要把这些都打出来呢？下一部分将根据您使用的SQL类型而有所不同。对于MS SQL Server，您可以使用此查询从表中提取所有列名的列表:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="fbe1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该查询中的一列是您特别命名的表中所有列的名称。您可以复制并粘贴所有列，只删除不需要聚合的列。从Excel中删除20行比键入40个列名要快得多。</p><h1 id="4c90" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">最后的想法</h1><p id="a142" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">正如在以前的文章《V2:什么造就了一个伟大的分析师？》中提到的，你一定是个骗子。一个很好的习惯是确定你经常被要求完成的普通类型的任务，找出节省时间的方法，实施它，然后与你团队中的其他人分享这个想法。一如既往，继续学习！</p><p id="da5e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">找出“V2:是什么造就了一个伟大的分析师？”：</p><div class="ni nj gp gr nk nl"><a rel="noopener follow" target="_blank" href="/v2-what-makes-a-great-data-analyst-bded5e71ec68"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">V2:怎样才能成为一名优秀的数据分析师？</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">你需要的不仅仅是阅读和视频</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">towardsdatascience.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz ks nl"/></div></div></a></div><p id="297b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">和V1:</p><div class="ni nj gp gr nk nl"><a rel="noopener follow" target="_blank" href="/what-makes-a-great-data-analyst-f6577cef81a3"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">怎样才能成为一名优秀的数据分析师？</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">提示:没有确切的答案</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">towardsdatascience.com</p></div></div><div class="nu l"><div class="oa l nw nx ny nu nz ks nl"/></div></div></a></div></div></div>    
</body>
</html>