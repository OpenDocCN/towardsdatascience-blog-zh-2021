<html>
<head>
<title>How to use Plotly.js in React to Visualize and Interact with Your Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中使用Plotly.js来可视化您的数据并与之交互</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-use-plotly-js-in-react-to-visualize-and-interact-with-your-data-ab4c2c67e8f6?source=collection_archive---------13-----------------------#2021-04-10">https://towardsdatascience.com/how-to-use-plotly-js-in-react-to-visualize-and-interact-with-your-data-ab4c2c67e8f6?source=collection_archive---------13-----------------------#2021-04-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="df90" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">简单易懂的教程</h2><div class=""/><div class=""><h2 id="2b40" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">在React中使用Plotly.js的简短教程</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/3093992020b3776f367a1db132f00c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4yQYCFytFAaChY2r"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">卢卡斯·布拉塞克在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="cec9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">几个月前，我写了一篇关于<a class="ae lh" rel="noopener" target="_blank" href="/how-to-visualize-interactive-3d-network-with-python-plotly-4ef6989d83cc">如何用Python Plotly </a>可视化交互式3D网络(或数据)的教程，我想为Plotly.js再写一篇可能是个好主意</p><p id="1cd6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有人可能更喜欢Plotly.js而不是Python Plotly的原因之一可能是因为加载速度——我曾经编写过一个React + Flask应用程序(其中数据集和Plotly图形都在Flask上),当我将其与我的React + Plotly.js应用程序进行比较时，Plotly.js的交互性和加载速度要好得多。</p><p id="f0b4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">所以这里有一个快速教程，教你如何用React来使用Plotly.js！ʕ•́ᴥ•̀ʔっ♡</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="f787" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">本教程的最终代码可以在这个GitHub资源库中找到:<a class="ae lh" href="https://github.com/Reine0017/mini-tutorials/tree/master/React-Tutorials/visualize-data-plotly" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/reine 0017/mini-Tutorials/tree/master/React-Tutorials/visualize-data-plot ly</a>。</p><p id="87e1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们从一个基本的React应用程序开始。在所需的项目目录中，运行:</p><pre class="ks kt ku kv gt ml mm mn mo aw mp bi"><span id="8cbb" class="mq mr it mm b gy ms mt l mu mv">npx create-react-app .</span></pre><p id="3bd2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后运行:</p><pre class="ks kt ku kv gt ml mm mn mo aw mp bi"><span id="6002" class="mq mr it mm b gy ms mt l mu mv">npm start</span></pre><p id="e204" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">来打开网页。</p><p id="1ab0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，我们要安装Plotly.js库。您可以参考此<a class="ae lh" href="https://www.npmjs.com/package/react-plotly.js" rel="noopener ugc nofollow" target="_blank">链接</a>获取安装说明。但是基本上，你只需要运行(从上面链接的npm包页面):</p><pre class="ks kt ku kv gt ml mm mn mo aw mp bi"><span id="9d3f" class="mq mr it mm b gy ms mt l mu mv">npm install react-plotly.js plotly.js</span></pre><p id="f3f7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">好了，现在安装已经完成，让我们开始写一些代码吧！</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="1421" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有大量不同的情节，地图和图表，你可以玩Plotly。在本教程中，我们将了解如何使用Plotly.js创建一个简单的螺旋形交互式3D散点图。</p><p id="0aaa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们首先创建Plotly组件，然后导入react-plotly库。之后，只需像这样键入<Plot/>组件:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mw"><img src="../Images/af99e209f3f75a49a3b02283d9e6eb16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rAm6CXcFelIUDPl84Knpfg.png"/></div></div></figure><p id="4c32" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一旦我们将其导入到App.js文件中，</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mx"><img src="../Images/e3c4b79153ade30fd90d7574a2aa3bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DyjmctMjxwL19xff6MWVug.png"/></div></div></figure><p id="c15d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这是它带来的结果:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi my"><img src="../Images/e425a31bf49611c97523876e386cd787.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RWJTvNWrrs-QHkOSqTel5g.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">只是一个没有数据的空图(因为我们没有输入任何数据)</p></figure><p id="26e9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，让我们用一些数据填充图表。你可以去他们的官方网站<a class="ae lh" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank">看看你能用Plotly创建什么样的可视化效果。</a></p><p id="c960" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">由于我们想在本教程中创建一个螺旋3D图形，我们将首先获得该3D图形的x、y和z数据坐标:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="01f1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，让我们用这些数据填充我们的<Plot/>组件。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nb"><img src="../Images/5547d335ebd9166fd9e4246fbf8dd7cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fd3AuYRoHL68tWN4RtUP7Q.png"/></div></div></figure><p id="eefa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于您想要的图表，您可以使用更多的参数。但在这种情况下，我只对它做了一些小的修改。下面是最终结果:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nc"><img src="../Images/3b3e31a706dd3bcc1a28c0100ac81560.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cS-gwfIRu5OILOe6xZANzg.png"/></div></div></figure><p id="a5b7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这个3D散点图是完全交互式的，当用户点击它时，您也可以配置某些动作。出于演示的目的，我将只让它在控制台记录它的坐标onClick。</p><p id="71bd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要注册用户的点击(在图中的坐标点上)，我们可以写如下内容:</p><pre class="ks kt ku kv gt ml mm mn mo aw mp bi"><span id="7d41" class="mq mr it mm b gy ms mt l mu mv">onClick={(data) =&gt; {</span><span id="919b" class="mq mr it mm b gy nd mt l mu mv">  console.log(data.points[0])</span><span id="7677" class="mq mr it mm b gy nd mt l mu mv">}}</span></pre><p id="48a6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在<Plot/>组件内部。</p><p id="d742" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面是最终结果:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ne"><img src="../Images/82f5fbbca20246bc7c8401aabe12d88c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*52hgi3hte4r7F6teqOigcg.png"/></div></div></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="03d4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">今天的教程到此为止！希望这是有帮助的，如果你有任何问题，请随时评论或给我发信息。谢谢你们读了这篇文章，很高兴</p><p id="355a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">阴谋诡计！ʕ•́ᴥ•̀ʔっ♡</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="ee35" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我真的不喜欢无耻的插头，但如果你已经在考虑每月5美元获得中等会员资格，如果你能使用我的推荐链接来注册，我会非常感激——<a class="ae lh" href="https://reine-ran.medium.com/membership" rel="noopener">https://reine-ran.medium.com/membership</a>:)</p></div></div>    
</body>
</html>