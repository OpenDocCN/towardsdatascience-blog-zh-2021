<html>
<head>
<title>Still Using the Same Old Hypothesis Tests for Data Science?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">还在用同样的旧假设检验数据科学吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/still-using-the-same-old-hypothesis-tests-for-data-science-67a9913ce9b8?source=collection_archive---------32-----------------------#2021-06-03">https://towardsdatascience.com/still-using-the-same-old-hypothesis-tests-for-data-science-67a9913ce9b8?source=collection_archive---------32-----------------------#2021-06-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/95548f26dcd77157d92b36f5324450c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y2uIEgv_Lqxtzf-V"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">罗斯·芬登在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class=""/><div class=""><h2 id="8954" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">尝试这三种方法，让你的数据科学项目更上一层楼</h2></div><p id="d1b2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你正在读这篇文章，我假设你知道假设检验是如何工作的。如果你不知道，请先阅读<a class="ae jg" rel="noopener" target="_blank" href="/hypothesis-testing-a23852264d09">这篇文章</a>。</p><h1 id="4dbf" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">何必呢？</h1><p id="54e6" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">首先，为什么要费心去取代通常的假设检验呢？嗯，显然使用它们没有错，<em class="mr">本身</em>:它们已经存在了几十年，在统计学上表现得很好。为了统计。</p><p id="9b30" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，在数据科学中，情况略有不同:</p><ol class=""><li id="abe3" class="ms mt jj la b lb lc le lf lh mu ll mv lp mw lt mx my mz na bi translated">你通常有更多的数据可用。起初，这似乎不是一个问题，但是大量的样本通常会导致您的测试返回具有统计意义的结果，因为它们考虑了样本大小</li><li id="426a" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">你可能最终会做更多的同步测试，这通常意味着它们中的一些会被认为是偶然的。这可以通过使用某种调整(如Bonferroni调整)来部分解决</li><li id="1f14" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">有时候，你不能因为在他们身上测试东西而失去宝贵的客户</li></ol><p id="5e14" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当您遇到一个或多个这样的问题时，您有一些传统假设测试的替代方法，可能会帮助您将数据科学项目提升到下一个级别。</p><h1 id="5f7a" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">替代方案</h1><h2 id="5cce" class="ng lv jj bd lw nh ni dn ma nj nk dp me lh nl nm mg ll nn no mi lp np nq mk nr bi translated">排列测试</h2><p id="1cdc" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">好吧，公平地说，排列测试仍然是一种假设测试。然而，它们是不同的，不仅因为它们是<strong class="la jk">非参数化的</strong>，而且因为，尽管它们有用，它们却被极度忽视，因此<strong class="la jk">未被充分利用</strong>。</p><p id="c861" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">“非参数”意味着我们不需要数据来遵循特定类型的分布，这是非常有用和实用的。对于参数测试，我们需要一些初步测试来验证最终测试所需的假设。这些在这里都是不需要的，这不仅让我们的生活变得更容易，也让结果变得更可靠、更有解释力。</p><p id="0234" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">既然我们已经理解了排列测试的好处，那么我们实际上是如何做的呢？假设你想测试两个不同的群体(我们称这两个群体为A和B)之间是否存在工资差距。让我们来完成必要的步骤:</p><ol class=""><li id="969c" class="ms mt jj la b lb lc le lf lh mu ll mv lp mw lt mx my mz na bi translated">将不同组的所有观察结果放在一个数据集中</li><li id="5cc2" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">打乱数据，然后随机抽取一个与A组相同大小样本(没有替换)</li><li id="ce02" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">使用剩余数据，抽取一个与B组相同大小的随机样本(无替换)</li><li id="8aed" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">如果你有两个以上的小组，重复这个过程，直到你完成了所有的观察</li><li id="0a56" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">计算你的兴趣统计数据(在我们的例子中，是各组工资的差异)并记录在某个地方</li><li id="2010" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">多次重复前面的步骤(大约在1000到2000之间)，以获得感兴趣的统计数据的排列分布</li><li id="94bd" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">最后，将原始统计数据与排列分布进行比较，看它是否位于x%的中间范围(x是您想要的置信水平。95%是通常情况，但这取决于域)。如果是的话，这可能意味着观察到的差异是由于随机的机会</li></ol><p id="7350" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该算法的Python实现可从<a class="ae jg" href="http://rasbt.github.io/mlxtend/user_guide/evaluate/permutation_test/" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><h2 id="e421" class="ng lv jj bd lw nh ni dn ma nj nk dp me lh nl nm mg ll nn no mi lp np nq mk nr bi translated">多臂bandit算法</h2><p id="c4d6" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">一个<strong class="la jk">多臂强盗算法</strong>对于<strong class="la jk"> A/B测试</strong>来说是一个很好的工具，它稍微向你正在测试的更成功的方法倾斜分布。与传统测试相比，这可以更快地做出决策。</p><p id="348b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里有一个例子:你为你的网站的特定页面设计了一个新版本，但你不知道它是否会比旧版本更好。所以你开始将一些流量导向新版本，然后你进行实验，这样一个版本运行得越好，它获得的流量就越多。从长远来看，这将向您展示最好的版本，而不会因为一个糟糕的版本而损失很大一部分流量。</p><p id="95a9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">“多臂土匪”是一类算法，有许多可能的实现方式，但这里有最常见的一种，叫做<strong class="la jk">衰变ε-贪婪</strong>，应用于我们的网站版本示例:</p><ol class=""><li id="51cf" class="ms mt jj la b lb lc le lf lh mu ll mv lp mw lt mx my mz na bi translated">定义一个在0和1之间的数字，称为<strong class="la jk">ε</strong>，它随时间减少。例如，这可以是<em class="mr"> 1/(10 * t) </em>，其中t是从实验开始以来经过的时间(以天为单位)，从1开始。ε越大，你探索的就越多，但是你利用已有知识的就越少。在这个例子中，你将在第一天用10%的观察值开始测试，在第10天，这个数字将下降到1%。如果你的网站没有太多的流量，在分母中使用一个小于10的数字。</li><li id="044c" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">每当客户访问您的网站时，生成一个随机数，均匀分布在0和1之间</li><li id="7004" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">如果该数字介于0和ε之间，随机选择两个页面版本中的一个，以相同的概率(50%)让该客户查看</li><li id="1bb0" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">如果数字介于epsilon和1之间，向客户展示到目前为止具有最佳指标的页面版本(该指标可以是您试图优化的任何指标，如<strong class="la jk">转换率</strong>或<strong class="la jk">在页面</strong>上花费的时间)</li></ol><p id="f1c5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然这个例子只考虑了2个页面版本，但是该算法也适用于比较多于2个组的<strong class="la jk">，</strong>，只需修改步骤3以1/n的概率选择n个组中的一个。</p><p id="8e37" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当足够的时间过去后，算法将结束<strong class="la jk">收敛</strong>到<strong class="la jk">最佳页面</strong> <strong class="la jk">版本</strong>，而不会在较差版本上浪费太多流量。</p><h2 id="8d15" class="ng lv jj bd lw nh ni dn ma nj nk dp me lh nl nm mg ll nn no mi lp np nq mk nr bi translated">贝叶斯推理</h2><p id="bdd3" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">贝叶斯统计(以及贝叶斯推断)比本文的目标要深入得多，所以我们在这里会尽量保持实用性。如果你想了解更多关于<strong class="la jk">贝叶斯统计</strong>的知识，请查看下面的“<strong class="la jk">进一步阅读</strong>”部分。但是，如果我们试着用两句话来总结:</p><blockquote class="ns nt nu"><p id="ef70" class="ky kz mr la b lb lc kk ld le lf kn lg nv li lj lk nw lm ln lo nx lq lr ls lt im bi translated">你对世界如何运转有一个先验的信念。一旦你得到数据，你就相应地更新这种信念。</p></blockquote><p id="5c6b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，当谈到概率时，贝叶斯主义者将其视为“<strong class="la jk">你有多相信某件事是真的</strong>”，而不是“<strong class="la jk">这件事多久发生一次</strong>”(频率主义者的方法)。</p><p id="a738" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">也就是说，让我们看看贝叶斯推理如何解决一个典型的例子:“一个硬币公平吗？”利用之前投掷硬币的数据。在这种情况下，你想知道θ = 50%，其中θ是正面(或者反面，无所谓)的概率。</p><p id="9f4b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你首先定义一个<strong class="la jk">先验</strong>，也就是你认为θ的实际分布。例如，这可能是β(2，2)，它将使θ对称分布在50%左右。然后，你<strong class="la jk">通过使用<strong class="la jk">观察到的投掷</strong>和一个<strong class="la jk">伯努利分布</strong>更新</strong>这个分布，用于(0，1)实验(伯努利)。这将允许算法根据你观察到的θ的<strong class="la jk">可能性</strong>创建一个模型。然后，您可以使用该模型<strong class="la jk">生成样本</strong>，并从这些样本中估计θ的平均值和99%的最高后验密度(HPD)，这是一个包含θ的概率为99%的区间(直观上这看起来很像置信区间，但它们不是一回事)。在<a class="ae jg" rel="noopener" target="_blank" href="/conducting-bayesian-inference-in-python-using-pymc3-d407f8d934a5">这篇文章</a>中使用Python代码详细描述了整个过程。</p><p id="f938" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可以使用相同的过程来比较两组:如果我们回到我们的网站页面版本示例，您可以分别对每个组的转换率进行此过程，然后通过计算其中一个组的转换率较高的概率来比较两个分布。</p><h1 id="0b48" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">进一步阅读</h1><ul class=""><li id="e572" class="ms mt jj la b lb mm le mn lh ny ll nz lp oa lt ob my mz na bi translated">彼得·c·布鲁斯(Peter C. Bruce)、安德鲁·布鲁斯(Andrew Bruce)和彼得·格德克(Peter Gedeck)所著的《数据科学家实用统计学》(Practical Statistics for Data Scientists)一书简要介绍了<strong class="la jk">排列测试</strong>和<strong class="la jk">多臂土匪算法</strong>。你可以在这里阅读我对这本书<a class="ae jg" href="https://medium.datadriveninvestor.com/book-summary-practical-statistics-for-data-scientists-37489c44a8c2" rel="noopener ugc nofollow" target="_blank">的总结。</a></li><li id="e48c" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt ob my mz na bi translated">要更深入地了解贝叶斯推理，可以试试艾伦·唐尼的书《思考贝叶斯》，这本书可以在作者的网站上免费获得。</li></ul></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><p id="512f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你喜欢这篇文章，你可能也会喜欢这些:</p><div class="is it gp gr iu oj"><a rel="noopener follow" target="_blank" href="/sampling-methods-for-data-science-ddfeb5b3c8ed"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd jk gy z fp oo fr fs op fu fw ji bi translated">数据科学的抽样方法</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">从人群中获取样本的最好方法是什么？</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox ja oj"/></div></div></a></div><div class="is it gp gr iu oj"><a href="https://medium.datadriveninvestor.com/book-summary-practical-statistics-for-data-scientists-37489c44a8c2" rel="noopener  ugc nofollow" target="_blank"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd jk gy z fp oo fr fs op fu fw ji bi translated">书籍摘要:数据科学家实用统计学</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">如何让传统统计学适应数据科学？</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">medium.datadriveninvestor.com</p></div></div><div class="os l"><div class="oy l ou ov ow os ox ja oj"/></div></div></a></div><div class="is it gp gr iu oj"><a rel="noopener follow" target="_blank" href="/hypothesis-testing-a23852264d09"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd jk gy z fp oo fr fs op fu fw ji bi translated">假设检验</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">它是什么以及如何在Python中实现它</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="oz l ou ov ow os ox ja oj"/></div></div></a></div></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><blockquote class="ns nt nu"><p id="55bf" class="ky kz mr la b lb lc kk ld le lf kn lg nv li lj lk nw lm ln lo nx lq lr ls lt im bi translated">如果你想进一步讨论，请随时通过LinkedIn<a class="ae jg" href="https://www.linkedin.com/in/melloarthur/" rel="noopener ugc nofollow" target="_blank">联系我，这将是我的荣幸(老实说)。</a></p></blockquote></div></div>    
</body>
</html>