<html>
<head>
<title>Best practices for setting up a Python environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置Python环境的最佳实践</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/best-practices-for-setting-up-a-python-environment-d4af439846a?source=collection_archive---------2-----------------------#2021-08-15">https://towardsdatascience.com/best-practices-for-setting-up-a-python-environment-d4af439846a?source=collection_archive---------2-----------------------#2021-08-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="4284" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">面向数据科学家的PYTHON-DEV</h2><div class=""/><div class=""><h2 id="1d49" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">pyenv-&gt; Pipx-&gt; poem，python工具链的三大支柱</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/d43755866b43d627fb4c3099d05b1a34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yhdIR9S9QDLd9c95HGmMPQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</p></figure><p id="2bbc" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">你是一个数据科学家，刚刚构建了一个ML模型，却不能让它在docker容器上工作吗？你是否害怕尝试新的python版本，因为你不想搞乱你的本地python开发环境？您是否同时从事多个副业项目，并希望分别用沙箱保护每个环境？您是否不清楚如何管理您的python应用程序从开发到发布的生命周期？</p><blockquote class="ma"><p id="80d6" class="mb mc iq bd md me mf mg mh mi mj lz dk translated">您一直在错误地设置您的python环境！</p></blockquote><p id="341b" class="pw-post-body-paragraph le lf iq lg b lh mk ka lj lk ml kd lm ln mm lp lq lr mn lt lu lv mo lx ly lz ij bi translated">与python开发人员不同，数据科学家很少关心他们代码的开发环境和可移植性。代码大部分存在于jupyter笔记本上，交给负责部署的开发人员。当您的机器上只有一个版本的python，并且一直在一个项目上工作时，这种方法非常有效。但是，一旦您开始在需要不同环境的多个python版本或多个项目上工作，就越来越难以保护这些环境。</p><p id="1cc4" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">一旦您用沙箱保护了您的环境，您就开始向您的项目添加包，每个包都有它自己的依赖项列表。您需要管理您的依赖关系图，并确保您的合作者能够获得完全相同的依赖关系。</p><p id="542b" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">掌握新的python版本和开发是提高python技能的必要条件。当你开始一个新项目时，你不想成为你的团队中的一个人，这个人对f弦感到不舒服，害怕T2异步，不理解T4海象操作符，并且把你的本地开发环境搞得一团糟。</p><p id="6d25" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">下面是设置python环境来处理这些棘手情况的工具和步骤列表。</p><h2 id="e9b9" class="mq mr iq bd ms mt mu dn mv mw mx dp my ln mz na nb lr nc nd ne lv nf ng nh iw bi translated">Pyenv</h2><blockquote class="ma"><p id="2410" class="mb mc iq bd md me mf mg mh mi mj lz dk translated">每当你有一个全新的操作系统安装，首先安装pyenv开始。Pyenv是一个命令行工具，不依赖于python的安装。</p></blockquote><p id="c6e4" class="pw-post-body-paragraph le lf iq lg b lh mk ka lj lk ml kd lm ln mm lp lq lr mn lt lu lv mo lx ly lz ij bi translated">您可以为每个项目设置一个全局python版本和一个本地python版本。例如，您可以拥有python的全球版本3.8.2，但仍然可以在您的项目中试用python 3.9.2或3.10。使用<a class="ae mp" href="https://github.com/pyenv/pyenv" rel="noopener ugc nofollow" target="_blank"> pyenv </a>，您可以设置python安装的范围。您有一个全局python版本，它应该是python的一个稳定版本，您应该将它作为大多数项目的基础，然后您可以根据项目需要使用较新或较旧的python版本。对于Windows，有一个可用的端口<a class="ae mp" href="https://pyenv-win.github.io/pyenv-win/#get-pyenv-win" rel="noopener ugc nofollow" target="_blank"> pyenv-win </a>。</p><h2 id="b6af" class="mq mr iq bd ms mt mu dn mv mw mx dp my ln mz na nb lr nc nd ne lv nf ng nh iw bi translated">Pyenv Cheatsheet</h2><ol class=""><li id="752c" class="ni nj iq lg b lh nk lk nl ln nm lr nn lv no lz np nq nr ns bi translated"><strong class="lg ja">列出可用版本并安装:</strong></li></ol><p id="072b" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这将给出可以使用pyenv安装的python版本列表。该列表可能因操作系统而异。</p><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="7b06" class="mq mr iq nu b gy ny nz l oa ob"># List all available python versions<br/>&gt;pyenv install -l<br/>:: [Info] :: Mirror: <a class="ae mp" href="https://www.python.org/ftp/python" rel="noopener ugc nofollow" target="_blank">https://www.python.org/ftp/python</a><br/>2.4-win32<br/>2.4.1-win32<br/>2.4.2-win32<br/>…<br/>3.9.0a3<br/>3.9.0a4-win32<br/>3.9.0a4</span><span id="3690" class="mq mr iq nu b gy oc nz l oa ob"># Install a specific python version<br/>&gt;pyenv install 3.9.0a4</span><span id="d7ab" class="mq mr iq nu b gy oc nz l oa ob"># Rehash your new installables. Needed to update pyenv shims.<br/>&gt;pyenv rehash</span></pre><p id="8357" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">2.<strong class="lg ja">全球和本地版本:</strong></p><p id="0d5c" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">既然安装多个python版本很简单，那么您可以在多个python版本之间切换。即使您的机器上可能有多个python版本，您也需要将1个版本设置为全局版本。您可以检查您的全局python版本，</p><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="b1e7" class="mq mr iq nu b gy ny nz l oa ob"># Set global python version<br/>&gt;pyenv global 3.9.0a4</span><span id="6e4f" class="mq mr iq nu b gy oc nz l oa ob"># Check global python version<br/>&gt;pyenv global<br/>3.9.0a4</span></pre><p id="f153" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">与全局版本不同，您可以为特定项目设置特定的python版本。比如，你有一个项目在python 3.8.2中运行；您可以首先安装python版本，然后为该项目设置一个本地python版本。这将覆盖全局python版本。</p><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="9f52" class="mq mr iq nu b gy ny nz l oa ob"># Install other verion of python<br/>&gt;pyenv install 3.8.2</span><span id="3708" class="mq mr iq nu b gy oc nz l oa ob"># Change directory to your project<br/>&gt;cd DreamProject</span><span id="2bad" class="mq mr iq nu b gy oc nz l oa ob"># Set local python version inside your project<br/>DreamProject&gt;pyenv local 3.8.2</span><span id="28df" class="mq mr iq nu b gy oc nz l oa ob"># Check your local python version<br/>DreamProject&gt;pyenv local<br/>3.8.2</span></pre><p id="fa27" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这将在您的项目中创建一个包含python版本的<code class="fe od oe of nu b">.python-version</code>文件。Pyenv将使用这个来<a class="ae mp" href="https://mungingdata.com/python/how-pyenv-works-shims/#:~:text=Shims%20are%20lightweight%20executables%20that,the%20beginning%20of%20your%20PATH" rel="noopener ugc nofollow" target="_blank">巧妙地</a>设置python版本，只要你在这个目录的范围内。现在您已经设置了python版本，您可以打开一个新的终端并进行验证。</p><h2 id="de6c" class="mq mr iq bd ms mt mu dn mv mw mx dp my ln mz na nb lr nc nd ne lv nf ng nh iw bi translated">Pipx</h2><blockquote class="ma"><p id="6154" class="mb mc iq bd md me mf mg mh mi mj lz dk translated">使用pipx安装全局python工具。mypy、flake8、black和poem可以使用pipx安装一次，然后跨项目重用<em class="og">。</em></p></blockquote><p id="e9d7" class="pw-post-body-paragraph le lf iq lg b lh mk ka lj lk ml kd lm ln mm lp lq lr mn lt lu lv mo lx ly lz ij bi translated">保持干燥。当您跨项目重用python工具时，最好是全局安装一次，然后跨项目重用。<a class="ae mp" href="https://pypa.github.io/pipx/installation/" rel="noopener ugc nofollow" target="_blank"> Pipx </a>用于全球安装python工具。像<a class="ae mp" href="https://mypy.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> mypy </a>、<a class="ae mp" href="https://flake8.pycqa.org/en/latest/" rel="noopener ugc nofollow" target="_blank"> flake8 </a>这样的林挺工具，像<a class="ae mp" href="https://github.com/psf/black" rel="noopener ugc nofollow" target="_blank"> black、</a>这样的格式化工具，以及像<a class="ae mp" href="https://python-poetry.org/" rel="noopener ugc nofollow" target="_blank">poems</a>这样的依赖管理工具，都可以在全局范围内安装一次，然后跨项目重用。这有助于只保留这些工具的一个版本，并避免不同项目之间的版本不匹配。如果需要覆盖这个全局版本，您也可以在您的虚拟环境中安装它。</p><p id="98be" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">例如，您可以在您的计算机上安装一次<code class="fe od oe of nu b">black</code>格式化程序，并在多个项目中重用它。</p><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="b535" class="mq mr iq nu b gy ny nz l oa ob"># Verify global python version is active<br/>&gt;pyenv global<br/>3.9.0a4</span><span id="5fce" class="mq mr iq nu b gy oc nz l oa ob"># Install pipx<br/>&gt;pip install pipx</span><span id="151c" class="mq mr iq nu b gy oc nz l oa ob"># Make sure pipx is added to the path<br/>&gt;pipx ensurepath</span><span id="e001" class="mq mr iq nu b gy oc nz l oa ob"># Install black globally<br/>&gt;pipx install black</span><span id="bbae" class="mq mr iq nu b gy oc nz l oa ob"># Check if install is successful<br/>&gt;black --version<br/>black, version 20.8b1</span></pre><p id="ffe0" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">现在您已经安装了black，您可以在您的IDE中设置这个路径，以便开始跨项目使用它。</p><p id="52ab" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在vscode中，可以通过在用户<code class="fe od oe of nu b">settings.json</code>文件中添加下面一行来设置它，</p><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="cd8b" class="mq mr iq nu b gy ny nz l oa ob"># Set path for the python executable<br/>“python.formatting.blackPath”: “C:\\Users\\username\\.local\\pipx\\venvs\\black\\Scripts\\black.exe”,</span></pre><h2 id="373c" class="mq mr iq bd ms mt mu dn mv mw mx dp my ln mz na nb lr nc nd ne lv nf ng nh iw bi translated">诗意</h2><blockquote class="ma"><p id="e324" class="mb mc iq bd md me mf mg mh mi mj lz dk translated">对于python应用程序的整个生命周期来说，诗歌是一个完美的工具。从创建虚拟环境、设置开发环境、安装包、解决依赖性、分发代码、打包和发布代码。</p></blockquote><p id="c277" class="pw-post-body-paragraph le lf iq lg b lh mk ka lj lk ml kd lm ln mm lp lq lr mn lt lu lv mo lx ly lz ij bi translated"><a class="ae mp" href="https://python-poetry.org/" rel="noopener ugc nofollow" target="_blank">诗歌</a>在项目的整个生命周期中帮助开发者。通常，一个项目从创建一个虚拟环境开始，添加项目所需的包，然后以将应用程序打包给最终用户或在PyPI中发布它结束。我们将在下面的诗歌中看到你如何做到这一切。</p><h2 id="b69e" class="mq mr iq bd ms mt mu dn mv mw mx dp my ln mz na nb lr nc nd ne lv nf ng nh iw bi translated">使用诗歌的Python项目生命周期</h2><ol class=""><li id="bbb0" class="ni nj iq lg b lh nk lk nl ln nm lr nn lv no lz np nq nr ns bi translated"><strong class="lg ja">启动诗歌:</strong>这将在您的目录中创建一个<code class="fe od oe of nu b">pyproject.toml</code>文件，其中包含与您的项目相关的元信息。您可以打开该文件，稍后再进行编辑。</li></ol><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="9d89" class="mq mr iq nu b gy ny nz l oa ob"># Create a directory and setup python version<br/>DreamProject&gt;pyenv local 3.8.2</span><span id="ba66" class="mq mr iq nu b gy oc nz l oa ob"># Initiate poetry. This will ask meta info related to the project. DreamProject&gt;poetry init<br/>This command will guide you through creating your pyproject.toml config.</span><span id="b4a1" class="mq mr iq nu b gy oc nz l oa ob">Package name [DreamProject]:<br/>Version [0.1.0]:<br/>Description []:<br/>Author [aspiring_dev &lt;<a class="ae mp" href="mailto:mak.adi55@gmail.com" rel="noopener ugc nofollow" target="_blank">aspiring_dev@gmail.com</a>&gt;, n to skip]:<br/>License []:<br/>Compatible Python versions [^3.8]:</span></pre><p id="4d3d" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ja"> 2。创建一个虚拟环境:</strong>注意到目前为止我们只创建了一个toml文件，我们必须从创建一个虚拟环境开始。这可以如下进行，</p><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="49ca" class="mq mr iq nu b gy ny nz l oa ob"># Create virtual environment<br/>DreamProject&gt;poetry shell<br/>Creating virtualenv DreamProject-hJUIGXBx-py3.8 in C:\Users\username\AppData\Local\pypoetry\Cache\virtualenvs<br/>Spawning shell within C:\Users\username\AppData\Local\pypoetry\Cache\virtualenvs\DreamProject-hJUIGXBx-py3.8<br/>Microsoft Windows [Version 10.0.19043.1165]<br/>(c) Microsoft Corporation. All rights reserved.</span></pre><p id="c9a3" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ja"> 3。安装开发/生产包:</strong>对于一个数据科学项目，我们将从安装pandas和ipython开始。这里需要注意的一点是，并不是所有的包都是平等的。有些是开发包，有些是生产包。您可以在开发和测试时使用ipython和jupyter笔记本，但是当您将应用程序作为脚本部署在<code class="fe od oe of nu b">main.py</code>文件中或者公开<code class="fe od oe of nu b">class</code>或<code class="fe od oe of nu b">function</code>时，您就不需要它了。这种隔离避免了将开发工具打包到最终版本中，最终版本将交付给最终用户或被部署。</p><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="cbc9" class="mq mr iq nu b gy ny nz l oa ob"># Add prod packages, will be included in final build<br/>DreamProject&gt;poetry add pandas<br/>Using version ^1.3.1 for pandas</span><span id="864c" class="mq mr iq nu b gy oc nz l oa ob">Updating dependencies<br/>Resolving dependencies...</span><span id="88bd" class="mq mr iq nu b gy oc nz l oa ob">Writing lock file</span><span id="7f13" class="mq mr iq nu b gy oc nz l oa ob">Package operations: 5 installs, 0 updates, 0 removals</span><span id="4e44" class="mq mr iq nu b gy oc nz l oa ob">• Installing six (1.16.0)<br/>  • Installing numpy (1.21.1)<br/>  • Installing python-dateutil (2.8.2)<br/>  • Installing pytz (2021.1)<br/>  • Installing pandas (1.3.1)</span><span id="1c9a" class="mq mr iq nu b gy oc nz l oa ob"># Add dev packages, will not be included in final build<br/>DreamProject&gt;poetry add ipython --dev<br/>poetry add ipython --dev<br/>Using version ^7.26.0 for ipython</span><span id="3b1e" class="mq mr iq nu b gy oc nz l oa ob">Updating dependencies<br/>Resolving dependencies...</span><span id="9ce3" class="mq mr iq nu b gy oc nz l oa ob">Writing lock file</span><span id="dabb" class="mq mr iq nu b gy oc nz l oa ob">Package operations: 13 installs, 0 updates, 0 removals</span><span id="255f" class="mq mr iq nu b gy oc nz l oa ob">• Installing ipython-genutils (0.2.0)<br/>  • Installing parso (0.8.2)<br/>  • Installing traitlets (5.0.5)<br/>    .......<br/>  • Installing pygments (2.9.0)<br/>  • Installing ipython (7.26.0)</span></pre><p id="953d" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><code class="fe od oe of nu b">poetry add</code>比<code class="fe od oe of nu b">pip install</code>强大多了。Pip install只是从PyPi安装软件包，不做任何依赖解析。poem解决依赖性并为您安装正确的包版本。</p><blockquote class="ma"><p id="7e2a" class="mb mc iq bd md me mf mg mh mi mj lz dk translated">每当你的项目增长并开始依赖几个包时，依赖地狱就出现了。您安装的每个软件包都有自己的依赖关系，所以每当您安装或升级一个软件包时，解析这个依赖关系图会变得越来越困难。</p></blockquote><p id="a8f9" class="pw-post-body-paragraph le lf iq lg b lh mk ka lj lk ml kd lm ln mm lp lq lr mn lt lu lv mo lx ly lz ij bi translated">例如，假设您为依赖于request ≤ v2.24.0的项目安装了包x，而为依赖于request &gt;v2.25.0的项目安装了包y，即使x和y包都依赖于requests，但它们在版本上不兼容，也没有重叠。诗歌会发现并标记这些问题，而匹普不会。随着您不断添加越来越多的包，依赖图呈指数级增长，这变得很困难。但是poem确保每次你添加一个包时，它都会为你解决依赖性并安装正确的包版本。</p><p id="4344" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ja"> 4。与您的代码和环境协作:</strong>一旦您完成了开发或者您想要与您的团队成员协作，您需要开始使用版本控制和中央存储库。其他人现在可以克隆你的回购协议，并开始工作。传统上,<code class="fe od oe of nu b">requirements.txt</code>用于建立一个环境并安装所有的包。但是有了poem，一旦你在本地克隆了repo，你就可以运行<code class="fe od oe of nu b">poetry install</code>来安装所有的包和依赖项，安装的顺序和在你的机器上安装的顺序完全一样，从而消除了跨机器设置环境的任何差异。诗歌为你的工作环境和依赖树提供了一个可重复的、精确的副本。</p><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="4556" class="mq mr iq nu b gy ny nz l oa ob"># After cloning the repo run poetry install<br/>DreamProject&gt;poetry install</span></pre><p id="aaaf" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这将在虚拟环境中安装此项目所需的所有包。</p><p id="5c87" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ja"> 5。打包并分发您的代码:</strong>在开发和测试之后，是时候打包并分发您的代码了。帮助构建python项目。它可以生成<code class="fe od oe of nu b">package.tar.gz</code>和<code class="fe od oe of nu b">package.whl</code>两种格式。</p><blockquote class="ma"><p id="4f21" class="mb mc iq bd md me mf mg mh mi mj lz dk translated">最佳实践是使用wheel格式而不是tarballs(源代码分发)。对于wheel格式，源代码已经由开发人员构建好了，并且可供用户使用。使用tarballs，用户获得源代码，并需要将其构建为wheel格式，然后安装它。当你没有开发工具并且你的代码库包含多种语言如c，c++时，从源代码构建是很困难的。与tarballs相比，Wheel文件也更小，非常适合PyPi包装和分发。</p></blockquote><pre class="oh oi oj ok ol nt nu nv nw aw nx bi"><span id="2dac" class="mq mr iq nu b gy ny nz l oa ob"># Build the project<br/>&gt;poetry build<br/><br/>Building DreamProject (1.0.0)<br/>- Building sdist<br/>- Built dreamproject-1.0.0.tar.gz<br/><br/>- Building wheel<br/>- Built dreamproject-1.0.0-py2.py3-none-any.whl</span></pre><p id="74c7" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ja"> 6。发布您的代码:</strong>基于开发的类型，您可以将您的代码发布到PyPi或者使用私有的存储库。默认情况下，会将您的代码发布到PyPi</p><pre class="kp kq kr ks gt nt nu nv nw aw nx bi"><span id="8cb1" class="mq mr iq nu b gy ny nz l oa ob">$ poetry publish<br/><br/>Publishing dreamproject (1.0.0) to PyPI<br/><br/>- Uploading dreamproject-1.0.0.tar.gz 100%<br/>- Uploading dreamproject-1.0.0-py2.py3-none-any.whl 58%</span></pre></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><h2 id="704d" class="mq mr iq bd ms mt mu dn mv mw mx dp my ln mz na nb lr nc nd ne lv nf ng nh iw bi translated"><strong class="ak">备注:</strong></h2><p id="6072" class="pw-post-body-paragraph le lf iq lg b lh nk ka lj lk nl kd lm ln ot lp lq lr ou lt lu lv ov lx ly lz ij bi translated"><strong class="lg ja"> 1。</strong>正如评论中的<a class="ow ox ep" href="https://medium.com/u/a32383de4416?source=post_page-----d4af439846a--------------------------------" rel="noopener" target="_blank"> Duncan McRae </a>所指出的，如果python版本不兼容，有时包安装会失败。</p><p id="c97d" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">例如，假设您有一个3.9的本地python版本。poem将python版本初始化为^3.9，这意味着该环境兼容任何高于3.9的python版本。但是如果你安装了一个包，比如说<code class="fe od oe of nu b">scipy</code>，它的依赖项是&gt; =3.9，&lt; 3.10，那么诗歌安装失败。如果出现这种情况，您可能需要打开<code class="fe od oe of nu b">pyproject.toml</code>文件，并将python版本更改为&gt; = 3.9，&lt; 3.10。此行为自版本1.1.6起有效，将来可能会改变。</p><p id="dde2" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">2.<a class="ow ox ep" href="https://medium.com/u/9b90fec5ff41?source=post_page-----d4af439846a--------------------------------" rel="noopener" target="_blank">弗朗西斯科·帕多瓦尼</a>在评论里问了一个极好的问题，<em class="oy">不知道，康达不就是类似于诗歌吗？而且conda不是数据科学界用的吗？因此，数据科学家比python开发人员更关心代码的可移植性，因为许多python开发人员都使用pip。我错过了什么？</em></p><p id="dc6c" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">以上是我个人用诗代替康达的原因。</p><ol class=""><li id="f357" class="ni nj iq lg b lh li lk ll ln oz lr pa lv pb lz np nq nr ns bi translated">Conda不使用PyPI，有自己的包索引器。官方渠道是几个版本落后于几个软件包，但也有其他渠道有最新版本可用。但是你必须小心你从哪里得到你的软件包的作者。</li></ol><p id="8561" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">2.由Anaconda Inc .拥有，不像poems是一个开源项目。</p><p id="5ee8" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">3.Conda可以访问系统，并可以更改系统二进制文件，不像poems那样在虚拟环境中沙箱化，这使它非常适合码头工人。</p><p id="cb22" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">4.诗与康达兼容。所以您仍然可以使用conda来设置复杂的包。</p></div></div>    
</body>
</html>