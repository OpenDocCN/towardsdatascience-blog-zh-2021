<html>
<head>
<title>Why Python Loves Underscores So Much</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么Python如此喜欢下划线</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-python-loves-underscores-so-much-de03cf7bdcdd?source=collection_archive---------19-----------------------#2021-07-04">https://towardsdatascience.com/why-python-loves-underscores-so-much-de03cf7bdcdd?source=collection_archive---------19-----------------------#2021-07-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/f7ec9919f758ac825361b4c81fc64143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-fsTqbTPLsEjdOSxL27B9g.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/tranquitelocuento-20314169/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6277391" rel="noopener ugc nofollow" target="_blank"> Manuel Enriquez </a>来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6277391" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><div class=""/><div class=""><h2 id="2835" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">使用下划线的一些技巧可以改进您的Python代码</h2></div><p id="dbdf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">很多编程语言在很多场景下使用下划线“_”，Python也是如此。如果你曾经使用Python进行过面向对象的编程，你一定知道Python对象的构造函数是<code class="fe lu lv lw lx b">__init__()</code>。这可能是我们在Python中需要使用下划线的最常见场景。</p><p id="6b4e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，在更多的情况下，我们可以使用一个或多个下划线来玩一些把戏。这可以提高我们代码的可靠性，甚至带来一些新的特性。在本文中，我将列出下划线的一些技巧。希望他们能帮忙。</p><h1 id="8b12" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">1.临时变量</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/5dd54cf5da1f5c4f0900ab61d9e77e50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BQxKccGw28j8832cqIkFig.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5935651" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/sontung57-19733131/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5935651" rel="noopener ugc nofollow" target="_blank"> Tonda Tran </a></p></figure><p id="466d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我要介绍的第一个技巧与临时变量有关。当我们不知道变量名或者不想给变量命名时，下划线可以帮助我们。</p><h2 id="eb64" class="mu lz jj bd ma mv mw dn me mx my dp mi lh mz na mk ll nb nc mm lp nd ne mo nf bi translated">REPL的最后结果</h2><p id="a003" class="pw-post-body-paragraph ky kz jj la b lb ng kk ld le nh kn lg lh ni lj lk ll nj ln lo lp nk lr ls lt im bi translated">REPL指的是“阅读评估印刷循环”。当我们在Python控制台中运行一些东西时，结果将作为变量缓存在REPL中。这个变量没有名字，但是我们可以用下划线得到它。</p><p id="6884" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最典型的例子就是Jupyter笔记本。假设我们在一个单元格中运行一些东西，那么我们可以在下一个单元格中使用下划线得到结果。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/f3a26cb08af0f60bde41035f2a38eb55.png" data-original-src="https://miro.medium.com/v2/resize:fit:350/format:webp/1*869cYweCkR1it0gQLYAJjA.png"/></div></figure><p id="b636" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，需要强调的是,“无”值不会被缓冲。因此，下划线的值不会被替换，如下例所示。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/f4d133da7948dda543dde804c827f1d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:338/format:webp/1*0OpcsMTGFI-P32MXLvyAag.png"/></div></figure><h2 id="73af" class="mu lz jj bd ma mv mw dn me mx my dp mi lh mz na mk ll nb nc mm lp nd ne mo nf bi translated">匿名变量</h2><p id="3d35" class="pw-post-body-paragraph ky kz jj la b lb ng kk ld le nh kn lg lh ni lj lk ll nj ln lo lp nk lr ls lt im bi translated">作为一个经验法则，当我们不需要命名变量时，我们也可以用下划线来命名它。通常，这只是因为我们以后不需要使用这个变量，但是它必须被放在某个地方。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="2bf7" class="mu lz jj lx b gy nr ns l nt nu">for _ in range(10000):<br/>    # Do something 10000 times<br/>    pass</span></pre><p id="9549" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，我们只需要一个for循环来运行一些代码片段10k次。然而，循环并不重要。因此，我们可以使用下划线作为for循环的索引。</p><p id="64f4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样值得一提的是，大多数IDE都知道这条“经验法则”,这样就不会在以后检查下划线的用法。相反，如果我们在这个for循环中使用一个命名变量，一些IDE工具可能会警告我们“定义了一个变量却没有使用它”。</p><h2 id="8b04" class="mu lz jj bd ma mv mw dn me mx my dp mi lh mz na mk ll nb nc mm lp nd ne mo nf bi translated">占位符</h2><p id="937a" class="pw-post-body-paragraph ky kz jj la b lb ng kk ld le nh kn lg lh ni lj lk ll nj ln lo lp nk lr ls lt im bi translated">下划线作为临时变量的另一个常见用法是作为占位符。当我们想从一个元组中提取值时，通常使用这种方法。请参见下面的示例。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="c54b" class="mu lz jj lx b gy nr ns l nt nu">my_tuple = (1, 2)</span><span id="f2d2" class="mu lz jj lx b gy nv ns l nt nu">x, _ = my_tuple<br/>print(x)</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/54de231ef0578b8f344cc4a34c516622.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/1*HX2KVowQP_1o5bpPXOnVng.png"/></div></figure><p id="90c0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如图所示，我们从元组中获取第一个值，并将其赋给变量<code class="fe lu lv lw lx b">x</code>。第二个被忽略，因为我们使用下划线作为“占位符”。</p><p id="6243" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另一个您可能不知道的技巧是，我们可以使用带下划线的星号作为多个值的“占位符”。假设我们有一个包含多个值的元组，我们想从中获取第一个和最后一个值。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="d3ca" class="mu lz jj lx b gy nr ns l nt nu">my_long_tuple = (1, 2, 3, 4, 5)</span><span id="9bf6" class="mu lz jj lx b gy nv ns l nt nu">x, *_, z = my_long_tuple<br/>print('x =', x)<br/>print('z =', z)</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/43a107ec5baf660ee32f4f54a479c1f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*pEOt3RMMg7aN3fR9uR8xqA.png"/></div></figure><p id="878e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不管中间有多少个值，<code class="fe lu lv lw lx b">x, *_, z</code>总会得到第一个和最后一个值。</p><h1 id="6236" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">2.提高可读性</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3d122b5d60d592338520164e96babd98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ipf6fXjTKfpRFtyTCWV2Pw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1866951" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/pexels-2286921/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1866951" rel="noopener ugc nofollow" target="_blank"> Pexels </a></p></figure><p id="acaa" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个大概很多开发者都知道，但我还是想放在这里。这个小技巧在很大程度上提高了程序中数字的可读性。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="b3d2" class="mu lz jj lx b gy nr ns l nt nu">num = 1_000_000<br/>print(num)</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/ddc86aa56edebb871b3aa661da9c3de3.png" data-original-src="https://miro.medium.com/v2/resize:fit:418/format:webp/1*q5WfLcdAgPOE6PmkRJjF4A.png"/></div></figure><p id="0236" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们通常用逗号来分隔一个数字中的每3个数字，这样我们就可以很容易地阅读这个数字。在Python中，我们不能使用逗号，但是我们可以使用下划线来做同样的事情。</p><p id="ab7a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，对于一些文化和习俗，不要担心，我们可以把下划线放在任何地方。也不会影响结果。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="7ac5" class="mu lz jj lx b gy nr ns l nt nu">num = 100_0000<br/>print(num)</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/62751e61da9daa9dfad238719b4ed702.png" data-original-src="https://miro.medium.com/v2/resize:fit:372/format:webp/1*3IJrlMH9A-gvwfKww5gJiA.png"/></div></figure><h1 id="82c0" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">3.解决名称冲突</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/aacfb93b8b4c00513f7aafdbfea12c95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KwrUAftQzinOsdsztLEBHw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2430046" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="b7c4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下划线通常也用于避免名称空间中的冲突。请注意，在解释者层面没有关于这个的定义。所以，这又是下划线的另一个“经验法则”。</p><p id="f267" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，我们想定义一个函数来获取某些产品的“类”。如果我们按如下方式编写代码，它将引发一个错误。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="908f" class="mu lz jj lx b gy nr ns l nt nu">def print_class(class):<br/>    print('Class:', class)</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/998f8d5bf4dfdc632938ed59229a0cb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*vBXsmtXPzf_tuuf8XaaboA.png"/></div></figure><p id="8075" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是因为术语<code class="fe lu lv lw lx b">class</code>是Python中的保留关键字之一。具体来说，Python认为我们在定义一类对象，但语法显然是错误的。</p><p id="ce85" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这种情况下，经验法则是在变量后面加上下划线，如下所示。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="d7e5" class="mu lz jj lx b gy nr ns l nt nu">def print_class(class_):<br/>    print('Class:', class_)</span><span id="56c5" class="mu lz jj lx b gy nv ns l nt nu">print_class('Premium')</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/e7845012f7ac768162eaeb74f8103bcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/1*7TdC0H6Wve2yAmk-W9kiRQ.png"/></div></figure><p id="82ce" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，我们不必使用“class”作为变量名，因为它只是一个变量名。然而，有时不避免保留关键字会提高代码的可读性。</p><h1 id="593d" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">4.私有/受保护的属性和功能</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/69805c02e021a6974a7ba0da376e59c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*boQrtaL-thdEIxAkM1IljQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">很不幸，此时此地的图片结束了我在Pixabay的旅程</p></figure><p id="76e3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下划线也可以用来保护一些我们不希望下游引用的属性和函数，或者是不必要让它们被导入或调用。</p><h2 id="73d3" class="mu lz jj bd ma mv mw dn me mx my dp mi lh mz na mk ll nb nc mm lp nd ne mo nf bi translated">保护进口</h2><p id="8c3d" class="pw-post-body-paragraph ky kz jj la b lb ng kk ld le nh kn lg lh ni lj lk ll nj ln lo lp nk lr ls lt im bi translated">例如，在一个<code class="fe lu lv lw lx b">.py</code>文件中，我们可以定义一些常量和函数。然后，这个Python文件的意思就是被别人作为库导入。然而，我们可能在这个文件中有一些不应该被导入的本地帮助函数。</p><p id="c098" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这种情况下，我们可以在常量或函数前加一个下划线，这样它们就不会被<code class="fe lu lv lw lx b">from ... import *</code>导入。</p><p id="c7e3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们创建一个文件<code class="fe lu lv lw lx b">lib.py</code>并将以下两个函数放入其中。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="3ae0" class="mu lz jj lx b gy nr ns l nt nu">def test_func():<br/>    print("I'm a test")</span><span id="4613" class="mu lz jj lx b gy nv ns l nt nu">def _test_func():<br/>    print("I'm a _test")</span></pre><p id="c8a0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，让我们从这个文件中导入所有内容。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="a7fb" class="mu lz jj lx b gy nr ns l nt nu">from lib import *</span></pre><p id="71cc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">之后，我们可以验证<code class="fe lu lv lw lx b">test_func()</code>是进口的，而<code class="fe lu lv lw lx b">_test_func()</code>不是。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oc"><img src="../Images/337f84b424a4cf48dda008e3b53a094f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*48_s2kfQqX_NvXNC0xiVpg.png"/></div></div></figure><p id="98c5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，请注意，这是一个相当“方便”的方法，可以防止我们导入不必要的函数。它不会阻止用户显式导入它。</p><p id="9a17" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们显式导入该函数，它将工作。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="4721" class="mu lz jj lx b gy nr ns l nt nu">from lib import _test_func</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi od"><img src="../Images/17538b825bfdb14fb9f3317839fb7f2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*D-VDKBKFXkS6gEHihIxn4Q.png"/></div></figure><h1 id="7e12" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">5.保护类属性/功能</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/618521fe43ee34f3eb4937f25163aacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y5pWYtOLhLGYy47tMCe4bQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=801826" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/photos/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=801826" rel="noopener ugc nofollow" target="_blank">自由照片</a></p></figure><p id="3659" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不仅仅是导入，我们还可以使用下划线来保护类中的属性和函数不被外部调用。</p><p id="2b0d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这可以通过在需要保护的属性或函数前面添加双下划线<code class="fe lu lv lw lx b">__</code>来实现。</p><p id="bc3e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们定义一个名为<code class="fe lu lv lw lx b">Person</code>的类，然后实例化它。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="67c8" class="mu lz jj lx b gy nr ns l nt nu">class Person():<br/>    def __init__(self, name, age):<br/>        self.name = name<br/>        self.__age = age</span><span id="d93e" class="mu lz jj lx b gy nv ns l nt nu">    def show(self):<br/>        print(f"My name is {self.name} and I'm {self.__age} years old.")</span><span id="ecc7" class="mu lz jj lx b gy nv ns l nt nu">    def __show(self):<br/>        print(f"Hey {self.name}, you shouldn't call this function.")</span><span id="2d79" class="mu lz jj lx b gy nv ns l nt nu">p1 = Person('Chris', 33)</span></pre><p id="c619" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，我们可以调用<code class="fe lu lv lw lx b">show()</code>函数来打印预定义的字符串。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/257df13aacfdd4a7ce3cfff86da68730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*XmdOMs_-2tCSc_T7AxSt_w.png"/></div></figure><p id="7d3e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，如果我们试图调用受双下划线“保护”的属性<code class="fe lu lv lw lx b">__name</code>和函数<code class="fe lu lv lw lx b">__show()</code>，就会抛出错误。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi of"><img src="../Images/64fb2a0fb4db4ae31b516d9a1900f98b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*No4W4I1egGslB9Gb_F1i4Q.png"/></div></figure><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi og"><img src="../Images/364115bbee56e4d26b8ad70b146ac9e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*LM1ak-3e70CXK_q9xlqLGw.png"/></div></figure><p id="90aa" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样，这种“保护”不限于解释器级别。如果我们想在一个类中隐藏一些东西不让它被调用，这是很方便的。但是有一种方法可以显式调用。只是在他们前面加上<code class="fe lu lv lw lx b">_&lt;class_name&gt;</code>。</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/40c38ced2640a1b80ccc905b17c5a4bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*hy0wk7a6oiebOgUJ111O6Q.png"/></div></figure><h1 id="bb15" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">6.神奇的功能</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/427496c05522ba2747b6a3da99ce9ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rJneofRXVhIcOzGKhpamIA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk">Image by <a class="ae jg" href="https://pixabay.com/users/hanpen2-9510270/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3528638" rel="noopener ugc nofollow" target="_blank">萩原 浩一</a> from <a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3528638" rel="noopener ugc nofollow" target="_blank">Pixabay</a></p></figure><p id="bb62" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">嗯，每个人都知道魔法功能，但它非常重要，所以我不想跳过它。在前面的例子中使用的<code class="fe lu lv lw lx b">__init__()</code>函数是一种神奇的函数。除此之外，最重要的一个是类中的<code class="fe lu lv lw lx b">__repr__()</code>函数。它定义了当我们打印一个对象时要输出什么。如果你熟悉Java，这几乎等同于<code class="fe lu lv lw lx b">toString()</code>方法。</p><p id="9992" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们定义一个没有<code class="fe lu lv lw lx b">__repr__()</code>函数的类，并尝试打印对象。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="314b" class="mu lz jj lx b gy nr ns l nt nu">class Person():<br/>    def __init__(self, name, age):<br/>        self.name = name<br/>        self.age = age</span><span id="ecce" class="mu lz jj lx b gy nv ns l nt nu">p1 = Person('Chris', 33)<br/>print(p1)</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/feb7bae8f7a1251beb01c6ecbbd5d498.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*FYWu5TppnWmrtphDuiUX1Q.png"/></div></figure><p id="3aaa" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它只是告诉我们类名和内存地址，帮助不大。现在，让我们定义<code class="fe lu lv lw lx b">__repr__()</code>函数，再试一次。</p><pre class="mq mr ms mt gt nn lx no np aw nq bi"><span id="cbc1" class="mu lz jj lx b gy nr ns l nt nu">def __repr__(self):<br/>        return f"My name is {self.name} and I'm {self.age} years old."</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/4f71cb99a156a61497e7d805d41997b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*11_xAOGg_RorJDry7L8Zmg.png"/></div></figure><h1 id="2b19" class="ly lz jj bd ma mb mc md me mf mg mh mi kp mj kq mk ks ml kt mm kv mn kw mo mp bi translated">摘要</h1><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/e2b2513082d889016e77cacfb263ae08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eaUzOZvN0VucMQiG9exqBQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/franz26-1553839/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5961642" rel="noopener ugc nofollow" target="_blank"> Franz Bachinger </a>提供，来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5961642" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="2956" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我介绍了几个与Python编程语言中的下划线相关的技巧。有时，它使我们能够拥有某些能力，有时它提高可读性和可靠性。此外，它为保护导入和类属性/函数提供了一些便利。</p><p id="68cc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些技巧值得了解，有时对于理解他人的代码也很重要。希望这些建议会有所帮助。</p><div class="is it gp gr iu ok"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd jk gy z fp op fr fs oq fu fw ji bi translated">通过我的推荐链接加入Medium克里斯托弗·陶</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">medium.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy ja ok"/></div></div></a></div><p id="b6e0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入Medium会员来支持我和成千上万的其他作者！(点击上面的链接)</p></div></div>    
</body>
</html>