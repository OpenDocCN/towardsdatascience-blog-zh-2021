<html>
<head>
<title>Raw Materials Optimization for Food Manufacturing with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于Python的食品生产原料优化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/raw-materials-optimization-for-food-manufacturing-with-python-fbf2be4a74?source=collection_archive---------15-----------------------#2021-05-27">https://towardsdatascience.com/raw-materials-optimization-for-food-manufacturing-with-python-fbf2be4a74?source=collection_archive---------15-----------------------#2021-05-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="93f8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用线性规划创建一个满足特定营养需求的廉价餐吧的最佳食谱</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/ceb4df50f99f9a82c85a0fb08d0e8e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*5LjdjvTbSWiHbCyuhwxvDw.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">优化餐吧制造的配方—(图片由作者提供)</p></figure></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><h1 id="aacd" class="ky kz iq bd la lb lc ld le lf lg lh li jw lj jx lk jz ll ka lm kc ln kd lo lp bi translated">如何用Python优化原材料？</h1><p id="45a6" class="pw-post-body-paragraph lq lr iq ls b lt lu jr lv lw lx ju ly lz ma mb mc md me mf mg mh mi mj mk ml ij bi translated">作为一家大型食品制造商的R&amp;D经理，你需要设计一家新的<strong class="ls ir">便宜又健康的</strong> <em class="mm">餐吧的食谱。</em></p><p id="0412" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">餐吧必须起到T4餐的作用，而不仅仅是填补空缺的小吃。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/72d2bdf325d6df9763462f19c2537d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WYe0r4S6Im76O6of"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">照片由<a class="ae mx" href="https://unsplash.com/s/photos/protein-bar?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae mx" href="https://unsplash.com/@sproutified?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">sprouted</a>拍摄</p></figure><p id="107c" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">这是一个带有目标和约束的<strong class="ls ir">线性规划</strong>问题陈述。</p><p id="0db4" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">在这篇文章中，我们将看到如何建立一个模型来设计这个最佳食谱。</p><p id="9d33" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">💌新文章直接免费放入你的收件箱:<a class="ae mx" href="https://www.samirsaci.com/#/portal/signup" rel="noopener ugc nofollow" target="_blank">时事通讯</a></p><p id="fc62" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">如果你喜欢看，看看这篇文章的视频版本</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><h1 id="c86f" class="ky kz iq bd la lb lc ld le lf lg lh li jw lj jx lk jz ll ka lm kc ln kd lo lp bi translated">一.问题陈述</h1><h2 id="a10a" class="na kz iq bd la nb nc dn le nd ne dp li lz nf ng lk md nh ni lm mh nj nk lo nl bi translated">方案</h2><p id="da2c" class="pw-post-body-paragraph lq lr iq ls b lt lu jr lv lw lx ju ly lz ma mb mc md me mf mg mh mi mj mk ml ij bi translated">7种配料可供选择</p><ul class=""><li id="c23d" class="nm nn iq ls b lt mn lw mo lz no md np mh nq ml nr ns nt nu bi translated"><strong class="ls ir">肉类:</strong>鸡肉、牛肉、羊肉</li><li id="2fd3" class="nm nn iq ls b lt nv lw nw lz nx md ny mh nz ml nr ns nt nu bi translated"><strong class="ls ir">非肉类:</strong>大米、玉米、麦麸、花生</li></ul><p id="31ab" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">这些成分每克含有不同的营养成分(以克计)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi oa"><img src="../Images/fd46bb0326b209276489dc8ce56cd24e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZs1lqRiVF8AFXvf0pRTag.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">每种成分的营养成分—(图片由作者提供)</p></figure><p id="c705" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">它们也有不同的成本(美元/克)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/f7199c00809b0ed8d6f383e2a1694a64.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*THDILkuqhmFROxsgwsSwcQ.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">每种成分的每克成本—(图片由作者提供)</p></figure><p id="760f" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated"><strong class="ls ir">目标</strong></p><p id="55fd" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">最小化每根棒<strong class="ls ir">(重量:120克)</strong>的总成本。</p><p id="5f67" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated"><strong class="ls ir">约束条件</strong></p><p id="c134" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">蛋白质和纤维的最低值</p><ul class=""><li id="c4f6" class="nm nn iq ls b lt mn lw mo lz no md np mh nq ml nr ns nt nu bi translated"><strong class="ls ir">蛋白质:</strong> 20g</li><li id="5bfc" class="nm nn iq ls b lt nv lw nw lz nx md ny mh nz ml nr ns nt nu bi translated"><strong class="ls ir">纤维:</strong> 6g</li></ul><p id="ab22" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">脂肪、盐和糖的最大值</p><ul class=""><li id="a460" class="nm nn iq ls b lt mn lw mo lz no md np mh nq ml nr ns nt nu bi translated"><strong class="ls ir">脂肪:</strong> 22g</li><li id="ae6b" class="nm nn iq ls b lt nv lw nw lz nx md ny mh nz ml nr ns nt nu bi translated"><strong class="ls ir">盐:</strong> 3g</li><li id="e905" class="nm nn iq ls b lt nv lw nw lz nx md ny mh nz ml nr ns nt nu bi translated"><strong class="ls ir">糖:</strong> 30g</li></ul><h2 id="5dcd" class="na kz iq bd la nb nc dn le nd ne dp li lz nf ng lk md nh ni lm mh nj nk lo nl bi translated">结果</h2><ul class=""><li id="3fe2" class="nm nn iq ls b lt lu lw lx lz oc md od mh oe ml nr ns nt nu bi translated"><strong class="ls ir">场景1 </strong></li></ul><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="d560" class="na kz iq og b gy ok ol l om on"><strong class="og ir">Cost per Bar = 7.91 $</strong></span><span id="ef1b" class="na kz iq og b gy oo ol l om on">Qty_Beef = 48.56 g<br/>Qty_Chicken = 0.0 g<br/>Qty_Corn = 0.0 g<br/>Qty_Mutton = 0.0 g<br/>Qty_Peanuts = 34.09 g<br/>Qty_Rice = 0.0 g<br/>Qty_Wheat_bran = 37.36 g</span></pre><p id="86ca" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">你只需要放入牛肉、花生和麦麸，总成本为每条7.91美元(120克)。</p><ul class=""><li id="f184" class="nm nn iq ls b lt mn lw mo lz no md np mh nq ml nr ns nt nu bi translated"><strong class="ls ir">情景2: </strong>将蛋白质水平降至<strong class="ls ir"> 12克</strong></li></ul><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="1f6d" class="na kz iq og b gy ok ol l om on"><strong class="og ir">Cost per Bar = 0.78 $</strong></span><span id="669e" class="na kz iq og b gy oo ol l om on">Status: Optimal<br/>Qty_Beef = 0.0 g<br/>Qty_Chicken = 0.0 g<br/>Qty_Corn = 0.0 g<br/>Qty_Mutton = 0.0 g<br/>Qty_Peanuts = 43.15 g<br/>Qty_Rice = 55.19 g<br/>Qty_Wheat_bran = 21.66 g</span></pre><p id="5882" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">你的酒吧现在是纯素食，而且相当便宜。</p><ul class=""><li id="f48f" class="nm nn iq ls b lt mn lw mo lz no md np mh nq ml nr ns nt nu bi translated"><strong class="ls ir">场景3: </strong>将糖减少到20克</li></ul><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="3125" class="na kz iq og b gy ok ol l om on"><strong class="og ir">Cost per Bar = 10.32 $</strong></span><span id="d7fd" class="na kz iq og b gy oo ol l om on">Status: Optimal<br/>Qty_Beef = 65.32 g<br/>Qty_Chicken = 0.0 g<br/>Qty_Corn = 0.0 g<br/>Qty_Mutton = 0.0 g<br/>Qty_Peanuts = 30.96 g<br/>Qty_Rice = 0.0 g<br/>Qty_Wheat_bran = 23.72 g</span></pre><p id="cf05" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">为了保证低糖，你需要多吃肉。因此，你会看到你的成本每酒吧增加。</p></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><div class="kg kh ki kj gt op"><a href="http://samirsaci.com" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">萨米尔·萨奇</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">数据科学博客，专注于仓储，运输，数据可视化和机器人流程自动化…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">samirsaci.com</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd kl op"/></div></div></a></div></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><h1 id="7e38" class="ky kz iq bd la lb lc ld le lf lg lh li jw lj jx lk jz ll ka lm kc ln kd lo lp bi translated">二。构建您的模型</h1><p id="7322" class="pw-post-body-paragraph lq lr iq ls b lt lu jr lv lw lx ju ly lz ma mb mc md me mf mg mh mi mj mk ml ij bi translated">Pulp是一个线性(lp)和整数规划(IP)问题的建模框架，用Python编写，由COIN-OR Foundation(运筹学计算基础设施)维护。</p><blockquote class="pe pf pg"><p id="6f97" class="lq lr mm ls b lt mn jr lv lw mo ju ly ph mp mb mc pi mq mf mg pj mr mj mk ml ij bi translated"><em class="iq">你可以在这个Github库中找到完整的代码:</em> <a class="ae mx" href="https://github.com/samirsaci/raw-materials" rel="noopener ugc nofollow" target="_blank"> <em class="iq">链接</em> </a> <em class="iq">。<br/>我的投资组合与其他项目:</em> <a class="ae mx" href="https://samirsaci.com/" rel="noopener ugc nofollow" target="_blank"> <em class="iq">小萨奇</em> </a></p></blockquote><h2 id="aa2c" class="na kz iq bd la nb nc dn le nd ne dp li lz nf ng lk md nh ni lm mh nj nk lo nl bi translated">1.导入参数</h2><p id="2511" class="pw-post-body-paragraph lq lr iq ls b lt lu jr lv lw lx ju ly lz ma mb mc md me mf mg mh mi mj mk ml ij bi translated">您也可以在我的GitHub存储库中找到这些数据集。</p><p id="788f" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated"><strong class="ls ir">营养知识</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pk mz l"/></div></figure><p id="995e" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated"><strong class="ls ir">配料成本</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pk mz l"/></div></figure><h2 id="42be" class="na kz iq bd la nb nc dn le nd ne dp li lz nf ng lk md nh ni lm mh nj nk lo nl bi translated">2.声明您的变量、参数和模型</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pk mz l"/></div></figure><ul class=""><li id="dfc6" class="nm nn iq ls b lt mn lw mo lz no md np mh nq ml nr ns nt nu bi translated">你的目标是最小化你的酒吧的成本</li><li id="39ef" class="nm nn iq ls b lt nv lw nw lz nx md ny mh nz ml nr ns nt nu bi translated"><em class="mm">下限</em> =0:配料数量不能为负值</li></ul><h2 id="9855" class="na kz iq bd la nb nc dn le nd ne dp li lz nf ng lk md nh ni lm mh nj nk lo nl bi translated">3.定义目标并添加约束</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pk mz l"/></div></figure><h2 id="4811" class="na kz iq bd la nb nc dn le nd ne dp li lz nf ng lk md nh ni lm mh nj nk lo nl bi translated">4.求解模型并分析结果</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pk mz l"/></div></figure></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><h1 id="e96e" class="ky kz iq bd la lb lc ld le lf lg lh li jw lj jx lk jz ll ka lm kc ln kd lo lp bi translated">三。后续步骤</h1><p id="38e4" class="pw-post-body-paragraph lq lr iq ls b lt lu jr lv lw lx ju ly lz ma mb mc md me mf mg mh mi mj mk ml ij bi translated"><em class="mm">关注我，了解更多与供应链数据科学相关的见解。</em></p><p id="aee4" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">这个解决方案并不完美，你可以很容易地改进它。</p><ul class=""><li id="e69b" class="nm nn iq ls b lt mn lw mo lz no md np mh nq ml nr ns nt nu bi translated">如果你的顾客想要玉米怎么办？</li></ul><p id="8cfe" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">您可以通过添加玉米最小数量的限制来将玉米添加到此食谱中。</p><ul class=""><li id="fd73" class="nm nn iq ls b lt mn lw mo lz no md np mh nq ml nr ns nt nu bi translated">我们有无限的可能性吗？</li></ul><p id="0b53" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">让我们试着把数量从120克换成100克，结果是什么？</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="b3e2" class="na kz iq og b gy ok ol l om on">Cost per Bar = 11.08 $</span><span id="eae7" class="na kz iq og b gy oo ol l om on"><strong class="og ir">Status: Infeasible</strong><br/>Qty_Beef = 71.27 g<br/>Qty_Chicken = 0.0 g<br/>Qty_Corn = 0.0 g<br/>Qty_Mutton = 0.0 g<br/>Qty_Peanuts = 30.26 g<br/>Qty_Rice = 0.0 g<br/>Qty_Wheat_bran = -1.53 g</span></pre><p id="c17f" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">对于这种约束组合，100克的杆没有最优解。</p><p id="1a61" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">要获得最小量，首先列出限制(营养事实)，然后尝试找到可行的最小量。</p></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><h1 id="9cc1" class="ky kz iq bd la lb lc ld le lf lg lh li jw lj jx lk jz ll ka lm kc ln kd lo lp bi translated">关于我</h1><p id="24c5" class="pw-post-body-paragraph lq lr iq ls b lt lu jr lv lw lx ju ly lz ma mb mc md me mf mg mh mi mj mk ml ij bi translated">让我们连接上<a class="ae mx" href="https://www.linkedin.com/in/samir-saci/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>和<a class="ae mx" href="https://twitter.com/Samir_Saci_" rel="noopener ugc nofollow" target="_blank"> Twitter </a>，我是一名供应链工程师，正在使用数据分析来改善物流运作和降低成本。</p><p id="5724" class="pw-post-body-paragraph lq lr iq ls b lt mn jr lv lw mo ju ly lz mp mb mc md mq mf mg mh mr mj mk ml ij bi translated">如果你对数据分析和供应链感兴趣，可以看看我的网站</p><div class="pl pm gp gr pn op"><a href="https://samirsaci.com" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">Samir Saci |数据科学与生产力</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">专注于数据科学、个人生产力、自动化、运筹学和可持续发展的技术博客</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">samirsaci.com</p></div></div><div class="oy l"><div class="po l pa pb pc oy pd kl op"/></div></div></a></div></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><h1 id="2b4d" class="ky kz iq bd la lb lc ld le lf lg lh li jw lj jx lk jz ll ka lm kc ln kd lo lp bi translated">参考</h1><p id="728a" class="pw-post-body-paragraph lq lr iq ls b lt lu jr lv lw lx ju ly lz ma mb mc md me mf mg mh mi mj mk ml ij bi translated">[1]运筹学计算基础设施，优化与纸浆(文档)，<a class="ae mx" href="https://coin-or.github.io/pulp/" rel="noopener ugc nofollow" target="_blank">链接</a></p></div></div>    
</body>
</html>