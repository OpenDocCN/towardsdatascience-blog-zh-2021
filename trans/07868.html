<html>
<head>
<title>How to Visualize the Rest of Your Life</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何想象你的余生</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-visualize-the-rest-of-your-life-28f943b1f70b?source=collection_archive---------13-----------------------#2021-07-19">https://towardsdatascience.com/how-to-visualize-the-rest-of-your-life-28f943b1f70b?source=collection_archive---------13-----------------------#2021-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/76c0633caf53536be886786dbaddefc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vol87S1DnN8iZRpVwJYzsg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><h2 id="2303" class="jg jh ji bd b dl jj jk jl jm jn jo dk jp translated" aria-label="kicker paragraph">教程-PYTHON-ALTAIR</h2><div class=""/><div class=""><h2 id="afbf" class="pw-subtitle-paragraph ko jr ji bd b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dk translated">一步一步的教程来创建一个数据Viz图表与你的生活在几周内使用Python和Altair</h2></div><h1 id="2216" class="lg lh ji bd li lj lk ll lm ln lo lp lq kx lr ky ls la lt lb lu ld lv le lw lx bi translated">1.介绍</h1><p id="aa8a" class="pw-post-body-paragraph ly lz ji ma b mb mc ks md me mf kv mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">对于这篇文章，我尽量不要过于哲学化。然而，最近我看到有人展示了一张海报，描绘了他在几周内的生活。过去的所有几周都以黑色显示，而他生命中剩下的几周则以白色显示。这多少引起了我的共鸣。作为数据科学家，我们分析和可视化数据以创建视角，发现隐藏的信息，得出结论，并对新生成的信息采取行动。</p><p id="d56e" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我看到的那张海报符合我的所有要求。所以我尝试用Python和Altair来生成这样的可视化。我主要使用Altair，因为我想更熟悉它，并使用ggplot2和plotnine打破我的舒适区。</p><p id="484d" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在下一节中，我将与您分享我的技术设置。在第三部分，我将解释我如何构建这个可视化，以及你如何使用它。最后，我来总结一下这篇文章。</p><figure class="na nb nc nd gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mz"><img src="../Images/f31f49557b34c25564bdc316d6c52d78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fIAXqBbSzhFMSWzch2fVkg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">结果可视化，用Affinity Designer进一步处理(图片由作者提供)</p></figure><h1 id="9685" class="lg lh ji bd li lj lk ll lm ln lo lp lq kx lr ky ls la lt lb lu ld lv le lw lx bi translated">2.设置</h1><p id="280d" class="pw-post-body-paragraph ly lz ji ma b mb mc ks md me mf kv mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">如果你想知道我是如何构建我的代码的，它被称为<strong class="ma js">方法链</strong>或管道(在R社区中)。我在我的另一篇文章中解释了<a class="ae ne" rel="noopener" target="_blank" href="/the-flawless-pipes-of-python-pandas-30f3ee4dffc2">的基础知识。</a></p><p id="21a9" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">您可能知道，我使用R 开始了我的数据科学职业生涯<a class="ae ne" rel="noopener" target="_blank" href="/nine-years-on-linkedin-in-data-b34047c77223">，因此，我非常熟悉</a><a class="ae ne" href="https://gscheithauer.medium.com/how-to-add-number-of-observations-to-a-ggplot2-boxplot-b22710f7ef80" rel="noopener"> ggpot2 </a>。随着我在客户项目中越来越频繁地使用Python，我开始寻找类似的Python可视化包。我很高兴地说，有了<a class="ae ne" rel="noopener" target="_blank" href="/data-visualization-in-python-like-in-rs-ggplot2-bc62f8debbf5"> Plotnine </a>就有了一个极好的选择。</p><p id="ee3b" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">然而，由于我喜欢尝试新事物，特别是可视化软件包，我想尝试一下<a class="ae ne" href="https://altair-viz.github.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ma js"> Altair软件包</strong> </a>。Altair是一个Python数据可视化包，它遵循一种<a class="ae ne" href="https://codeburst.io/declarative-vs-imperative-programming-a8a7c93d9ad2" rel="noopener" target="_blank">声明式方法</a>，就像ggplot2和<a class="ae ne" rel="noopener" target="_blank" href="/data-visualization-in-python-like-in-rs-ggplot2-bc62f8debbf5"> Plotnine </a>一样。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="c27a" class="lg lh ji bd li lj lk ll lm ln lo lp lq kx lr ky ls la lt lb lu ld lv le lw lx bi translated">4.创建可视化</h1><p id="ebfc" class="pw-post-body-paragraph ly lz ji ma b mb mc ks md me mf kv mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">首先，我们需要了解你一点。当然，那是你的预期寿命。还有你的生日。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="d8ea" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">然后我创建三个日期对象。一个是当前日期，你出生的那一天，最后是死亡的那一天。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="11ec" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">接下来，下一个代码计算从你出生到现在的天数，以及从现在到死亡的天数。基于这些天的变量，我计算年和周。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="5445" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">最后，我创建了三个数据框来保存每周的信息，不管是已经过去的一周、当前的一周还是未来的一周。我承认，这可能不是创建数据的最优雅的方式。如果你有更高效的方法，欢迎分享。谢谢你。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="c3b8" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">最后，我创建图表。我使用了Altair的<a class="ae ne" href="https://altair-viz.github.io/user_guide/marks.html" rel="noopener ugc nofollow" target="_blank"> mark_square </a>功能。我还把两个<a class="ae ne" href="https://altair-viz.github.io/user_guide/marks.html" rel="noopener ugc nofollow" target="_blank">标记方块</a>放在彼此的上面，以便创建一个黑色边框的效果。否则我无法创建它。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="60a9" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">最后，我配置标题并保存图表。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="3c59" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">如果您想应用您的预期寿命和您的出生日期，您只需要在代码的开头更改这些变量。</p><figure class="na nb nc nd gt iv gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/d43e5b555d9d9d25331d2a1f04379db3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*UdxyHlZs76NQTBycvV1vNQ.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">可视化结果(图片由作者提供)</p></figure><h1 id="1b8e" class="lg lh ji bd li lj lk ll lm ln lo lp lq kx lr ky ls la lt lb lu ld lv le lw lx bi translated">5.结论</h1><p id="6bfe" class="pw-post-body-paragraph ly lz ji ma b mb mc ks md me mf kv mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">在这篇文章中，我向你展示了如何创建一个可视化来显示你的生活周。我解释了如何使用Python和Altair来实现这一点，以及如何基于数据生成可视化。</p><p id="2039" class="pw-post-body-paragraph ly lz ji ma b mb mu ks md me mv kv mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">如果你觉得这篇文章有帮助，请告诉我。此外，如果您能分享任何关于如何改进此解决方案的想法，我将不胜感激。谢谢大家！</p></div></div>    
</body>
</html>