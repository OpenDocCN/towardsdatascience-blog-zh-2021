<html>
<head>
<title>Don’t lose your data: saving a MySQL database backup via CLI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不要丢失数据:通过CLI保存MySQL数据库备份</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dont-lose-your-data-saving-a-mysql-database-backup-via-cli-68d87e8c237e?source=collection_archive---------28-----------------------#2021-07-30">https://towardsdatascience.com/dont-lose-your-data-saving-a-mysql-database-backup-via-cli-68d87e8c237e?source=collection_archive---------28-----------------------#2021-07-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="47bf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何轻松备份MySQL数据库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d1fa81793dc3d3b02b6f2b829d50839b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-vFyA0vXV6tn2Gd0"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·温克勒<a class="ae ky" href="http://twitter.com/markuswinkler" rel="noopener ugc nofollow" target="_blank">@马库斯·温克勒</a>在Unsplash的照片</p></figure><p id="8c29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将快速描述如何通过CLI使用<strong class="lb iu"> mysqldump </strong>保存数据库的转储文件。在那里，您可以找到以下主题的代码和解释:</p><ul class=""><li id="03a4" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">保存数据库转储文件</li><li id="a577" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">保存所有数据库或数据库列表</li><li id="e439" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">保存表格</li><li id="7aeb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何在Windows上使用mysqldump CLI</li><li id="a286" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">错误1044拒绝访问-锁定表</li></ul><p id="2c32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你曾经使用过数据库，你就会知道备份数据有多重要。数据丢失发生在你没有预料到的时候，你必须做好准备。保存数据库中的转储文件是防止数据丢失的一种方法，甚至更多。</p><p id="8094" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">转储文件的主要用途是在数据丢失的情况下备份数据，但除此之外，转储文件还可以用于多种其他用途，如复制数据库并将其用于实验、将数据库的副本发送给某人、作为副本的数据源等等。</p><h1 id="b0ec" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">保存数据库转储文件</h1><p id="2e36" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">要保存数据库转储文件，首先必须打开终端并键入以下命令。在调用<strong class="lb iu"> mysqldump </strong>命令时，必须向数据库的服务器传递一个具有读取权限的用户，数据库的名称，并在“&gt;之后传递转储文件的位置和名称。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="ab15" class="nl mk it nh b gy nm nn l no np">mysqldump -h &lt;server&gt; -u &lt;user&gt; -p &lt;database&gt;  &gt; file.sql</span></pre><p id="b7bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行这行代码后，它会询问用户密码，并将您的文件保存在传递的目录中。</p><h1 id="a455" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">保存所有数据库或数据库列表</h1><p id="f904" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">如果你想一次保存所有的数据库，你可以使用命令“all-databases”和服务器及用户。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="5712" class="nl mk it nh b gy nm nn l no np">mysqldump -h &lt;server&gt; -u &lt;user&gt; --all-databases &gt; file.sql</span></pre><p id="d43e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想一次保存多个数据库，你可以使用命令“databases ”,传递一个你想保存的数据库列表，后面跟服务器和用户。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="1f17" class="nl mk it nh b gy nm nn l no np">mysqldump -h &lt;server&gt; -u &lt;user&gt; --databases &lt;db1&gt; &lt;db2&gt; &lt;db3&gt; &gt; file.sql</span></pre><p id="b982" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在运行这些行之后，它将询问用户密码，并将您的文件保存在传递的目录中。</p><h1 id="1d7a" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">保存表格</h1><p id="f64d" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">如果只想保存一个表，只需在命令中的数据库后面添加表名。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="86bf" class="nl mk it nh b gy nm nn l no np">mysqldump -h &lt;server&gt; -u &lt;user&gt; -p &lt;database&gt; &lt;tablename&gt; --single-transaction &gt; file.sql</span></pre><h1 id="d605" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">如何在Windows上使用mysqldump CLI</h1><p id="9ca7" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">要在Windows上使用它，您只需打开命令行并添加MySQL工作台的路径，然后传递命令保存您的数据库。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="c4c6" class="nl mk it nh b gy nm nn l no np">set path=C:\Program Files\MySQL\MySQL Workbench 6.3 CE</span><span id="872d" class="nl mk it nh b gy nq nn l no np">mysqldump</span><span id="27b7" class="nl mk it nh b gy nq nn l no np">mysqldump -h &lt;server&gt; -u &lt;user&gt; -p &lt;database&gt;  &gt; file.sql</span></pre><h1 id="59dc" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">错误1044拒绝访问-锁定表</h1><p id="d4ae" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">如果您有一个锁定的表，您会得到“1044拒绝访问错误”和以下消息:</p><blockquote class="nr ns nt"><p id="80c3" class="kz la nu lb b lc ld ju le lf lg jx lh nv lj lk ll nw ln lo lp nx lr ls lt lu im bi translated">"获得错误:1044:使用锁表时，用户' user'@'% '对数据库' database '的访问被拒绝"</p></blockquote><p id="7508" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要解决这个错误，您只需在代码中添加命令“single-transaction”。单个事务命令将强制它在发出BEGIN时转储数据库的一致状态，而不会阻塞任何其他应用程序。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="dfa6" class="nl mk it nh b gy nm nn l no np">set path=C:\Program Files\MySQL\MySQL Workbench 6.3 CE</span><span id="5524" class="nl mk it nh b gy nq nn l no np">mysqldump -h &lt;server&gt; -u &lt;user&gt; -p &lt;database&gt; --single-transaction &gt; file.sql</span></pre><p id="0421" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想了解更多关于<strong class="lb iu"> mysqldump </strong>命令的信息，或者如果您正面临我所介绍的不同场景，请访问以下链接中的MySQL文档:</p><div class="ny nz gp gr oa ob"><a href="https://dev.mysql.com/doc/mysql-backup-excerpt/5.7/en/mysqldump-tips.html" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">MySQL :: MySQL备份和恢复::1.4.5 mysqldump提示</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">本节将介绍一些技术，这些技术使您能够使用mysqldump来解决特定的问题:如何将一个</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">dev.mysql.com</p></div></div></div></a></div><p id="a77e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢您的阅读！我希望这些技巧能帮助你保存MySQL数据库的备份，防止项目中的数据丢失。</p><p id="8486" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有任何问题或建议可以通过LinkedIn联系我:【https://www.linkedin.com/in/octavio-b-santiago/ T2】</p><h1 id="27c1" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">更多阅读</h1><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/powerbi-the-tool-that-is-beating-excel-8e88d2084213"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">power bi——击败Excel的工具</h2><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op ks ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/hacking-chess-with-decision-making-deep-reinforcement-learning-173ed32cf503"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">用决策深度强化学习来下象棋</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">用机器学习创造国际象棋冠军</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="oq l om on oo ok op ks ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/how-to-build-the-perfect-dashboard-with-power-bi-28c35d6cd785"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">如何使用Power BI构建完美的仪表盘</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">在Power BI中构建杀手级仪表板的技巧</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="or l om on oo ok op ks ob"/></div></div></a></div></div></div>    
</body>
</html>