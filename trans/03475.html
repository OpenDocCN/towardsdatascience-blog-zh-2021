<html>
<head>
<title>Speed-up your Pandas Workflow by changing a single line of code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过改变一行代码来加速你的熊猫工作流程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/speed-up-your-pandas-workflow-by-changing-a-single-line-of-code-11dfd85efcfb?source=collection_archive---------5-----------------------#2021-03-20">https://towardsdatascience.com/speed-up-your-pandas-workflow-by-changing-a-single-line-of-code-11dfd85efcfb?source=collection_archive---------5-----------------------#2021-03-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2a65" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Modin扩展您的数据探索和可视化</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a385f6c8c1510ca3b11aba1f7c43062d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1EjhxOZRdoQH9xv5r1mFFA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">蒂姆·高在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="d007" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas是用于数据探索和可视化的最流行的Python库之一。Pandas提供了大量的内置功能，使得执行数据探索变得更加容易。但是当处理大型数据集时，它失败了，因为它使用单核CPU执行所有操作。熊猫没有利用所有可用的CPU核心来扩大计算规模。</p><p id="491d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有可用的CPU内核都可以用来提升大型复杂计算的性能和时间复杂度。有各种开源库，如Vaex、Dask、Modin等，可以使用CPU的所有内核来提升性能。CPU内核的充分利用节省了数据科学家的大量时间，因为它减少了计算时间。</p><p id="c120" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">阅读文章下面的<a class="ae ky" rel="noopener" target="_blank" href="/process-dataset-with-200-million-rows-using-vaex-ad4839710d3b">，了解如何使用Vaex处理有2亿条记录的数据集。</a></p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/process-dataset-with-200-million-rows-using-vaex-ad4839710d3b"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">使用Vaex处理具有2亿行的数据集</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">使用vaex数据框对大型数据集执行操作</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="fafe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，您可以了解如何使用Modin提升Pandas库计算的性能，只需更改一行代码。</p><h1 id="1d5f" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">摩丁是什么？</h1><p id="f5ef" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">Modin是一个开源的Python库，它通过将操作分布在CPU的多个核心上来加速Pandas的工作流程。与其他分布式库不同，Modin可以很容易地与Pandas库集成和兼容，并具有类似的API。</p><p id="27e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开发人员不需要担心指定CPU内核的可用性，也不需要提供如何分发数据。摩丁通过将计算分配到CPU的多个内核来处理所有这些。</p><h2 id="fa70" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">安装和使用:</h2><p id="9732" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">可以使用PyPl安装Modin:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="0c23" class="nk mo it nx b gy ob oc l od oe"><strong class="nx iu">pip install modin</strong></span></pre><p id="36bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装库后，导入库以进一步使用它:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="17d0" class="nk mo it nx b gy ob oc l od oe"><strong class="nx iu">import</strong> <strong class="nx iu">modin.pandas</strong> <strong class="nx iu">as</strong> <strong class="nx iu">md</strong></span></pre><p id="22f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这只是为了提升熊猫的性能而对代码进行的一行修改。摩丁的API和熊猫的很像，开发者不用担心学习或者搜索。</p><h1 id="70e5" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">摩丁是如何在引擎盖下工作的？</h1><p id="d420" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">使用Pandas对数据帧的操作很慢，因为它使用单核CPU来执行计算，而没有利用多核CPU。现代笔记本电脑有许多内核，可以并行使用来提升性能。摩丁做了同样的事情，它利用了CPU的所有核心，并将其计算分配到CPU的多个核心中，这有助于加快性能。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/7942b1511d08b01b48b9b44f748428da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*0zcrCNa2s4IYTHNqizrqMw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(<a class="ae ky" href="https://www.youtube.com/watch?v=-HjLd_3ahCw" rel="noopener ugc nofollow" target="_blank">来源</a>)，熊猫和摩丁的CPU核心利用率</p></figure><p id="c887" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于拥有大量CPU内核的大型数据科学工作站或集群，Modin性能呈指数级增长，如下所示充分利用CPU内核。</p><h1 id="8d72" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">API覆盖范围:</h1><p id="d0c0" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">摩丁使用Ray或Dask引擎来加速计算。在API覆盖上，大部分常用的API都被摩丁覆盖了，巨大的开发量要覆盖剩下的功能。</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="ca0a" class="nk mo it nx b gy ob oc l od oe"><strong class="nx iu">About,<br/>91% of API’s are covered for Pandas Dataframe.<br/>88% of API’s are covered for Pandas Series.</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/71c74f01286b3b22ea5139c4c0c11e90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*GSIWkn7rn2ecn5O4hJ_npA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(<a class="ae ky" href="https://github.com/modin-project/modin" rel="noopener ugc nofollow" target="_blank">来源</a>)，摩丁API覆盖率</p></figure><h1 id="de7c" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">基准时间限制:</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/a522f9d0b9a566c04cb13aec8135b273.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HI9EPO608awxkt9rUlmUmw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)，摩丁和熊猫之间的基准时间数</p></figure><h1 id="8e06" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">结论:</h1><p id="d090" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在观察了基准时间数字后，我们可以得出结论，与熊猫相比，摩丁的操作更快。摩丁分配计算并最大限度地利用CPU内核。还有各种其他的分布式库也有类似于Pandas的API，包括Dask、Vaex、Pandarallel等等。</p><h1 id="a82b" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">参考资料:</h1><p id="0aa4" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">[1]摩丁文献:【https://modin.readthedocs.io/en/latest/】T4</p><p id="6eac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[2]熊猫文献:<a class="ae ky" href="https://pandas.pydata.org/docs/" rel="noopener ugc nofollow" target="_blank">https://pandas.pydata.org/docs/</a></p><blockquote class="oi"><p id="9f77" class="oj ok it bd ol om on oo op oq or lu dk translated">感谢您的阅读</p></blockquote></div></div>    
</body>
</html>