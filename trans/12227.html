<html>
<head>
<title>Eight “No-Code” Features In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的八个“无代码”特性</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/eight-no-code-features-in-python-15744e8c01f4?source=collection_archive---------3-----------------------#2021-12-12">https://towardsdatascience.com/eight-no-code-features-in-python-15744e8c01f4?source=collection_archive---------3-----------------------#2021-12-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/1f8fea51c3771d6fd2e33deafe3016e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HYcPXHqezMqFtsp99hmUkA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/geralt-9301/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1044145" rel="noopener ugc nofollow" target="_blank">格尔德·奥特曼</a>来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1044145" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a></p></figure><div class=""/><div class=""><h2 id="4e4e" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">有时候，你不需要写代码来使用Python。</h2></div><p id="457c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Python变得流行的原因之一是我们可以编写相对较少的代码来实现复杂的功能。Python开发人员社区欢迎使用简单接口封装复杂实现的库。</p><p id="bf2b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，这还不是最简单的。你能相信我们甚至可以不用任何代码就使用Python吗？</p><p id="e5de" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我将介绍无需编写任何代码就可以利用的8个Python内置特性。</p><h1 id="9891" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">0.Python CLI "-m "</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/63125e75577b6cc9481823e0c732688b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3raGKsL9ArOJdWnhZuDqWg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/wal_172619-12138562/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5219747" rel="noopener ugc nofollow" target="_blank"> wal_172619 </a>发自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5219747" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="ec81" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一切从Python CLI(命令行界面)开始吧。尽管我们不必编写代码来使用稍后将介绍的特性，但我们仍然需要让Python知道我们想要执行什么。为此，我们可以使用Python CLI。</p><p id="ed32" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">只要我们的机器上安装了Python，我们就可以在Python CLI中显示所有支持的参数。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="d52a" class="mv lv jj mr b gy mw mx l my mz">$ python --help</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi na"><img src="../Images/48f38ddd889f20ca94f9289af35d81c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sAaJy6mFC7aLdkMUSUr0PQ.png"/></div></div></figure><p id="f214" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该屏幕截图只显示了部分帮助输出，因为它太长了。我想强调的是<code class="fe nb nc nd mr b">-m</code>选项。它将运行一个库模块作为脚本。因此，如果该模块实现为支持CLI，我们将能够直接使用它。</p><p id="8412" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们应该开始了:)</p><h1 id="2ae9" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">1.不使用Telnet测试端口号</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/b1656b1ca03c277a98dc3b52396deed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KTo1ShsunQ4v1AwEes-peA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2507499" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/funkyfocus-3900817/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2507499" rel="noopener ugc nofollow" target="_blank"> FunkyFocus </a></p></figure><p id="518b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有时，我们希望测试IP:端口的出站网络流量。通常，telnet是一个不错的选择，尤其是在Windows平台上。但是，默认情况下通常不会安装它。我们必须在使用前下载并安装它，如果我们只是想要一个简单的测试，然后丢弃它，这可能是一种浪费。</p><p id="dac0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，如果你安装了Python，你就不必下载telnet，因为Python已经有了。我们试试Google搜索它的443端口的一个IP。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="234f" class="mv lv jj mr b gy mw mx l my mz">python -m telnetlib -d 142.250.70.174 443</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ne"><img src="../Images/e1c35967f7563c2747475cd028afadca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ezvq9jkig6H96d0lEwo9Lw.png"/></div></div></figure><p id="5adc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如截图所示，流量是可以的，我们甚至收到了谷歌的空字符串。如果我们试图telnet一个我们不应该访问的随机端口，将会抛出一个错误。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="6d56" class="mv lv jj mr b gy mw mx l my mz">python -m telnetlib -d 142.250.70.174 999</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nf"><img src="../Images/f6119aa739ac6495524bfe94badfde50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fNL0a3XNAhOeLtXyd0ngWw.png"/></div></div></figure><h1 id="5751" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">2.启动Web服务器</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/137525e50c45e7fda8ce72a55ce68f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JRd-tjy6ieBONfiq0cgC7A.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/photomix-company-1546875/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1433323" rel="noopener ugc nofollow" target="_blank">图片混合</a>来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1433323" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="e4de" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你以前不知道这个，我想这可能会很惊讶。是的，我们可以不用写任何代码就能使用Python启动一个web服务器。只需运行如下命令。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="6cf6" class="mv lv jj mr b gy mw mx l my mz">python -m http.server</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ng"><img src="../Images/561a5515f3862800bcb1cc6259a98816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wWf2MLgjwdzqNvX9yZdsjg.png"/></div></div></figure><p id="8162" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们运行它之后，它显示服务器正在监听端口8000上的本地主机。然后，我们可以尝试从浏览器访问<code class="fe nb nc nd mr b">http://localhost:8000/</code>。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nh"><img src="../Images/2af0a3b864d2d246a1492fb25bfe3984.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VRJSRDOmlv-a1Ur2YzSTNQ.png"/></div></div></figure><p id="9b0d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">web服务器将使用我们作为root启动服务器的路径来呈现我们的本地文件系统。换句话说，我们将无法访问根目录以上的任何目录。</p><p id="8a60" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你是在问这是做什么用的吗？例如，如果我们在目录或任何子目录中有许多文本/PDF/图像文件，我们可以非常容易和快速地访问它们。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/506df8deb22b25b5c02800d932b68b7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/0*BQVkimes1ExcY9mi.png"/></div></figure><p id="4e13" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想知道更多有趣的用法，请查看这篇文章。</p><div class="is it gp gr iu nj"><a rel="noopener follow" target="_blank" href="/3-lines-of-python-code-to-write-a-web-server-46a109666dbf"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd jk gy z fp no fr fs np fu fw ji bi translated">用3行Python代码编写一个Web服务器</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">使用内置库“http.server”用Python编写的最简单的web服务器</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">towardsdatascience.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ja nj"/></div></div></a></div><p id="012f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你遵循上面的文章，并把它变成一个“低代码”的解决方案，你也许能给它添加更多的定制功能。</p><h1 id="bbdb" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">3.验证和美化JSON</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6467316f22c4f58369f10fc6757f8543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wHs5OyG-IuiIv9odMScl6A.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3101151" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/felix_w-6547745/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3101151" rel="noopener ugc nofollow" target="_blank"> Felix Wolf </a></p></figure><p id="6533" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您有一个没有格式化的长JSON字符串，它可能很难阅读。通常，我更喜欢使用带有JSON插件的文本编辑器，如Sublime或VS code，来使字符串更漂亮。然而，如果我们手头没有这些工具，Python将能够暂时提供帮助。</p><p id="7602" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们有这样一个JSON字符串。出于演示目的，我将使用一个短的。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="b771" class="mv lv jj mr b gy mw mx l my mz">echo '{"name": {"first_name":"Chris", "last_name":"Tao"} "age":33}'</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ny"><img src="../Images/8cef29aef90b56ec1692ea3a5b4cb954.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nnaH24BHVE6w3_lgrFrILQ.png"/></div></div></figure><p id="5a12" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的操作系统不识别它，所以字符串将按原样显示。然而，如果我们添加Python <code class="fe nb nc nd mr b">json.tool</code>作为魔术，它将被很好地格式化。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="b295" class="mv lv jj mr b gy mw mx l my mz">echo '{"name": {"first_name":"Chris", "last_name":"Tao"} "age":33}' | python -m json.tool</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nz"><img src="../Images/b25f946dfb9ba7a477caf0e28e2b6b32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vt3F5ebHFBQLsoedT641Yw.png"/></div></div></figure><p id="de3d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">哎呀！JSON字符串无效，<code class="fe nb nc nd mr b">json.tool</code>帮助我们识别了这个问题。我们在名称对象后面漏掉了一个逗号。让我添加逗号使其有效。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="8311" class="mv lv jj mr b gy mw mx l my mz">echo '{"name": {"first_name":"Chris", "last_name":"Tao"}, "age":33}' | python -m json.tool</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oa"><img src="../Images/943e70767f8ef62c194318fbc9698682.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IUM4_uwVrnCfdg9Udc7Z0g.png"/></div></div></figure><p id="6f8d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，它以完美的缩进输出！现在很容易读懂。</p><h1 id="ab59" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">4.创建文本编辑器</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/9e69db9f5797f35b6340b835ec6b5282.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_DHwmNRu7xvZ8w0Q3nkXOw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=265132" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/pixelcreatures-127599/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=265132" rel="noopener ugc nofollow" target="_blank"> Werner Moser </a></p></figure><p id="811c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">是的，我们可以使用Python来“创建”一个文本编辑器。当然不是很强大，但是如果你没有装更好的会很方便。此外，它不会比Vim和Nanos更强大，但它完全是基于UI的，而不是命令行文本编辑器。这个编辑器是由<code class="fe nb nc nd mr b">idlelib</code>用Tkinter创建的，所以它甚至是跨平台的。</p><p id="941a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们要编写一个简单的Python应用程序来显示当前时间。我们想快速编写代码，但不想下载和安装代码编辑器。现在，让我们运行这个命令。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="ab07" class="mv lv jj mr b gy mw mx l my mz">mkdir get_time_app<br/>python -m idlelib get_time_app/print_time.py</span></pre><p id="f395" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nb nc nd mr b">idlelib</code>如果目录不存在就无法创建，所以如果需要的话我们需要创建一个。在我们运行这个命令之后，在我们保存之前，不会创建<code class="fe nb nc nd mr b">print_time.py</code>。</p><p id="9e16" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">编辑器现在应该会弹出来。我们可以在里面写一些代码。代码甚至可以是语法着色的。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/b997b8dbc6410ef64466e8ea114d7fbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eDqHiJ4V67W16dPijTwzMg.png"/></div></div></figure><p id="01ee" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们可以按ctrl+s保存它，然后关闭它。让我们回到命令行并显示文件的内容，代码肯定在那里。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="f912" class="mv lv jj mr b gy mw mx l my mz">cat get_time_app/print_time.py</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oc"><img src="../Images/35e52518c0b0ab8e5b7eb71f71e058c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BACtyQTt-Pwx_2zOIdQ6Hg.png"/></div></div></figure><h1 id="787e" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">5.创建可执行的应用程序</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/728a4816c06af2f68a253c6ac805d6b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gwxqEm78ltYx-RLOiB0Itg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=292994" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/lobostudiohamburg-13838/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=292994" rel="noopener ugc nofollow" target="_blank">托马斯·乌尔里希</a></p></figure><p id="841f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们只想创建一个简单的应用程序，就像上面写的那样，我们不需要任何第三方库，比如PyInstaller。Python内置的Zipapp可以提供帮助。</p><p id="2119" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们要打包“获取时间”应用程序，我们可以运行下面的命令。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="c83d" class="mv lv jj mr b gy mw mx l my mz">python -m zipapp get_time_app -m "print_time:main"</span></pre><p id="c4f6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在命令中，我们只需要让<code class="fe nb nc nd mr b">zipapp</code>知道app的名字<code class="fe nb nc nd mr b">get_time_app</code>，将被用作入口点的Python文件的名字<code class="fe nb nc nd mr b">print_time</code>和主方法<code class="fe nb nc nd mr b">main</code>。</p><p id="ae18" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">扩展名为<code class="fe nb nc nd mr b">.pyz</code>的是我们刚刚创建的应用程序。我们可以将它作为一个文件而不是一个文件夹来分发。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi od"><img src="../Images/21feccc51f4217d3155db882def68fd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JtmxIUMh8DYV1rQuHNk69w.png"/></div></div></figure><p id="61a9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要使用打包的app，只需用python调用即可。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="bce9" class="mv lv jj mr b gy mw mx l my mz">python get_time_app.pyz</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oe"><img src="../Images/9367e88254b00071e7257a0c639a9cf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CVkDJpu5-n6KWAgH_OAhMw.png"/></div></div></figure><h1 id="8223" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">6.对字符串或文件进行编码和解码</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3378f57fce651b3a604fba8282fdd675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9XnVn515DAoR42JfRcayJQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=441280" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/tomasz_mikolajczyk-106840/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=441280" rel="noopener ugc nofollow" target="_blank">托马兹·米科扎奇克</a></p></figure><p id="62c6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用Python CLI，我们可以加密字符串或文件。先说个有意思的。Rot 13是一种简单地将任何英文字母向右移动13个位置的加密方法。例如，一个“a”(位置:1)将变成一个“n”(位置:14)。</p><p id="ed21" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以使用<code class="fe nb nc nd mr b">encodings.rot_13</code>来加密一个字符串，如下所示。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="c52d" class="mv lv jj mr b gy mw mx l my mz">echo "I am Chris" | python -m encodings.rot_13</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/8af9e1eb6ec4c8a9a490f3f556cba79a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yLLaJL2Cg4erUxBSuFbfVA.png"/></div></div></figure><p id="15de" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，不要把这个用在任何真正机密的东西上。因为英语有26个字母，所以我们可以通过再次运行这个算法非常容易地破译字符串:)</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="03a0" class="mv lv jj mr b gy mw mx l my mz">echo 'V nz Puevf' | python -m encodings.rot_13</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/fb2f1d4873cb756988f32e0a8e436350.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXmIGtU45LErxwN6AEPC1w.png"/></div></div></figure><p id="69d0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们来看看一个更有用的base64。我们可以用base64格式对字符串进行编码，如下所示。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="8ba7" class="mv lv jj mr b gy mw mx l my mz">echo "I am Chris" | python -m base64</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/b6fa57c1c8fade09560df3641a742f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OYZX21sbW30BjrUL31Fe6g.png"/></div></div></figure><p id="23f7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们可以添加一个标志<code class="fe nb nc nd mr b">-d</code>来解码它。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="8811" class="mv lv jj mr b gy mw mx l my mz">echo "SSBhbSBDaHJpcwo=" | python -m base64 -d</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/1dd1596affb7a7709e6880999d75e541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ARR1UKI7CvW1pzQAmEOOBA.png"/></div></div></figure><p id="ea21" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们有一个动态编码的图像文件，这将非常有用。我们可以对文件进行如下编码。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="9422" class="mv lv jj mr b gy mw mx l my mz">python -m base64 get_time_app/print_time.py</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oi"><img src="../Images/f771eb4927593b15b03e1cdc34f598b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eUvbq2a_-JE2OksuOh40nQ.png"/></div></div></figure><p id="42b7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">非常有趣的是，解码后的Python脚本文件可以动态执行。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="3496" class="mv lv jj mr b gy mw mx l my mz">echo "ZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCgpkZWYgbWFpbigpOgogICAgY3VycmVudF90aW1lID0gZGF0ZXRpbWUubm93KCkKICAgIHByaW50KGYnQ3VycmVudCB0aW1lIGlzIHtjdXJyZW50X3RpbWV9LicpCgoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIG1haW4oKQo=" | python -m base64 -d | python</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oj"><img src="../Images/583a77619a8f4234867a4d08ab70310c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dWHHNzYQVVNq43hzlThNKA.png"/></div></div></figure><h1 id="4782" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">7.获取系统元数据</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a9bdb6cb3ac60d1a1529046a65667ed7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xZa3iBKPglo-K0HPcmAw8A.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5603790" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/photomix-company-1546875/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5603790" rel="noopener ugc nofollow" target="_blank">照片合成</a></p></figure><p id="5c2b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想获得当前的系统信息，Python提供了一种简单的方法。我们可以运行下面的命令。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="12da" class="mv lv jj mr b gy mw mx l my mz">python -m sysconfig</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/f88237fd99e9d228122a555340c9783b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-iNbttaOd4x_HOQD9uQ_DA.png"/></div></div></figure><p id="5a00" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">显示所有系统配置，如路径和环境变量。还有更多的东西显示，截图只显示了一部分。</p><p id="785e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们只想显示路径和当前工作目录，我们也可以运行这个命令。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="0c4c" class="mv lv jj mr b gy mw mx l my mz">python -m site</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ol"><img src="../Images/3fddd7e3132fa04a9eb4d5383cf5f062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XXFqr6ri1E9Ak1ZqInyaXA.png"/></div></div></figure><h1 id="a403" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">8.压缩文件</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6ac780c91b30552218fca4cff32f30d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bshjHGybnDtWuJsbWQ2IyQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=624220" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/stevepb-282134/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=624220" rel="noopener ugc nofollow" target="_blank">Steve buiss NNE</a></p></figure><p id="481a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们也可以使用Python压缩文件，而不需要下载tar/zip/gzip。例如，如果我们想压缩我们刚刚在第4节中编写的应用程序，我们可以运行下面的命令将文件夹添加到一个zip文件中。在该命令中，选项<code class="fe nb nc nd mr b">-c</code>代表“创建”。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="c20c" class="mv lv jj mr b gy mw mx l my mz">python -m zipfile -c get_time_app.zip get_time_app</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi om"><img src="../Images/385c48e5ebfe605b155a798e966df146.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YDELdRx0JfpMueoJTzqPrQ.png"/></div></div></figure><p id="fd75" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，我们也可以提取它。让我们提取文件夹，并把它放入一个新的目录，这样它就可以从原来的目录中分离出来。在下面的命令中，选项<code class="fe nb nc nd mr b">-e</code>代表“提取”。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="8102" class="mv lv jj mr b gy mw mx l my mz">python -m zipfile -e get_time_app.zip get_time_app_extracted</span></pre><p id="f72c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们就可以验证了。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="c019" class="mv lv jj mr b gy mw mx l my mz">ls get_time_app_extracted<br/>cat get_time_app_extracted/get_time_app/print_time.py</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/379c1f5664de10d20464125bbb605d32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cqOKF7W4NgaOtWp9-oQ8mA.png"/></div></div></figure><p id="c4e1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我用zip做演示，Python也支持tar和gzip。</p><h1 id="837c" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">摘要</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/7ac4e59561623f8f6b4978e8aee024f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jSG8gRmx_EECt0aWAleeBg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/angelicavaihel-19662978/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6855367" rel="noopener ugc nofollow" target="_blank">安吉丽卡·瓦赫尔</a>从<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6855367" rel="noopener ugc nofollow" target="_blank">皮沙贝</a>拍摄</p></figure><p id="5eb2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我介绍了一种无需编写任何代码就能使用Python内置库的方法。如果我们确实记得使用它们，它确实提供了许多方便。希望你喜欢阅读这篇文章，内容会有所帮助！</p><div class="is it gp gr iu nj"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd jk gy z fp no fr fs np fu fw ji bi translated">通过我的推荐链接加入灵媒-陶</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="oo l nu nv nw ns nx ja nj"/></div></div></a></div><p id="fbe1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入Medium会员来支持我和成千上万的其他作者！(点击上面的链接)</p></div></div>    
</body>
</html>