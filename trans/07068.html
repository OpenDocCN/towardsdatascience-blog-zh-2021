<html>
<head>
<title>Formatting strings and numbers in python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在python中格式化字符串和数字</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/formatting-strings-and-numbers-in-python-16a326a5d5b3?source=collection_archive---------4-----------------------#2021-06-27">https://towardsdatascience.com/formatting-strings-and-numbers-in-python-16a326a5d5b3?source=collection_archive---------4-----------------------#2021-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6e43" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在python中格式化字符串/数字输出的6种方式</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/22726c380184012406e3f1106c9e07d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FZf86AA0nNZaXdHu9mj3Qg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片来自<a class="ae kv" href="https://unsplash.com/@kellysikkema" rel="noopener ugc nofollow" target="_blank">凯利·西克玛</a></p></figure><h1 id="8fcd" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">关于这篇文章</h1><p id="01ac" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">大多数时候，一个简单的<code class="fe mk ml mm mn b">print()</code>语句可能会导致混乱的代码。有时您不需要记录器来处理这项工作。Python提供了不同的输出选项来处理字符串输出。这里有一些</p><h1 id="290a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">格式化字符串</h1><h2 id="10e4" class="mo kx iq bd ky mp mq dn lc mr ms dp lg lx mt mu li mb mv mw lk mf mx my lm mz bi translated">1.使用<code class="fe mk ml mm mn b">%s in statements</code></h2><pre class="kg kh ki kj gt na mn nb nc aw nd bi"><span id="421f" class="mo kx iq mn b gy ne nf l ng nh">print(“Some text <strong class="mn ir">%s</strong> some text <strong class="mn ir">%s</strong> some text “ %(str1,str2))</span></pre><p id="3b3d" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated"><code class="fe mk ml mm mn b">str1 </code>和<code class="fe mk ml mm mn b">str2 </code>依次代替<code class="fe mk ml mm mn b">%s</code>和<code class="fe mk ml mm mn b">%s</code></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/05998b9886e901a4d146d26078b31634.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_5cSvVtD_xak0HxaLxLPHA.png"/></div></div></figure><p id="5c6f" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">您甚至可以在字符串输出中进行数学运算。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/240b38ae38265051b2868012ca6f7c40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6AxPCOfm_RS5ZeC9W-l0tQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">多次打印一个字符</p></figure><h2 id="868d" class="mo kx iq bd ky mp mq dn lc mr ms dp lg lx mt mu li mb mv mw lk mf mx my lm mz bi translated">2.使用f前缀格式化</h2><p id="04fa" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们可以使用f-string方法编写相同的代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/2acdc436a49d338dfe5854ad841f7180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bWvlDHu4FFby_1BqmAgAOA.png"/></div></div></figure><p id="54c3" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">它克服了%s的限制—您不能指定顺序(“轻松”)。所以当你使用<code class="fe mk ml mm mn b">{variable_name}</code>时，你把它们嵌入到你想要的语句部分，自然就克服了“顺序问题”</p><h2 id="0738" class="mo kx iq bd ky mp mq dn lc mr ms dp lg lx mt mu li mb mv mw lk mf mx my lm mz bi translated">3.使用f前缀整齐地对齐输出</h2><p id="5414" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">您可以使用f格式中的<code class="fe mk ml mm mn b"><strong class="lq ir"> :&gt;</strong></code>、<code class="fe mk ml mm mn b"><strong class="lq ir">:&lt;</strong></code>或<code class="fe mk ml mm mn b"><strong class="lq ir">:^</strong></code>选项来左对齐、右对齐或居中对齐您想要格式化的文本。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/fac2256929d60848e41526f809bc03dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lD2Hn1ocPAllYxUFvbIcfA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">不格式化</p></figure><p id="463f" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">格式化输出文本的对齐方式后…</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/cf316ab3639bb9028e7996ce3f107136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kRv9UhpsqTwbxeMMsXO77w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">格式化后向右对齐</p></figure><p id="cc9f" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated"><strong class="lq ir"> 4。使用格式关键字</strong></p><p id="7328" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">我们可以使用python中的<code class="fe mk ml mm mn b">fortmat() </code>字符串函数，按照我们想要的顺序输出想要的文本。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/1e9f04efcb4c3baa32dfd265949be0c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q8ZAxFmy2WxL-sobLDgKiw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在python中使用format()函数</p></figure><h1 id="43d9" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">格式化数字</h1><p id="59d8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在使用<code class="fe mk ml mm mn b">f keyword </code>扩展格式(看上面的部分)，让我们试着在数字中使用，特别是涉及小数的<code class="fe mk ml mm mn b">( float )</code></p><h2 id="5011" class="mo kx iq bd ky mp mq dn lc mr ms dp lg lx mt mu li mb mv mw lk mf mx my lm mz bi translated">1.限制小数点后的位数</h2><p id="33e7" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">例如:如果我想限制圆周率的值(小数点后第二或第三位)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/3bbbba85ec7e24f9d55ee384c493c4c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9kM4SxpMP2hpc6EwYXc4Ow.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">数字输出</p></figure><p id="55c4" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">通常，我们会得到这样的结果</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/32d387146e8baa5684132284e848366f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*utdcz-C-UhPn2QH5ZXUtGA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">正常的预期产量</p></figure><p id="2a12" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">现在，通过格式化数字，我们可以将小数位数限制为两位数…</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/3fe3ff7942a0a23973e36933bf423029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RAo8zdt_f37hdqBbe23SQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">限制到小数点后两位</p></figure><p id="d0fd" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">或3位数…</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/9f856b1a989dff8cf134f04a54891649.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eNjqsnAxCmimKusbNRfeGQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">限制到小数点后3位</p></figure><h2 id="dc96" class="mo kx iq bd ky mp mq dn lc mr ms dp lg lx mt mu li mb mv mw lk mf mx my lm mz bi translated">2.在pandas数据框中格式化输出</h2><p id="e5de" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">更进一步说，如果你想在数据框中以特定格式显示数字，当使用<code class="fe mk ml mm mn b">pandas </code>时，你可以使用<code class="fe mk ml mm mn b"> pd.options.display</code>来显示你想要的方式。以下是启用<code class="fe mk ml mm mn b">options.display</code>设置前后数字显示的示例。</p><p id="bcb5" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">让我们举个例子——</p><p id="7839" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">我们正在读取一个文件<code class="fe mk ml mm mn b"> test.csv</code>并显示其内容。我们看到长度列显示了6个小数位。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/7d38d93e165c4afe3498eb6bde65b58a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*5Wg1YOuXdslxtg7KPl7jIw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">正常显示，长度栏显示6个小数点</p></figure><p id="3ee7" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">如果我们只对显示两位小数感兴趣，我们可以使用<code class="fe mk ml mm mn b"> pd.options.display</code>属性来改变它。下面是应用格式后数据帧的输出。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/71a536a29df1805a819657497c6e94da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yqF0zenMBhpx1d9fBIEU2w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将浮点数据类型的格式设置为两位小数后的输出</p></figure><p id="f20d" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated"><strong class="lq ir">注</strong>:从这里开始，对于所有的熊猫显示(甚至对于其他数据帧)，将只显示2个小数点。如果您想将其设置回小数点后4或5位，您必须将格式设置回您想要的格式。直到那时，它将继续显示只有2个小数点。</p><h2 id="ed34" class="mo kx iq bd ky mp mq dn lc mr ms dp lg lx mt mu li mb mv mw lk mf mx my lm mz bi translated"><strong class="ak"> 3。格式化numpy中的输出</strong></h2><p id="2598" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Numpy具有将小数点精度更改为所需精度的设置。</p><pre class="kg kh ki kj gt na mn nb nc aw nd bi"><span id="ebb2" class="mo kx iq mn b gy ne nf l ng nh"><strong class="mn ir">np.set_printoptions(precision=2)  </strong></span></pre><p id="cdb7" class="pw-post-body-paragraph lo lp iq lq b lr ni jr lt lu nj ju lw lx nk lz ma mb nl md me mf nm mh mi mj ij bi translated">让我们把输出看作是对前面熊猫例子的扩展。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/53e2bd0f31215cd06c326eafd9abc8c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hd680Vo2jSlsqaKGyY-7bw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">更改numpy中的小数点精度</p></figure></div></div>    
</body>
</html>