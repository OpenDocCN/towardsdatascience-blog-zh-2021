<html>
<head>
<title>Time Series Anomaly Detection with PyCaret</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åŸºäºPyCaretçš„æ—¶é—´åºåˆ—å¼‚å¸¸æ£€æµ‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/time-series-anomaly-detection-with-pycaret-706a6e2b2427?source=collection_archive---------1-----------------------#2021-04-22">https://towardsdatascience.com/time-series-anomaly-detection-with-pycaret-706a6e2b2427?source=collection_archive---------1-----------------------#2021-04-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="aceb" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">å®è·µæ•™ç¨‹</a></h2><div class=""/><div class=""><h2 id="77e4" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">ä½¿ç”¨PyCaretå¯¹æ—¶é—´åºåˆ—æ•°æ®è¿›è¡Œæ— ç›‘ç£å¼‚å¸¸æ£€æµ‹çš„åˆ†æ­¥æ•™ç¨‹</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/7c9b1067b7accb39ca50dfafd903c679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O-lbKPXdK7716BK8MLpTQA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">py caretâ€”â€”Pythonä¸­çš„å¼€æºã€ä½ä»£ç æœºå™¨å­¦ä¹ åº“</p></figure><h1 id="0624" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">ğŸ‘‰ä»‹ç»</h1><p id="49bf" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">è¿™æ˜¯ä¸€ä¸ªå¾ªåºæ¸è¿›ï¼Œåˆå­¦è€…å‹å¥½çš„æ•™ç¨‹ï¼Œä½¿ç”¨PyCaretçš„æ— ç›‘ç£å¼‚å¸¸æ£€æµ‹æ¨¡å—æ£€æµ‹æ—¶é—´åºåˆ—æ•°æ®ä¸­çš„å¼‚å¸¸ã€‚</p><h2 id="945a" class="ms lf iq bd lg mt mu dn lk mv mw dp lo mf mx my lq mj mz na ls mn nb nc lu iw bi translated">æœ¬æ•™ç¨‹çš„å­¦ä¹ ç›®æ ‡</h2><ul class=""><li id="fde9" class="nd ne iq ly b lz ma mc md mf nf mj ng mn nh mr ni nj nk nl bi translated">ä»€ä¹ˆæ˜¯å¼‚å¸¸æ£€æµ‹ï¼Ÿå¼‚å¸¸æ£€æµ‹çš„ç±»å‹ã€‚</li><li id="4286" class="nd ne iq ly b lz nm mc nn mf no mj np mn nq mr ni nj nk nl bi translated">ä¸šåŠ¡ä¸­çš„å¼‚å¸¸æ£€æµ‹ç”¨ä¾‹ã€‚</li><li id="51dc" class="nd ne iq ly b lz nm mc nn mf no mj np mn nq mr ni nj nk nl bi translated">ä½¿ç”¨PyCaretè®­ç»ƒå’Œè¯„ä¼°å¼‚å¸¸æ£€æµ‹æ¨¡å‹ã€‚</li><li id="6fe5" class="nd ne iq ly b lz nm mc nn mf no mj np mn nq mr ni nj nk nl bi translated">æ ‡è®°å¼‚å¸¸å¹¶åˆ†æç»“æœã€‚</li></ul><h1 id="f0dc" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">ğŸ‘‰PyCaret</h1><p id="3d5d" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">PyCaretæ˜¯ä¸€ä¸ªå¼€æºçš„ä½ä»£ç æœºå™¨å­¦ä¹ åº“å’Œç«¯åˆ°ç«¯çš„æ¨¡å‹ç®¡ç†å·¥å…·ï¼Œå†…ç½®äºPythonä¸­ï¼Œç”¨äºè‡ªåŠ¨åŒ–æœºå™¨å­¦ä¹ å·¥ä½œæµã€‚å®ƒå› å…¶æ˜“ç”¨æ€§ã€ç®€å•æ€§ä»¥åŠå¿«é€Ÿæœ‰æ•ˆåœ°æ„å»ºå’Œéƒ¨ç½²ç«¯åˆ°ç«¯MLåŸå‹çš„èƒ½åŠ›è€Œå¹¿å—æ¬¢è¿ã€‚</p><p id="2e08" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">PyCaretæ˜¯ä¸€ä¸ªæ›¿ä»£çš„ä½ä»£ç åº“ï¼Œå¯ä»¥ç”¨æ¥ç”¨å‡ è¡Œä»£ç æ›¿æ¢æ•°ç™¾è¡Œä»£ç ã€‚è¿™ä½¿å¾—å®éªŒå‘¨æœŸæˆå€åœ°å¿«é€Ÿå’Œæœ‰æ•ˆã€‚</p><p id="3808" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">PyCaretæ˜¯<strong class="ly ja">ç®€å•</strong>T4ã€‘å¥½ç”¨ã€‚PyCaretä¸­æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œéƒ½é¡ºåºå­˜å‚¨åœ¨ä¸€ä¸ª<strong class="ly ja">ç®¡é“</strong>ä¸­ï¼Œè¯¥ç®¡é“å¯¹äº<strong class="ly ja">éƒ¨ç½²æ˜¯å®Œå…¨è‡ªåŠ¨åŒ–çš„ã€‚</strong>æ— è®ºæ˜¯è¾“å…¥ç¼ºå¤±å€¼ã€ä¸€é”®ç¼–ç ã€è½¬æ¢åˆ†ç±»æ•°æ®ã€ç‰¹å¾å·¥ç¨‹ï¼Œç”šè‡³æ˜¯è¶…å‚æ•°è°ƒæ•´ï¼ŒPyCaretéƒ½å®ç°äº†è‡ªåŠ¨åŒ–ã€‚</p><p id="2f85" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">è¦äº†è§£æ›´å¤šå…³äºPyCaretçš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä»–ä»¬çš„GitHubã€‚</p><h1 id="58a5" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">ğŸ‘‰æ­£åœ¨å®‰è£…PyCaret</h1><p id="fb3b" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">å®‰è£…PyCaretéå¸¸å®¹æ˜“ï¼Œåªéœ€è¦å‡ åˆ†é’Ÿã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒæ¥é¿å…ä¸å…¶ä»–åº“çš„æ½œåœ¨å†²çªã€‚</p><p id="e833" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">PyCaretçš„é»˜è®¤å®‰è£…æ˜¯pycaretçš„ç²¾ç®€ç‰ˆæœ¬ï¼Œå®ƒåªå®‰è£…è¿™é‡Œåˆ—å‡ºçš„<a class="ae nw" href="https://github.com/pycaret/pycaret/blob/master/requirements.txt" rel="noopener ugc nofollow" target="_blank">ç¡¬ä¾èµ–é¡¹</a>ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="09ce" class="ms lf iq ny b gy oc od l oe of"><strong class="ny ja"># install slim version (default)<br/></strong>pip install pycaret</span><span id="4710" class="ms lf iq ny b gy og od l oe of"><strong class="ny ja"># install the full version</strong><br/>pip install pycaret[full]</span></pre><p id="d3ae" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">å½“æ‚¨å®‰è£…pycaretçš„å®Œæ•´ç‰ˆæœ¬æ—¶ï¼Œè¿™é‡Œåˆ—å‡ºçš„æ‰€æœ‰å¯é€‰ä¾èµ–é¡¹<a class="ae nw" href="https://github.com/pycaret/pycaret/blob/master/requirements-optional.txt" rel="noopener ugc nofollow" target="_blank">ä¹Ÿä¼šè¢«å®‰è£…ã€‚</a></p><h1 id="4817" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">ğŸ‘‰ä»€ä¹ˆæ˜¯å¼‚å¸¸æ£€æµ‹</h1><p id="78a3" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">å¼‚å¸¸æ£€æµ‹æ˜¯ä¸€ç§ç”¨äºè¯†åˆ«<strong class="ly ja">ç½•è§é¡¹ç›®ã€äº‹ä»¶æˆ–è§‚å¯Ÿç»“æœ</strong>çš„æŠ€æœ¯ï¼Œè¿™äº›é¡¹ç›®ã€äº‹ä»¶æˆ–è§‚å¯Ÿç»“æœé€šè¿‡ä¸å¤§å¤šæ•°æ•°æ®æ˜¾è‘—ä¸åŒè€Œå¼•èµ·æ€€ç–‘ã€‚</p><p id="bd2d" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">é€šå¸¸ï¼Œå¼‚å¸¸é¡¹ç›®ä¼šè½¬åŒ–ä¸ºæŸç§é—®é¢˜ï¼Œä¾‹å¦‚:</p><ul class=""><li id="3932" class="nd ne iq ly b lz nr mc ns mf oh mj oi mn oj mr ni nj nk nl bi translated">é“¶è¡Œè¯ˆéª—ï¼Œ</li><li id="8f4c" class="nd ne iq ly b lz nm mc nn mf no mj np mn nq mr ni nj nk nl bi translated">ç»“æ„ç¼ºé™·ï¼Œ</li><li id="0e2b" class="nd ne iq ly b lz nm mc nn mf no mj np mn nq mr ni nj nk nl bi translated">åŒ»ç–—é—®é¢˜ï¼Œ</li><li id="8596" class="nd ne iq ly b lz nm mc nn mf no mj np mn nq mr ni nj nk nl bi translated">é”™è¯¯ç­‰ã€‚</li></ul><p id="9d45" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">å¼‚å¸¸æ£€æµ‹ç®—æ³•å¯ä»¥å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ç±»:</p><p id="8e4c" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated"><strong class="ly ja"> (a)å—ç›‘ç£:</strong>å½“æ•°æ®é›†å…·æœ‰æ ‡è¯†å“ªäº›äº¤æ˜“æ˜¯å¼‚å¸¸çš„ã€å“ªäº›æ˜¯æ­£å¸¸çš„æ ‡ç­¾æ—¶ä½¿ç”¨ã€‚<em class="ok">(è¿™ç±»ä¼¼äºç›‘ç£åˆ†ç±»é—®é¢˜)</em>ã€‚</p><p id="e656" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated"><strong class="ly ja"> (b)æ— ç›‘ç£:</strong>æ— ç›‘ç£æ„å‘³ç€æ²¡æœ‰æ ‡ç­¾ï¼Œæ¨¡å‹åœ¨å®Œæ•´æ•°æ®ä¸Šè®­ç»ƒï¼Œå¹¶å‡è®¾å¤§å¤šæ•°å®ä¾‹æ˜¯æ­£å¸¸çš„ã€‚</p><p id="bfbc" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated"><strong class="ly ja"> (c)åŠç›‘ç£:</strong>ä»…æ ¹æ®æ­£å¸¸æ•°æ®è®­ç»ƒæ¨¡å‹<em class="ok">(æ²¡æœ‰ä»»ä½•å¼‚å¸¸)</em>ã€‚å½“è®­ç»ƒå¥½çš„æ¨¡å‹ç”¨äºæ–°çš„æ•°æ®ç‚¹æ—¶ï¼Œå®ƒå¯ä»¥é¢„æµ‹æ–°çš„æ•°æ®ç‚¹æ˜¯å¦æ­£å¸¸(åŸºäºæ•°æ®åœ¨è®­ç»ƒå¥½çš„æ¨¡å‹ä¸­çš„åˆ†å¸ƒ)ã€‚</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ol"><img src="../Images/bacba4e4bc3d9494b790808eddce1f69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*viL5WxtnFLMCyFXo"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">å¼‚å¸¸æ£€æµ‹ä¸šåŠ¡ç”¨ä¾‹</p></figure><h1 id="a951" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">ğŸ‘‰PyCaretå¼‚å¸¸æ£€æµ‹æ¨¡å—</h1><p id="7ff2" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">PyCaretçš„<a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/api/anomaly.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ly ja">å¼‚å¸¸æ£€æµ‹</strong> </a>æ¨¡å—æ˜¯ä¸€ä¸ªæ— ç›‘ç£çš„æœºå™¨å­¦ä¹ æ¨¡å—ï¼Œç”¨äºè¯†åˆ«<strong class="ly ja">ç¨€æœ‰é¡¹</strong>ã€<strong class="ly ja">äº‹ä»¶ã€</strong>æˆ–<strong class="ly ja">è§‚æµ‹å€¼ã€‚</strong>æä¾›è¶…è¿‡15ç§ç®—æ³•å’Œ<a class="ae nw" href="https://www.pycaret.org/plot-model" rel="noopener ugc nofollow" target="_blank">å‡ ä¸ªå›¾</a>æ¥åˆ†æè®­ç»ƒæ¨¡å‹çš„ç»“æœã€‚</p><h1 id="3476" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">ğŸ‘‰èµ„æ–™ç»„</h1><p id="cd8f" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">æˆ‘å°†ä½¿ç”¨çº½çº¦å¸‚å‡ºç§Ÿè½¦ä¹˜å®¢æ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†åŒ…å«ä»2014å¹´7æœˆåˆ°2015å¹´1æœˆæ¯åŠå°æ—¶ä¸€æ¬¡çš„å‡ºç§Ÿè½¦ä¹˜å®¢æ•°é‡ã€‚ä½ å¯ä»¥ä»<a class="ae nw" href="https://raw.githubusercontent.com/numenta/NAB/master/data/realKnownCause/nyc_taxi.csv" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>ä¸‹è½½æ•°æ®é›†ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="e80d" class="ms lf iq ny b gy oc od l oe of">import pandas as pd<br/>data = pd.read_csv('<a class="ae nw" href="https://raw.githubusercontent.com/numenta/NAB/master/data/realKnownCause/nyc_taxi.csv" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/numenta/NAB/master/data/realKnownCause/nyc_taxi.csv</a>')</span><span id="5919" class="ms lf iq ny b gy og od l oe of">data['timestamp'] = pd.to_datetime(data['timestamp'])</span><span id="c2dd" class="ms lf iq ny b gy og od l oe of">data.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi om"><img src="../Images/0298d26749b258a8a64b71d774528b64.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*PR6dPBsezOTlHg23y6HJLA.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">ä»æ•°æ®ä¸­æŠ½å–æ ·æœ¬</p></figure><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="2731" class="ms lf iq ny b gy oc od l oe of"><strong class="ny ja"># create moving-averages<br/></strong>data['MA48'] = data['value'].rolling(48).mean()<br/>data['MA336'] = data['value'].rolling(336).mean()</span><span id="971c" class="ms lf iq ny b gy og od l oe of"># plot <br/>import plotly.express as px<br/>fig = px.line(data, x="timestamp", y=['value', 'MA48', 'MA336'], title='NYC Taxi Trips', template = 'plotly_dark')<br/>fig.show()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi on"><img src="../Images/b543b8c422f79d681723d7b85436497d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7_u3piw7krj-g_hw98pYxA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">å€¼ã€ç§»åŠ¨å¹³å‡å€¼(48)å’Œç§»åŠ¨å¹³å‡å€¼(336)</p></figure><h1 id="baac" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">ğŸ‘‰æ•°æ®å‡†å¤‡</h1><p id="1e65" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">ç”±äºç®—æ³•ä¸èƒ½ç›´æ¥ä½¿ç”¨æ—¥æœŸæˆ–æ—¶é—´æˆ³æ•°æ®ï¼Œæˆ‘ä»¬å°†ä»æ—¶é—´æˆ³ä¸­æå–ç‰¹å¾ï¼Œå¹¶åœ¨è®­ç»ƒæ¨¡å‹ä¹‹å‰åˆ é™¤å®é™…çš„æ—¶é—´æˆ³åˆ—ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="f3ad" class="ms lf iq ny b gy oc od l oe of"><strong class="ny ja"># drop moving-average columns<br/></strong>data.drop(['MA48', 'MA336'], axis=1, inplace=True)</span><span id="e56c" class="ms lf iq ny b gy og od l oe of"><strong class="ny ja"># set timestamp to index</strong><br/>data.set_index('timestamp', drop=True, inplace=True)</span><span id="6835" class="ms lf iq ny b gy og od l oe of"><strong class="ny ja"># resample timeseries to hourly </strong><br/>data = data.resample('H').sum()</span><span id="2b44" class="ms lf iq ny b gy og od l oe of"><strong class="ny ja"># creature features from date</strong><br/>data['day'] = [i.day for i in data.index]<br/>data['day_name'] = [i.day_name() for i in data.index]<br/>data['day_of_year'] = [i.dayofyear for i in data.index]<br/>data['week_of_year'] = [i.weekofyear for i in data.index]<br/>data['hour'] = [i.hour for i in data.index]<br/>data['is_weekday'] = [i.isoweekday() for i in data.index]</span><span id="fa71" class="ms lf iq ny b gy og od l oe of">data.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oo"><img src="../Images/ada7d3c394550af638721bcb89723431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tEOAoRNWE6Djjqw4TAzDrg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">è½¬æ¢åæ•°æ®çš„æ ·æœ¬è¡Œ</p></figure><h1 id="fd0e" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">ğŸ‘‰å®éªŒè®¾ç½®</h1><p id="d214" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">å¯¹äºPyCaretä¸­çš„æ‰€æœ‰æ¨¡å—æ¥è¯´ï¼Œ<code class="fe op oq or ny b">setup</code>å‡½æ•°æ˜¯åœ¨PyCaretä¸­å¼€å§‹ä»»ä½•æœºå™¨å­¦ä¹ å®éªŒçš„ç¬¬ä¸€ä¸ªä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªå¼ºåˆ¶æ­¥éª¤ã€‚é™¤äº†é»˜è®¤æ‰§è¡Œä¸€äº›åŸºæœ¬çš„å¤„ç†ä»»åŠ¡ä¹‹å¤–ï¼ŒPyCaretè¿˜æä¾›äº†å¤§é‡çš„é¢„å¤„ç†ç‰¹æ€§ã€‚è¦äº†è§£PyCaretä¸­æ‰€æœ‰é¢„å¤„ç†åŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹è¿™ä¸ª<a class="ae nw" href="https://pycaret.org/preprocessing/" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a>ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="d203" class="ms lf iq ny b gy oc od l oe of"><strong class="ny ja"># init setup</strong><br/>from pycaret.anomaly import *<br/>s = setup(data, session_id = 123)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi os"><img src="../Images/1425bebc367a2558fac812ae41444fc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XtjlemIJlJzHWC_jdEuUxA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">pycaret .å¼‚å¸¸æ¨¡å—ä¸­çš„è®¾ç½®å‡½æ•°</p></figure><p id="6882" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">æ¯å½“åœ¨PyCaretä¸­åˆå§‹åŒ–<code class="fe op oq or ny b">setup</code>å‡½æ•°æ—¶ï¼Œå®ƒéƒ½ä¼šåˆ†ææ•°æ®é›†å¹¶æ¨æ–­æ‰€æœ‰è¾“å…¥è¦ç´ çš„æ•°æ®ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°<code class="fe op oq or ny b">day_name</code>å’Œ<code class="fe op oq or ny b">is_weekday</code>è¢«æ¨æ–­ä¸ºåˆ†ç±»çš„ï¼Œå…¶ä½™ä¸ºæ•°å­—ã€‚æ‚¨å¯ä»¥æŒ‰enteré”®ç»§ç»­ã€‚</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/bf1315d3695360dd1bf49721f4b46fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*Za0hBYrKkUCWIZOBwO6cYg.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">è®¾ç½®çš„è¾“å‡ºâ€”ä¸ºæ˜¾ç¤ºè€Œæˆªæ–­</p></figure><h1 id="0434" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">ğŸ‘‰æ¨¡ç‰¹åŸ¹è®­</h1><p id="135e" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">è¦æ£€æŸ¥æ‰€æœ‰å¯ç”¨ç®—æ³•çš„åˆ—è¡¨:</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="8f79" class="ms lf iq ny b gy oc od l oe of"><strong class="ny ja"># check list of available models</strong><br/>models()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/bb852bb24424895c694b32121fe02bbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*ukgNW9AQxGMQJp46ZVdQgQ.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">æ¨¡å‹()å‡½æ•°çš„è¾“å‡º</p></figure><p id="1e8a" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯éš”ç¦»æ—ï¼Œä½†æ˜¯æ‚¨å¯ä»¥å°†ä¸‹é¢ä»£ç ä¸­çš„IDâ€˜I Forestâ€™æ›¿æ¢ä¸ºä»»ä½•å…¶ä»–æ¨¡å‹IDæ¥æ›´æ”¹ç®—æ³•ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºéš”ç¦»æ£®æ—ç®—æ³•çš„çŸ¥è¯†ï¼Œå¯ä»¥å‚è€ƒ<a class="ae nw" href="https://en.wikipedia.org/wiki/Isolation_forest" rel="noopener ugc nofollow" target="_blank">è¿™æœ¬</a>ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="74d8" class="ms lf iq ny b gy oc od l oe of"><strong class="ny ja"># train model<br/></strong>iforest = create_model('iforest', fraction = 0.1)<br/>iforest_results = assign_model(iforest)<br/>iforest_results.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ov"><img src="../Images/8141ecdd940d19bef0e90e6c57eec09b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZqqojxS5Ef99RFxXwV7m_w.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">iforest_resultsä¸­çš„ç¤ºä¾‹è¡Œ</p></figure><p id="ea30" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">æ³¨æ„ï¼Œé™„åŠ äº†ä¸¤ä¸ªæ–°åˆ—ï¼Œå³<code class="fe op oq or ny b"><strong class="ly ja">Anomaly</strong></code> <strong class="ly ja"> </strong>ï¼Œå…¶åŒ…å«ç”¨äºç¦»ç¾¤å€¼çš„å€¼1å’Œç”¨äºå†…è”å€¼çš„å€¼0ï¼Œä»¥åŠ<code class="fe op oq or ny b"><strong class="ly ja">Anomaly_Score</strong></code> <strong class="ly ja"> </strong>ï¼Œå…¶æ˜¯ä½œä¸ºåˆ¤å®šå‡½æ•°çš„è¿ç»­å€¼(åœ¨å†…éƒ¨ï¼Œç®—æ³•è®¡ç®—åŸºäºå…¶ç¡®å®šå¼‚å¸¸çš„åˆ†æ•°)ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="273d" class="ms lf iq ny b gy oc od l oe of"><strong class="ny ja"># check anomalies<br/></strong>iforest_results[iforest_results['Anomaly'] == 1].head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ow"><img src="../Images/74136acecc008aa464118a0b80a0b92f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HaOFOsWbixByVdRBK-FkfQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">iforest_resultsä¸­çš„ç¤ºä¾‹è¡Œ(è¿‡æ»¤åˆ°å¼‚å¸¸== 1)</p></figure><p id="b810" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">æˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨å›¾ä¸Šç”»å‡ºå¼‚å¸¸æ¥å½¢è±¡åŒ–ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="7cc1" class="ms lf iq ny b gy oc od l oe of">import plotly.graph_objects as go</span><span id="f058" class="ms lf iq ny b gy og od l oe of"><strong class="ny ja"># plot value on y-axis and date on x-axis</strong><br/>fig = px.line(iforest_results, x=iforest_results.index, y="value", title='NYC TAXI TRIPS - UNSUPERVISED ANOMALY DETECTION', template = 'plotly_dark')</span><span id="f83c" class="ms lf iq ny b gy og od l oe of"><strong class="ny ja"># create list of outlier_dates</strong><br/>outlier_dates = iforest_results[iforest_results['Anomaly'] == 1].index</span><span id="20c9" class="ms lf iq ny b gy og od l oe of"><strong class="ny ja"># obtain y value of anomalies to plot</strong><br/>y_values = [iforest_results.loc[i]['value'] for i in outlier_dates]</span><span id="40d3" class="ms lf iq ny b gy og od l oe of">fig.add_trace(go.Scatter(x=outlier_dates, y=y_values, mode = 'markers', <br/>                name = 'Anomaly', <br/>                marker=dict(color='red',size=10)))<br/>        <br/>fig.show()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ox"><img src="../Images/b8fbdc6fe2d123ffe0f8600a1664b227.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xg78KCHEgSRVbY4lKOX3Kw.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">çº½çº¦å¸‚å‡ºç§Ÿè½¦å‡ºè¡Œâ€”æ— äººç›‘ç®¡çš„å¼‚å¸¸æ£€æµ‹</p></figure><p id="2c3c" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">è¯·æ³¨æ„ï¼Œè¯¥æ¨¡å‹åœ¨1æœˆ1æ—¥(æ–°å¹´å‰å¤•)å·¦å³é€‰å–äº†å‡ ä¸ªå¼‚å¸¸ã€‚è¯¥æ¨¡å‹è¿˜åœ¨1æœˆ18æ—¥-1æœˆ22æ—¥å·¦å³æ£€æµ‹åˆ°äº†ä¸€äº›å¼‚å¸¸ç°è±¡ï¼Œå½“æ—¶åŒ—ç¾æš´é£é›ª(ä¸€ç§å¿«é€Ÿç§»åŠ¨çš„ç ´åæ€§æš´é£é›ª)ç©¿è¿‡ä¸œåŒ—éƒ¨ï¼Œåœ¨çº½çº¦å¸‚å‘¨å›´åœ°åŒºå€¾å€’äº†30å˜ç±³ã€‚</p><p id="ecd4" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">å¦‚æœä½ åœ¨è°·æ­Œä¸Šæœç´¢å›¾è¡¨ä¸Šå…¶ä»–çº¢ç‚¹å‘¨å›´çš„æ—¥æœŸï¼Œä½ å¯èƒ½ä¼šå‘ç°ä¸ºä»€ä¹ˆè¿™äº›ç‚¹è¢«æ¨¡å‹<em class="ok">(å¸Œæœ›)</em>è§†ä¸ºå¼‚å¸¸çš„çº¿ç´¢ã€‚</p><p id="bf87" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">æˆ‘å¸Œæœ›ä½ ä¼šå–œæ¬¢PyCaretçš„æ˜“ç”¨æ€§å’Œç®€å•æ€§ã€‚åœ¨çŸ­çŸ­å‡ è¡Œä»£ç å’Œå‡ åˆ†é’Ÿçš„å®éªŒä¸­ï¼Œæˆ‘è®­ç»ƒäº†ä¸€ä¸ªæ— ç›‘ç£çš„å¼‚å¸¸æ£€æµ‹æ¨¡å‹ï¼Œå¹¶æ ‡è®°äº†æ•°æ®é›†ä»¥æ£€æµ‹æ—¶é—´åºåˆ—æ•°æ®ä¸Šçš„å¼‚å¸¸ã€‚</p><h1 id="b400" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">å³å°†æ¨å‡ºï¼</h1><p id="6576" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">ä¸‹å‘¨æˆ‘å°†å†™ä¸€ç¯‡ä½¿ç”¨<a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/api/regression.html" rel="noopener ugc nofollow" target="_blank"> PyCaretå›å½’æ¨¡å—</a>åœ¨PyCaretä¸­è®­ç»ƒå®šåˆ¶æ¨¡å‹çš„æ•™ç¨‹ã€‚ä½ å¯ä»¥åœ¨<a class="ae nw" href="https://medium.com/@moez-62905" rel="noopener"> Medium </a>ã€<a class="ae nw" href="https://www.linkedin.com/in/profile-moez/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>å’Œ<a class="ae nw" href="https://twitter.com/moezpycaretorg1" rel="noopener ugc nofollow" target="_blank"> Twitter </a>ä¸Šå…³æ³¨æˆ‘ï¼Œæ¯å½“æœ‰æ–°æ•™ç¨‹å‘å¸ƒæ—¶ï¼Œä½ éƒ½ä¼šæ”¶åˆ°å³æ—¶é€šçŸ¥ã€‚</p></div><div class="ab cl oy oz hu pa" role="separator"><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd"/></div><div class="ij ik il im in"><p id="4eac" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">ä½¿ç”¨Pythonä¸­çš„è¿™ä¸ªè½»é‡çº§å·¥ä½œæµè‡ªåŠ¨åŒ–åº“ï¼Œæ‚¨å¯ä»¥å®ç°çš„ç›®æ ‡æ˜¯æ— é™çš„ã€‚å¦‚æœä½ è§‰å¾—è¿™å¾ˆæœ‰ç”¨ï¼Œè¯·ä¸è¦å¿˜è®°ç»™æˆ‘ä»¬GitHubåº“ä¸Šçš„â­ï¸ã€‚</p><p id="170f" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">æƒ³äº†è§£æ›´å¤šå…³äºPyCaretçš„ä¿¡æ¯ï¼Œè¯·åœ¨LinkedInå’ŒYoutubeä¸Šå…³æ³¨æˆ‘ä»¬ã€‚</p><p id="31a0" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated">åŠ å…¥æˆ‘ä»¬çš„ä¼‘é—²é¢‘é“ã€‚é‚€è¯·é“¾æ¥<a class="ae nw" href="https://join.slack.com/t/pycaret/shared_invite/zt-p7aaexnl-EqdTfZ9U~mF0CwNcltffHg" rel="noopener ugc nofollow" target="_blank">æ­¤å¤„</a>ã€‚</p><h1 id="05d9" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">æ‚¨å¯èƒ½è¿˜å¯¹ä»¥ä¸‹å†…å®¹æ„Ÿå…´è¶£:</h1><p id="227a" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated"><a class="ae nw" rel="noopener" target="_blank" href="/build-your-own-automl-in-power-bi-using-pycaret-8291b64181d">ä½¿ç”¨PyCaret 2.0 </a> <br/> <a class="ae nw" rel="noopener" target="_blank" href="/deploy-machine-learning-pipeline-on-cloud-using-docker-container-bec64458dc01">åœ¨Power BIä¸­æ„å»ºæ‚¨è‡ªå·±çš„AutoMLä½¿ç”¨Docker </a> <br/> <a class="ae nw" rel="noopener" target="_blank" href="/deploy-machine-learning-model-on-google-kubernetes-engine-94daac85108b">åœ¨Azureä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ ç®¡é“åœ¨Google Kuberneteså¼•æ“ä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ ç®¡é“</a> <br/> <a class="ae nw" rel="noopener" target="_blank" href="/deploy-machine-learning-pipeline-on-aws-fargate-eb6e1c50507">åœ¨AWS Fargateä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ ç®¡é“</a> <br/> <a class="ae nw" rel="noopener" target="_blank" href="/build-and-deploy-your-first-machine-learning-web-app-e020db344a99">æ„å»ºå¹¶éƒ¨ç½²æ‚¨çš„ç¬¬ä¸€ä¸ªæœºå™¨å­¦ä¹ webåº”ç”¨</a> <br/> <a class="ae nw" rel="noopener" target="_blank" href="/deploy-pycaret-and-streamlit-app-using-aws-fargate-serverless-infrastructure-8b7d7c0584c2">ä½¿ç”¨AWS Fargate server less</a><br/><a class="ae nw" rel="noopener" target="_blank" href="/build-and-deploy-machine-learning-web-app-using-pycaret-and-streamlit-28883a569104">éƒ¨ç½²PyCaretå’ŒStreamlitåº”ç”¨</a></p><h1 id="f648" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">é‡è¦é“¾æ¥</h1><p id="b446" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated"><a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/installation.html" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a> <br/> <a class="ae nw" href="https://medium.com/@moez_62905" rel="noopener">åšå®¢</a><br/><a class="ae nw" href="http://www.github.com/pycaret/pycaret" rel="noopener ugc nofollow" target="_blank">GitHub</a><br/><a class="ae nw" href="https://stackoverflow.com/questions/tagged/pycaret" rel="noopener ugc nofollow" target="_blank">stack overflow</a><br/><a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/installation.html" rel="noopener ugc nofollow" target="_blank">å®‰è£…PyCaret <br/> </a> <a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/tutorials.html" rel="noopener ugc nofollow" target="_blank">ç¬”è®°æœ¬æ•™ç¨‹<br/> </a> <a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/contribute.html" rel="noopener ugc nofollow" target="_blank">è´¡çŒ®äºPyCaret </a></p><h1 id="0711" class="le lf iq bd lg lh li lj lk ll lm ln lo kf lp kg lq ki lr kj ls kl lt km lu lv bi translated">æƒ³äº†è§£æŸä¸ªç‰¹å®šæ¨¡å—ï¼Ÿ</h1><p id="e097" class="pw-post-body-paragraph lw lx iq ly b lz ma ka mb mc md kd me mf mg mh mi mj mk ml mm mn mo mp mq mr ij bi translated">å•å‡»ä¸‹é¢çš„é“¾æ¥æŸ¥çœ‹æ–‡æ¡£å’Œå·¥ä½œç¤ºä¾‹ã€‚</p><p id="53ee" class="pw-post-body-paragraph lw lx iq ly b lz nr ka mb mc ns kd me mf nt mh mi mj nu ml mm mn nv mp mq mr ij bi translated"><a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/api/classification.html" rel="noopener ugc nofollow" target="_blank">åˆ†ç±»<br/> </a> <a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/api/regression.html" rel="noopener ugc nofollow" target="_blank">å›å½’</a> <br/> <a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/api/clustering.html" rel="noopener ugc nofollow" target="_blank">èšç±»</a><br/>T29ã€‘å¼‚å¸¸æ£€æµ‹ <br/> <a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/api/nlp.html" rel="noopener ugc nofollow" target="_blank">è‡ªç„¶è¯­è¨€å¤„ç†<br/> </a> <a class="ae nw" href="https://pycaret.readthedocs.io/en/latest/api/arules.html" rel="noopener ugc nofollow" target="_blank">å…³è”è§„åˆ™æŒ–æ˜</a></p></div></div>    
</body>
</html>