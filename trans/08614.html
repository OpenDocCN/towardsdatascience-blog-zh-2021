<html>
<head>
<title>Network Analysis and Visualization of Drug-Drug Interactions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">药物-药物相互作用的网络分析和可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/network-analysis-and-visualization-of-drug-drug-interactions-1e0b41d0d3df?source=collection_archive---------12-----------------------#2021-08-09">https://towardsdatascience.com/network-analysis-and-visualization-of-drug-drug-interactions-1e0b41d0d3df?source=collection_archive---------12-----------------------#2021-08-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f22a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何使用NetworkX、Pyvis和Datapane探索和可视化药物相互作用数据(Python格式)</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5832116997f256453c52ec3b1737158d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHvQTO2deQzo1yt30ZBHOA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据子集上药物-药物相互作用的可视化|作者图片</p></figure><p id="d65a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi lu translated"><span class="l lv lw lx bm ly lz ma mb mc di"> D </span> <strong class="la iu">药物-药物相互作用</strong>当两种或两种以上的药物相互反应时，就会发生药物-药物相互作用，导致意想不到的(且可能致命的)不良反应。</p><p id="4a5b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为一名具有临床药学背景的数据科学家，我热衷于利用我的领域知识来探索药物相互作用的数据。</p><p id="0fa4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">药物-药物相互作用涉及多个实体之间的联系，因此将<strong class="la iu">网络作为核心概念来分析这些药物相互作用是合适的。</strong></p><h1 id="6e81" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">内容</h1><blockquote class="mv mw mx"><p id="b6b7" class="ky kz my la b lb lc ju ld le lf jx lg mz li lj lk na lm ln lo nb lq lr ls lt im bi translated"><strong class="la iu"><em class="it">(1)</em></strong><em class="it"/><a class="ae nc" href="#1a92" rel="noopener ugc nofollow"><em class="it">数据采集和准备</em></a><em class="it"><br/></em><strong class="la iu"><em class="it">(2)</em></strong><em class="it"/><a class="ae nc" href="#ed0c" rel="noopener ugc nofollow"><em class="it">网络分析用NetworkX</em></a><em class="it"><br/></em><strong class="la iu"><em class="it"/></strong><a class="ae nc" href="#b836" rel="noopener ugc nofollow"><em class="it">可视化用Pyvis和Data pane<em class="it"/></em></a></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/021779ac1bccd2adde9a9ac415acad10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BWVyR9mNBHwDfKh5"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Volodymyr Hryshchenko 在<a class="ae nc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="93bf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="my">免责声明</em> </strong> <em class="my">:本文是</em> <strong class="la iu"> <em class="my">而非</em> </strong> <em class="my">意在提供任何形式的医学意见或建议。请向您的医生或药剂师咨询与任何药物治疗相关的专业建议。</em></p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="1a92" class="md me it bd mf mg nl mi mj mk nm mm mn jz nn ka mp kc no kd mr kf np kg mt mu bi translated">(1)数据采集和准备</h1><p id="2d3d" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">斯坦福网络分析项目(<a class="ae nc" href="http://snap.stanford.edu/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> SNAP </strong> </a>)有一个公共的<a class="ae nc" href="http://snap.stanford.edu/biodata/" rel="noopener ugc nofollow" target="_blank">生物医学网络数据集集合</a>，包含许多具有实体间关系信息的数据集。一些例子包括疾病-药物关联，生物过程之间的关系，甚至蝴蝶之间的相似性网络。</p><p id="e792" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我为这个项目使用了<a class="ae nc" href="http://snap.stanford.edu/biodata/datasets/10001/10001-ChCh-Miner.html" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">ChCh-Miner</strong></a><strong class="la iu"/>数据集，它包含了<a class="ae nc" href="https://www.fda.gov/" rel="noopener ugc nofollow" target="_blank">美国食品药品监督管理局(<strong class="la iu"> FDA </strong> ) </a>批准的药物之间的相互作用网络。</p><p id="b95f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">原始数据存储为48，464行和2列的CSV文件，其中每行代表特定药物对之间的相互作用。</p><p id="2779" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些值采用药物库(<strong class="la iu"> DB </strong>)代码的形式，因此需要与实际药物名称相匹配。这是通过从公共<a class="ae nc" href="https://go.drugbank.com/" rel="noopener ugc nofollow" target="_blank">药物库</a>数据库中反复搜索相应的药物名称来手动完成的。</p><p id="98c8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">经过进一步的数据预处理(例如，删除没有药物名称的化合物)，我们得到了一个熊猫数据帧，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/94d032b4944a9a9011a4a21a853bd78b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Otk8Z8cLi6OHMFxFxAenfg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">已处理药物相互作用数据的样本行|作者图片</p></figure><p id="1d82" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该数据集的缺点是没有提供药物相互作用的<strong class="la iu">严重性</strong>。因此，添加了一个填充了<strong class="la iu"> 1的</strong>的自定义列(名为“<em class="my"> Weight </em>”)来表示所有交互的“相等”严重性。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="ed0c" class="md me it bd mf mg nl mi mj mk nm mm mn jz nn ka mp kc no kd mr kf np kg mt mu bi translated">(2)用NetworkX进行网络分析</h1><h2 id="19d9" class="nw me it bd mf nx ny dn mj nz oa dp mn lh ob oc mp ll od oe mr lp of og mt oh bi translated">(一)概述</h2><p id="bd50" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">一个网络只是一个连接对象的集合，它们对于建模<strong class="la iu">实体</strong>(又名节点)之间的<strong class="la iu">关系</strong>(又名边)非常有用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/94dd2d4c0d44aba8114baeabfb54d612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yBHAMLDtOtIr4rVmypIaOA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae nc" href="https://github.com/WestHealth/pyvis/blob/master/LICENSE_BSD.txt" rel="noopener ugc nofollow" target="_blank"> pyvis BSD许可</a>下使用的网络|图像示例</p></figure><p id="050e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们的数据集中，每一个成对的药物相互作用都是两个节点(即两种药物化合物)之间的关系。</p><p id="b00a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们在药物实体之间有一堆<strong class="la iu"> <em class="my">无向</em> </strong>链接，我们可以继续用<a class="ae nc" href="https://networkx.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> NetworkX </strong> </a>进行网络分析，这是一个用于创建、操作和研究网络的Python包。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="29d8" class="nw me it bd mf nx ny dn mj nz oa dp mn lh ob oc mp ll od oe mr lp of og mt oh bi translated">(二)网络图的创建</h2><p id="ef5f" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">NetworkX可以用<code class="fe oj ok ol om b">pip install networkx[default]</code>安装的<a class="ae nc" href="https://networkx.org/documentation/stable/install.html" rel="noopener ugc nofollow" target="_blank"/></p><p id="976b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">完成后，我们从药物相互作用熊猫数据帧中生成一个<strong class="la iu">网络图对象</strong>，并检索网络图的基本摘要:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/85fba76ad441fde43e775710696690d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ki_GJmGNEkc9ivTI_lyHjA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<strong class="bd oq">无向</strong>药物相互作用网络图的总结结果|图片由作者提供</p></figure><p id="dde9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以看到，该网络共有<strong class="la iu"> 1，505 </strong>个药物实体(节点)，有48，224个记录的相互作用(边)。</p><p id="59f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">平均<strong class="la iu">度</strong>为<strong class="la iu"> 64 </strong>，意味着每种药物一般平均与64种其他药物相互作用。(<em class="my">在后面的章节中更多关于节点度)</em></p><p id="d242" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">网络密度</strong>描述网络中<em class="my">潜在</em>连接占<em class="my">实际</em>连接的比例，其中<strong class="la iu"> 0 </strong>表示一个没有边的图，<strong class="la iu"> 1 </strong>表示一个所有节点都相互连接的完整图。</p><p id="853a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">0.04的低网络密度是有意义的，因为我们不希望太多的药物相互作用。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="dec0" class="nw me it bd mf nx ny dn mj nz oa dp mn lh ob oc mp ll od oe mr lp of og mt oh bi translated">(三)程度中心性</h2><p id="edb8" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">节点的度是指节点拥有的连接数。当处理网络时，我们处理一个叫做<strong class="la iu">度中心性的关键概念。</strong></p><p id="9f04" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">简单来说，一个节点的度中心性就是它拥有的边数。这意味着具有5个交互的药物节点将具有5个的<strong class="la iu">度中心性。</strong></p><p id="eaed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过计算每个节点的度中心性，我们可以得到<strong class="la iu">前</strong> <strong class="la iu"> 20种最常涉及药物相互作用的药物</strong>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/f675b56327fee01d5daeec8f6878592f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kdG51dIlf0EuSAhE5y-ZOg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">参与最多相互作用的前20种药物(具有相应的节点度)|作者图片</p></figure><p id="188a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的输出显示，药物相互作用中最常涉及的药物是<strong class="la iu">苯妥英钠，</strong>，节点度为<strong class="la iu"> 442 </strong>。</p><p id="fc5d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae nc" href="https://www.healthhub.sg/a-z/medications/135/phenytoin" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">苯妥英</strong> </a>是一种治疗癫痫发作障碍的常用抗癫痫药物，其血药浓度必须小心保持在一致的水平，以确保其有效性和安全性。</p><div class="os ot gp gr ou ov"><a href="https://www.mediview.sg/keyword/n-zXKQXN/phenytoin/" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">关键词:苯妥英</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">MediView是一个药物图像门户网站，可以充当您口袋中的药房。MediView是1400多个质量…</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">www.mediview.sg</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj ks ov"/></div></div></a></div><p id="affc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是一个涉及苯妥英的药物相互作用的例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/1081c1d5b44bd19868a44908a511496b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9nuynr1ri8p4WG7_G7OynQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用的图像基于<a class="ae nc" href="https://creativecommons.org/licenses/by-nc/4.0/legalcode" rel="noopener ugc nofollow" target="_blank"> Creative Common的署名-非商业性4.0国际许可</a>，如<a class="ae nc" href="https://go.drugbank.com/legal/terms_of_use" rel="noopener ugc nofollow" target="_blank"> DrugBank </a>所示</p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="b836" class="md me it bd mf mg nl mi mj mk nm mm mn jz nn ka mp kc no kd mr kf np kg mt mu bi translated">(Pyvis和DataPane的可视化</h1><h2 id="7e2b" class="nw me it bd mf nx ny dn mj nz oa dp mn lh ob oc mp ll od oe mr lp of og mt oh bi translated">(一)概述</h2><p id="83ad" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">使用网络最酷的部分可能是可视化方面。帮助我们轻松构建这种可视化的工具是Pyvis，这是一个Python库，以创建交互式网络图而闻名。</p><p id="7c6e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Pyvis可以用<code class="fe oj ok ol om b">pip install pyvis</code>安装</p><p id="7b7a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从数据帧创建Pyvis可视化的顺序如下:</p><ol class=""><li id="e409" class="pl pm it la b lb lc le lf lh pn ll po lp pp lt pq pr ps pt bi translated">用<code class="fe oj ok ol om b"><a class="ae nc" href="https://networkx.org/documentation/stable/reference/generated/networkx.convert_matrix.from_pandas_edgelist.html" rel="noopener ugc nofollow" target="_blank">nx.from_pandas_edgelist</a></code>方法从包含边列表的Pandas数据帧生成一个NetworkX图。</li><li id="240b" class="pl pm it la b lb pu le pv lh pw ll px lp py lt pq pr ps pt bi translated">用<code class="fe oj ok ol om b"><a class="ae nc" href="https://pyvis.readthedocs.io/en/latest/_modules/pyvis/network.html" rel="noopener ugc nofollow" target="_blank">Network()</a></code>初始化一个Pyvis网络类实例</li><li id="8679" class="pl pm it la b lb pu le pv lh pw ll px lp py lt pq pr ps pt bi translated">用<code class="fe oj ok ol om b">Network()</code>类的<code class="fe oj ok ol om b">.from_nx</code>方法将NetworkX图形转换成Pyvis图形格式</li></ol><p id="b517" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有大量定制可用于构建或修改网络可视化的外观。在我的例子中，我实验了流行的<a class="ae nc" href="https://pyvis.readthedocs.io/en/latest/_modules/pyvis/network.html#Network.repulsion" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">斥力</strong> </a> <strong class="la iu">解算器</strong>和<a class="ae nc" href="https://pyvis.readthedocs.io/en/latest/_modules/pyvis/network.html#Network.barnes_hut" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">巴恩斯小屋</strong> </a> <strong class="la iu">物理模型。</strong></p><p id="27ba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我开始把所有药物相互作用的数据都放入Pyvis Barnes Hut的图表中，作为回报，我得到了一个可怕的海胆相似物网络。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pz"><img src="../Images/ffc7eb35206588ed3dc6479a0d8d6d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pRwPm1VzR1zX-WG04-Q4hQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">完整交互数据集的网络可视化(Barnes Hut物理模型)|作者图片</p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="083f" class="nw me it bd mf nx ny dn mj nz oa dp mn lh ob oc mp ll od oe mr lp of og mt oh bi translated">㈡探索单一药物</h2><p id="b7c7" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">为了使图表更有意义和更易理解，最好是处理更小的数据子集，而不是整个数据集。</p><p id="38c8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为我们之前发现苯妥英具有最多的药物相互作用，所以让我们单独为苯妥英创建一个Pyvis网络(使用排斥解算器):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="qa oo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">苯妥英药物相互作用的网络可视化| <em class="qb">请给可视化加载一些时间</em></p></figure><p id="aaaa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="my">注:如果在移动设备上观看此视频，请点击“</em> <strong class="la iu"> <em class="my">【全屏】”</em> </strong> <em class="my">按钮</em></p><p id="785f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的图像显示苯妥英钠作为<strong class="la iu">中心</strong>节点，被与其相互作用的<strong class="la iu"> 442 </strong>其他药物实体所包围。</p><p id="ee22" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Pyvis的美妙之处在于可视化效果是<strong class="la iu">交互式的</strong>，这意味着你可以将鼠标放在图形上来缩放、指向或拖动节点。</p><p id="d0c9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于Pyvis在本地将图形保存为HTML文件，所以我们需要一个单独的工具来公开共享结果。这就是<a class="ae nc" href="https://datapane.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">数据面板</strong> </a> <strong class="la iu"> </strong>介入争论的地方。</p><p id="5f68" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Datapane是一个开源的Python库，允许用户在web上发布HTML文件和Python绘图等对象，以便共享和可视化。你可以在这里找到我写的上传HTML文件到Datapane <a class="ae nc" href="https://github.com/kennethleungty/Drug-Interactions-Network-Analysis-and-Visualization/blob/main/upload_viz_to_datapane.py" rel="noopener ugc nofollow" target="_blank">的脚本。</a></p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="36d6" class="nw me it bd mf nx ny dn mj nz oa dp mn lh ob oc mp ll od oe mr lp of og mt oh bi translated">㈢探索多种药物</h2><p id="e6ff" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">只看一种药物可能没什么洞察力，所以让我们探索一个由稍大的数据子集组成的网络。</p><p id="6b6f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我挑选了<strong class="la iu">三种</strong>药物(<a class="ae nc" href="https://www.webmd.com/drugs/2/drug-11285-7061/metformin-oral/metformin-oral/details" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">二甲双胍</strong></a><a class="ae nc" href="https://www.webmd.com/drugs/2/drug-6873-9371/lisinopril-oral/lisinopril-oral/details" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">赖诺普利</strong></a><strong class="la iu"/><strong class="la iu">辛伐他汀</strong> )分别在<strong class="la iu">糖尿病</strong><strong class="la iu">高血压</strong>和<strong class="la iu">高脂血症</strong>这三种常见疾病中的关键作用进行深入探讨。</p><p id="20ac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在过滤数据以保留涉及这三种药物中至少一种的相互作用后，得到的图表如下所示(有点类似于<em class="my">水母</em>和<em class="my">花椰菜</em>的形状):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="qa oo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">涉及部分药物(二甲双胍、赖诺普利和辛伐他汀)的药物相互作用的网络可视化|请给可视化加载一些时间</p></figure><p id="8e51" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从网络图中，我们可以很容易地找出与二甲双胍、赖诺普利和/或辛伐他汀有共同相互作用的不同药物。和以前一样，这个网络图是交互式的，所以继续探索吧。</p><p id="0a27" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个有趣的见解是，只有一个实体与所有三种精选药物相互作用(即具有边缘)，该药物是<a class="ae nc" href="https://en.wikipedia.org/wiki/Quinine" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">奎宁</strong> </a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qc"><img src="../Images/9131a55e4ac8cfd9d1fb79ade0a0bc02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ubiIPLcEgU2VikWEuK3alg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奎宁与二甲双胍、赖诺普利和辛伐他汀相互作用|作者图片</p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="cdd1" class="md me it bd mf mg nl mi mj mk nm mm mn jz nn ka mp kc no kd mr kf np kg mt mu bi translated">(4) Python实现代码</h1><p id="2cda" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">我在这个GitHub repo   里面贴了全面的代码和数据<a class="ae nc" href="https://github.com/kennethleungty/Drug-Interactions-Network-Analysis-and-Visualization" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> <em class="my">，所以可以随意探索(和星/叉)里面的内容。</em></strong></a></p><p id="977a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请尝试NetworkX和Pyvis中的其他功能和网络定制，并尝试创建自己的网络！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/9e120e0cb0e7f90fb02c331d3737445a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MtcAkaC-0MY-wNnA"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">费尔南多·埃尔南德斯在<a class="ae nc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="76a6" class="md me it bd mf mg nl mi mj mk nm mm mn jz nn ka mp kc no kd mr kf np kg mt mu bi translated">(5)向前迈进</h1><p id="298d" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">基线分析和可视化完成后，下面是几个潜在的后续步骤:</p><ul class=""><li id="9eee" class="pl pm it la b lb lc le lf lh pn ll po lp pp lt qe pr ps pt bi translated">药物相互作用有不同的严重程度(即轻微、中度、严重)，由于缺乏数据，这一点未被考虑在内。理想的情况是找到并包含该信息，以便边缘可以具有不同的厚度来反映不同的严重性。</li><li id="108a" class="pl pm it la b lb pu le pv lh pw ll px lp py lt qe pr ps pt bi translated">将鼠标悬停在节点和边上时，以弹出窗口的形式添加交互细节</li><li id="98dc" class="pl pm it la b lb pu le pv lh pw ll px lp py lt qe pr ps pt bi translated">将该项目部署为一个Streamlit web应用程序，这样用户就可以自己选择一组药物，并在网络图中显示出来。</li></ul><p id="24bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">更新:</strong>Streamlit部署最近已经完成！请点击这里查看:</p><div class="os ot gp gr ou ov"><a rel="noopener follow" target="_blank" href="/how-to-deploy-interactive-pyvis-network-graphs-on-streamlit-6c401d4c99db"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">如何在Streamlit上部署交互式Pyvis网络图</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">使用Python在线发布您美丽的网络图，并简化它，让全世界都能看到并与之互动</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">towardsdatascience.com</p></div></div><div class="pe l"><div class="qf l pg ph pi pe pj ks ov"/></div></div></a></div></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="9ee4" class="nw me it bd mf nx ny dn mj nz oa dp mn lh ob oc mp ll od oe mr lp of og mt oh bi translated">在你走之前</h2><p id="4be2" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">欢迎您<strong class="la iu">加入我的数据科学学习之旅！</strong>一定要关注这个<a class="ae nc" href="https://kennethleungty.medium.com/" rel="noopener">媒体</a>页面，以便了解更多令人兴奋的数据科学内容，或者访问<a class="ae nc" href="https://linkedin.com/in/kennethleungty" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>。尽情探索网络图吧！</p><div class="os ot gp gr ou ov"><a rel="noopener follow" target="_blank" href="/exploring-illegal-drugs-in-singapore-a-data-perspective-3716a75ee557"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">探索新加坡的非法毒品——数据透视</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">通过Python中的探索性数据分析发现保健品的好、坏、丑</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">towardsdatascience.com</p></div></div><div class="pe l"><div class="qg l pg ph pi pe pj ks ov"/></div></div></a></div><div class="os ot gp gr ou ov"><a rel="noopener follow" target="_blank" href="/covid-19-vaccine-whats-the-public-sentiment-7149c9b42b99"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">新冠肺炎疫苗——公众情绪如何？</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">使用NLP (Stanza、NLTK Vader和TextBlob)对新冠肺炎疫苗推文进行逐步情感分析</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">towardsdatascience.com</p></div></div><div class="pe l"><div class="qh l pg ph pi pe pj ks ov"/></div></div></a></div></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="9dd6" class="nw me it bd mf nx ny dn mj nz oa dp mn lh ob oc mp ll od oe mr lp of og mt oh bi translated">参考</h2><ul class=""><li id="e24b" class="pl pm it la b lb nq le nr lh qi ll qj lp qk lt qe pr ps pt bi translated"><a class="ae nc" href="https://networkx.org/documentation/stable/" rel="noopener ugc nofollow" target="_blank"> <em class="my"> NetworkX文档</em> </a></li><li id="533e" class="pl pm it la b lb pu le pv lh pw ll px lp py lt qe pr ps pt bi translated"><a class="ae nc" href="https://pyvis.readthedocs.io/en/latest/documentation.html" rel="noopener ugc nofollow" target="_blank"> <em class="my"> Pyvis文档</em> </a></li><li id="5770" class="pl pm it la b lb pu le pv lh pw ll px lp py lt qe pr ps pt bi translated"><a class="ae nc" href="https://docs.datapane.com/" rel="noopener ugc nofollow" target="_blank"> <em class="my">数据面板文档</em> </a></li><li id="cf58" class="pl pm it la b lb pu le pv lh pw ll px lp py lt qe pr ps pt bi translated"><a class="ae nc" href="https://programminghistorian.org/en/lessons/exploring-and-analyzing-network-data-with-python" rel="noopener ugc nofollow" target="_blank"> <em class="my">编程历史学家—探索和分析网络数据</em> </a></li><li id="bd43" class="pl pm it la b lb pu le pv lh pw ll px lp py lt qe pr ps pt bi translated"><a class="ae nc" href="https://www.sciencedirect.com/topics/computer-science/degree-centrality" rel="noopener ugc nofollow" target="_blank"> <em class="my">科学直接—程度中心性</em> </a></li></ul></div></div>    
</body>
</html>