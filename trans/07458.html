<html>
<head>
<title>Spotiscience: A Tool for Data Scientists and Music Lovers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spotiscience:数据科学家和音乐爱好者的工具</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/spotiscience-a-tool-for-data-scientists-and-music-lovers-a3e32bd82ed1?source=collection_archive---------25-----------------------#2021-07-07">https://towardsdatascience.com/spotiscience-a-tool-for-data-scientists-and-music-lovers-a3e32bd82ed1?source=collection_archive---------25-----------------------#2021-07-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="77e2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Spotiscience致力于简化下载和预测Spotify音乐数据的工作</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f113cf5e34106ce4a8b6750884b3dae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J9MzRUzMOJY0svNMS2Dodg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">马修·费雷罗在<a class="ae kv" href="https://unsplash.com/s/photos/data-music?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="ee1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谁不喜欢和音乐一起工作？我们中的许多人整天都在电脑的后台进程中运行Spotify，而播放列表中的随机音乐和我们喜欢的艺术家正在用他们的旋律营造一种神奇的氛围。它们提供了充分发挥生产力所必需能量。</p><p id="3e3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了整合我作为数据科学家的工作和我对音乐的热情，我决定创建一个名为“<strong class="ky ir"> Spotiscience </strong>的工具，它允许使用官方Spotify API下载歌曲、艺术家、专辑和播放列表的数据。此外，这些数据被建模以生成新的数据，例如知道一首歌的情绪或歌词的主题，并找到类似的歌曲，这一切听起来很有趣，对吗？如果你想了解更多，请继续阅读这篇文章！</p><h1 id="ba01" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">在本文中，您将学习:</h1><ul class=""><li id="b0cb" class="mk ml iq ky b kz mm lc mn lf mo lj mp ln mq lr mr ms mt mu bi translated">从Spotify API下载歌曲、专辑、播放列表和艺术家的数据</li><li id="5451" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">从API Genius下载歌曲歌词</li><li id="9932" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">预测歌曲的音乐情绪</li><li id="d9e1" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">查找歌词的最相关主题</li><li id="277b" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">从Spotify的专辑、艺术家目录和播放列表中搜索相似的歌曲</li></ul><h1 id="c674" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">索引</h1><h2 id="f87b" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.1 SpotiscienceDownloader</h2><ul class=""><li id="61ed" class="mk ml iq ky b kz mm lc mn lf mo lj mp ln mq lr mr ms mt mu bi translated">初始设置</li><li id="29f8" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">1.1.2歌曲特征的提取</li><li id="8175" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">1.1.3影集提取</li><li id="5447" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">1.1.4提取播放列表</li><li id="b3bf" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">1.1.5播放列表和艺术家信息的提取</li></ul><h2 id="5cba" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.2 SpotisciencePredicter</h2><ul class=""><li id="15fa" class="mk ml iq ky b kz mm lc mn lf mo lj mp ln mq lr mr ms mt mu bi translated">初始设置</li><li id="02cc" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">1.2.2歌曲情绪的预测</li><li id="e5e1" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">1.2.3歌词主题预测</li><li id="13bf" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">1.2.4相似歌曲预测</li></ul><h1 id="01d4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.斑点科学</h1><p id="c64c" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">Spotiscience是我在GitHub上用Python编程创建的一个项目，在这个项目中，你可以与Spotify API和Genius API进行交互，以提取歌曲、专辑、艺术家和播放列表的数据和特征。您还可以分析这些数据来生成新的信息，如情绪预测、主题建模和数学距离，以找到相似的歌曲。要下载Spotiscience，您可以访问Github资源库。</p><div class="np nq gp gr nr ns"><a href="https://github.com/cristobalvch/spotiscience" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">cristobalvch/spot science</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">Spotiscience是一个Python项目，用于提取和建模Spotify和Genius git clone的音乐数据…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">github.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kp ns"/></div></div></a></div><p id="cc1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了理解Spotiscience的应用和配置，我将详细介绍该工具的两个主要类别:</p><h2 id="0ebc" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.1 SpotiscienceDownloader</h2><p id="1268" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">这个类从Spotify API和Genius API中提取数据。</p><h2 id="54ea" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">初始设置</h2><p id="7eb1" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">要使用它，必须进行如下设置:</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="6631" class="na lt iq oi b gy om on l oo op">import spotiscience<br/><br/>#create a dictionary with authorization keys<br/>CREDENTIALS = {}<br/>CREDENTIALS['client_id'] = "your_spotify_client_id"<br/>CREDENTIALS['client_secret'] = "your_spotify_client_secret"<br/>CREDENTIALS['redirect_url'] = "your_redirect_url"<br/>CREDENTIALS['user_id'] = "your_spotify_user_id"<br/>CREDENTIALS['genius_access_token'] = "your_genius_access_token"<br/><br/>"""You also can set your credentials id on credentials.py"""</span><span id="7c69" class="na lt iq oi b gy oq on l oo op"># returns 'downloader class'<br/>sd = spotiscience.SpotiScienceDownloader(credentials=CREDENTIALS)</span></pre><p id="21da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要获得Spotify API和Genius API的授权凭证，您可以观看以下教程:</p><p id="0047" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=cU8YH2rhN6A&amp;t=152s" rel="noopener ugc nofollow" target="_blank">认证Spotify API教程</a></p><p id="3960" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=cU8YH2rhN6A&amp;t=405s" rel="noopener ugc nofollow" target="_blank">认证天才API教程</a></p><p id="52c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要获取您的Spotify帐户的“<strong class="ky ir"> user_id </strong>，您需要打开桌面Spotify应用程序，转到“<strong class="ky ir"> profile </strong>”，然后复制指向profile的链接，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/547d395c7c6e9b06bd7caf58da4a24f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*tri5RtjzgPEPsZ_yaAk3ZQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者照片</p></figure><p id="68d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您将获得这个结果，您的<strong class="ky ir"> user_id </strong>是粗体部分，链接的所有其他部分都可以删除。</p><p id="ab23" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">" https://open . Spotify . com/USER/{<strong class="ky ir">USER _ ID</strong>}？si=9f52cafadbf148b2 "</p><h2 id="accb" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.1.2歌曲特征的提取</h2><p id="43a6" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">要提取歌曲的特征，您应该在Spotify上搜索歌曲，然后复制歌曲的链接，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/2822e99b0e9837d69644c328d014588a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LH4Vu3d7S_USaPMkRHA3Gg.png"/></div></div></figure><p id="04b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，我复制了威肯的歌曲“眩目的灯光”的链接:</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="e6e9" class="na lt iq oi b gy om on l oo op">song_copy_link = "https://open.spotify.com/track/0VjIjW4GlUZAMYd2vXMi3b?si=369f90167c9d48fb"</span><span id="ba55" class="na lt iq oi b gy oq on l oo op">song = sd.get_song_features(song_id=song_copy_link)</span></pre><p id="584f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果将是具有以下歌曲特征的字典。要获得关于这些功能的更多信息，您可以在Web API Spotify 上阅读关于<a class="ae kv" href="https://developer.spotify.com/documentation/web-api/reference/#category-tracks" rel="noopener ugc nofollow" target="_blank">音频功能的官方文档</a></p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="df68" class="na lt iq oi b gy om on l oo op">{'id': '0VjIjW4GlUZAMYd2vXMi3b',<br/> 'name': 'Blinding Lights',<br/> 'artist': 'The Weeknd',<br/> 'album': 'After Hours',<br/> 'release_date': '2020-03-20',<br/> 'popularity': 94,<br/> 'length': 200040,<br/> 'acousticness': 0.00146,<br/> 'danceability': 0.514,<br/> 'energy': 0.73,<br/> 'instrumentalness': 9.54e-05,<br/> 'liveness': 0.0897,<br/> 'valence': 0.334,<br/> 'loudness': -5.934,<br/> 'speechiness': 0.0598,<br/> 'tempo': 171.005,<br/> 'key': 1,<br/> 'time_signature': 4}</span></pre><p id="ac9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您还可以提取歌曲的音乐类型和歌词，如下所示:</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="fe8d" class="na lt iq oi b gy om on l oo op"># Returns song lyric<br/>sd.get_song_lyrics(songname=song['name'],artistname=song['artist'])</span><span id="91b8" class="na lt iq oi b gy oq on l oo op">#Returns song Genre<br/>sd.get_song_music_genre(song_id=song['id'])</span></pre><h2 id="0927" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.1.3影集提取</h2><p id="2c5a" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">要从专辑中提取歌曲的特征，您必须在Spotify上搜索专辑并复制专辑的链接。相册提取方法有一个id参数，接收相册链接的字符串或字符串列表，需要在“False”中指定参数<strong class="ky ir"> is_artist </strong>:</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="3c8e" class="na lt iq oi b gy om on l oo op">#Returns songs features of album or albums</span><span id="48a1" class="na lt iq oi b gy oq on l oo op">albums =[<br/>‘https://open.spotify.com/album/4yP0hdKOZPNshxUOjY0cZj?si=p5ItRNgXRlarmq4cihAVmA&amp;dl_branch=1',<br/>‘https://open.spotify.com/album/6Yf9kML4wT3opmXhTUIfk7?si=clKN-hzuTB236hINPATp-Q&amp;dl_branch=1'<br/>]</span><span id="ac91" class="na lt iq oi b gy oq on l oo op">sd.get_albums_song_features(id=albums,is_artist=False)</span></pre><p id="66d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果将是一个字典，其中的关键字是专辑的名称，内容对应于专辑歌曲的所有特征的列表。</p><p id="bf5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也可以下载艺术家的唱片目录，在这种情况下，参数<strong class="ky ir"> id </strong>只接收一个字符串，需要在“True”中指定<strong class="ky ir"> is_artist </strong>，如下所示:</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="f88a" class="na lt iq oi b gy om on l oo op">#Returns songs features of artist's discography</span><span id="9119" class="na lt iq oi b gy oq on l oo op">artist = 'https://open.spotify.com/artist/4fvA5FEHcdz97gscK90xZa?si=HNLNN7-dS5OR2W9TIUqQug&amp;dl_branch=1'</span><span id="74f0" class="na lt iq oi b gy oq on l oo op">sd.get_albums_song_features(id=artist,is_artist=True)</span></pre><h2 id="71eb" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.1.4提取播放列表</h2><p id="1eea" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">也可以从播放列表中提取歌曲特征。在这种情况下，playlist_id参数只接收一个字符串，要提取的歌曲总数必须指定如下:</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="5493" class="na lt iq oi b gy om on l oo op">#Return song features of playlist</span><span id="e73c" class="na lt iq oi b gy oq on l oo op">playlist = ‘https://open.spotify.com/playlist/37i9dQZF1DXcfZ6moR6J0G?si=da1435f1a0804933'</span><span id="2760" class="na lt iq oi b gy oq on l oo op">sd.get_playlist_song_features(playlist_id=playlist,n_songs=50)</span></pre><p id="5c1a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果将是一个字典，其中的关键字是播放列表的名称，内容对应于一个包含播放列表歌曲所有特性的列表。</p><h2 id="6125" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.1.5播放列表和艺术家信息的提取</h2><p id="7fd9" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">最后，可以如下提取播放列表和艺术家的主要信息:</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="7a69" class="na lt iq oi b gy om on l oo op">playlist = ‘https://open.spotify.com/playlist/37i9dQZF1DXcfZ6moR6J0G?si=da1435f1a0804933'</span><span id="74b5" class="na lt iq oi b gy oq on l oo op">artist = 'metallica'</span><span id="9769" class="na lt iq oi b gy oq on l oo op">#Returns playlist information<br/>sd.get_playlist_information(playlist_id=playlist)</span><span id="fcc6" class="na lt iq oi b gy oq on l oo op">#Returns song information<br/>sd.get_artist_information(artist=artist)</span></pre><p id="9512" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果将是包含播放列表和艺术家信息的2个字典。</p><p id="f41a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了更好地理解所有的SpotiscienceDownloader方法，您可以通过点击<a class="ae kv" href="https://github.com/cristobalvch/spotiscience/blob/main/spotiscience/downloader.py" rel="noopener ugc nofollow" target="_blank">这里</a>来查看GitHub repo中模块downloader.py的源代码。</p><h1 id="4d8d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.2 SpotiSciencePredicter</h1><p id="1473" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">本课程使用监督学习的分类技术对歌曲数据建模，使用自然语言处理对主题建模，使用数学距离对歌曲相似性建模。</p><h2 id="ba6e" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">初始设置</h2><p id="2ff5" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">要设置这个类，您只需要如下调用它:</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="ebd4" class="na lt iq oi b gy om on l oo op">import spotiscience<br/># returns 'predicter class'<br/>sp = spotiscience.SpotiSciencePredicter()</span></pre><h2 id="49a9" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.2.2歌曲情绪的预测</h2><p id="a3e8" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">为了进行歌曲情绪预测，我使用了一种机器学习方法，从Spotify创建的情绪播放列表中标记一组歌曲，然后我用随机森林分类器算法训练一个模型，根据歌曲的特征标记歌曲。</p><p id="13ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于这个话题的更多信息，你可以点击<a class="ae kv" rel="noopener" target="_blank" href="/predicting-the-music-mood-of-a-song-with-deep-learning-c3ac2b45229e">这里</a>阅读我的文章《音乐情绪预测》</p><p id="4727" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要预测情绪，只需传递用SpotiscienceDownloader提取的歌曲数据，如下所示:</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="fda2" class="na lt iq oi b gy om on l oo op">#returns the tag of mood <br/>sp.predict_song_mood(song=song)</span></pre><p id="4322" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果将是一个带有相应情绪类别的字符串，这些类别是；“悲伤、平静、活力和快乐”</p><h2 id="a4c7" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.2.3歌词主题预测</h2><p id="e771" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">歌词的主题预测使用潜在狄利克雷分配模型(LDA)、非负矩阵分解模型(NMF)或潜在语义索引模型(LSI)中的任何算法。为此，我将我的代码基于下面这篇文章，你可以在这里阅读<a class="ae kv" href="https://www.kaggle.com/thebrownviking20/topic-modelling-with-spacy-and-scikit-learn" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="22ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要预测歌词的主题，您必须配置以下参数:</p><p id="6285" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">歌词=歌曲的歌词</p><p id="1601" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">model =要使用的模型[选项有“lsi”、“lda”或“NMF”]</p><p id="4a88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">lang =歌词语言[选项为“英语”或“西班牙语”]</p><p id="4ad9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">n_grams =要分组的单词的子集数</p><p id="5492" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">n_topics =返回主题的数量</p><p id="d50c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">top_n =每个返回主题的字数</p><p id="e08e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于参数n_grams的更多信息，你可以点击<a class="ae kv" href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html" rel="noopener ugc nofollow" target="_blank">这里</a>阅读关于sklearn矢量化的官方文档</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="c8c6" class="na lt iq oi b gy om on l oo op">lyric = song_lyrics<br/>model = 'lda' (available type 'lda', 'lsi', 'nmf')<br/>lang = 'english' (available type 'english','spanish')<br/>n_grams = (1,1)<br/>n_topics = 1<br/>top_n = 5</span><span id="d26d" class="na lt iq oi b gy oq on l oo op">#predict the topics of the song lyric<br/>sp.predict_topic_lyric(lyric,model,lang,n_grams,n_topics,top_n)</span></pre><h2 id="7952" class="na lt iq bd lu nb nc dn ly nd ne dp mc lf nf ng me lj nh ni mg ln nj nk mi nl bi translated">1.2.4相似歌曲预测</h2><p id="2295" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">为了预测歌曲的相似性，我使用曼哈顿距离(l1)和欧几里德距离(l2)来计算歌曲特征之间的距离，并按升序对结果进行排序。</p><p id="e942" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要预测歌曲相似性，您必须配置以下参数:</p><ul class=""><li id="b0b9" class="mk ml iq ky b kz la lc ld lf ot lj ou ln ov lr mr ms mt mu bi translated">object =要比较的参考歌曲</li><li id="7c3c" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">target =要在专辑、播放列表或艺术家中评估的歌曲组</li><li id="ae0b" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">距离=使用距离[选项为“l1”和“L2”]</li><li id="6f13" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">n_features =用于计算距离的歌曲特征的数量</li><li id="589a" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">top_n =在元组结果中返回的歌曲数</li></ul><p id="e483" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于参数n_features的更多信息，可以点击<a class="ae kv" href="https://github.com/cristobalvch/spotiscience/blob/main/spotiscience/prediction.py" rel="noopener ugc nofollow" target="_blank">这里</a>阅读方法的源代码。</p><p id="885e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">例1 </strong>:通过<strong class="ky ir">亚声调</strong>预测“<strong class="ky ir"> Nu Metal Generation </strong>”播放列表中哪些歌曲与歌曲<strong class="ky ir">Change(In the House of Flies)】</strong>最相似。</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="9fac" class="na lt iq oi b gy om on l oo op">playlist_link = "<a class="ae kv" href="https://open.spotify.com/playlist/37i9dQZF1DXcfZ6moR6J0G?si=452e104160384c8e" rel="noopener ugc nofollow" target="_blank">https://open.spotify.com/playlist/37i9dQZF1DXcfZ6moR6J0G?si=452e104160384c8e</a>"</span><span id="3e60" class="na lt iq oi b gy oq on l oo op">song_link = "<a class="ae kv" href="https://open.spotify.com/track/51c94ac31swyDQj9B3Lzs3?si=5aca903582464acd" rel="noopener ugc nofollow" target="_blank">https://open.spotify.com/track/51c94ac31swyDQj9B3Lzs3?si=5aca903582464acd</a>"</span><span id="fa39" class="na lt iq oi b gy oq on l oo op">target = sd.get_playlist_song_features(playlist_link,n_songs=70)<br/>object  = sd.get_song_features(song_link)<br/>distance = 'l2'<br/>n_features = 6<br/>top_n = 10</span><span id="aac2" class="na lt iq oi b gy oq on l oo op">#returns most similar songs from playlist</span><span id="3e91" class="na lt iq oi b gy oq on l oo op">sp.predict_similar_songs(object,target,distance,n_features,top_n)</span></pre><p id="0952" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">例2 </strong>:预测“<strong class="ky ir">杜阿·利帕</strong>唱片公司的哪些歌曲与“<strong class="ky ir">威肯</strong>的歌曲“<strong class="ky ir">眩目的灯光</strong>”最相似</p><pre class="kg kh ki kj gt oh oi oj ok aw ol bi"><span id="10cb" class="na lt iq oi b gy om on l oo op">artist_link = "https://open.spotify.com/artist/6M2wZ9GZgrQXHCFfjv46we?si=VJ3J-isZRbSM5x2pNUnrhw&amp;dl_branch=1"</span><span id="9912" class="na lt iq oi b gy oq on l oo op">song_link = "https://open.spotify.com/track/0VjIjW4GlUZAMYd2vXMi3b?si=369f90167c9d48fb"</span><span id="4dc1" class="na lt iq oi b gy oq on l oo op">target = sd.get_albums_song_features(id=artist_link,is_artist=True)<br/>object  = sd.get_song_features(song_link)<br/>distance = 'l2'<br/>n_features = 6<br/>top_n = 10</span><span id="7c6c" class="na lt iq oi b gy oq on l oo op">#returns most similar songs from playlist</span><span id="d640" class="na lt iq oi b gy oq on l oo op">sp.predict_similar_songs(object,target,distance,n_features,top_n)</span></pre><p id="33de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这两个例子的结果都是一个字典，其中的关键字是引用歌曲的名称(对象),内容是一个元组列表。每个元组都是歌曲名称及其与参考歌曲(对象)的距离的一对值。</p><p id="6837" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:也可以预测专辑中的类似歌曲，而不必下载艺术家的整个唱片目录。为此，您可以在目标参数上使用相册功能。</p><h1 id="f1d8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.结论</h1><p id="f567" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">将数据科学和音乐这两个不同的领域结合起来，可以产生很好的选择，有助于理解音乐在不断变化的文化中是如何发展的，在这种文化中，乐器的声音、歌词和声乐技巧可以有许多不同的解释。在技术的帮助下，我们试图获得这些解释和意义的近似值，以研究是什么无形的能量使音乐伴随我们一生。我希望Spotiscience可以成为帮助像我一样的数据科学家、开发人员和音乐爱好者的技术之一。</p><h1 id="8333" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 3。参考文献</strong></h1><ul class=""><li id="9e9c" class="mk ml iq ky b kz mm lc mn lf mo lj mp ln mq lr mr ms mt mu bi translated">https://www . ka ggle . com/the brownviking 20/topic-modeling-with-spacy-and-sci kit-learn</li><li id="6a6d" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/predicting-the-music-mood-of-a-song-with-deep-learning-c3ac2b45229e">https://towards data science . com/predicting-the-music-mood of-a song-with-deep-learning-c3ac2b 45229 e</a></li></ul><h1 id="c8d9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">我的其他文章</h1><div class="np nq gp gr nr ns"><a href="https://medium.com/datos-y-ciencia/data-science-para-todos-4cb84264bb5f" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">数据科学Para Todos！</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">数据科学与人工智能研究综述</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="ow l od oe of ob og kp ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://cristobal-veas-ch.medium.com/artificial-intelligence-extracting-qualifying-adjectives-from-comments-on-donald-trump-facebook-84bf60be5c8e" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">人工智能:从对唐纳德·特朗普·脸书的评论中提取限定形容词…</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">自然语言处理在脸书帖子评论中的简单应用。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">cristobal-veas-ch.medium.com</p></div></div><div class="ob l"><div class="ox l od oe of ob og kp ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/how-to-analyze-emotions-and-words-of-the-lyrics-from-your-favorite-music-artist-bbca10411283"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">如何分析你最喜欢的音乐艺术家的歌词的情感和文字</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">使用Python对歌曲歌词进行文本和情感分析的有趣方式。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oy l od oe of ob og kp ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://medium.datadriveninvestor.com/automate-the-process-of-adding-your-users-saved-tracks-by-genre-to-playlists-on-spotify-d6402da60285" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">自动将用户保存的曲目按流派添加到Spotify上的播放列表</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">Stop Adding tracks to your Playlists on Spotify 一对一!！。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.datadriveninvestor.com</p></div></div><div class="ob l"><div class="oz l od oe of ob og kp ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://medium.datadriveninvestor.com/automating-playlists-on-spotify-from-the-music-folders-of-your-computer-c79060eadab2" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">自动播放Spotify上的播放列表从您的计算机的音乐文件夹。</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">一个有趣的方式来导出您的音乐文件到Spotify的播放列表。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.datadriveninvestor.com</p></div></div><div class="ob l"><div class="pa l od oe of ob og kp ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/clustering-music-to-create-your-personal-playlists-on-spotify-using-python-and-k-means-a39c4158589a"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">使用Python和K-Means在Spotify上创建您的个人播放列表。</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">An Easy Way to Group Songs by similarity in Spotify Playlists. 在 Spotify Playlists 中按相似性分组歌曲的简单方法。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">forwarddatascience.com</p></div></div><div class="ob l"><div class="pb l od oe of ob og kp ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://medium.com/datos-y-ciencia/una-forma-interactiva-para-buscar-y-analizar-ofertas-de-trabajo-en-la-web-ef9327b0a8d3" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">一种在网络上搜索和分析工作机会的交互式形式。</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">如何使用Python和Power Bi自动化和可视化工作搜索,以找到最佳交易。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">Medium.com</p></div></div><div class="ob l"><div class="pc l od oe of ob og kp ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://medium.com/datos-y-ciencia/una-forma-genial-para-buscar-y-analizar-arriendos-de-departamentos-en-la-web-e20727390a8c" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">一个伟大的方式来搜索和分析在网络上的部门匹配。</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">如何使用Python和Power Bi自动搜索以找到最佳租赁优惠。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">Medium.com</p></div></div><div class="ob l"><div class="pd l od oe of ob og kp ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://medium.com/datos-y-ciencia/c%C3%B3mo-hacer-reflexionar-a-tu-computador-con-las-noticias-del-pa%C3%ADs-dc14d2fc0a67" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">如何使你的电脑反映与国家新闻</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">一种有趣的方式来分析这个国家的新闻可以用Python生成的单词和感觉。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">Medium.com</p></div></div><div class="ob l"><div class="pe l od oe of ob og kp ns"/></div></div></a></div></div></div>    
</body>
</html>