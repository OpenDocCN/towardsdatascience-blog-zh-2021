<html>
<head>
<title>Facebook Just Launched the Coolest Augmentation Library: Augly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">脸书刚刚推出了最酷的增强库:Augly</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/facebook-just-launched-the-coolest-augmentation-library-augly-3910c05db505?source=collection_archive---------11-----------------------#2021-06-19">https://towardsdatascience.com/facebook-just-launched-the-coolest-augmentation-library-augly-3910c05db505?source=collection_archive---------11-----------------------#2021-06-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e430" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基于Augly的图像增强</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/84afb69ac4cff0d6acbf446580ef3fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sTF7AHX7bKoXYpCtw8pG9w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">左:原始图像，右:用Augly增强后(图像由作者创建)</p></figure><p id="7777" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">脸书最近发布了一个增强库，在同一屋檐下结合了几种形式(音频、图像、视频和文本)。数据扩充是一种非常常见的技术，用于增加标记训练数据的大小和多样性，这也有助于建立稳健的模型。这里我只关注我在图像上测试的几个增强功能，但是这个库也可以用于文本和音频。</p><p id="e979" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Augly更致力于包括脸书在内的社交媒体平台的变革。因此，除了常见的裁剪、翻转之外，其他增强功能包括真人对图像/视频共享平台进行的非常逼真的转换，如叠加图像、表情符号、文本等。根据脸书的新闻稿，其中一个重要的应用是—</p><blockquote class="lv lw lx"><p id="86e4" class="ky kz ly la b lb lc ju ld le lf jx lg lz li lj lk ma lm ln lo mb lq lr ls lt im bi translated"><a class="ae lu" href="https://ai.facebook.com/blog/using-ai-to-detect-covid-19-misinformation-and-exploitative-content/" rel="noopener ugc nofollow" target="_blank">检测特定内容的精确副本或近似副本</a>。例如，同一条错误信息可能会以稍微不同的形式重复出现，例如一张被裁剪了几个像素的图像，或者用滤镜或新文本覆盖进行了增强。通过用海量数据增强人工智能模型，它们可以学习发现何时有人上传已知侵权的内容，如歌曲或视频。</p></blockquote><p id="950e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Augly是为了阻止人们通过转换(阅读“增强”)数据来逃避自动检测系统而开发的，同一库也用于评估deepfake检测模型。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="5928" class="mj mk it bd ml mm mn dn mo mp mq dp mr lh ms mt mu ll mv mw mx lp my mz na nb bi translated">使用Augly进行图像放大:</h2><p id="f75a" class="pw-post-body-paragraph ky kz it la b lb nc ju ld le nd jx lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated">以下是我在8月份用来测试一些图像增强功能的几个例子。要在Colab中尝试这个，首先，我们需要安装Libmagic和Augly</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="9044" class="mj mk it ni b gy nm nn l no np">!pip install augly</span><span id="3890" class="mj mk it ni b gy nq nn l no np">!apt-get install libmagic-dev</span><span id="dbd3" class="mj mk it ni b gy nq nn l no np">!pip install python-magic</span><span id="4ce7" class="mj mk it ni b gy nq nn l no np">import augly.image as imaugs</span></pre><p id="b45f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们准备使用Augly，但在此之前，我们需要加载一个示例图像。让我们这样做</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="794c" class="mj mk it ni b gy nm nn l no np">from skimage import data</span><span id="f290" class="mj mk it ni b gy nq nn l no np">camera = data.astronaut()</span></pre><p id="922a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为Augly使用的是PIL格式，所以我们来转换一下</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="0987" class="mj mk it ni b gy nm nn l no np">from PIL import Image</span><span id="0637" class="mj mk it ni b gy nq nn l no np">camera_pil = Image.fromarray(camera)</span><span id="4a56" class="mj mk it ni b gy nq nn l no np">camera_pil.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/c07f96c1fa6e223337190959a658d632.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*Zw2UV4cQoqK1lSBCMIJcpQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:使用Skimage加载的原始图像。[此图片可在<a class="ae lu" href="https://www.flickr.com/photos/nasacommons/16504233985/" rel="noopener ugc nofollow" target="_blank">此处</a>获得，并且没有已知的版权限制。]</p></figure><p id="2c31" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是我们最初的图像。顺便说一下，她叫艾琳·柯林斯，1992年被选为宇航员，1995年首次驾驶STS-63航天飞机。</p><p id="eb05" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先让我们从一些相对简单的增强功能开始，比如改变视角</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="1b00" class="mj mk it ni b gy nm nn l no np">aug_perspective = imaugs.PerspectiveTransform(sigma=20.0)</span><span id="7f83" class="mj mk it ni b gy nq nn l no np">camera_pil_perspective = aug_perspective(camera_pil)</span><span id="8cbb" class="mj mk it ni b gy nq nn l no np">camera_pil_perspective.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/1de90d5211a75f23feb39529fe858fca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*qzjp5NzKPg1lZrjZO8NeJA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1的透视变换(作者创建的图像)</p></figure><p id="d51d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里的<code class="fe ns nt nu ni b">sigma</code>是指目标坐标分布的标准偏差，并且<code class="fe ns nt nu ni b">sigma </code>值越高，变换越强烈。</p><p id="44da" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们也可以随机改变长宽比，如下所示—</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="e072" class="mj mk it ni b gy nm nn l no np">aug_aspect = imaugs.RandomAspectRatio()</span><span id="4d71" class="mj mk it ni b gy nq nn l no np">camera_pil_aspect = aug_aspect(camera_pil)</span><span id="7e35" class="mj mk it ni b gy nq nn l no np">camera_pil_aspect.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/f24ad08dbdb6c97cf93ca75e4d1d3d27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*acCfhoYR4m53yDDEHPF2kA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在图1上随机改变纵横比(图片由作者创建)</p></figure><p id="793c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们也可以通过增加一些饱和度来增强图像</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="c9d8" class="mj mk it ni b gy nm nn l no np">aug_saturation = imaugs.Saturation(factor=5.0)</span><span id="e935" class="mj mk it ni b gy nq nn l no np">camera_pil_sat = aug_saturation(camera_pil)</span><span id="7e3c" class="mj mk it ni b gy nq nn l no np">camera_pil_sat.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/cb9b69dd175e1b21671ead79c81a7e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*L8dIslm8idJvky3kVqisQQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">增加图1中原始图像的饱和度(由作者创建的图像)</p></figure></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="046b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们转向一些可以使用Augly添加的独特转换。首先，我试着叠加条纹，转换后的图像如下—</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/f070f67727a66cce4acc9668f90342a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*zWtu_oKZpfM8AaNpv_xtZA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在原始图1上叠加条纹(图片由作者创建)。</p></figure><p id="4ae9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用于上述转换的代码是—</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="64d9" class="mj mk it ni b gy nm nn l no np">camera_pil_overlay_stripes = imaugs.overlay_stripes(camera_pil, line_type=’dashed’, line_opacity=0.5, line_color=(120, 0, 200), line_angle=25.0)</span><span id="29a3" class="mj mk it ni b gy nq nn l no np">camera_pil_overlay_stripes.show()</span></pre><p id="267e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">叠加文字呢？这也是可能的—</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/f8d76d603d73bf2b8b0c539314891665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*ZdkBkl9X0MumgKZcZvriHw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在原图1上覆盖迷因文字(图片由作者创建)</p></figure><p id="e794" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们也可以添加表情符号—</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="81cd" class="mj mk it ni b gy nm nn l no np">camera_pil_overlay_emoji = imaugs.overlay_emoji(camera_pil)</span><span id="698c" class="mj mk it ni b gy nq nn l no np">camera_pil_overlay_emoji.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/a15901aee4b3fad6af509484192572d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*0_dbqa8KmO4_lEXMz_e3pw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在原图1上叠加表情符号(图片由作者创建)。</p></figure><p id="d0a5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还可以将图像转换成Instagram上的截图——</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/cf405ee55070ee4cabda0439e0913f12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5wSlGLqim9E1S3c2oP8bLw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将Instagram截屏叠加在原始图1上(图片由作者创建)。</p></figure><p id="ad2b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个的代码块如下—</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="0a94" class="mj mk it ni b gy nm nn l no np">import os</span><span id="77ad" class="mj mk it ni b gy nq nn l no np">import augly.utils as utils</span><span id="6b8c" class="mj mk it ni b gy nq nn l no np">aug_overlay = imaugs.OverlayOntoScreenshot(template_filepath=os.path.join(utils.SCREENSHOT_TEMPLATES_DIR, “mobile.png”))</span><span id="3664" class="mj mk it ni b gy nq nn l no np">camera_pil_overlay = aug_overlay(camera_pil)</span><span id="4280" class="mj mk it ni b gy nq nn l no np">camera_pil_overlay.show()</span></pre><p id="af4b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过将叠加图像<code class="fe ns nt nu ni b">mobile.png</code>更改为<code class="fe ns nt nu ni b">web.png </code>，我们可以得到另一个变换—</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/921026b93e6ae37b8294949acf5dd6fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*anAyt3cMzjOByqwAFDm3rA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将Instagram网页的屏幕截图叠加在原始图1上(图片由作者创建)。</p></figure></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="259e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我个人认为，这种转变非常酷，正如脸书在新闻稿中提到的那样，它们有助于理解人类与社交媒体的互动。我相信对语音和语言处理感兴趣的人也会发现这个库非常有用。</p><p id="46de" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢脸书将这个库开源，感谢<a class="ae lu" href="https://github.com/jbitton" rel="noopener ugc nofollow" target="_blank">乔安娜·比顿</a> &amp; <a class="ae lu" href="https://github.com/zpapakipos" rel="noopener ugc nofollow" target="_blank">佐伊·帕基波斯</a>，我相信他们是这个项目背后的主脑。</p><p id="3a13" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在我的笔记本里找到这里使用的所有代码，我把它们放在参考资料里了。保持坚强，干杯！！</p><p id="1018" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">页（page的缩写）Augly library的合著者之一Joanna B. 在这篇文章中留下了非常友好的评论。所以，多亏了她！正如我在帖子中提到的，这里是她的GitHub。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="698e" class="mj mk it bd ml mm mn dn mo mp mq dp mr lh ms mt mu ll mv mw mx lp my mz na nb bi translated">参考资料:</h2><p id="a985" class="pw-post-body-paragraph ky kz it la b lb nc ju ld le nd jx lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated">[1]<a class="ae lu" href="https://ai.facebook.com/blog/augly-a-new-data-augmentation-library-to-help-build-more-robust-ai-models/" rel="noopener ugc nofollow" target="_blank">8月脸书新闻发布会</a></p><p id="1461" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">【2】<a class="ae lu" href="https://github.com/facebookresearch/AugLy" rel="noopener ugc nofollow" target="_blank">八月:GitHub </a></p><p id="bac5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">[3] <a class="ae lu" href="https://github.com/suvoooo/Machine_Learning/blob/master/Augly_Try.ipynb" rel="noopener ugc nofollow" target="_blank">链接到我的笔记本</a>获取此处使用的代码。</p></div></div>    
</body>
</html>