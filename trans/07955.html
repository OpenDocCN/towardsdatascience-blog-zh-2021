<html>
<head>
<title>5 Visualization Libraries for Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python的5个可视化库</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-visualization-libraries-for-python-7705527bcf99?source=collection_archive---------27-----------------------#2021-07-21">https://towardsdatascience.com/5-visualization-libraries-for-python-7705527bcf99?source=collection_archive---------27-----------------------#2021-07-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a056" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Matplotlib、Pandas、Seaborn、Plotnine和MplFinance都有它们的长处——让我们感受一下它们</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/aaf1e1dc0c5e00fe7415dab2487e091a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iYIG4NcP6h1_Bbrf_PZesA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图表示例—按作者分类的图片</p></figure><p id="0080" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可视化是数据通信的关键。无论你是想让你的老板、客户还是同事明白你的意思，一张精心制作的图表通常比一张数字表更能清楚地表达你的观点。</p><p id="151f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Python有很多图表库，但我将快速浏览一下我最喜欢的5个。</p><p id="da93" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Matplotlib是Python可视化库的始祖，也是我考虑的所有可视化库的基础。但是Matplotlib可能有点笨拙，为了简化事情，其他库都是在它的基础上构建的。</p><p id="9563" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每个库都有自己的优势:Matplotlib灵活而强大，Pandas绘图简单，Seaborn适合统计图表，Plotnine实现R的ggplot和图形语法，而MplFinance专门针对金融数据。</p><p id="9a8e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我希望给你一个他们每个人的味道。</p><p id="0bf9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但首先我们需要一些数据来绘图。</p><h1 id="8f22" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">Gapminder数据</h1><p id="d5cb" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">Gapminder是一个致力于消除公众对全球趋势误解的组织，它的网站非常值得一去。它在其任务中使用了大量的数据集，我们将在这里使用其中的一些数据。这是一个从1952年到2007年每个国家的人口、预期寿命和人均GDP的表格。该数据由Github上的Jenny Bryan*主持。</p><p id="471b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们这样设置数据源的url:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="17ff" class="mx lv it mt b gy my mz l na nb">popDataURL = "https://raw.githubusercontent.com/jennybc/gapminder/master/inst/extdata/gapminder.tsv"</span></pre><p id="09f9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后把数据下载到熊猫的数据框架中。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5168" class="mx lv it mt b gy my mz l na nb">import pandas as pd<br/>popData = pd.read_csv(popDataURL,<br/>   delimiter='\t', <br/>   dtype=({'year':int}))<br/></span><span id="d4a0" class="mx lv it mt b gy nc mz l na nb">popData['pop']=popData['pop']/1000000</span></pre><p id="fb33" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将人口数除以100万，以便在下面的图表中让数字更清晰一些。我将<em class="nd">年</em>列改为整数，而不是浮点数，以便于比较。数据帧看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/8ee3615af021aee37765016f1f71e7d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/0*aXB17LskUBoEtYVe.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据框架—作者提供的图像</p></figure><p id="642f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里的数据太多了，所以我将数据分为西班牙、英国、印度和美国的子集，如下所示:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="8537" class="mx lv it mt b gy my mz l na nb">SpainData = popData[popData['country']=='Spain']<br/>UKData = popData[popData['country']=='United Kingdom']<br/>IndiaData = popData[popData['country']=='India']<br/>USData = popData[popData['country']=='United States']</span></pre><p id="25cc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将在下面的例子中使用这些子集。</p><h1 id="bfc9" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">Matplotlib</h1><p id="ae00" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">如果你不能在Mathplotlib中做你想做的事情，那么你也不能在其他任何库中做。Matplotlib是我将讨论的其他每个库的基础，因此下面的所有示例都可以用Matplotlib进行编码——然而，其他库使生活变得更加方便。</p><p id="1cc7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，在继续之前，让我们从一个非常简单的Matplotlib示例开始。</p><p id="2286" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我在这个例子中使用了<code class="fe nf ng nh mt b">UKData</code>数据框架，并绘制了过去几十年的人口增长图。代码很简单:首先我们导入库(当然)，接下来我们用<em class="nd"> x </em>和<em class="nd"> y </em>数据指定绘图，这些数据是dataframe中的‘year’和‘pop’列(使用默认参数我们得到一个线图)，然后我们为x和y轴设置标签，最后，我们调用方法<code class="fe nf ng nh mt b">plt.show()</code>显示下图。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="8786" class="mx lv it mt b gy my mz l na nb">import matplotlib.pyplot as plt<br/>plt.plot(UKData['year'],UKData['pop'])<br/>plt.ylabel('Population in millions')<br/>plt.xlabel('Year')<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/4c709bd3be1c1a09594f3d315cbee807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*xEk9UKxaJ0YQ7tiR.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Matplotlib图表示例—作者图片</p></figure><p id="6ba6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本例中，Matplotlib期望以类似数组的参数给出数据——在本例中，我们以Pandas列(实际上是Pandas系列)的形式提供了<em class="nd"> year </em>和<em class="nd"> pop </em>数据。我们也可以传递普通的Python列表或Numpy数组。</p><p id="f60f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是另一个例子:散点图。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="b0de" class="mx lv it mt b gy my mz l na nb">data = popData[popData['year']==2007]</span><span id="5752" class="mx lv it mt b gy nc mz l na nb">plt.scatter('country', 'gdpPercap', s='pop', data=data)<br/>plt.xticks([])<br/>plt.xlabel('Countries')<br/>plt.ylabel('GDP Per Cap')<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/80322a294b7989ca71171a2c0940a1fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/0*u-HqDXXqgnlUJdRT.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Matplotlib散点图示例—作者图片</p></figure><p id="a0ba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这种情况下，数据只需要一个参数——2007年的数据——我们指定Pandas dataframe列为<em class="nd"> x </em>和<em class="nd"> y </em>值。<code class="fe nf ng nh mt b">s</code>参数是散点图中圆点的大小，它使用<em class="nd"> pop </em>列的值，所以人口越多，圆点越大。我还取消了x轴上的记号，因为有太多的国家名称，它们将无法阅读。</p><p id="8ce6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Matplotlib有很多内容，但这是我们将把重点放在其他库上的地方。</p><h1 id="aa68" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">熊猫情节</h1><p id="6627" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">Pandas绘图功能提供了一组简单的基本绘图功能。使用Pandas plot，您可以创建折线图、条形图和散点图、箱线图和直方图，当然，它完全集成了Pandas dataframes。</p><p id="4b97" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了从一个数据帧创建一个图，我们调用该数据帧的<code class="fe nf ng nh mt b">plot()</code>方法，并从数据帧中以列的形式提供<em class="nd"> x </em>和<em class="nd"> y </em>数据。</p><p id="6edc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是美国人均GDP的线图，只有一行代码。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="af17" class="mx lv it mt b gy my mz l na nb">USData.plot.bar(x='year',y='gdpPercap')</span></pre><p id="96c6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意，我们在前面创建数据帧时导入了Pandas库。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/5cca5ef7bb61a52003ca88b2f2807630.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*kGbqmmR19sFEoRN2.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫图表示例—作者图片</p></figure><p id="e7cb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在以前的文章中读到更多关于熊猫密谋的内容:</p><div class="nk nl gp gr nm nn"><a rel="noopener follow" target="_blank" href="/plotting-with-pandas-an-introduction-to-data-visualization-8bd7c0831650"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">用熊猫绘图:数据可视化导论</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">如果您是一名初露头角的数据科学家或数据记者，能够可视化您的数据会让您有能力…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">towardsdatascience.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob ks nn"/></div></div></a></div><h1 id="9325" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">海生的</h1><p id="6ca1" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">当谈到统计图表时，Seaborn接管了熊猫停止的地方。下面是西班牙人口随时间变化的曲线图。这不是我们在前面的例子中看到的简单的线形图，这是Seaborn <em class="nd"> regplot </em>的散点图，其中包含一条回归曲线。</p><p id="ddde" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面的代码用线性回归绘制了数据，但是，正如您可能看到的，数据并不真正符合直线模型。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="03bc" class="mx lv it mt b gy my mz l na nb">import seaborn as sns<br/>sns.regplot(x="year", y="pop", data=SpainData)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/01133b69e55acea9aff21c1062966c2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*2dll-KHzUvXb7Ha5.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Seaborn regplot示例-作者提供的图像</p></figure><p id="99b9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我特意选择西班牙在这里绘图，因为我碰巧知道那里的人口增长不是线性增长，而是在过去几年中逐渐放缓。因此，线性回归并不真正符合数据。通过改变回归的顺序，我们可以更好地了解数据的变化方式。它默认为<em class="nd"> 1 </em>，一个线性回归，但是这里我们将把它改为<em class="nd"> 2 </em>，这给了我们一个二次曲线。我还关闭了<em class="nd">置信区间</em>、<code class="fe nf ng nh mt b">ci=None</code>。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0d63" class="mx lv it mt b gy my mz l na nb">sns.regplot(x="year", y="pop", data=SpainData, order=2, ci=None)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/21ae1e57ba337af7e30ebcf7398d70cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/0*Hm2AwluUmvKrk5vG.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Seaborn二阶正则图示例—作者提供的图像</p></figure><p id="8b61" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">二次曲线并不完全符合数据，但它给出了放缓趋势的更好印象。Seaborn不允许您出于预测目的提取模型；<em class="nd"> regplot </em>仅用于说明目的。Seaborn自己建议，如果你想这样做，你应该使用Python的<em class="nd"> Statsmodels </em>库。</p><p id="6793" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Seaborn包括几种统计图表类型，但对于简单的线形和条形图表，Pandas plot可能更适合。</p><h1 id="86e9" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">普洛特宁</h1><p id="07a6" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">Plotnine是Python中<em class="nd"> ggplot2 </em>(众所周知的R图形包)的实现。它采用分层的方法来定义一个图。在下面的示例中，第一行代码指定了数据源，第二行代码指定了图形(折线图)的类型以及线条的大小和颜色。剩下的几行添加一个内置主题，修改该主题以改变图形的大小，最后为图形设置一个标题。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0310" class="mx lv it mt b gy my mz l na nb">from plotnine import *</span><span id="163b" class="mx lv it mt b gy nc mz l na nb">(ggplot(IndiaData,aes('year','pop'))<br/> + geom_line(color='Blue',size=2)<br/> + theme_light()<br/> + theme(figure_size=(6,3))<br/> + ggtitle('India Population Growth')<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/6a09d31fb8a91fb7d25fde25acc7b750.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/0*nos-ijeGJSlHtpDe.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">示例Plotnine图表—按作者分类的图像</p></figure><p id="9994" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这种构建图表的方式非常令人满意，并且在所有图表类型中都是一致的。这是另一个例子，演示了如何将多个方面构建到一个图形中。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="8f17" class="mx lv it mt b gy my mz l na nb">(ggplot(popData, aes('year','pop', fill='continent'))<br/> + geom_col(show_legend=False)<br/> + facet_wrap('continent', scales='free')<br/> + theme_light()<br/> + theme(panel_spacing=0.5, figure_size=(10,5))<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/b74ecc63f7d2b500cdc78ad5eaa68fec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yiD7uBQ_v-2XpGiv.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">示例多面图九个图表—作者提供的图像</p></figure><p id="0109" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后是一个类似于Matplotlib中早期示例的图形，但是增加了颜色(代表国家所在的大陆)。这给了我们一个相当混乱的数字，所以我选择了<em class="nd"> void </em>主题，它基本上移除了所有的标签、记号等等。然后添加了垂直标签和基线。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5632" class="mx lv it mt b gy my mz l na nb">(ggplot(popData[popData['year']&gt;=2007], aes('country','gdpPercap',size='pop',color='continent'))<br/> + geom_point()<br/> + theme_void()<br/> + theme(axis_line_x=element_line(), axis_title_y=element_text(rotation=90))<br/> + ggtitle('Countries')<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/48e396e8bef02ce571e8f7c15ca756cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/0*FdV8fZVCwVjrqE6H.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Plotnine散点图示例—作者图片</p></figure><p id="8d5f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">结果并不完美，但围绕主题进行一些调整可能会得到更好的结果。</p><p id="dedc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Plotnine允许您绘制任意数量的图表类型，这些图表类型是由标准组件构建的，如果您来自R背景，这可能是一个不错的选择。</p><p id="5231" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我在这里写了更多关于Plotnine的内容:</p><div class="nk nl gp gr nm nn"><a rel="noopener follow" target="_blank" href="/ggplot-grammar-of-graphics-in-python-with-plotnine-2e97edd4dacf"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">ggplot:使用Plotnine的Python中的图形语法</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">一个强大的图形库，非常直观</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">towardsdatascience.com</p></div></div><div class="nw l"><div class="og l ny nz oa nw ob ks nn"/></div></div></a></div><h1 id="5d6f" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">MplFinance</h1><p id="f2e6" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">Mplfinance专门针对金融数据，并希望这些数据是标准格式的。它允许的图表数量相对有限，但也是针对有限的领域。</p><p id="7756" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，我举例说明了最全面的图表。它是一组显示一段时间内股票价格变动的盒须图和显示同一时期交易量的条形图的组合。</p><p id="e13d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们不能在这个库中使用我们的Gapminder数据，所以我包含了<em class="nd"> yfinance </em>库，它从雅虎财经抓取数据，并为Alphabet(谷歌的母公司)提取一天的数据。每30分钟给出一次价格。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="a1bd" class="mx lv it mt b gy my mz l na nb">import yfinance as yp<br/>import mplfinance as mpf<br/> <br/>googl = yp.Ticker('GOOGL')<br/>df = googl.history(period="1d", interval="30m")<br/> <br/>mpf.plot(df,type='candle',mav=3,volume=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/d2b56a50e6351c404d69d5cdc863085a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*x7Nq8rOPD7wCHU8s.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Mplfinance图表示例—作者图片</p></figure><p id="654d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Mplfinance显然是一个专业产品，不适合一般用途。但是如果你感兴趣的是财务数据，这是一个很好的易用的软件包。</p><h1 id="e47a" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">结论</h1><p id="de5b" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">选择图表库的一些原因将是个人的:如果你喜欢<em class="nd"> ggplot2 </em>使用的<em class="nd">图形语法</em>方法，那么Plotnine将是你的一个好选择。对于简单明了的图形，熊猫内置的绘图是一个很好的选择，而且编程简单。另一方面，Seaborn不太适合简单的图表，但是它为统计图表提供了很多选择。Mplfinance擅长它所做的，但不适合一般的图形。</p><p id="31ee" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，由于我看到的所有库都是基于Matplotlib的，所以您可以使用Matplotlib来生成其他库支持的任何图表。不过，要做到这一点，你需要理解Matplotlib的复杂性，并且需要做更多的编程工作。</p><p id="1b05" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，你可能会问自己，为什么我忽略了Plotly、Bokeh或Altair。主要原因是它们是不同的库系列，更适合于基于web的应用程序，而我所看到的那些库更适合于生成静态文档。</p><p id="a434" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢您的阅读，我希望这激起了您的兴趣，您会想要探索这些图书馆提供的机会。</p><p id="8354" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想知道我什么时候发表其他文章，请考虑在这里订阅我的免费和不定期简讯<a class="ae mr" href="https://technofile.substack.com" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="1e23" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">密码</h1><p id="966e" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">你可以在我的<a class="ae mr" href="https://alanjones2.github.io/Alan-Jones-article-code/" rel="noopener ugc nofollow" target="_blank"> Github页面</a>上找到一个Jupyter笔记本，上面有所有上述代码以及我的其他文章中的代码。</p><h1 id="a5ab" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">*致谢</h1><p id="5f82" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">我们使用来自Jennifer Bryan维护的Github库的数据，该库可以在https://github.com/jennybc/gapminder找到。</p><p id="15f7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">原始Gapminder数据也可以在<a class="ae mr" href="http://www.gapminder.org/data/" rel="noopener ugc nofollow" target="_blank">http://www.gapminder.org/data/</a>找到</p><p id="cec9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Gapminder的数据是在知识共享署名3.0无版权许可下发布的。</p></div></div>    
</body>
</html>