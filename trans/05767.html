<html>
<head>
<title>Terraform + SageMaker Part 2a: Creating a Custom SageMaker Notebook Instance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Terraform + SageMaker第2a部分:创建定制的SageMaker笔记本实例</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/terraform-sagemaker-part-2a-creating-a-custom-sagemaker-notebook-instance-1d68c90b192b?source=collection_archive---------19-----------------------#2021-05-23">https://towardsdatascience.com/terraform-sagemaker-part-2a-creating-a-custom-sagemaker-notebook-instance-1d68c90b192b?source=collection_archive---------19-----------------------#2021-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/5952aa9434b55cc0aed1f5bea6eae766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cs3xoV7HMJ5mIvUmP6WQ5Q.jpeg"/></div></div></figure><h2 id="a23c" class="jc jd je bd b dl jf jg jh ji jj jk dk jl translated" aria-label="kicker paragraph">Terraform + SageMaker</h2><div class=""/><div class=""><h2 id="28ab" class="pw-subtitle-paragraph kk jn je bd b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dk translated">使用Terraform创建您自己定制的SageMaker笔记本实例</h2></div><p id="551b" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">大家好！我们带着<a class="ae ly" href="https://towardsdatascience.com/tagged/terraform-sagemaker" rel="noopener" target="_blank"> Terraform + SageMaker系列</a>又回来了。现在我知道了，我知道了…如果你一直在关注，你会知道我们实际上还没有对SageMaker本身做任何事情。我希望你能原谅我，因为我真的想为这个系列中所有即将到来的帖子提供一些平台。也许我可以用一些好消息来补偿你:我们今天实际上要潜入SageMaker！</p><p id="c0ca" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">具体来说，我们将创建一个定制的SageMaker笔记本实例。那些可能想知道SageMaker笔记本和标准Jupyter笔记本之间有什么区别的人，简短的回答基本上是一点AWS风味。当你真正打开SageMaker笔记本用户界面时，你可能甚至无法区分SageMaker和标准JupyterLab。事实上，让我给你看一张图片:</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lz"><img src="../Images/1f426f146025652f174f447b4aa84001.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CauHbxgJ9jMsNiJrJiCtKg.png"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者截图</p></figure><p id="4b0d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">现在，如果您只是要启动一个SageMaker实例，您将得到标准的、普通的Jupyter环境，AWS以纯默认设置启动。虽然您肯定可以毫无问题地立即开始工作，但是如果我们可以自动化一些额外的好东西呢？比如，如果我们可以创建自己的内核，并预装一套定制的编码库，会怎么样？或者，如果当我们打开SageMaker实例时，我们的GitHub repo就在那里，可以立即开始工作了，该怎么办？</p><p id="977e" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">好了，朋友们，正如你们所猜测的，我们将在这篇文章中涵盖所有这些内容！我们将介绍如何制作您自己的理想SageMaker笔记本实例，借助Terraform的魔力，我们可以通过几个简单的Terraform命令快速构建或销毁它，而不是繁琐的UI。</p><p id="6cfd" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在继续之前还有一件事，你可能很好奇为什么这篇文章被标为“2a”。这是因为我们将通过在Terraform脚本中硬编码我们的所有值来关注使事情变得简单一点。在下一篇文章(2b)中，我们将把相同的代码转换成一个Terraform模块，以便任何人都可以重用！对于那些刚接触Terraform的人来说，这是一个更长的话题，所以我认为它值得单独发布。</p><p id="f181" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">好了，让我们先来谈谈SageMaker的概念，这样我们在实际编写Terraform代码时就有了一个立足点。</p><p id="11f7" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">(哦，如果你想继续关注GitHub，<a class="ae ly" href="https://github.com/dkhundley/terraform-sagemaker-tutorial/tree/main/Part%202a%20-%20Creating%20a%20SageMaker%20Notebook" rel="noopener ugc nofollow" target="_blank">点击这里查看我的知识库</a>。)</p><h1 id="a416" class="mi mj je bd mk ml mm mn mo mp mq mr ms kt mt ku mu kw mv kx mw kz mx la my mz bi translated">SageMaker如何在引擎盖下工作</h1><p id="67b2" class="pw-post-body-paragraph lc ld je le b lf na ko lh li nb kr lk ll nc ln lo lp nd lr ls lt ne lv lw lx im bi translated">事实上，我可以将这一部分命名为“大多数AWS服务如何在幕后工作”，但我们将坚持使用SageMaker，因为这是我们将使用的主要服务。您可能知道，AWS提供了另一项名为EC2(弹性计算云)的服务，主要提供驻留在云中的通用虚拟计算机。这些EC2虚拟计算机——或者更广为人知的“实例”——为用户提供了大量的灵活性，但是它们可能超出了您想要管理的范围，尤其是如果您不是Linux专家的话。</p><p id="e237" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">AWS知道他们的客户希望将EC2实例用于更具体的目的，而不必做所有幕后的“脏工作”,因此创建了一系列不同的“托管服务”,这些服务是为非常具体的目的定制的。正如你所猜测的，SageMaker是一种托管服务，当然是面向机器学习的。</p><p id="ba5b" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">也就是说，SageMaker中所有需要某种计算能力的东西都由某种计算实例支持。(你不会看到它被称为EC2实例本身，但你肯定会看到到处都提到“计算实例”。)同样，这些实例可以由虚拟卷备份。对于SageMaker笔记本实例，它们由EBS(弹性块存储)卷进行备份。</p><p id="2425" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我提出这个问题的原因是，如果你来自类似Google Colab的地方，要理解这个概念真的会有点困惑。在那样的环境下，你只要打开笔记本就可以走了。SageMaker就不是这样了，这不是一件坏事。SageMaker实际上是为更私人的公司级使用而设计的。像Google Colab这样的环境更多的是一个学习的空间。</p><h1 id="5518" class="mi mj je bd mk ml mm mn mo mp mq mr ms kt mt ku mu kw mv kx mw kz mx la my mz bi translated">构建我们的定制笔记本实例</h1><p id="b78c" class="pw-post-body-paragraph lc ld je le b lf na ko lh li nb kr lk ll nc ln lo lp nd lr ls lt ne lv lw lx im bi translated">好了，现在你已经有了SageMaker一般如何工作的概念性知识，让我们继续构建我们的定制SageMaker笔记本实例。如前所述，基本的SageMaker notebook实例化只是提供了一个带有AWS默认内核的白板。默认内核很好，但是我个人遇到了一个问题，那些内核没有我需要的Python库。当然，您可以手动将库安装到notebook实例上，但是这些安装不会持久化。因此，如果您在晚上关闭一个笔记本实例，并在第二天早上重新启动它，您将不得不再次执行这些手动安装。呸。</p><p id="80dc" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">为此，我们的定制SageMaker笔记本实例将提供三个不错的特性:</p><ul class=""><li id="9813" class="nf ng je le b lf lg li lj ll nh lp ni lt nj lx nk nl nm nn bi translated"><strong class="le jo"> GitHub存储库集成</strong>:启动SageMaker notebook实例时，你不会看到一片空白，你会看到你在GitHub存储库中的所有工作已经准备就绪，可以立即开始工作。</li><li id="4d69" class="nf ng je le b lf no li np ll nq lp nr lt ns lx nk nl nm nn bi translated"><strong class="le jo">自定义持久内核</strong>:实际上我自己在写这篇文章的时候才知道:有一种方法可以在SageMaker notebook实例附带的EBS卷上创建和持久化你自己的自定义内核。这样，当您加载SageMaker notebook实例时，您的内核将准备好所有的库，不需要手动安装。</li><li id="05b3" class="nf ng je le b lf no li np ll nq lp nr lt ns lx nk nl nm nn bi translated"><strong class="le jo">空闲时自动停止</strong>:所以……我不知道为什么SageMaker不提供这个默认选项。就像普通计算机一样，SageMaker实例可以启动和停止。正如您可能猜到的，当您的SageMaker实例停止时，AWS不会向您收取计算时间的费用。但是…默认情况下没有“自动停止”。如果您让SageMaker笔记本实例在默认设置下运行，它将永久运行。它会记在你的账上！(*ba-dum tss*) SageMaker没有提供在空闲时设置自动停止的“本地”方法，但具有讽刺意味的是，他们提供了在GitHub中如何做到这一点的代码。我认为你不添加这个是疯了，所以我们肯定会在这篇文章中添加空闲时自动停止。</li></ul><p id="0c69" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">后两项功能是通过一种叫做<strong class="le jo"> SageMaker笔记本生命周期配置</strong>的东西实现的，我们将在下一部分重点讨论这一点。让我们快速介绍一下使用Terraform制作成品所需的一切:</p><ul class=""><li id="a719" class="nf ng je le b lf lg li lj ll nh lp ni lt nj lx nk nl nm nn bi translated"><strong class="le jo"> SageMaker笔记本实例</strong>:如你所料！</li><li id="da05" class="nf ng je le b lf no li np ll nq lp nr lt ns lx nk nl nm nn bi translated"><strong class="le jo"> SageMaker IAM角色和策略附件</strong>:与所有AWS服务一样，我们的SageMaker notebook实例需要一个IAM角色和适当的IAM策略。为了方便起见，我们将使用AWS默认的SageMaker策略，该策略允许资源访问SageMaker的所有内容。(注意:如果你工作的组织遵循“最小特权”原则，这肯定不是一个优选的实践，我完全同意这一点。我只是为了让我们的学习简单一些。)</li><li id="5783" class="nf ng je le b lf no li np ll nq lp nr lt ns lx nk nl nm nn bi translated"><strong class="le jo"> SageMaker笔记本生命周期配置</strong>:我们将在下一节详细介绍这一点，但简而言之，它将允许我们使用上面提到的一些好功能。</li><li id="ec0b" class="nf ng je le b lf no li np ll nq lp nr lt ns lx nk nl nm nn bi translated"><strong class="le jo"> SageMaker Git存储库</strong>:这或多或少是生命周期配置之外的一个额外的小配置，专门用于指向您希望在SageMaker notebook实例中加载哪个Git存储库。在我们的例子中，我将简单地使用我的流行的<code class="fe nt nu nv nw b">ds-quick-tips</code>库，但是如果您愿意，可以随意替换您自己的库！</li></ul><h1 id="5224" class="mi mj je bd mk ml mm mn mo mp mq mr ms kt mt ku mu kw mv kx mw kz mx la my mz bi translated">创建SageMaker笔记本生命周期配置</h1><p id="b703" class="pw-post-body-paragraph lc ld je le b lf na ko lh li nb kr lk ll nc ln lo lp nd lr ls lt ne lv lw lx im bi translated">当启用我们的一些高级功能时，这个漂亮的功能将为我们做很多繁重的工作。基本上，一个生命周期配置由两个shell脚本组成，您可以随意填充它们。第一个shell脚本是<code class="fe nt nu nv nw b">on-create.sh</code>脚本，它在第一次创建SageMaker notebook实例时执行它的操作。第二个shell脚本是<code class="fe nt nu nv nw b">on-start.sh</code>脚本，每次SageMaker实例从“停止”状态启动时都会执行这个脚本。AWS实际上提供了很多关于你可以在GitHub 上用生命周期配置<a class="ae ly" href="https://github.com/aws-samples/amazon-sagemaker-notebook-instance-lifecycle-config-samples" rel="noopener ugc nofollow" target="_blank">做什么的例子，很明显，我是从那里得到这篇文章的想法的。让我们在接下来的小节中介绍如何填充各自的脚本。</a></p><h2 id="e941" class="nx mj je bd mk ny nz dn mo oa ob dp ms ll oc od mu lp oe of mw lt og oh my jk bi translated">“创建时”脚本</h2><p id="2697" class="pw-post-body-paragraph lc ld je le b lf na ko lh li nb kr lk ll nc ln lo lp nd lr ls lt ne lv lw lx im bi translated"><a class="ae ly" href="https://raw.githubusercontent.com/dkhundley/terraform-sagemaker-tutorial/main/Part%202a%20-%20Creating%20a%20SageMaker%20Notebook/scripts/on-create.sh" rel="noopener ugc nofollow" target="_blank">在这个脚本</a>中，我们将创建一个装载了我们想要的Python库的自定义内核。在幕后，AWS正在利用Anaconda (Miniconda)来创建我们的内核。在Miniconda中，我们将使用一个标准的<code class="fe nt nu nv nw b"><a class="ae ly" href="https://github.com/dkhundley/terraform-sagemaker-tutorial/blob/main/Part%202a%20-%20Creating%20a%20SageMaker%20Notebook/scripts/requirements.txt" rel="noopener ugc nofollow" target="_blank">requirements.txt</a></code> <a class="ae ly" href="https://github.com/dkhundley/terraform-sagemaker-tutorial/blob/main/Part%202a%20-%20Creating%20a%20SageMaker%20Notebook/scripts/requirements.txt" rel="noopener ugc nofollow" target="_blank">文件</a>来安装几个库，根据我的个人经验，我100%确定这些库不在AWS默认内核中。这两个库是:</p><ul class=""><li id="f4fb" class="nf ng je le b lf lg li lj ll nh lp ni lt nj lx nk nl nm nn bi translated"><code class="fe nt nu nv nw b">pyathena</code>:这个让我超级困惑，因为Athena是AWS服务。我个人曾经需要它来使用Athena将S3的数据输入到SageMaker笔记本中，效果非常好。(老实说，我不知道我是否会在这个系列中涉及到它，但我只知道它确实有效！)</li><li id="a5a0" class="nf ng je le b lf no li np ll nq lp nr lt ns lx nk nl nm nn bi translated"><code class="fe nt nu nv nw b">catboost</code>:这是一个类似Scikit-Learn的机器学习算法库。我可以理解为什么AWS可能会排除它，因为它不是特定于AWS的，但我很惊讶它没有像Scikit-Learn一样被广泛采用，因为人们发现使用它的算法比使用其他流行的库要成功得多。</li></ul><p id="1004" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">一旦构建了内核，它就被持久化到连接到SageMaker notebook实例的EBS卷中，因此即使您定期停止和启动notebook实例，也能够非常快速地加载这个内核，而不会出现任何问题。</p><h2 id="bafc" class="nx mj je bd mk ny nz dn mo oa ob dp ms ll oc od mu lp oe of mw lt og oh my jk bi translated">“开始时”脚本</h2><p id="2acc" class="pw-post-body-paragraph lc ld je le b lf na ko lh li nb kr lk ll nc ln lo lp nd lr ls lt ne lv lw lx im bi translated">在这个脚本中，我们将做两件不同的事情。第一步是使我们从“On Create”脚本创建自定义Miniconda内核可用。第二个是实现空闲时自动停止功能。自动停止功能基本上是由另一个Python脚本启用的，并且是完全透明的，我不太清楚那个脚本是如何工作的。这是我从前面提到的AWS的GitHub生命周期配置库提供的例子库中提取的，但我至少可以分享它的工作原理！我将空闲时间设置为300秒(5分钟)，如果你愿意，可以适当延长。</p><h1 id="bad6" class="mi mj je bd mk ml mm mn mo mp mq mr ms kt mt ku mu kw mv kx mw kz mx la my mz bi translated">构建我们的地形脚本</h1><p id="94f8" class="pw-post-body-paragraph lc ld je le b lf na ko lh li nb kr lk ll nc ln lo lp nd lr ls lt ne lv lw lx im bi translated">我知道这篇文章开始变得冗长，我不想过多地谈论Terraform脚本实际上是如何创建的。更重要的是，你要从概念上理解所有的东西是如何组合在一起的，这一点我们已经在本文中讨论过了。我建议你<a class="ae ly" href="https://github.com/dkhundley/terraform-sagemaker-tutorial/tree/main/Part%202a%20-%20Creating%20a%20SageMaker%20Notebook/terraform" rel="noopener ugc nofollow" target="_blank">点击这里</a>查看我的GitHub repo，而不是在这里粘贴所有代码。我确实希望至少涉及到以下脚本的注释，所以我们将以快速的方式完成。我们走吧！</p><h2 id="5317" class="nx mj je bd mk ny nz dn mo oa ob dp ms ll oc od mu lp oe of mw lt og oh my jk bi translated">一般</h2><ul class=""><li id="18eb" class="nf ng je le b lf na li nb ll oi lp oj lt ok lx nk nl nm nn bi translated">您会注意到，我将Terraform配置分成了五个不同的文件，每个文件都代表了我们将要构建的资源的逻辑分离。这纯粹是出于组织的目的，您完全可以将它们放入一个单独的Terraform脚本中。</li><li id="225d" class="nf ng je le b lf no li np ll nq lp nr lt ns lx nk nl nm nn bi translated">我将Terraform Cloud用于我的个人部署，这就是为什么在<code class="fe nt nu nv nw b">main.tf</code>中描述的后端相当轻的原因。</li></ul><h2 id="386a" class="nx mj je bd mk ny nz dn mo oa ob dp ms ll oc od mu lp oe of mw lt og oh my jk bi translated">SageMaker笔记本实例</h2><ul class=""><li id="a443" class="nf ng je le b lf na li nb ll oi lp oj lt ok lx nk nl nm nn bi translated">如果您不太熟悉EC2，您可能不知道那个<code class="fe nt nu nv nw b">instance_type</code>字段是什么，也不知道如何正确地填充它。AWS提供了一系列面向ML的实例，每一个都有不同的好处。有些提供更多的RAM，更多的CPU，甚至GPU。当然，这些都是有成本的，您可以查看这些实例的完整列表以及相关的定价<a class="ae ly" href="https://aws.amazon.com/sagemaker/pricing/" rel="noopener ugc nofollow" target="_blank">在这里</a>。出于学习的目的，我选择了一个较小的实例类型<code class="fe nt nu nv nw b">ml.t2.medium.</code></li></ul><h2 id="f9a3" class="nx mj je bd mk ny nz dn mo oa ob dp ms ll oc od mu lp oe of mw lt og oh my jk bi translated">IAM角色</h2><ul class=""><li id="41cf" class="nf ng je le b lf na li nb ll oi lp oj lt ok lx nk nl nm nn bi translated">如上所述，我们将使用默认的<code class="fe nt nu nv nw b">AmazonSageMakerFullAccess</code>策略来附加到我们的IAM角色。这是一个AWS管理的政策，所以它的ARN在你的帐户和我的帐户中是一样的。</li><li id="13f2" class="nf ng je le b lf no li np ll nq lp nr lt ns lx nk nl nm nn bi translated"><code class="fe nt nu nv nw b">assume_role_policy</code>是Terraform需要的，所以不要以为你能像我一样愚蠢的逃脱！</li></ul><h2 id="fbcd" class="nx mj je bd mk ny nz dn mo oa ob dp ms ll oc od mu lp oe of mw lt og oh my jk bi translated">生命周期配置</h2><ul class=""><li id="2440" class="nf ng je le b lf na li nb ll oi lp oj lt ok lx nk nl nm nn bi translated">你可能想知道<code class="fe nt nu nv nw b">filebase64()</code>是什么。与其他编程语言一样，Terraform也提供了自己的一些基本功能。这个特定的函数实际上执行两个活动:从文件加载脚本，然后对该脚本进行base64编码，这是我们的生命周期脚本所需要的。(顺便说一下，Terraform确实在单独的变体中提供了那些功能:<code class="fe nt nu nv nw b">file()</code>和<code class="fe nt nu nv nw b">base64encode()</code>)。</li></ul><h1 id="5e5d" class="mi mj je bd mk ml mm mn mo mp mq mr ms kt mt ku mu kw mv kx mw kz mx la my mz bi translated">让您的笔记本实例变得栩栩如生！</h1><p id="c703" class="pw-post-body-paragraph lc ld je le b lf na ko lh li nb kr lk ll nc ln lo lp nd lr ls lt ne lv lw lx im bi translated">唷！走到这一步，路漫漫其修远兮，是时候看看自己的劳动成果了。无论您是在本地使用<a class="ae ly" rel="noopener" target="_blank" href="/terraform-sagemaker-part-1-terraform-initialization-a6470611ea92">terra form</a>还是使用<a class="ae ly" rel="noopener" target="_blank" href="/terraform-sagemaker-part-1b-terraform-initialization-with-terraform-cloud-954c85ee83cd"> Terraform Cloud </a>(这是我所走的路线)，继续并应用适当的命令来实现您的定制SageMaker笔记本实例。(警告:创建和启动笔记本实例大约需要10分钟。这并不意味着有什么问题。不幸的是，AWS需要很长时间来供应任何计算实例。)</p><p id="b490" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果您使用JupyterLab选项打开您的笔记本实例，您将看到类似下面的屏幕截图。两件事表明我们的部署是成功的，GitHub库的内容列在左边的导航界面中，b)我自己的自定义内核用红圈标出。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lz"><img src="../Images/746304bb6e7238d2172eedd8fe9111f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GXKqCOtz3wuzNVM9L4q8Zg.jpeg"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者截图</p></figure><p id="3154" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">现在让我们来看一下SageMaker notebook实例本身的一般设置。您将看到类似下面的截图。请注意，它恰当地指向了我们创建的生命周期配置，并用我们的Terraform脚本附加了该配置，但它并没有恰当地从GitHub附加我的<code class="fe nt nu nv nw b">ds-quick-tips</code>存储库。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lz"><img src="../Images/e7bcc282570d1ea07387a73f2bb6b9a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*29BHGLDHJ6Ri-jrVV3lRbg.jpeg"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者截图</p></figure><p id="0d3d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">最后，让我们把AWS的最后一关交给IAM。在这里，您可以看到我们专门为SageMaker笔记本实例创建的IAM角色，以及授予实例在SageMaker中做任何事情的完全访问权限的AWS管理的策略。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lz"><img src="../Images/32e7210a909d13272e4c3f4b82e35d2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_RLwGiN8Nnh2Bi-kHKcv4Q.jpeg"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者截图</p></figure><p id="5694" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">朋友们，这篇文章到此结束！这是一篇很长的文章，但我希望你会发现它对你自己的工作有价值。在下一篇文章中，我们将把同样的代码模块化，这样人们就可以很容易地使用它，并适当地交换他们自己的值。这样，如果你有两个数据科学家想要他们自己的笔记本实例在不同的GitHub存储库上工作，你可以用Terraform模块很容易地构建这些笔记本实例！感谢你坚持到这篇文章的最后。下一集再见！</p></div></div>    
</body>
</html>