<html>
<head>
<title>Machine Learning in Python vs. Julia - Is Julia Faster?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python vs. Julia中的机器学习——Julia更快吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/machine-learning-in-python-vs-julia-is-julia-faster-dc4f7e9e74db?source=collection_archive---------9-----------------------#2021-09-10">https://towardsdatascience.com/machine-learning-in-python-vs-julia-is-julia-faster-dc4f7e9e74db?source=collection_archive---------9-----------------------#2021-09-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ff45" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python和Julia的简单分类任务的计算速度的分析比较显示了显著的发现</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0a1170dc51ecaa3c760438f2068c8fba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-yLOyTY0VlnnSzJw"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@vargasuillian?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">尤利安·瓦加斯</a>拍摄的照片</p></figure><p id="0c39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Julia编程语言在麻省理工学院从一开始就被设计用于科学计算的高性能，但是领域专家在日常工作中仍然更喜欢较慢的语言，例如Python。Julia的官方网站提供了一组实验来比较Julia和其他编程语言中的计算速度。其中一个练习展示了使用Julia、SciLua、Rust、Go、Fortran、Java、Javascript、Matlab、Mathematica、Anaconda Python、R和Octave的当前版本计算斐波那契数列:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/ce2998b8d07c4aa3c90d9086b9600815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t6-7ajc5rtEUuFYcJZvPyg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://julialang.org/benchmarks/" rel="noopener ugc nofollow" target="_blank">朱莉娅1.6.1。文档。</a></p></figure><p id="730d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个练习表明，只有C能够比Julia更快地计算斐波那契数列。这样的竞争优势应该会让Julia在机器学习方面拥有超强的能力，使迭代更快，并为工程师节省时间。</p><p id="1054" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">真的是这样吗？本文深入研究了Julia和Python的性能，并比较了两种语言中手写数字的MNIST模型的训练时间。</p><h1 id="41df" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">实验设计</h1><p id="922e" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">为了比较Julia和Python的性能，我用这个设置运行了一个实验</p><ul class=""><li id="57a1" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">使用MNIST数据对手写数字任务(0-9)进行分类</li><li id="5fa9" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">标准成熟的编程解决方案</li><li id="3df0" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">其他条件相同的方法，尽最大努力使两种解决方案具有可比性</li><li id="857e" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">仅比较模型训练时间。</li></ul><p id="7127" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在JupyterLab的一台笔记本电脑上运行了这两个代码，该笔记本电脑配有英特尔酷睿i7–5500 u、2.40 GHz CPU和16 GB RAM。</p><h1 id="8861" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">数据</h1><p id="1389" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我使用ML教程中常用的手写数字的经典<a class="ae ky" href="http://yann.lecun.com/exdb/mnist/" rel="noopener ugc nofollow" target="_blank"> MNIST数据</a>。该数据集具有60，000个预处理的训练集和10，000个示例的测试集。数字已经过大小标准化，并在固定大小的图像中居中。<strong class="lb iu"> TensorFlow </strong>包含MNIST数据作为<a class="ae ky" href="https://www.tensorflow.org/datasets" rel="noopener ugc nofollow" target="_blank"> TensorFlow数据集</a>的一部分，而<strong class="lb iu"> Julia </strong>包含<a class="ae ky" href="https://juliaml.github.io/MLDatasets.jl/stable/" rel="noopener ugc nofollow" target="_blank"> MLDatasets </a>中相同的预处理数据。</p><h1 id="38f4" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated"><strong class="ak">朱丽亚实现</strong></h1><p id="4006" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated"><a class="ae ky" href="https://fluxml.ai/Flux.jl/stable/" rel="noopener ugc nofollow" target="_blank"> Flux </a>是Julia最喜欢的机器学习库之一。导入必要的Flux模块后，<em class="nh">统计</em>库，<em class="nh">ml数据集:</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="1a79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据经过整形、编码、展平，最后加载到训练集中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="0084" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我创建一个具有两个密集层和标准激活函数的模型编译函数，然后对其进行实例化:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="db26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我定义一个损失函数、学习率、ADAM优化器和包含从模型中获得的参数的<em class="nh"> ps </em>对象:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="6eb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后用10个时期训练该模型。<code class="fe nk nl nm nn b">@time</code>是衡量培训绩效的有用宏:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="9500" class="lw lx it bd ly lz nv mb mc md nw mf mg jz nx ka mi kc ny kd mk kf nz kg mm mn bi translated"><strong class="ak"> Python实现</strong></h1><p id="c635" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在TensorFlow中，代码非常基础，类似于Julia实现。在他们的<a class="ae ky" href="https://www.tensorflow.org/overview" rel="noopener ugc nofollow" target="_blank">网站</a>上查看更多详情。我使用<em class="nh">时间</em>库来测量模型训练时间:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/68d18f12dca88b1f00ca7a9a5439d029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vy9h2w5ftWj6S5yE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">伊恩·施耐德在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="9626" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">瞧，结果出来了！</h1><p id="1376" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">由于Julia比Python晚了几十年才被开发出来用于对大量数据进行快速计算，所以人们会期望它能决定性地超越Python。所以，结果在这里:</p><p id="598d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Python: </strong>训练时间:33.1秒</p><p id="4861" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">朱莉娅: 92.4秒</p><p id="3a17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我对内存分配或其他指标不感兴趣，但这些数字令人兴奋。为了更好地理解它们，让我们检查一下TensorFlow中的API层次结构。</p><blockquote class="ob oc od"><p id="45eb" class="kz la nh lb b lc ld ju le lf lg jx lh oe lj lk ll of ln lo lp og lr ls lt lu im bi translated">TensorFlow的核心不是用Python写的。它是用C++编写的，使用Python作为包装器。虽然C++是一个低级API，但Python为构建模型和应用程序提供了一个方便的前端API。</p></blockquote><p id="65d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个事实清楚地解释了这个结果。TensorFlow API层次结构在本教程中有很好的解释。</p><h1 id="484b" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated"><strong class="ak">结论</strong></h1><p id="f44b" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Julia是一种伟大的语言，它的创造者理所当然地获得了J. H. Wilkinson奖，以表彰他们在数字软件领域的杰出贡献。它一直在扩大用户群体，并且是2021年<a class="ae ky" href="https://insights.stackoverflow.com/survey/2021#technology-most-loved-dreaded-and-wanted" rel="noopener ugc nofollow" target="_blank">堆栈溢出开发者调查</a>中“喜爱与恐惧”类别中排名第五的编程语言。</p><p id="f90a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它将在科学计算、时间序列和风险分析、宏观经济预测、气候建模等领域找到大量的用例。</p><ul class=""><li id="8ea7" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">在宏观建模中，MATLAB是一个流行的工具，Julia将加速模型估计</li><li id="733a" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">在天气建模中，Julia可能会在处理大量数据时做同样的事情。</li></ul><p id="11ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，本文表明TensorFlow仍然可以使模型迭代更快，因为它依赖于C++后端。在许多情况下，它仍然是训练ML模型的优选选择。</p><p id="d4f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nh"> PS:你可以订阅我的</em> <a class="ae ky" href="https://medium.com/subscribe/@petrkorab" rel="noopener"> <em class="nh">邮件列表</em> </a> <em class="nh">每次我写新文章都会收到通知。如果你还不是中等会员，你可以在这里加入</em><a class="ae ky" href="https://medium.com/@petrkorab/membership" rel="noopener"><em class="nh"/></a><em class="nh">。</em></p></div></div>    
</body>
</html>