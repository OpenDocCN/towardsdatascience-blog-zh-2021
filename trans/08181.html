<html>
<head>
<title>House Price Forecasting using Zillow Economics dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于Zillow经济学数据集的房价预测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/house-price-forecasting-using-zillow-economics-dataset-2b58e6cd1c03?source=collection_archive---------25-----------------------#2021-07-27">https://towardsdatascience.com/house-price-forecasting-using-zillow-economics-dataset-2b58e6cd1c03?source=collection_archive---------25-----------------------#2021-07-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="59af" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">现实世界中的DS</h2><div class=""/><div class=""><h2 id="0266" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">基于SARIMA模型的房价时间序列预测</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/70f23f9c3f5517714b371151f02bf806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iWSKR_7fZa5GoyUpxIq9EA.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="4f7a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在<a class="ae md" rel="noopener" target="_blank" href="/house-price-prediction-with-zillow-economics-dataset-18709abff896">之前的博客</a>中，我们讨论了使用机器学习算法的房价预测模型。在这篇博客中，我们将讨论使用统计建模方法对Zillow economics数据进行时间序列预测。该项目于2019年9月实施，并对下一年即2020年的房价进行了预测。通过改变预测的跨度，即预测的年份或预测的持续时间，可以重用代码。本博客中讨论的结果是2020年的。</p><p id="ef56" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">该项目通过使用ARIMA 2020年的统计模型预测房价，并显示全国和州房价的总体趋势，从而帮助客户、房地产代理商、房屋交易公司和其他投资者。2008/2009年的大衰退给美国房地产市场带来了巨大损失。然而，房地产市场已经反弹，经历了房地产市场房价下跌后的快速上涨。投资房子是重大决策，需要慎重考虑。</p><p id="190f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">房地产市场的上升趋势使得整个行业相当不稳定。因此，建议潜在买家在房产调查时多花些功夫，考虑他们的预算、财产税和其他各种因素。因此，对于潜在的买家和卖家来说，在采取大的或小的步骤之前，咨询房地产和房屋市场专家变得不仅仅是必要的。这个房屋预测数据科学项目将帮助买家、卖家、房地产顾问和其他利益相关者进行决策。[1]</p><p id="2343" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">本项目中使用的数据集是</p><p id="4ced" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">1) Zillow经济学数据集-县时间序列和县人行横道</p><p id="1faf" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">数据来源:【https://www.kaggle.com/zillow/zecon T2】</p><p id="e25d" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">Zillow的经济研究团队从各种公共和私有来源收集、整理和发布住房和经济数据。向当地市政府归档的公共财产记录数据，包括契约、财产事实、地块信息和交易历史，构成了我们数据产品的主干，并通过Zillow上的财产清单和用户行为衍生的专有数据得到充实。</p><p id="fb4c" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">Zillow汇总的大部分房地产市场和经济数据都可以在zillow.com/data.免费下载</p><p id="4ad9" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">可用的数据文件有:cities_crosswalk.csv、City_time_series.csv、County_time_series.csv、CountyCrossWalk_Zillow.csv、DataDictionary.csv、Metro_time_series.csv、Neighborhood_time_series.csv、Neighborhood_time_series.csv、State_time_series.csv、Zip_time_series.csv [2]</p><p id="54b4" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我用的是County_time_series.csv，CountyCrossWalk_Zillow.csv [2]</p><p id="b604" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">时间序列数据依赖于时间；以恒定的时间间隔进行采样。Zillow每个月底都会收集数据。时间序列会有某种形式的季节性趋势。平稳时间序列的统计特性如均值、方差、自相关等。都是不变的。大多数统计预测方法都是基于这样一种假设，即通过使用数学变换，时间序列可以呈现为近似平稳的(即“平稳化”)。一个平稳化的序列相对容易预测:你简单地预测它的统计特性在未来将会和过去一样！</p><p id="fa64" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">试图使时间序列平稳化的另一个原因是为了能够获得有意义的样本统计数据，如均值、方差以及与其他变量的相关性。如果序列是稳定的，这种统计作为未来行为的描述符<em class="me">仅</em>是有用的。例如，如果序列随着时间的推移不断增加，样本均值和方差将随着样本的大小而增加，并且他们将总是低估未来期间的均值和方差。</p><p id="8687" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">使用plolty绘制的“所有房屋的销售价格中值”如下所示。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/8f20e57f12bbb157e44d937ca5a7f8ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Z81z8WyZA2urnxSshK7Bfg.png"/></div></figure><p id="3f46" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">按月重采样后</strong></p><p id="dd41" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下图是按月重新采样后的视图。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/3531c65f7722274045aaf9a25b8e298e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*cVSyDKOuvIykpWolhRQwqw.png"/></div></figure><p id="a8e2" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">用迪基富勒测试检查平稳性</strong></p><p id="2d77" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">扩展的Dickey-Fuller测试是一个众所周知的统计测试，可以帮助确定您的时间序列是否是平稳的。[4]</p><p id="4949" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">静止与非静止</strong></p><p id="a4c5" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在平稳的时间序列中，均值和方差等统计属性在一段时间内保持不变。在非平稳序列中，这些属性依赖于时间。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mg"><img src="../Images/15f92d1f9daedb204e47d2d24b1500e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rv_bDcLynfAOMfcmdfjsMw.png"/></div></div></figure><p id="d984" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了确定一个时间序列是否平稳，我们将使用ADF检验，一种单位根检验。单位根是不稳定的一个原因，ADF测试将测试单位根是否存在。[7]</p><p id="a23d" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果时间上的单次移动不改变时间序列的统计特性，则时间序列是平稳的，在这种情况下，单位根不存在。</p><p id="77a2" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">扩充的Dickey-Fuller检验的无效假设和替代假设定义如下:</p><p id="62fb" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">零假设表明存在单位根。</p><p id="bcd0" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">另一种假设认为没有单位根。换句话说，平稳性是存在的。</p><p id="6218" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果P值小于定义的显著性水平，我们拒绝时间序列包含单位根的零假设。换句话说，通过拒绝零假设，我们可以得出结论，时间序列是平稳的。</p><p id="1174" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果P值非常接近您的显著性水平，您可以使用临界值来帮助您得出关于时间序列平稳性的结论。我为这个测试所做的实现在Python Jupyter的笔记本中，可以根据需要获得。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mh"><img src="../Images/264758a06e1ce2b7c74b5cce36a1cf29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QtvoYCSjLRWUIozMv6Snkg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mi">对时间序列执行Adfuller函数后的初始值</strong></p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/b89d7b6234dae27ca599ec0bd7dd2e94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*R2OXshvPQcbUIXFcdCPccg.png"/></div></figure><p id="65fd" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这里的滚动平均值不断增加，因此时间序列是非平稳的。在上图中，我们可以看到，检验统计量(p值) &gt;临界值为5%，所以该时间序列是非平稳的。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/6291335f567e5b8b2bc97ef8e39d0370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*e9WdH_gb_vhg74ccdwFMTg.png"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/7db5fe5b2a0b78e4117a6d77516b8080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Pkd2pjLMfxlT08qdBKRZxg.png"/></div></figure><p id="4bbc" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">消除趋势和季节性</strong></p><p id="659c" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">差分就是用一个特定的时间间隔来计算差值。分解是对趋势和季节性建模，并将它们从模型中移除。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/ee1a81be4375bc740b0cfd8e8078aff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*V52flhz_oAT90pDAfa9yiA.png"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/d0ccd23c373eeeefd3e1c34d8e129b51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*SPS-RKiIyl3RWuhSgWKCdA.png"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/0cc2d41e039b33c18e8b43ff75ed53ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*JyGbqK8WtdNG-CKEg_qR1Q.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mi">消除趋势和季节性</strong></p></figure><p id="7790" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">差异:在特定的时间间隔内取差异，分解:建模趋势和季节性，并从模型中移除它们</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/d0ccd23c373eeeefd3e1c34d8e129b51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*SPS-RKiIyl3RWuhSgWKCdA.png"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/a995f07ee6ef171e4a3149fd4905daa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*wdgusjSY3vW1Ufwt6tDldw.png"/></div></figure><p id="cc74" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">测试统计&lt; critical value &amp; p-value is 0.000005. We are getting constant mean and standard deviation. So now we got stationary time series.</p><p id="3293" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd"> ARIMA </strong></p><p id="5dd7" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">ARIMA算法是一类捕捉时间序列数据中时间结构的模型。然而，仅使用ARIMA模型，很难对变量之间的非线性关系进行建模。</p><p id="2e5c" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">自回归综合移动平均模型(ARIMA)是自回归移动平均(ARMA)的广义模型，它结合了自回归(AR)过程和移动平均(MA)过程，建立了时间序列的复合模型。</p><p id="c5ba" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">AR:自回归。一种回归模型，使用一个观察值和多个滞后观察值之间的相关性。</p><p id="e916" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">一:集成</strong>。通过测量不同时间观察值的差异使时间序列平稳。</p><p id="09dc" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">移动平均线</strong>。当移动平均模型用于滞后观测值(q)时，考虑观测值和剩余误差项之间相关性的一种方法。p阶AR模型的简单形式，即AR (p ),可以写成线性过程，由下式给出:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/2a32d3971987d40343d61e3307ff0955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*KSetUkbH-cJw46nB533New.png"/></div></figure><p id="4cbd" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这里Xt <em class="me"> </em>代表<em class="me"> </em>平稳变量，<strong class="lj jd"> c </strong>为常数，<em class="me"> ∅t </em>中的项为滞后1，2，…，p处的自相关系数，<strong class="lj jd"> <em class="me"> ξt，</em> </strong>为残差，为均值为零且方差为<strong class="lj jd"> σt </strong>的高斯白噪声序列。</p><p id="63a3" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">ARIMA模型的一般形式被表示为ARIMA (p，q，d)。对于季节性时间序列数据，短期非季节性成分可能会对模型产生影响。ARIMA模型通常表示为ARIMA (p，q，d)，其中:—</p><ul class=""><li id="ac41" class="mk ml it lj b lk ll ln lo lq mm lu mn ly mo mc mp mq mr ms bi translated">p是用于训练模型的滞后观测值的数量(即滞后阶数)。</li><li id="0e73" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc mp mq mr ms bi translated">d是应用差分的次数(即差分的程度)。</li><li id="c997" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc mp mq mr ms bi translated">q是移动平均窗口的大小(即移动平均的阶数)。</li></ul><p id="50b7" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">例如，ARIMA (5，1，0)表示自回归的滞后值设置为5。它使用差序1使时间序列平稳，最终不考虑任何移动平均窗口(即大小为零的窗口)。RMSE可用作误差度量来评估模型的性能、评估预测的准确性以及评估预报。</p><p id="d465" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">因此，我们需要估计季节性ARIMA模型，它在一个乘法模型中包含了非季节性和季节性因素。季节性ARIMA模型的一般形式表示为(P，Q，d) X (P，Q，D)S，其中P是非季节性AR订单，D是非季节性差异，Q是非季节性MA订单，P是季节性AR订单，D是季节性差异，Q是季节性MA订单，S是重复季节性模式的时间跨度。估计季节性ARIMA模型最重要的一步是确定(P，Q，D)和(P，Q，D)的值。</p><p id="11a9" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">然后，使用自相关函数(ACF)来测量由滞后P分隔的时间序列中的观测值之间的线性相关量，使用偏自相关函数(PACF)来确定需要多少个自回归项q，使用反自相关函数(IACF)来检测过差分，我们可以识别自回归阶P、差分阶D、移动平均阶q的初始值以及它们相应的季节参数P、D和q。参数D是从非平稳时间序列到平稳时间序列的差频变化的阶。</p><p id="07cd" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在针对单个时间序列数据的流行的单变量方法“自回归移动平均(arMA)”中，自回归(AR)和移动平均(MA)模型被结合起来。单变量“自回归综合移动平均(ARIMA)”是一种特殊类型的ARMA，其中模型中考虑了差异。</p><p id="ddae" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">多变量ARIMA模型和向量自回归(VAR)模型是其他最流行的预测模型，这些模型又通过允许一个以上的演变变量来推广单变量ARIMA模型和单变量自回归(AR)模型。</p><p id="e786" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">ARIMA是一种基于线性回归的预测方法，最适合预测一步样本外预测。这里，所开发的算法执行具有重新估计的多步样本外预测，即，每次模型被重新拟合以建立最佳估计模型。该算法处理输入的“时间序列”数据集，建立预测模型，并报告预测的均方根误差。它存储两个数据结构来保存每次迭代中累积添加的训练数据集“历史”，以及测试数据集的连续预测值“预测”</p><h1 id="4840" class="my mz it bd na nb nc nd ne nf ng nh ni ki nj kj nk kl nl km nm ko nn kp no np bi translated">萨里玛</h1><p id="16c9" class="pw-post-body-paragraph lh li it lj b lk nq kd lm ln nr kg lp lq ns ls lt lu nt lw lx ly nu ma mb mc im bi translated">ARIMA是用于单变量时间序列数据预测的最广泛使用的预测方法之一，但是它不支持具有季节成分的时间序列。扩展了ARIMA模型(SARIMA ),以支持该系列的季节性部分。SARIMA(季节性自回归综合移动平均)是一种时间序列预测方法，用于包含趋势和季节性的单变量数据。SARIMA由该系列的趋势和季节元素组成。[8]</p><p id="024a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">与ARIMA模型相同的一些参数是:</p><ul class=""><li id="3361" class="mk ml it lj b lk ll ln lo lq mm lu mn ly mo mc mp mq mr ms bi translated"><strong class="lj jd"> p </strong>:趋势自回归顺序。</li><li id="a00c" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc mp mq mr ms bi translated"><strong class="lj jd"> d </strong>:趋势差序。</li><li id="bac5" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc mp mq mr ms bi translated"><strong class="lj jd"> q </strong>:趋势移动平均订单</li></ul><p id="531e" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">不属于ARIMA的四个季节要素是:</p><ul class=""><li id="437d" class="mk ml it lj b lk ll ln lo lq mm lu mn ly mo mc mp mq mr ms bi translated"><strong class="lj jd"> P </strong>:季节性自回归顺序。</li><li id="65e7" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc mp mq mr ms bi translated"><strong class="lj jd"> D </strong>:季节差价订单。</li><li id="86a3" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc mp mq mr ms bi translated"><strong class="lj jd"> Q </strong>:季节性移动平均订单。</li><li id="c5d0" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc mp mq mr ms bi translated"><strong class="lj jd"> m </strong>:单个季节周期的时间步数。</li></ul><p id="1150" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">因此，SARIMA模型可以指定为:</p><p id="d722" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd"> <em class="me">萨里玛(P，D，q) (P，D，Q)米</em> </strong></p><p id="fedd" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果m是12，它指定每月数据表示每年的季节性周期。</p><p id="8c54" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">SARIMA时间序列模型还可以与空间和基于事件的模型相结合，以产生解决多维ML问题的集成模型。这样的ML模型可以被设计来预测一年中一天中不同时间的蜂窝网络中的小区负载，如下面的示例图所示</p><p id="216f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><em class="me">来自时间序列分析的自相关、趋势和季节性(工作日、周末效应)可用于解释时间影响。</em></p><p id="e8ba" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">调整SARIMA超参数</strong></p><p id="a5e6" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">配置SARIMA需要为序列的趋势和季节元素选择超参数。</p><h1 id="c496" class="my mz it bd na nb nc nd ne nf ng nh ni ki nj kj nk kl nl km nm ko nn kp no np bi translated"><strong class="ak">实施细节</strong></h1><p id="8d73" class="pw-post-body-paragraph lh li it lj b lk nq kd lm ln nr kg lp lq ns ls lt lu nt lw lx ly nu ma mb mc im bi translated">我使用SARIMA为时间序列预测编写的python代码(Jupyter notebook)可以按需获得。</p><p id="ce72" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">用于预测时间序列数据的一个常用模型是ARIMA模型。它代表自回归综合移动平均线。如您所知，数据具有季节性，因此让我们使用季节性ARIMA，SARIMAX来预测模型。</p><p id="c441" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">Python中可用于建模和预测时间序列未来点的方法之一称为SARIMAX，它代表带有外生回归量的季节性自回归综合移动平均。</p><p id="69d5" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">使用的API是-stats models . TSA . statespace . sarimax . sarimax[5]</p><p id="77c5" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">使用的指标</strong></p><p id="4b7f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd"> R </strong></p><p id="8bbd" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">r表示项(数据点)与曲线或直线的拟合程度。</p><p id="a920" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd"> MSE — </strong>均方误差</p><p id="b4ea" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd"> RMSE </strong> —均方根误差。它是MSE的平方根。</p><h1 id="9ca9" class="my mz it bd na nb nc nd ne nf ng nh ni ki nj kj nk kl nl km nm ko nn kp no np bi translated">使用Zillow Economics数据集中的County_time_series进行县级房价中位数预测</h1><p id="513c" class="pw-post-body-paragraph lh li it lj b lk nq kd lm ln nr kg lp lq ns ls lt lu nt lw lx ly nu ma mb mc im bi translated">每个Zillow房屋价值指数(ZHVI)是一个时间序列，跟踪特定地理区域的每月房屋价值中位数。一般来说，每个ZHVI时间序列始于1996年4月。Zillow生成了七个地理级别的ZHVI:街区、邮政编码、城市、国会选区、县、大都市地区、州和国家。我们用一个县的房价中值来做预测。我们先来看趋势。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/479fead1835af62bfcce6ef95989b133.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*BmKa6UvuETfMfgd_Rl3Pgg.png"/></div></figure><p id="1477" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在上图中，你可以看到一个清晰的趋势，但趋势中也有季节性。时间序列的预测应该是稳定的，否则预测将是不正确的。</p><h1 id="c811" class="my mz it bd na nb nc nd ne nf ng nh ni ki nj kj nk kl nl km nm ko nn kp no np bi translated">预测模型(县序列ZHVI _所有家庭)</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/a389a0fa0d2f8ea6228176966ca84276.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*DY5ifr0AkNtkbMAam1qKnQ.png"/></div></figure><p id="94fd" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">从上面的图表中，我们可以看到-</p><p id="7f5f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">直方图与KDE略有不同。线性回归是可以改进的。</p><p id="109e" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">验证模型</strong></p><p id="e943" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们通过列车测试和分离来验证该模型。[80, 20]</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/3000ffe8acfc1ebd3270eee1eb87f023.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*HJ9skUEPX6mUoXew_U5uEw.png"/></div></figure><p id="b247" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">上面的预测并不完美，但与其他参数相比仍然是更好的。让我们看看模型的均方误差。</p><p id="7247" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">得到的均方误差为95146.11</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/f4b6051135e8ed83826308da04857f6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*4yjCrJx8mgB5WtxeyOTzyA.png"/></div></figure><p id="bd1d" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在上图中，您可以看到对未来24个月的预测，置信区间也更好，并且没有看到太大的差异。</p><p id="edf3" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">预测清楚地表明，与2019年相比，2020年的房价将会上涨。</p><h1 id="e0ed" class="my mz it bd na nb nc nd ne nf ng nh ni ki nj kj nk kl nl km nm ko nn kp no np bi translated">后续步骤</h1><p id="328b" class="pw-post-body-paragraph lh li it lj b lk nq kd lm ln nr kg lp lq ns ls lt lu nt lw lx ly nu ma mb mc im bi translated">作为下一步，我想使用亚马逊预测API来预测房价，并检查它是否会给出更好的结果。</p><h1 id="b0bf" class="my mz it bd na nb nc nd ne nf ng nh ni ki nj kj nk kl nl km nm ko nn kp no np bi translated">承认</h1><p id="b4c5" class="pw-post-body-paragraph lh li it lj b lk nq kd lm ln nr kg lp lq ns ls lt lu nt lw lx ly nu ma mb mc im bi translated">我真诚地感谢我的数据科学导师Ramakrishna Soma博士对我完成这个项目的指导和鼓励。</p><h1 id="2c9f" class="my mz it bd na nb nc nd ne nf ng nh ni ki nj kj nk kl nl km nm ko nn kp no np bi translated">参考</h1><ol class=""><li id="5684" class="mk ml it lj b lk nq ln nr lq nw lu nx ly ny mc nz mq mr ms bi translated"><a class="ae md" href="https://www.washingtonpost.com/business/2019/01/07/experts-weigh-what-housing-market-will-bring/" rel="noopener ugc nofollow" target="_blank">https://www . Washington post . com/business/2019/01/07/experts-weigh-what-housing-market-will-bring/</a></li><li id="9215" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc nz mq mr ms bi translated">Zillow经济学数据集【https://www.kaggle.com/zillow/zecon T4】</li><li id="494a" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc nz mq mr ms bi translated"><a class="ae md" href="https://people.duke.edu/~rnau/411diff.htm" rel="noopener ugc nofollow" target="_blank">https://people.duke.edu/~rnau/411diff.htm</a></li><li id="35b0" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc nz mq mr ms bi translated">Dickey Fuller测试stats models . TSA . stat tools . ad Fuller—stats models</li><li id="fc0f" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc nz mq mr ms bi translated">ARIMA模型SARIMAX API<a class="ae md" href="http://www.statsmodels.org/dev/generated/statsmodels.tsa.statespace.sarimax.SARIMAX.html" rel="noopener ugc nofollow" target="_blank">http://www . stats models . org/dev/generated/stats models . TSA . statespace . SARIMAX . SARIMAX . html</a></li><li id="b2d6" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc nz mq mr ms bi translated">用Zillow Economics数据集进行房价预测<a class="ae md" rel="noopener" target="_blank" href="/house-price-prediction-with-zillow-economics-dataset-18709abff896">https://towards data science . com/house-price-Prediction-with-Zillow-Economics-Dataset-18709 abff 896</a></li><li id="e681" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc nz mq mr ms bi translated">如何用Python检查时间序列数据是否平稳<a class="ae md" href="https://machinelearningmastery.com/time-series-data-stationary-python/" rel="noopener ugc nofollow" target="_blank">https://machine learning mastery . com/Time-Series-Data-Stationary-Python/</a></li><li id="917c" class="mk ml it lj b lk mt ln mu lq mv lu mw ly mx mc nz mq mr ms bi translated">关于用Python进行时间序列预测的SARIMA的简单介绍<a class="ae md" href="https://machinelearningmastery.com/sarima-for-time-series-forecasting-in-python/" rel="noopener ugc nofollow" target="_blank">https://machinelementmastery . com/sa Rima-for-Time-Series-Forecasting-in-Python/</a></li></ol></div></div>    
</body>
</html>