<html>
<head>
<title>Clean Code for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向数据科学家的干净代码</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/clean-code-for-data-scientists-db1d88c42fab?source=collection_archive---------24-----------------------#2021-04-25">https://towardsdatascience.com/clean-code-for-data-scientists-db1d88c42fab?source=collection_archive---------24-----------------------#2021-04-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/2a71be3685c3e6b2dd55f3518261f4b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t3azBK9vll8EnhyJ"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae jd" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><div class=""/><div class=""><h2 id="8b5c" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">第2部分—方法</h2></div><p id="fa99" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你在这里，这意味着<strong class="kx jh">你理解干净代码的重要性，并且你想掌握它</strong>。太神奇了。正如我在<a class="ae jd" href="https://medium.com/p/6fc90872398f" rel="noopener">上一篇文章</a>中提到的，你的意图和想法将会完成大部分工作。让我们添加一些实用的提示，你就可以开始了。</p><h1 id="79b2" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">我想写干净的代码，但是怎么做呢？</h1><p id="f137" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">如果你真的很认真，你想知道整个理论，我推荐阅读罗伯特·c·“鲍勃叔叔”马丁的<strong class="kx jh">《干净代码:敏捷软件工艺手册》</strong>。但是，如果您没有时间，或者您正在寻找更多面向数据科学的技巧，那也没关系。我将与你分享我的两分钱和我所学习和使用的东西。</p><p id="38ec" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是，我必须警告你，从现在开始——这只是建议。没有对错之分(比如命名惯例)，<strong class="kx jh">你只需要坚持某件事</strong>。另外，可能还有更多指导方针，我只是列出了最适合我的和我认为最方便的:</p><ul class=""><li id="9814" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">将您的代码质量与草稿级别相匹配</li><li id="33c4" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">童子军规定——让露营地比你发现时更干净</li><li id="ad3b" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">保持简单</li><li id="5c67" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">深思熟虑地命名变量、类和函数</li><li id="b942" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">确保你的函数很短，只做一件事，并且没有副作用</li><li id="bedf" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">报纸文章——脚本的顶部应该是最顶层的函数，越往下越详细</li><li id="2d85" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">少即是多——简短，无评论</li></ul><h1 id="95c8" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">将您的代码质量与草稿级别相匹配</h1><p id="e7c7" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">正如我在<a class="ae jd" href="https://medium.com/p/6fc90872398f" rel="noopener">上一篇文章</a>中提到的，作为数据科学家，编写干净代码的挑战之一是，很多时候，我们开始一个项目(POC/数据探索),我们不确定它是否可行，以及我们是否会再次使用它。因此<strong class="kx jh">很难(当然也没有回报)投入很多时间为这些情况编写干净的代码</strong>。当它工作时，问题出现了，我们将它集成到我们的解决方案中，并在生产中发现这个写得很差的代码。</p><p id="0494" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">克服这个问题的方法——不要在探索性代码上投入太多，但要保持现实生活中的解决方案整洁，就是使代码质量与草稿水平相匹配。</p><p id="fa01" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我说的代码质量是什么意思？为了更好地定义代码质量，我把我的代码分成三个质量等级。</p><h2 id="4d6e" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">1.一团糟</h2><p id="aee9" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">想象一下你自己正在尝试一种你刚刚学到的新算法，检查它是否对你的数据有效，或者得到一个新的数据集并了解其中的内容。它将是<strong class="kx jh">快速而肮脏的</strong>——没有花哨的类，没有经过深思熟虑的变量名，您可能会将您的数据框命名为“df ”,而这一切都将被扔进一个脚本中，就像您在洗衣篮中的衣服一样。</p><h2 id="feb0" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">2.相对可读的代码</h2><p id="f6c6" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这可能不是最棒的一段代码，但是<strong class="kx jh">其他人将能够理解</strong>发生了什么。变量名应该有意义，应该很好地划分成函数或类。它不会遵循所有的协议，可能不包括单元测试，但它是一个开始和重构的好地方。</p><h2 id="d245" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">3.最重要的是——代码的蒙娜丽莎</h2><p id="cbe3" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这是将授予你诺贝尔奖最伟大的代码工匠转变的代码。是的，我可能夸大了。这是<strong class="kx jh">生产级代码</strong>，所以它应该反映出你所得到的最好的东西，并且<strong class="kx jh">符合你希望遵循的所有准则</strong>，因为你会希望这段代码在未来尽可能地不受bug影响，并且最容易维护(无论是你自己还是你的团队成员)。</p><p id="ab08" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，考虑到这些质量水平，我根据任务及其成熟度匹配我的写作水平，并让它沿着这条路发展:</p><ul class=""><li id="f82f" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">如果你正在编写一个<strong class="kx jh">低风险算法</strong>并且你对自己的方法有把握，那么从一个<strong class="kx jh">高水平的代码质量</strong>(介于2到3之间)开始。</li><li id="d6d4" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">如果您正在开始POC、实施<strong class="kx jh">高风险算法、</strong>或进行可能是一次性的数据探索，<strong class="kx jh">从1开始，随着您的进步并了解什么可行，什么不可行，逐渐过渡到2 </strong>。这样，你从低质量的代码开始，快速前进，尝试不同的方法、算法等。并在您开始看到潜力时改进您的代码。</li><li id="c784" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">出于任何其他目的，使用2并逐渐将其向上移动至3 以准备释放。</li><li id="1e4e" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">最重要的规则是<strong class="kx jh">永远不要留下乱七八糟的代码</strong>！在进入之前，基本上进行重构，同时你还记得你试图实现什么以及如何实现。留下的杂乱代码在未来将是无用的，你可能不得不重写它。</li></ul><h1 id="72fd" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">一般准则</h1><h2 id="3120" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated"><strong class="ak">童子军规则</strong></h2><p id="3ea0" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">如果要我说出我的第一条规则，那就是童子军规则。童子军规定各州要保持营地比你发现时干净。或者在我们的例子中— <strong class="kx jh">总是让代码比你发现的更好</strong>。这是什么意思？</p><ul class=""><li id="6992" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">在团队中工作时，不要害怕改变别人的代码。当你遇到一个写得不好的代码，不管是大的还是小的，需要改变的时候——改变它。你不需要请求许可或仔细考虑——<strong class="kx jh">这是你的职责</strong>。</li><li id="c56b" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">独自工作时——<strong class="kx jh">重新审视自己的代码时修改它</strong>，不断重构和编辑以使它变得更好。</li><li id="ece3" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">应用童子军规则将确保您的代码库始终处于最高水平。</li><li id="c89f" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">当你在高质量测试和高测试覆盖率的代码上工作时，遵循童子军规则是最简单的。这样，你会感到安全，因为重构不会造成任何伤害。然而，缺乏测试不应该阻止你重构。你总是可以写一些测试来确保功能保持不变并进行重构。</li></ul><h2 id="ce2d" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">保持简单</h2><p id="6f58" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">第二个重要的指导方针是“保持简单”。我曾经得到一个很好的建议— <strong class="kx jh">写代码的时候，用一半的脑细胞去读代码</strong>。原因很明显——阅读代码要困难得多，所以我们在编写代码时应该以简单为目标。总是问自己——这能写得更简单吗？</p><h1 id="b5c1" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">命名规格</h1><p id="cd0b" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">写代码就像讲故事，而你的名字选择是故事的一个重要部分。在编写代码时，确保你投入时间和精力在选择能透露尽可能多信息的名字上。</p><p id="72a4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当你为你的函数/变量选择一个名字时，为了下一个阅读它的人(当然，可能是未来的你)，<strong class="kx jh">这个名字创造了一个对那里将会有什么的期望</strong>。这些期望是两个因素的结果:</p><ul class=""><li id="95af" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">该名称的<strong class="kx jh">语义含义</strong>。我们期望函数“def load_training_set()”加载数据，但我们不会期望它过滤掉空值，对吗？我们期望变量“student”代表一个人，所以如果它是一个列表，那就令人困惑了。</li><li id="5963" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><strong class="kx jh">格式</strong>——<strong class="kx jh">怎么写</strong>。如果标准约定是用大写字母书写常量值，并且您将数据框命名为“TRAINING_DATA ”,那么您的代码可读性更差，也更难解释。</li></ul><p id="47ca" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当在代码中命名一个实例时，你应该总是考虑你创建的<strong class="kx jh">期望，并确保它匹配它的内容</strong>。如果不是，重命名它。</p><p id="7719" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下指南包含一般建议和具体约定。需要注意的是<strong class="kx jh">这种特殊的约定并不神圣，重要的是要有一个符合目的的一致约定</strong>——让你的代码更具可读性，符合读者的期望，并且有一个标准化的代码库。</p><p id="8530" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">通常，在整个代码中，请注意以下几点:</p><ul class=""><li id="ec27" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">连贯的术语——每个概念使用一个术语(例如，不要同时使用“获取”和“取得”来描述同一个动作)。</li><li id="f1a7" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">避免将同一个词用于两个目的。</li><li id="2bd6" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">使用变量名作为一种方式来说明代码正在做什么。</li></ul><h2 id="33fa" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">常量变量</h2><p id="17ee" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">用常量变量代替硬编码的字符串或整数，写成全大写:</p><ul class=""><li id="15aa" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">例如，使用“CLASSIFICATION_THRESHOLD=0.8”代替0.8。</li><li id="fb1a" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">给它们一个描述性的名称。</li><li id="8c32" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">将它们放在代码的顶部或外部设置文件中。</li><li id="4619" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">阅读、搜索、更改值和测试将变得更加容易。</li></ul><h2 id="0e24" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">变量名</h2><p id="5e35" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">您的变量名应该是:描述性的、可发音的、可搜索的、解释性的、揭示意图的:</p><ul class=""><li id="fbdf" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">比如不用“df”，用“train_set”。</li><li id="2bfa" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">对数组和列表使用复数，而不是命名它们的类型。例如，用“学生”代替“学生列表”。</li><li id="caf0" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">使用单词，而不是缩写。比如用“learning_rate”代替“lr”。</li><li id="7d45" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">长总比暧昧好。</li></ul><h2 id="e26d" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">类名</h2><p id="1b12" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">您的类名应该是:</p><ul class=""><li id="0c0b" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">名词或名词短语，如分类器、数据处理程序。</li><li id="1f8f" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">避免使用通用名称，如管理器、处理器。</li></ul><h2 id="2b20" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">功能名称</h2><p id="434f" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">您的函数名应该:</p><ul class=""><li id="d764" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">说他们做什么。</li><li id="9274" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">包含动词或动词短语名称，如“evaluate_model”。</li><li id="04f1" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">尽可能具体。比如用“load_training_data”代替“load”。</li><li id="eaf9" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">模仿你告诉你朋友这个函数是做什么的方式</li><li id="4324" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">如果它们仅供本课程内部使用，则以_开头。比如“_load_training_data”。</li></ul><h1 id="8a66" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">功能</h1><ul class=""><li id="1b2e" class="mo mp jg kx b ky mj lb mk le no li np lm nq lq mt mu mv mw bi translated">应该是小的——把一个大的功能分成几个小的。</li><li id="a54b" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">应该比那个小。</li><li id="25b2" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">经验法则——不要超过20行。当一个函数中有这么多行代码时，很难理解它做了什么。但是如果你把它分成更小的块，每个块都有一个有意义的名字，那就完全是另外一回事了。</li><li id="8067" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">如果你发现自己在函数中寻找几行代码——它们应该是自己的函数。</li><li id="ba62" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">每个函数应该做一件事，而且只做一件事。它要么做点什么，要么回答点什么，而不是两者都做。</li><li id="3368" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">不要重复自己——这就是函数的作用。如果需要——将函数拆分成更小的方法，然后重用它们。</li><li id="1010" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">没有副作用——不要改变任何你不应该改变的东西。</li><li id="f40a" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">当调用一个函数时，总是写下参数名和它们的值。这将使它更容易阅读和理解。</li><li id="676f" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">参数越少越好—尽量避免超过3个参数。</li><li id="485d" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">尽量用函数封装复杂的条件句。例如，不使用“if (timer.has_expired()和(timer.is_recurrent())”，而是使用“if should_be_deleted(timer)”</li><li id="dc75" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">避免消极条件句。例如，不使用“if (not follow_up_needed())”，而是使用“if (follow_up_not_needed()”。</li></ul><h1 id="19a2" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">格式化</h1><p id="6598" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">格式化是你设计代码的方式——它看起来不需要深入到名字和动作中。正确的格式有两个目的:</p><ol class=""><li id="1e60" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq nr mu mv mw bi translated">沟通——如果<strong class="kx jh">你的变量/函数名是口头沟通，那么格式化就是非口头部分</strong>。这说明了很多问题。如果您选择将两个函数一个接一个地放置，它可能会告诉读者它们是相关的，或者会一个接一个地运行。</li><li id="3224" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq nr mu mv mw bi translated">专注——一旦格式化做得很好，代码看起来有条理，它<strong class="kx jh">释放你的思想去处理真正重要的东西——它的内容</strong>。看着视觉上混乱的代码会转移你对其含义的注意力。</li></ol><p id="e8a4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下是我尝试在代码中应用的一些格式准则:</p><ul class=""><li id="d75d" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">概念之间的垂直开放性——每行代码只做一件事。</li><li id="291d" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">每一个空行都是一个视觉提示，可以识别一个新的独立的概念，所以要明智地使用它。</li><li id="762e" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">相关代码(和相关函数)应该垂直排列。</li><li id="2e22" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">声明与其用法相近的变量。</li></ul><h2 id="57e5" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">报社负责人</h2><p id="6305" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">我最喜欢的格式指南之一是报纸原则，它指出你的脚本应该从高级功能开始<strong class="kx jh">，并向下滚动</strong>深入细节。</p><ul class=""><li id="d927" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">源文件的最上面部分应该提供高级的概念和算法。</li><li id="03fc" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">随着我们向下移动，细节应该增加，直到最后，我们在源文件中找到最低级别的函数和细节。</li><li id="9bed" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">这就像读报纸一样——你从顶部的标题开始，然后是副标题，然后是全文和细节。</li></ul><h1 id="dc43" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">少即是多</h1><p id="f66c" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">尽量保持代码简洁:</p><ul class=""><li id="00ba" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">简短简短——你的代码越短，你阅读和理解它的速度就越快。当然，不是以一团糟为代价。你仍然需要为每一个动作写一行，但是尽量避免不必要的动作。</li><li id="aa75" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><strong class="kx jh">删除注释掉的代码</strong> —相信我，没有人会错过它。</li></ul><h2 id="ed72" class="nc ls jg bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">争取零评论</h2><p id="6d51" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">你应该尽量在代码中没有注释——干净的代码不需要注释。</p><p id="d51d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为什么？</p><ul class=""><li id="fc2c" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated"><strong class="kx jh">代码应该在90%以上的时间里自我解释</strong>——使用你的函数和变量名来解释，而不是注释。</li><li id="75cb" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">我们经常在更新代码的时候<strong class="kx jh">忘记更新注释</strong>。</li><li id="a061" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">它增加了<strong class="kx jh">杂波</strong>。</li></ul><p id="567a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您添加了评论:</p><ul class=""><li id="9400" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">不应该是关于你如何做某事，而应该是关于你为什么做这件事。</li><li id="ad81" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">确保它是必要的，<strong class="kx jh">非琐碎的，</strong>而不是多余的。</li><li id="2659" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">使<strong class="kx jh">尽可能短</strong>。</li><li id="a02e" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">随着代码的变化，删除过时的注释。</li><li id="e162" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">不要注释掉代码——只是删除它。</li></ul><p id="d8a3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你想了解更多并看到一些真实的例子，我推荐这篇文章:</p><p id="c05f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae jd" rel="noopener" target="_blank" href="/python-clean-code-6-best-practices-to-make-your-python-functions-more-readable-7ea4c6171d60">https://towards data science . com/python-clean-code-6-best-practices-to-make-your-python-functions-more-readable-7ea 4c 6171d 60</a></p><blockquote class="ns nt nu"><p id="9de6" class="kv kw nv kx b ky kz kh la lb lc kk ld nw lf lg lh nx lj lk ll ny ln lo lp lq ij bi translated">总而言之，只要记住作为一名数据科学家，<strong class="kx jh">你最好的算法只能和用</strong>写的代码一样好。写得好的算法将是(尽可能接近)防错的，并且易于维护。它所需要的只是你的良好意愿，一些实用的知识和技巧，这些你现在都有了。让我知道进展如何！</p></blockquote><p id="00e1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">参考资料:</p><ol class=""><li id="6b21" class="mo mp jg kx b ky kz lb lc le mq li mr lm ms lq nr mu mv mw bi translated">“干净的代码:敏捷软件工艺手册”，作者罗伯特·c·“鲍勃叔叔”马丁。</li><li id="83b4" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq nr mu mv mw bi translated"><a class="ae jd" href="https://www.youtube.com/watch?v=7IqUsAnqLdU" rel="noopener ugc nofollow" target="_blank"> 7 2个理由心理学将帮助你写出更好的代码</a>作者莫兰·韦伯&amp;乔纳森·阿维诺尔(演讲用希伯来语)</li><li id="c2de" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq nr mu mv mw bi translated">阿图罗·赫雷罗演讲中的干净代码幻灯片</li></ol></div></div>    
</body>
</html>