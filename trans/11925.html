<html>
<head>
<title>Streamlit Hands-On: From Zero to Your First Awesome Web App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简化实践:从零到你的第一个优秀的网络应用</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/streamlit-hands-on-from-zero-to-your-first-awesome-web-app-2c28f9f4e214?source=collection_archive---------1-----------------------#2021-11-30">https://towardsdatascience.com/streamlit-hands-on-from-zero-to-your-first-awesome-web-app-2c28f9f4e214?source=collection_archive---------1-----------------------#2021-11-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6f11" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">学习核心概念并使用Streamlit创建您的第一个Web应用程序的分步指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c065247bb1df7914f36138e6a775bd08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YeOjk5wvk_MKwhQZYlyaTw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://pixabay.com/photos/coding-programming-working-macbook-924920/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><h1 id="e03d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">目录</h1><p id="d994" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu"> <em class="mn"> </em> </strong> <a class="ae ky" href="#1168" rel="noopener ugc nofollow"> <strong class="lt iu"> <em class="mn">第1部分:Streamlit基础知识</em> </strong> </a> <br/> ∘ <a class="ae ky" href="#88fd" rel="noopener ugc nofollow">简介</a> <br/> ∘ <a class="ae ky" href="#52c5" rel="noopener ugc nofollow">什么是Streamlit </a> <br/> ∘ <a class="ae ky" href="#730f" rel="noopener ugc nofollow">为什么要将Streamlit添加到您的数据科学家工具包中</a> <br/> ∘ <a class="ae ky" href="#7a5a" rel="noopener ugc nofollow">如何在Windows上安装streamlit</a></p><p id="a97e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu"><em class="mn"/></strong><a class="ae ky" href="#0efb" rel="noopener ugc nofollow"><strong class="lt iu"><em class="mn">第二部分:创建你的第一个streamlit web App</em></strong></a><br/>∘<a class="ae ky" href="#4fb3" rel="noopener ugc nofollow">先决条件</a> <br/> ∘ <a class="ae ky" href="#f56d" rel="noopener ugc nofollow">启动Visual Studio编辑器和Streamlit </a> <br/> ∘ <a class="ae ky" href="#7262" rel="noopener ugc nofollow">数据准备</a> <br/> ∘ <a class="ae ky" href="#2990" rel="noopener ugc nofollow">构建Streamlit App </a> <br/> ∘ <a class="ae ky" href="#3046" rel="noopener ugc nofollow">将Choropleth地图添加到app中</a></p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="1168" class="kz la it bd lb lc na le lf lg nb li lj jz nc ka ll kc nd kd ln kf ne kg lp lq bi translated">第1部分:简化基础知识</h1><h2 id="88fd" class="nf la it bd lb ng nh dn lf ni nj dp lj ma nk nl ll me nm nn ln mi no np lp nq bi translated">介绍</h2><p id="a954" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">自从我开始使用这个奇妙的基于python的框架来构建交互式仪表盘和机器学习web应用程序以来，我一直想写一个Streamlit教程。在我看来，Streamlit应该是任何数据科学家工具箱中的必备工具，因为它简单、灵活、健壮且免费。</p><p id="f19d" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在本教程中，我将向您简要介绍什么是Streamlit，为什么我喜欢它并向任何在分析和数据科学领域工作的人推荐它，以及如何在您的计算机上安装它。</p><p id="7c53" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">安装完成后，我将一步一步地向您展示一个详细的实践示例，通过可视化美国各州的房价，使用Streamlit创建您的第一个交互式仪表板。您将通过python编写代码来完成创建此web应用程序的完整端到端流程，并使用两个可免费下载的开放数据集来简化它。</p><p id="af86" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在本教程结束时，您应该对Streamlit的核心概念及其出色的功能有了坚实的理解。您可以将此示例保存为起始模板，以便在将来的项目中重用和扩展。</p><p id="8a59" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们正在构建的仪表板/web应用程序看起来会像这样。你准备好了吗？我们开始吧！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/6e9b6aaa70a2a3b4597f2bc01e90fbe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FijWRIA0WXeBeQ0ISEFUuQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Streamlit创建的交互式仪表板/ Web应用程序(由作者提供)</p></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="52c5" class="nf la it bd lb ng nh dn lf ni nj dp lj ma nk nl ll me nm nn ln mi no np lp nq bi translated">什么是细流</h2><p id="041b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>是一个免费的开源全python框架，使数据科学家能够快速构建交互式仪表盘和机器学习web应用，无需前端web开发经验。如果你懂python，那么你就可以在几小时内，而不是几周内，使用Streamlit创建和共享你的web应用。</p><p id="722f" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如果你有兴趣了解更多，你可以查看Streamlit网站的图库页面，了解一些由其用户开发的很棒的应用程序:【https://streamlit.io/gallery】T2。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="730f" class="nf la it bd lb ng nh dn lf ni nj dp lj ma nk nl ll me nm nn ln mi no np lp nq bi translated">为什么您应该将Streamlit添加到您的数据科学家工具包中</h2><p id="0932" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我是Tableau的长期用户，一直使用Tableau作为我的主要工具，为工作中的各种分析任务创建交互式仪表盘和数据可视化。虽然我喜欢Tableau全面的分析和可视化功能，但我一直在为自己的分析项目寻找一个灵活、免费和可扩展的替代方案。</p><p id="b0af" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">当我碰到Streamlit的时候，我立刻就爱上了它！这都是python，所以如果你已经知道python(像许多数据科学家一样)，那么利用Streamlit只需几行代码就可以让你的仪表板或数据应用程序启动并运行，而不需要任何前端web应用程序开发知识。</p><p id="1eca" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">最棒的是。免费的！免费的！免费的！重要的事情说三遍！😂因此，如果你是一名自由职业的数据科学家或正在考虑开始自己的分析咨询业务，我强烈建议你探索Streamlit，并将其添加到你的工具包中，因为它简单、灵活、可伸缩且免费。</p><p id="ab2a" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">对于Tableau用户，我也建议你花些时间去探索和学习Python和Streamlit。请记住，开源是一种趋势(就像Python在短短几年内取代SAS在分析行业的统治地位一样)，所以要向前看，做好走在时代前列的准备！</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="7a5a" class="nf la it bd lb ng nh dn lf ni nj dp lj ma nk nl ll me nm nn ln mi no np lp nq bi translated">如何在Windows上安装Streamlit</h2><p id="678e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">要在Windows上安装Streamlit，让我们先安装Anaconda(如果您还没有这样做)，因为根据Streamlit文档，Streamlit在Windows上正式支持的环境管理器是<a class="ae ky" href="https://docs.anaconda.com/anaconda/navigator/" rel="noopener ugc nofollow" target="_blank"> Anaconda Navigator </a>。</p><p id="a1ef" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">第一步:安装Anaconda(如果你已经安装了Anaconda，跳过这一步)</p><p id="5f38" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">进入<a class="ae ky" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank"> Anaconda下载页面</a>并在Windows上下载Anaconda个人版。关于如何安装和启动Anaconda的更多详细说明可以在<a class="ae ky" href="https://docs.anaconda.com/anaconda/install/windows/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="c78a" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu">步骤2 </strong>:使用Anaconda navigator设置您的环境</p><p id="fb77" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">遵循Anaconda提供的这些详细说明，使用Anaconda navigator来<a class="ae ky" href="https://docs.anaconda.com/anaconda/navigator/getting-started/#managing-environments" rel="noopener ugc nofollow" target="_blank">创建和管理您的环境</a>。</p><p id="ec52" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu">步骤3: </strong>在您的新环境中打开终端(我将我的环境命名为‘geo _ env’)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/d9a6d13441987ffd1a8fae28e9a0dcaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*usXc9tFUlUzgPxhIkatwog.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3042" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu">第四步:</strong>安装Streamlit</p><p id="761e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在打开的终端中，键入以下命令:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/c5682988b87c839f45d52d4aa48d2c3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5svXzvVQZSdPC6W4D3ul1w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="a650" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu">步骤5: </strong>测试Streamlit安装是否成功</p><p id="962c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在命令行中键入“Streamlit hello”。如果安装成功，您将会在终端上看到欢迎消息，并且在web浏览器上显示Streamlit的Hello应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/c84f741a8fae327728bb7c6631f656d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QBqZxTUyZhsZ3iK4qLwgzg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/4e9be806a8848b5fe64e8a02d6177f34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JXKFC1_duiNmXMYF1HVm0g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="0efb" class="kz la it bd lb lc na le lf lg nb li lj jz nc ka ll kc nd kd ln kf ne kg lp lq bi translated">第2部分:创建您的第一个Streamlit Web应用程序</h1><h2 id="4fb3" class="nf la it bd lb ng nh dn lf ni nj dp lj ma nk nl ll me nm nn ln mi no np lp nq bi translated">先决条件</h2><p id="5a24" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在我们开始编码和创建我们的应用程序之前，我们需要先做一些准备，包括下载本教程所需的数据集和用于编码的文本编辑器。</p><p id="29fe" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">本教程需要两个数据集，你可以点击下面的链接下载它们。它们都是开放数据集，可免费用于我们的项目演示目的:</p><p id="7635" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">(1):数据集1 (Redfin美国住房市场数据):</p><p id="d714" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">转到<a class="ae ky" href="https://www.redfin.com/news/data-center/" rel="noopener ugc nofollow" target="_blank"> redfin的数据中心</a>，向下滚动到“它如何工作”部分，并下载“州”级别的区域数据。在本教程中，为了简单起见，我们将只查看各州的房价，但是您当然可以将可视化扩展到其他地区级别，如城市、县、邮政编码等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/50586a6443910e79bdbeffe79c873424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kc-AQppicXLFeVAl4vbAwA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://www.redfin.com/news/data-center/" rel="noopener ugc nofollow" target="_blank"> Redfin数据中心</a></p></figure><p id="b051" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">该文件是一个. gz文件，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/a86f60c990b9684d6b7af13f89fdcc96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*jMky45WRD0Re55hGKIcGUw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="f353" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">(2):数据集2(美国州界Geojson文件):</p><p id="f540" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">转到<a class="ae ky" href="https://public.opendatasoft.com/explore/dataset/us-state-boundaries/export/" rel="noopener ugc nofollow" target="_blank">public.opendatasoft.com</a>，向下滚动到“地理文件格式”部分，下载美国州界的geojson文件。这个geojson文件定义了每个州的地理边界/坐标，我们需要用它来绘制我们的choropleth地图。</p><p id="fd47" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如果你不熟悉choropleth地图或者不知道什么是geojson文件以及我们为什么需要它，请阅读我以前的文章<a class="ae ky" href="https://medium.com/p/c8cee104455f?source=post_stats_page----------------------------------------" rel="noopener">如何使用python/folio创建choropleth地图</a>了解更多信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/ac824f856085ae865edc13f4e3f2e09e.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*EENU9_VFJebst0NXrwn6Xg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">geojson文件(数据来源:<a class="ae ky" href="https://public.opendatasoft.com/explore/dataset/us-state-boundaries/export/" rel="noopener ugc nofollow" target="_blank">https://public . opendatasoft . com/explore/dataset/us-state-boundaries/export/</a>)</p></figure><p id="30c5" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">(3):用于编码的文本编辑器:</p><p id="eb5c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">你可以为这个项目使用任何你喜欢的文本编辑器(只是不要使用记事本；不是专门为编码和开发者设计的文本编辑器)。如果你没有，你可以去https://code.visualstudio.com/的<a class="ae ky" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">下载/安装微软的Visual Studio编辑器。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/8984e88f224e944137b865b3795c6c7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cRAe3gP2g2FrczklbimAEQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">下载Visual Studio代码编辑器(图片由作者提供)</p></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="f56d" class="nf la it bd lb ng nh dn lf ni nj dp lj ma nk nl ll me nm nn ln mi no np lp nq bi translated">启动Visual Studio编辑器并简化</h2><p id="1263" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们启动VS代码编辑器，打开一个新的空文件，将其命名为“my_first_app ”,并将其保存为项目文件夹中的python文件(my_first_app.py)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/41c84310bb2964af08723c4161ba8562.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Js2ldowl_8lWvSTRks72RA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建一个新的python文件“my_first_app.py”(图片由作者提供)</p></figure><p id="7c99" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">让我们通过打开Anaconda Navigator来启动Streamlit，单击“Environments ”,然后选择您在第1部分中创建的环境，并单击“Open Terminal”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/cc8a380f6cc5d3cd337d966d04bf3d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WZvFdNsidKA947SPvzXQvA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从Anaconda Navigator打开终端(图片由作者提供)</p></figure><p id="7016" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在终端中，首先您需要将您的目录更改为保存“my_first_app.py”文件的目录。然后键入以下命令启动Streamlit。您将看到一个新的web浏览器打开，暂时没有内容。</p><p id="eb3d" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">简化运行my_first_app.py</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/1dfc0885eaeb0b71ad4d00b20a8a1639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tIzSCrnpfPrqScgRdHktDw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从终端启动Streamlit(图片由作者提供)</p></figure><p id="8a02" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在网络浏览器中，单击右上角的菜单图标，然后单击“设置”。在“Settings”下，让我们选中“Run on save ”,这样每次我们在VS code editor中进行代码更改并保存时，更改都会自动反映在Streamlit web应用程序中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/e37947faea83f5f1713b798b5dcfb06d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rit536_ICyzwM8AuUMoa7A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Streamlit设置(图片由作者提供)</p></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="7262" class="nf la it bd lb ng nh dn lf ni nj dp lj ma nk nl ll me nm nn ln mi no np lp nq bi translated">数据准备</h2><p id="fa5a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们在VS代码编辑器中键入以下代码，导入本教程所需的所有包，并通过只选择少数感兴趣的字段来准备我们清理的数据集。之后，我们将清理后的房屋市场数据集与geojson文件合并。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="77e2" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在上面的代码中，需要注意/记住一些重要的事情:</p><p id="e32d" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">首先，streamlit从上到下读取并执行您的脚本。每当代码发生变化或用户与应用程序交互时(例如应用过滤器)，Streamlit会从头到尾重新运行整个Python脚本。</p><p id="ac63" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">其次，Streamlit提供了一种缓存机制，允许您的应用程序在加载、读取或操作大量数据时保持高性能，这些数据可能会导致昂贵的计算。这是用@st.cache装饰器完成的。</p><p id="a370" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">例如，在我们的案例中，如果没有缓存，每次用户与应用程序交互并且应用程序被刷新时，数据都会被重新加载和重新计算，这可能会使应用程序运行缓慢，并导致糟糕的用户体验。通过缓存，数据只需加载到应用程序中一次。下次调用缓存的函数时，如果函数输入没有任何变化，Streamlit将跳过函数的执行，而是返回之前存储在缓存中的输出。</p><p id="741c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">第三，可以使用st.write()向app写入参数。您想要传递给应用程序的参数可以是很多东西，比如数据框、图表、字符串、函数等。在上面的代码中，我们将df_final数据帧写入应用程序，以便查看最终数据的样子。</p><p id="7e52" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">当您保存代码时，一个代表df_final的表格将出现在您的应用程序中。在你看完数据并对所有字段有了很好的理解之后(你可以在这个<a class="ae ky" href="https://www.redfin.com/news/data-center-metrics-definitions/" rel="noopener ugc nofollow" target="_blank">页面</a>中参考Redfin的数据字典)，你可以注释掉st.write()命令，因为我们不打算在我们的应用程序中显示这个表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/21604584259477f3c3090027a24f3647.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WPA4NncWsyCbdF5jn_ylNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用于创建Choropleth地图的已清理数据(图片由作者提供)</p></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="2990" class="nf la it bd lb ng nh dn lf ni nj dp lj ma nk nl ll me nm nn ln mi no np lp nq bi translated">构建Streamlit应用程序</h2><p id="24d7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们已经准备好了数据，让我们开始使用Streamlit创建我们的应用程序。非常刺激！</p><p id="7cfe" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">首先，让我们在应用程序中添加一个侧边栏，显示一些关于这个应用程序的介绍性信息或者免责声明。我们还将在应用程序的主界面中添加标题和副标题。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="70cc" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">保存代码后，您将看到您的web应用程序也自动重新运行/更新，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/d59e21760d737208d988c744b4c0409b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5yFFcVQGZgfSLuEGJvpoBw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="bef4" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">其次，让我们添加一些过滤器，让用户能够灵活地对数据进行切片和切块，并从不同角度生成见解。我们希望将这三个过滤器并排放在同一行中，因此，我们使用下面的代码创建三列。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/ddb2674835a468711d4cac3af2c728c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0x-bpsm2TKw7YqphUAqKEA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5f5c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">到目前为止，这个看起来很不错…但是等等！当用户在这些过滤器中选择不同的选项时，Streamlit如何接受这些输入并相应地过滤数据？例如，如果用户想查看每个州基于最近一个月(2021–09–01)的销售价格中值，并且只查看单户住宅，我们如何将这些过滤器传递回我们的数据框？</p><p id="4b64" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们可以使用下面的代码，根据用户的选择更新df_final。然后，您可以将数据框写入应用程序，尝试更改过滤器并检查它们是否正常工作(确保在完成检查后注释掉st.write)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="3046" class="nf la it bd lb ng nh dn lf ni nj dp lj ma nk nl ll me nm nn ln mi no np lp nq bi translated">将Choropleth地图添加到应用程序</h2><p id="2096" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们的数据已经准备好了，让我们在应用程序中绘制choropleth地图。请参考我的上一篇文章<a class="ae ky" href="https://medium.com/p/c8cee104455f?source=post_stats_page----------------------------------------" rel="noopener">如何使用python/leav创建choropleth地图</a>来更详细地理解关于使用python/leav创建choropleth地图的代码和步骤。</p><div class="oj ok gp gr ol om"><a rel="noopener follow" target="_blank" href="/folium-and-choropleth-map-from-zero-to-pro-6127f9e68564"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd iu gy z fp or fr fs os fu fw is bi translated">叶和Choropleth地图:从零到专业</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">使用带有图层控制和自定义工具提示的follow创建交互式Choropleth地图的分步教程</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">towardsdatascience.com</p></div></div><div class="ov l"><div class="ow l ox oy oz ov pa ks om"/></div></div></a></div><p id="df4c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">让我们使用下面的代码来创建follow map，它根据用户的输入，按不同的时期、财产类型和评估指标来可视化美国住房市场数据。</p><p id="a570" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在代码中，第2行和第3行初始化一个空的美国地图，并将地图的默认中心位置设置为(40，-100)。第6行到第18行根据用户在三个过滤器上的输入创建choropleth映射。请注意第10行，它通过从第三个过滤器传递的“metrics”参数来确定每个状态的阴影。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/7e7644e1b401f14fab6398577cfe32c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*935zocq2JLGvN0DZAlKrXA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Choropleth地图(图片由作者提供)</p></figure><p id="1f7f" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">这个看起来不错！然而，如果我们还能在用户悬停在地图上时显示每个州的一些信息，那就更好了。因此，让我们通过在上面代码的最后一行folium_static(m)之前插入以下代码来为地图添加工具提示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="1fb1" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">这就对了。您已经使用Streamlit创建了第一个交互式仪表板/web应用程序。玩玩它，想想如何扩展它的功能，或者给它添加更多的功能。您也可以阅读我的文章<a class="ae ky" rel="noopener" target="_blank" href="/streamlit-hands-on-features-and-tips-for-enhanced-app-user-experience-aef7be8035fa"><em class="mn">Streamlit hand-On:增强应用程序用户体验的功能和技巧</em> </a>，了解增强该应用程序可用性的其他功能和技术。</p><div class="oj ok gp gr ol om"><a rel="noopener follow" target="_blank" href="/streamlit-hands-on-features-and-tips-for-enhanced-app-user-experience-aef7be8035fa"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd iu gy z fp or fr fs os fu fw is bi translated">简化动手操作:增强应用程序用户体验的功能和技巧</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">通过真实的使用案例和完整的代码示例提升您的Streamlit技能</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">towardsdatascience.com</p></div></div><div class="ov l"><div class="pc l ox oy oz ov pa ks om"/></div></div></a></div><p id="78e7" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">祝贺你完成这个项目，我希望你喜欢这个教程。快乐学习！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/b6d0483122d09593311c6cb499f5743e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VYrcBsnsxkXVQFHF4n8J_w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="5f10" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">你可以通过这个<a class="ae ky" href="https://medium.com/@insightsbees/membership" rel="noopener">推荐链接</a>注册Medium会员(每月5美元)来获得我的作品和Medium的其他内容。通过这个链接注册，我将收到你的一部分会员费，不需要你额外付费。谢谢大家！</p></div></div>    
</body>
</html>