<html>
<head>
<title>7 Examples to Master Line Plots With Python Seaborn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python Seaborn掌握线图的7个示例</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/7-examples-to-master-line-plots-with-python-seaborn-42d8aaa383a9?source=collection_archive---------3-----------------------#2021-09-11">https://towardsdatascience.com/7-examples-to-master-line-plots-with-python-seaborn-42d8aaa383a9?source=collection_archive---------3-----------------------#2021-09-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5bd4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">实用数据可视化指南。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a90b35a03b42aedabb8244806c66b076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oy6-Ti0E-YfqVXlIn2IreQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·温克勒在<a class="ae ky" href="https://unsplash.com/s/photos/stock-price?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="c533" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据可视化是数据科学不可或缺的一部分。它帮助我们探索数据集和变量之间的关系，以创建适当的数据可视化。它们也是交付结果和发现的高效工具。</p><p id="465e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有几种不同类型的数据可视化。其中最常用的是线图，用于分析两个连续变量之间的关系。</p><p id="2ac5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将通过7个例子来详细解释如何使用Python的Seaborn库创建线图。</p><p id="a6e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">线形图的主要用例是时间序列分析。它显示了变量的值是如何随时间变化的。例如，我们可以使用线图来显示一段时间内的股票价格。</p><p id="1f44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从获取一些股票价格数据开始。我们将使用<a class="ae ky" href="https://pandas-datareader.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">熊猫datareader </a>库来获取数据。第一步是导入库。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="e87a" class="ma mb it lw b gy mc md l me mf">import pandas as pd<br/>from pandas_datareader import data</span><span id="3198" class="ma mb it lw b gy mg md l me mf">import seaborn as sns<br/>sns.set(style="darkgrid")</span></pre><p id="e35d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段收集了苹果、微软、谷歌和Moderna在给定的开始和结束日期之间的股票价格。日期、收盘价、成交量和股票名称保存在股票数据框中。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="69b5" class="ma mb it lw b gy mc md l me mf">start = '2020-1-1'<br/>end = '2021-6-30'<br/>source = 'yahoo'<br/>stocks = pd.DataFrame(columns=["Date","Close","Volume","Stock"])</span><span id="70dd" class="ma mb it lw b gy mg md l me mf">stock_list = ["AAPL","IBM","MSFT","MRNA"]</span><span id="a60a" class="ma mb it lw b gy mg md l me mf">for stock in stock_list:<br/>    df = data.DataReader(stock, start=start ,end=end, <br/>                         data_source=source).reset_index()<br/>    df["Stock"] = stock<br/>    df = df[["Date","Close","Volume","Stock"]]<br/>    stocks = pd.concat([stocks, df], ignore_index=True)</span><span id="d1f1" class="ma mb it lw b gy mg md l me mf">stocks.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/0696d84b031cd86ad0fbdd75bd37a4fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*nR0--sCOYh7Wu8m1lVjiKg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">股票数据框(图片由作者提供)</p></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="7aff" class="ma mb it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">示例1</h2><p id="f76e" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">在第一个例子中，我们创建了一条显示苹果公司每日股票价格的线。我们可以使用Seaborn的relplot或lineplot函数。</p><p id="7d56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">relplot函数是一个图形级界面，用于绘制关系图，包括线图和散点图。线图功能也可用于绘制线图。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2cb3" class="ma mb it lw b gy mc md l me mf">sns.relplot(<br/>    data=stocks[stocks.Stock == "AAPL"], <br/>    x="Date", y="Close", <br/>    kind="line"<br/>)</span></pre><p id="ecba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据框的名称被传递给数据参数。因为我们只想查看苹果股票价格，所以我们应该使用股票名称来过滤数据点。x和y参数用于选择要在x和y轴上绘制的内容。最后，使用kind参数确定绘图的类型。以下是这段代码返回的图形:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/224dd14a0b11ab9a28a0e74b9fe6e94c.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*45Z3RpVJbS_9uS2CwQJ-gw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="d3ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们把它弄得宽一点，它肯定会看起来更好，因为日期看不清。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="803f" class="ma mb it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">示例2</h2><p id="204c" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">在本例中，我们将了解如何调整绘图的大小。relplot函数有两个参数可用于更新默认绘图大小。</p><p id="dd2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">高度参数改变绘图的高度。纵横比参数调整宽度与高度的比率。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="b259" class="ma mb it lw b gy mc md l me mf">sns.relplot(<br/>    data=stocks[stocks.Stock == "AAPL"], <br/>    x="Date", y="Close",<br/>    kind="line",<br/>    height=5, aspect=2 <br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/645ea41b2eb0fa232ab14a3484be3e0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TdNzcNF61p7qB20HZOnLaQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="86c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在看起来好多了。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="5fdd" class="ma mb it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">示例3</h2><p id="4367" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">在这个例子中，我们将探索色调参数。原始数据框包含同一时间段内4家不同公司的股票价格。我们可能需要在相同的可视化中绘制它们，以便进行比较。我们可以通过将包含股票名称的列名传递给hue参数来实现这一点。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4391" class="ma mb it lw b gy mc md l me mf">sns.relplot(<br/>    data=stocks, <br/>    x="Date", y="Close", hue="Stock", <br/>    height=5, aspect=2, <br/>    kind="line"<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/7fb152909116ac94d243a9d106fe38a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KsiBG2peHC23RUL_k32CQw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="cfb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们观察到，由于新冠肺炎疫苗接种，现代股票价格大幅上涨。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="386e" class="ma mb it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">实例4</h2><p id="2d96" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">在这个例子中，我们将对外观进行一些修改。例如，我们可以增加轴标题和图例的字体大小。另一个修改可以是在线的调色板上。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="989c" class="ma mb it lw b gy mc md l me mf">sns.set(font_scale=1.5)</span><span id="5f67" class="ma mb it lw b gy mg md l me mf">sns.relplot(<br/>    data=stocks, <br/>    x="Date", y="Close", hue="Stock", <br/>    height=5, aspect=2.4, <br/>    kind="line",<br/>    palette="cool"<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/dad53fefd821a3e001def45630a07b67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ni-HfWo4DwG7TWjXZFkfow.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="8ea2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">调色板参数有许多选项。如果您不确定调色板的名称或尝试不同的名称，请键入错误的名称。在错误消息中，您将看到所有选项:)</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="ec3f" class="ma mb it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">实例5</h2><p id="6225" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">让我们也为我们的情节添加一个标题，使它看起来更好。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="21de" class="ma mb it lw b gy mc md l me mf">sns.relplot(<br/>    data=stocks, <br/>    x="Date", y="Close", hue="Stock",<br/>    height=5, aspect=2.4, <br/>    kind="line"<br/>).set(title="Stock Prices")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/241b97c131bde230230f53b09553e67f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s_9oQZywVbYaL-EOTqCjJg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="b473" class="ma mb it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">实例6</h2><p id="383e" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">我们也可以像修改标题一样修改坐标轴标签。例如，将y轴更改为“收盘价”可能会提供更多信息。很明显，x轴代表日期，所以我们实际上不需要它的标签。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2064" class="ma mb it lw b gy mc md l me mf">sns.relplot(<br/>    data=stocks, <br/>    x="Date", y="Close", hue="Stock",<br/>    height=5, aspect=2.4, <br/>    kind="line"<br/>).set(<br/>    title="Stock Prices", <br/>    ylabel="Closing Price",<br/>    xlabel=None<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/d43fc46726811a514357b9b72972e4ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SnyQmaeJ3uIScpftXvUxfw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="539b" class="ma mb it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">例7</h2><p id="5895" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">relplot函数还允许在单个可视化中创建子图。例如，我们可以为每只股票创建一个线图。row和col参数可以用来完成这项任务。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d3e3" class="ma mb it lw b gy mc md l me mf">sns.relplot(<br/>    data=stocks, x="Date", y="Close", <br/>    row="Stock",<br/>    height=3, aspect=3.5,<br/>    kind="line"<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/7db20c61784e91f46a66c271f512eebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-D0mF6S-jVr9S5T5DgisNQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="1d52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">col参数非常类似。它为每个图创建一个新列。因为宽度比高度大，所以行更适合我们的情况。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="03c7" class="ma mb it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">结论</h2><p id="52ff" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">relplot函数为创建关系图提供了一种简单而直观的方法。修改绘图的某些特性也很容易，比如字体大小、标题、轴标签等等。</p><p id="9690" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在本文中介绍的内容应该足以满足您的大部分需求。但是，如果需要做更具体的操作，可以随时访问官方文档。</p><p id="caba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>