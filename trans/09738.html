<html>
<head>
<title>Are You Still Using Virtualenv for Managing Dependencies in Python Projects?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你还在使用Virtualenv管理Python项目中的依赖关系吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/poetry-to-complement-virtualenv-44088cc78fd1?source=collection_archive---------4-----------------------#2021-09-12">https://towardsdatascience.com/poetry-to-complement-virtualenv-44088cc78fd1?source=collection_archive---------4-----------------------#2021-09-12</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="2d8e" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">有一种更好的方法来管理依赖项、打包和发布Python项目。</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/673c2d358b8d5f5203df7e6c84303d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*acJ1HLEeVfSBWwxzdpRMFQ.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">惊讶地看到你仍然使用虚拟环境而不是诗歌——来自<a class="ae kz" href="https://www.pexels.com/photo/man-in-red-polo-shirt-3779453/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae kz" href="https://www.pexels.com/@olly?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Andrea Piacquadio </a>摄影</p></figure><p id="e04f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当我开始我的数据科学生涯时，我被项目的复杂性吓住了。我们在所有的python项目中都使用了Virutalenv。</p><p id="e155" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我对节点包管理器(npm)印象深刻，并且一直想知道为什么我们在Python中没有一个这样的管理器。</p><blockquote class="lw lx ly"><p id="7241" class="la lb lz lc b ld le jv lf lg lh jy li ma lk ll lm mb lo lp lq mc ls lt lu lv in bi translated">我渴望有一个工具来维护隔离的环境、管理开发和生产依赖关系、打包和发布。</p></blockquote><p id="c628" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">谢天谢地，我们现在有了<a class="ae kz" href="https://python-poetry.org/" rel="noopener ugc nofollow" target="_blank">诗</a>。</p><p id="5280" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">简单来说，诗歌就是Python中<strong class="lc iv">依赖管理</strong>和<strong class="lc iv">打包</strong>的工具。但是这个官方定义是不完整的，因为我发现诗歌不仅仅是管理依赖性和打包。</p><p id="7319" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本指南中，您可以找到，</p><ul class=""><li id="2d77" class="md me iu lc b ld le lg lh lj mf ln mg lr mh lv mi mj mk ml bi translated"><a class="ae kz" href="#7280" rel="noopener ugc nofollow">如何打包一个Python项目并发布到PyPI库</a>；</li><li id="c668" class="md me iu lc b ld mm lg mn lj mo ln mp lr mq lv mi mj mk ml bi translated"><a class="ae kz" href="#b79c" rel="noopener ugc nofollow">将开发依赖与生产依赖分开</a>；</li><li id="d51d" class="md me iu lc b ld mm lg mn lj mo ln mp lr mq lv mi mj mk ml bi translated"><a class="ae kz" href="#0aa3" rel="noopener ugc nofollow">诗歌如何在团队中帮助一致的开发环境</a>，以及；</li><li id="c0c1" class="md me iu lc b ld mm lg mn lj mo ln mp lr mq lv mi mj mk ml bi translated"><a class="ae kz" href="#3f8b" rel="noopener ugc nofollow">在不破坏虚拟文件夹的情况下，重新定位并重命名项目文件夹。</a></li></ul><p id="ce1e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">诗歌不是虚拟环境的替代品。它为他们提供了管理环境的智能方法等。</p><p id="2133" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下是我对诗歌一见钟情的原因。</p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="3f8b" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">与Virtualenv不同，我可以用诗歌重命名和重新定位我的项目。</h1><p id="8f80" class="pw-post-body-paragraph la lb iu lc b ld nq jv lf lg nr jy li lj ns ll lm ln nt lp lq lr nu lt lu lv in bi translated">虚拟环境与特定路径相关联。如果我移动或重命名项目文件夹，原始路径不会随之改变。</p><p id="c075" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果我想做，我会有很大的麻烦。</p><p id="4f36" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">每次更改路径时，我都会创建一个新的虚拟环境，并再次安装软件包。</p><p id="d836" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">很辛苦。</p><p id="68ca" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Virtualenv有一个<code class="fe nv nw nx ny b">— -relocatable</code>标志来帮助它。但是这个选项我也不满意。每次我安装一个新的包，我必须标记环境<code class="fe nv nw nx ny b">— -relocatable</code></p><p id="be52" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这是恼人的重复！我相信数据科学家和开发人员有比记住每次都运行这个更大的问题。</p><h2 id="d466" class="nz mz iu bd na oa ob dn ne oc od dp ni lj oe of nk ln og oh nm lr oi oj no ok bi translated">诗歌项目是可重定位的。</h2><p id="ec6e" class="pw-post-body-paragraph la lb iu lc b ld nq jv lf lg nr jy li lj ns ll lm ln nt lp lq lr nu lt lu lv in bi translated">诗歌将虚拟人与项目隔离开来。它会自动在HOME目录下的<code class="fe nv nw nx ny b">.cache</code>文件夹中创建一个env。当我重新定位项目时，我可以告诉poems在一个命令中使用相同的env。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="4a22" class="nz mz iu ny b gz op oq l or os">poetry env use &lt;your env location&gt;</span></pre><p id="21da" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您喜欢将env放在自定义位置，可以用同样的方式指定路径。这样你就可以把它和外部环境联系起来。</p><p id="fe17" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我发现它对测试非常有用。如果我的代码需要兼容不同的Python版本，我可以随时更换解释器。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="ae33" class="nz mz iu ny b gz op oq l or os">poetry env use python3.8<br/>poetry env use python3.6</span></pre></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="b79c" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">在诗歌中，我可以单独管理开发依赖。</h1><p id="b63c" class="pw-post-body-paragraph la lb iu lc b ld nq jv lf lg nr jy li lj ns ll lm ln nt lp lq lr nu lt lu lv in bi translated">这是虚拟环境的一个明显的缺点。</p><p id="4f52" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Virtualenv在隔离的环境中管理依赖关系。但是他们并没有专门为开发而维护一套。</p><p id="5a96" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然而，诸如black、flake8和isort之类的Python包只在开发时需要。它们在生产服务器中没有任何用途。</p><p id="548e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我还必须格外小心生产服务器上开发包的<a class="ae kz" href="https://www.theregister.com/2021/07/28/python_pypi_security/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> <em class="lz">安全漏洞。</em></strong></a></p><p id="d19b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我通常维护两个requirements.txt文件来区分它们。但这种做法是非常无效的。我可以使用pip freeze来更新开发版本。但对于制作版，我必须手动编辑。</p><p id="4641" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这足以让你沮丧地度过一整天。</p><p id="2dec" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">另一方面，诗歌有智能的方法来管理项目依赖性。</p><p id="1284" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当向项目中添加一个新包时，我可以使用-D标志指定它是否仅用于开发。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="2963" class="nz mz iu ny b gz op oq l or os">poetry add -D black</span></pre><p id="1305" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当我在生产服务器上安装依赖项时，我可以使用<code class="fe nv nw nx ny b">no-dev</code>标志来过滤掉开发依赖项。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="ab4e" class="nz mz iu ny b gz op oq l or os">poetry install --no-dev</span></pre><p id="9131" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我也可以用<code class="fe nv nw nx ny b">remove-untracked</code>标志删除我过去使用的多余包。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="8500" class="nz mz iu ny b gz op oq l or os">poetry install --remove-untracked</span></pre><p id="fb05" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">管理Python项目的依赖关系并不容易。</p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="0aa3" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">诗歌确保团队成员之间版本的一致性。</h1><p id="2fc8" class="pw-post-body-paragraph la lb iu lc b ld nq jv lf lg nr jy li lj ns ll lm ln nt lp lq lr nu lt lu lv in bi translated">如果你是团队工作，你会因为不一致而遇到问题。</p><p id="2a7f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">人们使用不同版本的依赖关系。因此，代码要么中断，要么没有给出预期的结果。</p><p id="d488" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当然啦！pip freeze命令可以捕获软件包的版本。但是，他们没有获得Python解释器版本。此外，如果您手动将一个包添加到需求文件中，并且没有指定版本，这将会产生不一致。</p><p id="7eb0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">诗歌有保持一致性的巧妙方法。</p><p id="c065" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe nv nw nx ny b">pyproject.toml</code>文件相当于virtualenv中的requirement.txt。但是当诗歌安装包时，它首先检查是否有一个<code class="fe nv nw nx ny b">poetry.lock</code>文件可用。如果是这样，它将从锁文件中获取依赖关系。</p><p id="7b26" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您不需要手动编辑锁定文件。每次您更改项目依赖项时，poems都会创建并更新它。您可以使用poems add命令，也可以在TOML文件上指定依赖项并运行install命令。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="1f34" class="nz mz iu ny b gz op oq l or os">poetry add pandas</span></pre><p id="bff5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">诗歌文档鼓励您将锁文件提交到代码库中，并与其他成员共享。因此，当他们建立依赖关系时，总是与他人保持同步。</p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="7280" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">打包和发布python包。</h1><p id="937a" class="pw-post-body-paragraph la lb iu lc b ld nq jv lf lg nr jy li lj ns ll lm ln nt lp lq lr nu lt lu lv in bi translated">如果您将包发布到PyPI或其他存储库，您必须以有助于索引的方式构建它们。对我来说，这不是一项容易的任务。</p><p id="5d80" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这涉及到许多配置，它们肯定会阻碍新作者。</p><p id="6909" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然而，有了诗歌，我可以毫不费力地将包发布到任何存储库中。</p><p id="eca4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这是我用诗歌向PyPI发布的的<a class="ae kz" href="https://pypi.org/project/python-eda/" rel="noopener ugc nofollow" target="_blank">包。做这件事不超过几分钟。</a></p><p id="7d50" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这个包帮助您在一个终端命令中为任何数据集生成HTML分析报告。</p><p id="6889" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">猜猜看，这是pip installable:</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="064b" class="nz mz iu ny b gz op oq l or os">pip install python-eda</span></pre><p id="0500" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以在这个<a class="ae kz" href="https://github.com/ThuwarakeshM/python-eda" rel="noopener ugc nofollow" target="_blank"> GitHub资源库</a>中找到源代码。另外，如果你喜欢这个包，你可以看看我写的关于它的文章。</p><div class="ot ou gq gs ov ow"><a rel="noopener follow" target="_blank" href="/how-to-do-a-ton-of-analysis-in-the-blink-of-an-eye-16fa9affce06"><div class="ox ab fp"><div class="oy ab oz cl cj pa"><h2 class="bd iv gz z fq pb fs ft pc fv fx it bi translated">如何在眨眼之间用Python做一吨的分析？</h2><div class="pd l"><h3 class="bd b gz z fq pb fs ft pc fv fx dk translated">使用这些Python探索性数据分析，将您的数据探索时间缩短到原来的十分之一…</h3></div><div class="pe l"><p class="bd b dl z fq pb fs ft pc fv fx dk translated">towardsdatascience.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk kt ow"/></div></div></a></div><p id="772e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在结束之前，我想带你看一下我发布这个包的具体步骤。</p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="14c2" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">让我们创建并发布一个带有诗歌的Python项目。</h1><p id="ff9d" class="pw-post-body-paragraph la lb iu lc b ld nq jv lf lg nr jy li lj ns ll lm ln nt lp lq lr nu lt lu lv in bi translated">与Virtuelenvs不同，在Virtuelenvs中创建项目文件夹，然后创建env，我可以直接创建诗歌项目。诗歌自动把一个项目结构和初始文件。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="b4b8" class="nz mz iu ny b gz op oq l or os">poetry init python-eda<br/>cd python-eda/</span></pre><p id="2b5e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">下一步，我用-D标志安装了项目的核心依赖项和开发依赖项。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="5dd1" class="nz mz iu ny b gz op oq l or os">poetry add pandas sweetviz typer -D black flake8 isort pre-commit</span></pre><p id="b73d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我不打算解释我如何使用开发依赖来保持这篇文章的简洁。但是您可以找到无数关于如何使用这些包来维护干净代码的资源。</p><p id="d4c7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然后我在python_eda文件夹中添加了一个名为<code class="fe nv nw nx ny b">main.py.</code>的文件，我用我之前的<a class="ae kz" rel="noopener" target="_blank" href="/how-to-do-a-ton-of-analysis-in-the-blink-of-an-eye-16fa9affce06#50f4">文章</a>中的代码替换了它的内容。这是我的应用程序中所有内容的入口点。</p><p id="2591" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">至此，一切都是普通的Python应用。</p><p id="0d27" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，我们在<code class="fe nv nw nx ny b">pyproject.toml</code>文件中添加一小段代码来讲诗，这是你的切入点。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="592c" class="nz mz iu ny b gz op oq l or os">[tool.poetry.scripts]<br/>pyeda = "python_eda.main:app"</span></pre><p id="50c0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们在这里做什么？我们在python_eda文件夹中的main.py中调用该应用程序。</p><p id="dfec" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，只需一个命令，您就可以构建应用程序。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="6e7e" class="nz mz iu ny b gz op oq l or os">poetry build</span></pre><p id="2b5b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这将在你的项目中创建一个<code class="fe nv nw nx ny b">dist</code>文件夹，包含你的项目的车轮和焦油文件。</p><p id="3ef0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要在本地测试项目，您可以运行<code class="fe nv nw nx ny b">poetry install</code>，并且您将能够使用CLI来生成EDA报告。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="bbfb" class="nz mz iu ny b gz op oq l or os">$ poetry install<br/>$ pyeda report https://raw.githubusercontent.com/ThuwarakeshM/analysis-in-the-blink-of-an-eye/main/titanic.csv</span></pre><p id="c45e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要将您的包发布到PyPI，您需要一个帐户并创建一个API令牌。你可以从<a class="ae kz" href="https://packaging.python.org/tutorials/packaging-projects/" rel="noopener ugc nofollow" target="_blank">官方文件</a>中找到更多信息。</p><p id="d997" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一旦有了API令牌，您只需要多两行命令。</p><pre class="kk kl km kn gu ol ny om on aw oo bi"><span id="f9c3" class="nz mz iu ny b gz op oq l or os">$ poetry config pypi-token.pypi &lt;TOKEN&gt;<!-- --> <br/>$ poetry publish</span></pre><p id="9ebf" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">厉害！应用程序已发布。</p><p id="e815" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，python-eda可以通过pip进行安装。</p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="eea3" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">总而言之，</h1><p id="9f92" class="pw-post-body-paragraph la lb iu lc b ld nq jv lf lg nr jy li lj ns ll lm ln nt lp lq lr nu lt lu lv in bi translated">多年来，我在每个项目上都使用Virtualenv。使用它们的唯一优势是隔离的环境和列出项目依赖关系。</p><p id="a769" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">但即使在那时，使用它也有几个问题，例如</p><ul class=""><li id="3ccc" class="md me iu lc b ld le lg lh lj mf ln mg lr mh lv mi mj mk ml bi translated">难以区分开发和生产依赖关系；</li><li id="0dc8" class="md me iu lc b ld mm lg mn lj mo ln mp lr mq lv mi mj mk ml bi translated">无法重新定位或重命名项目文件夹；</li><li id="bf1f" class="md me iu lc b ld mm lg mn lj mo ln mp lr mq lv mi mj mk ml bi translated">难以在团队之间保持一致的环境，以及。</li><li id="9361" class="md me iu lc b ld mm lg mn lj mo ln mp lr mq lv mi mj mk ml bi translated">打包和发布时有许多样板文件。</li></ul><p id="0899" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">诗歌是所有这些问题的一站式解决方案。它满足了我长期以来对一个类似npm的Python包管理器的渴望。</p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><blockquote class="lw lx ly"><p id="9e95" class="la lb lz lc b ld le jv lf lg lh jy li ma lk ll lm mb lo lp lq mc ls lt lu lv in bi translated"><em class="iu">感谢阅读，朋友！在</em> <a class="ae kz" href="https://www.linkedin.com/in/thuwarakesh/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv">上跟我打招呼LinkedIn </strong> </a> <em class="iu">，</em><a class="ae kz" href="https://twitter.com/Thuwarakesh" rel="noopener ugc nofollow" target="_blank"><strong class="lc iv">Twitter</strong></a><em class="iu">，</em> <a class="ae kz" href="https://thuwarakesh.medium.com" rel="noopener"> <strong class="lc iv">中</strong> </a> <em class="iu">。看来你和我有许多共同的兴趣。</em></p></blockquote><p id="dcc7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">还不是中等会员？请使用此链接<a class="ae kz" href="https://thuwarakesh.medium.com/membership" rel="noopener"> <strong class="lc iv">成为会员</strong> </a>因为，在没有额外费用的情况下，我为你引荐赚取一小笔佣金。</p></div></div>    
</body>
</html>