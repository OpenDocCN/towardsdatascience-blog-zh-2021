<html>
<head>
<title>Interactive Choropleth Map for Geospatial Data Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于地理空间数据可视化的交互式地形图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/interactive-choropleth-map-for-geospatial-data-visualization-a53688c8ef21?source=collection_archive---------31-----------------------#2021-06-22">https://towardsdatascience.com/interactive-choropleth-map-for-geospatial-data-visualization-a53688c8ef21?source=collection_archive---------31-----------------------#2021-06-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/28af52080b9ee3283a21271fd419d45b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4gIUAcaTg67j2sA6"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">斯特凡诺·瓦尔托塔在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="1a3c" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">详细教程</h2></div><p id="7f3e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">地理空间数据可能很有趣。一个交互式地理空间可视化提供了关于数据和区域等的大量信息。Python有这么多库。很难知道用哪一个。对于地理空间可视化，我将使用<a class="ae jg" href="https://python-visualization.github.io/folium/" rel="noopener ugc nofollow" target="_blank">叶子</a>。这是非常容易使用，它有几种风格，以及符合您的选择和要求。我们开始吧。</p><p id="4b83" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为此，我使用了Jupyter笔记本环境。如果您使用的是Jupyter笔记本，那么您需要使用anaconda提示符，使用以下命令来安装lyum:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="3259" class="md me jj lz b gy mf mg l mh mi">conda install -c conda-forge folium=0.5.0 — yes</span></pre><p id="854e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">或者请查看文档。我用的是windows。</p><p id="8a6a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们可以在笔记本中导入叶子了。叶子内置了世界地图。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="de37" class="md me jj lz b gy mf mg l mh mi">import folium<br/>folium.Map()</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/4d919b14228e1f9e512333daaafd658e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/0*XOzHSh4ujceFY53M.png"/></div></figure><p id="6c37" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是世界地图。如您所见，您可以放大、缩小和导航。你可能想要某个国家、州或城市的地图。<a class="ae jg" href="https://www.latlong.net/" rel="noopener ugc nofollow" target="_blank">该特定地点的纬度和经度</a>可以作为参数提供，以获得该特定地点的地图。我想打印佛罗里达地图。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="a6a5" class="md me jj lz b gy mf mg l mh mi">folium.Map(location = [27.664827, -81.516], zoom_start = 4)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mk"><img src="../Images/d0da3abe64b70c0d800ba0f55d9887dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5v68utcIWp8Wd8vL.png"/></div></div></figure><p id="f02c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里你可以看到佛罗里达州。我把zoom_start设为4。在您的笔记本中，您可以放大或缩小并导航到某个部分。但是你也可以从放大开始。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="ee12" class="md me jj lz b gy mf mg l mh mi">florida = folium.Map(location = [27.664827, -81.516], zoom_start = 7)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ml"><img src="../Images/ae572c73b6ea171c934b57597a6ea593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AmpD55n4hJnwQ3lM.png"/></div></div></figure><p id="591b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看看不同的风格。制作高对比度的黑白地图。可以通过使用参数瓦片来实现。对于高对比度的黑白地图，拼贴将是“雄蕊调色剂”。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="10d4" class="md me jj lz b gy mf mg l mh mi">folium.Map(location= [27.665, -81.516], zoom_start = 8, tiles = 'Stamen Toner')</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mm"><img src="../Images/79c1d2a4535494e06b8c282b8062a3c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sOYAJ40BZt3pjP4D.png"/></div></div></figure><p id="6925" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">是不是很好看！这种类型的地图非常适合沿海地区。对数据混搭也有好处。</p><p id="dbfa" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我的下一个例子中，我将使用雄蕊地形图。这将显示自然植被和山丘阴影。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="bc40" class="md me jj lz b gy mf mg l mh mi">folium.Map(location= [27.665, -81.516], zoom_start = 4, tiles = 'Stamen Terrain')</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mn"><img src="../Images/163a036bfc8eaeb81ddbb6e8cdf9d0ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sCvUOePy7EruIgyL.png"/></div></div></figure><p id="45f7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我相信你有兴趣看看我们能否在地图上标出事件或事故。我们当然可以。为了演示，我将使用一个数据集来显示佛罗里达州的事件。请随意从这里下载数据集:</p><div class="is it gp gr iu mo"><a href="https://github.com/rashida048/Datasets/blob/master/Florida_Subsidence_Incident_Reports.csv" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jk gy z fp mt fr fs mu fu fw ji bi translated">rashida 048/数据集</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">在GitHub上创建一个帐户，为rashida048/Datasets开发做出贡献。</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">github.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc ja mo"/></div></div></a></div><p id="ceef" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将数据集导入笔记本。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="bac2" class="md me jj lz b gy mf mg l mh mi">import pandas as pd<br/>florida_incidents = pd.read_csv('Florida_Subsidence_Incident_Reports.csv')</span></pre><p id="a059" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">数据集太大。所以我没有在这里显示截图。但是数据集有一个X和Y列，它们是佛罗里达不同位置的纬度和经度。我们可以将这些位置放在地图上，创建一个要素组。我们将包括点的位置和样式。为了图像的清晰，我将只放100个数据点。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="56af" class="md me jj lz b gy mf mg l mh mi">florida_incidents = florida_incidents.iloc[0:100, :]<br/>florida = folium.Map(location= [27.665, -81.516], zoom_start = 7)<br/>incidents = folium.map.FeatureGroup()<br/>for lat, lng, in zip(florida_incidents.Y, florida_incidents.X):<br/>    incidents.add_child(<br/>    folium.features.CircleMarker(<br/>    [lat, lng],<br/>    radius=5,<br/>    color='yellow',<br/>    fill=True,<br/>    fill_color='blue',<br/>    fill_opacity=0.6))florida.add_child(incidents)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nd"><img src="../Images/105f070766faa3e89621f5e836db2903.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XyMOW-6g3qss7sIp.png"/></div></div></figure><p id="f132" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以更进一步，在这些点上添加标记。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="a930" class="md me jj lz b gy mf mg l mh mi">latitudes = list(florida_incidents.Y)<br/>longitudes = list(florida_incidents.X)for lat, lng in zip(latitudes, longitudes):<br/>    folium.Marker([lat, lng]).add_to(florida)<br/>florida.add_child(incidents)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nd"><img src="../Images/ccfa6c1a3436466aec189d09c9fd99ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5ZG-O2JBtOunbzhV.png"/></div></div></figure><p id="aa51" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">随意放大并导航以查看特定县或城市的事件。</p><h1 id="d55c" class="ne me jj bd nf ng nh ni nj nk nl nm nn kp no kq np ks nq kt nr kv ns kw nt nu bi translated">结论</h1><p id="34ca" class="pw-post-body-paragraph ky kz jj la b lb nv kk ld le nw kn lg lh nx lj lk ll ny ln lo lp nz lr ls lt im bi translated">我试图展示如何生成一个交互式地图，用标记在上面呈现一些事件或事件，并对其进行样式化。这种类型的交互式地图在仪表板、演示文稿或任何其他呈现的信息中总是很有帮助。我希望这有所帮助。</p><p id="1574" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请随时在Twitter上关注我。</p><h2 id="c855" class="md me jj bd nf oa ob dn nj oc od dp nn lh oe of np ll og oh nr lp oi oj nt ok bi translated">更多阅读</h2><div class="is it gp gr iu mo"><a rel="noopener follow" target="_blank" href="/four-popular-feature-selection-methods-for-efficient-machine-learning-in-python-fdd34762efdb"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jk gy z fp mt fr fs mu fu fw ji bi translated">Python中高效机器学习的四种流行特征选择方法</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">使用真实数据集执行特征选择方法，并在每个方法后检索所选特征</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">towardsdatascience.com</p></div></div><div class="mx l"><div class="ol l mz na nb mx nc ja mo"/></div></div></a></div><div class="is it gp gr iu mo"><a rel="noopener follow" target="_blank" href="/an-ultimate-cheatsheet-of-data-visualization-in-seaborn-be8ed13a3697"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jk gy z fp mt fr fs mu fu fw ji bi translated">用Python的Seaborn库实现数据可视化的终极备忘单</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">对学习者来说也是一个很好的资源</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">towardsdatascience.com</p></div></div><div class="mx l"><div class="om l mz na nb mx nc ja mo"/></div></div></a></div><div class="is it gp gr iu mo"><a rel="noopener follow" target="_blank" href="/three-very-useful-functions-of-pandas-to-summarize-the-data-491b64db9370"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jk gy z fp mt fr fs mu fu fw ji bi translated">熊猫总结数据的三个非常有用的功能</h2><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">towardsdatascience.com</p></div></div><div class="mx l"><div class="on l mz na nb mx nc ja mo"/></div></div></a></div><div class="is it gp gr iu mo"><a rel="noopener follow" target="_blank" href="/exploratory-data-analysis-visualization-and-prediction-model-in-python-241b954e1731"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jk gy z fp mt fr fs mu fu fw ji bi translated">Python中的探索性数据分析、可视化和预测模型</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">在Python中使用Pandas、Matplotlib、Seaborn和Scikit_learn库</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">towardsdatascience.com</p></div></div><div class="mx l"><div class="oo l mz na nb mx nc ja mo"/></div></div></a></div><div class="is it gp gr iu mo"><a rel="noopener follow" target="_blank" href="/stochastic-gradient-descent-explanation-and-complete-implementation-from-scratch-a2c6a02f28bd"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jk gy z fp mt fr fs mu fu fw ji bi translated">随机梯度下降:从头开始的解释和完整实现</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">使用单个感知器</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">towardsdatascience.com</p></div></div><div class="mx l"><div class="op l mz na nb mx nc ja mo"/></div></div></a></div></div></div>    
</body>
</html>