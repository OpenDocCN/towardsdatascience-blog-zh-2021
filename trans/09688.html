<html>
<head>
<title>6 Common Metrics For Your Next Regression Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">下一个回归项目的6个通用指标</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/6-common-metrics-for-your-next-regression-project-4667cbc534a7?source=collection_archive---------22-----------------------#2021-09-09">https://towardsdatascience.com/6-common-metrics-for-your-next-regression-project-4667cbc534a7?source=collection_archive---------22-----------------------#2021-09-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1bc2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">优势、劣势和主要陷阱</h2></div><p id="c499" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你训练了一个模特，现在呢？或者，你已经训练了多个模型；你如何决定哪一个是最好的？好吧，我们问问谷歌。嗯，谷歌推荐了许多可以用来评估你的模型的指标。但是现在，这变成了一个元问题，我应该使用什么度量来确定使用什么模型？因此，这里列出了一些常用指标，以及它们的优点、缺点和细微差别:</p><ul class=""><li id="e14a" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated"><a class="ae ln" href="#f3bd" rel="noopener ugc nofollow">平均绝对误差(MAE) </a></li><li id="2a1b" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld lj lk ll lm bi translated"><a class="ae ln" href="#79a1" rel="noopener ugc nofollow">均方误差</a></li><li id="c6a3" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld lj lk ll lm bi translated"><a class="ae ln" href="#6f44" rel="noopener ugc nofollow">均方根误差(RMSE) </a></li><li id="96c6" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld lj lk ll lm bi translated"><a class="ae ln" href="#d47a" rel="noopener ugc nofollow">归一化均方根误差(NRMSE) </a></li><li id="863e" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld lj lk ll lm bi translated"><a class="ae ln" href="#4333" rel="noopener ugc nofollow">均方根对数误差</a></li><li id="857f" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld lj lk ll lm bi translated"><a class="ae ln" href="#ecb5" rel="noopener ugc nofollow">平均绝对百分比误差(MAPE) </a></li></ul><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi lt"><img src="../Images/add26a9fdc81f014cc5f25de205c4d8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ta_FzzL8RQy1H3RO"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">由<a class="ae ln" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Kelly Sikkema </a>在<a class="ae ln" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="27e5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于下面的部分，y是真实值，y-hat是预测值，n是测试实例的数量，并且<em class="mq"> i </em>从1到n。此外，所有指标都是在一个看不见的测试集上评估的。</p><h1 id="f3bd" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">绝对平均误差</h1><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nj"><img src="../Images/5fe3cef519d32307765bca520c53e8c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aArglbz_eZKZI7JCofUS4Q.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">图片作者。由<a class="ae ln" href="http://latex2png.com/" rel="noopener ugc nofollow" target="_blank"> latex2png </a>生成</p></figure><p id="628b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">平均绝对误差是一个非常直观的指标，因此也是一个流行的指标。它只是预测值和真实值之间的平均距离。为了避免误差相互抵消，我们计算每个误差的绝对值。最好的模型通常是MAE最低的模型。然而，当选择MAE作为您的度量标准时，有一些特性需要考虑。</p><p id="a6ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然它很容易理解，但是MAE也有一些缺点。例如，它不能告诉你你的模型是倾向于高估还是低估，因为任何方向信息都被绝对值破坏了。此外，该指标可能对大的异常值不敏感。看看下面的例子。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nk"><img src="../Images/e97a12317317c584fbf6d0e5f90e43e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T0xH15EZYClDDZ-W0NbdVQ.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">图片作者。由<a class="ae ln" href="http://latex2png.com/" rel="noopener ugc nofollow" target="_blank"> latex2png </a>生成</p></figure><p id="884f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在左边，这个模型在这里和那里有一点偏差。然而，在右边，模型以更大的差距错过了尾端的标记，而在开始和中间是完美的。然而，两者的MAEs是相同的。如果您决定使用这个度量标准，那么绘制误差图来查看任何异常值是一个好主意，就像案例2一样。总而言之，如果你想要一个惩罚大错误的标准，你在别的地方会有更好的运气。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="79a1" class="mr ms it bd mt mu nl mw mx my nm na nb jz nn ka nd kc no kd nf kf np kg nh ni bi translated">均方误差</h1><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nq"><img src="../Images/abc6e7a322414c770003f5366cad7b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o5S1bMBma63aIoZ-HZKrcQ.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">图片作者。使用<a class="ae ln" href="http://latex2png.com/" rel="noopener ugc nofollow" target="_blank"> latex2png </a>生成。</p></figure><p id="41d4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这让我想到了均方误差。像MAE一样，当我们平方每一个计算误差时，我们正在破坏方向信息。MSE也总是大于或等于0。然而，我们现在能够区分上述两种模型。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nk"><img src="../Images/111a65b07b72dba85d6007c3e9f9f0ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xyP6nIFiyAF7NeK1TVQDrw.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">图片作者。使用<a class="ae ln" href="http://latex2png.com/" rel="noopener ugc nofollow" target="_blank"> latex2png </a>生成。</p></figure><p id="a26f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有趣的是，MSE与臭名昭著的偏差-方差权衡有关。可以看出，给定测试点的预期测试MSE可以写成[1]:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nr"><img src="../Images/ce9409b96f58897b22db56308f509ca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*K0XXJS5S4balw6i9.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">图片作者。使用<a class="ae ln" href="http://latex2png.com/" rel="noopener ugc nofollow" target="_blank"> latex2png </a>生成。</p></figure><p id="2bc4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中下标0是测试数据点的索引，ϵ是数据中的不可约或噪声。</p><p id="cb2e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">方差是指当我们改变训练集时y-hat改变的量。通常，更灵活的方法具有更高的变化程度。方差也取决于我们有多少数据。训练数据集越大，方差越低。因此，我们可以在大量数据的限制下，根据模型的偏差和随机噪声来解释给定测试数据点的MSE。</p><p id="1504" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们试图用简单的东西来估计预测因子和目标之间的复杂关系时，就会产生偏差。例如，我们经常假设x和y具有线性或多项式关系，因为我们知道这些方程的形式，这将问题简化为我们可以估计的几个参数。实际上，x和y可能没有这样的关系。</p><p id="6766" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，MSE的一个主要缺点是y的单位是平方的，这意味着很容易误解最终结果。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="6f44" class="mr ms it bd mt mu nl mw mx my nm na nb jz nn ka nd kc no kd nf kf np kg nh ni bi translated">鲁尔均方误差</h1><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ns"><img src="../Images/1a9b30aa8d60fac5a7e562e8398cfec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NdaqE_UgH_V9A1fgTUPcZw.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">图片作者。使用<a class="ae ln" href="http://latex2png.com/" rel="noopener ugc nofollow" target="_blank"> latex2png </a>生成。</p></figure><p id="2491" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们开平方根怎么样？RMSE和MSE非常相似，除了RMSE更方便，因为它和y有相同的单位。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nt"><img src="../Images/0dbf93220af569e0aa99e616b0430962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RKD6qp50mb2gRNUo.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">图片作者。使用<a class="ae ln" href="http://latex2png.com/" rel="noopener ugc nofollow" target="_blank"> latex2png </a>生成。</p></figure><p id="2003" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，你有没有尝试过转换你的目标，看看你是否得到一个更好的适合？比如取y的对数。然后你计算两种方法的RMSE，你会发现一个比另一个高。这不是一个公平的比较，因为这两个值有不同的单位。解决这个问题的一个方法是除以y的某个属性，得到一个无单位的度量，称为归一化均方根误差。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="d47a" class="mr ms it bd mt mu nl mw mx my nm na nb jz nn ka nd kc no kd nf kf np kg nh ni bi translated">归一化均方根误差</h1><p id="9e20" class="pw-post-body-paragraph ki kj it kk b kl nu ju kn ko nv jx kq kr nw kt ku kv nx kx ky kz ny lb lc ld im bi translated">我这里没有任何方程，因为有很多东西可以用来除均方根。一些常见的选择是y的平均值、y的最大值和最小值之差、标准差和四分位距。何时选择什么是微妙的事情，如果你感兴趣的话,[2]可以提供更深入的解释。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="4333" class="mr ms it bd mt mu nl mw mx my nm na nb jz nn ka nd kc no kd nf kf np kg nh ni bi translated">均方根对数误差</h1><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nz"><img src="../Images/77d2fa22e2887c0ef0f5b81cf72b9c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EQjLZWHT1_7u65c8.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">图片作者。使用<a class="ae ln" href="http://latex2png.com/" rel="noopener ugc nofollow" target="_blank"> latex2png </a>生成。</p></figure><p id="f1b0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我认为这个度量标准是几年前由Kaggle提出的[3]。当您想要增加如何惩罚错误的方向时，应该使用此指标。在这种情况下，我们告诉度量标准对低估的惩罚要多于高估。例如，假设y=1。如果我们的模型给出y-hat = 0，那么误差就是[log(1/2)] = 0.09。但是，如果模型给出y-hat=2，那么误差就是[log(3/2)] = 0.03。如果我们使用MSE，那么我们的误差无论如何都是1。</p><p id="2416" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，该指标还考虑了真实值和预测值的相对比例。例如，如果y=9，y-hat=99，则误差为1。另一方面，如果y=99，y-hat=999，那么误差仍然是1。因此，当目标值的范围很大时，这种度量很方便，并且当预测值和真实值都很大时，您不希望惩罚大的错误。</p><p id="89c8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，我在这里还没有找到关于一些陷阱的讨论。如果你看看log(x)图，你会发现x不能等于或小于0。这意味着我们的对数(y-hat+1 / y+1)内部的自变量不能等于或小于0。然后，还有一个附加的约束，y不能是-1。否则，整件事就完了。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="ecb5" class="mr ms it bd mt mu nl mw mx my nm na nb jz nn ka nd kc no kd nf kf np kg nh ni bi translated">平均绝对百分比误差</h1><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi oa"><img src="../Images/f100b0486107d8d0b13f1d398f7b9548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zkWDJzyERQthl9zf.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">图片作者。使用<a class="ae ln" href="http://latex2png.com/" rel="noopener ugc nofollow" target="_blank"> latex2png </a>生成。</p></figure><p id="22c1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">MAPE看起来像MAE的表亲，额外的好处是它是无单位的。然而，引入除法也有一些主要的缺点。例如，在非常小的y_i或y_i = 0的情况下，MAPE可以爆炸或根本不可计算。它还继承了MAE的一个问题，即每个误差的大小是否没有上限(尽管名字上写着“百分比”)。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="8de6" class="mr ms it bd mt mu nl mw mx my nm na nb jz nn ka nd kc no kd nf kf np kg nh ni bi translated">总结</h1><p id="732f" class="pw-post-body-paragraph ki kj it kk b kl nu ju kn ko nv jx kq kr nw kt ku kv nx kx ky kz ny lb lc ld im bi translated">我希望你喜欢这个列表，并且学到了一些新的东西。接下来的只是我的看法。当我阅读这些指标时，我经常看到提到“可解释性”。我不太确定“可解释性”是什么意思，也不知道是否已经达成共识。我对这些指标的解释和理解通常基于它们在特定情况下的表现。总而言之，当有其他指标更像我们想要的方式，但更难解释时，我们应该在多大程度上强调一个指标的“可解释性”？</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="d4da" class="mr ms it bd mt mu nl mw mx my nm na nb jz nn ka nd kc no kd nf kf np kg nh ni bi translated">保持联系</h1><p id="f17f" class="pw-post-body-paragraph ki kj it kk b kl nu ju kn ko nv jx kq kr nw kt ku kv nx kx ky kz ny lb lc ld im bi translated">我喜欢写关于数据科学和科学的文章。如果你喜欢这篇文章，请在<a class="ae ln" href="https://medium.com/@h-vo" rel="noopener"> Medium </a>上关注我，加入我的<a class="ae ln" href="https://medium.com/subscribe/@h-vo" rel="noopener">电子邮件列表</a>，或者<a class="ae ln" href="https://medium.com/@h-vo/membership" rel="noopener">成为Medium会员</a>(如果你使用这个链接，我将收取你大约50%的会员费)，如果你还没有的话。下一篇帖子再见！😄</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="dcb4" class="mr ms it bd mt mu nl mw mx my nm na nb jz nn ka nd kc no kd nf kf np kg nh ni bi translated">来源</h1><p id="7f37" class="pw-post-body-paragraph ki kj it kk b kl nu ju kn ko nv jx kq kr nw kt ku kv nx kx ky kz ny lb lc ld im bi translated">[1] Gareth James，Daniela Witten，Trevor Hastie，Robert Tibshirani。统计学习导论:在R (2013)中的应用</p><p id="975b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[2]奥托，S.A. (2019年1月7日)。如何使RMSE正常化。<a class="ae ln" href="https://www.marinedatascience.co/blog/2019/01/07/normalizing-the-rmse/" rel="noopener ugc nofollow" target="_blank">https://www . marinedata science . co/blog/2019/01/07/normalizing-the-RMSE/</a></p><p id="b5af" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[3]<a class="ae ln" href="https://www.kaggle.com/carlolepelaars/understanding-the-metric-rmsle" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/carlolepelaars/understanding-the-metric-rmsle</a></p><p id="722a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[4]<a class="ae ln" href="https://en.wikipedia.org/wiki/Mean_absolute_percentage_error" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Mean _ absolute _ percentage _ error</a></p></div></div>    
</body>
</html>