<html>
<head>
<title>Confidence Intervals with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的置信区间</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/confidence-intervals-with-python-bfa28ebb81c?source=collection_archive---------6-----------------------#2021-06-22">https://towardsdatascience.com/confidence-intervals-with-python-bfa28ebb81c?source=collection_archive---------6-----------------------#2021-06-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="39f7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用Python实现大学统计</h2></div><h1 id="023c" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">介绍</h1><p id="22ef" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在一系列的每周文章中，我将会涉及一些重要的统计学主题。</p><p id="cc1c" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">目标是使用Python来帮助我们获得对复杂概念的直觉，从经验上测试理论证明，或者从零开始构建算法。在本系列中，您将会看到涵盖随机变量、抽样分布、置信区间、显著性检验等主题的文章。</p><p id="4ad8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在每篇文章的最后，你可以找到练习来测试你的知识。解决方案将在下周的文章中分享。</p><p id="52b9" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">迄今发表的文章:</p><ul class=""><li id="fbec" class="mb mc it lc b ld lw lg lx lj md ln me lr mf lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/bernoulli-and-binomial-random-variables-d0698288dd36">伯努利和二项随机变量与Python </a></li><li id="a180" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/geometric-and-poisson-random-variables-with-python-e5dcb63d6b55">用Python从二项式到几何和泊松随机变量</a></li><li id="b1df" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/sampling-distributions-with-python-f5a5f268f636">用Python实现样本比例的抽样分布</a></li><li id="83d3" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/confidence-intervals-with-python-bfa28ebb81c">Python的置信区间</a></li><li id="5eab" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/significance-or-hypothesis-tests-with-python-7ed35e9ac9b6">使用Python进行显著性测试</a></li><li id="b25d" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/two-sample-inference-for-the-difference-between-groups-with-python-de91fbee32f9">用Python进行组间差异的双样本推断</a></li><li id="b3e9" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/inference-for-categorical-data-9f3c6034aa57">分类数据的推断</a></li><li id="5520" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/advanced-regression-f74090014f3">高级回归</a></li><li id="b0e1" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/analysis-of-variance-anova-8dc889d2fc3a">方差分析— ANOVA </a></li></ul><p id="1bac" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">像往常一样，代码可以在我的<a class="ae mk" href="https://github.com/luisroque/College_Statistics_with_Python" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p><h1 id="7b5f" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">置信区间和误差幅度</h1><p id="df5f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">一群学生试图理解《老友记》中哪个角色最有趣，结果是钱德勒·宾和罗斯·盖勒。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/d92fcbd3818fd62d280a762b7472cd60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Y_v2HH1pdICm4f4f"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图1: <em class="nh">《老友记》</em>是一部美国电视情景喜剧，围绕住在纽约曼哈顿的六个二三十岁的朋友展开。</p></figure><p id="5de4" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">他们对罗斯实际获胜的可能性感兴趣，因为与钱德勒讽刺和诙谐的幽默感相比，他有一种非常笨拙的幽默感。他们决定在学校里发起一次投票。理想情况下，他们会询问全体学生，但很快他们就明白询问5000名学生的偏好是不可行的。相反，他们决定随机抽取40名学生，计算支持罗斯的样本比例。他们得出的第一个值是p̂=0.61.</p><p id="38c5" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">请注意，为了继续他们的研究，这组学生需要确保满足计算某个比例的有效置信区间的条件。有三种情况:</p><ul class=""><li id="64c8" class="mb mc it lc b ld lw lg lx lj md ln me lr mf lv mg mh mi mj bi translated">样本必须是随机的。</li><li id="dd32" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated">正态分布可以近似样本比例的抽样分布。经验法则是，你至少需要有10次成功和10次失败。</li><li id="56c3" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated">要求样本是独立的。经验法则是，如果你是在没有替换的情况下抽样，你的样本量应该少于总体量的10%。</li></ul><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="2cd7" class="nn kj it nj b gy no np l nq nr">import numpy as np<br/>import seaborn as sns<br/>import math<br/>from scipy.stats import bernoulli, norm, t, skewnorm<br/>import matplotlib.pyplot as plt</span><span id="3c12" class="nn kj it nj b gy ns np l nq nr">p_hat = 0.61<br/>n = 40</span><span id="f989" class="nn kj it nj b gy ns np l nq nr">print('Normal conditions:')<br/>print('successes &gt;= 10: ' + str(n*p_hat &gt;= 10))<br/>print('failures &gt;= 10 : ' + str(n*(1-p_hat) &gt;= 10))<br/>print('--')<br/>print('Independence condition:')<br/>print(40/5000 &lt; 0.1)</span><span id="a609" class="nn kj it nj b gy ns np l nq nr">Normal conditions:<br/>successes &gt;= 10: True<br/>failures &gt;= 10 : True<br/>--<br/>Independence condition:<br/>True</span></pre><p id="06e1" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">所有条件都满足后，这组学生现在可以专注于构建样本比例的抽样分布；根据这一分布，他们计算了可能得到的样本比例及其可能性。</p><p id="046c" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们已经看到，抽样分布的平均值是实际总体比例<em class="mq"> p </em>和样本比例的标准偏差:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/41487baade599998b1f7543bf2f9ca9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:276/format:webp/1*CFzesYZ6hIGsPNBvMM5_SA.png"/></div></figure><p id="9b28" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们开始把这些概念和置信区间的概念联系起来。p̂ = 0.61在范围内的概率是多少</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/3ec993dd4dedd7eb81bcdf4ca7e2cc87.png" data-original-src="https://miro.medium.com/v2/resize:fit:164/format:webp/1*lPll3Y_VuldzeegZT-Jz2A.png"/></div></figure><p id="d8f6" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">对于正态分布，这大约是95%。这相当于说有95%的概率<em class="mq"> p </em>在内</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/bf52deb1115fbfdbedf3fd53ec21831a.png" data-original-src="https://miro.medium.com/v2/resize:fit:152/format:webp/1*jvGlMcjsw18b7hXg13LOlA.png"/></div></figure><p id="abca" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">这是置信区间的基本概念。</p><p id="47bd" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在，我们有一个问题。我们不知道<em class="mq"> p </em>，所以我们需要使用一个估计值。我们最好的估计自然是p̂.因此，不使用</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/1844a6c575457ffa730a3b4cd0102b00.png" data-original-src="https://miro.medium.com/v2/resize:fit:52/format:webp/1*n4dr08FOQb2rgijcT41SGA.png"/></div></figure><p id="58f4" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们使用标准误差:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/3792a883c693774944c9b49f50b0f08b.png" data-original-src="https://miro.medium.com/v2/resize:fit:306/format:webp/1*6qoeQOAj7NEO_hd3sam8Vg.png"/></div></figure><p id="cfee" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">计算我们的置信区间。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="f74e" class="nn kj it nj b gy no np l nq nr">SE_hat_p = np.sqrt(p_hat*(1-p_hat)/n)<br/>print(f'With 95% confidence between {np.round(p_hat - 2*SE_hat_p, 2)} and {np.round(p_hat + 2*SE_hat_p, 2)} of students prefer the awkward humor of Ross.')</span><span id="ef53" class="nn kj it nj b gy ns np l nq nr">With 95% confidence between 0.46 and 0.76 of students prefer the awkward humor of Ross.</span></pre><p id="d907" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">请注意，我们上面计算的置信区间可以根据我们实际选择的样本比例而变化。如果该组学生再次抽样40名新学生，则新的样本比例现在可以是0.55。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="9e66" class="nn kj it nj b gy no np l nq nr">p_hat = 0.55<br/>n = 40<br/>SE_hat_p = np.sqrt(p_hat*(1-p_hat)/n)<br/>print(f'With 95% confidence between {np.round(p_hat - 2*SE_hat_p, 2)} and {np.round(p_hat + 2*SE_hat_p, 2)} of students prefer the awkward humor of Ross.')</span><span id="f9c8" class="nn kj it nj b gy ns np l nq nr">With 95% confidence between 0.39 and 0.71 of students prefer the awkward humor of Ross.</span></pre><p id="c96a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们可以把这个概念和误差范围联系起来。我们第一次试验的误差幅度(知道我们有兴趣获得95%的置信度)是我们SE的2倍。</p><p id="5ec1" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">一个经常出现的有趣问题是“你能做些什么来减少误差幅度”？请注意，误差幅度取决于SE，SE与样本大小成反比。因此，减少误差的一个可能方法是增加样本量。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="5c08" class="nn kj it nj b gy no np l nq nr">print(f'Margin of error = {2*SE_hat_p}')</span><span id="214c" class="nn kj it nj b gy ns np l nq nr">Margin of error = 0.15732132722552272</span></pre><p id="b6da" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">同样的推理也适用。根据我们的样本比例，我们的误差幅度可能会有不同的值。</p><p id="6395" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">其思想是，如果我们重复使用这种计算置信区间的方法，每次都会产生不同的区间(取决于样本比例),其中95%的时间包含真实比例。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="9fa9" class="nn kj it nj b gy no np l nq nr">confidence_interval=0.95<br/>p = 0.61<br/>n = 50<br/>number_trials = 25<br/><br/>p_hat_list = []<br/>SE_hat_p_list = []<br/><br/>for i in range(number_trials):<br/>    s_ = bernoulli.rvs(p=p, size=n)<br/>    p_hat = s_[s_==1].shape[0] / s_.shape[0]<br/>    p_hat_list.append(p_hat)<br/>    SE_hat_p_list.append(2*np.sqrt(p_hat*(1-p_hat)/n))</span><span id="52fd" class="nn kj it nj b gy ns np l nq nr">j=0<br/>_, ax = plt.subplots(1, 1, figsize=(6, 8))<br/>for i in range(len(p_hat_list)):<br/>    if (p&gt;p_hat_list[i]-SE_hat_p_list[i]) &amp; (p&lt;p_hat_list[i]+SE_hat_p_list[i]):<br/>        # interval contains p<br/>        ax.errorbar(p_hat_list[i], np.arange(len(p_hat_list))[i],lolims=True, xerr=SE_hat_p_list[i], yerr=0.0, linestyle='', c='black')<br/>        j +=1<br/>    else:<br/>        # interval does not contain p<br/>        ax.errorbar(p_hat_list[i], np.arange(len(p_hat_list))[i],lolims=True, xerr=SE_hat_p_list[i], yerr=0.0, linestyle='', c='red')<br/>ax.axvline(0.61, color='darkorange')<br/>plt.xlim(0,1)<br/>plt.show()<br/>print(f'{j}/{number_trials}={np.round(j/number_trials,2)}')</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl ny"><img src="../Images/f01d41ba4608bf257df407255e5a1cdf.png" data-original-src="https://miro.medium.com/v2/format:webp/1*xiOdfvJP3RlGfPAaXets3A.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图2:样本比例的置信区间。</p></figure><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="8ec4" class="nn kj it nj b gy no np l nq nr">24/25=0.96</span></pre><p id="df93" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们正在绘制样本比例p̂和区间:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/b790f6694637610cd001e75b01c11d58.png" data-original-src="https://miro.medium.com/v2/resize:fit:232/format:webp/1*TsIyWwnpejCo9iIFlpExVw.png"/></div></figure><p id="ecc3" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">注意，大约96%的样本区间包含真实比例<em class="mq"> p </em>。随着样本数量的增加，这个数字将收敛到95%。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="9d8e" class="nn kj it nj b gy no np l nq nr">number_trials = 2000<br/><br/>j=0<br/>for i in range(number_trials):<br/>    p_hat = bernoulli.rvs(p=p, size=n)<br/>    p_hat = p_hat[p_hat==1].shape[0] / p_hat.shape[0]<br/>    SE_hat_p = 2*np.sqrt(p_hat*(1-p_hat)/n)<br/>    if (p&gt;p_hat-SE_hat_p) &amp; (p&lt;p_hat+SE_hat_p):<br/>        # interval contains p<br/>        j +=1<br/><br/>print(f'{j}/{number_trials}={np.round(j/number_trials,2)}')</span><span id="8822" class="nn kj it nj b gy ns np l nq nr">1877/2000=0.94</span></pre><p id="b2dc" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">如果我们对99%的置信区间感兴趣呢？我们需要计算特定置信水平的临界值，也称为z*。临界值只不过是低于和高于平均值的标准偏差的数量，我们需要得到这个值来获得期望的置信水平(99%)。请注意，使用z表或使用来自<code class="fe oa ob oc nj b">scipy</code>的<code class="fe oa ob oc nj b">norm.ppf</code>时，请记住您获得的值是针对单尾置信区间的。这不是我们想要的，所以我们需要得到99.5%的值(在分布的每个尾部留下0.5%给出99%的置信度)。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="3d09" class="nn kj it nj b gy no np l nq nr">CI = 0.99<br/>critical_value = norm.ppf(CI+(1-CI)/2) # we want the critical value for a two-tail distribution<br/>critical_value</span><span id="4fad" class="nn kj it nj b gy ns np l nq nr">2.5758293035489004</span></pre><p id="2c24" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">有99%的可能性<em class="mq"> p </em>在:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi od"><img src="../Images/28dc009c2f3109b2ff4a6f6ea9e67ab2.png" data-original-src="https://miro.medium.com/v2/resize:fit:238/format:webp/1*9bALavi_C3RsfZ1yIrAVrQ.png"/></div></figure><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="a01a" class="nn kj it nj b gy no np l nq nr">number_trials = 1000<br/><br/>j=0<br/>for i in range(number_trials):<br/>    p_hat = bernoulli.rvs(p=p, size=n)<br/>    p_hat = p_hat[p_hat==1].shape[0] / p_hat.shape[0]<br/>    SE_hat_p = critical_value*np.sqrt(p_hat*(1-p_hat)/n)<br/>    if (p&gt;p_hat-SE_hat_p) &amp; (p&lt;p_hat+SE_hat_p):<br/>        # interval contains p<br/>        j +=1<br/><br/>print(f'{j}/{number_trials}={np.round(j/number_trials,2)}')</span><span id="e17e" class="nn kj it nj b gy ns np l nq nr">994/1000=0.99</span></pre><h1 id="2fe9" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">比例的有效置信区间的条件</h1><p id="9f32" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们首先回忆一下比例有效区间的条件:</p><ul class=""><li id="fb2f" class="mb mc it lc b ld lw lg lx lj md ln me lr mf lv mg mh mi mj bi translated">样本必须是随机的。</li><li id="2e25" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated">正态分布可以近似样本比例的抽样分布。经验法则是，你至少需要有10次成功和10次失败。</li><li id="d104" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated">要求样本是独立的。经验法则是，如果你是在没有替换的情况下抽样，你的样本量应该少于总体量的10%。</li></ul><p id="21d8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">为了帮助我们理解其中的含义，我们将举例说明当其中一个条件不满足时会发生什么。首先，让我们创建一个函数来计算置信区间，并绘制最后50个样本。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="e44d" class="nn kj it nj b gy no np l nq nr">def confidence_interval(p, n, number_trials, N, ci=0.95, sample='random'):<br/>    p_ = bernoulli.rvs(p=p, size=N)<br/>    p_hat_list = []<br/>    SE_hat_p_list = []<br/>    <br/>    if sample!='random':<br/>        # Inducing bias on the sampling<br/>        p_.sort()<br/>        p_ = p_[:-int(0.2*N)]<br/>        np.random.shuffle(p_)<br/>    <br/>    for i in range(number_trials):<br/>        s_ = np.random.choice(p_, n, replace=False)<br/>        p_hat = s_[s_==1].shape[0] / s_.shape[0]<br/>        p_hat_list.append(p_hat)<br/>        SE_hat_p_list.append(2*np.sqrt(p_hat*(1-p_hat)/n))<br/><br/>    j=0<br/>    _, ax = plt.subplots(1, 1, figsize=(6, 8))<br/>    for i in range(len(p_hat_list)):<br/>        if (p&gt;p_hat_list[i]-SE_hat_p_list[i]) &amp; (p&lt;p_hat_list[i]+SE_hat_p_list[i]):<br/>            # interval contains p<br/>            if i &gt; len(p_hat_list)-50:<br/>                ax.errorbar(p_hat_list[i], np.arange(len(p_hat_list))[i],lolims=True, xerr=SE_hat_p_list[i], yerr=0.0, linestyle='', c='black')<br/>            j +=1<br/>        else:<br/>            # interval does not contain p<br/>            if i &gt; len(p_hat_list)-50:    <br/>                ax.errorbar(p_hat_list[i], np.arange(len(p_hat_list))[i],lolims=True, xerr=SE_hat_p_list[i], yerr=0.0, linestyle='', c='red')<br/>    ax.axvline(0.61, color='darkorange')<br/>    plt.xlim(0,1)<br/>    plt.show()<br/>    print(f'{j}/{number_trials}={np.round(j/number_trials,2)}')</span></pre><p id="8b69" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">第一个例子是我们的样本不是随机的，也就是说，我们从总体中取样的方式会引入一些偏差。参考我们的上下文，这可能意味着我们的学生小组正在调查学校喜剧俱乐部之外的人，钱德勒的笑话更有效地与他们联系在一起。我们的信心突然下降到90%以下。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="4536" class="nn kj it nj b gy no np l nq nr">confidence_interval(p=0.61, n=35, number_trials=1000, N=500, sample='not_random')</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl ny"><img src="../Images/666ba6cb7614b291f337407bed2dc1ac.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-VD-ZFHnr-PTO5_TSQpWKg.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图3:非随机抽样的样本比例的置信区间。</p></figure><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="7bfd" class="nn kj it nj b gy no np l nq nr">884/1000=0.88</span></pre><p id="b27e" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">第二种情况是，我们不能假设我们的抽样分布是正态的。请注意，我们的抽样规模是10，这并不保证成功和失败超过10次。同样，即使我们计算出95%的置信区间，真实比例<em class="mq"> p </em>在计算区间内的次数百分比大约是90%。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="8f54" class="nn kj it nj b gy no np l nq nr">n = 10<br/>print('Normal conditions:')<br/>print('successes &gt;= 10: ' + str(n*p_hat &gt;= 10))<br/>print('failures &gt;= 10 : ' + str(n*(1-p_hat) &gt;= 10))</span><span id="43ec" class="nn kj it nj b gy ns np l nq nr">Normal conditions:<br/>successes &gt;= 10: False<br/>failures &gt;= 10 : False</span><span id="516f" class="nn kj it nj b gy ns np l nq nr">confidence_interval(p=0.61, n=10, number_trials=1000, N=500)</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl ny"><img src="../Images/b8693993315c8c91d54dfeb4db4cf128.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Tl3N7KXOyF-uUCHZUEnp7A.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图4:非正态分布样本比例的置信区间。</p></figure><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="f02b" class="nn kj it nj b gy no np l nq nr">897/1000=0.9</span></pre><p id="02b4" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">最后，最后一个条件是样本之间的独立性。如果不满足10%的经验法则，我们就不能假设独立。我们的信心再次下降到接近90%。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="b30a" class="nn kj it nj b gy no np l nq nr">n = 150<br/>N=600<br/>print('Independence condition:')<br/>print(n/N &lt; 0.1)</span><span id="21f2" class="nn kj it nj b gy ns np l nq nr">Independence condition:<br/>False</span><span id="74e7" class="nn kj it nj b gy ns np l nq nr">confidence_interval(p=0.61, n=n, number_trials=1000, N=N)</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl ny"><img src="../Images/282c0e38394ee422ff6d44a67cdbc439.png" data-original-src="https://miro.medium.com/v2/format:webp/1*uW4Gu26M3hVUo7F1-y7TZQ.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图5:不满足独立性标准的样本比例的置信区间。</p></figure><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="db35" class="nn kj it nj b gy no np l nq nr">904/1000=0.9</span></pre><p id="ab89" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在我们已经看到了所有不满足条件的情况，让我们创建一个通过所有3个测试的情况。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="0c79" class="nn kj it nj b gy no np l nq nr">confidence_interval(p=0.61, n=35, number_trials=1000, N=500)</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl ny"><img src="../Images/28008d776ae85728d9843adda694894a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*UKtMOTsuhEIKfzU1973Ceg.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图6:满足所有3个标准的样本比例的置信区间。</p></figure><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="5f67" class="nn kj it nj b gy no np l nq nr">947/1000=0.95</span></pre><p id="f9ce" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们的信心有效地收敛到95%。我们可以对自己的自信充满信心。</p><h1 id="0f37" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">估计总体均值</h1><p id="91d7" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们一直在解决估计人口比例的问题，人口中有百分之几的人更喜欢罗斯的幽默而不是钱德勒的幽默。一个不同的问题是估计人口的平均数。让我们来看看主要的区别。当我们估计人口比例的置信区间时，我们定义:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/26a846eb627f51cf598d26cb7fc5b5c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*sBckaJKyh_meVD8TQkjAMw.png"/></div></figure><p id="42c4" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">根据同样的原则，我们将总体平均值定义为:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi of"><img src="../Images/4d3f7dd6744dc073c34638da05cab77f.png" data-original-src="https://miro.medium.com/v2/resize:fit:282/format:webp/1*NzNUMPC3N-ZQV9L88Y6PBA.png"/></div></figure><p id="a7c5" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">请注意，我们不知道我们的总体标准差，所以我们使用我们的最佳估计，样本标准差。不幸的是，如果我们使用这种方法来计算我们的置信区间，我们将会低估实际的区间。为了达到95%的置信度，我们需要使用基于t分布的不同临界值。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi og"><img src="../Images/862dde288fd54b37534d1be4e495447a.png" data-original-src="https://miro.medium.com/v2/resize:fit:254/format:webp/1*FeFJGyPCz6kHTysLSCwNzw.png"/></div></figure><p id="453d" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们做几个实验来证明我们的观点。首先，我们基于样本标准偏差定义均值的置信区间，但从正态分布计算临界值。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="9c54" class="nn kj it nj b gy no np l nq nr">def confidence_interval_mean(μ, σ, n, number_trials, N, ci=0.95, sample='random'):<br/>    x_ = norm.rvs(loc=μ, scale=σ, size=N)<br/>    x_hat_list = []<br/>    SE_hat_x_list = []<br/>    <br/>    if sample!='random':<br/>        # Inducing bias on the sampling<br/>        x_.sort()<br/>        x_ = x_[:-int(0.2*N)]<br/>        np.random.shuffle(x_)<br/>    <br/>    for i in range(number_trials):<br/>        s_ = np.random.choice(x_, n, replace=False)<br/>        x_hat = np.mean(s_)<br/>        x_hat_list.append(x_hat)<br/>        SE_hat_x_list.append(norm.ppf(ci+(1-ci)/2)*np.std(s_)/np.sqrt(n))<br/><br/>    j=0<br/>    _, ax = plt.subplots(1, 1, figsize=(6, 8))<br/>    for i in range(len(x_hat_list)):<br/>        if (μ&gt;x_hat_list[i]-SE_hat_x_list[i]) &amp; (μ&lt;x_hat_list[i]+SE_hat_x_list[i]):<br/>            # interval contains p<br/>            if i &gt; len(x_hat_list)-50:<br/>                ax.errorbar(x_hat_list[i], np.arange(len(x_hat_list))[i],lolims=True, xerr=SE_hat_x_list[i], yerr=0.0, linestyle='', c='black')<br/>            j +=1<br/>        else:<br/>            # interval does not contain p<br/>            if i &gt; len(x_hat_list)-50:    <br/>                ax.errorbar(x_hat_list[i], np.arange(len(x_hat_list))[i],lolims=True, xerr=SE_hat_x_list[i], yerr=0.0, linestyle='', c='red')<br/>    ax.axvline(μ, color='darkorange')<br/>    #plt.xlim(0,1)<br/>    plt.show()<br/>    print(f'{j}/{number_trials}={np.round(j/number_trials,2)}')</span><span id="fd70" class="nn kj it nj b gy ns np l nq nr">confidence_interval_mean(2, 0.5, 12, 2000, 1000)</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl ny"><img src="../Images/9da7a9717c62c4182f3f991a7cefd5c6.png" data-original-src="https://miro.medium.com/v2/format:webp/1*KWKDHZzQmqF8HDWtu9ralg.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图7:使用z*计算的样本均值的置信区间。</p></figure><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="2bdb" class="nn kj it nj b gy no np l nq nr">1837/2000=0.92</span></pre><p id="b7be" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们期待的事情发生了，因为真正的平均值只有92%的时间包含在我们的置信区间内。这不是有意的，因为我们正在计算平均值的95%置信区间。</p><p id="23ff" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在第二个实验中，现在使用的临界值是从t分布计算出来的。</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="26ac" class="nn kj it nj b gy no np l nq nr">def confidence_interval_mean_t(μ, σ, n, number_trials, N, ci=0.95, sample='random'):<br/>    x_ = norm.rvs(loc=μ, scale=σ, size=N)<br/>    x_hat_list = []<br/>    SE_hat_x_list = []<br/>    <br/>    if sample!='random':<br/>        # Inducing bias on the sampling<br/>        x_.sort()<br/>        x_ = x_[:-int(0.2*N)]<br/>        np.random.shuffle(x_)<br/>    <br/>    for i in range(number_trials):<br/>        s_ = np.random.choice(x_, n, replace=False)<br/>        x_hat = np.mean(s_)<br/>        x_hat_list.append(x_hat)<br/>        SE_hat_x_list.append(t.ppf(ci+(1-ci)/2, df=n-1)*np.std(s_)/np.sqrt(n))<br/><br/>    j=0<br/>    _, ax = plt.subplots(1, 1, figsize=(6, 8))<br/>    for i in range(len(x_hat_list)):<br/>        if (μ&gt;x_hat_list[i]-SE_hat_x_list[i]) &amp; (μ&lt;x_hat_list[i]+SE_hat_x_list[i]):<br/>            # interval contains p<br/>            if i &gt; len(x_hat_list)-50:<br/>                ax.errorbar(x_hat_list[i], np.arange(len(x_hat_list))[i],lolims=True, xerr=SE_hat_x_list[i], yerr=0.0, linestyle='', c='black')<br/>            j +=1<br/>        else:<br/>            # interval does not contain p<br/>            if i &gt; len(x_hat_list)-50:    <br/>                ax.errorbar(x_hat_list[i], np.arange(len(x_hat_list))[i],lolims=True, xerr=SE_hat_x_list[i], yerr=0.0, linestyle='', c='red')<br/>    ax.axvline(μ, color='darkorange')<br/>    #plt.xlim(0,1)<br/>    plt.show()<br/>    print(f'{j}/{number_trials}={np.round(j/number_trials,2)}')</span><span id="c649" class="nn kj it nj b gy ns np l nq nr">confidence_interval_mean_t(2, 0.5, 12, 2000, 1000)</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl ny"><img src="../Images/1cdef21679fb3b09cf7879039e9c7e84.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Orbnvy9m8C-rmkihCjNIrw.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">图8:使用t*的样本均值的置信区间。</p></figure><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="f27b" class="nn kj it nj b gy no np l nq nr">1892/2000=0.95</span></pre><p id="e11b" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们的信心有效地收敛到95%。再一次，我们可以对自己的自信充满信心。</p><h1 id="4698" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">有效t间隔的条件</h1><p id="a413" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们已经看到了比例有效区间的条件。在t间隔的情况下，同样的规则适用。区别在于如何验证我们的分布是否可以被认为是正态分布。：</p><ul class=""><li id="a374" class="mb mc it lc b ld lw lg lx lj md ln me lr mf lv mg mh mi mj bi translated">样本必须是随机的。</li><li id="6f8d" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated">样本均值的抽样分布可以近似为正态分布。有三种方法可以实现:样本量大于30(中心极限定理适用)，原始分布是正态的，或者原始分布是对称的。</li><li id="f287" class="mb mc it lc b ld ml lg mm lj mn ln mo lr mp lv mg mh mi mj bi translated">要求样本是独立的。经验法则是，如果你是在没有替换的情况下抽样，你的样本量应该少于总体量的10%。</li></ul><p id="536b" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们把证明上述要点的实验作为本周的练习。</p><h1 id="8045" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">结论</h1><p id="eb79" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在本文中，我们讨论了置信区间和误差幅度等概念。我们从定义和计算样本比例的置信区间开始。要计算这样的置信区间，必须满足3个条件。我们模拟了3种不满足条件的场景。通过分析这些影响，我们观察到在每个场景中引入的偏差影响了我们的信心水平。</p><p id="54c6" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们还解决了计算样本均值置信区间的问题。在这种情况下，用于计算的临界值不能基于正态分布，而是基于t分布。通过模拟大量样本，我们展示了基于正态分布的临界值是如何低估实际置信区间的。最后，与我们对样本比例所做的一样，我们建立了有效t区间的条件。</p><p id="3951" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">保持联系:<a class="ae mk" href="https://www.linkedin.com/in/luisbrasroque/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a></p><h1 id="3412" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">练习</h1><p id="5db5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你将在下周的文章中找到答案。</p><ol class=""><li id="1239" class="mb mc it lc b ld lw lg lx lj md ln me lr mf lv oh mh mi mj bi translated">更改函数<code class="fe oa ob oc nj b">confidence_interval_mean_t</code>并构建5个不同的实验来计算样本均值的95%区间，其中3个不满足t区间的条件，2个满足。对于不满足条件的3，定义以下情况:抽样不随机，原始分布不近似正态，不满足独立性。对于满足条件的两种情况，定义一种情况下原始分布是正态分布，另一种情况下原始分布是偏斜的，但采样均值是正态分布。对于后两种情况，真正的总体均值应该包含在95%的计算置信区间内。</li></ol><p id="f4d7" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated"><em class="mq">提示:您可能会发现使用</em> <code class="fe oa ob oc nj b"><em class="mq">scipy</em></code> <em class="mq">中的</em> <code class="fe oa ob oc nj b"><em class="mq">skewnorm</em></code> <em class="mq">函数很有用。下面，您有一个正态分布的修改版本，由偏斜度参数、平均值和标准偏差来偏斜。</em></p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="1c4e" class="nn kj it nj b gy no np l nq nr"># code adapted from https://stackoverflow.com/questions/49367436/scipy-skewnorm-mean-not-matching-theory<br/><br/>skew = 4.0<br/>mean = 2<br/>stdev = 0.5<br/><br/>delta = skew / math.sqrt(1. + math.pow(skew, 2.))<br/>adjStdev = math.sqrt(math.pow(stdev, 2.) / (1. - 2. * math.pow(delta, 2.) / math.pi))<br/>adjMean = mean - adjStdev * math.sqrt(2. / math.pi) * delta<br/><br/>print('target mean={:.4f} actual mean={:.4f}'.format(mean, float(skewnorm.stats(skew, loc=adjMean, scale=adjStdev, moments='mvsk')[0])))<br/>print('target stdev={:.4f} actual stdev={:.4f}'.format(stdev, math.sqrt(float(skewnorm.stats(skew, loc=adjMean, scale=adjStdev, moments='mvsk')[1]))))</span><span id="730e" class="nn kj it nj b gy ns np l nq nr">target mean=2.0000 actual mean=2.0000<br/>target stdev=0.5000 actual stdev=0.5000</span><span id="5d30" class="nn kj it nj b gy ns np l nq nr"># Original skewed distribution<br/><br/>plt.hist(skewnorm.rvs(a = skew, loc=adjMean, scale=adjStdev, size=2000), bins=50);</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl ny"><img src="../Images/7108fba34aafb25a4dc24a9167ee7de5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*kxIuzNi1lbZt5X9qw93TfQ.png"/></div></figure><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="be65" class="nn kj it nj b gy no np l nq nr"># Approximately normal distribution of the sample mean because sample <br/># size is bigger than 30 (CTL applies)<br/><br/>plt.hist(np.mean([skewnorm.rvs(a = skew, loc=adjMean, scale=adjStdev, size=35) for _ in range(2000)], axis=1), bins=50);</span></pre><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="ab gu cl ny"><img src="../Images/840563517a42987cdaeddfbf08807e78.png" data-original-src="https://miro.medium.com/v2/format:webp/1*RscSmRIxlA9MIt4NoY4f4A.png"/></div></figure><h2 id="15e2" class="nn kj it bd kk oi oj dn ko ok ol dp ks lj om on ku ln oo op kw lr oq or ky os bi translated">上周的答案</h2><ol class=""><li id="0ec4" class="mb mc it lc b ld le lg lh lj ot ln ou lr ov lv oh mh mi mj bi translated">里克在一个遥远的星球上对75名公民进行了SRS调查，以了解抽样调查的公民中有多少人对自己的生活水平感到满意。假设生活在这个星球上的10亿公民中有60%对自己的生活水平感到满意。对生活水平满意的公民比例抽样分布的均值和标准差是多少？</li></ol><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="d6a1" class="nn kj it nj b gy no np l nq nr">mu_hat_p = 0.6<br/>print(mu_hat_p)<br/><br/>sigma_p_hat = np.sqrt(0.6*(1-0.6)/75)<br/>print(sigma_p_hat)</span><span id="82e6" class="nn kj it nj b gy ns np l nq nr">0.6<br/>0.0565685424949238</span></pre><p id="73ee" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">2.某个拥有超过1，000，000个家庭的星球的平均家庭收入为1，000，000美元，标准差为150，000美元。Rick计划随机抽取700个家庭样本，计算样本平均收入。计算x̄.抽样分布的平均值和标准差</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="0be7" class="nn kj it nj b gy no np l nq nr">μ = 1000000<br/>σ = 150000<br/>n = 700<br/><br/>print(f'μ_x_bar = {μ}')<br/>print(f'σ_x_bar = {σ/n**(1/2)}')</span><span id="af64" class="nn kj it nj b gy ns np l nq nr">μ_x_bar = 1000000<br/>σ_x_bar = 5669.467095138409</span></pre><p id="4c13" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">3.Rick正在对不同的入口枪进行质量控制测试，因为在制造过程中存在一些可变性。某枪靶厚5mm。厚度分布向右倾斜，平均值为5毫米，标准偏差为1毫米。该零件的质量控制检查包括随机抽取35个点，并计算这些点的平均厚度。样本平均厚度的抽样分布是什么形状？样品中的平均厚度在目标值0.2毫米以内的概率是多少？</p><pre class="ms mt mu mv gt ni nj nk nl aw nm bi"><span id="e64a" class="nn kj it nj b gy no np l nq nr"># Since n = 35 &gt;= 30, the central limit theorem applies.<br/># Even though the population is skewed to the right, the sample means<br/># are normally distributed due to the sample size.</span><span id="7b6b" class="nn kj it nj b gy ns np l nq nr">μ = 5<br/>σ = 1<br/>n = 100</span><span id="2b09" class="nn kj it nj b gy ns np l nq nr">norm.cdf(5.2, μ, σ/n**(1/2)) - norm.cdf(4.8, μ, σ/n**(1/2))</span><span id="b20b" class="nn kj it nj b gy ns np l nq nr">0.9544997361036418</span></pre></div></div>    
</body>
</html>