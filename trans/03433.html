<html>
<head>
<title>5 Basic Commands to Get Started with dplyr in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R中dplyr入门的5个基本命令</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/five-basic-commands-to-getting-started-with-dplyr-in-r-c8b0451ad916?source=collection_archive---------35-----------------------#2021-03-18">https://towardsdatascience.com/five-basic-commands-to-getting-started-with-dplyr-in-r-c8b0451ad916?source=collection_archive---------35-----------------------#2021-03-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f5ab" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Dplyr相当于Python中的Pandas库，可以轻松地进行数据探索和操作</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0e2243082b4558ea7ba5b44dbbc7a953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C8BmzBsDZENw72D3"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰夫·西普曼在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="6cff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我开始了我的数据科学之旅，学习如何使用Pandas库，事实上，它有着令人喜爱的一切-它易于使用，简单明了，并且具有几乎任何涉及操作和探索数据框的任务的功能。</p><p id="74c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">见鬼，我甚至在YouTube上制作了一个完整的视频系列，教其他人如何使用熊猫。随便看看(不要脸的塞)！</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/pandas-zero-to-hero-a-beginners-tutorial-to-using-pandas-f64e57386c7c"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">熊猫零到英雄-使用熊猫的初学者教程</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">熊猫零到英雄是一个视频教程系列，旨在教初学者友好的方式使用熊猫</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="70c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，最近，我发现自己在R上花了越来越多的时间，主要是因为我在准备精算考试，但我也很好奇，想了解人们在R中使用的Pandas等效工具。</p><p id="a883" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果您正在寻找Python与R的辩论，那么这篇文章不是您要找的。就我个人而言，我认为你可以添加到工具箱中的工具越多，你就变得越好，或者用数据科学的术语来说，你知道的语言或库越多，作为一名数据科学家，你就变得越灵活和有效。</p><p id="0548" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，在现实世界中，并不总是由你来决定你想为一个特定的项目使用哪种语言，所以扩展你的知识和技能真的没有坏处。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="780d" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">Dplyr功能</h1><p id="acb1" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">正如我提到的，对于那些已经熟悉熊猫的人来说，dplyr在功能上非常相似。有人可能会说dplyr编写和解释起来更直观，尤其是在使用链接语法时，这一点我们将在后面讨论。</p><p id="22b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您完全是新手，不要担心，因为在本文中，我将分享5个基本命令来帮助您开始使用dplyr，这些命令包括:</p><ol class=""><li id="d95c" class="nr ns it lb b lc ld lf lg li nt lm nu lq nv lu nw nx ny nz bi translated">过滤器</li><li id="e8f9" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">挑选</li><li id="3d7b" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">安排</li><li id="c109" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">使突变</li><li id="c11d" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">概括</li></ol><p id="8324" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了这些命令，我还将演示base R方法来获得相同的结果，以突出dplyr的可读性。</p><p id="39b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事不宜迟，我们开始吧！</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="af44" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">导入dplyr库和饮料数据集</h1><p id="4d43" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">如果您的计算机上还没有安装dplyr，您可以通过以下命令进行安装。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="bf16" class="ok mv it og b gy ol om l on oo">install.packages("dplyr")</span></pre><p id="f9a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你安装了这个库，我们现在就可以导入dplyr以及我们将在本教程中使用的数据集，按国家分类的饮料<a class="ae ky" href="https://raw.githubusercontent.com/justmarkham/pandas-videos/master/data/drinks.csv" rel="noopener ugc nofollow" target="_blank">数据集</a>。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="16a9" class="ok mv it og b gy ol om l on oo">library(dplyr)<br/>drinks = read.csv("http://bit.ly/drinksbycountry")<br/>head(drinks) </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/dc06bf0c4e3324ab7217500d9713f8c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ogwo3eybu8NnfKtdpRf0-g.png"/></div></div></figure><p id="324a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该数据集包含世界上193个国家的酒精消费信息。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="bdce" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">命令1:过滤</h1><p id="f4eb" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">filter命令允许我们保留符合某些指定标准的行，通常是and/or。</p><h2 id="db7a" class="ok mv it bd mw oq or dn na os ot dp ne li ou ov ng lm ow ox ni lq oy oz nk pa bi translated">和标准</h2><p id="8fd2" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">假设我们想查看没有啤酒供应的亚洲国家。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="6ff0" class="ok mv it og b gy ol om l on oo"># Base R approach<br/>drinks[drinks$continent == "Asia" &amp; drinks$beer_servings == 0, ]</span><span id="de17" class="ok mv it og b gy pb om l on oo"># Dplyr approach<br/>filter(drinks, continent == "Asia", beer_servings = 0)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/b845b7a17a017b3ec3201cefcf334018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Opghv6dtNZnHPqdp5bya7A.png"/></div></div></figure><h2 id="2f64" class="ok mv it bd mw oq or dn na os ot dp ne li ou ov ng lm ow ox ni lq oy oz nk pa bi translated">或标准</h2><p id="4624" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">假设现在我们想查看没有烈酒供应或没有葡萄酒供应的国家。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="a1a4" class="ok mv it og b gy ol om l on oo"># Base R approach<br/>drinks[drinks$spirit_servings == 0 | drinks$wine_servings == 0, ]</span><span id="fe5c" class="ok mv it og b gy pb om l on oo"># Dplyr approach<br/>filter(drinks, spirit_servings == 0 | wine_servings == 0)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/6079e0483a9cc56e13aa33d7fce8274f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j9qdlEmCYci2Pb7oWTQOtw.png"/></div></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="09e7" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">命令2:选择</h1><p id="ab63" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">接下来，我们有select命令，它允许我们按名称选择列。</p><p id="418a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设，我们想查看国家的前6行和纯酒精的总升数列。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="8a1e" class="ok mv it og b gy ol om l on oo"># Base R approach<br/>head(drinks[, c("country", "total_litres_of_pure_alcohol")])</span><span id="4cd0" class="ok mv it og b gy pb om l on oo"># Dplyr approach<br/>head(select(drinks, country, total_litres_of_pure_alcohol))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/56d2108e00dafd31a56ea2fb608c3968.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*zPEZ3ZnRq2Ob3-Svqe_Y9g.png"/></div></figure><p id="2272" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使select命令更加健壮，我们还使用了以下内容来按名称匹配列:</p><ul class=""><li id="29d6" class="nr ns it lb b lc ld lf lg li nt lm nu lq nv lu pf nx ny nz bi translated">开始于</li><li id="4f91" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu pf nx ny nz bi translated">以...结尾</li><li id="d567" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu pf nx ny nz bi translated">比赛</li><li id="2830" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu pf nx ny nz bi translated">包含</li></ul><p id="229e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，我想选择包含单词<em class="pg"> servings </em>的列。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="e9fa" class="ok mv it og b gy ol om l on oo">head(select(drinks, contains("servings")))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/6dda24750cd9e8f71b89b4d457e56b03.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*YmjvTIbTZRclQwNKNqGAdg.png"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="c07d" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">额外好处:通过%&gt;%链接多个操作</h1><p id="d9f9" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">我之前谈到了R相对于Python的可读性优势。这个优势很大程度上归功于能够通过%&gt;% <em class="pg"> </em>语法将多个操作链接在一起。</p><p id="23bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">链接方法不是将不同的操作嵌套在一行代码中，这有时会变得混乱和难以阅读，而是提供了一种更直观的方法来编写和解释操作。</p><p id="9b8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">思考这个过程的一个好方法是想象你在一个工厂，每个操作就像一个工人，他是这个庞大制造过程的一部分，负责一个非常具体的任务。一旦他完成了他的任务，他就把它传递给下一个工人去执行他们的任务，如此等等，直到最终产品被交付。</p><p id="391d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还值得分享一下%&gt;%的Windows快捷键，那就是Ctrl+Shift+M。</p><p id="cb95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，假设我们希望选择国家和纯酒精总升数列，并筛选纯酒精量超过12升的行。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="7d05" class="ok mv it og b gy ol om l on oo"># Nesting method<br/>filter(select(drinks, country, total_litres_of_pure_alcohol), total_litres_of_pure_alcohol &gt; 12)</span><span id="df96" class="ok mv it og b gy pb om l on oo"># Chaining method <br/>drinks %&gt;% <br/>    select(country, total_litres_of_pure_alcohol) %&gt;% <br/>    filter(total_litres_of_pure_alcohol &gt; 12)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/a79de4bbfca16b2b8d6d86fca780a192.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*gwsNfqMiEdXFRjsUH78iJw.png"/></div></figure><p id="6760" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，链接显著提高了代码的可读性，尤其是当有许多命令在运行时。</p><p id="d297" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">链接也可以用来替换dplyr之外的R命令中的嵌套。例如，假设我们要计算两组数字之间的均方根误差，精确到小数点后五位。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="48f4" class="ok mv it og b gy ol om l on oo"># Create two vectors<br/>set.seed(42)<br/>x = runif(10); y = runif(10)</span><span id="5bf5" class="ok mv it og b gy pb om l on oo"># Nesting method<br/>round(sqrt(mean((x-y)^2)), 5)</span><span id="fd95" class="ok mv it og b gy pb om l on oo"># Chain method<br/>(x-y)^2 %&gt;% mean() %&gt;% sqrt() %&gt;% round(5)</span></pre><p id="c970" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，你应该得到0.36466的RMSE。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="e564" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">命令3:排列</h1><p id="db0e" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">接下来，我们有一个不言自明的命令。它有助于按升序或降序排列行。</p><p id="bd91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们想在每个国家从最低到最高点啤酒。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="da8e" class="ok mv it og b gy ol om l on oo"># Base R approach<br/>drinks[order(drinks$beer_servings), c("country", "beer_servings")]</span><span id="9819" class="ok mv it og b gy pb om l on oo"># Dplyr approach<br/>drinks %&gt;% <br/>    select(country, beer_servings) %&gt;% <br/>    arrange(beer_servings)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/44be5058589d9f3f8a35d641bf237bd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*wRT3axN6QLw-j-Vxs_IuqQ.png"/></div></figure><p id="5eb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，对于降序，我们需要使用<em class="pg"> desc。</em></p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="9e14" class="ok mv it og b gy ol om l on oo">drinks %&gt;% <br/>    select(country, beer_servings) %&gt;% <br/>    arrange(desc(beer_servings))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/56c35422224f6281c58465dc00b7d860.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*14Pjml0YUljvYc3FekuHag.png"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="fc6f" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">命令4:变异</h1><p id="8af3" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">命令4是mutate，它允许我们创建新的变量，这些变量是数据框中现有变量的函数。</p><p id="4467" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们想添加一个新的变量，叫做平均酒精，它就是啤酒、烈酒和葡萄酒之间的平均份量。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="2a60" class="ok mv it og b gy ol om l on oo"># Base R approach<br/>drinks$avg_alcohol = round((drinks$beer_servings + drinks$spirit_servings + drinks$wine_servings) / 3)<br/>head(drinks[, c("country", "beer_servings", "spirit_servings", "wine_servings", "avg_alcohol")])</span><span id="1958" class="ok mv it og b gy pb om l on oo"># Dplyr approach<br/>drinks %&gt;% select(country, beer_servings, spirit_servings, wine_servings) %&gt;% mutate(avg_alcohol = round((beer_servings + spirit_servings + wine_servings) / 3)) %&gt;% head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/68727da655803dfc0586639e3647342a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*8tmLwFP2-u6nn_VY5HwALw.png"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="491b" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">命令5:总结</h1><p id="6f03" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">最后但同样重要的是，summarise命令使用聚合函数将变量缩减为值。聚合函数的一些示例包括最小值、最大值、中值、众数和平均值。</p><p id="30f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，让我们看一个例子，我们想计算平均葡萄酒服务的大洲。</p><pre class="kj kk kl km gt of og oh oi aw oj bi"><span id="c1ec" class="ok mv it og b gy ol om l on oo"># Base R approach<br/>aggregate(wine_servings ~ continent, drinks, mean)</span><span id="4f69" class="ok mv it og b gy pb om l on oo"># Dplyr approach<br/>drinks %&gt;% <br/>    group_by(continent) %&gt;% <br/>    summarise(avg_wine = mean(wine_servings, na.rm = TRUE))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/35b7e557cd56455733f72d858a83330f.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*bt-TYkIwMICDFutUeAebZQ.png"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="2487" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">结论</h1><p id="07e9" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">总之，在本文中，我们学习了dplyr库的5个基本命令，这些命令使我们能够探索和转换数据帧。这5个命令是:</p><ol class=""><li id="e5f2" class="nr ns it lb b lc ld lf lg li nt lm nu lq nv lu nw nx ny nz bi translated">过滤器</li><li id="a47b" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">挑选</li><li id="03e3" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">安排</li><li id="b4bc" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">使突变</li><li id="49d1" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">概括</li></ol><p id="8a97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我们还看到了如何通过%&gt;%操作符部署链接方法，以使我们的代码更易于编写和阅读。</p><p id="603f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你喜欢这篇文章，并从中获得一些有用的东西。请随意查看我关于如何使用r的其他教程文章。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/back-to-basics-linear-regression-in-r-3ffe4900482b"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">回归基础——R中的线性回归</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">线性回归是统计学中最基本的知识之一，下面是如何用R</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="pn l mj mk ml mh mm ks ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a href="https://medium.com/swlh/customer-segmentation-using-k-means-clustering-in-r-a74d512a4cfa" rel="noopener follow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">基于R中K-均值聚类的客户细分</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">强大的k-means算法初学者指南</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">medium.com</p></div></div><div class="mh l"><div class="po l mj mk ml mh mm ks ly"/></div></div></a></div><p id="8204" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">保重，继续学习！</p></div></div>    
</body>
</html>