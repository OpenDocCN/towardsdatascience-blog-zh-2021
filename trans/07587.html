<html>
<head>
<title>Writing an Image Classification program for Beginners Using HTML and ML5.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用HTML和ML5.js为初学者编写一个图像分类程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/writing-an-image-classification-program-for-beginners-using-html-and-ml5-js-13c8dc000aed?source=collection_archive---------22-----------------------#2021-07-11">https://towardsdatascience.com/writing-an-image-classification-program-for-beginners-using-html-and-ml5-js-13c8dc000aed?source=collection_archive---------22-----------------------#2021-07-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="4393" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据科学家</h2><div class=""/><div class=""><h2 id="686b" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">HTML、Javascript和库</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/89b5d975685b37d025440f93a992081f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OdvwZg2x92mo6l8D"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@madhatterzone?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Manja Vitolic </a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="92e4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如你所知，机器学习有潜力影响每个行业。今天，我将指导您使用ml5.js和p5.js在浏览器中编写第一个机器学习程序。它使您能够使用TensorFlow.js迈出第一步。</p><h1 id="deb3" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">你需要知道的是</h1><p id="c57b" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">以下所有知识都是新手级别所需要的。</p><ul class=""><li id="458c" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated">超文本标记语言</li><li id="ac9b" class="nb nc it lk b ll nk lo nl lr nm lv nn lz no md ng nh ni nj bi translated">半铸钢ˌ钢性铸铁(Cast Semi-Steel)</li><li id="f127" class="nb nc it lk b ll nk lo nl lr nm lv nn lz no md ng nh ni nj bi translated">Java Script语言</li></ul><h1 id="dc22" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">这个程序怎么运行？</h1><p id="5758" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">您可以通过点击<code class="fe np nq nr ns b">index.html </code>文件或使用下面的<code class="fe np nq nr ns b">Python</code>命令来运行该程序。</p><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="3439" class="nx mf it ns b gy ny nz l oa ob">python3 -m http.server 8081</span></pre><p id="53e8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在浏览器URL中，键入以下内容。</p><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="d004" class="nx mf it ns b gy ny nz l oa ob">localhost:8081</span></pre><h1 id="2dc8" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">编写一个图像分类程序</h1><p id="40e0" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">首先我写一个静态的HTML页面，有基本的内容。</p><ul class=""><li id="ed40" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated"><em class="oc">index.html</em></li></ul><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="45ad" class="nx mf it ns b gy ny nz l oa ob">&lt;!-- There are not any stylesheets and scripts here --&gt;</span><span id="a7f1" class="nx mf it ns b gy od nz l oa ob">&lt;html&gt;<br/>&lt;head&gt;<br/>&lt;/script&gt;<br/>    &lt;meta charset="UTF-8"&gt;<br/>    &lt;title&gt;Image Classification program for Beginners&lt;/title&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>...<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="ca77" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，我需要上传一个稍后将被分类的图像并显示它。因此，我添加了一个上传按钮和180x180大小的占位符图像。</p><ul class=""><li id="2c6d" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated"><em class="oc">index.html</em></li></ul><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="f5ca" class="nx mf it ns b gy ny nz l oa ob">&lt;html&gt;<br/>&lt;head&gt;<br/>...<br/>&lt;head&gt;</span><span id="8e9f" class="nx mf it ns b gy od nz l oa ob">&lt;body&gt;<br/>    &lt;input type='file' id='getval'/&gt;<br/>    &lt;img id="image" src="http://placehold.it/180" alt="the image"/&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="524c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，我编写一个脚本来获取上传的图像并显示它。</p><ul class=""><li id="721e" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated"><em class="oc"> myscript.js </em></li></ul><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="9667" class="nx mf it ns b gy ny nz l oa ob">const image = document.getElementById('image');<br/>document.getElementById('getval').addEventListener('change', readURL, true);<br/><br/>function readURL() {<br/>    var file = document.getElementById("getval").files[0];<br/>    if (file) {<br/>        var reader = new FileReader();<br/>        reader.onload = function (e) {<br/>            image<br/>                .src = e.target.result;<br/>        };<br/>        reader.readAsDataURL(file);<br/>    }<br/>}</span></pre><p id="4268" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，我在HTML页面的body标签中加入了<code class="fe np nq nr ns b">myscript.js</code>。</p><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="ff76" class="nx mf it ns b gy ny nz l oa ob">&lt;body&gt;<br/>...<br/>     &lt;script src="myscript.js"&gt;&lt;/script&gt;<br/>...<br/>&lt;/body&gt;</span></pre><p id="2390" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">试图测试我的程序。它运行良好。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oe"><img src="../Images/731afe78e70020fde8f3f3230bd4db04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QOVzscnJtGoFZJDOEezuBg.png"/></div></div></figure><p id="9a23" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，我将使用ML5.js库对我的图像进行分类。</p><h2 id="a463" class="nx mf it bd mg of og dn mk oh oi dp mo lr oj ok mq lv ol om ms lz on oo mu iz bi translated">ml5.js库是什么？</h2><p id="6d8e" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated"><code class="fe np nq nr ns b">ml5.js</code>图书馆创建于纽约大学，2018年7月公开发布。它可以访问程序中的人工智能方法和模型，在<code class="fe np nq nr ns b">TensorFlow.js</code>上扩展，没有其他外部依赖性。</p><ul class=""><li id="573e" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated">我将<code class="fe np nq nr ns b">ml5.js</code>库添加到HTML页面中。</li></ul><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="2051" class="nx mf it ns b gy ny nz l oa ob">&lt;head&gt;<br/>    &lt;script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"&gt;&lt;/script&gt;<br/>&lt;/head&gt;</span></pre><ul class=""><li id="6507" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated">我更新了<code class="fe np nq nr ns b">myscript.js</code>文件来处理上传的图片。</li></ul><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="b996" class="nx mf it ns b gy ny nz l oa ob">const result = document.getElementById('result');<br/>const probability = document.getElementById('probability');<br/>ml5.imageClassifier('MobileNet')<br/><br/>    .then(classifier =&gt; classifier.classify(image))<br/><br/>    .then(results =&gt; {<br/><br/>        result.innerText = results[0].label;<br/><br/>        probability.innerText = results[0].confidence.toFixed(4);<br/><br/>    });</span></pre><ul class=""><li id="deec" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated">显示了分类器算法的结果。</li></ul><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="0f6c" class="nx mf it ns b gy ny nz l oa ob">&lt;!-- There are not any stylesheets and scripts here. --&gt;<br/>&lt;html&gt;<br/>&lt;head&gt;<br/>    &lt;script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"&gt;&lt;/script&gt;<br/>    &lt;link rel="stylesheet" href="mystyle.css"&gt;<br/>    &lt;meta charset="UTF-8"&gt;<br/>    &lt;title&gt;Image Classification program for Beginners&lt;/title&gt;<br/>&lt;/head&gt;<br/><br/>&lt;body&gt;<br/>    &lt;!-- &lt;h1&gt;Image classification using MobileNet model&lt;/h1&gt; --&gt;<br/>    &lt;p&gt;That's<br/>            &lt;span id="result"&gt;... &lt;/span&gt; with a confidence of<br/>            &lt;span id="probability"&gt;...&lt;/span&gt;.<br/>    &lt;/p&gt;<br/><br/><br/>&lt;/body&gt;</span></pre><p id="d646" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，我用一个CSS文件来设计我的程序。</p><ul class=""><li id="ccb7" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated"><em class="oc"> mystyle.css </em></li></ul><pre class="ks kt ku kv gt nt ns nu nv aw nw bi"><span id="cc6b" class="nx mf it ns b gy ny nz l oa ob">img{<br/>    max-width:180px;<br/>}<br/><br/>input[type=file]{<br/>      padding:10px;<br/>      background:#ffffff;<br/>}</span></pre><p id="fe03" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这是最终的结果。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi op"><img src="../Images/e625108f7873abd2b3efb0cd6d3d8a0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uCE0izdr-e68JfrfCnd5vQ.png"/></div></div></figure><h1 id="7c2d" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">结论</h1><p id="fcea" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">在这篇文章中，你学习了如何使用<code class="fe np nq nr ns b">ml5.js</code>来在浏览器上构建和部署一个简单的机器学习应用程序。这个新的和改进的库已经在许多应用案例中证明了自己的有效性。</p><p id="6af1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">很简单，对吧？</p><h1 id="c421" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">参考</h1><p id="2c50" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">[1]<a class="ae lh" href="https://ml5js.org" rel="noopener ugc nofollow" target="_blank">https://ml5js.org</a></p><p id="d974" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[2]<a class="ae lh" href="https://github.com/housecricket/Beginning-Machine-Learning-in-the-Browser/tree/master/Image-classification-using-MobileNet-model" rel="noopener ugc nofollow" target="_blank">https://github . com/house cricket/Beginning-Machine-Learning-in-the-Browser/tree/master/Image-class ification-using-MobileNet-model</a></p></div></div>    
</body>
</html>