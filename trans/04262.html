<html>
<head>
<title>6 Python Container Data Types You Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该知道的6种Python容器数据类型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/6-python-container-data-types-you-should-know-81dad6c4f61d?source=collection_archive---------2-----------------------#2021-04-11">https://towardsdatascience.com/6-python-container-data-types-you-should-know-81dad6c4f61d?source=collection_archive---------2-----------------------#2021-04-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3588bd66a694a768a98a3a6db1071db9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mg6Ii8ibJPomegYj1tn8Ag.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/julius_silver-4371822/" rel="noopener ugc nofollow" target="_blank"> Julius_Silver </a>在<a class="ae jg" href="https://pixabay.com/photos/hamburg-port-of-hamburg-3021820/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></figure><div class=""/><div class=""><h2 id="4442" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">在Python中钉钉高级数据结构工具</h2></div><p id="576e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我相信你一定知道Python中基本的集合数据类型，比如列表、元组、字典。网上已经有太多关于这些数据结构的资源了。但是，大家有没有注意到，Python内置的<code class="fe lu lv lw lx b">collection</code>模块中有6个“高级”数据结构工具？</p><ul class=""><li id="69e2" class="ly lz jj la b lb lc le lf lh ma ll mb lp mc lt md me mf mg bi translated">命名元组</li><li id="0c3c" class="ly lz jj la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated">有序字典</li><li id="c37f" class="ly lz jj la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated">链式地图</li><li id="84e8" class="ly lz jj la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated">计数器</li><li id="92cd" class="ly lz jj la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated">双端队列</li></ul><p id="1398" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不要被他们的名字吓到。我保证这些是你已经熟悉的东西，但是为你提供一些开箱即用的极其方便的特性。</p><p id="9769" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们浏览一下这些容器数据类型，看看它们是什么以及它们能做什么。为了方便起见，所有的演示代码都假设所有的集合类型都是导入的。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="234a" class="mu mv jj lx b gy mw mx l my mz">from collections import *</span></pre><h1 id="1fd8" class="na mv jj bd nb nc nd ne nf ng nh ni nj kp nk kq nl ks nm kt nn kv no kw np nq bi translated">1.命名元组</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6610145fe23ac6c4570bc9f17a4875d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yoOg0z2CFq1j4xOqliP19Q.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/photos/events-wedding-venue-table-spread-2609303/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上的<a class="ae jg" href="https://pixabay.com/users/stocksnap-894430/" rel="noopener ugc nofollow" target="_blank"> StockSnap </a>拍摄</p></figure><p id="6c36" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">元组是Python中一种重要的序列数据类型。只要你用过Python，你应该已经知道了。然而，什么是“命名元组”？</p><p id="cd26" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们正在开发一个需要使用坐标(纬度和经度)的应用程序，这是两个十进制数字，用来表示我们通常在谷歌地图上看到的地球上的一个地方。它自然可以用一个元组来表示，如下所示。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="33b6" class="mu mv jj lx b gy mw mx l my mz">c1 = (-37.814288, 144.963122)</span></pre><p id="0a0a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，如果我们处理全世界的坐标，有时可能不容易识别哪个数字是纬度或经度。这可能导致代码可读性的额外困难。</p><p id="70f7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不仅仅是值，命名元组为元组中的每个位置分配有意义的名称，并允许<strong class="la jk">更具可读性的</strong>、<strong class="la jk">自文档化代码</strong>。它们可以在任何使用正则元组的地方使用，并且它们增加了通过名称而不是位置索引来访问字段的能力。</p><p id="4f28" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在使用命名元组之前，我们可以将其定义如下。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="a163" class="mu mv jj lx b gy mw mx l my mz">Coordinate = namedtuple('Coordinate', ['latitude', 'longitude'])</span></pre><p id="ae7e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们现在可以使用已定义的命名元组来定义坐标。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="3c54" class="mu mv jj lx b gy mw mx l my mz">c1 = Coordinate(-37.814288, 144.963122)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/5140b96b91d7e39d5992dc649a5c6ec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*zGhwS9RrlmTj77JlxcQ89w.png"/></div></figure><p id="5e88" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这不仅是为了可读性，也是为了使用方便，比如通过名称访问值。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="aa90" class="mu mv jj lx b gy mw mx l my mz">print(f'The latitude is {c1.latitude} and the longitude is {c1.longitude}')</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/c40e0a285e81ca67a35e85429b1e095b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*AuHgEobxevgA_-R0JqDXyw.png"/></div></figure><p id="cfd4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想得到字段名，我们可以简单地调用它的<code class="fe lu lv lw lx b">_fields()</code>函数。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="c0f6" class="mu mv jj lx b gy mw mx l my mz">c1._fields()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/73f6d1a986cf85d118d912288c1c566b.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*m0rTpLdg_aURyPJc9jCGwQ.png"/></div></figure><p id="25f2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可能会开始认为这与类和字典有些重叠。然而，如果不需要任何类方法，这比定义一个类要简单和整洁得多。此外，如果需要，您可以随时轻松地将命名元组转换为字典。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="2fe4" class="mu mv jj lx b gy mw mx l my mz">c1._asdict()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/f97482586f462740069026764f354e04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*UyRPkCeKYW2gjI3SRWtWEg.png"/></div></figure><p id="3a3f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">打住，什么是<code class="fe lu lv lw lx b">OrderedDict</code>？这的确是一本字典，但有一点不同。请参考下一节。</p><h1 id="0d4e" class="na mv jj bd nb nc nd ne nf ng nh ni nj kp nk kq nl ks nm kt nn kv no kw np nq bi translated">2.有序字典</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/0fb436bf66e38f694ec01dea8796eb9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C5v3DDL15j-WK7wbXCudpQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/katzenfee50-7273650/" rel="noopener ugc nofollow" target="_blank"> Katzenfee50 </a>在<a class="ae jg" href="https://pixabay.com/photos/cocktails-drinks-beverages-juices-3252160/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></figure><p id="6a3d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有序字典是字典的子类，它继承了字典的所有内容。唯一的区别是有序字典中的条目是“顺序敏感的”。</p><p id="bf54" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们已经从上一节中得到了一本有序词典。我们继续以此为例。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="be48" class="mu mv jj lx b gy mw mx l my mz">od = c1._asdict()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/44b80d7db7a4c70515e9352f227f0e52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*d8fHiUCuStl3ACRPsTmvXw.png"/></div></figure><p id="6dd1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为它继承了普通字典的一切，我们可以期望它拥有普通字典应该拥有的所有特性，比如通过键访问值。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="8c50" class="mu mv jj lx b gy mw mx l my mz">print(f"The latitude is {od['latitude']} and the longitude is {od['longitude']}")</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/07a22a84095e1cfbcdb665aa2c65d8ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*MqHH3pUpCptpevgT6hf2-g.png"/></div></figure><p id="f0a9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，因为它是顺序敏感的，所以它有一些普通字典所没有的特性。例如，我们可以通过调用<code class="fe lu lv lw lx b">move_to_end()</code>函数来改变项目的顺序。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="23c1" class="mu mv jj lx b gy mw mx l my mz">od.move_to_end('latitude')</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/b22d36450f0a47282f3993d8a368918c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*y37t4834gFc8bUvAmmlMIw.png"/></div></figure><p id="ee9a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，纬度被移到了有序字典的末尾。</p><p id="7d55" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，我们可以从有序字典中弹出最后一项。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="7854" class="mu mv jj lx b gy mw mx l my mz">lat = od.popitem()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/ac80519f9ec15b81f5f9268551b5fb4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*uBPvT_OdlX1lm1AB4LIteA.png"/></div></figure><p id="5b8a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有序的字典在某些情况下非常有用。例如，我们可以用它来记忆最后插入的钥匙的顺序。</p><h1 id="93f3" class="na mv jj bd nb nc nd ne nf ng nh ni nj kp nk kq nl ks nm kt nn kv no kw np nq bi translated">3.链式地图</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nz"><img src="../Images/f4d37d482cf076a3df424f29a4799749.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AUMwfjwQCrva9A9_7NyRSg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/morelight-2098341/" rel="noopener ugc nofollow" target="_blank"> MoreLight </a>在<a class="ae jg" href="https://pixabay.com/photos/munich-oktoberfest-ride-carousel-1220908/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></figure><p id="585e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们来看看连锁图。当我们想要将多个字典组合在一起作为一个整体时，链式映射是非常有用的，但是不需要物理地组合它们，这可能会消耗更多的资源，并且当存在重复的键时必须解决键冲突。</p><p id="070b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们正在开发一个依赖于某些配置的应用程序。我们在应用程序中定义系统默认配置，同时允许用户通过一些特定的设置来覆盖默认设置。就把例子编出来如下。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="249e" class="mu mv jj lx b gy mw mx l my mz">usr_config = {'name': 'Chris', 'language': 'Python'}<br/>sys_config = {'name': 'admin', 'language': 'Shell Script', 'editor': 'vm'}</span></pre><p id="37c9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你会怎么做？写一个for循环，根据<code class="fe lu lv lw lx b">usr_config</code>更新<code class="fe lu lv lw lx b">sys_config</code>？如果有数百个项目，或者有多个层而不是只有两个层，该怎么办？我们通常有多层配置，比如用户级&gt;应用级&gt;系统级等等。</p><p id="2c79" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用链图可以即时解决这个问题。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="1de0" class="mu mv jj lx b gy mw mx l my mz">cm = ChainMap(usr_config, sys_config)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oa"><img src="../Images/15fed30bb0a846010e4b144fd3ab677e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uEkoyoc2nrJHxd6sRIcH4Q.png"/></div></div></figure><p id="e100" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从输出来看，链图只是简单地将字典放在一起。事实上，这背后有某种魔力。如果我们尝试将它转换成一个列表，我们可以看到只有3个键。事实上，5个键中有3个是唯一的。</p><p id="5d48" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们尝试访问“name”键的值会怎么样？</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/02811cc30a42e24dddaf39b3f38842b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/format:webp/1*xEime9DWck4xUpvVurfiCg.png"/></div></figure><p id="ff37" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们也试试“编辑”键。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/bc4bf93e835ca8297f62f25cda9b6ca4.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*O9QzeF-oXot2crv56M0nXQ.png"/></div></figure><p id="ba4f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">好的。神奇的是，<code class="fe lu lv lw lx b">usr_config</code>总是覆盖<code class="fe lu lv lw lx b">sys_config</code>中的设置。但是，如果我们正在访问的密钥没有在<code class="fe lu lv lw lx b">usr_config</code>中定义，将使用<code class="fe lu lv lw lx b">sys_config</code>中的密钥。这正是我们想要的。</p><p id="7662" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想更新链图中的键“编辑器”怎么办？</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi od"><img src="../Images/1c6210d9438754e5692ad099dbb1f4af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PWIPedks0OswyUIHC_VJqg.png"/></div></div></figure><p id="b984" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可以看出，<code class="fe lu lv lw lx b">usr_config</code>实际上是更新的。这是有意义的，因为它将覆盖<code class="fe lu lv lw lx b">sys_config</code>中的相同项目。当然，如果我们删除“editor”键，它将从<code class="fe lu lv lw lx b">usr_config</code>中删除，并将再次使用<code class="fe lu lv lw lx b">sys_config</code>中的默认键。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="c700" class="mu mv jj lx b gy mw mx l my mz">del cm['editor']<br/>cm['editor']</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oe"><img src="../Images/4baa6f5cf8beacabd8840fcfc1fc4471.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9SgTlFDTqNCYcmLyAzQFOw.png"/></div></div></figure><p id="bf42" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看，在Python中正确使用容器类型可以节省我们大量的时间！</p><h1 id="1316" class="na mv jj bd nb nc nd ne nf ng nh ni nj kp nk kq nl ks nm kt nn kv no kw np nq bi translated">4.计数器</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/67983b0d319411acf3d1ae6cf877b177.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GUdatmp0JYMwqEg5P8HE_g.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/photos/abacus-classroom-count-counter-1866497/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上的<a class="ae jg" href="https://pixabay.com/users/pexels-2286921/" rel="noopener ugc nofollow" target="_blank">像素</a>拍摄</p></figure><p id="2d41" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下一个是“计数器”。这听起来不像是容器类型，但就其表现形式而言，有点类似于字典。但是，它更像是一个“算题”的工具。</p><p id="2061" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们有一个包含许多条目的列表。有些项目是相同的，我们想计算每个项目重复的次数。列表如下。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="2a21" class="mu mv jj lx b gy mw mx l my mz">my_list = ['a', 'b', 'c', 'a', 'c', 'a', 'a', 'a', 'c', 'b', 'c', 'c', 'b', 'b', 'c']</span></pre><p id="947a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们可以使用计数器非常容易地执行这个任务。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="af5d" class="mu mv jj lx b gy mw mx l my mz">counter = Counter()</span><span id="762a" class="mu mv jj lx b gy of mx l my mz">for letter in my_list:<br/>    counter[letter] += 1</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/43cdbe4fcfee832868659feddb4773c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PNr3PXryZ2_9QpkHa2otfw.png"/></div></div></figure><p id="2f2d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它告诉我们列表中有5个a，4个b和6个c。</p><p id="dcf2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">计数器还提供了许多相关的便利功能。比如我们可以得到“n”个最常见的。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="1e37" class="mu mv jj lx b gy mw mx l my mz">counter.most_common(2)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/ec42e20db8e7141f3bc3989749e4010b.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*I07syLv6vytEHW25zsrxwQ.png"/></div></figure><p id="435e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们仍然可以将所有的元素放回到一个列表中。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="de98" class="mu mv jj lx b gy mw mx l my mz">list(counter.elements())</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/0f82fbbff6e56399e191c0dd14c2cae8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*TfdO2MKkpT1jDPYGLldH_w.png"/></div></figure><p id="08a6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，我们可以动态定义计数器。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="c459" class="mu mv jj lx b gy mw mx l my mz">another_counter = Counter(a=1, b=4, c=3)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/f26eb5b553d7d9d691a7d4ff12790650.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*zfKLWh63q6eeQmE2mF3YDg.png"/></div></figure><p id="5410" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我们有两个计数器时，我们甚至可以在它们之间执行操作。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="b6cd" class="mu mv jj lx b gy mw mx l my mz">counter - another_counter</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/dcbe977d13122234644b5bed44f674e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*84hhD8ikFlCa0-2I-teiCA.png"/></div></figure><p id="3e79" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，如果我们想知道总数，我们总是可以将它们相加。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="672f" class="mu mv jj lx b gy mw mx l my mz">sum(counter.values())</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/f57cfce15a2b190975973666a28414fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*lDpeIpCNSA8HnwJfE_JqAQ.png"/></div></figure><p id="7b62" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不要小看Python里这么一个小工具。在某些情况下，它可以在很大程度上简化问题。如果你对这个工具的配方感兴趣，请关注我的更新。</p><h1 id="46dc" class="na mv jj bd nb nc nd ne nf ng nh ni nj kp nk kq nl ks nm kt nn kv no kw np nq bi translated">5.双端队列</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/2fe78f3b257bd8ba1678aadac8b52a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PuwAyg9hSnGwUg9y_2UKGw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/dakub-8222964/" rel="noopener ugc nofollow" target="_blank"> DaKub </a>在<a class="ae jg" href="https://pixabay.com/photos/duck-goose-march-series-queue-3217049/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的照片</p></figure><p id="9b1a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你有计算机科学背景，你一定知道队列、栈等很多常见的数据结构。他们的区别是FIFO(先进先出)和LIFO(后进先出)。</p><p id="c75f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还有一种数据结构操作叫做deque，是双端队列的缩写。它是用Python实现的，可以开箱即用。</p><p id="f03c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们先定义一个deque。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="ded3" class="mu mv jj lx b gy mw mx l my mz">dq = deque('bcd')</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi om"><img src="../Images/4f6214182a5bfdd67c62e321db93f009.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*N2PKJst1x5hk2b3jL_ArSA.png"/></div></figure><p id="d6b1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为它是一个“双端”队列，我们可以从左侧或右侧追加。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="1ef9" class="mu mv jj lx b gy mw mx l my mz">dq.append('e')<br/>dq.appendleft('a')</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi on"><img src="../Images/370bd2c872e9827f29448040e4ede6f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*tAmj36V-4FjXyI3NBKNikA.png"/></div></figure><p id="2f6c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还可以使用<code class="fe lu lv lw lx b">extend()</code>或<code class="fe lu lv lw lx b">extendleft()</code>函数一次追加多个元素。请注意，当我们把顺序追加到左边时，你就会明白为什么“210”变成了“012”。只是认为我们是在左侧一个接一个地添加它们。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="13b6" class="mu mv jj lx b gy mw mx l my mz">dq.extend('fgh')<br/>dq.extendleft('210')</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/db00a396f14b15a21959217ef0dbca13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*d0CKSkQgsoDmL6M7GqquPA.png"/></div></figure><p id="456e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还有一些非常有用的操作，特别是在deque结构中，比如旋转。它将元素从右端旋转到左端，或者相反。请注意，<code class="fe lu lv lw lx b">rotate()</code>函数的参数可以是任何整数。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="0027" class="mu mv jj lx b gy mw mx l my mz">dq.rotate()<br/>dq.rotate(-1)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi op"><img src="../Images/92dc56a99fc9f9048f9dfa7e0c1cf6f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*mtJGhTVjGC1NX_ywMEmvVA.png"/></div></figure><p id="9abf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，我们可以让元素从队列的任意一端“出来”。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="0f8a" class="mu mv jj lx b gy mw mx l my mz">dq.pop()<br/>dq.popleft()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/0fca92ba1bbc459017990de462c17adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*Xei1R_leYqde2oPZV6y4gQ.png"/></div></figure><h1 id="70e7" class="na mv jj bd nb nc nd ne nf ng nh ni nj kp nk kq nl ks nm kt nn kv no kw np nq bi translated">6.默认字典</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/ce7369744e2b65aa1109950eff78a694.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JyJ3ORjXzN8rjDLyDcc9jg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/pexels-2286921/" rel="noopener ugc nofollow" target="_blank">像素</a>在<a class="ae jg" href="https://pixabay.com/photos/books-bookshop-bookstore-collection-1842261/" rel="noopener ugc nofollow" target="_blank">像素仓</a>拍摄</p></figure><p id="2147" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，默认字典从名字上看有点难懂。然而，这并不妨碍它成为一种有用的工具。当然是在你真正了解之后:)</p><p id="67b0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">默认字典是字典的子类。默认不是指默认值，而是“默认出厂”。默认工厂指示将构造字典的默认数据类型。最重要的一个，默认字典用于基于一些公共键收集对象(默认数据类型)。</p><p id="4060" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不要迷惑。让我给你看一个例子。假设我们有一个如下的名字列表。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="dfb3" class="mu mv jj lx b gy mw mx l my mz">my_list = ['Alice', 'Bob', 'Chris', 'Bill', 'Ashley', 'Anna']</span></pre><p id="92e5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们要做的是将具有相同开头字母的名字收集在一个列表中。比如<code class="fe lu lv lw lx b">['Alice', 'Ashley', 'Anna']</code>应该是列表中的一个，因为它们都是以“A”开头的。</p><p id="ef53" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这种情况下，我们希望值为“list”。所以，默认工厂将是“列表”。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="9b5c" class="mu mv jj lx b gy mw mx l my mz">dd = defaultdict(list)</span><span id="24d1" class="mu mv jj lx b gy of mx l my mz">for name in my_list:<br/>    dd[name[0]].append(name)</span><span id="77a4" class="mu mv jj lx b gy of mx l my mz">dd.items()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi or"><img src="../Images/bee6bdb3b08a242ee2ac45b44e12a72a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y7TWQvPuwUya4MB31eSvRw.png"/></div></div></figure><p id="7541" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们已经使用默认的字典很容易地分开了名字！然后，当然，我们可以使用它作为一个普通的字典来获取值。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="7da1" class="mu mv jj lx b gy mw mx l my mz">print(f'''<br/>Names start with "A":<br/>{dd["A"]}</span><span id="06c1" class="mu mv jj lx b gy of mx l my mz">Names start with "B":<br/>{dd["B"]}</span><span id="595d" class="mu mv jj lx b gy of mx l my mz">Names start with "C":<br/>{dd["C"]}<br/>''')</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi os"><img src="../Images/8489971229169500d15c1a7141d3c989.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*2lWlCdqm6QVJxjVJ0gSqLg.png"/></div></figure><p id="4d3c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">默认字典非常灵活，因为默认工厂可以是任何数据类型。例如，我们可以将默认工厂定义为integer，并使用它来计算每个起始字母的名称数量。</p><pre class="mm mn mo mp gt mq lx mr ms aw mt bi"><span id="0e10" class="mu mv jj lx b gy mw mx l my mz">dd = defaultdict(int)</span><span id="5095" class="mu mv jj lx b gy of mx l my mz">for name in my_list:<br/>    dd[name[0]] += 1</span><span id="59f7" class="mu mv jj lx b gy of mx l my mz">dd.items()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/9c4d6d47dce7b0f8f9c8c9fb16181198.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*nbfp6hZ5i7WE-aFGGANv5g.png"/></div></figure><p id="b53b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们重新发明了计数器的轮子。放轻松，这只是个例子:)</p><h1 id="6131" class="na mv jj bd nb nc nd ne nf ng nh ni nj kp nk kq nl ks nm kt nn kv no kw np nq bi translated">摘要</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/abbccfec69f570d7d8b509031f319b09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eaEE6usDs-zMP02Gvbm6kw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/free-photos-242387/" rel="noopener ugc nofollow" target="_blank">免费拍摄的照片</a>在<a class="ae jg" href="https://pixabay.com/photos/pencil-sharpener-notebook-918449/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上</p></figure><p id="b907" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我介绍了Python的<code class="fe lu lv lw lx b">collection</code>模块中的6种容器类型。命名元组帮助我们编写更可读的代码，有序字典帮助我们定义对项目顺序敏感的字典，链图帮助我们定义多层字典，计数器帮助我们轻松计算所有内容，deque定义双端队列，最后，默认字典帮助我们基于一些公共键收集对象。</p><div class="is it gp gr iu ou"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd jk gy z fp oz fr fs pa fu fw ji bi translated">通过我的推荐链接加入Medium克里斯托弗·陶</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">medium.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi ja ou"/></div></div></a></div><p id="792a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入Medium会员来支持我和其他成千上万的作者！(点击上面的链接)</p></div></div>    
</body>
</html>