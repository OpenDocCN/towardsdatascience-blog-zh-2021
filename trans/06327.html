<html>
<head>
<title>Why You Should Switch to Bayesian A/B Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么你应该转向贝叶斯A/B测试</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-you-should-switch-to-bayesian-a-b-testing-364557e0af1a?source=collection_archive---------8-----------------------#2021-06-07">https://towardsdatascience.com/why-you-should-switch-to-bayesian-a-b-testing-364557e0af1a?source=collection_archive---------8-----------------------#2021-06-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="7558" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="f6b6" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">当统计和商业使用同一种语言</h2></div><h1 id="52cc" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">什么是A/B测试？</h1><p id="b70c" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">几乎每个人都讨厌学习统计学(嗯，也许除了<em class="mc">的一些</em>统计学家)。由于我们需要记住所有这些分布和临界值，我们最终感到头疼。你可以发誓再也不碰这个话题；直到你不得不分析A/B测试。</p><p id="42de" class="pw-post-body-paragraph lg lh iq li b lj md ka ll lm me kd lo lp mf lr ls lt mg lv lw lx mh lz ma mb ij bi translated">A/B测试是<a class="ae mi" href="http://en.wikipedia.org/wiki/Randomized_controlled_trial" rel="noopener ugc nofollow" target="_blank">随机控制试验</a>的“有趣”名称，我们将用户随机分配到两个(或更多)组，并测量每个组的指标(<em class="mc"> KPI </em>)。例如，我们可以随机呈现给用户一个绿色的“立即购买！”按钮还是红色的，衡量一下其中一个的点击率(或者购买率)是否更高。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/dd107d0e3237456c2c49dd1dae29698a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*tLlNupSyD4Q5OlW45s-FwA.jpeg"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated"><em class="mv">作者图片</em></p></figure><p id="f639" class="pw-post-body-paragraph lg lh iq li b lj md ka ll lm me kd lo lp mf lr ls lt mg lv lw lx mh lz ma mb ij bi translated">最终，当我们分析两组之间的差异时，我们需要统计数据。当我们看到一个按钮表现更好的时候，我们无法知道这是“真实”的，还是只是偶然；因为即使颜色根本不影响点击率，我们也不期望各组的点击率<em class="mc">完全</em>相同。统计数据有助于我们区分这两种选择。</p><p id="8c5b" class="pw-post-body-paragraph lg lh iq li b lj md ka ll lm me kd lo lp mf lr ls lt mg lv lw lx mh lz ma mb ij bi translated">我们问A/B测试的问题是“哪个版本更好？”。如果你正在使用一个<a class="ae mi" href="http://en.wikipedia.org/wiki/Frequentist_inference" rel="noopener ugc nofollow" target="_blank"> Frequentist </a>框架，当查看P值时，你将得到的答案是“嗯，如果按钮之间没有差异，那么看到像你这样的上升(或更极端)的概率是<em class="mc"> x% </em>”。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/8530138361c90e08bc36f55d0ede64da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*UO2TF_i1TO-FGEHSk2PryQ.jpeg"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">第一次听到P值的定义时的典型反应。图片取自<a class="ae mi" href="https://en.meming.world/wiki/Confused_Nick_Young" rel="noopener ugc nofollow" target="_blank"> en.meming.world </a></p></figure><h1 id="d34e" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">不一定要复杂</h1><p id="2560" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">统计学没必要那么复杂。事实证明，一个可供选择的框架可以给我们以下答案:“绿色按钮更好的概率是<em class="mc"> y% </em>。这就是你选择它的风险”。这个框架被称为<a class="ae mi" href="http://en.wikipedia.org/wiki/Bayesian_inference" rel="noopener ugc nofollow" target="_blank">贝叶斯</a>框架，它在在线行业中越来越受欢迎。</p><blockquote class="mx"><p id="34c9" class="my mz iq bd na nb nc nd ne nf ng mb dk translated">贝叶斯统计最重要的优点是可以理解</p></blockquote><figure class="ni nj nk nl nm mo gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nh"><img src="../Images/c597c2614cc9efcc884b45eaebe408a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N9sXeyes6ImYAjfPqujj4w.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">贝叶斯A/B测试结果的可视化。左图:利率的不确定性很容易想象(“曲线较高的地方更有可能出现<strong class="bd nr">实际</strong>利率”)。右图:B 获胜的<em class="mv">概率很容易理解(“绿色区域比红色区域大得多，但后者不可忽略”)。<em class="mv">作者图片。</em></em></p></figure><p id="a96b" class="pw-post-body-paragraph lg lh iq li b lj md ka ll lm me kd lo lp mf lr ls lt mg lv lw lx mh lz ma mb ij bi translated">虽然这个框架有很多优点(也有一些缺点)，但我认为贝叶斯A/B测试最重要的优点是它是<em class="mc">可理解的</em>。它准确地回答了我们在不确定的情况下需要知道的问题:我们出错的可能性有多大，以及在这种情况下的风险有多大。</p><h1 id="769d" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">有什么区别？</h1><p id="8867" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">简而言之，在频率主义者的框架中，我们假设有两个可供选择的世界:一个是红色和绿色按钮之间没有区别(<em class="mc">零假设</em>)，另一个是有区别的。我们假设我们生活在第一个世界中(<em class="mc">我们</em> <strong class="li ja"> <em class="mc">假设</em> </strong> <em class="mc">零假设是真的</em>)，并且我们想要用一定程度的确定性来反驳这一点(<em class="mc">显著性水平</em>)。如果我们无法证明呢？这并不一定意味着我们在第一世界(<em class="mc">一个无关紧要的结果并不能证明无效假设</em>)。</p><p id="6144" class="pw-post-body-paragraph lg lh iq li b lj md ka ll lm me kd lo lp mf lr ls lt mg lv lw lx mh lz ma mb ij bi translated">贝叶斯框架的观点完全不同。我们先说“<em class="mc">红色和绿色按钮的点击率可以是0%到100%之间的任何比率，机会均等</em>”(这就是我们所说的<em class="mc">先验</em>)。这意味着每个按钮最初有50%的机会比另一个更好。随着我们开始收集数据，我们更新了我们的知识，我们可以说这样的话“<em class="mc">根据我观察到的数据，我现在认为有70%的可能性绿色按钮更好</em>”。我们称这个<em class="mc">为后</em>。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nh"><img src="../Images/dad23db2f673890493f6185d741743eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*maBYke4rgJgQQeNIgsT40Q.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">A和b之间上升的后验分布(比率之间的百分比差异)。样本大小从左到右增加。即使提升保持不变，样本量的增加也会使我们的结果更有信心。使用贝叶斯A/B测试，很容易传达这种信心。<em class="mv">图片作者。</em></p></figure><p id="90d1" class="pw-post-body-paragraph lg lh iq li b lj md ka ll lm me kd lo lp mf lr ls lt mg lv lw lx mh lz ma mb ij bi translated">我喜欢贝叶斯框架是因为它包含了不确定性。在我看来，通常对频繁主义者推论的解释几乎是“确定性的”。在统计框架上这么说很搞笑，但是想想我们<em class="mc">解读</em>假设检验的方式——如果P值低于. 05，结果就是显著的(“真实”)；如果更高，那么结果“不是真实的”。但是现实生活<em class="mc">是</em>不确定的；我们不能只设定一个0.05的阈值，然后说“P值告诉我们的”。贝叶斯框架包含了不确定性——并告诉你“有95%的可能性绿色按钮更好——但有5%的可能性不是。选择权在你”。</p><h1 id="9e8d" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">贝叶斯度量</h1><p id="de06" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">有趣的是，至少在A/B测试环境中，这两种方法之间的大多数度量在数字上并没有太大的不同；然而，他们的解释完全不同。在频率主义方法中，我们有一个置信区间；匹配的贝叶斯度量是可信度区间。我个人认为“概率B更好”是P值的匹配度量:两者的计算非常相似，但它们的意义完全不同！</p><p id="4c13" class="pw-post-body-paragraph lg lh iq li b lj md ka ll lm me kd lo lp mf lr ls lt mg lv lw lx mh lz ma mb ij bi translated">然而，贝叶斯A/B测试确实有一个在frequentist框架中没有可比性的度量:T4风险。我们计算A和B的风险，它的解释是:“<em class="mc">如果我选择B，而B实际上比A差，我会损失多少？</em>”。该指标也用作A/B测试中的决策规则。</p><p id="87d7" class="pw-post-body-paragraph lg lh iq li b lj md ka ll lm me kd lo lp mf lr ls lt mg lv lw lx mh lz ma mb ij bi translated">与P值相比，这种风险有两大优势。首先，它的门槛是商业行话(“如果我错了，我愿意付出的代价是什么？”)，而频率主义者的显著性水平是统计学上的胡言乱语(“我愿意接受的I型错误率是多少？”).第二，与P值相比，它对顺序检查(“峰化”)更加稳健，因此在使用贝叶斯框架 时<strong class="li ja"> <em class="mc">不必预先确定样本大小。这也是贝叶斯A/B测试的一大优势。</em></strong></p><h1 id="5e07" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">摘要</h1><p id="fb2c" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">A/B测试不一定要混淆。使用贝叶斯框架，我们可以准确地回答我们在需要做出决定时问自己的问题:“哪个版本更好，我错的可能性有多大，如果是这样，我将付出什么代价”。这个回答更具商业导向性，我们公司的任何同事都很容易理解，不管他们是什么角色或专业知识。</p><p id="26dd" class="pw-post-body-paragraph lg lh iq li b lj md ka ll lm me kd lo lp mf lr ls lt mg lv lw lx mh lz ma mb ij bi translated">人是贝叶斯。我们问自己"<em class="mc">小鸡会过马路吗？</em>"，而不是"<em class="mc">我是在鸡不过马路的虚无现实中，还是在鸡至少有95%把握过马路的替代现实中？</em>”。为什么要区别对待在线A/B测试？</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="a4d8" class="ko kp iq bd kq kr nz kt ku kv oa kx ky kf ob kg la ki oc kj lc kl od km le lf bi translated">参考</h1><p id="b4a9" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">我真的试着在这篇文章中保持简单，不要太深入数学。如果你想(稍微)深入挖掘，我真的推荐这些帖子:</p><ul class=""><li id="cf89" class="oe of iq li b lj md lm me lp og lt oh lx oi mb oj ok ol om bi translated"><em class="mc"/><a class="ae mi" href="https://medium.com/convoy-tech/the-power-of-bayesian-a-b-testing-f859d2219d5" rel="noopener"><em class="mc">贝氏A/B测试的力量</em></a><em class="mc"/>迈克尔·弗拉斯科著</li><li id="b78d" class="oe of iq li b lj on lm oo lp op lt oq lx or mb oj ok ol om bi translated"><em class="mc"/><a class="ae mi" rel="noopener" target="_blank" href="/exploring-bayesian-a-b-testing-with-simulations-7500b4fc55bc"><em class="mc">贝叶斯A/B测试——模拟实践探索</em></a><em class="mc"/>布莱克·阿诺德</li></ul><h2 id="981b" class="os kp iq bd kq ot ou dn ku ov ow dp ky lp ox oy la lt oz pa lc lx pb pc le iw bi translated">戏弄者</h2><p id="a0ca" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">请继续关注我的下一篇文章，在那里我将描述我们如何在Wix实现贝叶斯A/B测试，在这里大规模的性能是至关重要的。</p></div></div>    
</body>
</html>