<html>
<head>
<title>Data Preparation Cheatsheet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据准备备忘单</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-preparation-cheatsheet-8201e1fcf9cf?source=collection_archive---------32-----------------------#2021-06-09">https://towardsdatascience.com/data-preparation-cheatsheet-8201e1fcf9cf?source=collection_archive---------32-----------------------#2021-06-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0323" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通用特征工程/EDA任务，已编译</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7e795f387759f02462a17acc7555ae41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QtCc7S03tPY5oA-8"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://unsplash.com/photos/1K6IQsQbizI" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="8124" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何数据分析/科学任务中最耗时的部分就是正确地准备和配置数据。一个<strong class="lb iu">模型的表现只和它所接收到的数据一样好</strong>，而且数据可能需要经过大量的转换才能为模型训练做好准备。这些年来，我编写了一个<a class="ae ky" rel="noopener" target="_blank" href="/using-notion-to-organize-your-data-science-learning-bbcb500364b6"> <strong class="lb iu">概念</strong> </a> <strong class="lb iu"> </strong>页面，突出了数据科学家为<strong class="lb iu">数据准备</strong>需要执行的许多常见任务。我在下面列出了几个例子，但是完整的例子可以在下面的<a class="ae ky" href="https://www.notion.so/Common-Use-Cases-583a1537a87d433fb5359bd0c2c99eb9" rel="noopener ugc nofollow" target="_blank">链接</a>中找到。随着我继续学习EDA或特性工程中反复使用的其他常用函数，我将继续扩展这个链接。</p><p id="94cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:所有这些例子都是用Python编写的，主要使用了Pandas、Numpy和Sci-Kit学习库。为了可视化，使用了MatPlotLib或Seaborn。</p><h1 id="7c27" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">目录</h1><ol class=""><li id="9e42" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated">检查数据帧中的缺失值</li><li id="0409" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">删除列</li><li id="0152" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">将函数应用于列</li><li id="bf6a" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">绘制列的值计数</li><li id="c5ac" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">按列值对数据帧排序</li><li id="2ef9" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">基于列值删除行</li><li id="ce0e" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">顺序编码</li><li id="f2ba" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">用所有分类变量编码数据帧</li><li id="9dc7" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">额外资源</li></ol><h1 id="0302" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">检查数据帧中的缺失值</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="5fc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该代码块使用<strong class="lb iu"> Pandas函数</strong> <strong class="lb iu"> isnull() </strong>和<strong class="lb iu"> sum() </strong>给出数据集中所有列缺失值的汇总。</p><h1 id="0b50" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">删除列</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="fda5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要删除一个列，使用pandas <strong class="lb iu"> drop()函数</strong>来删除您选择的列，对于<strong class="lb iu">多个列</strong>只需在包含列名的<strong class="lb iu">列表</strong>中添加它们的名称。</p><h1 id="abf6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">将函数应用于列</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用虹膜数据集</p></figure><p id="7e82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">许多要素工程任务需要编码或数据转换，这可以通过传统的Python函数来完成。通过使用pandas <strong class="lb iu"> apply() </strong>函数，您可以将您创建的函数应用于整个列，以创建新列或转换您选择的列。</p><h1 id="0c08" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">绘制列的值计数</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">条形图</p></figure><p id="a977" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">特征工程的一项常见任务是了解数据集的平衡程度。例如，在一个二元分类问题中，如果有将近90%的一个类和10%的数据点代表另一个类，这将导致模型在大多数情况下预测第一个类。为了帮助避免这种情况，特别要将你的反应变量的数量可视化。熊猫<strong class="lb iu"> value_counts </strong>()函数使您能够获得一列中每个值的出现次数，然后<strong class="lb iu"> plot() </strong>函数让您通过条形图直观地看到这一点。</p><h1 id="b559" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">按列值对数据帧排序</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="609f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时对于数据分析，您希望以特定的顺序可视化您的列，您可以在数据框架的<strong class="lb iu"> sort_values() </strong>函数中添加多个列。</p><h1 id="3244" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">基于列值删除行</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="8c4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您希望根据另一列的值对数据进行子集划分，可以通过捕获一组特定行的<strong class="lb iu">索引</strong>来实现。通过创建这些序列，您可以使用<strong class="lb iu"> drop </strong>函数来删除您已经确定的这些特定的行/索引。</p><h1 id="21ec" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">顺序编码</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="270d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://machinelearningmastery.com/one-hot-encoding-for-categorical-data/" rel="noopener ugc nofollow" target="_blank">序号编码</a>是对分类数据进行编码的多种方式之一。有各种各样的编码方法，比如一键编码等等，我已经在这里链接了<a class="ae ky" href="https://www.analyticsvidhya.com/blog/2020/08/types-of-categorical-data-encoding/" rel="noopener ugc nofollow" target="_blank">。<strong class="lb iu">当您想要保留分类变量的顺序，并且如果您的列有一个固有的</strong> <strong class="lb iu">顺序</strong>时，可以使用顺序编码。</a></p><h1 id="446f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">用所有分类变量编码数据帧</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="e570" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果数据集只有分类列，您可能需要创建一个管道/函数来编码整个数据集。请注意，在使用此函数之前，您需要<strong class="lb iu">确定您正在处理的每一列的顺序是否重要</strong>。</p><h1 id="88a1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">额外资源</h1><ul class=""><li id="8066" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu nf mv mw mx bi translated"><a class="ae ky" href="https://www.datacamp.com/community/blog/python-pandas-cheat-sheet" rel="noopener ugc nofollow" target="_blank">熊猫小抄</a></li><li id="c5c6" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu nf mv mw mx bi translated"><a class="ae ky" href="https://realpython.com/pandas-groupby/" rel="noopener ugc nofollow" target="_blank"> Python GroupBy语句</a></li><li id="a3dc" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu nf mv mw mx bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/data-visualization-cheat-sheet-with-seaborn-and-matplotlib-70cac11c6517"> EDA备忘单</a></li><li id="7629" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu nf mv mw mx bi translated"><a class="ae ky" href="https://elitedatascience.com/python-cheat-sheet" rel="noopener ugc nofollow" target="_blank"> Python CheatSheet </a></li></ul><p id="68fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi">— — —</p><p id="d5e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据争论是为模型训练/反馈准备数据的必要条件。Pandas、Numpy和Sci-Kit Learn等Python库有助于在必要时轻松操作和转换数据。随着如此多的新ML算法进入该领域，理解如何为将要使用的模型准备数据仍然是必不可少的，无论是传统模型如逻辑回归还是领域如NLP，数据准备都是必须的。</p><p id="c740" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这些例子中的一些对那些对他们的特定数据集执行任何EDA或特征工程的人有用并节省了时间。查看<a class="ae ky" href="https://www.notion.so/Common-Use-Cases-583a1537a87d433fb5359bd0c2c99eb9" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">概念链接</strong> </a>对于我记录的所有其他例子，这将继续更新。我附上了其他资源和特征工程的备忘单，我发现上面有帮助。请随时在<a class="ae ky" href="https://www.linkedin.com/in/ram-vegiraju-81272b162/" rel="noopener ugc nofollow" target="_blank"> Linkedln </a>上与我联系，或者在<a class="ae ky" href="https://ram-vegiraju.medium.com/" rel="noopener"> Medium </a>上关注我，了解我更多的写作内容。分享任何想法或反馈，谢谢阅读！</p></div></div>    
</body>
</html>