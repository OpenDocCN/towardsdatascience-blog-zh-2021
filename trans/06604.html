<html>
<head>
<title>Bootstrap a Modern Data Stack in 5 minutes with Terraform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Terraform在5分钟内引导一个现代数据堆栈</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/bootstrap-a-modern-data-stack-in-5-minutes-with-terraform-32342ee10e79?source=collection_archive---------9-----------------------#2021-06-14">https://towardsdatascience.com/bootstrap-a-modern-data-stack-in-5-minutes-with-terraform-32342ee10e79?source=collection_archive---------9-----------------------#2021-06-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="59eb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">设置Airbyte、BigQuery、dbt、Metabase以及使用Terraform运行现代数据堆栈所需的一切。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b4d27d2742a38c884017cda05f0fc218.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TXTXbdNMNRp4ucaP6gOgNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">现代数据堆栈架构(图片由作者提供)</p></figure><h1 id="17dd" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">什么是现代数据堆栈</h1><p id="f0c0" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">现代数据栈(MDS)是一系列技术的组合，使现代数据仓库的性能比传统数据仓库高10-10000倍。最终，MDS节省了时间、金钱和精力。一个MDS的四大支柱是一个<strong class="ls iu">数据连接器</strong>，一个<strong class="ls iu">云数据仓库</strong>，一个<strong class="ls iu">数据转换器</strong>，一个<strong class="ls iu"> BI &amp;数据探索</strong>工具。</p><p id="109c" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">简单的</strong> <strong class="ls iu">集成</strong>通过托管的&amp;开源工具预构建数百个现成的连接器成为可能。过去需要数据工程师团队定期构建和维护的东西，现在可以用简单用例的工具来代替。像<strong class="ls iu"> Stitch </strong>和<strong class="ls iu"> Fivetran </strong>这样的托管解决方案，以及像<strong class="ls iu"> Airbyte </strong>和<strong class="ls iu"> Meltano </strong>这样的开源解决方案，正在让这一切成为现实。</p><p id="9fc0" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">由于其高性能和成本效益，使用基于云的柱状数据仓库已经成为最近的趋势。您可以从每月100美元(或更少)开始支付，而不是每年支付10万美元购买一个本地MPP(大规模并行处理)数据库。云原生数据仓库据说比传统OLTP快10到10000倍。这一类的热门选项有<strong class="ls iu"> BigQuery </strong>、<strong class="ls iu">雪花</strong>和<strong class="ls iu">红移</strong>。</p><p id="7f4b" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在过去，由于技术的限制，在数据仓库中处理数据是一个瓶颈。结果，公司不得不倾向于ETL而不是ELT来减少数据仓库的工作量。然而，随着云原生数据仓库的发展，许多<strong class="ls iu">数据仓库内转换工具</strong>变得流行起来。这一类别中最值得注意的是dbt(数据构建工具)和Dataform。</p><p id="9f90" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu"> BI工具</strong>用于处理一些转换，以减少遗留数据仓库的工作量。然而，随着现代数据堆栈的出现，BI工具的重点已经转移到(在我看来)民主化数据访问、自助服务和数据发现。一些我认为正朝着正确方向发展的工具是<strong class="ls iu"> Looker </strong>、<strong class="ls iu">元数据库</strong>和<strong class="ls iu">超集</strong>。</p><h1 id="3f8d" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">我们的建筑</h1><p id="7bc2" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">由于涉及许多不同的工具和流程，开始使用现代数据堆栈可能会令人望而生畏。本文旨在帮助您尽可能无缝地开始这一旅程。有许多准备步骤，但是一旦完成，只需要<strong class="ls iu">五分钟</strong>就可以启动所有资源。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b4d27d2742a38c884017cda05f0fc218.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TXTXbdNMNRp4ucaP6gOgNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">现代数据堆栈架构(图片由作者提供)</p></figure><p id="0532" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">我们将使用<strong class="ls iu"> Terraform </strong>，一个基础设施即代码的开源工具来提供谷歌云中的一切。如果您遵循下面的说明，这里是将要创建的资源。</p><ul class=""><li id="60a1" class="mr ms it ls b lt mm lw mn lz mt md mu mh mv ml mw mx my mz bi translated">启用了必要API的谷歌云项目</li><li id="ad9b" class="mr ms it ls b lt na lw nb lz nc md nd mh ne ml mw mx my mz bi translated">摄取:运行Airbyte的GCE实例</li><li id="0db1" class="mr ms it ls b lt na lw nb lz nc md nd mh ne ml mw mx my mz bi translated">仓库:大查询数据集</li><li id="bfc3" class="mr ms it ls b lt na lw nb lz nc md nd mh ne ml mw mx my mz bi translated">编排(可选):运行气流的GCE实例</li><li id="d20b" class="mr ms it ls b lt na lw nb lz nc md nd mh ne ml mw mx my mz bi translated">BI和数据发现:运行元数据库的GCE实例</li><li id="3135" class="mr ms it ls b lt na lw nb lz nc md nd mh ne ml mw mx my mz bi translated">不同服务的服务帐户及其IAM权限绑定</li></ul><h1 id="b29f" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">开始</h1><h2 id="dc31" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">创建一个Google Cloud帐户并启用计费</h2><p id="dc3a" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这个项目中的Terraform代码将与谷歌云平台进行交互。因此，我们创建Google帐户的第一步是<a class="ae nr" href="https://cloud.google.com/billing/docs/how-to/modify-project" rel="noopener ugc nofollow" target="_blank">启用计费</a>。请注意计费页面中具有以下格式的<code class="fe ns nt nu nv b">billing ID</code>:<code class="fe ns nt nu nv b">######-######-######</code>。在下一步中，您将需要这个值。</p><h2 id="b937" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">安装Google Cloud CLI</h2><p id="d8ae" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">按照这里的说明<a class="ae nr" href="https://cloud.google.com/sdk/docs/quickstart" rel="noopener ugc nofollow" target="_blank">为您各自的操作系统安装Google Cloud SDK</a>。安装了<code class="fe ns nt nu nv b">gcloud</code> CLI后，在终端窗口中运行以下命令，并按照说明进行操作。这将让Terraform使用默认凭证进行身份验证。</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="6dce" class="nf kz it nv b gy oa ob l oc od">gcloud auth application-default login</span></pre><h2 id="4a2b" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">安装地形</h2><p id="371b" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">按照这里的说明<a class="ae nr" href="https://learn.hashicorp.com/tutorials/terraform/install-cli" rel="noopener ugc nofollow" target="_blank">在本地安装Terraform CLI。之后运行以下命令检查您的安装:</a></p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="8d3f" class="nf kz it nv b gy oa ob l oc od">terraform -v</span></pre><p id="0938" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">您应该会看到类似这样的内容:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="0a69" class="nf kz it nv b gy oa ob l oc od">Terraform v1.0.0<br/>on darwin_amd64<br/>+ provider registry.terraform.io/hashicorp/google v3.71.0</span></pre><h2 id="b9f6" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">在本地派生或克隆此回购</h2><div class="oe of gp gr og oh"><a href="https://github.com/tuanchris/modern-data-stack" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">Tuan Chris/现代数据堆栈</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">使用Terraform在五分钟内开始使用现代数据堆栈。在我的博客中阅读更多关于回购的信息…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">github.com</p></div></div><div class="oq l"><div class="or l os ot ou oq ov ks oh"/></div></div></a></div><p id="d298" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">您可以将此回购分支到您的帐户或克隆到您的本地机器。要克隆存储库，请运行以下命令:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="5ca4" class="nf kz it nv b gy oa ob l oc od">git clone https://github.com/tuanchris/modern-data-stack<br/>cd modern-data-stack</span></pre><h2 id="bace" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">创建一个<code class="fe ns nt nu nv b">terraform.tfvars</code>文件</h2><p id="bc82" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">用以下内容创建一个<code class="fe ns nt nu nv b">terraform.tfvars</code>文件:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="e304" class="nf kz it nv b gy oa ob l oc od"># The Billing ID from the first step<br/>billing_id = ######-######-######<br/># The folder ID of where you want your project to be under<br/># Leave this blank if you use a personal account<br/>folder_id  = ""<br/># The organization ID of where you want your project to be under<br/># Leave this blank if you use a personal account<br/>org_id     = ""<br/># The project to create<br/>project_id = ""</span></pre><p id="b33c" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">警告</strong>:这些被认为是敏感值。不要将该文件和<code class="fe ns nt nu nv b">*.tfstate</code>文件提交给公共回购。</p><h2 id="6742" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">自定义<code class="fe ns nt nu nv b">variables.tf</code>中的值</h2><p id="1c88" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><code class="fe ns nt nu nv b">variables.tf</code>中的变量将用于资源的配置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/967093889c30bb4c2bd5dd2e46fbd197.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*0PyPxSlFndxwg0k84xlS8A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="56ac" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">您可以通过更改变量为不同的服务定制机器类型。如果您不想使用任何服务，请在<code class="fe ns nt nu nv b">gce.tf</code>文件中将其注释掉。</p><p id="3980" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">您还可以通过将源系统添加到源数据集字典来为源系统创建不同的数据集。</p><h2 id="86ff" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">创建现代化的数据堆栈</h2><p id="694e" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">最后，要在Google Cloud上提供所有这些资源，运行以下命令:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="fd30" class="nf kz it nv b gy oa ob l oc od">terraform apply</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/5bb71f413647367065542e1fa58660cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vok3cEWxH3xXr2YW_Lwjsw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="2645" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">研究终端中的输出，确保所有资源设置都是您想要的。键入<code class="fe ns nt nu nv b">yes</code>并点击<code class="fe ns nt nu nv b">enter</code>。</p><p id="6e80" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">Terraform将利用我们的现代数据堆栈创建一个谷歌云项目。整个过程大约需要2-3分钟。将服务安装到虚拟机实例上还需要2-3分钟。整个过程只需要5分钟或更少。</p><h1 id="7180" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">使用现代数据堆栈</h1><h2 id="7b84" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">检索不同服务的服务帐户</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/4bd6e343c822fea1794aa89f5e2346fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/0*NPAZ5RPTR_bwWAjJ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="fb8d" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">谷歌建议不同的服务使用不同的服务账户。项目中的terraform代码为已经使用的不同技术创建了不同的帐户。若要检索特定服务的服务帐户，请运行以下命令:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="90c5" class="nf kz it nv b gy oa ob l oc od">terraform output [service_name]_sa_key</span></pre><p id="a468" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">所有这些帐户的默认权限是<code class="fe ns nt nu nv b">roles/bigquery.admin</code>。您可以在<code class="fe ns nt nu nv b">iam.tf</code>文件中对此进行定制。</p><p id="90af" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">您得到的值是base64编码的。要将该值变回<code class="fe ns nt nu nv b">JSON format</code>，运行以下命令:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="b04d" class="nf kz it nv b gy oa ob l oc od">echo "[value from the previous command]" | base64 -d</span></pre><p id="7c29" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">您可以使用JSON服务帐户来验证对项目资源的服务访问。</p><p id="7660" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">警告</strong>:任何拥有这个服务账号的人都可以访问你的项目。</p><h2 id="afa4" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">使用Airbyte摄取数据</h2><p id="05b2" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><a class="ae nr" href="https://airbyte.io/" rel="noopener ugc nofollow" target="_blank"> Airbyte </a>是一款优秀的开源数据集成工具。要访问Airbyte UI，首先，获取gcloud SSH命令。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/adfa577b238c8fead50de34385e42b07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xnJzzcLNSIBICtxCEjk2VQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="c927" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">你会得到一个类似这样的命令:<code class="fe ns nt nu nv b">gcloud beta compute ssh --zone "asia-southeast1-a" "tf-airbyte-demo-airbyte" --project "tf-airbyte-demo"</code>。接下来，将以下内容添加到命令中，以在本地转发Airbyte UI:<code class="fe ns nt nu nv b">-- -L 8000:localhost:8000 -L 8001:localhost:8001 -N -f</code>。您的最终命令将如下所示:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="4b96" class="nf kz it nv b gy oa ob l oc od">gcloud beta compute ssh --zone "asia-southeast1-a" "tf-airbyte-demo-airbyte"  --project "tf-airbyte-demo" -- -L 8000:localhost:8000 -L 8001:localhost:8001 -N -f</span></pre><p id="ecb3" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">注意:</strong>从GCP UI复制后，请务必删除换行符。</p><p id="d234" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">如果Airbyte实例已经完成启动，您可以通过浏览器访问<code class="fe ns nt nu nv b">localhost:8000</code>来访问它。如果没有，请等待五分钟，让实例完成安装。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/fc6f31ec0998fb2b42920749447364fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*tyjHEBsTXkBlsGegu3JOxQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3532" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">现在，您可以集成您的数据源，使用<code class="fe ns nt nu nv b">airbyte_sa_key</code>添加一个BigQuery目的地，并立即将您的数据放入BigQuery中。</p><p id="67e5" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">您可以在虚拟机内部的<code class="fe ns nt nu nv b">/airbyte/</code>访问Airbyte安装。</p><h2 id="ebcb" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">使用dbt模型数据</h2><p id="cfc8" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><a class="ae nr" href="https://www.getdbt.com" rel="noopener ugc nofollow" target="_blank"> dbt </a>(数据构建工具)是一个使用SQL的强大的开源数据转换工具。它使数据分析师能够完成以前留给数据工程师的工作。它还帮助创建了一个全新的职位，称为分析工程师，是数据分析师和数据工程师的混合体。你可以在我的博客<a class="ae nr" href="https://tuanchris.medium.com/become-an-analytics-engineer-in-90-days-759659d22ffd" rel="noopener">这里</a>阅读更多关于这个职位的信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/7d0cfcc50da1b2c31872e82254c85940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YvspDMPcDVVWeSeEUoc07Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d9c7" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">与Airbyte、Airflow和Metabase不同，运行dbt不需要服务器。你可以通过访问他们的<a class="ae nr" href="https://www.getdbt.com/signup/" rel="noopener ugc nofollow" target="_blank">网站</a>注册一个免费(永久)的单座账户。</p><h2 id="a8f0" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">利用气流协调工作流程</h2><p id="2d8e" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><a class="ae nr" href="https://airflow.apache.org/" rel="noopener ugc nofollow" target="_blank"> Airflow </a>是Airbnb打造的久经考验的工作流程编排工具。有了一个现代化的数据堆栈，希望你不需要经常使用气流。然而，在一些需要定制的情况下，气流可以成为你的首选工具。</p><p id="b67a" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">要访问UI，请使用Airbyte获得类似于上一节的SSH命令。使用以下命令进行端口转发:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="0d20" class="nf kz it nv b gy oa ob l oc od">gcloud beta compute ssh --zone "asia-southeast1-a" "tf-airbyte-demo-airflow"  --project "tf-airbyte-demo" -- -L 8080:localhost:8080 -N -f</span></pre><p id="bbf4" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">现在你可以在<code class="fe ns nt nu nv b">localhost:8080</code>访问气流装置。默认用户名&amp;密码为<code class="fe ns nt nu nv b">admin</code>和<code class="fe ns nt nu nv b">admin</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/839a40df01168bf041e523675924c908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I7SAy2tBzAW73LcbY6w6DQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="61da" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">您可以在虚拟机内部的<code class="fe ns nt nu nv b">/airflow/</code>访问气流装置。</p><h2 id="725d" class="nf kz it bd la ng nh dn le ni nj dp li lz nk nl lk md nm nn lm mh no np lo nq bi translated">用元数据库可视化数据</h2><p id="fad3" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><a class="ae nr" href="https://www.metabase.com/" rel="noopener ugc nofollow" target="_blank"> Metabase </a>是一个开源的数据可视化和发现工具。它超级用户友好，易于上手。</p><p id="924f" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">要访问元数据库UI，请使用Airbyte获得类似于上述部分的SSH命令。然后，使用以下命令进行端口转发:</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="21bd" class="nf kz it nv b gy oa ob l oc od">gcloud beta compute ssh --zone "asia-southeast1-a" "tf-airbyte-demo-metabase"  --project "tf-airbyte-demo" -- -L 3000:localhost:3000 -N -f</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/80ca7cf75c3e325aa7114325b610394b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*_3XJ8JNhwcPHE4yAq15jsw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="07b2" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">打扫</h1><p id="66ec" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">为了避免任何不必要的开销，请确保通过运行。</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="11d2" class="nf kz it nv b gy oa ob l oc od">terraform destroy</span></pre><p id="876b" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><strong class="ls iu">警告:</strong>这将删除项目中任何持久化的数据和资源。或者，您也可以关闭未使用的GCE来节省成本。</p><h1 id="7228" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">结论</h1><p id="f91b" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我希望这篇文章能够帮助您更好地理解现代数据堆栈，并且/或者激励您开始这一旅程。</p><p id="a943" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">请随时向我寻求反馈/问题。</p><p id="8642" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">快乐学习！</p></div></div>    
</body>
</html>