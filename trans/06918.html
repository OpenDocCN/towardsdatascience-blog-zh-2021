<html>
<head>
<title>4 Tricks to Use Python F-strings More Efficiently</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更有效地使用Python F字符串的4个技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-tricks-to-use-python-f-strings-more-efficiently-4f389e890514?source=collection_archive---------6-----------------------#2021-06-23">https://towardsdatascience.com/4-tricks-to-use-python-f-strings-more-efficiently-4f389e890514?source=collection_archive---------6-----------------------#2021-06-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="45ef" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">完全控制您打印的内容。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9c17c4a9207135ca62d8b3a51cb393ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pWeBgjP36-D_YkDYxiJp2w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔希·拉科瓦尔在<a class="ae ky" href="https://unsplash.com/s/photos/cool?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="1bd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">字符串插值是一种将变量嵌入字符串的方法。它使得操纵和丰富字符串变得容易。因此，使用字符串插值，print语句更加强大。</p><p id="fc94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">格式化字符串文字，也称为f字符串，是一种非常实用的字符串插值方法。他们使用花括号作为变量占位符。</p><p id="be0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我们将学习4个技巧来更有效地使用f弦。让我们从一个简单的例子开始演示f弦是如何工作的。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7313" class="ma mb it lw b gy mc md l me mf">age = 24</span><span id="f7cb" class="ma mb it lw b gy mg md l me mf">print(f"John is {age} years old.")</span><span id="927f" class="ma mb it lw b gy mg md l me mf">John is 24 years old.</span></pre></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h2 id="c67b" class="ma mb it bd mo mp mq dn mr ms mt dp mu li mv mw mx lm my mz na lq nb nc nd ne bi translated">1.格式化大数</h2><p id="bf2b" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">当处理大量数字时，为了更好的可读性，最好使用千位分隔符。f弦使得正确放置这些分隔符变得非常简单。</p><p id="c89b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是没有千位分隔符的情况:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="20e0" class="ma mb it lw b gy mc md l me mf">number = 3454353453</span><span id="8d53" class="ma mb it lw b gy mg md l me mf">print(f"The value of the company is {number}")</span><span id="96ce" class="ma mb it lw b gy mg md l me mf">The value of the company is 3454353453</span></pre><p id="a7e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们放置分离器，看看有什么不同。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8599" class="ma mb it lw b gy mc md l me mf">print(f"The value of the company is {number:,d}")</span><span id="ab0c" class="ma mb it lw b gy mg md l me mf">The value of the company is 3,454,353,453</span></pre></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h2 id="82e3" class="ma mb it bd mo mp mq dn mr ms mt dp mu li mv mw mx lm my mz na lq nb nc nd ne bi translated">2.格式化日期</h2><p id="afe6" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在我们的脚本中有各种方法来表示日期。这取决于地理位置或只是你的喜好。</p><p id="d89a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以把日期放在f字符串中，而不像其他变量那样格式化。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f6ee" class="ma mb it lw b gy mc md l me mf">from datetime import datetime</span><span id="703a" class="ma mb it lw b gy mg md l me mf">today = datetime.today().date()</span><span id="e2c5" class="ma mb it lw b gy mg md l me mf">print(f"Today is {today}")</span><span id="f9b1" class="ma mb it lw b gy mg md l me mf">Today is 2021-06-23</span></pre><p id="5e96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在某些情况下，以下可能是更好的表示。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f46f" class="ma mb it lw b gy mc md l me mf">print(f"Today is {today:%B %d, %Y}")</span><span id="a8b2" class="ma mb it lw b gy mg md l me mf">Today is June 23, 2021</span></pre><p id="f150" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你居住的国家是月写在日之前，你可以使用下面的格式。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="309e" class="ma mb it lw b gy mc md l me mf">print(f"Today is {today:%m-%d-%Y}")</span><span id="4708" class="ma mb it lw b gy mg md l me mf">Today is 06-23-2021</span></pre></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h2 id="0805" class="ma mb it bd mo mp mq dn mr ms mt dp mu li mv mw mx lm my mz na lq nb nc nd ne bi translated">3.衬垫号码</h2><p id="c0bd" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在某些情况下，数字以前导零书写，以便所有数字的位数相同。典型的用例可能是产品号或id号。</p><p id="4589" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在f字符串中为变量放置任意数量的前导零。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c28c" class="ma mb it lw b gy mc md l me mf">a = 4</span><span id="9928" class="ma mb it lw b gy mg md l me mf">b = 123</span><span id="afcc" class="ma mb it lw b gy mg md l me mf">print(f"Product numbers are \n{a:03} \n{b:03}")</span><span id="e83f" class="ma mb it lw b gy mg md l me mf">Product numbers are  <br/>004  <br/>123</span></pre><p id="e446" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“b:03”表示总共有3个数字，前导空格将用零填充。在一位数的情况下，我们有两个前导零。如果是“b:04”，数字就写成0004和0123。</p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h2 id="5469" class="ma mb it bd mo mp mq dn mr ms mt dp mu li mv mw mx lm my mz na lq nb nc nd ne bi translated">4.写表达式</h2><p id="6de5" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">f字符串还允许在变量占位符中使用表达式。这些表达式可能涉及函数执行。这是一个方便的特性，因为我们不需要为只使用一次的值创建变量。</p><p id="3767" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们做一个包含日期操作的例子。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="65b7" class="ma mb it lw b gy mc md l me mf">from datetime import datetime, timedelta</span><span id="dfbd" class="ma mb it lw b gy mg md l me mf">today = datetime.today().date()</span><span id="66f8" class="ma mb it lw b gy mg md l me mf">print(f"The test was 3 days ago which is {today - timedelta(days=3)}")</span><span id="696f" class="ma mb it lw b gy mg md l me mf">The test was 3 days ago which is 2021-06-20</span></pre><p id="a4ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个例子是查找列表中的项目数，并将其用作变量。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="ef5c" class="ma mb it lw b gy mc md l me mf">mylist = [1, 2, 4, 6, 3]</span><span id="6301" class="ma mb it lw b gy mg md l me mf">print(f"The list contains {len(mylist)} items.")</span><span id="2af8" class="ma mb it lw b gy mg md l me mf">The list contains 5 items.</span></pre></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h2 id="8ee2" class="ma mb it bd mo mp mq dn mr ms mt dp mu li mv mw mx lm my mz na lq nb nc nd ne bi translated">结论</h2><p id="ab87" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">字符串是我们脚本的重要组成部分。出于调试目的，我们还将它们与print语句一起使用。字符串插值帮助我们充分利用print语句。它允许操作或定制字符串很容易。</p><p id="ed50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">F-strings为字符串插值提供了清晰的语法和易读的代码。我们在文章中介绍的技巧为f弦的标准使用增加了更多的灵活性。</p><p id="9b54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>