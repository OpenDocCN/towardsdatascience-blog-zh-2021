<html>
<head>
<title>Statistics #02 — Measuring and Visualizing the Spread of Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">统计#02 —测量和可视化数据的传播</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/statistics-02-measuring-and-visualizing-the-spread-of-data-2fc31d928830?source=collection_archive---------22-----------------------#2021-07-19">https://towardsdatascience.com/statistics-02-measuring-and-visualizing-the-spread-of-data-2fc31d928830?source=collection_archive---------22-----------------------#2021-07-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b2f4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">范围、四分位数的概念，以及如何使用Python构建盒状图</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8a9678bac793827a6397dad964d2113d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*60u4gOXkDzBLRnDj5rWgtQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">亨特·哈里特在<a class="ae kv" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="0338" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">目录</h1><ol class=""><li id="de2c" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><a class="ae kv" href="#f3af" rel="noopener ugc nofollow"> <strong class="lq ir">范围</strong> </a></li><li id="1a34" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#2ae0" rel="noopener ugc nofollow"> <strong class="lq ir">四分位数</strong> </a> <br/> - <a class="ae kv" href="#b7b7" rel="noopener ugc nofollow">如何确定四分位数</a>-<br/>-<a class="ae kv" href="#9dd5" rel="noopener ugc nofollow">四分位数间距</a></li><li id="633a" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#0ecc" rel="noopener ugc nofollow"> <strong class="lq ir">箱型地块</strong> </a> <br/> - <a class="ae kv" href="#9c23" rel="noopener ugc nofollow">解剖箱型地块</a> <br/> - <a class="ae kv" href="#2444" rel="noopener ugc nofollow">用Python搭建箱型地块</a></li><li id="1422" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#ebce" rel="noopener ugc nofollow"> <strong class="lq ir">结论</strong> </a></li></ol></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><p id="7bb3" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">在本系列的第<a class="ae kv" rel="noopener" target="_blank" href="/statistics-01-mean-median-and-mode-d6d8597ed9f1">篇文章</a>中，我们研究了最常见的集中趋势、平均值、中值和众数，以及异常值的概念。</p><p id="e8a4" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">然而，这些值可能无法为我们提供分析数据集所需的所有信息。在本文中，我们将开始讨论如何测量和可视化分布中的数据离散度。</p><h1 id="f3af" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">范围</h1><p id="cd7c" class="pw-post-body-paragraph ms mt iq lq b lr ls jr mv lt lu ju mx lv nh mz na lx ni nc nd lz nj nf ng mb ij bi translated">第一种，也可能是最简单的，测量数据分布的方法是<strong class="lq ir">范围</strong>。它可以通过取集合中的最大值并减去最小值来确定。</p><p id="cc41" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">让我们考虑上一篇文章中引用的同一个例子。在这种情况下，我们假设我们调查了10名应届毕业生的工资，得到了以下数据:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/38f9ba9d7266e78b259f6bc8fb05f255.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T4HkgJXAVGLT5XEUuxy4Mg.png"/></div></div></figure><p id="03ee" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">下面是我们如何确定这个集合的范围:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/a31d900838252dd1e79d9ea4e2694f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*UfTyz1g-ZGaRN37CrHf_tQ.png"/></div></figure><p id="c292" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">下面的直方图将帮助我们直观地了解值在集合中的分布情况。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/a7d9d537628b5414a7ba0ffb405efc69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v7JDCWerL4DNJyJbn3kiCA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图一。显示范围的直方图(图片由作者提供)</p></figure><p id="e9fd" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">请注意，尽管大多数值集中在<strong class="lq ir"> 15，000和35，000 </strong>附近，但该范围被异常值拉长了。这是因为范围对异常值非常敏感<strong class="lq ir"/>。</p><p id="2d1f" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">如果我们忽略异常值，我们的范围会急剧减少到<strong class="lq ir"> 20，000 </strong>，可能会给我们一个更好的数据画面，但是故意忽略数据集中的值不是好的做法。那么我们能做什么呢？</p><p id="bfdd" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">我们可以从谈论百分位数的概念开始。考虑到数据是按升序排列的，百分位数将数据集分割成百分之一。举例来说，50ᵗʰ百分位就是中位数<strong class="lq ir"/>，因为50%的数据都低于这个标准，而另外50%则更高。</p><p id="d274" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">在统计学中，常见的是将数据分成<strong class="lq ir">四分位数</strong>，这代表了数据的四分之一，或者说25个百分点。</p><h1 id="2ae0" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">四分位数</h1><p id="39ee" class="pw-post-body-paragraph ms mt iq lq b lr ls jr mv lt lu ju mx lv nh mz na lx ni nc nd lz nj nf ng mb ij bi translated">由于四分位数代表四分之一的数据，我们可以将数据集分成4个四分位数。</p><p id="d5bf" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">第一个四分位数，也称为<strong class="lq ir"> Q1 </strong>，是25%数据的标志。第二个四分位数，<strong class="lq ir"> Q2 </strong>，是中间点，也就是中位数。第三个四分位数，<strong class="lq ir"> Q3 </strong>有75%的数据在它下面。</p><h2 id="b7b7" class="nn kx iq bd ky no np dn lc nq nr dp lg lv ns nt li lx nu nv lk lz nw nx lm ny bi translated">如何识别四分位数</h2><p id="1daa" class="pw-post-body-paragraph ms mt iq lq b lr ls jr mv lt lu ju mx lv nh mz na lx ni nc nd lz nj nf ng mb ij bi translated">确定Q1、Q2和第三季度非常简单，因为你只需要知道如何找到中位数——记住，有几种方法可以计算四分位数。在这里，我将向您展示其中一个简单且广泛使用的方法。</p><p id="0520" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">简而言之，下面是如何找到<strong class="lq ir">中位数</strong>(数据集必须是有序的):</p><ul class=""><li id="4e83" class="lo lp iq lq b lr mu lt mw lv nz lx oa lz ob mb oc md me mf bi translated">如果观察的数目是奇数，它就是正中间的那个数。</li><li id="73e5" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb oc md me mf bi translated">如果观察数是偶数，则是中间两个数的平均值。</li></ul><p id="0e3b" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">现在，要找到<strong class="lq ir">四分位数</strong>,您应该执行以下操作:</p><ol class=""><li id="091c" class="lo lp iq lq b lr mu lt mw lv nz lx oa lz ob mb mc md me mf bi translated">找到中间值(<strong class="lq ir"> Q2 </strong>)，将数据切成两半；</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/a56e474ed2b025ca18c33ec450139718.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YY98TCtagnZPsu1f_CkM8g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/6db32634ac5439ce84cb0ebfe350439f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V1O1z70A0Y44xqeqT5RXBg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><p id="fa3d" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">2.<strong class="lq ir"> Q1 </strong>是数据下半部分的中位数；</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/c1c488be3fb86a0b3c2def6edbad8a0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*6sJZOMFs9UQIwfdrKXv5dw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><p id="38ec" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">3.<strong class="lq ir"> Q3 </strong>是数据上半部分的中位数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/f3e4b5658b5c44acf6ae960049f22953.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*xg-2rgDC2016hn7XqVmIwg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><h2 id="9dd5" class="nn kx iq bd ky no np dn lc nq nr dp lg lv ns nt li lx nu nv lk lz nw nx lm ny bi translated">四分位间距</h2><p id="3c29" class="pw-post-body-paragraph ms mt iq lq b lr ls jr mv lt lu ju mx lv nh mz na lx ni nc nd lz nj nf ng mb ij bi translated">另一个需要记住的重要概念是四分位距(<strong class="lq ir"> IQR </strong>)。它表示Q1和第三季度之间的数据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/0bc7ccd538b5432d5f9f3eb20c505cd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/format:webp/1*prRUH4mdZOHB22A2Sy4sxA.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/a4843dcadc60bc879f3e1e4c2257223b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vmjivREf8MzNeFq209osJw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><p id="babe" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">如您所见，四分位数范围忽略了低于Q1和高于Q3的值，仅使用数据的中间50%。这意味着IQR对异常值的敏感度远远低于我们在之前的交易中看到的范围。</p><h1 id="0ecc" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">箱线图</h1><p id="81c1" class="pw-post-body-paragraph ms mt iq lq b lr ls jr mv lt lu ju mx lv nh mz na lx ni nc nd lz nj nf ng mb ij bi translated">箱线图是一种图表类型，非常适合用来表示集合中的范围和数据离散度。箱形图显示了Q1、Q2和Q3，以及下限和上限，超出这些范围就是异常值。</p><h2 id="9c23" class="nn kx iq bd ky no np dn lc nq nr dp lg lv ns nt li lx nu nv lk lz nw nx lm ny bi translated">箱形图的剖析</h2><p id="e2d9" class="pw-post-body-paragraph ms mt iq lq b lr ls jr mv lt lu ju mx lv nh mz na lx ni nc nd lz nj nf ng mb ij bi translated">让我们来看看一个盒子情节的要素。(请注意，该图没有针对我们的数据集进行缩放，它只是一个帮助我们可视化所有元素的示例)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/82b11b803ba4152491453368d26839a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Gp-Tc_cNLYfZDYWnJ788Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><p id="c962" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">图表中间的方框显示了中间50%的数据。它的左边是Q1，右边是Q3，里面的红线显示的是中间值。方框的长度代表四分位数范围(IQR)。</p><p id="c150" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">在盒子外面，两条线在每一边延伸。这些线条经常被称为“须状物”。左须向下扩展到下限(通常计算为Q1 1.5×IQR)，右须向上扩展到上限(Q3 + 1.5 × IQR)。位于下限和上限之外的所有点都被认为是异常值。</p><h2 id="2444" class="nn kx iq bd ky no np dn lc nq nr dp lg lv ns nt li lx nu nv lk lz nw nx lm ny bi translated">用Python构建盒状图</h2><p id="4237" class="pw-post-body-paragraph ms mt iq lq b lr ls jr mv lt lu ju mx lv nh mz na lx ni nc nd lz nj nf ng mb ij bi translated">现在，作为一个额外的主题，让我们看看如何使用Python构建一个方框图。</p><p id="0a18" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">有几种不同的工具可以用来构建图形和图表。在这里，我使用了<a class="ae kv" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir"> matplotlib </strong> </a>，一个用于可视化的Python库。请找到下面的情节和我使用的代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/02a491c55202f6ccf9de9f7cca274beb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P18_L5Mp-89XMlCDtPC4YQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图二。箱线图(图片由作者提供)</p></figure><p id="c111" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">注意盒子是如何被挤压到左边的。这是因为我们有一个极值，200，000，在图中用一个小的菱形标记表示。顺便提一下，值得一提的是<strong class="lq ir"> matplotlib </strong>对四分位数的评估与我们稍有不同，但结果是相似的。</p><h1 id="ebce" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="ce94" class="pw-post-body-paragraph ms mt iq lq b lr ls jr mv lt lu ju mx lv nh mz na lx ni nc nd lz nj nf ng mb ij bi translated">无论您只是在寻找一些统计主题的简单解释，还是正在学习如何用Python绘制图表，我希望本文能对您有所帮助。未来的文章将深入可变性的度量，描述方差和标准差。如果你对统计学中的其他主题感兴趣，可以查看本系列的第一篇文章，内容包括<a class="ae kv" rel="noopener" target="_blank" href="/statistics-01-mean-median-and-mode-d6d8597ed9f1">均值、中位数和众数</a>。</p><p id="9053" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">总而言之，让我们回顾一下这篇文章中涉及的内容。</p><h2 id="f161" class="nn kx iq bd ky no np dn lc nq nr dp lg lv ns nt li lx nu nv lk lz nw nx lm ny bi translated">范围</h2><ul class=""><li id="1000" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb oc md me mf bi translated">测量数据分布的简单方法。</li><li id="2f23" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb oc md me mf bi translated">它是一个集合中最大值和最小值之差。</li><li id="51ba" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb oc md me mf bi translated">不太可靠，因为它对异常值非常敏感。</li></ul><h2 id="df5a" class="nn kx iq bd ky no np dn lc nq nr dp lg lv ns nt li lx nu nv lk lz nw nx lm ny bi translated">四分位数</h2><ul class=""><li id="25a3" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb oc md me mf bi translated">将数据分成四份。</li><li id="de22" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb oc md me mf bi translated">Q1代表了一个25%的数据低于该值的点。Q2是中间值，Q3表示75%点。</li><li id="84c7" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb oc md me mf bi translated">四分位数范围(IQR)代表Q1和第三季度之间的数据。与范围相比，它对异常值远没有那么敏感。</li></ul><h2 id="c642" class="nn kx iq bd ky no np dn lc nq nr dp lg lv ns nt li lx nu nv lk lz nw nx lm ny bi translated">箱线图</h2><ul class=""><li id="083e" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb oc md me mf bi translated">一种非常适合显示数据分布的图表。</li><li id="cf48" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb oc md me mf bi translated">它显示Q1、Q2和第三季度，以及下限和上限，以及异常值。</li><li id="49c1" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb oc md me mf bi translated">Matplotlib是一个很棒的工具，可以用Python构建盒状图。</li></ul><p id="0c37" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated">完整代码请参考<a class="ae kv" href="https://github.com/rmpbastos/data_science/blob/master/_0011_Statistics_02_Measuring_and_Visualizing_the_Spread_of_Data.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>。</p><h2 id="43fb" class="nn kx iq bd ky no np dn lc nq nr dp lg lv ns nt li lx nu nv lk lz nw nx lm ny bi translated">参考</h2><p id="46ec" class="pw-post-body-paragraph ms mt iq lq b lr ls jr mv lt lu ju mx lv nh mz na lx ni nc nd lz nj nf ng mb ij bi translated"><em class="on"> [1]格里菲思，D. Head First统计学:一个对大脑友好的指南。奥莱利，2008年。</em></p><p id="f436" class="pw-post-body-paragraph ms mt iq lq b lr mu jr mv lt mw ju mx lv my mz na lx nb nc nd lz ne nf ng mb ij bi translated"><em class="on">【2】https://www.itl.nist.gov/div898/handbook/</em><em class="on"/><a class="ae kv" href="https://www.itl.nist.gov/div898/handbook/" rel="noopener ugc nofollow" target="_blank"><em class="on">NIST/sema tech统计方法电子手册，2012年。</em></a></p></div></div>    
</body>
</html>