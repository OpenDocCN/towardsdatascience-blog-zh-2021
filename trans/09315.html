<html>
<head>
<title>Generate Interactive Plots in one line of Python Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在一行Python代码中生成交互式绘图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/develop-interactive-plots-in-one-line-of-python-code-fde434f39ee8?source=collection_archive---------9-----------------------#2021-08-29">https://towardsdatascience.com/develop-interactive-plots-in-one-line-of-python-code-fde434f39ee8?source=collection_archive---------9-----------------------#2021-08-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="86ad" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Plotly Express库基本指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e6b03f83a1397c99c37ae5eb5b3a225d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h5ItZaN2UHP1DRM8sPzZzA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">科林·伯伦斯来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=3068300" rel="noopener ugc nofollow" target="_blank">的图片</a></p></figure><p id="8496" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">探索性数据分析是数据科学模型开发流程的重要组成部分。数据科学家将大部分时间花在执行EDA上，以便更好地理解数据并从中获得洞察力。</p><p id="1c30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有各种单变量、双变量和多变量可视化技术来执行EDA。Matplotlib、Seaborn是一些用于生成静态图和图表的流行库。使用seaborn和matplotlib生成的图本质上是静态的，需要多行Python代码来进一步定制图。</p><p id="f9ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将探索Plotly Express库，它可用于生成交互式绘图。</p><h1 id="88f4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">为什么是交互式可视化？</h1><p id="7be7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Matplotlib和Seaborn是数据科学社区中流行的库，它们可以为可视化生成漂亮的图形和图表，那么交互式可视化的要求是什么呢？</p><p id="4c78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据科学家必须花费大量时间使用seaborn或matplotlib库来生成和定制绘图。</p><blockquote class="ms mt mu"><p id="0a54" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">让我们使用seaborn生成一个示例静态条形图，以可视化2007年几个国家的人口。</p></blockquote><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="b256" class="ne lw it na b gy nf ng l nh ni"><strong class="na iu">sns.barplot(data=df, x='country', y='pop')<br/>plt.show()</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/5c5e36c80ca62a1e7b39b1ebe18200b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*SUeA5_S7k2ZaGpLcFbH4hw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)，Seaborn酒吧图</p></figure><p id="a339" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面展示每个国家人口的条形图样本不可读。数据科学家必须编写多行Python代码来定制条形图，以使其易于理解。需要调整绘图的大小并旋转x刻度标签。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6ed6" class="ne lw it na b gy nf ng l nh ni"><strong class="na iu">plt.figure(figsize=(14,4))<br/>sns.barplot(data=df, x='country', y='pop')<br/>plt.xticks(rotation=90)<br/>plt.grid(axis='y')<br/>plt.show()</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/103b8dbe201a424861833c1a9b5ff39f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AG8j6LUBXyV65DZ9-3yAcQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)，自定义Seaborn条形图</p></figure><p id="0dff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">X轴有142个类别(国家)，这使得剧情很难解读。为了更好地可视化，必须过滤排名前60位的国家。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="8bdf" class="ne lw it na b gy nf ng l nh ni"><strong class="na iu">plt.figure(figsize=(14,4))<br/>sns.barplot(data=df[df['country'].isin(list(df['country'].unique())[:60])], x='country', y='pop')<br/>plt.xticks(rotation=90)<br/>plt.grid(axis='y')<br/>plt.show()</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/8a8098d6945227bb900082a96a486b6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vGYR-El05jm4e0K_bVFOYw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)，为前50个类别定制Seaborn条形图</p></figure><p id="505c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">人们必须编写多行Python代码，以使情节美观直观。尽管如此，这些情节本质上是静态的，从情节中获得每个国家的准确人口有点困难。</p><p id="8f7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Plotly Express是一个高效的库，可以在一行Python代码中生成漂亮且可解释的图表。现在让我们使用Plotly Express库生成相同的图。</p><h1 id="3d30" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Plotly Express:</h1><blockquote class="ms mt mu"><p id="67fc" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">来自<a class="ae ky" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank"> Plotly文档</a>:</p><p id="79ee" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">Plotly Express是一个封装了Plotly库的包装器。Plotly Express的函数API旨在尽可能保持一致和易于学习，从而在整个数据探索会话中轻松地从散点图切换到条形图、直方图和日射图。</p></blockquote><p id="12f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Plotly Express在一行Python代码中生成直观的交互式绘图。</p><h2 id="a563" class="ne lw it bd lx nm nn dn mb no np dp mf li nq nr mh lm ns nt mj lq nu nv ml nw bi translated">安装:</h2><p id="0fc5" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Plotly Express可以从PyPI安装，使用</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="0ddf" class="ne lw it na b gy nf ng l nh ni"><strong class="na iu">pip install plotly</strong></span></pre><h2 id="9896" class="ne lw it bd lx nm nn dn mb no np dp mf li nq nr mh lm ns nt mj lq nu nv ml nw bi translated">用法:</h2><p id="3493" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">使用Plotly Express生成交互式柱状图只需一行Python代码。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="efbd" class="ne lw it na b gy nf ng l nh ni"><strong class="na iu">import plotly.express as px</strong></span><span id="2ae8" class="ne lw it na b gy nx ng l nh ni"><strong class="na iu">px.bar(data_frame=df, x='country', y='pop')</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/c8a95cbde39739404dfc16d659cbaf19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*tsLSuFtCuE8MS4wVmgoIuQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(GIF由作者提供)，使用Plotly Express的条形图</p></figure><p id="8e35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Plotly Express提供了30多种功能来创建不同类型的绘图和图形。阅读库<a class="ae ky" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank">文档</a>以更好地理解代码用法。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="7882" class="lv lw it bd lx ly og ma mb mc oh me mf jz oi ka mh kc oj kd mj kf ok kg ml mm bi translated">结论:</h1><p id="3f38" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Plotly Express是一个方便的工具，可以生成交互式的图和图形，使EDA管道更加直观。用户可以将鼠标悬停在图形上与图形进行交互，并且可以在使用笔记本进行演示时提高效率。</p><p id="8084" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，与seaborn或matplotlib相比，Plotly Express的绘图不太可定制。因此，seaborn或matplotlib可以优先用于生成可定制的图，而Plotly Express可以用于从图中生成快速洞察。</p><h1 id="920a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">参考资料:</h1><p id="c8c9" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">[1] Plotly Express文档:【https://plotly.com/python/plotly-express/ T4】</p><blockquote class="ol"><p id="f021" class="om on it bd oo op oq or os ot ou lu dk translated">感谢您的阅读</p></blockquote></div></div>    
</body>
</html>