<html>
<head>
<title>Evaluate OCR Output Quality with Character Error Rate (CER) and Word Error Rate (WER)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用字符错误率(CER)和单词错误率(WER)评估OCR输出质量</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/evaluating-ocr-output-quality-with-character-error-rate-cer-and-word-error-rate-wer-853175297510?source=collection_archive---------4-----------------------#2021-06-24">https://towardsdatascience.com/evaluating-ocr-output-quality-with-character-error-rate-cer-and-word-error-rate-wer-853175297510?source=collection_archive---------4-----------------------#2021-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0495" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">测量光学字符识别输出质量的关键概念、示例和Python实现</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ae493385747b3f2e859db03c55dd46fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7tRStO6H5TCwu-rA"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">布雷特·乔丹在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="a187" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">内容</strong></h2><blockquote class="lv lw lx"><p id="4b4c" class="ly lz ma mb b mc md ju me mf mg jx mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated"><em class="it">(</em><strong class="mb iu"><em class="it">1</em></strong><em class="it">)</em><a class="ae ky" href="#4fa2" rel="noopener ugc nofollow"><em class="it">评估指标的重要性</em></a><strong class="mb iu"><em class="it"><br/></em></strong><em class="it">(</em><strong class="mb iu"><em class="it">2</em></strong><em class="it">)</em><a class="ae ky" href="#1db9" rel="noopener ugc nofollow"><em class="it">错误率和Levenshtein距离</em></a><strong class="mb iu"><em class="it"><br/></em></strong><em class="it"> </em><strong class="mb iu"><em class="it"><br/></em></strong><em class="it">(</em><strong class="mb iu"><em class="it">4</em></strong><em class="it">)</em><a class="ae ky" href="#f820" rel="noopener ugc nofollow"><em class="it">单词错误率(</em><strong class="mb iu"><em class="it"/></strong><em class="it">)</em></a><strong class="mb iu"><em class="it"><br/></em></strong></p></blockquote></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="4fa2" class="nc la it bd lb nd ne nf le ng nh ni lh jz nj ka ll kc nk kd lp kf nl kg lt nm bi translated">评估指标的重要性</h1><p id="bc52" class="pw-post-body-paragraph ly lz it mb b mc nn ju me mf no jx mh li np mk ml lm nq mo mp lq nr ms mt mu im bi translated">成功地从您的OCR模型生成输出的伟大工作！您已经完成了标记和预处理图像、设置和运行神经网络以及对输出应用后处理的艰苦工作。</p><p id="1d71" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">现在的最后一步是评估你的模型表现如何。即使它给出了很高的置信度，我们也需要用客观的标准来衡量性能。由于您不能改进您没有度量的东西，这些度量标准是OCR模型迭代改进的重要基准。</p><p id="3bd4" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">在本文中，我们将研究用于评估OCR输出的两个指标，即<strong class="mb iu">字符错误率(CER) </strong>和<strong class="mb iu">单词错误率(WER) </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/26f42056bb5ec22e5e695e812da0e8da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*06rwoojaPo_6yEoU"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">弗勒在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="1db9" class="nc la it bd lb nd ne nf le ng nh ni lh jz nj ka ll kc nk kd lp kf nl kg lt nm bi translated">错误率和Levenshtein距离</h1><p id="1f47" class="pw-post-body-paragraph ly lz it mb b mc nn ju me mf no jx mh li np mk ml lm nq mo mp lq nr ms mt mu im bi translated">评估预测输出的通常方法是使用<em class="ma">准确度</em>度量，其中我们表示匹配(<strong class="mb iu"> 1 </strong>)或不匹配(<strong class="mb iu"> 0 </strong>)。但是，这并没有提供足够的粒度来有效地评估OCR性能。</p><p id="6523" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">我们应该使用<strong class="mb iu">错误率</strong>来确定<strong class="mb iu"> OCR转录的</strong>文本和<strong class="mb iu">基础事实</strong>文本(即<em class="ma">参考</em>文本被手动标记)彼此不同的程度。</p><p id="3a4d" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">一个常见的直觉是查看有多少字符被拼错。虽然这是正确的，但实际的错误率计算要比这复杂得多。这是因为OCR输出可能与基本事实文本的长度不同。</p><p id="861d" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">此外，还有三种不同类型的误差需要考虑:</p><ul class=""><li id="a7fd" class="ns nt it mb b mc md mf mg li nu lm nv lq nw mu nx ny nz oa bi translated"><strong class="mb iu">替换</strong> <strong class="mb iu">错误</strong>:拼错的字符/单词</li><li id="4414" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated"><strong class="mb iu">删除</strong> <strong class="mb iu">错误</strong>:丢失或遗漏字符/单词</li><li id="de24" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated"><strong class="mb iu">插入</strong> <strong class="mb iu">错误</strong>:包含不正确的字符/单词</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/3bc815556d18f99b15b6ddc16c0dde25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MUGLdWm3zMYK7dLmyo3pqA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">三个基本错误的例子<strong class="bd oh"> | </strong>图片作者</p></figure><p id="bb20" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">现在的问题是，你如何<strong class="mb iu">测量两个文本序列之间的错误程度</strong>？这就是Levenshtein距离出现的原因。</p><p id="9bd1" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated"><strong class="mb iu"> Levenshtein距离</strong>是测量两个字符串序列之间差异的距离度量。它是将一个单词(或句子)变成另一个单词(或句子)所需的最少<strong class="mb iu"> <em class="ma">单个字符(或单词)编辑</em></strong>(即插入、删除或替换)次数。</p><p id="2709" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">例如，“<em class="ma">连指手套</em>和“<em class="ma">配件</em>之间的Levenshtein距离是<strong class="mb iu"> 3 </strong>，因为将一个转换成另一个至少需要3次编辑。</p><ol class=""><li id="58a1" class="ns nt it mb b mc md mf mg li nu lm nv lq nw mu oi ny nz oa bi translated"><strong class="mb iu"><em class="ma">m</em></strong>itten→<strong class="mb iu"><em class="ma">f</em></strong>itten(用<strong class="mb iu"> f </strong>代替<strong class="mb iu"> m </strong></li><li id="71d2" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu oi ny nz oa bi translated">fitt<strong class="mb iu"><em class="ma">e</em></strong>n→fitt<strong class="mb iu"><em class="ma">I</em></strong>n(用<strong class="mb iu"> i </strong>代替<strong class="mb iu"> e </strong>)</li><li id="d1d5" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu oi ny nz oa bi translated">fittin→fittin<strong class="mb iu">gg</strong>(在末尾插入<strong class="mb iu"> g </strong></li></ol><p id="3f56" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">两个文本序列的差异越大，所需的编辑次数就越多，因此Levenshtein距离就越大。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="5aec" class="nc la it bd lb nd ne nf le ng nh ni lh jz nj ka ll kc nk kd lp kf nl kg lt nm bi translated">字符错误率(CER)</h1><h2 id="a062" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">(一)方程式</h2><p id="4afb" class="pw-post-body-paragraph ly lz it mb b mc nn ju me mf no jx mh li np mk ml lm nq mo mp lq nr ms mt mu im bi translated">CER计算基于<a class="ae ky" href="#9bd1" rel="noopener ugc nofollow"> Levenshtein距离</a>的概念，其中我们计算了<strong class="mb iu">将基本事实文本(又名<em class="ma">参考文本</em>)转换为OCR输出</strong>所需的<strong class="mb iu">最小</strong>字符级操作数。</p><p id="ca03" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">它用以下公式表示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/83e364ade738c3a3621c98baf7ca1ffc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KsWFDKnLI7mudmhbzGjc4w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">字符错误率(CER)公式</p></figure><p id="4bd8" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated"><em class="ma">其中:</em></p><ul class=""><li id="0cc7" class="ns nt it mb b mc md mf mg li nu lm nv lq nw mu nx ny nz oa bi translated"><strong class="mb iu">S</strong>S<strong class="mb iu">=</strong>S<strong class="mb iu">S</strong>替换的数量</li><li id="c5f4" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated"><strong class="mb iu">D</strong>T18】=D<strong class="mb iu">D</strong>删除数</li><li id="ccf6" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated"><strong class="mb iu"> I = </strong>第<strong class="mb iu">I</strong>n次</li><li id="8c6b" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated"><strong class="mb iu">N</strong><strong class="mb iu">=</strong><strong class="mb iu">N</strong>参考文本中的字符数(又名地面真相)</li></ul><p id="1825" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated"><em class="ma">加成提示:分母N也可以用以下公式计算:<br/></em><strong class="mb iu"><em class="ma">N</em><em class="ma">=</em><strong class="mb iu"><em class="ma">S</em></strong><em class="ma">+</em><strong class="mb iu"><em class="ma">D</em></strong><em class="ma">+</em><strong class="mb iu"><em class="ma">C</em></strong><em class="ma">(其中</em><strong class="mb iu"><em class="ma">C</em></strong></strong></p><p id="f632" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">该等式的输出代表参考文本中在OCR输出中被<strong class="mb iu">错误</strong>预测的字符的<strong class="mb iu">百分比</strong>。CER值越低(<strong class="mb iu"> 0 </strong>为满分)，OCR模型的性能越好。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="cf1f" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">(二)举例说明</h2><p id="6408" class="pw-post-body-paragraph ly lz it mb b mc nn ju me mf no jx mh li np mk ml lm nq mo mp lq nr ms mt mu im bi translated">让我们看一个例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/4d8486879d2fc32dba72ab9c0f4b8c90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8_S_nAXxNmjlH-o4W2Ye8g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">手写ID样本|来源:<a class="ae ky" href="https://commons.wikimedia.org/wiki/File:Test-OCR-Handwritten.jpg" rel="noopener ugc nofollow" target="_blank">https://commons . wikimedia . org/wiki/File:Test-OCR-handled . jpg</a></p></figure><ul class=""><li id="b698" class="ns nt it mb b mc md mf mg li nu lm nv lq nw mu nx ny nz oa bi translated"><strong class="mb iu"> <em class="ma">地面真相</em> </strong> <em class="ma">参考正文</em> : <strong class="mb iu"> 809475127 </strong></li><li id="0d12" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated"><strong class="mb iu"> <em class="ma"> OCR </em> </strong> <em class="ma">转录输出文本</em> : <strong class="mb iu"> 80g475Z7 </strong></li></ul><p id="df79" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">有几个错误需要编辑<strong class="mb iu">将OCR输出转换成真实情况</strong>:</p><ol class=""><li id="4227" class="ns nt it mb b mc md mf mg li nu lm nv lq nw mu oi ny nz oa bi translated"><strong class="mb iu"> <em class="ma"> g </em> </strong>代替<strong class="mb iu"> <em class="ma"> 9 </em> </strong>(参考文本字符3)</li><li id="5bda" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu oi ny nz oa bi translated">缺少<strong class="mb iu"> <em class="ma"> 1 </em> </strong>(在参考文本字符7处)</li><li id="5fda" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu oi ny nz oa bi translated"><strong class="mb iu"> <em class="ma"> Z </em> </strong>而不是<strong class="mb iu"> <em class="ma"> 2 </em> </strong>(参考文本字符8)</li></ol><p id="9659" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">这样，下面是输入到等式中的值:</p><ul class=""><li id="ce45" class="ns nt it mb b mc md mf mg li nu lm nv lq nw mu nx ny nz oa bi translated">替换数量<strong class="mb iu"/>=<strong class="mb iu">2</strong></li><li id="e123" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated">删除数(<strong class="mb iu"> D </strong> ) = <strong class="mb iu"> 1 </strong></li><li id="9fd9" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated">插入次数(<strong class="mb iu"> I </strong> ) = <strong class="mb iu"> 0 </strong></li><li id="5504" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated">参考文本中的字符数(<strong class="mb iu"> N </strong> ) = <strong class="mb iu"> 9 </strong></li></ul><p id="305a" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">基于以上，我们得到(2+1+0)<strong class="mb iu">/</strong>9 =<strong class="mb iu">0.3333</strong>。当转换为百分比值时，CER变为<strong class="mb iu"> 33.33% </strong>。这意味着序列中的每个第三个<em class="ma">字符都被错误转录。</em></p><p id="a489" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">我们对所有成对的转录输出和相应的基础事实重复该计算，并且<strong class="mb iu">取这些值的平均值</strong>以获得总的CER百分比。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="08fe" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">㈢CER正常化</h2><p id="4e59" class="pw-post-body-paragraph ly lz it mb b mc nn ju me mf no jx mh li np mk ml lm nq mo mp lq nr ms mt mu im bi translated">需要注意的一点是，CER值可以超过100%，尤其是有很多插入的时候。例如，地面实况'<strong class="mb iu"> ABC' </strong>和更长的OCR输出'<strong class="mb iu"> ABC12345 </strong>'的CER是<strong class="mb iu"> 166.67% </strong>。</p><p id="e92e" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">让我感到有点奇怪的是，误差值可以超过100%，所以我四处看了看，设法找到了Rafael C. Carrasco 写的一篇<a class="ae ky" href="https://sites.google.com/site/textdigitisation/qualitymeasures/computingerrorrates" rel="noopener ugc nofollow" target="_blank">文章，讨论了如何应用<strong class="mb iu">归一化</strong>:</a></p><blockquote class="lv lw lx"><p id="f2c7" class="ly lz ma mb b mc md ju me mf mg jx mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated">有时错误数除以编辑操作数(<code class="fe ol om on oo b">i + s + d</code>)和正确符号数<code class="fe ol om on oo b">c</code>之和，总是大于分子。</p></blockquote><p id="4a86" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">上述归一化技术使CER值始终落在0–100%的范围内。它可以用这个公式来表示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/7999fc241aa9d31653685764b27c2a13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_v2FsdtN7mDqihO1rRr4Sg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">归一化CER公式</p></figure><p id="545e" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated"><em class="ma">其中</em> <strong class="mb iu"> C </strong> =正确的<strong class="mb iu">字符数</strong></p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="7fce" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">(四)什么是好的CER值？</h2><p id="8e4d" class="pw-post-body-paragraph ly lz it mb b mc nn ju me mf no jx mh li np mk ml lm nq mo mp lq nr ms mt mu im bi translated">没有单一的基准来定义一个好的CER值，因为它高度依赖于用例。不同的场景和复杂性(例如，印刷文本与手写文本、内容类型等。)会导致不同的OCR性能。尽管如此，还是有几个来源可供我们参考。</p><p id="ac1c" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated"><a class="ae ky" href="http://www.nla.gov.au/ndp/project_details/documents/ANDP_HowGoodCanitGet.pdf" rel="noopener ugc nofollow" target="_blank">2009年发表的一篇关于审查大规模澳大利亚报纸数字化项目中OCR准确性的文章提出了这些基准(针对<strong class="mb iu">印刷文本</strong>):</a></p><ul class=""><li id="2e9e" class="ns nt it mb b mc md mf mg li nu lm nv lq nw mu nx ny nz oa bi translated"><strong class="mb iu">良好的</strong> OCR准确率:CER <strong class="mb iu"> 1‐2% </strong>(即98–99%的准确率)</li><li id="0d35" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated"><strong class="mb iu">平均</strong> OCR准确率:CER <strong class="mb iu"> 2-10% </strong></li><li id="a1b7" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated"><strong class="mb iu">差</strong> OCR准确率:CER<strong class="mb iu">T46】10%</strong>(即准确率低于90%)</li></ul><p id="338b" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">对于涉及<strong class="mb iu">手写</strong>文本且具有高度<strong class="mb iu">异构</strong>和<strong class="mb iu">词汇外</strong>内容的复杂案例(如申请表)，高达约<a class="ae ky" href="https://arxiv.org/pdf/1909.10120.pdf" rel="noopener ugc nofollow" target="_blank"> 20% </a>的CER值可视为令人满意。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/48c5eb80a5a20a60a6c3425b50df7c33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XkVGTjJ0GDsqmm9k"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@thoughtcatalog?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">思想目录</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="f820" class="nc la it bd lb nd ne nf le ng nh ni lh jz nj ka ll kc nk kd lp kf nl kg lt nm bi translated">单词错误率(WER)</h1><p id="ef15" class="pw-post-body-paragraph ly lz it mb b mc nn ju me mf no jx mh li np mk ml lm nq mo mp lq nr ms mt mu im bi translated">如果你的项目涉及特殊序列的转录(例如，社会安全号码，电话号码等。)，那么CER的使用将是相关的。</p><p id="f6df" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">另一方面，如果单词错误率涉及有意义的单词的段落和句子的转录(例如，书页、报纸)，则单词错误率可能更适用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/2a80b248999ac91361725ab171184241.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RRzlijzJJTHSylEzSueojQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">单词错误率(WER)公式</p></figure><p id="d3b0" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">WER的模式与CER相同，但WER的运作方式却不同。它表示将一个<strong class="mb iu">句子</strong>转换成另一个句子所需的<strong class="mb iu">单词</strong>替换、删除或插入的数量。</p><p id="1c3d" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">WER通常与CER有很好的相关性(假设误差率不是非常高)，尽管绝对WER值预计会高于CER值。</p><p id="87a4" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">例如:</p><ul class=""><li id="3ed5" class="ns nt it mb b mc md mf mg li nu lm nv lq nw mu nx ny nz oa bi translated">地面真相:<strong class="mb iu">‘我叫肯尼斯’</strong></li><li id="a06e" class="ns nt it mb b mc ob mf oc li od lm oe lq of mu nx ny nz oa bi translated">OCR输出:<strong class="mb iu"> 'myy nime iz kenneth' </strong></li></ul><p id="1d25" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">由上可知，<strong class="mb iu"> CER </strong>为<strong class="mb iu"> 16.67%，</strong>而<strong class="mb iu"> WER </strong>为<strong class="mb iu"> 75% </strong>。75%的WER值很容易理解，因为句子中4个单词中有3个被错误转录。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="0d42" class="nc la it bd lb nd ne nf le ng nh ni lh jz nj ka ll kc nk kd lp kf nl kg lt nm bi translated">Python示例(使用TesseractOCR和fastwer)</h1><p id="5c49" class="pw-post-body-paragraph ly lz it mb b mc nn ju me mf no jx mh li np mk ml lm nq mo mp lq nr ms mt mu im bi translated">我们已经介绍了足够多的理论，所以让我们来看一个实际的Python代码实现。</p><p id="1ced" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated"><a class="ae ky" href="https://github.com/kennethleungty/OCR-Metrics-CER-WER/blob/main/OCR_Metrics_CER_WER_Colab.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="mb iu">点击此处查看完整演示Jupyter笔记本</strong> </a></p><p id="ed9e" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">在演示笔记本中，我运行开源的<a class="ae ky" href="https://github.com/tesseract-ocr/tesseract" rel="noopener ugc nofollow" target="_blank"><strong class="mb iu">tesselectr</strong></a>模型，从几个手写<em class="ma">文本的样本图像中提取输出。然后，我利用<strong class="mb iu"> fastwer </strong>包，从转录的输出和地面真相文本(我手动标记)中计算CER和wer。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/60cba5cbe377463aaecfd0fdc7758232.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zl_nIk8q6uLKKg51Jp3L9A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">示例Python实现的输出|作者提供的图片</p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="ae91" class="nc la it bd lb nd ne nf le ng nh ni lh jz nj ka ll kc nk kd lp kf nl kg lt nm bi translated"><strong class="ak">总结一下</strong></h1><p id="3fd5" class="pw-post-body-paragraph ly lz it mb b mc nn ju me mf no jx mh li np mk ml lm nq mo mp lq nr ms mt mu im bi translated">在本文中，我们介绍了CER和WER的概念和例子，以及如何在实践中应用它们的细节。</p><p id="8c11" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated">虽然CER和WER很方便，但他们不是OCR模型的防弹性能指标。这是因为原始文档的质量和状况(例如，手写清晰度、图像DPI等。)的作用与OCR模型本身同等重要(如果不是更重要的话)。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><p id="de79" class="pw-post-body-paragraph ly lz it mb b mc md ju me mf mg jx mh li mj mk ml lm mn mo mp lq mr ms mt mu im bi translated"><strong class="mb iu">欢迎您加入我的数据科学学习之旅！</strong>关注此<a class="ae ky" href="https://kennethleungty.medium.com/" rel="noopener">媒体页面</a>以了解更多数据科学内容，或者在<a class="ae ky" href="https://www.linkedin.com/in/kennethleungty/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系我。享受评估您的OCR模型的乐趣！</p><div class="ot ou gp gr ov ow"><a rel="noopener follow" target="_blank" href="/russian-car-plate-detection-with-opencv-and-tesseractocr-dce3d3f9ff5c"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd iu gy z fp pb fr fs pc fu fw is bi translated">使用OpenCV和TesseractOCR进行俄罗斯车牌检测</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">检测，识别和提取汽车牌照号码与计算机视觉的力量(一步一步…</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">towardsdatascience.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk ks ow"/></div></div></a></div><div class="ot ou gp gr ov ow"><a rel="noopener follow" target="_blank" href="/the-dying-relu-problem-clearly-explained-42d0c54e0d24"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd iu gy z fp pb fr fs pc fu fw is bi translated">垂死的雷鲁问题，解释得很清楚</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">通过理解ReLU的缺点来保持你的神经网络的活力</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">towardsdatascience.com</p></div></div><div class="pf l"><div class="pl l ph pi pj pf pk ks ow"/></div></div></a></div></div></div>    
</body>
</html>