<html>
<head>
<title>Language Invariant Properties in Natural Language Processing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自然语言处理中的语言不变性</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/language-invariant-properties-in-natural-language-processing-561e04b5fa0d?source=collection_archive---------15-----------------------#2021-10-13">https://towardsdatascience.com/language-invariant-properties-in-natural-language-processing-561e04b5fa0d?source=collection_archive---------15-----------------------#2021-10-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="2462" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/thoughts-and-theory" rel="noopener" target="_blank">思想和理论</a></h2><div class=""/><div class=""><h2 id="8a82" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">将消息转换(例如翻译)为另一种语言时，文本属性会保留吗？</h2></div><p id="df68" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">当你转换一个文本(例如，翻译，解释，总结)时，你希望你的信息的一般属性在输入和输出之间保持不变。例如，你希望你的信息即使被翻译成另一种语言也能让人感到愉快。</p><p id="5503" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果不这样做，就会出现问题。例如，一名巴勒斯坦男子<a class="ae lk" href="https://www.theguardian.com/technology/2017/oct/24/facebook-palestine-israel-translates-good-morning-attack-them-arrest" rel="noopener ugc nofollow" target="_blank">被逮捕</a>，因为他在脸书上的帖子被错误地从“早上好！”去“攻击他们”。</p><p id="298f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这篇博文描述了我们的<a class="ae lk" href="https://arxiv.org/abs/2109.13037" rel="noopener ugc nofollow" target="_blank">新论文</a>的主题:</p><p id="5100" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">费德里科·比安奇，德博拉·诺扎，德克·霍维(2022)。<strong class="kq ja">自然语言处理中的语言不变性。</strong>NLP中高效标杆管理的第一次研讨会记录。</p><p id="5dd2" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">语言不变属性(简称LIPs)是不应受转换影响的语言属性。作为另一个例子，解释文本应该产生具有相同情感效价的文本:我们不想让一个<strong class="kq ja">快乐的</strong>信息<strong class="kq ja">悲伤的</strong>。因此，在开发文本转换算法时，我们需要考虑和控制这个属性。<br/>我们引入了不应受任何转换影响的属性的概念，以及可用于评估该问题的<a class="ae lk" href="https://github.com/MilaNLProc/language-invariant-properties" rel="noopener ugc nofollow" target="_blank"> python包</a>。</p><h1 id="be5d" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">语言不变属性</h1><h2 id="bed9" class="md lm iq bd ln me mf dn lr mg mh dp lv kx mi mj lx lb mk ml lz lf mm mn mb iw bi translated">翻译让你听起来更老，更男性化</h2><p id="0a2e" class="pw-post-body-paragraph ko kp iq kq b kr mo ka kt ku mp kd kw kx mq kz la lb mr ld le lf ms lh li lj ij bi translated">让我们从我们最近的一篇论文中的一个实际例子开始:<a class="ae lk" href="https://aclanthology.org/2020.acl-main.154/" rel="noopener ugc nofollow" target="_blank">“你听起来就像你的父亲”商业机器翻译系统包括文体偏见。</a> (ACL 2020)。</p><p id="b96d" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们发现，在翻译(例如，从德语到英语)后，大量消息被预测为男性(比我们在原始数据中看到的更多)。我们发现年龄也有类似的影响:信息听起来更老。</p><figure class="mu mv mw mx gt my gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi mt"><img src="../Images/32a787797114a5a74314002ff941448b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M9WYxL2RMMnUSxNQ_hmFJA.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">翻译不应该改变说话者的人口统计。翻译系统1让你听起来更老。图片作者。</p></figure><h2 id="6b95" class="md lm iq bd ln me mf dn lr mg mh dp lv kx mi mj lx lb mk ml lz lf mm mn mb iw bi translated">语言不变属性</h2><p id="2120" class="pw-post-body-paragraph ko kp iq kq b kr mo ka kt ku mp kd kw kx mq kz la lb mr ld le lf ms lh li lj ij bi translated">说话者人口统计数据<strong class="kq ja">不应该</strong>受到翻译的影响。那么现在我们来谈谈我们<a class="ae lk" href="https://arxiv.org/abs/2109.13037" rel="noopener ugc nofollow" target="_blank">的新论文</a>:《自然语言中的语言不变性》。</p><p id="25c1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">上面的讨论使我们认识到，有必要更好地定义那些改变文本表面形式的转换方法(例如，转述、摘要)不应该影响什么。</p><p id="2a60" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们称那些在转换后不应该改变的属性为语言不变属性(<strong class="kq ja"> LIPs </strong>)(如前所述，这可以是翻译、释义或摘要)。</p><p id="c759" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">可能有许多嘴唇，但重要的是<strong class="kq ja">意味着</strong>和<strong class="kq ja">说话者人口统计。转变不应该影响信息，如果你26岁，你不希望你的信息听起来像是87岁的人写的。</strong></p><h2 id="db90" class="md lm iq bd ln me mf dn lr mg mh dp lv kx mi mj lx lb mk ml lz lf mm mn mb iw bi translated"><strong class="ak">更正式的定义</strong></h2><p id="39fb" class="pw-post-body-paragraph ko kp iq kq b kr mo ka kt ku mp kd kw kx mq kz la lb mr ld le lf ms lh li lj ij bi translated">假设存在所有可能说出的句子的集合。让我们将<strong class="kq ja"> A </strong>和<strong class="kq ja"> B </strong>定义为<strong class="kq ja"> S </strong>的子集。出于我们的目的，这两个集合可以使用相同或不同的语言。现在让我们介绍下面的映射函数:</p><figure class="mu mv mw mx gt my gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/a96a8d0891edc40c38f754e2f1ae6bd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*3e7H0MS8SIpkP-Im4U75Fg.png"/></div></figure><p id="4976" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">也就是说，我们可以认为<em class="nk"> t </em>是将文本A的表面形式转换成B的转换(如果转换是翻译，该函数会将一种语言的句子翻译成另一种语言)。</p><p id="57ba" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">一个<strong class="kq ja">语言属性</strong> <em class="nk"> p </em>是一个将S的元素映射到一组P属性值的函数。p是不变的当且仅当</p><figure class="mu mv mw mx gt my gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/6eb2ca1871f4601481c55bc4c294f7d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*E4Jg9dmCKpftG7E_YzWNQg.png"/></div></figure><p id="0100" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这意味着对a应用函数<em class="nk"> t </em>不会改变属性<em class="nk"> p. </em>的值</p><h2 id="3e9e" class="md lm iq bd ln me mf dn lr mg mh dp lv kx mi mj lx lb mk ml lz lf mm mn mb iw bi translated">评估嘴唇</h2><p id="36c5" class="pw-post-body-paragraph ko kp iq kq b kr mo ka kt ku mp kd kw kx mq kz la lb mr ld le lf ms lh li lj ij bi translated">我们如何评价这一点？嗯，这比你想象的要简单:</p><p id="1769" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">让我们再从上面的例子开始。我们从一个数据集开始，用户用英语、荷兰语、意大利语、法语、德语用男女二元性别和年龄自我认同。我们训练了特定语言的年龄和性别分类器，这意味着对于每种语言的每篇文本，我们现在可以预测年龄和性别。</p><p id="caa1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">然后，我们可以使用一堆商业机器翻译工具来翻译我们数据集的测试部分(姑且称之为<strong class="kq ja"> O </strong>)(例如，我们将测试文本从荷兰语翻译成英语)。特别是我们用了谷歌翻译，微软翻译和DeepL。</p><p id="5ca1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在我们已经翻译了数据，我们对原始的<strong class="kq ja"> O </strong>数据和翻译的数据集使用我们的分类器(荷兰语和英语)。因此，我们获得了对原始数据<strong class="kq ja">P0</strong>和翻译数据<strong class="kq ja"> PT </strong>的预测。<br/>研究这两个预测集(<strong class="kq ja"> PO </strong>和<strong class="kq ja"> PT </strong>)与原始数据集(<strong class="kq ja"> O </strong>)之间的差异，就可以了解年龄和性别在转换后是否被保留。如果<strong class="kq ja"> PO </strong>具有类似于<strong class="kq ja"> O </strong>的分布，而<strong class="kq ja"> PT </strong>没有，我们可能会发现一些偏差。</p><p id="7efc" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">上述设置可用于评估许多不同的嘴唇。只要有足够的数据来训练特定于语言的分类器，就可以使用内部工具来应用转换并检查分布之间是否有任何显著的差异。</p><h1 id="403b" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">嘴唇框架</h1><p id="1474" class="pw-post-body-paragraph ko kp iq kq b kr mo ka kt ku mp kd kw kx mq kz la lb mr ld le lf ms lh li lj ij bi translated">我们已经建立了一个框架来测试和验证嘴唇是否会受到变形的影响。可以在<a class="ae lk" href="https://github.com/MilaNLProc/language-invariant-properties" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p><figure class="mu mv mw mx gt my gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nm"><img src="../Images/223afbe2e124c50f879d1d04d0d4bbd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yluo-wphOJ74CHT4uCpc_w.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">我们框架的标志。</p></figure><p id="e35a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">API，到目前为止，仍然有点不稳定，但是我们正在努力使它变得更加稳定。但是一般的前端API应该不会有太大的变化。</p><p id="09fd" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们试图让它尽可能容易使用。只要您有自己的转换方法(例如，翻译模型)，您就可以很容易地从您的模型中获得分数(根据KL散度和显著性效应)。</p><figure class="mu mv mw mx gt my gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nn"><img src="../Images/23cb643368c7cba7909d1620ea37b909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eze2tYBoOsJiCMuZP12YMg.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">测试性别唇所需的代码。图片来自Carbon，作者制作。</p></figure><p id="3e00" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">该框架还为您提供了原始的预测分布图。这是我们在一个数据集上运行的一个实验，这个数据集有自我注释的性别值。</p><p id="6eb1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">o是原始测试数据，PO是分类器对原始数据的预测。PT是分类器对转换数据的预测。我们可以看到，在转换之后，许多消息被识别为来自男性用户，这表明转换在分布中引入了偏差。</p><figure class="mu mv mw mx gt my gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi no"><img src="../Images/5a4419a7c9f98c14c1183f4671037a7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GSjN8Ok8BYtInWlZXlMqMA.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">尝试一种解释算法。o是原始测试数据，PO是分类器对原始数据的预测。PT是分类器对转换数据的预测。我们可以看到，在转换之后，许多消息被识别为来自男性用户，这表明转换在分布中引入了偏差。图片作者。</p></figure><h1 id="187f" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">限制</h1><p id="0034" class="pw-post-body-paragraph ko kp iq kq b kr mo ka kt ku mp kd kw kx mq kz la lb mr ld le lf ms lh li lj ij bi translated">LIPs是一个有趣的理论概念，但是它们可能并不总是推广到任务。例如，从西班牙语翻译到日语必须考虑两个国家的文化差异，这可能无法简化为一套嘴唇。</p><p id="2448" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们实现的工具有一些限制。我们不能完全消除分类器中习得的偏见。我们总是假设当有两个分类器时，这两个分类器在两种语言上都可靠地运行良好，以比较输出。这同样适用于释义:我们假设LIP分类器在原始文本和转换后的文本上表现得一样好。</p><h1 id="9140" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">结论</h1><p id="d2d7" class="pw-post-body-paragraph ko kp iq kq b kr mo ka kt ku mp kd kw kx mq kz la lb mr ld le lf ms lh li lj ij bi translated">我们相信LIPs有助于更好地理解转化方法的工作原理。在这个领域中，我们已经达到了这样一个点，即这些方法足以可靠地转换一般信息(例如，Google Translate对于许多用例来说已经足够好了)；然而，在转换过程中不保持嘴唇固定会产生误解。</p><p id="0464" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">感谢您阅读我们的作品！你可以在<a class="ae lk" href="https://arxiv.org/abs/2109.13037" rel="noopener ugc nofollow" target="_blank">论文</a>中找到更多关于这个的信息！如果您有任何问题，请随时联系我们！请随意在<a class="ae lk" href="https://twitter.com/federicobianchy" rel="noopener ugc nofollow" target="_blank">推特</a>上联系。</p><h1 id="d523" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">承认</h1><p id="67d8" class="pw-post-body-paragraph ko kp iq kq b kr mo ka kt ku mp kd kw kx mq kz la lb mr ld le lf ms lh li lj ij bi translated">感谢德克和黛博拉对此的编辑和评论！</p></div></div>    
</body>
</html>