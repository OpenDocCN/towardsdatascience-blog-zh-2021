<html>
<head>
<title>Airflow Vs. Prefect — Workflow management for Data projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">气流与完美—数据项目的工作流管理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/airflow-vs-prefect-workflow-management-for-data-projects-5d1a0c80f2e3?source=collection_archive---------3-----------------------#2021-10-01">https://towardsdatascience.com/airflow-vs-prefect-workflow-management-for-data-projects-5d1a0c80f2e3?source=collection_archive---------3-----------------------#2021-10-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><h1 id="8887" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">介绍</h1><p id="21a7" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我非常喜欢<a class="ae lm" href="https://airflow.apache.org/" rel="noopener ugc nofollow" target="_blank"> Airflow </a>及其在工作流管理工具上的优势。然而，我最近开始在我的工作流程中使用<a class="ae lm" href="https://cloud.prefect.io/" rel="noopener ugc nofollow" target="_blank">提督</a>。两者都是使用python构建的。在本文中，我将讨论这两者之间的区别。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/3e530177f2e58f780442528a0154b6d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0vsSPgXpi-g6wyBJ"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">照片由<a class="ae lm" href="https://unsplash.com/@jdent?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">杰森·登特</a>在<a class="ae lm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><h1 id="71c1" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">为什么选择工作流管理？</h1><p id="fc81" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">工作流是许多生产相关应用程序不可或缺的一部分。它包括MLOps、自动化、批处理、投资组合跟踪等。在数据世界中，一个系统需要按顺序处理数据并将数据发送给另一个系统/任务。</p><h1 id="fa35" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">气流</h1><p id="eda2" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">Airflow是apache孵化的项目，已经存在了相当长的时间。随着时间的推移，气流比最初的用例更加灵活。Airflow还可以连接从AWS Lambda到GCP数据流的云服务。在大多数情况下，大到中等规模的组织使用Airflow来处理大量的数据，并在其上执行一些数据操作。它也可以在集群模式下运行。AWS和GCP提供了气流的管理实例，以便与其他云服务一起使用。</p><ol class=""><li id="89b4" class="md me it kq b kr mf kv mg kz mh ld mi lh mj ll mk ml mm mn bi translated"><a class="ae lm" href="https://aws.amazon.com/managed-workflows-for-apache-airflow/" rel="noopener ugc nofollow" target="_blank"> AWS管理的气流工作流程</a></li><li id="ef2a" class="md me it kq b kr mo kv mp kz mq ld mr lh ms ll mk ml mm mn bi translated"><a class="ae lm" href="https://cloud.google.com/composer/docs#docs" rel="noopener ugc nofollow" target="_blank"> GCP云作曲</a></li></ol><p id="071d" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">阅读文章下方关于气流的更多信息。它将显示设置和创建</p><div class="mw mx gp gr my mz"><a rel="noopener follow" target="_blank" href="/under-appreciated-workflow-tool-airflow-a078a3c71a67"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd iu gy z fp ne fr fs nf fu fw is bi translated">不受重视的工作流程工具——气流</h2><div class="ng l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">towardsdatascience.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm lx mz"/></div></div></a></div><h1 id="06d6" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">长官</h1><p id="a5e3" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><a class="ae lm" href="https://www.prefect.io/" rel="noopener ugc nofollow" target="_blank">提督</a>，市场新进入者，相比气流。它是一个开源项目；然而，有一个付费的云版本来跟踪你的工作流程。提督仍然落后于气流带来的所有铃声和哨声。然而，它完成了工作，并且有许多集成。</p><p id="a5a0" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">Prefect还支持云，这意味着您可以在任何服务器上运行执行工作流，并监控/管理它<a class="ae lm" href="https://cloud.prefect.io" rel="noopener ugc nofollow" target="_blank">https://cloud . prefect . io</a></p><h1 id="bf83" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">比较</h1><p id="897a" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在下面的部分，我们将看到气流和提督的比较</p><h1 id="5326" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">设置</h1><p id="d1c9" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这两个工具都可以使用pip、docker等安装。气流增加了引擎盖下的一些不同的包；也可能会有一些冲突。为了让Airflow运行，您需要一个调度程序和web服务器。AWS和GCP提供基于气流的托管服务。</p><p id="43db" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">Prefect被整齐地组织成不同的附加组件，并与各种其他组件集成。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/a12cf7114816aa1da8989955db2336a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*_1NnWlYeqpTaLwxHuRDiEg.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">不同的附加组件— <a class="ae lm" href="https://docs.prefect.io/orchestration/getting-started/install.html#basic-installation" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="59ff" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">要起来跑，提督可以快速启动。提督只需要一个代理人来运行流程。</p><h1 id="6904" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">编码工作流</h1><p id="c253" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">对任何程序员来说，编写工作流代码都是最重要的决定因素。我们经常为了学习而想学习新的语法和新的东西。</p><p id="23a7" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">气流有一个学习曲线。你需要理解DAG和其中不同的操作符。</p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="no np l"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">示例气流Dag —来源作者</p></figure><p id="7fd5" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">Prefect就像初级python函数一样简单。我们需要用流把它包在<strong class="kq iu">下。</strong></p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="no np l"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">完美流示例—源代码作者</p></figure><p id="89d9" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">开发Prefect看起来像是pythonic式的编码方式。我们不需要学习很多来创造一个心流。</p><h1 id="c13b" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">工作流UI</h1><h2 id="2e1e" class="nq jr it bd js nr ns dn jw nt nu dp ka kz nv nw ke ld nx ny ki lh nz oa km ob bi translated">气流</h2><p id="df42" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">Airflow UI非常适合监控工作流，并且易于启动。该界面作为web服务器的一部分创建。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/e648c155dde2b7dd4b798a0267a38966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tgihQb9PJ1K-LxgI.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">气流用户界面— —源代码作者</p></figure><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/c80bddb51050df2d5f9456008bcba4e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*K85gr1Ds5lTS8von.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">作者执行Dag源作者</p></figure><h2 id="6b79" class="nq jr it bd js nr ns dn jw nt nu dp ka kz nv nw ke ld nx ny ki lh nz oa km ob bi translated">长官</h2><p id="6feb" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">默认情况下，没有提督用户界面。Else prefect云环境是一个简单的设置。我们需要设置服务器。我们需要创建一个帐户和一个API密钥。然后需要在我们运行的系统中配置密钥。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi od"><img src="../Images/7b66346e44c201a581bd2328ef73a1e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f2Ar4cmjSOuDl33UINZwhg.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">完美用户界面—源代码作者</p></figure><p id="b966" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">项目组织所有的流程。我们可以在一个项目中运行多个流程。总的来说，它组织得很好，执行起来没有问题。</p><h1 id="00aa" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">版本化工作流</h1><p id="aede" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">任何基于代码的系统的一个基本特征是能够<em class="oe">版本化</em>你的代码。</p><p id="0259" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">气流的一个最显著的缺点是使DAGs变得清爽。我们不知道当前执行的是哪个版本的工作流，也没有正确的版本控制。</p><p id="7605" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">另一方面，适当的版本控制和对流程的每次更新将被标记以纠正版本。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi of"><img src="../Images/28e46e3e1d9f03f5b3022d6fbc27635a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJA39O548GekvwteHQmk0A.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">完美中的版本控制—源代码作者</p></figure><h1 id="f485" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><p id="981a" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在本文中，我们已经触及了两个工作流工具。在成为Airflow的狂热用户之后，我开始喜欢上了Prefect和它的易用性。一个最突出的原因是我不需要重构代码来创建工作流。</p><p id="6725" class="pw-post-body-paragraph ko kp it kq b kr mf kt ku kv mg kx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">我已经开始将我的许多工作流程/自动化迁移到Prefect。然而，我仍然有我在气流沉重的工作流程。</p><h1 id="db78" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">获取代码</h1><p id="aa0b" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><em class="oe">请订阅我的</em> <a class="ae lm" href="https://codesprout.substack.com/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kq iu"> <em class="oe">简讯</em> </strong> </a> <em class="oe">获取不同文章及其他更新。</em></p></div></div>    
</body>
</html>