<html>
<head>
<title>Create a Web App in Under Thirty Minutes with Streamlit, MongoDB and Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Streamlit、MongoDB和Heroku在30分钟内创建一个Web应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-a-web-app-in-under-thirty-minutes-with-streamlit-mongodb-and-heroku-41f211953786?source=collection_archive---------5-----------------------#2021-09-12">https://towardsdatascience.com/create-a-web-app-in-under-thirty-minutes-with-streamlit-mongodb-and-heroku-41f211953786?source=collection_archive---------5-----------------------#2021-09-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4ee0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">快速开发和部署可伸缩web应用程序的有志全栈开发人员指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9de66c4c921af52e7ffb0d8e4c4329d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YYDKyIIbLanZqjOh"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯里德在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="84e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">曾几何时，创建web应用程序还是像马克·扎克伯格和埃隆·马斯克这样的神童的工作。或者，你可以进入一所名牌大学，用你生命中最好的四年时间(和你父母的退休储蓄)学习编程，然后最终开发出低于90年代风格的网络应用程序。从那以后我们已经走了很长一段路。随着开源工具和云基础设施的泛滥，开发和部署非凡的应用程序在很大程度上已经大众化了。老实说，做一名开发人员可能从来没有这么简单过，你所需要的只是一堆正确的工具，而且你可以胜任大多数工作。</p><p id="5047" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将向您介绍三个主要工具，我自己曾大量使用它们来开发前端用户界面、提供服务器端基础设施，以及最终将所有优点部署到web服务器上。在本教程中，我们将创建一个简单的工作推荐应用程序。用户将选择他们希望工作的国家，然后上传他们的简历。随后，该应用程序将分析上传的文件中的关键词，并将搜索公司数据库以找到最相似的匹配。在我们继续之前，我假设你已经精通Python和它的一些包，比如Pandas和NLTK，并且你有一个GitHub帐户。</p><h1 id="8698" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.细流</h1><p id="1739" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><a class="ae ky" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>是一个全新的web框架，它几乎填补了Python开发者的web开发空白。以前，人们必须使用Flask或Django将应用程序部署到web上，这需要对HTML和CSS有很好的理解。幸运的是，Streamlit是一个纯粹的Python包，学习曲线非常浅，将开发时间从数周减少到了数小时，真的。虽然它被标榜为机器学习和数据科学应用程序的框架，但我发现这相当不光彩；事实上，许多人(包括我自己)已经使用Streamlit来炫耀令人眼花缭乱的通用应用程序。</p><p id="6ed0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本节中，我将向您展示如何实时安装、构建和运行Streamlit应用程序。首先，在您的环境中安装Anaconda和Streamlit。或者，您可以在Anaconda提示符下运行以下命令。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="bf37" class="mx lw it mt b gy my mz l na nb">pip install streamlit</span></pre><p id="9c40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦解决了这个问题，继续打开您选择的Python IDE，并在您刚刚下载Streamlit的环境中打开它。现在让我们创建一个简单的界面，用户可以选择他们想要工作的国家，也可以上传他们的简历。最初，我们需要导入所有包，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="1df2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了Streamlit和Pandas，我们还需要pdfplumber和PyPDF2来处理我们上传的简历。rake_nltk、nltk和它们的相关单词库需要从简历文本中解析关键短语，io需要将二进制简历文件转换成Python可读的解码形式。</p><p id="72bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随后，我们创建用户界面，为国家/地区添加文本输入，为简历添加文件上传程序，并通过多选单词框选择获得的关键短语，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="b248" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面调用的函数“keyphrases”通过使用nltk库来分析简历文本以发现相关的关键字。该功能如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="5854" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们将Python脚本保存在我们环境的目录中，并在Anaconda提示符下执行以下命令，以在本地运行我们的Streamlit应用程序:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0394" class="mx lw it mt b gy my mz l na nb">streamlit run <em class="ne">file_name.py</em></span></pre><p id="3785" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您会注意到web应用程序将被转发到您的本地主机端口:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="c342" class="mx lw it mt b gy my mz l na nb"><a class="ae ky" href="http://localhost:8501" rel="noopener ugc nofollow" target="_blank">http://localhost:8501</a></span></pre><p id="47c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您应该看到以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/34e7bb5061d200136259bcad39ea6a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rqns_lNgJlf30AgIM2fLQQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">简化页面。图片作者。</p></figure><p id="7ffa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续上传您的简历，生成如下所示的关键短语:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/f74e80d6c92de3e3c30cb6941ca10df8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TySFhxn4nvUe53WffP2iMQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">关键短语生成。图片作者。</p></figure><p id="5c6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Streamlit的美妙之处在于，您可以实时更新您的代码，并即时观察您的更改。因此，您可以随时进行尽可能多的修改。</p><h1 id="215c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.MongoDB</h1><p id="d757" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">没有服务器端组件的web应用程序是不完整的，还有什么比MongoDB更好的学习与数据库交互的方法呢？虽然在这种情况下，我们的数据集是结构化的，并且使用像MongoDB这样的非关系数据库架构是多余的，但与所有可扩展的应用程序一样，在某种程度上，您可能会最终处理大量的非结构化数据，所以最好在一开始就进入正确的生态系统。更不用说MongoDB必须提供的一系列特性，比如全文索引和模糊匹配。</p><p id="1751" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个应用程序，我从kaggle.com下载了一个全球公司的公共数据集。我已经删除了它的一些属性，将数据集的总大小减少到100兆字节；请记住，MongoDB提供了一个高达512兆存储的免费层集群。接下来，继续开设MongoDB Atlas帐户，然后注册一个组织和一个项目。随后在AWS的US-East-1区域建立一个名为“M0沙盒”的免费层集群。这将确保我们有最小的延迟，因为我们的Heroku web服务器也将托管在同一地区。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/17eac40700148de300b8577db56f0cb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vc4i4O8XBuApLSEJHbJSmA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">构建MongoDB集群。图片作者。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/5d7fc43d1abcc211cc1ff16ed62e0746.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I5o5i1IkbPlltUp_xzgDtQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择MongoDB自由层集群。图片作者。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/1ff68cf30a584d46086a495837095911.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHTR_j-hdfRFoD7V-nkIag.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择MongoDB集群区域。图片作者。</p></figure><p id="cfa2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建集群后，MongoDB需要几分钟的时间来配置服务器。配置完成后，您需要将用于连接到集群的IP地址列入白名单。虽然出于明显的安全原因，我不推荐这样做，但是为了简单起见，您可以将所有IP地址列入白名单。从“安全”菜单中选择“网络访问”，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/837e378a28b57bad40f7f18c80b11dc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s1uZyS7r81nYEMJqGzhzbw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">配置MongoDB集群的网络访问。图片作者。</p></figure><p id="fa8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随后，选择“允许从任何地方访问”，并选择所需的时间范围，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/91ef377842279e84ecc5c2ab0670062b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kyz_hwpEr-gJXVGqNYSqFg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将MongoDB集群的IP地址列入白名单。图片作者。</p></figure><p id="caff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，您需要设置一个连接字符串来远程连接到您的集群。从“数据存储”菜单中选择“集群”,然后单击集群窗口上的“连接”,如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/645ba94c20e9f247552834521730d900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ry5P41BnYzWVEA3Uk_swAA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">正在设置MongoDB连接。图片作者。</p></figure><p id="bd70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入将用于连接到该群集的用户名和密码，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/bb61b25cbd11d2f311a6890da406b89c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9L4XLGsTmQTaOIp4_DN8HQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为MongoDB集群访问选择用户名和密码。图片作者。</p></figure><p id="c51e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建用户后，单击“选择连接方法”继续下一步，您应该选择“连接您的应用程序”，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/a168e69dad3c35642178e868e312bd77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4RJ_aVNw9QXw6Oty_QAsOA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">正在为MongoDB集群创建连接字符串。图片作者。</p></figure><p id="2d90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出现提示时，选择“Python”作为驱动程序，选择“3.6或更高版本”作为版本。将为您创建一个连接字符串，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/4b42b3a3618230d50146d7e11731f4eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vx4OFlYlDz7dhNsr9Qzi_w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">MongoDB连接字符串。图片作者。</p></figure><p id="4f9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的连接字符串和完整的驱动程序代码应该是:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="b42b" class="mx lw it mt b gy my mz l na nb">client = pymongo.MongoClient("mongodb+srv://test:&lt;password&gt;<a class="ae ky" href="http://twitter.com/cluster0" rel="noopener ugc nofollow" target="_blank">@cluster0</a>.nq0me.mongodb.net/&lt;dbname&gt;?retryWrites=true&amp;w=majority")<br/>db = client.test</span></pre><p id="6d3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">复制该字符串并用您在前面步骤中创建的实际密码替换'<password>'部分。</password></p><p id="1438" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经了解了MongoDB的所有逻辑，让我们加载数据集吧！选择集群中的“收藏”，然后点击“添加我自己的数据”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/17f64c0c2e7d6ab8f673d4799db521b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wlztFIN_k55Wj385kBEHwQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将数据加载到MongoDB集群中。图片作者。</p></figure><p id="78a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出现提示时，输入数据库和集合的名称以继续加载数据。请注意，MongoDB中的“集合”与任何其他数据库中的表同义；同样,“文档”与其他数据库中的行相同。有多种方法可以将数据集加载到新创建的数据库中；最简单的方法是使用MongoDB Compass桌面应用程序，你可以在这里下载<a class="ae ky" href="https://www.mongodb.com/try/download/compass" rel="noopener ugc nofollow" target="_blank">。下载并安装后，使用之前生成的连接字符串继续连接到集群，如下所示:</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/5c92960d95c5797389bdcffcf5e50e5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O-ZWFf2gWkfoagR1_VI_xA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">MongoDB指南针桌面应用程序。图片作者。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/715f9008fa9bf375f306f8781e9f0727.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*STTjQwGjw9KR3-p65cURCA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">MongoDB指南针数据库。图片作者。</p></figure><p id="a107" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">连接后，您应该能够找到您在前面的步骤中创建的数据库和集合。继续并点击“导入数据”将您的数据集上传到您的收藏中。一旦加载了数据，就需要创建一个全文索引，以便以后查询数据。全文索引实际上是对数据库中的每个单词进行索引；这是一种非常强大的索引形式，非常类似于搜索引擎所使用的。为此，您需要在互联网上导航回您的MongoDB集群，并在您的集合中选择“搜索索引”选项卡，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/79ab0c97ff84c1d2f612e7d69641e74a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_mkD1S3LRiB1hyuqS_fQJQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在MongoDB中创建全文索引。图片作者。</p></figure><p id="aefb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击“创建搜索索引”。这将通过以下窗口提示您，您可以在其中修改索引，但是，您可以通过单击“创建索引”继续使用默认条目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/ba133f61f5e4ab57f42d3ce058b06f40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bmf7FtvwVHP7SqiE2qg72Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在MongoDB中创建全文索引。图片作者。</p></figure><p id="d518" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然已经配置了数据库、加载了数据集并创建了索引，您就可以在Python中创建查询函数，使用用户输入从数据库中提取记录，如下面的函数所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="07d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面代码片段中的第一行建立了到数据库中集合的连接；请确保输入您的密码。或者，您可以将您的密码存储在一个<a class="ae ky" href="https://medium.com/@t.rosen2101/how-to-create-a-gitignore-file-to-hide-your-api-keys-95b3e6692e41" rel="noopener">配置文件</a>中，并在您的代码中作为一个参数调用它，如果您希望更安全地处理密码的话。</p><p id="fd84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了查询您的MongoDB集合，您需要使用“聚合”特性，它只是MongoDB中的一个过滤管道。管道的第一阶段($search)是利用我们的全文索引的部分；这里，我们使用模糊匹配来匹配我们先前生成的简历关键短语和数据集中的“行业”属性。下一阶段($project)使用文档排名来按照分数降序排列匹配的查询。第三阶段($match)过滤掉不包含用户指定的国家的文档。最后一个阶段($limit)只是将返回结果的数量限制为10个。</p><p id="651f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然我们已经整理了查询函数，我们需要在我们的Streamlit页面代码中再添加几行代码，以添加一个执行查询并显示搜索结果的搜索按钮，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/ad1268398aef498121ef5e0efff9e4bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k-YvXgbFTayyyBN3KqR26Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">求职推荐网站。图片作者。</p></figure><h1 id="9751" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.赫罗库</h1><p id="b25c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果你已经做到了这一步，那么你会很高兴地知道你离完成只有几下鼠标的距离。多亏了Heroku，将一个网络应用程序部署到云端只需点击几下鼠标。值得一提的是，Streamlit开发了自己的<a class="ae ky" href="https://www.streamlit.io/sharing" rel="noopener ugc nofollow" target="_blank">【一键部署】</a>选项，您可以将GitHub存储库与Streamlit集成，并免费部署您的应用。然而，问题是您的存储库需要是公共的，直到Streamlit发布其企业部署版本来迎合私有存储库，然后对许多人来说这将是一个交易破坏者。</p><p id="e7e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们继续之前，您需要创建四个将与您的源代码一起部署的文件。</p><h2 id="424d" class="mx lw it bd lx nr ns dn mb nt nu dp mf li nv nw mh lm nx ny mj lq nz oa ml ob bi translated">1.requirements.txt</h2><p id="c2b9" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您需要一个requirements.txt文件，其中包含Heroku需要为您的应用程序安装的所有软件包。这可以使用“pipreqs”包生成。在Anaconda提示符下键入以下命令来安装pipreqs:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2885" class="mx lw it mt b gy my mz l na nb">pip install pipreqs</span></pre><p id="04d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后把你的目录换成一个文件夹，只有<strong class="lb iu">和</strong>包含你的源代码，其他什么都没有。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="c057" class="mx lw it mt b gy my mz l na nb">cd C:/Users/..../folder/</span></pre><p id="9529" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后键入以下内容:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="788b" class="mx lw it mt b gy my mz l na nb">pipreqs</span></pre><p id="48e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将使用以下软件包生成requirments.txt文件:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="525d" class="mx lw it mt b gy my mz l na nb">pymongo[tls,srv]==3.6.1<br/>lxml==4.5.2<br/>nltk<br/>pdfplumber==0.5.24<br/>pymongo==3.11.0<br/>pandas==1.0.5<br/>rake_nltk==1.0.4<br/>streamlit==0.69.2<br/>PyPDF2==1.26.0</span></pre><h2 id="ee4e" class="mx lw it bd lx nr ns dn mb nt nu dp mf li nv nw mh lm nx ny mj lq nz oa ml ob bi translated">2.setup.sh</h2><p id="3d07" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">setup.sh文件告诉Heroku如何配置Streamlit应用程序，可以使用文本编辑器如<a class="ae ky" href="https://atom.io/" rel="noopener ugc nofollow" target="_blank"> Atom </a>创建，并且必须以. sh扩展名保存。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h2 id="5161" class="mx lw it bd lx nr ns dn mb nt nu dp mf li nv nw mh lm nx ny mj lq nz oa ml ob bi translated">3.Procfile</h2><p id="7e4d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">类似地，Procfile是一个配置文件，它告诉Heroku在启动时运行我们的源代码。它也可以用Atom文本编辑器创建，请注意它没有<strong class="lb iu">扩展名。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h2 id="0de5" class="mx lw it bd lx nr ns dn mb nt nu dp mf li nv nw mh lm nx ny mj lq nz oa ml ob bi translated">4.nltk.txt</h2><p id="efca" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">nltk.txt文件告诉Heroku使用哪个单词库。只需将以下内容添加到文件中，并确保使用文本文件的“LF”UNIX格式保存它。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="a6e5" class="mx lw it mt b gy my mz l na nb">wordnet<br/>pros_cons<br/>reuters</span></pre><p id="b6db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准备好源代码和这四个文件后，将它们上传到一个私有的GitHub存储库中(以免公开任何密码)。然后去Heroku开个账户，如果你还没有的话。我们将使用免费的Dyno层，这足以部署一个实验性的应用程序。选择下面的“新建”按钮，继续创建新应用程序:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/63a02396bd22ade09c37dd80ce894299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZrTKHkzBY37E24-wKpiWYA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建Heroku应用程序。图片作者。</p></figure><p id="a0eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出现提示时，输入您的名称，并选择“美国”地区。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/1ed160ad0faadb8ce6e53b082e0e516b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R1v6S9dZ7Xm2PH3SdZ-tWQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建Heroku应用程序。图片作者。</p></figure><p id="6a64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随后，选择“GitHub”部署方法和您的存储库，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/5ef5376417e220aa8a5294ad6f425ef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EKReqDvKglmXTjlWNZ12fQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GitHub与Heroku的集成。图片作者。</p></figure><p id="4b8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">向下滚动到底部，选择存储库的正确分支，然后选择“部署分支”按钮来部署您的应用程序。Heroku轻松构建您的应用程序时，请高枕无忧。完成后，假设没有错误，您将获得web应用程序的链接。鉴于你使用的是免费层，你第一次运行该应用程序将需要一段时间来曲柄启动。</p><p id="e831" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于您的Heroku帐户与GitHub集成在一起，您可以随时更新/修改您的代码，并像以前一样重新部署应用程序。有了Heroku，你甚至可以设置自动操作，这样每当你的存储库更新时，应用程序就会自动重新部署。您还可以随时向MongoDB数据库添加数据，这些数据会立即反映在web应用程序中。因此得名“可扩展的web应用程序”。祝贺您使用Streamlit、MongoDB和Heroku部署您的web应用程序！</p><h1 id="5286" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">有用的链接</h1><p id="4ec2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果您想了解更多关于数据可视化、Python以及将Streamlit web应用程序部署到云中的信息，请查看以下(附属链接)课程:</p><h2 id="fa68" class="mx lw it bd lx nr ns dn mb nt nu dp mf li nv nw mh lm nx ny mj lq nz oa ml ob bi translated">使用Streamlit开发Web应用程序:</h2><div class="od oe gp gr of og"><a href="https://www.amazon.com/Web-Application-Development-Streamlit-Applications/dp/1484281101?&amp;linkCode=ll1&amp;tag=mkhorasani09-20&amp;linkId=a0cb2bc17df598006fd9029c58792a6b&amp;language=en_US&amp;ref_=as_li_ss_tl" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">使用Streamlit开发Web应用程序:开发和部署安全且可伸缩的Web应用程序…</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">使用Streamlit开发Web应用程序:使用……开发安全且可扩展的Web应用程序并将其部署到云中</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.amazon.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><h2 id="7177" class="mx lw it bd lx nr ns dn mb nt nu dp mf li nv nw mh lm nx ny mj lq nz oa ml ob bi translated">使用Python实现数据可视化:</h2><div class="od oe gp gr of og"><a href="https://www.coursera.org/learn/python-for-data-visualization?irclickid=xgMQ4KWb%3AxyIWO7Uo7Vva0OcUkGQgW2aEwvr1c0&amp;irgwc=1&amp;utm_medium=partners&amp;utm_source=impact&amp;utm_campaign=3308031&amp;utm_content=b2c" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">用Python实现数据可视化</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">“一图胜千言”。我们都熟悉这个表达。它尤其适用于试图…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.coursera.org</p></div></div><div class="op l"><div class="ov l or os ot op ou ks og"/></div></div></a></div><h2 id="ac9e" class="mx lw it bd lx nr ns dn mb nt nu dp mf li nv nw mh lm nx ny mj lq nz oa ml ob bi translated">面向所有人的Python专业化:</h2><div class="od oe gp gr of og"><a href="https://www.coursera.org/specializations/python?irclickid=xgMQ4KWb%3AxyIWO7Uo7Vva0OcUkGQgW16Ewvr1c0&amp;irgwc=1&amp;utm_medium=partners&amp;utm_source=impact&amp;utm_campaign=3308031&amp;utm_content=b2c" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">面向所有人的Python</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">学习用Python编程和分析数据。开发收集、清理、分析和可视化数据的程序…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.coursera.org</p></div></div><div class="op l"><div class="ow l or os ot op ou ks og"/></div></div></a></div><h2 id="68c1" class="mx lw it bd lx nr ns dn mb nt nu dp mf li nv nw mh lm nx ny mj lq nz oa ml ob bi translated">使用Streamlit和Python构建数据科学Web应用程序:</h2><div class="od oe gp gr of og"><a href="https://www.coursera.org/projects/data-science-streamlit-python?irclickid=xgMQ4KWb%3AxyIWO7Uo7Vva0OcUkGQgTzrEwvr1c0&amp;irgwc=1&amp;utm_medium=partners&amp;utm_source=impact&amp;utm_campaign=3308031&amp;utm_content=b2c" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">使用Streamlit和Python构建数据科学Web应用程序</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">在2小时内完成这个指导项目。欢迎参加这个构建您的第一个数据科学网站的动手项目…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.coursera.org</p></div></div><div class="op l"><div class="ox l or os ot op ou ks og"/></div></div></a></div><h2 id="334e" class="mx lw it bd lx nr ns dn mb nt nu dp mf li nv nw mh lm nx ny mj lq nz oa ml ob bi translated">GitHub资源库:</h2><div class="od oe gp gr of og"><a href="https://github.com/mkhorasani/JobMatch" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">mkhorasani/JobMatch</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">一个工作推荐应用程序，使用自然语言处理和模糊匹配来匹配求职者和潜在的…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">github.com</p></div></div><div class="op l"><div class="oy l or os ot op ou ks og"/></div></div></a></div></div><div class="ab cl oz pa hx pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="im in io ip iq"><h1 id="bb24" class="lv lw it bd lx ly pg ma mb mc ph me mf jz pi ka mh kc pj kd mj kf pk kg ml mm bi translated">新到中？您可以在此订阅和解锁无限文章<a class="ae ky" href="https://khorasani.medium.com/membership" rel="noopener">。</a></h1></div></div>    
</body>
</html>