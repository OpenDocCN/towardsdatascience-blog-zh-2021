<html>
<head>
<title>Recursive Graph Queries over a Relational Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关系数据库上的递归图查询</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/recursive-graph-queries-over-a-relational-database-5e4c71782536?source=collection_archive---------25-----------------------#2021-03-31">https://towardsdatascience.com/recursive-graph-queries-over-a-relational-database-5e4c71782536?source=collection_archive---------25-----------------------#2021-03-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1da6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你从未见过的SQLite</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1bb43472d5910bb1a4ba386be49ee697.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uEuDsMwO8iUiYoXn4Bom0Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">关系数据库上的递归图查询。图片作者。</p></figure><p id="465d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">FactEngine (www.factengine.ai)是一项从根本上改变人们看待数据库的方式的倡议。该倡议的本质是揭示如何将所有数据库视为多模型数据库(图形或关系数据库)。作为同类中的第一个，很难在不提及该倡议的情况下谈论该科学。但是让我们来看看科学…</p><p id="28c4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">专用的<a class="ae lu" rel="noopener" target="_blank" href="/what-is-a-graph-database-249cd7fdf24d">图数据库</a>现在因为在属性图模式下工作而有些出名，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/87a5fbb4be9c87b254775d89fae471c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-GtxRh4g7i833TWiCO0y6w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示讲师节点属性的属性图模式。图片作者。</p></figure><p id="05d5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的模式就是所谓的<strong class="la iu"> <em class="lw">有向图模式</em> </strong>，其中一个关系如<strong class="la iu"> <em class="lw">讲师在学校</em> </strong>被形象化地显示为一个箭头指向的<strong class="la iu"> <em class="lw">边(或图)</em> </strong>连接<strong class="la iu"> <em class="lw">节点</em> </strong> <em class="lw">讲师</em>和<em class="lw">学校</em>。</p><p id="546d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">专用图形数据库的制造商会让你相信这种类型的建模和相关的图形查询语言是那些专用图形数据库的权限。只有当你想让它成为图形数据库或关系数据库，而又没有工具将你的数据库可视化时，这才是真的。</p><p id="0b82" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">关系数据库传统上被绑定到一个模式，该模式被形象地表示为一个实体关系图，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lx"><img src="../Images/6800c6f889fb557bd8f64d49899a4cc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8qgfh-GYNY9mXUJKqyroXA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">实体关系图。图片作者。</p></figure><p id="db97" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您有时希望能够像查询图形数据库一样查询关系数据库，以使工作变得简单。</p><p id="ac13" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们想要使用我们现存的模式查看一个虚构的讲师喜欢的每个人。我们应该能够使用简单的图形查询来查询数据库，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/a178d44f59a2c660c03423e3180df4fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*ieASJNHLKwZWd8EpEz0hGw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图模式上的图查询。图片作者。</p></figure><p id="cd1b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的查询，<strong class="la iu">(讲师:' Alexandria '，' Archer ')喜欢哪个讲师</strong>，返回一个结果，Steven Hollows。</p><h2 id="87c1" class="lz ma it bd mb mc md dn me mf mg dp mh lh mi mj mk ll ml mm mn lp mo mp mq mr bi translated">递归图查询</h2><p id="8c36" class="pw-post-body-paragraph ky kz it la b lb ms ju ld le mt jx lg lh mu lj lk ll mv ln lo lp mw lr ls lt im bi translated">现在，专用图形数据库有一个窍门，那就是如果你想知道亚历山大·阿彻喜欢的讲师，他们喜欢谁，他们喜欢谁，他们喜欢谁，那么你可以修改查询，使其递归4层(0..3)深度，如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/597cf599b30f7724426bc58094662b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*cVUJ0Qm0AN31iuOOTDQaYw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图模式上的递归图查询。图片作者。</p></figure><p id="6213" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们的查询返回多个讲师和他们喜欢的人。</p><p id="ee75" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">专用图形数据库在这类事情上受欢迎的原因是，传统上，对于关系数据库，您必须用结构化查询语言(SQL)编写查询，如下所示:</p><blockquote class="my mz na"><p id="c124" class="ky kz lw la b lb lc ju ld le lf jx lg nb li lj lk nc lm ln lo nd lq lr ls lt im bi translated">选择【讲师】。名字，[讲师]。姓氏，[讲师1]。名字，[讲师1]。LastName <br/> FROM讲师，<br/>讲师讲师1 <br/>，(带递归节点(讲师Id，讲师Id1，深度)As ( <br/>选择讲师WITH讲师。讲师Id，讲师Id1，0 <br/> FROM讲师like讲师，讲师<br/>WHERE[讲师]。名字= '亚历山大'<br/>和[讲师]。LastName = 'Archer' <br/>和讲师。讲师Id =讲师。讲师Id <br/>工会<br/>选择讲师。讲师号，讲师号。讲师Id1，深度+ 1 <br/>从节点开始，讲师like讲师<br/>从节点开始。讲师Id1 =讲师类讲师。讲师Id <br/>限制100 <br/> ) <br/>从深度介于EN 0和3 <br/>之间的节点<br/>中选择讲师Id，讲师Id1 <br/>作为讲师喜欢的讲师<br/>讲师喜欢的讲师。讲师Id =讲师。讲师Id <br/>和讲师类讲师。讲师Id1 =讲师1。讲师Id</p></blockquote><p id="b218" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一场噩梦。你真的不想花时间学习如何用SQL编写递归查询，然后费力地编写你想要的查询。</p><p id="8adc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我认为，你想要的，能够实现这种事情，是创建你的关系数据库，然后用图形查询语言查询它。</p><p id="6cdc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">即将发布的Boston和FactEngine允许您在关系数据库上进行递归图形查询和普通图形查询。FactEngine中的标准图形查询如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/3ee2b0eedd5ab49fdf76cff6e696b6a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wzBU-tEG0W_1dJLFJgdS0Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">FactEngine查询语言中的图形查询。图片作者。</p></figure><p id="e1db" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您使用<a class="ae lu" rel="noopener" target="_blank" href="/why-learn-object-role-modelling-4eebd93dcda2">对象角色建模</a>创建您的数据库，它<a class="ae lu" rel="noopener" target="_blank" href="/knowledge-hypergraphs-object-role-modeling-ef0f58f38066">自动为您提供数据库的图形和关系视图</a>，然后使用图形查询语言简单地查询您的数据库。</p><p id="a233" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实上，这篇文章是关于数据科学的可能性，以及如何以一种新的方式看待数据库，让生活变得如此简单。诀窍是完全摒弃图形和关系的概念，只需将数据库视为一组连接的对象类型。</p><p id="a623" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们模式的对象-角色建模视图类似于:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/d326f091f96f90cac4611a58d31c253a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bVkmn9OULQ4TcsBFZtgHtQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有自然语言谓词的对象-角色模型。图片作者。</p></figure><p id="6b10" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">神奇的事情发生在我们的例子中，我们的讲师类讲师对象化事实类型具体化了<strong class="la iu"><em class="lw"/></strong>关系，并且有两个隐含的<a class="ae lu" rel="noopener" target="_blank" href="/link-fact-types-in-object-role-modeling-3c68c15eec92">链接事实类型</a>，它们的整体组合为图形模式和实体关系图提供了主干。链接事实类型，下面显示为虚线事实类型:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/62450f715233aa5b3d9971dc4c8491d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*WbR1E6A_N9PJbQ0chEzO4w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有隐含链接事实类型的对象化事实类型。图片作者。</p></figure><p id="5cd2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文中的查询是在SQLite关系数据库上执行的。FactEngine查询语言(FEQL)中的图形查询自动转换为SQL。例如，现存的倡议是为所有关系数据库创建基于图形的查询语言。FactEngine查询语言只是关系数据库上图形查询语言的一个例子。</p><h2 id="37d5" class="lz ma it bd mb mc md dn me mf mg dp mh lh mi mj mk ll ml mm mn lp mo mp mq mr bi translated">关系数据库上图形查询的未来</h2><p id="d06d" class="pw-post-body-paragraph ky kz it la b lb ms ju ld le mt jx lg lh mu lj lk ll mv ln lo lp mw lr ls lt im bi translated">本质上，我认为数据库的未来是一个<em class="lw">不太关心</em>的环境，在这个环境中，人们不会不关心他们数据库的底层管道(传统的图形或传统的关系)…只要你的数据库以适当的方式及时返回结果，并允许你在你认为合适的时候查询它。研究表明，在图形查询速度方面，传统的关系数据库可以匹配甚至超过专用的图形数据库[1][2]。毕竟，您已经花费了时间和精力来决定哪个数据库最适合您。我认为你想要的是有工具和合适的数据科学来允许你在你的数据库上做你想做的事情，并且不要大惊小怪。</p><p id="67e1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢您的阅读，如果时间允许，我将写更多关于图形数据库、关系数据库、多模型数据库和对象-角色建模的文章。</p><ol class=""><li id="9e50" class="nh ni it la b lb lc le lf lh nj ll nk lp nl lt nm nn no np bi translated">Rawlani，p .等人，“关系数据库的图形分析”，麻省理工学院，【https://dspace.mit.edu/handle/1721.1/100670 T2】，2020年8月24日获取</li><li id="660c" class="nh ni it la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated">等，“关系数据库的图形分析”，麻省理工学院。</li></ol><p id="21e7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">— — — — —结束— — — —</p></div></div>    
</body>
</html>