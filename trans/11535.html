<html>
<head>
<title>Detecting the most popular tourist attractions in Valencia using unsupervised learning techniques</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用无监督学习技术检测巴伦西亚最受欢迎的旅游景点</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/detecting-the-most-popular-tourist-attractions-in-valencia-using-unsupervised-learning-techniques-de0b12fb1ca?source=collection_archive---------13-----------------------#2021-11-14">https://towardsdatascience.com/detecting-the-most-popular-tourist-attractions-in-valencia-using-unsupervised-learning-techniques-de0b12fb1ca?source=collection_archive---------13-----------------------#2021-11-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ca75" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">DSCAN 算法用于发现巴伦西亚(西班牙)最受欢迎的拍照地点。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5e6ea6b58252bae1e56759cb5d8056da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uwmjTPtfBOnwX869"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Jonny James 在 Unsplash 上拍摄的照片</p></figure><p id="103b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">瓦伦西亚是西班牙最国际化、最具活力的城市之一。巴伦西亚位于地中海海岸，是西班牙第三大城市和大都会区。在 2000 多年的历史中，这座城市是许多不同文化的发源地。罗马人、西哥特人和穆斯林占领了巴伦西亚，留下了丰富的艺术收藏品和独特的建筑遗产。目前，巴伦西亚是一个受游客欢迎的地方，每年接待大约 200 万游客。</p><p id="c8ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将使用<a class="ae kv" href="https://www.flickr.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Flickr </strong> </a>提供的照片的地理信息来分析<strong class="ky ir">巴伦西亚</strong>最相关的景点。为此，我们将使用算法<strong class="ky ir"> DBSCAN </strong>，这是一种<strong class="ky ir">无监督学习技术</strong>，它根据密度提供数据聚类。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="c62c" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">开源代码库</h1><p id="ac4e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这个项目的代码可以从 GitHub 上的 Jupyter 笔记本中获得。</p><div class="mw mx gp gr my mz"><a href="https://github.com/amandaiglesiasmoreno/dbscan_photos_valencia" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">GitHub-amandaiglesiasmoreno/DBS can _ photos _ Valencia</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">github.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn kp mz"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d8c8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak"> Flickr API </strong></h1><p id="add6" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Flickr 是最受欢迎的照片分享网站之一。要使用<strong class="ky ir"> Flickr API </strong>，你需要一个<strong class="ky ir"> Flickr API </strong> <strong class="ky ir"> key </strong>和一个<strong class="ky ir"> Flicker 用户 ID </strong>。一旦您有了用户 ID 和 API 密钥，您就可以使用<strong class="ky ir"> flickrapi 库</strong>来搜索图像。</p><p id="dedd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">项目的第一部分包括导入所有需要的库以及创建一个<strong class="ky ir"> FlickrAPI </strong>对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7b8f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">使用<code class="fe nq nr ns nt b">flickr.photos.search</code>功能获取照片</h1><p id="ff56" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">下一步包括使用<strong class="ky ir"> Flickr API </strong>获取感兴趣的照片。<code class="fe nq nr ns nt b">flickr.photos.search</code>函数根据给定的参数返回 Flickr 存储库的照片列表。为了简化分析，我们将只从存储库中下载 2019 年在巴伦西亚拍摄的<strong class="ky ir">照片。我们可以使用参数(1) <code class="fe nq nr ns nt b">min_upload_date</code>和(2) <code class="fe nq nr ns nt b">max_upload_date</code>来指定<strong class="ky ir">利息日期(2019) </strong>。另外，我们将只下载平台上的<strong class="ky ir">公开照片</strong> ( <code class="fe nq nr ns nt b">media='photos'</code>和<code class="fe nq nr ns nt b">privacy_filter=1</code>)，不包括视频和私人照片。最后，我们提供 Valencia </strong>的<strong class="ky ir">边界框来保证只检索这个特定区域的照片。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9a44" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">定义区域的边界框</h1><p id="1bba" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如上面的代码所示，我们需要向<code class="fe nq nr ns nt b">flickr.photos.search</code>函数(参数<code class="fe nq nr ns nt b">bbox</code>)提供 Valencia 的<strong class="ky ir">边界框，以仅检索在该区域拍摄的照片。要获得该区域的坐标，我们可以使用<a class="ae kv" href="https://www.openstreetmap.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">OpenStreetMap</strong></a>数据库。在地图上手动绘制感兴趣区域后，位于左上角的文本框中会出现<strong class="ky ir">边界框坐标</strong>(左下角经度，左下角纬度，右上角经度，右上角纬度)，如下图所示。然后，我们需要将这些坐标作为字符串提供给<code class="fe nq nr ns nt b">bbox</code>参数，其中的值用逗号分隔。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/f235d017eb28bcffc9731628c94288a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fl8lVMRbL7wzZQ5PwULjLA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用 OpenStreetMap 获取瓦伦西亚的边界框</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="fea6" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">将搜索函数的输出(XML 元素)转换成 Pandas 数据帧</h1><p id="f9a1" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">当您调用函数时,<code class="fe nq nr ns nt b">flickr.photos.search</code>函数发回一个解析过的<strong class="ky ir"> XML 元素</strong>。该元素包含关于符合搜索标准的照片的多个<strong class="ky ir">细节。<code class="fe nq nr ns nt b">rsp</code>标签在属性<code class="fe nq nr ns nt b">stat</code>中指示调用是否成功执行。<code class="fe nq nr ns nt b">photos</code>标签提供了搜索结果的摘要。在这种情况下，有 17997 张图片符合组织在 72 页中的搜索标准。在<code class="fe nq nr ns nt b">photos</code>标签中，有一个<code class="fe nq nr ns nt b">photo</code>标签列表，每个标签包含一张特定照片的信息。在本例中，<strong class="ky ir">感兴趣的属性只有四个:(1)id，(2)纬度，(3)经度，(4)照片的 URL</strong>；然而，正如您在下面看到的，搜索功能提供的描述照片的属性数量要多得多。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/2e0765665033d467a52de35bfd91feb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IL51fci3xEn7uJRbVSCq8g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">搜索功能的输出</p></figure><p id="0002" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如上面的代码所示，我们将感兴趣的信息存储在名为<code class="fe nq nr ns nt b">photo_information</code>的字典中，其中的键表示感兴趣的属性，值是包含数据的列表，每个索引存储一张照片的详细信息。</p><p id="3471" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们可以使用<code class="fe nq nr ns nt b">pandas.DataFrame</code>构造函数轻松地将这个字典转换成 pandas 数据框，如下所示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/69a8512cdfba624cd7a20ab1342d4e32.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*P2PEV_k--DRO7jgp6x_EAw.png"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b347" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">数据清理</h1><p id="6241" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在检索感兴趣的信息之后，所获得的数据帧仅包含四列:(1) <code class="fe nq nr ns nt b">id</code>、( 2) <code class="fe nq nr ns nt b">latitude</code>、(3) <code class="fe nq nr ns nt b">longitude</code>和(4) <code class="fe nq nr ns nt b">url_n</code>。这是一个非常简单的数据集；但是，我们不能直接使用它来对数据进行聚类。我们需要先把它清理干净。</p><p id="3b3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据集不包含缺失值；但是，纬度和经度列的<strong class="ky ir">数据类型被错误检测</strong>。我们需要将这些列转换成浮点数，以便稍后在<strong class="ky ir"> DBSCAN 算法</strong>中使用它们。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/172d1bb1108c1fbf801c41a0f7bc9911.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*a-ZYTAZpeUXA9DlijS7FRQ.png"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="d0ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">纠正错误的数据类型后，我们分析数据帧是否包含<strong class="ky ir">重复照片</strong>。Flickr 中的每个照片商店都有自己唯一的 id。因此，不可能有两张具有相同 id 的不同图片。正如你在下面可以观察到的，<strong class="ky ir">大部分照片都是重复的</strong>，所以我们需要把它们从数据框中剔除。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/f2cc52b3e2a6f77522889d165557fa29.png" data-original-src="https://miro.medium.com/v2/resize:fit:84/format:webp/1*WdQDNYfES6DJGQuWr2BjaQ.png"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/e98a81a94de7919c2524b21121d43e39.png" data-original-src="https://miro.medium.com/v2/resize:fit:106/format:webp/1*MAOJdjw9OHjtIcW5PyEUEQ.png"/></div></figure><p id="c1d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦删除了重复的条目，我们就从数据集中删除<code class="fe nq nr ns nt b">id</code>和<code class="fe nq nr ns nt b">url_n</code>列，因为不再需要它们了。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="a773" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以使用这些数据来获得指示该城市最受欢迎的景点的聚类。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7379" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak"> DBSCAN 算法</strong></h1><h2 id="6a07" class="oa ma iq bd mb ob oc dn mf od oe dp mj lf of og ml lj oh oi mn ln oj ok mp ol bi translated"><strong class="ak">理论</strong></h2><p id="2bba" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><strong class="ky ir"> DBSCAN </strong>(含噪声应用的基于密度的空间聚类)方法是一种<strong class="ky ir">基于密度的聚类算法</strong>，用于将高密度区与低密度区分开。</p><p id="a3b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该算法基于<strong class="ky ir">两个超参数</strong>:</p><ul class=""><li id="dfae" class="om on iq ky b kz la lc ld lf oo lj op ln oq lr or os ot ou bi translated"><strong class="ky ir">半径(<em class="ov"> eps </em> ): </strong>被视为邻居的两个样本之间的最大距离。</li><li id="a919" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated"><strong class="ky ir">最小点数(<em class="ov"> MinPts </em> ): </strong>考虑一个观察核心点的邻域样本数。</li></ul><p id="4345" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基于这些超参数，<strong class="ky ir"> DBSCAN 算法</strong>根据以下规则将数据集中的每个观察值分类为<strong class="ky ir">核心、边界或异常点</strong>:</p><ul class=""><li id="c102" class="om on iq ky b kz la lc ld lf oo lj op ln oq lr or os ot ou bi translated"><strong class="ky ir">核心点</strong>:在其半径<em class="ov"> eps </em>内至少有<em class="ov"> MinPts </em>个观测值的数据点。</li><li id="dcc3" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated"><strong class="ky ir">边界点</strong>:半径<em class="ov"> eps </em>小于<em class="ov"> MinPts </em>点的数据点；然而，该点在核心点的半径<em class="ov"> eps </em>内。</li><li id="104e" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated"><strong class="ky ir">离群点</strong>:既不是核心点也不是边界点的数据点。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/80b331aca1d1c13f635c3af23ea20175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2VCk6qXkM8anx6Ei9cY08Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">核心点、边界点和异常点—由作者创建的图像</p></figure><p id="7d6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，根据聚类的类型将这些点分配给聚类。每个集群包含至少一个核心点和所有可从其到达的边界点。</p><h2 id="6c7a" class="oa ma iq bd mb ob oc dn mf od oe dp mj lf of og ml lj oh oi mn ln oj ok mp ol bi translated">优点和缺点</h2><p id="eda6" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">相对于其他聚类算法，DBSCAN 算法提供了多种优势。DBSCAN 算法的主要优势在于它可以<strong class="ky ir">找出任何形状的簇</strong>。聚类不必具有斑点形状。此外，<strong class="ky ir">在执行算法之前没有必要固定聚类数</strong>，因为我们必须使用 K-means 方法。此外，<strong class="ky ir"> DBSCAN 能够检测数据集中的噪声</strong>，这与基于分区的算法(例如将所有点分配到一个聚类的 K-means)形成对比。使用 DBSCAN，位于低密度区域的点不会被分配给任何聚类。</p><p id="c3fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，DBSCAN 方法也有一些缺点。<strong class="ky ir">该算法的主要挑战是找到两个超参数(eps 和 MinPts)的正确组合</strong>。这些超参数的选择是任意的，并且高度影响算法获得的结果。一种常见的做法是测试不同的超参数集，并选择一个产生可接受结果的超参数集，同时考虑聚类数和生成的异常值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pc"><img src="../Images/34f0d5022707926229713839fb6bcbf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-6EOpQ3dLwXcmZYfvDy0WA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">DBSCAN 算法的优缺点——作者创建的图像</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3813" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak">用散点图可视化观察结果</strong></h1><p id="2134" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">下面的图显示了 2019 年在巴伦西亚拍摄的照片的位置(在 Flickr 平台上可用)。<strong class="ky ir"> x 轴代表照片拍摄地的经度</strong>，y 轴代表纬度。如您所见，有些位置显然拍摄了更多照片(高密度区域)。下一步包括使用<strong class="ky ir"> DBSCAN 算法</strong>来识别这些位置。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/03a95c01fc413090393a004f0aaec04e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*rpCfla31LlCCA8BHAFpL9g.png"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3b77" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">用 Scikit-Learn 实现 DBSCAN 算法</h1><p id="742b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">为了实现<strong class="ky ir"> DBSCAN 算法</strong>，我们需要首先实例化一个<code class="fe nq nr ns nt b">DBSCAN</code>模型，它可以从<code class="fe nq nr ns nt b">sklearn.cluster</code>导入。如下所示，为这个特定数据集选择的超参数是:(1) <code class="fe nq nr ns nt b">eps=</code>和(2) <code class="fe nq nr ns nt b">min_samples=</code>。这些参数是通过反复试验确定的。注意，在应用 DBSCAN 算法之前，我们已经用<code class="fe nq nr ns nt b">MinMaxScaler</code>类对数据点进行了规范化，因此所有属性(纬度和经度)都具有相同的范围【0，1】。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="8598" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以通过查看标签的唯一值来确定聚类的数量。正如你所看到的，一些观察值的指数等于-1，这意味着这些观察值被算法检测为异常值 T21。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="30a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们可视化排除噪声的集群<strong class="ky ir">(与等于-1 的标签相关联的观察)。此外，我们在聚类中心绘制了与每个组相关联的标签。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pe"><img src="../Images/45bd1ae949a2da74cccb4919d896f87f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TtXGgrt9LetUUBsk5moJ-g.png"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9e39" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">在交互式地图上可视化聚类的中心</h1><p id="9c83" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">下一步是<strong class="ky ir">在巴伦西亚</strong>的地图上可视化集群中心。这种方法可以让我们很容易地<strong class="ky ir">将群体的中心和城市中的地点联系起来</strong>。</p><p id="5d89" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们构建一个带有位置和缩放级别的<strong class="ky ir">叶子地图</strong>。这将产生一个给定位置的空地图(在本例中是 Valencia)。然后，我们用<code class="fe nq nr ns nt b">Marker</code>函数在聚类中心的位置绘制标记。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pf"><img src="../Images/3c1bc2621b5cfa889ddf6e2703f40910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mwUvq6V98s-5LvI7L7LSTA.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/484ab96fa36f6bf2ab0f46f35ec63bff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O1emuh_RXikgTRPWbR-9nA.png"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2a08" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">集群协会——巴伦西亚最重要的景点</h1><p id="1681" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们可以通过在巴伦西亚地图上可视化这些群体的中心来识别以下兴趣点:</p><ul class=""><li id="cda5" class="om on iq ky b kz la lc ld lf oo lj op ln oq lr or os ot ou bi translated">集群 0:艺术与科学之城</li><li id="634e" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated"><strong class="ky ir">集群 1 </strong>:火车北站</li><li id="24ba" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第二组 : Burjassot 大街</li><li id="a672" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated"><strong class="ky ir">集群 3 </strong>:市政厅广场</li><li id="d3a4" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated"><strong class="ky ir">第四集群</strong>:贝尼卡拉普公园</li><li id="55df" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated"><strong class="ky ir">第五组团</strong>:城市的历史中心</li><li id="4683" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第六组:生物圈公园(动物园)</li><li id="d452" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第 7 组:Parroquia San Jose maría escrivá</li><li id="2ba9" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated"><strong class="ky ir">集群 8 </strong>:埃尔卡门街区</li><li id="ed33" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第九集群:体育中心(朝歌)</li><li id="5f5a" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated"><strong class="ky ir">集群 10 </strong>:瓦伦西亚美术博物馆</li><li id="23d1" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第 11 组:巴伦西亚现代艺术学院</li><li id="e0d2" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第 12 组:怡和集团</li><li id="be90" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第 13 组:卡帕雷拉公园</li><li id="d51e" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第 14 组:海洋</li><li id="a07a" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第 15 组:拉斯阿里纳斯度假村</li><li id="eb39" class="om on iq ky b kz ow lc ox lf oy lj oz ln pa lr or os ot ou bi translated">第 16 组:马尔瓦罗萨海滩</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9ba3" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">我最喜欢的地方😍</h1><h2 id="b64b" class="oa ma iq bd mb ob oc dn mf od oe dp mj lf of og ml lj oh oi mn ln oj ok mp ol bi translated">集群——城市的历史中心</h2><p id="5b25" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">巴伦西亚的历史中心毫无疑问是这座城市最迷人的部分。如今，这座历史中心是现代巴伦西亚的休闲和贸易中心，商店、餐馆和酒吧林立。中央市场、大教堂、丝绸交易所和埃尔卡门街区是巴伦西亚老城最重要的组成部分。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3e13bbf0f1df37dd8381c9b15de4f9c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d4OWgB0pFmcZfHKD"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@alelmes" rel="noopener ugc nofollow" target="_blank">艾·埃尔默斯</a>在 Unsplash 上拍摄</p></figure><h2 id="83b3" class="oa ma iq bd mb ob oc dn mf od oe dp mj lf of og ml lj oh oi mn ln oj ok mp ol bi translated">集群——艺术与科学之城</h2><p id="6ff2" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">艺术与科学城是一个由瓦伦西亚建筑师圣地亚哥·卡拉特拉瓦设计的文化与科学综合体。它<strong class="ky ir">位于图里亚河床</strong>的尽头，是巴伦西亚最受欢迎的景点之一。于 1998 年 4 月正式落成的<strong class="ky ir"/><strong class="ky ir"/>艺术与科学之城由 7 座建筑组成:<strong class="ky ir"> L'Hemisfèric </strong> (1998 年)<strong class="ky ir">El Museu de les ciències feli PE</strong>(2000 年)<strong class="ky ir"> L'Umbracle </strong> (2001 年)<strong class="ky ir">L ' oceanograf</strong>(2000 年)该综合建筑全年提供广泛的文化活动和事件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4dd23278dbb8ba6e6911aea06185eaeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UmV15xcjgml7NTtB"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@chesterfordhouse" rel="noopener ugc nofollow" target="_blank">彼得·劳伦斯</a>在 Unsplash 上拍摄</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="74fb" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">替代可视化—照片的热图</h1><p id="c798" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">分析的最后一步是<strong class="ky ir">使用热图</strong>可视化照片的位置(纬度和经度)。热图使用颜色来显示一个区域中某个量的变化。在这种情况下，我们再次使用 lyum 创建一个热图，覆盖在 Valencia 的地图之上。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ph"><img src="../Images/b3a0d23661ef1bea18ee89db7fc61c5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UBHZLXSAyEiM9VZEBPqtEQ.png"/></div></div></figure><p id="59be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如下图所示，历史中心、艺术与科学城、港口和动物园是巴伦西亚最受欢迎的地方。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="9b56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">阿曼达·伊格莱西亚斯</p></div></div>    
</body>
</html>