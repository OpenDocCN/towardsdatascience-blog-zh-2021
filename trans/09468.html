<html>
<head>
<title>Moving Away From R²</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">远离R</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/moving-away-from-r%C2%B2-4a89b1c70393?source=collection_archive---------20-----------------------#2021-09-02">https://towardsdatascience.com/moving-away-from-r%C2%B2-4a89b1c70393?source=collection_archive---------20-----------------------#2021-09-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b45a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用它的危险以及如何改进你的分析。</h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/6c7acfd4e3a0b22cf15514e269894fed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w6W5meMskzMUabPvtT4Q8Q.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者造成的不良形象</p></figure><h1 id="f3c9" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="448e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">r是一个众所周知的模型指标，每个数据分析师都有它的工具箱，但尽管它很流行，数据分析师倾向于谈论和使用这一指标的方式与统计界对它的看法不匹配。在这篇文章中，我希望用简单的图表和语言来解释R的一些误用，以及我们如何使用更适用的度量来改进我们的分析。</p><p id="7760" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mp">这篇文章很大程度上受到了</em> <a class="ae mq" href="http://www.stat.cmu.edu/~cshalizi/mreg/15/lectures/10/lecture-10.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="mp">科斯马·沙立子博士的讲稿</em> </a> <em class="mp">的启发。我的意图是将一些难以理解的统计数据转换成一个更加直观和外行的解释。</em></p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="80f4" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">行动纲要</h1><p id="dd1a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">一些积极使用R的人可能想知道这有什么大不了的。以下是一个简短的总结，如果你不同意以下至少一点，也许值得继续读下去。</p><h2 id="dc60" class="nd kx iq bd ky ne nf dn lc ng nh dp lg lx ni nj li mb nk nl lk mf nm nn lm no bi translated">使用R的好理由:</h2><ol class=""><li id="ac10" class="np nq iq lq b lr ls lu lv lx nr mb ns mf nt mj nu nv nw nx bi translated">我想看看我的数据有多嘈杂。</li></ol><h2 id="a5ba" class="nd kx iq bd ky ne nf dn lc ng nh dp lg lx ni nj li mb nk nl lk mf nm nn lm no bi translated">使用R的错误理由:</h2><ol class=""><li id="1a2a" class="np nq iq lq b lr ls lu lv lx nr mb ns mf nt mj nu nv nw nx bi translated">我想知道我的模型在预测方面有多好。(不好，用均方差代替)</li><li id="9bdb" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">我想知道我的自变量是否显著。(不好，使用p值)</li><li id="fb6d" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">我想知道我的线性模型在统计上是否显著(不好，使用f检验，但是也要确保检查你的假设)</li><li id="13e3" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">我想知道我的因变量有多少是由我的自变量解释的(不好…有点……)</li></ol><p id="2846" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">还感兴趣吗？太好了，继续读下去！</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="c56d" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">背景</h1><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi od"><img src="../Images/a301bd012fd18cd8e058fa402065e39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YV2i1-rf7kb6b4H6hexPuw.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">按作者分类的图表</p></figure><h2 id="50eb" class="nd kx iq bd ky ne nf dn lc ng nh dp lg lx ni nj li mb nk nl lk mf nm nn lm no bi translated">非常简要地回顾一下R</h2><p id="a8b5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">r是一个常用于评估线性回归模型的指标。在上图中，我们可以看到红点(预测值)与黑点(实际值)的差异。这两种颜色之间的黑线叫做余数。但是如果我们想想出一些方法来看看我们的残差有多大呢？插入R。</p><p id="d0b0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">r是自变量解释的因变量方差的比例。用不太正式的术语来说，它是一个介于0和1之间的值，用来描述我们的模型与数据的吻合程度。在许多数据分析领域，R还充当了比较和评估模型的指标，0表示非常差的模型，接近1的值表示良好的模型。我们用残差平方和(RSS)除以总平方和(TSS ),然后从1中减去该分数。</p><h2 id="744c" class="nd kx iq bd ky ne nf dn lc ng nh dp lg lx ni nj li mb nk nl lk mf nm nn lm no bi translated">信号和噪音</h2><p id="885e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">信号和噪声是数据世界的阴阳两极。信号是指我们试图检测的数据中的一些真相，而噪声是掩盖我们信号的无意义信息。为了把这个比喻带入21世纪，你可以把signal想象成你想要找到的最喜欢的Spotify播放列表，把noise想象成那些总是被推销的垃圾播客。在本文中，我将频繁使用这些术语，以便让来自非统计背景的人更容易理解诸如标准差和真实系数值之类的概念。</p><h2 id="bbe1" class="nd kx iq bd ky ne nf dn lc ng nh dp lg lx ni nj li mb nk nl lk mf nm nn lm no bi translated">r:噪声的度量单位</h2><p id="5a22" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">作为数据科学家，我们希望检测数据中的信号。我们开发模型和复杂的分析来做这件事，然后我们评估我们所做的，以确定我们是否做得很好。这就是为什么用R来衡量我们信号的强度(或有效性)是如此错误的原因——因为R在很大程度上衡量的是我们数据中的噪声。</p><p id="76c5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">回想一下，在我们对R的简短讨论中，我们说过，自变量解释的是因变量方差的比例。这应该会给我们带来一些危险信号，因为根据定义，我们意识到，随着因变量方差(噪声)的增加，我们能够解释的部分就越少，即使我们保持信号不变。</p><p id="3396" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这可能还没有意义，所以让我们想象一下在保持信号不变的情况下增加噪声是什么样子。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="71cd" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">操纵R</h1><p id="330e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在本例中，我们将创建一些数据。我们要做的是定义我们的信号是什么，引入不同水平的噪声，并观察R如何反应。</p><p id="c2e9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们的信号:X的真实系数等于1.2</p><p id="0917" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">噪声:平均值为0且标准差增加的数字的随机相加。</p><p id="432b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">为此，我们将使用以下代码来生成数据。</p><pre class="kh ki kj kk gt oe of og oh aw oi bi"><span id="0842" class="nd kx iq of b gy oj ok l ol om">x1 &lt;- seq(1,10,length.out = 500) <br/>y1 &lt;- 2 + 1.2*x1 + rnorm(500,0,sd = 1) </span></pre><p id="497d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于x1，计算机将生成500个1到10之间的数字。对于y1，我们要取这个数，乘以我们的真实系数(1.2)，加上2，然后加上一个随机分布在500左右的随机数，平均值为0，标准差为1。</p><p id="cc85" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们将创建4个图表和线性回归，以查看我们的结果如何随着标准差的增加而变化。重要的是要认识到，在每一种情况下，我们的信号(真实系数为1.2)将保持不变，但我们会有不同水平的噪声(长期来看平均值为0)。</p><p id="d2eb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果R测量我们的信号或它的强度，它应该保持大致相等。如果它测量我们数据中的噪声，那么当我们增加模型中的噪声(保持信号不变)时，R应该直线下降。那么会发生什么呢？</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi od"><img src="../Images/4ede3a93ba0da8b545ce6ea172a2d56b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LKPdIcTAJf1eUKZEr23elQ.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">按作者分类的图表</p></figure><p id="717b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">你看看那个。我们每次回归的信号是1.2，每次回归都在1.2左右。但是请注意，每次我们增加噪音时，我们的R似乎都受到了影响。</p><p id="c095" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这就是为什么R可以成为一个破坏性的模型评估者。由于它甚至没有试图测量信号，淡化低R的模型会导致我们忽略我们在数据中准确识别信号的时间。</p><h1 id="7308" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">r和解释:一个解释</h1><p id="230e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">早些时候我告诉过你，R是由自变量解释的因变量方差的比例，但是现在，亲爱的读者，我必须承认这也比看起来更复杂。</p><p id="4ce5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">当我们经常说一个词的时候，我们可能会欺骗自己认为我们理解了它，但它值得我们注意真正检查“解释”在这里的意思。我担心的是，许多人认为这个模糊的词意味着“原因”。最后，我们应该证明R不可能告诉我们X导致Y，或者在两者之间有某种因果联系。</p><p id="4e6c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这个简单的实验实际上很容易做。让我们取一些X，它实际上对Y有一些因果影响(和前面的代码一样)。那么，如果R确实度量了某种因果联系，并且我们知道X是导致Y的原因，那么用Y解释的X的变化的R应该低于用X解释的Y的变化的R。</p><p id="6ba3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们进行这个实验，看看我们的R有什么不同。</p><pre class="kh ki kj kk gt oe of og oh aw oi bi"><span id="b891" class="nd kx iq of b gy oj ok l ol om">x2 &lt;- seq(1,10,length.out = 500)     <br/>y2 &lt;- 2 + 1.2*x2 + rnorm(500,0,sd = 3)<br/>summary(lm(x2~y2))$r.squared<br/>summary(lm(y2~x2))$r.squared</span></pre><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi on"><img src="../Images/b84d46ba7b7a3e1ff164d71bba6f965e.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*lrYWuRQ5ivjTByMDpuSjOQ.jpeg"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">我们代码的输出</p></figure><p id="662f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们知道，Y对X没有因果影响，然而，如果我们相信R向我们展示了某种因果联系，那么这里的R应该是不同的，但它们不是，所以我们必须拒绝任何概念，即R可以证明我们的因变量和自变量之间的某种因果联系。</p><p id="8fa9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">实际上，我认为大多数数据分析师会拒绝说R告诉我们Y有多少是由X引起的，但我确实认为许多人相信这一点。那些通常很少关心方差的人，却惊人地关心有多少方差是由某个变量“解释”的。</p><h1 id="2879" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">所有这些的含义</h1><p id="9a99" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">一旦你理解了R和噪声之间的关系，当分析师主要基于R值来提升或贬低一个模型时，你会忍不住退缩。正如我们刚刚看到的，R不能告诉我们数据中的信号，它本身是一个非常有限的指标。</p><p id="f93d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">事实上，很难找到一个令人信服的理由来给R以它应该得到的关注。这篇文章已经太长了，但是我认为，很多时候沉迷于R是一个很坏的习惯，因为它通常会鼓励新人疯狂地过度适应(你的模型可以解释的噪声越多，R就越好)，忽略其他更重要的线性回归模型指标，一旦他们遇到真实世界的数据及其混乱，他们就会失败。</p><p id="c43a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我确实认为R在边缘情况下仍然有用，但是几乎每个分析都可以通过使用另一个更适用的度量来改进。它的简单性对任何数据科学的新手来说都是有吸引力的，但是为了更好地掌握统计和数据科学，认识到它的缺点并使用更好的技术是很重要的。</p><p id="0c37" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这篇文章是一个白痴数据分析师写的，他极大地简化了提到的统计数据。错误是可能的，但是R应该被更谨慎地使用的主要观点仍然存在(至少我希望如此。我知道什么？我只是一个免责消息)。</p></div></div>    
</body>
</html>