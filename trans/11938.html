<html>
<head>
<title>StrangeR Things: Adding… Cats? to Your Plots on R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">奇怪的事情:添加…猫？你在 R 上的阴谋</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/stranger-things-adding-cats-to-your-plots-on-r-9f46acb798bb?source=collection_archive---------14-----------------------#2021-11-30">https://towardsdatascience.com/stranger-things-adding-cats-to-your-plots-on-r-9f46acb798bb?source=collection_archive---------14-----------------------#2021-11-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9a49" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何借助带有“ggcats”包的滑稽猫来分析和可视化数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b2041fef30acf2ecfe3ef183dfc06fe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kEsrEu82P_QpT2Fhn4hHDg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奇怪的事情:添加…猫？到您在 R-R studio 预览上的绘图(图片由作者提供)</p></figure><p id="c2eb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">许多人会认为统计分析不可能有趣。如你所知，如果你一直关注我发表的文章，你会注意到我试图分享实际的例子，但也很有趣。我开展的一项活动是教学，尤其是在今天，当我们大部分时间都在跳跃，突然一切都变得遥远时，要进行面对面的互动，需要付出额外的努力来保持学生的注意力。</p><p id="999a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你喜欢猫吗？你有一只作为宠物吗？如果我告诉你，在这些毛茸茸的朋友的帮助下，你可以让你的情节有所触动，你会对我说什么？</p><p id="ca6a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我想向您介绍<strong class="la iu"> "ggcats" </strong>，这是一个基于<strong class="la iu"> "geom_image" </strong>的有趣软件包，它可以帮助您在您的报告、演示和报告中保持观众的注意力，当然是非正式的。</p><h1 id="2907" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">软件包安装</h1><p id="e729" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">在一个新的 R 脚本中使用它是非常容易的，首先，你必须从它的存储库中安装这个包。</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="405f" class="mw lv it ms b gy mx my l mz na"># INSTALL GGCATS PACKAGE </span><span id="5b6e" class="mw lv it ms b gy nb my l mz na">install.packages("remotes")<br/>remotes::install_github("R-CoderDotCom/ggcats@main")</span></pre><h1 id="c1fe" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">测试 ggcats</h1><p id="125d" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">有十五种不同的小猫可以使用:“shironeko”、“venus”、“hipster”、“lil_bub”、“maru”、“colonel”、“grumpy”、“mouth”、“pop”、“pop_close”、“pusheen”、“pusheen_pc”、“toast”、“bongo”和“nyancat”(默认)。</p><p id="7a0e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以在一个网格中查看它们，首先查看每一个:</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="08f8" class="mw lv it ms b gy mx my l mz na"># LOAD LIBRARIES</span><span id="5b2a" class="mw lv it ms b gy nb my l mz na">library(ggplot2)<br/>library(ggcats)<br/>library(Ecdat)<br/>library(tidyverse)<br/>library(gganimate)</span><span id="a2f6" class="mw lv it ms b gy nb my l mz na"># VISUALIZE AVAILABLE CATS</span><span id="b339" class="mw lv it ms b gy nb my l mz na">theGrid &lt;- expand.grid(1:5, 3:1)<br/>dataFrame &lt;- data.frame(x = theGrid[, 1],<br/>                 y = theGrid[, 2],<br/>                 image = c("shironeko", "venus", "hipster", "lil_bub", "maru", "colonel", "grumpy", "mouth", "pop", "pop_close", "pusheen", "pusheen_pc", "toast", "bongo", "nyancat"))</span><span id="bd4c" class="mw lv it ms b gy nb my l mz na">ggplot(dataFrame) +<br/>  geom_cat(aes(x, y, cat = image), size = 4) +<br/>  xlim(c(0.25, 5.5)) + <br/>  ylim(c(0.25, 3.5))</span></pre><p id="f5ab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你会发现这些都是世界各地流行的迷因中的著名小猫。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/581a9f43be20e124f53bb0b6d338bc16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iWafFg3FDHI7kp1NuyQpsQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奇怪的事情:添加…猫？到 R 上的 plots 在 RStudio: grid 中生成的 Plot，用于可视化可用的猫(图片由作者提供)</p></figure><h1 id="2d10" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">如何将猫添加到你的情节中</h1><p id="5c23" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">你可以看到使用<strong class="la iu">“geom _ cat”</strong>函数将它们添加到你的图中是非常容易的，例如，取 R 默认提供的数据，假设你想添加“Pusheen Cats”。</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="ef41" class="mw lv it ms b gy mx my l mz na"># TESTING PUSHEEN CAT AND MARU CAT</span><span id="b770" class="mw lv it ms b gy nb my l mz na">ggplot(mtcars) +<br/>  geom_cat(aes(mpg, wt), cat = "pusheen", size = 4)</span></pre><p id="982e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你会得到如下图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/e267b9b6d1d5e110de71a75149b8ea6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8BrQnYb35BcFBkzql4VtDA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奇怪的事情:添加…猫？到 R 上的您的 plots 在 RStudio: pusheen cats 中生成的 plots(图片由作者提供)</p></figure><p id="1089" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">或者说，你要加“丸猫”。</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="1f16" class="mw lv it ms b gy mx my l mz na">ggplot(mtcars) +<br/>  geom_cat(aes(mpg, wt, size = cyl), cat = "maru")</span></pre><p id="50d0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在你会得到一个如下图所示的图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/07d16f1f8a3d9e254a1ac543733434f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XbW9P5LerPGXhpr7N2JUzQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奇怪的事情:添加…猫？到 R 上的你的情节——在 RStudio: maru cats 中生成的情节(图片由作者提供)</p></figure><h1 id="378e" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">更进一步…动画情节</h1><p id="7d64" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">你可以利用你有两只小猫的事实，一只张开嘴，另一只同样闭着嘴，玩<strong class="la iu"> gganimate </strong>包。例如:</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="dd96" class="mw lv it ms b gy mx my l mz na"># EXAMPLE GGCAT WITH GGANIMATE</span><span id="8fc7" class="mw lv it ms b gy nb my l mz na">library(Ecdat)</span><span id="cb62" class="mw lv it ms b gy nb my l mz na">data(incomeInequality)</span><span id="c41f" class="mw lv it ms b gy nb my l mz na">newData &lt;-<br/>  incomeInequality %&gt;%<br/>  select(Year, P99, median) %&gt;%<br/>  rename(income_median = median,<br/>         income_99percent = P99) %&gt;%<br/>  pivot_longer(cols = starts_with("income"),<br/>               names_to = "income",<br/>               names_prefix = "income_")</span><span id="28ba" class="mw lv it ms b gy nb my l mz na">newData$cat &lt;- rep(NA, 132)</span><span id="5781" class="mw lv it ms b gy nb my l mz na">newData$cat[which(newData$income == "median")] &lt;- rep(c("pop_close", "pop"), 33)<br/>newData$cat[which(newData$income == "99percent")] &lt;- "bongo"</span><span id="0c56" class="mw lv it ms b gy nb my l mz na">ggplot(newData, aes(x = Year, y = value, group = income, color = income)) +<br/>  geom_line(size = 2.5) +<br/>  labs(title="Testing ggcats with gganimate", <br/>       subtitle = "Pop cat and Bongo cat") +<br/>  geom_cat(aes(cat = cat), size = 6) +<br/>  transition_reveal(Year)</span></pre><p id="e4b2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你会得到如下的动画情节。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/89443afa5a15228c2452b835c9692b37.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*o6izrCw5Eeb7rXF6V0SmWA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奇怪的事情:添加…猫？到 R 上的您的 plots 在 RStudio 中生成的 Plot:gg cats 和 gganimate(图片由作者提供)</p></figure><p id="abe1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">剩下的就看你的创造力了，如你所见。我想继续写一些不寻常的事情，你仍然不知道你可以用 R 做什么，并继续写一系列这样的短文，让我知道你是否认为这是一个好主意。</p><p id="2d35" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">非常感谢您的善意阅读。和我的大多数文章一样，在这里你可以找到完整的代码:<a class="ae ng" href="https://github.com/cosmoduende/r-ggcats" rel="noopener ugc nofollow" target="_blank">https://github.com/cosmoduende/r-ggcats</a></p><p id="e197" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢你坚持到最后，祝你分析非常愉快，可以把一切都付诸实践，对结果感到惊讶，和我一样开心！</p></div></div>    
</body>
</html>