<html>
<head>
<title>Building LSTM-Based Model for Solar Energy Forecasting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建立基于LSTM的太阳能预测模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-lstm-based-model-for-solar-energy-forecasting-8010052f0f5a?source=collection_archive---------16-----------------------#2021-04-08">https://towardsdatascience.com/building-lstm-based-model-for-solar-energy-forecasting-8010052f0f5a?source=collection_archive---------16-----------------------#2021-04-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2301" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">处理LSTM的一些设计问题</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bfd65e5263ed994899da1048e13ec5bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5xFXCNKvhthk_jR8"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源:<a class="ae kv" href="https://unsplash.com/photos/mG8sgwkMhCY" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/mG8sgwkMhCY</a></p></figure><p id="2101" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太阳能是清洁和可再生能源替代来源的最重要组成部分之一。太阳能发电的预测对于下游应用和与传统电网的整合至关重要。不是测量太阳能电池的光电输出，而是经常估计从太阳接收的辐射作为太阳能发电的替代。用于测量的量称为总水平辐照度(GHI ),它包括直接辐射和散射辐射。</p><p id="2d6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">预测的方法可以大致分为以下几种</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/187a48d84d6877f8adf5b52a711a3b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KdpEXzHN-fLhtBt8fBhDbQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图1:预测模型的类型a)基于方法b)基于预测窗口c)基于变量数量。(图片来源:作者)</p></figure><p id="80bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不同的模型是物理模型(NWP)、统计模型(ARIMA、GARCH)、机器学习模型(随机森林、Boosting)和基于深度学习的模型(RNN、LSTM、GRU)。基于预测窗口，如果少于30分钟，则是非常短期的预测，如果多于30分钟，则是短期的预测。短期预测现在更适合印度的情况。如果你想开始了解LSTM，你应该浏览阅读量最大的<a class="ae kv" href="https://colah.github.io/posts/2015-08-Understanding-LSTMs/" rel="noopener ugc nofollow" target="_blank">博客</a>。</p><p id="a81d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">而我们希望基于理解复杂和非线性模式的能力来使用LSTM。我们浏览了很多博客和论文，有一些事情我们不确定。我们计划系统地检查它们。这些数据来自2016年，分别与Chennai、Howrah和Ajmer的三个太阳能发电站有关。对于每个站点，我们从两个季节获取数据，即雨季(由于云层覆盖，最不稳定)和冬季(最不稳定)。还需要指出的是，我们分别讨论了“湿热”和“干热”气候带。对于每个问题，都进行了实验并分析了结果。如下图所示，LSTM类型用三维形状对数据进行建模。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/d7ec5c5049db0f9e20305019b3df88b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*VednrytJE-lJXjEC-cBW4w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图2a:LSTM型模型的输入数据形状。(图片来源:作者)</p></figure><p id="d5fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">数字输入特性:</strong>这简单地告诉我们，有多少变量用于预测。除了使用过去的GHI值，我们还可以使用其他气象变量，如温度、湿度等。</p><p id="1ebe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">时间步数:</strong>这通常被称为输入窗口大小，即我们用于预测的序列的过去值的数量。例如，如果我们打算预测上午10:00的值，我们可以考虑上午09:55、09:50、09:45、09:40以及09: 35和09: 30的值。在这种情况下，窗口大小为6。</p><p id="0884" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">批量:</strong>我们知道，对于所有的ML/DL模型，我们都试图使用梯度下降法找到模型的最佳参数。我们还知道，与其在整个训练数据上寻找梯度，不如在较小的批次上寻找梯度通常更有效。批处理大小参数负责处理这个问题。</p><p id="d665" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">还有一个输出窗口大小的概念，它基于我们是只对下一个观察感兴趣还是对几个后续观察感兴趣。这显示在下图中。如果只有一个观察，我们将有一个单一的输出节点，否则超过一个输出节点。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/10473fdc386b672f332e92160db3cb96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*5SulEXdrrznBsif6rfY0CQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图2b:具有输出窗口的LSTM网络</p></figure><blockquote class="lv lw lx"><p id="b279" class="kw kx ly ky b kz la jr lb lc ld ju le lz lg lh li ma lk ll lm mb lo lp lq lr ij bi translated">D <strong class="ky ir">设计问题1:LSTM的好处之一似乎是不需要时间序列相关的预处理，如去除趋势和季节性，然而研究界似乎正在应用预处理。所以我们想研究是否需要预处理。</strong></p></blockquote><p id="aab2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实验装置很简单。我们通过应用a)无预处理和b)有预处理(去除季节性，数据中没有趋势)来比较性能。结果如下图所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/e5332bde0a55337bc81600f13faeb2d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*U7ra17ArM7HXszb5a8NhrQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图3:用原始数据和预处理数据比较模型(图片来源:作者)</p></figure><p id="5c59" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很明显，LSTM在原始时间序列上的训练给出了更好的结果。性能是根据标准化RMSE和解释方差得分来衡量的，它们是时间序列预测任务的标准度量。</p><blockquote class="lv lw lx"><p id="f46e" class="kw kx ly ky b kz la jr lb lc ld ju le lz lg lh li ma lk ll lm mb lo lp lq lr ij bi translated"><strong class="ky ir">设计问题2:许多从业者似乎也在非时间序列设置中使用LSTM，也就是说，他们使用感兴趣变量的先前值，但将它们视为不同的自变量。有意义吗？</strong></p></blockquote><p id="19bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实验装置简单而琐碎。在设置1中，数据形状为(72，1，30)，30个特征，窗口大小为1。在设置2中，数据形状取为(72，30，1)，一个特征，窗口大小为30。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi md"><img src="../Images/3ed72d09f220b070ec4d32e302dbe29f.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*NznU0zTCzxFxgCGwIPOMNQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图4:基于非时间序列和时间序列设置的模型比较(图片来源:作者)</p></figure><p id="2542" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看到相当多的博客和研究论文将时间步长作为独立的特征，我们真的很困惑，幸运的是，结果显示时间序列设置的结果要好得多。</p><blockquote class="lv lw lx"><p id="9f56" class="kw kx ly ky b kz la jr lb lc ld ju le lz lg lh li ma lk ll lm mb lo lp lq lr ij bi translated">D <strong class="ky ir">设计问题3:一个普遍的直觉是，当我们增加节点或层时，性能应该总是增加的。但是随之而来的是训练时间以及对训练数据的需求的增加。问题是这种直觉有多真实，在哪里停止？</strong></p></blockquote><p id="a8ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，我们使用了一个非常简单的想法。如果给他们更难的问题，任何学习者都需要学得更多。根据同样的类比，如果数据更难处理，任何网络都将需要更大的容量(在层、节点等方面)。一个明显的后续问题是，我们如何衡量这一点？我们认为输入数据显示的可变性越大，预测就越困难。因此，我们首先测量每个站点的GHI的可变性，然后针对不同数量的节点进行训练和评估。结果如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi me"><img src="../Images/dc2b8ae19e34880e9e620a5f21195406.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*x1AO5vPO_3iMs6WcgiZVEQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图5:我们应该继续增加网络的复杂性吗</p></figure><p id="ceaa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于变化率在50左右或小于50的站点-季节组合，我们需要尽可能多的节点，当变化率超过这个范围时，我们需要大约100个节点来达到最佳预测。下图是上表的复制。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/d1479fb32e79115a7433bb474247b0d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*vcrXMMFxAGb08We8f724sw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图6:节点数量和性能</p></figure><p id="0ae0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">结论</strong>:</p><p id="2d05" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">LSTM可以是一个很好的太阳预测模型，建议使用原始时间序列，它们应该被视为时间序列数据，而不是将每个时间步长视为一个单独的属性。更多的节点不一定意味着最好的性能，更复杂的场景将需要更复杂的结构，并且对于简单和复杂的场景，在一定数量的节点之后，学习饱和(可能过度适应)</p><p id="f276" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">致谢</strong>:</p><p id="7320" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是Sourav Malakar作为加尔各答大学数据科学实验室(由A . k . choudh URY IT学院和统计系设立)的博士学者的工作成果。与Amlan Chakrabarti教授和Bhaswati Ganguli教授的多轮讨论帮助很大。我们也感谢国家风能研究所(NIWE)的领域知识，最后但并非最不重要的是LISA(https://sites.google.com/site/lisa2020network/about<a class="ae kv" href="https://sites.google.com/site/lisa2020network/about" rel="noopener ugc nofollow" target="_blank">跨学科统计分析实验室</a>)项目，该项目实际上使团队更具凝聚力。rested的读者可以在这里阅读发表在Springer Nature Applied Science<a class="ae kv" href="https://link.springer.com/article/10.1007/s42452-021-04421-x" rel="noopener ugc nofollow" target="_blank">上的完整文章。</a></p></div></div>    
</body>
</html>