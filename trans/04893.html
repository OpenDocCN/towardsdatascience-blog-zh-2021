<html>
<head>
<title>Degrees of Separation among footballers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">足球运动员之间的分离程度</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/degrees-of-separation-amongst-footballers-4163b86f88d?source=collection_archive---------22-----------------------#2021-04-28">https://towardsdatascience.com/degrees-of-separation-amongst-footballers-4163b86f88d?source=collection_archive---------22-----------------------#2021-04-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="be8f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">构建足球图并分析足球运动员之间的各种中心性度量和平均路径距离</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/79b4d0e51887209f5e6f471095804970.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wh1xA6I_Atr8y1Y0"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@mahdi17?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Md Mahdi </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="fe35" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">为什么要考虑分离度？</h1><blockquote class="lo lp lq"><p id="f394" class="lr ls lt lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">我们都是由六个或更少的熟人联系在一起的——弗里吉斯·卡林西</p></blockquote><p id="528a" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">图论之所以美丽，是因为它可以应用于几乎任何领域。根据多年来对任何社交网络的研究，任何两个节点之间的连接都少于六跳。分离度是社交网络背后的症结所在，例如，LinkedIn会根据另一个用户离你有多远来推荐输入搜索框的名字。一个连接的连接点离你2度，而那个人的连接点离你3度，以此类推。这极大地提高了搜索质量，因为许多同名用户可以根据接近度进行过滤。此外，出于研究目的，分离度总是被分析以收集关于社交网络的信息。多年来，用户之间的分离程度一直在缩小，这表明越来越多的用户在脸书和Instagram等社交网站上找到了联系。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="4786" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">将这种思想应用到足球运动员身上！</h1><p id="b4ae" class="pw-post-body-paragraph lr ls iq lu b lv nd jr lx ly ne ju ma mo nf md me mp ng mh mi mq nh ml mm mn ij bi translated">足球社区也是一个网络。为了构建这个图，我想到了用节点来表示足球运动员，并在两个足球运动员之间建立一条边，如果他们为同一个俱乐部或同一个国家队效力的话。</p><h2 id="8f89" class="ni kx iq bd ky nj nk dn lc nl nm dp lg mo nn no li mp np nq lk mq nr ns lm nt bi translated">Python中的数据集及其实现</h2><p id="66af" class="pw-post-body-paragraph lr ls iq lu b lv nd jr lx ly ne ju ma mo nf md me mp ng mh mi mq nh ml mm mn ij bi translated">对于那些只想看完整代码的人来说，它在我的<a class="ae kv" href="https://github.com/rajlm10/Degrees-of-Separation-amongst-footballers/blob/main/Six_Degrees_Medium.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir"> Github </strong> </a>上。</p><p id="8614" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">这个问题我已经用了Kaggle的<a class="ae kv" href="https://www.kaggle.com/stefanoleone992/fifa-21-complete-player-dataset" rel="noopener ugc nofollow" target="_blank"> <em class="lt"> Fifa 21 </em> </a>数据集。下面是我们如何通过检查常见的俱乐部和国籍来构建图表。我使用了集合运算，因为执行相交非常快。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">数据集</p></figure><p id="8fa5" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">下面是我们如何将俱乐部和国籍合并到一个集合中，然后构建一个图表。请注意，该图是一个<strong class="lu ir">邻接表表示</strong>，这意味着每个节点都有一个它们所连接的边的列表。我还创建了两个字典来将名字映射到id，反之亦然。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="be6a" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">接下来，让我们创建一个函数来查找任意两个节点之间的距离。我使用了BFS算法，并对其进行了修改。对于那些想了解更多的人，这里有<a class="ae kv" href="https://www.geeksforgeeks.org/breadth-first-search-or-bfs-for-a-graph/" rel="noopener ugc nofollow" target="_blank">链接</a>。我将简要描述我所做的事情。</p><ul class=""><li id="300e" class="nw nx iq lu b lv lw ly lz mo ny mp nz mq oa mn ob oc od oe bi translated">创建一个布尔数组来检查大小为number_of_nodes的已访问节点，并创建一个相同大小的距离列表(存储源节点到所有其他节点的距离)</li><li id="2f33" class="nw nx iq lu b lv of ly og mo oh mp oi mq oj mn ob oc od oe bi translated">创建一个队列并添加源节点，然后将其标记为已访问。现在，当队列不为空时，为每个未被访问的节点提取邻居</li><li id="8988" class="nw nx iq lu b lv of ly og mo oh mp oi mq oj mn ob oc od oe bi translated">对于每个邻居，从距离数组中获取其与源的当前距离(最初都是0 ),并在邻居索引处将距离数组加1。将此邻居添加到队列中，并将其标记为已访问。对所有邻居都这样做。</li><li id="d703" class="nw nx iq lu b lv of ly og mo oh mp oi mq oj mn ob oc od oe bi translated">现在检查队列，获取一个添加的节点(让我们称之为temp ),并获取它的邻居。现在，对于这些新邻居中的每一个，获取temp位置处的距离(在第一次迭代后将为1 ),并对其加1，然后将其存储在新邻居索引处的距离数组中。</li><li id="6692" class="nw nx iq lu b lv of ly og mo oh mp oi mq oj mn ob oc od oe bi translated">继续这样做，直到队列为空，并返回距离[destination],即从源到目的地的距离。</li></ul><p id="6a1c" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">这是它的代码</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="a91c" class="ni kx iq bd ky nj nk dn lc nl nm dp lg mo nn no li mp np nq lk mq nr ns lm nt bi translated"><strong class="ak">让我们尽情欢乐，看看两位著名球员梅西和厄灵哈兰德之间的距离！</strong></h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="b4b1" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">如我们所见，距离是三跳。想知道这些是什么吗？该代码还包含一个助手函数来打印我从这个<a class="ae kv" href="https://www.geeksforgeeks.org/print-paths-given-source-destination-using-bfs/" rel="noopener ugc nofollow" target="_blank">站点</a>找到的路径。我做了一点修改，只打印了3条路径，因为我们的图有<strong class="lu ir"> ~35，000条边。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="2b6e" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">现在你明白了吧！梅西和特尔·斯特根是巴萨的队友&amp;许梅尔斯是特尔·斯特根在德国国家队的队友，最后哈兰德是许梅尔斯在多特蒙德的队友。这就是为什么我们把它们之间的最短距离定为3。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="b6a6" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">高潮了！找出所有足球运动员之间的平均最短距离！</h1><p id="389d" class="pw-post-body-paragraph lr ls iq lu b lv nd jr lx ly ne ju ma mo nf md me mp ng mh mi mq nh ml mm mn ij bi translated">虽然我可以扩展改进的BFS方法，但我在这里将使用networkx，因为它们非常接近这个距离，并且计算结果非常快。然而，我们需要构建一个邻接图来使用networkx，我已经在完整的代码中展示了这一点。为了简洁起见，我只向您展示所有的最终结果。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">结果呢</p></figure><p id="b1c4" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">正如我们可以看到的，距离达到了<strong class="lu ir"> 2.5 </strong>，这表明足球网络实际上有多近，并且与六度分离假说相吻合。另外，我们用<strong class="lu ir"> 4.4 </strong>秒计算了距离，这对于一个有<strong class="lu ir">35000条边的图来说是令人印象深刻的。</strong> <strong class="lu ir">使用GPU加速器可以进一步将这个时间缩短到3秒，而每个足球运动员的BFS平均下来通常需要9秒。</strong></p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="a539" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">奖金！—图形中心性测量！</h1><p id="51aa" class="pw-post-body-paragraph lr ls iq lu b lv nd jr lx ly ne ju ma mo nf md me mp ng mh mi mq nh ml mm mn ij bi translated">对社交信息网络感兴趣的人会喜欢这一部分，其他人可以跳到Outro。</p><h2 id="83c7" class="ni kx iq bd ky nj nk dn lc nl nm dp lg mo nn no li mp np nq lk mq nr ns lm nt bi translated">1.程度中心性</h2><p id="f6c2" class="pw-post-body-paragraph lr ls iq lu b lv nd jr lx ly ne ju ma mo nf md me mp ng mh mi mq nh ml mm mn ij bi translated"><strong class="lu ir">度中心性</strong></p><p id="288a" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">节点v的度中心性是它所连接的节点的分数，最容易计算，度越高，节点通常越中心。</p><p id="958f" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated"><strong class="lu ir">注意事项</strong> -我们很容易被某个远离核心、影响力不大但具有高度中心性的集群误导</p><p id="04b5" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">我们可以看到利物浦的Thiago具有最高的中心度。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">程度中心性</p></figure><h2 id="c27b" class="ni kx iq bd ky nj nk dn lc nl nm dp lg mo nn no li mp np nq lk mq nr ns lm nt bi translated"><strong class="ak"> 2。中间中心性</strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/bd8fb911b1f58a5fe9d9ac023d065504.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*Qk24zGCMu2G4wtQ7jcIJFA.png"/></div></figure><p id="2f0d" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">其中v是节点的集合，𝜎(𝑠,𝑡)是最短(𝑠,𝑡)路径的数量，𝜎(𝑠,𝑡|𝑣)是通过除𝑠,𝑡之外的某个节点𝑣的那些路径的数量。</p><p id="b1c8" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated"><strong class="lu ir">中间中心性</strong>在网络理论中有广泛的应用；它表示节点之间的距离。例如，在一个网络中，一个具有更高<strong class="lu ir">中间中心性</strong>的节点将对网络有更多的控制，因为在我们的例子中，更多的信息将通过该节点或玩家传递。</p><p id="05d1" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">一个有趣的结果是，<strong class="lu ir">帕拉西奥斯</strong>出现了。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">中间中心性</p></figure><h2 id="cd3b" class="ni kx iq bd ky nj nk dn lc nl nm dp lg mo nn no li mp np nq lk mq nr ns lm nt bi translated">3.接近中心性</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/7918f59ce84b6d3b56db0932cfa184e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*9_OfliCOpUHXVo9OtQgbFw.png"/></div></figure><p id="76cf" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">其中n是节点数，d(v，u)是两个节点之间的最短距离。</p><p id="20bc" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">亲密度可以被看作是衡量信息传播到所有其他节点的速度。如果一个节点有很强的<strong class="lu ir">接近中心性</strong>，那么它就有能力利用它的关系<strong class="lu ir">快速传播信息。这些人可能是网络的重要影响者。</strong></p><p id="79c5" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated"><strong class="lu ir">曼城的罗德里&amp;西班牙似乎是一个重要的影响者！</strong></p><div class="om on gp gr oo op"><a href="https://jovian.ml/rajbsangani/six-degrees-medium/v/1&amp;cellId=12" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">rajbsangani/六度中等木星</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">与rajbsangani合作开发六度介质笔记本电脑。</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">jovian.ml</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd kp op"/></div></div></a></div></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="2dbf" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">结尾部分</h1><p id="fa78" class="pw-post-body-paragraph lr ls iq lu b lv nd jr lx ly ne ju ma mo nf md me mp ng mh mi mq nh ml mm mn ij bi translated">这个快速实验展示了我们如何在任何可以建立逻辑关系的地方形成图表，并使用流行的图表技术分析它们。一般来说，网络中的分离度正在缩小，而且还会继续缩小！</p><p id="e8d3" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">请让我知道你对这篇文章的看法，并愿意讨论与它相关的任何事情。如果你喜欢，请留下一些掌声！查看我的<a class="ae kv" href="https://github.com/rajlm10" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir"> github </strong> </a>其他一些项目。可以联系我<a class="ae kv" href="https://rajsangani.me/" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir"> <em class="lt">这里</em> </strong> </a> <strong class="lu ir"> <em class="lt">。</em> </strong>感谢您的配合！</p></div></div>    
</body>
</html>