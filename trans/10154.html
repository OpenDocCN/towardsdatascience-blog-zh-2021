<html>
<head>
<title>How I built the ELTEA17 dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何构建ELTEA17数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-i-built-the-eltea17-dataset-a8dc9f27ed57?source=collection_archive---------25-----------------------#2021-09-25">https://towardsdatascience.com/how-i-built-the-eltea17-dataset-a8dc9f27ed57?source=collection_archive---------25-----------------------#2021-09-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b83a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用于情感分类和讽刺检测的实体级Tweets情感分析数据集</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3aa1353cf8c71e12fa64d6c2aee4f8ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nqCT8EIltUsZSUGgZdxTTw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">ELTEA17 ( <em class="kv">图片来源于jasondavies.com/wordcloud/</em><a class="ae kw" href="https://www.jasondavies.com/wordcloud/" rel="noopener ugc nofollow" target="_blank"/><a class="ae kw" href="https://www.jasondavies.com/wordcloud/" rel="noopener ugc nofollow" target="_blank">)</a></p></figure><p id="28c7" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">实体级推文情感分析数据集(ELTEA17)是一个对推文进行细粒度情感分析的数据集，我在这里公开了<a class="ae kw" href="https://github.com/RoozbehBandpey/ELTEA17" rel="noopener ugc nofollow" target="_blank"/>。它是我2017年关于<a class="ae kw" href="https://www.researchgate.net/profile/Roozbeh-Bandpey-2/publication/341344305_Structured_Emotion_Prediction_of_Tweets_With_Co-extraction_of_Cause_Holder_and_Target_of_Emotions/links/5ebbc08ea6fdcc90d6728396/Structured-Emotion-Prediction-of-Tweets-With-Co-extraction-of-Cause-Holder-and-Target-of-Emotions.pdf" rel="noopener ugc nofollow" target="_blank">原因、持有人、目标</a>共提取的推文结构化情感预测研究的子产品。</p><p id="6611" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">ELTEA17由<strong class="kz ir"> 2034 </strong>条匿名推文组成，用Ekman的六个<a class="ae kw" href="https://1ammce38pkj41n8xkp1iocwe-wpengine.netdna-ssl.com/wp-content/uploads/2013/07/Universals-And-Cultural-Differences-In-Facial-Expressions-Of.pdf" rel="noopener ugc nofollow" target="_blank">类中的一个</a>类进行注释，以及它们的二进制讽刺注释。在令牌级标注中，该数据集用一个或多个Ekman类标记每个情感关键词，并标记总体情感的持有者、原因和目标。如果您发现这对您的研究或用例有用，请前往GitHub上的<a class="ae kw" href="https://github.com/RoozbehBandpey/ELTEA17" rel="noopener ugc nofollow" target="_blank"> ELTEA17资源库</a></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="87b4" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">用例</h1><p id="4f68" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">来自Twitter等微博服务的大量用户生成数据是一个很好的来源，反映了公众对从政治和世界事件到消费品的现象和情况的看法和反应。由于统计和机器学习方法已经成为构建各种自然语言处理(NLP)应用的首选方法，情感分析正在成为NLP研究中的一个热门话题，该研究主要关注用户在社交媒体上的情感反应。</p><p id="b184" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">各种各样的信息处理应用处理自然语言文本。这些应用除了处理它们的表面形式之外，还需要提取和处理文本实体。通过访问预定义的文本实体，诸如情感分析、意见挖掘和情感分析等应用程序受益匪浅。例如，基于方面的情感分析旨在提取重要的实体，如意见目标、意见表达、目标类别和意见极性。就像基于方面的情感分析一样，提取文本实体，如情感的持有人、原因和目标，可以提供对情感承载推文的显著覆盖。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="5d6b" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">情感分类学</h1><p id="c000" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">情感分析的首要问题是确定情感的分类。研究人员为此提出了一个主要情绪列表。对于ELTEA17，我采用了埃克曼的情绪分类，它确定了六种主要情绪，即:<em class="mx">快乐</em>、<em class="mx">悲伤</em>、<em class="mx">愤怒</em>、<em class="mx">恐惧</em>、<em class="mx">惊讶、</em>和<em class="mx">厌恶</em>。为了进行细粒度的情感分类，识别<em class="mx">持有者</em>、<em class="mx">原因</em>和<em class="mx">目标</em>以及情感关键词可以为分类器提供有意义的特征。这种信息非常有趣，因为它可以提供关于推文情绪极性的实用知识。例如，这三者之间的相互作用和推文的整体情绪极性可以给我们回答的能力；“谁表达了情感？”，“是什么情绪？”“情感的目的是什么？”以及“为什么会产生这样的情绪？”</p><h1 id="dfb8" class="ma mb iq bd mc md my mf mg mh mz mj mk jw na jx mm jz nb ka mo kc nc kd mq mr bi translated">数据集构建</h1><p id="bfa5" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">ELTEA17数据集具有句子级和标记级注释。在句子级注释中，每个句子都用六个埃克曼类中的一个进行注释。在标记级注释中，注释指示用于其角色含义情感<em class="mx">持有者</em>、<em class="mx">原因、</em>和<em class="mx">目标</em>的每个词汇，以及情感关键词。</p><p id="ab21" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在高层次上，ELTEA17经历了以下步骤:</p><ol class=""><li id="a7b1" class="nd ne iq kz b la lb ld le lg nf lk ng lo nh ls ni nj nk nl bi translated">考虑情感关键词、情感标签、表情符号、文本长度等，从Twitter自动获取随机帖子。</li><li id="2d87" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls ni nj nk nl bi translated">排除干扰，如网页链接、地理标签、重复的帖子等。</li><li id="9fad" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls ni nj nk nl bi translated">定义情感角色和情感关键词标注的标注策略</li><li id="e416" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls ni nj nk nl bi translated">当存在多种情绪或代表情绪不明确时，定义一个策略</li><li id="7973" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls ni nj nk nl bi translated">使用情感角色和情感关键词手动注释推文(令牌级注释)</li><li id="f228" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls ni nj nk nl bi translated">手动将推文标注为六种埃克曼情感类别(句子级标注)</li></ol><h2 id="8812" class="nr mb iq bd mc ns nt dn mg nu nv dp mk lg nw nx mm lk ny nz mo lo oa ob mq oc bi translated">数据收集</h2><p id="72ef" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">数据收集的目标是捕获对目标数据集可靠的数据。也就是说，数据集必须包含带有特定关键字的推文，这些关键字传达情感以及因果关系的语言学线索。因果关系的语言学线索并不一定输出带有情感原因的推文。相反，它们帮助我们收集具有一般因果关系的推文。由于情感原因检测是一般原因检测的特殊情况，这将是过滤掉不需要的数据用于注释的有用过程。</p><h2 id="a2da" class="nr mb iq bd mc ns nt dn mg nu nv dp mk lg nw nx mm lk ny nz mo lo oa ob mq oc bi translated">推特数据</h2><p id="2a02" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">出于这项研究的目的，我使用Twitter的基本API和<a class="ae kw" href="https://www.tweepy.org/" rel="noopener ugc nofollow" target="_blank"> tweepy </a>构建了一个数据收集器作业。该脚本采用一组关键字来过滤掉不想要的推文。以下是每个过滤器的详细说明:</p><ul class=""><li id="26b2" class="nd ne iq kz b la lb ld le lg nf lk ng lo nh ls od nj nk nl bi translated"><strong class="kz ir">语言</strong>:整个摄取过程用英语设定</li><li id="cd51" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated"><strong class="kz ir">表情符号</strong>:预定义的最常用表情符号列表，如:)、:D等。，带着各自的情绪。这个列表摘自马克·兰伯特的一部未出版的作品。</li><li id="8639" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated"><strong class="kz ir">情感标签</strong>:基于<a class="ae kw" href="https://www.researchgate.net/publication/258762213_Harnessing_Twitter_'Big_Data'_for_Automatic_Emotion_Identification" rel="noopener ugc nofollow" target="_blank">这项研究</a>“93%带有用户提供的情感标签的推文都是与情感相关的”我采用了他们提出的<a class="ae kw" href="https://github.com/RoozbehBandpey/ELTEA17/blob/main/filters/hashtags.txt" rel="noopener ugc nofollow" target="_blank">情感标签列表的最小版本</a>，每个标签都对应于它的Ekman类。</li><li id="daf0" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated"><strong class="kz ir">情感关键词</strong>:我用了<a class="ae kw" href="https://arxiv.org/pdf/1308.6297.pdf" rel="noopener ugc nofollow" target="_blank"> NRC情感词表</a>。这个列表包含了3462个字典，每一个都被划分到了<a class="ae kw" href="#7597" rel="noopener ugc nofollow"> Plutchik </a>类中。</li><li id="3b01" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated"><strong class="kz ir">致使语言线索</strong>:为了有更多的数据明确提到了情绪的哪一个原因，我构建了一个致使语言线索列表，比如<em class="mx">因为</em>、<em class="mx">由于</em>等等。</li><li id="46c3" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated"><strong class="kz ir">战争相关关键词</strong>:经过对数据的样本分析，我注意到大部分收集到的数据都偏向于快乐，因为比如生日快乐的信息。于是我决定用一个传达战争和政治冲突的关键词列表来收集，比如<em class="mx">进攻</em>、<em class="mx">入侵</em>、<em class="mx">出兵</em>等。</li></ul><p id="b213" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了更好地分配主题，数据收集过程持续了近一个月，每次在一天的不同时间进行。对于数据收集器的每一次运行，都使用了上述所有关键字，而没有使用任何关键字。在此图中，您可以看到基于过滤器使用的收集数据的分布。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/fcfba113b2f833132ecad95176ca3606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Op1p-T1RbKkWR0Nz1rIzcA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">根据文件大小分发收集的数据，过度使用关键字(<em class="kv">作者图片</em>)</p></figure><p id="8e7d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">该脚本将每个tweet数据作为python字典返回，其中包含诸如“创建于”、“id”、“文本”等关键字。，因为这些数据包含了大量不必要的数据集信息，在下一步中，我从这些内容中剔除了不需要的信息。提取标签、表情符号、提及、链接和表情符号后，每条记录如下所示:</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="d42f" class="nr mb iq og b gy ok ol l om on">{<br/> "id":9025500993849∗∗∗∗∗,<br/> "text":"Josh’s Family Must Be so Proud of him ... ,<br/> "datetime":"Tue Aug 29 15:14:46 +0000 2017",<br/> "links":[],<br/> "emojis":[],<br/> "mentions":["@∗∗∗∗∗"],<br/> "emoticons":[],<br/> "hashtags":[],<br/> "filter":"CE",<br/> "num_words":n,<br/>}</span></pre><h2 id="a8c6" class="nr mb iq bd mc ns nt dn mg nu nv dp mk lg nw nx mm lk ny nz mo lo oa ob mq oc bi translated">过滤</h2><p id="c496" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">收集的推文总数超过100万条。最终，每条记录都存储在SQLite数据库中，以便更快地访问，应用查询进行进一步的记录选择和清理。为了处理重复的tweet，我将tweet数据库的文本字段设置为唯一标识符，它会自动拒绝存储重复的tweet。tweet表的整体记录差不多有50万条。以下快照显示了数据库模式。让我们检查一些应用于进一步过滤的查询:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/af0a58df9cd6158eec1c9240ca9d7a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u06EqlI8J6uvuxb2M9wfHA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来自SQLite数据库的Tweets表(作者的<em class="kv">图片)</em></p></figure><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="32b1" class="nr mb iq og b gy ok ol l om on"># selects random tweets where they have hashtag and the filter which has been used for ingestion was emotion hashtags (EHT)<br/>SELECT * FROM tbl_tweets WHERE (hashtag != ’F’ AND filter = ’EHT’ ) ORDER BY RANDOM()</span><span id="7d6d" class="nr mb iq og b gy op ol l om on"># selects random tweets where the filter which has been used for ingestion was causative keywords<br/>SELECT * FROM tbl_tweets WHERE (filter = ’CE’ ) ORDER BY RANDOM()</span><span id="f43a" class="nr mb iq og b gy op ol l om on"># selects random tweets where they have emoji<br/>SELECT * FROM tbl_tweets WHERE emoji != ’F’ ORDER BY RANDOM()</span><span id="f89d" class="nr mb iq og b gy op ol l om on"># selects LIMIT number of tweets where the length field is less or equal to 20, and the filter which has been used for ingestion was 'war' keywords<br/>SELECT * FROM tbl_tweets WHERE (filter = ’war’ AND length &lt;= 20) ORDER BY length DESC LIMIT</span><span id="8542" class="nr mb iq og b gy op ol l om on"># selects tweets where they have hashtag and the filter which has been used for streaming was NRC emotion lexicon, and no link exists in tweets, and the length of tweets is between 5 and 35 tokens<br/>SELECT * FROM tbl_tweets WHERE (hashtag != ’F’ AND filter = ’NRC’ AND link = ’F’ AND (length BETWEEN 5 AND 35))</span></pre><p id="8abe" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">限制推文长度的动机是，出于机器学习的目的，较长的推文包含更多的上下文信息。有链接的推文越少越好，因为那些大多是广告，包含的观点内容越少。</p><p id="5a58" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">综合所有查询的结果，得到<strong class="kz ir"> 3348条</strong> tweet实例，这些实例包含足够多的情感关键词和每条tweet的原因提及。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="a4f1" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">注释</h1><h2 id="d0a1" class="nr mb iq bd mc ns nt dn mg nu nv dp mk lg nw nx mm lk ny nz mo lo oa ob mq oc bi translated">句子级</h2><p id="b478" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">这个数据集的主要目的之一是用于文本分类器。句子级标注考虑了两组标签。埃克曼情感类以及讽刺二元注释。这个注释不需要特定的平台，只需使用一个文本编辑器就可以完成。每条推文的注释考虑了以下标准:</p><ul class=""><li id="4813" class="nd ne iq kz b la lb ld le lg nf lk ng lo nh ls od nj nk nl bi translated">只有表达某种类型的Ekman类的tweets才会被注释。</li><li id="d6c6" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated">当多种情绪存在时，占主导地位的情绪被选中。</li><li id="7834" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated">如果情绪太难或太模糊而无法决定，这条推文就会被丢弃。</li></ul><p id="f089" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这个过程成功地注释了<strong class="kz ir"> 2034 </strong> tweet实例。在这里，您可以看到注释数据在句子级别的分布，分布在六个类别中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/a050ad9d8bd869ec502a290d28fdbd28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ky0IRP_an5_1QGep7cx-mg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Ekman类上句子级的注释数据分布(<em class="kv">作者图片</em>)</p></figure><h2 id="f33d" class="nr mb iq bd mc ns nt dn mg nu nv dp mk lg nw nx mm lk ny nz mo lo oa ob mq oc bi translated">令牌级</h2><p id="111d" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">在这一节中，首先我描述了情感表达中的语言现象。然后我解释注释方案的细节。该数据集的另一个目的是从推文中识别<em class="mx">持有者</em>、<em class="mx">原因</em>、<em class="mx">目标</em>和情感关键词，以便可以轻松地将其输入序列标记算法，如HMM、CRF或LSTM。</p><h2 id="0e89" class="nr mb iq bd mc ns nt dn mg nu nv dp mk lg nw nx mm lk ny nz mo lo oa ob mq oc bi translated">情感关键词</h2><p id="1807" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">在书面文本中，可能会有用来表达情感的关键词。在情感角色的背景下，在标注中找到合适的情感类关键词是识别其角色的前提。注释侧重于显性情绪，在这种情绪中，他们通常通过关键词来表达，如“听到他的死讯后，我很震惊”。由于不同的可能原因，如意义模糊，关键词的存在不一定传达情感信息。例如，“祝愿”在“他希望有好天气”中是一个幸福的词。它也可以是不同上下文中的歌曲名称。因此，注释应该通过考虑tweets的上下文来完成。</p><p id="a94e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">情感关键词注释的粒度级别是词汇单元。它可以是单个单词或短语。对于每个条目，关键字都用它们各自的Ekman类进行了注释。因为在一个条目中可以呈现一种以上的情感；注释者可以选择多个合适的类(最多3个类)。比如“愤慨”显然属于<em class="mx">愤怒</em>范畴。另一方面，“恐怖主义”根据上下文，可以被贴上<em class="mx">悲伤</em>、<em class="mx">愤怒</em>或<em class="mx">恐惧</em>的标签。词汇单位可以分为以下几类:</p><ul class=""><li id="f85a" class="nd ne iq kz b la lb ld le lg nf lk ng lo nh ls od nj nk nl bi translated">六种情绪之一:注释者指出他们认为更合适的情绪(如果有的话)。</li><li id="09f4" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated">同时多个类:注释者用多个类的组合来表示情感，他们认为这样更接近词汇单元的情感(注意不允许3个以上Ekman类的组合)。</li><li id="594e" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated">六个情感类都不是:注释者从三个建议类<em class="mx">期望</em>、<em class="mx">信任、</em>和<em class="mx">其他中选择一个。</em></li></ul><h2 id="461e" class="nr mb iq bd mc ns nt dn mg nu nv dp mk lg nw nx mm lk ny nz mo lo oa ob mq oc bi translated">情感原因</h2><p id="28f6" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">根据大多数<a class="ae kw" href="https://aclanthology.org/C10-1021/" rel="noopener ugc nofollow" target="_blank">理论</a>，一种情绪通常是由外部事件引发的。因果关系是一种被定义为“原因和结果之间的关系”的语义关系，为了识别情绪状态的原因，注释者应该能够回答这样的问题:“为什么持有人会感觉到那种情绪？”</p><p id="7e07" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在文本中，情感原因被认为是一个引起相应情感出现的命题。一般认为一个命题有一个动词，它可以选择把出现在它前面的名词作为主语，把出现在它后面的名词作为宾语。然而，一个原因有时被表示为一个名词。由于情感原因检测是一般原因检测的特例，标注者可以采用一些典型的语言模式，如:<em class="mx">因为</em>、<em class="mx">因此</em>、<em class="mx">结果</em>、<em class="mx">因此</em>、<em class="mx">由于</em>等。，以及其他一些潜在表明情感原因的语言线索，如使役动词像<em class="mx"> get </em>、<em class="mx"> have </em>、<em class="mx"> make </em>、<em class="mx"> let </em>。情感原因的注释需要两个基本约束:</p><ul class=""><li id="5463" class="nd ne iq kz b la lb ld le lg nf lk ng lo nh ls od nj nk nl bi translated">显式约束限定了与情绪表达直接相关的单个突出的情绪原因(使用致使语言线索可以很容易地检测到)。</li><li id="2a98" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated">隐性约束限定了所有直接和间接的情感原因(原因可以从含义中推断出来)。</li></ul><p id="17e6" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在标注情感原因时，如果某个特定原因存在，标注者应该考虑与该原因对应的每个情感关键词。一个情感关键词有时可以与多个原因相关联，在这种情况下，所有原因都被标记。注意，情感关键词的存在并不一定保证情感原因的存在。没有明确表示原因的推文，主要是因为以下原因:</p><ul class=""><li id="1c08" class="nd ne iq kz b la lb ld le lg nf lk ng lo nh ls od nj nk nl bi translated">推文太短，因此没有足够的上下文信息，例如:“我很生气，很臃肿”。</li><li id="528a" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated">这条推文足够长，但原因可能超出了上下文。</li><li id="05d2" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated">原因不明，可能是由于高度抽象。</li></ul><h2 id="4769" class="nr mb iq bd mc ns nt dn mg nu nv dp mk lg nw nx mm lk ny nz mo lo oa ob mq oc bi translated">情感持有者</h2><p id="0795" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">一条推文的来源是作者。情绪状态的来源是表达情绪的人。当一条推文带有情绪时，推文的作者可能是持有人，因为作者可能在帖子中表达了他/她的情绪，但作者也可能写了其他人的情绪，导致一句话有多个来源。</p><p id="4c37" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">情感持有人识别是语义角色标注研究的一个子领域，使用通用语言模式进行识别是合理的。我将情感持有者定义为一个带有标签<em class="mx"> holder </em>的短语，用于语料库的构建，无论是隐性的还是显性的情感表达。不是把情感持有者限定为一个人，而是可以是任何表达情感的实体。情感持有者通常是名词短语，有时是介词短语。例如，在下面的句子中，粗体显示的跨度表示情感持有者。</p><p id="31f0" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">杰夫感到非常高兴。<br/> <strong class="kz ir">珍妮</strong>感到幸福<strong class="kz ir"> </strong>关于<strong class="kz ir">杰夫的</strong>幸福。</p><p id="3cc5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在第二个示例中，还应该标识“Jeff”。因此，在一个句子中有两个情感持有者。</p><h2 id="16a5" class="nr mb iq bd mc ns nt dn mg nu nv dp mk lg nw nx mm lk ny nz mo lo oa ob mq oc bi translated">情感目标</h2><p id="7ea7" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">情感目标是情感所涉及的实体。更具体地说，它们是情感所针对的实体及其属性。在tweets中，情感目标是相当多样的，因为有大量不同的主题:命名实体和作为情感对象的名词短语。在主观文本中，情感目标往往伴随着情感关键词。例如，在“我讨厌下雨的天气”中，下雨的天气是情感的目标。有人可能会说，下雨的天气可以解释为情绪状态的一个原因。有时，情感表达在像tweets这样的非正式文本中可以有重叠的情感原因和情感目标。这就是为什么该数据集甚至将原因提取与目标识别相结合，以提高性能[3]。情绪目标很重要，因为如果不知道它们，推文中表达的情绪就没有多大用处。</p><p id="13c7" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">情感关键词和目标之间存在语言关系，这是因为情感关键词是用来修饰目标的。在主观表达中，情感持有者、情感关键词和情感目标与主体相关，修饰直接客体。</p><p id="f9db" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">一旦持有人有了特定的情绪状态，这种情绪状态可以用引发它的特定原因和对情绪目标进行分类的主题来描述。也可以有这样的情况，其中响应发生或者原因为什么引起持有者的特定响应，但是在注释中没有考虑它。换句话说，标注过程中不考虑情感关键词、情感原因、情感目标之外的任何信息。下面是带注释的数据在标记级的最终分布:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/2ccbb2490996ec4a026f08020264a270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vXJs0zlO_AphWdnA68fgug.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Ekman类上标记级的注释数据分布(<em class="kv">作者图片</em>)</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="470c" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">训练数据集格式</h1><p id="a736" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">对于序列标记问题,“行业标准”编码是生物编码。它将标签中的文本细分为实体外部(O-X)、实体开头(B-X)或实体延续(I-X)。在ELTEA17中，BIO表示法将文本分成重叠的单词组，即所谓的文本块。因此，对于每组标记，需要不同的生物表示。具体来说，每六个情感类别加三个情感角色一个生物编码，这导致九层生物编码。下表显示了不同层中BIO编码的注释表示。注意，杀死的令牌<em class="mx">已经被标注了<em class="mx">恐惧</em>和<em class="mx">悲伤</em>。</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="os ot l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">不同层次的例句生物注释</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/218f6eef29d0569f3688d7261024ae5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0pXqmNPmrfIZbyHkXr3kZA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">ELTEA17注释的图形表示(<em class="kv">作者图片</em></p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="fc3e" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">数据统计</h1><p id="2f7e" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">让我们来看看ELTEA17的一些初步统计数据。下表显示了语料库的总体概要。为了进行评估，我使用了5倍交叉验证，通过应用随机搜索算法设置了<strong class="kz ir">倍</strong>的值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="os ot l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">语料库摘要</p></figure><p id="c315" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">接下来，让我们看看不同实体的一些统计数据，下表显示了情绪<em class="mx">导致</em>、<em class="mx">持有人</em>和<em class="mx">目标</em>被提及的推文比例。对于原因的提及，最高的数字属于<em class="mx">惊讶</em>一类，有趣的是表达他们惊讶感觉的作者，关于一个情境或现象，他们更愿意带来他们情感的原因。对于提及<em class="mx">目标</em>而言，最低的数字属于<em class="mx">恐惧</em>类别，这意味着在恐惧已被表达的背景下，持有者不太愿意提及恐惧所针对的实体。最后，提到<em class="mx">持有者</em>，最小的数字属于<em class="mx">愤怒</em>类别。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="os ot l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">包含情感原因、目标和持有人的推文比例</p></figure><p id="aedd" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">下面的表格显示了每一类推文的最大、最小和平均长度。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="os ot l"/></div></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="6309" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">注释工具</h1><p id="c7f3" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">有许多工具可以提供带有实体和关系的手动注释环境。文本工程通用架构(General Architecture for Text Engineering or GATE)是一套完善的开源工具套件，用于NLP任务，最初由谢菲尔德大学开发。它为语义标注和本体数据建模提供了一个协作的标注环境。Brat rapid是一个协作文本注释的在线环境。它是专门为结构化注释而设计的。WebAnno是一个基于网络的注释工具，用于各种各样的语言注释，包括不同层次的词法、句法和语义注释。在此工具中，可以定义自定义注记图层。此外，它支持多个用户进行协作注释项目。</p><p id="e5a6" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我最终选择了WebAnno作为注释工具，唯一的原因是它使得在不同的层中构建注释变得容易。下图是WebAnno的工作环境。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/c0ef770b29c0c1663daea854b91382ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*UESxhdyOulOg8D7D4eGQIA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">WebAnno工具的工作环境(<em class="kv">图片作者</em>)</p></figure><p id="f692" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这个工具可以以多种<a class="ae kw" href="https://webanno.github.io/webanno/releases/3.2.2/docs/user-guide.html" rel="noopener ugc nofollow" target="_blank">文件格式</a>导出注释，在所有TSV 3中最容易转换成BIO编码。导出的文件包括标题和正文部分。标题部分包含有关文件中使用的不同类型的注记图层和要素的信息。下面你可以看到WebAnno TSV 3文件的标题标记以及一个示例注释。</p><pre class="kg kh ki kj gt of og oh oi aw oj bi"><span id="ba7e" class="nr mb iq og b gy ok ol l om on">#FORMAT=WebAnno TSV 3.1<br/>#T SP=webanno.custom.Emotion|Emotion|Role</span><span id="b9fc" class="nr mb iq og b gy op ol l om on">#Text=I need a tutor because chemistry exam is killing me<br/>305–1 33289–33290 I _ _<br/>305–2 33291–33295 need _ _<br/>305–3 33296–33297 a _ _<br/>305–4 33298–33303 tutor _ _<br/>305–5 33304–33311 because _ _<br/>305–6 33212–33321 chemistry *[3364]|cause[3364]<br/>305–7 33322–33326 exam *[3364]|*[3365] cause[3364]|target[3365] <br/>305–8 33327–33329 is _ _<br/>305–9 33330–33337 killing sadness[3366]|fear[3367] *[3366]|*[3367] <br/>305–10 33338–33340 me * holder</span></pre><p id="8258" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">对于跨度类型，图层用“#”标记，后跟“T SP=”，要素用“_”分隔。句子出现在文本标记“#Text=”之后。标记注释以句子标记号开始，后面是开始-结束偏移量和标记本身，用制表符分隔。这里对于第一个记号“I”，<strong class="kz ir"> 305 </strong>表示句子编号，<strong class="kz ir"> 1 </strong>表示记号编号，<strong class="kz ir"> 33289 </strong>是记号的开始偏移，<strong class="kz ir"> 33290 </strong>是记号的结束偏移。对于一个跨度的每个特征，注释值将与记号/子记号注释出现在同一行中，由制表符分隔。如果没有给定跨度层的注释，则在列中放置“_”字符。如果要素没有注记或跨度图层根本没有要素，则“*”字符表示注记。对于令牌“我”，星号意味着该令牌不与任何情绪类型相关联，因为第一层专用于情绪类型，并且该令牌的角色与<em class="mx">持有者</em>相关联。令牌上的多跨度注记将有一个用括号括起来的编号参考，如[N],其中N表示图层上的第<em class="mx">个</em>注记。</p><h1 id="9126" class="ma mb iq bd mc md my mf mg mh mz mj mk jw na jx mm jz nb ka mo kc nc kd mq mr bi translated">后续步骤</h1><ul class=""><li id="38df" class="nd ne iq kz b la ms ld mt lg ow lk ox lo oy ls od nj nk nl bi translated"><a class="ae kw" href="https://www.linkedin.com/in/roozbehbandpey/" rel="noopener ugc nofollow" target="_blank">敬请关注</a>了解我是如何结合CRF和CNN进行情感分类的</li><li id="bb9e" class="nd ne iq kz b la nm ld nn lg no lk np lo nq ls od nj nk nl bi translated">请随意探索<a class="ae kw" href="https://github.com/RoozbehBandpey/ELTEA17" rel="noopener ugc nofollow" target="_blank"> ELTEA17 </a></li></ul><h1 id="1969" class="ma mb iq bd mc md my mf mg mh mz mj mk jw na jx mm jz nb ka mo kc nc kd mq mr bi translated">进一步参考</h1><p id="7597" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">[1]罗伯特·普卢奇克:《情绪:理论、研究和经验》。情绪理论，第一卷。美国纽约州纽约市学术出版社。, 1980.</p><p id="69a5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">[2]任，石，<a class="ae kw" href="https://ieeexplore.ieee.org/document/884344" rel="noopener ugc nofollow" target="_blank">一个通用的基于本体的多语言多功能多媒体智能系统</a> (2000)会议论文集。2000年ieee系统、人和控制论国际会议。</p><p id="93a0" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">[3]陈、应、李一梅、、和朱(T0)(2010)《第23届计算语言学国际会议论文集》第179-187页</p><p id="f3ce" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">[4]李维员，华旭<a class="ae kw" href="https://www.researchgate.net/publication/259138036_Text-based_emotion_classification_using_emotion_cause_extraction" rel="noopener ugc nofollow" target="_blank">基于文本的情感分类与情感原因抽取</a> (2014)专家系统与应用41(4):1742–1749</p><p id="c801" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">[5]<a class="ae kw" href="https://webanno.github.io/webanno/releases/3.2.2/docs/user-guide.html" rel="noopener ugc nofollow" target="_blank">https://weban no . github . io/weban no/releases/3 . 2 . 2/docs/user-guide . html</a></p></div></div>    
</body>
</html>