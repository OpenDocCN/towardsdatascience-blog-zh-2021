<html>
<head>
<title>Achieving Quantum Advantage at Solving Super Sudokus with D-Wave</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用D-Wave实现超级数独的量子优势</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/achieving-quantum-advantage-at-solving-super-sudokus-with-d-wave-a7d2ae97d534?source=collection_archive---------25-----------------------#2021-09-04">https://towardsdatascience.com/achieving-quantum-advantage-at-solving-super-sudokus-with-d-wave-a7d2ae97d534?source=collection_archive---------25-----------------------#2021-09-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ae83" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">数独，人类，经典和量子计算机</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7ae35adbaa2fd96670c98141ae220f86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ejGFj1coYSeEYx-Vop7nFw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图1:D波退火量子计算机的中心部分，在这张图片中没有冷却到15 mK。由D-Wave提供的媒体。</p></figure><h1 id="4c23" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">数独，人类，经典和量子计算机</h1><p id="1214" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">数独是谜题<a class="ae kv" href="https://time.com/4078049/seizure-sudoku-puzzles/" rel="noopener ugc nofollow" target="_blank">有些人喜欢手动解决</a>。这是一个9x9(或(3*3)*(3*3))的难题，在每个方块中，你应该填写从1到9的数字。每行和每列以及每个标记的3×3子方块只能包含1到9中的每个数字一次。</p><p id="1917" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">最训练有素的人通过反复试验，或者用计算机科学术语来说，通过回溯算法，在几分钟内解决9x9版本。</p><p id="50fd" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">有些人更喜欢让计算机解决数独。然而，计算机发现传统的(3*3)*(3*3)数独简单得可笑。使用传统的混合整数规划方法，这些问题通常在大约15毫秒内解决。为了增加挑战，我们考虑了更大的(n * n)*(n * n)n &gt; = 4、“超级”或“元”数独。当n变大时，(n*n)*(n*n)以快得多的速度变大。所以在n点，大约6，7，8台经典计算机开始挣扎，这意味着它们需要几个小时或几天来解决这样一个数独。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/059d9ca11b054c401190d3b92530e6e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5PixoDabM7RpFQ24NskoVg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图二。一个9*9 (=(3*3) * (3*3))的数独游戏是为人类设计的，让他们可以玩几分钟。在15毫秒的典型求解时间内，它对经典计算机来说没有挑战，所以我们大幅增加它们的规模，就像这个(7*7) * (7*7)超级数独，然后让经典和量子计算机工作来解决它们。</p></figure><p id="a48a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这是量子计算机可能表现更好的地方。</p><p id="139a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">研究这个问题是本文的主题。</p><h1 id="6d8c" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">什么是量子计算？</h1><p id="0a7c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">多亏了量子现象(1) <a class="ae kv" href="https://en.wikipedia.org/wiki/Quantum_superposition" rel="noopener ugc nofollow" target="_blank"> <em class="mq">叠加</em> </a>(不像经典比特在任何时候要么是1要么是0，一个量子比特或者<em class="mq">量子比特</em>可以同时有两种状态(对，就是很奇怪！))和(2) <a class="ae kv" href="https://en.wikipedia.org/wiki/Quantum_entanglement" rel="noopener ugc nofollow" target="_blank"> <em class="mq">纠缠</em> </a>(远距离的多个量子比特可以同时保证相同或相反的状态(‘幽灵般的远距离作用’爱因斯坦说，是的，又怪异了！))，量子计算机可以一次尝试多个潜在的解决方案，因此可以比经典计算机更快，因为经典计算机必须依次尝试每个解决方案。</p><p id="de0f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">量子计算理论到此为止。但是它已经在实践中得到证明了吗？你可以在这里阅读<a class="ae kv" href="https://en.wikipedia.org/wiki/Quantum_supremacy" rel="noopener ugc nofollow" target="_blank"/>和<a class="ae kv" href="https://pubsonline.informs.org/do/10.1287/LYTX.2021.06.02/full/" rel="noopener ugc nofollow" target="_blank">这里</a>关于“<em class="mq">量子优势”</em>这个问题的答案更谦虚地称为“<em class="mq">量子优势</em>”仍然存在争议。</p><h1 id="78d1" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">为什么是数独？</h1><p id="fde0" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">为了让经典计算机和量子计算机在一个具体的问题上进行比较，我们采用了数独难题，因为(1)它是最广为人知的优化问题,( 2)它很容易放大到任意大的和任意难的版本，因此无论是经典系统还是量子系统，如果存在优势，都可以放大到任意大的比例。</p><p id="1c7a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">以自动化甚至最快的方式解决数独游戏，对于整个世界来说，尽管有很多严重的问题，看起来可能是徒劳的。然而，数独只是被称为“优化问题”(更具体地说，<a class="ae kv" href="https://en.wikipedia.org/wiki/Integer_programming" rel="noopener ugc nofollow" target="_blank">混合整数规划</a>或<em class="mq"> MIP </em>问题)的一大类问题中的一个例子。在那个类中，存在更多实际相关的问题，像<a class="ae kv" href="https://en.wikipedia.org/wiki/Supply_chain_optimization" rel="noopener ugc nofollow" target="_blank">供应链优化问题</a>、<a class="ae kv" href="https://www.sciencedirect.com/science/article/abs/pii/S0191261515002684" rel="noopener ugc nofollow" target="_blank">列车时刻表优化问题</a>、<a class="ae kv" href="https://en.wikipedia.org/wiki/Nurse_scheduling_problem" rel="noopener ugc nofollow" target="_blank">护士调度问题</a>、<a class="ae kv" href="https://www.cired-repository.org/bitstream/handle/20.500.12455/327/CIRED%202019%20-%201158.pdf?isAllowed=y&amp;sequence=1" rel="noopener ugc nofollow" target="_blank">自动化能源市场交易问题</a>等等。今天，在经典计算机上解决这些问题可能需要几个小时或几天的时间，因此妨碍了它们的实时应用，并且消耗大量的电力。一些人认为，很快，或者今天已经，量子计算机可以在解决这些问题时节省时间和精力。</p><p id="0336" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在让我们开始我们的挑战。</p><h1 id="963a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">1.我们在经典电脑上解决了超级数独</h1><p id="a87b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如前所述，对于经典的MIP方法，随着n变大，求解时间迅速增加。使用的模型和我们获得的计算时间，在2020年3月的<a class="ae kv" href="https://henk-celcius.medium.com/supersudoku-b5f0419c220" rel="noopener">这篇文章</a>中报告，对于[1，..7].我们重新做了实验，现在对[1，..8]，MIP解算器Gurobi的更新版本为v9.1.0。新体验的解算器时间如下表1所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/ba199baa7c74445460391c48d8f25926.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Sx71VHyTyI5NUfTH5q-XQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">表1:我们在经典计算机上从Gurobi MIP模型实现中得到的每个数独案例的计算时间。1e99代表还没有结果。模型构建时间很短。模型求解时间占优势。阶段时间是两者的总和，所以总持续时间。上半部分显示没有任何预填充方块的案例，而下半部分显示有一些预填充方块的案例。这些计算时间将与下表2中D-Wave量子退火机上的计算时间进行比较。我们在两个系统上运行了相同的案例。</p></figure><p id="0789" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">表1的上半部分显示了没有任何方块具有预设值的数独。因此求解器具有最大的自由度，并且可以避免由于“特别难/容易的平方值选择”而导致的任何偶然的经典与量子偏差。</p><p id="aaab" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在MIP模型中，解算器必须决定n⁶比特的0或1值，并且还必须注意满足4种类型的约束，其中每一种都出现n⁴时间。(见下文的模型变量和约束将使这一点变得清楚。)这就是为什么solve_model列的时间随着n的增加而快速增加的原因。</p><p id="997b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">表1的下半部分报告了相同大小的数独的计算时间，但是有些方块有预先填充的值。与上面没有预设值相比，这有时更难(例如，对于n=6)，但有时更容易(例如，对于n=7)，有时极其困难。是的，80小时后还没有结果，而对于没有预先填充方块的情况，n=8只需要6s，没有报告错误！</p><h1 id="a750" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">2.我们在量子计算机上解决了超级数独</h1><p id="ddda" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们参加了IBM的量子计算课程和D-Wave的课程，D-Wave的硬件(和软件)实现套件显然看起来最有前景，主要因素是D-Wave芯片使用<a class="ae kv" href="https://en.wikipedia.org/wiki/Quantum_annealing#D-Wave_implementations" rel="noopener ugc nofollow" target="_blank">量子退火模型</a>，包含多达5000个量子位，而IBM、谷歌和其他使用<a class="ae kv" href="https://en.wikipedia.org/wiki/Quantum_logic_gate" rel="noopener ugc nofollow" target="_blank">量子门模型</a>的量子计算机大约为50到60个量子位。</p><p id="f5eb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">然后，我们环顾四周，看是否有人在我们之前解决过元数独问题，有几个人解决过。</p><p id="5237" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.0以前的工作与我们在这里的工作</p><p id="339d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.0.1来自D-Wave的在线代码:适用于大小为(3*3)*(3*3)的数独游戏</p><p id="0176" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">D-Wave本身已经在<a class="ae kv" href="https://github.com/dwave-examples/sudoku" rel="noopener ugc nofollow" target="_blank">https://github.com/dwave-examples/sudoku</a>在线发布了代码。我们对此进行了测试，它正确地解决了提供的<a class="ae kv" href="https://github.com/dwave-examples/sudoku/blob/master/problem.txt" rel="noopener ugc nofollow" target="_blank"> problem.txt </a>文件中给出的一个(3*3)*(3*3)数独案例。代码的编写方式依赖于参数n，所以理论上可以求解任意(n*n)*(n*n)个数独。然而，当我们对n &gt; 3进行测试时，它总是返回无效的解决方案。</p><p id="f9bf" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.0.2文章解释了在大小为(2*2)*(2*2)的数独游戏上与经典模拟退火相比的量子优势</p><p id="be81" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在<a class="ae kv" rel="noopener" target="_blank" href="/solving-sudoku-with-a-quantum-power-up-5bb4f64f3944">https://towardsdatascience . com/solving-sudoku-with-a-quantum-power-up-5b B4 f 64 f 3944</a>上，Julian Hatski描述了在D-Wave纯量子(因此QPU，和非混合)机器上的量子退火如何比在(2*2)*(2*2)数独上的某个经典模拟退火算法快大约5倍。他和我们一样，体验到标准的(3*3)*(3*3)数独还不能自动嵌入QPU。</p><p id="4337" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.0.3.展示4x4数独实验的文章</p><p id="6e31" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Eyan Fosythe的这篇中型文章解释了如何用基于门模型的量子计算机来解决一个有16个方格的数独(因此是(2*2)*(2*2)个方格)。返回的解决方案并不总是有效的，并且由于基于该模型的量子计算机中缺乏更多的量子位，将它扩展到更大的数独目前是不可能的。Eyan提到，具有m个未定方格的数独的经典复杂度是O(N^m阶，并且一个重要的理论结果是，量子计算<a class="ae kv" href="https://www.academia.edu/39751312/Solving_Sudoku_Game_Using_Quantum_Computation" rel="noopener ugc nofollow" target="_blank">已经被证明</a>的复杂度是o阶(log(n))，因此证明了指数加速。注意，它根本不依赖于m！学术出版物<a class="ae kv" href="https://www.academia.edu/39751312/Solving_Sudoku_Game_Using_Quantum_Computation" rel="noopener ugc nofollow" target="_blank">此处</a>和<a class="ae kv" href="https://epljournal.edpsciences.org/articles/epl/abs/2019/22/epl19934/epl19934.html" rel="noopener ugc nofollow" target="_blank">此处</a>显示了最多16个方格的棋盘的相同实际结果。</p><p id="4623" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.0.4本文:与MIP Gurobi求解时间相比，按比例增加并使用混合求解器</p><p id="269c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们打算将D-Wave系统用于更大的数独游戏，最多可达(8*8)*(8*8)，并将求解时间与我们在使用混合整数规划(MIP)求解器的经典计算机上得到的结果进行比较。我们使用<a class="ae kv" href="https://www.gurobi.com/" rel="noopener ugc nofollow" target="_blank"> Gurobi </a>，在我们的实验中，它是<a class="ae kv" href="https://henk-celcius.medium.com/supersudoku-b5f0419c220" rel="noopener">解决这类问题</a>最快的可用解算器。可能有专门解决数独的算法比Gurobi更快得到结果，guro bi的算法专门解决一般的MIP问题，但它们需要大量的开发时间。我们认为从以下观点来看，比较一个普通的量子解算器(用曲波模型)和一个普通的经典解算器(用MIP模型)是最公平的。</p><p id="8d98" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">(1)经典MIP模型和量子曲波算法的<em class="mq">开发时间</em>差不多(如果用最新的带add_variable，add_linear_constraint的D-Wave海洋库)。</p><p id="2b15" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">(2)使用的<em class="mq">财务成本</em>是相似的(传统的1 PC，在D-Wave课程期间10分钟的“云”量子时间，课程费用为700美元)。</p><p id="f0b5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">(3)所以如果上面的(1)和(2)是相似的，并且<em class="mq">求解时间</em>对于量子来说比经典更好，那么就有一个非常实际和具体的<em class="mq">量子优势</em>。</p><p id="c273" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mq"> 2.1将MIP约束转换为曲波的目标函数项:一般原则</em></p><p id="3044" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们必须将数独MIP模型转换成其二次无约束二进制优化(曲波)等价模型形式，这是能够编程一个<a class="ae kv" href="https://www.dwavesys.com/" rel="noopener ugc nofollow" target="_blank"> d-wave </a> <a class="ae kv" href="https://docs.dwavesys.com/docs/latest/c_gs_2.html" rel="noopener ugc nofollow" target="_blank">量子退火</a>机器所需的格式。</p><p id="f258" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">执行转换代数</p><p id="98a4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">曲波格式只允许一个目标(函数)，不像MIP模型，不直接允许约束。通过众所周知的<a class="ae kv" href="https://en.wikipedia.org/wiki/Lagrange_multiplier" rel="noopener ugc nofollow" target="_blank">拉格朗日乘数</a>原理，约束条件可以转换成目标函数的形式。所以a说线性约束f( <strong class="lq ir"> b </strong> )=c，用<strong class="lq ir">b</strong>MIP问题中一些二元变量的一个向量，转换成一个项𝜆 (f( <strong class="lq ir"> b </strong> )-c)。当(f( <strong class="lq ir"> b </strong> )-c)的最小化(因此，f( <strong class="lq ir"> b </strong> )=c)比其他目标函数项的最小化更重要时，𝜆是一个权重，并且可以被选择为高于目标中其他项的值。</p><p id="936a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">当f( <strong class="lq ir"> b </strong>)在<strong class="lq ir"> b </strong>中的每个b中是线性的时，很容易求出表达式(f( <strong class="lq ir"> b </strong> )-c)。为了节省时间、精力和避免错误，可以使用<a class="ae kv" href="https://www.wolframalpha.com/" rel="noopener ugc nofollow" target="_blank"> Wolfram Alpha </a>来完成。例如，约束b1+b2+b3=1转换为(b1+b2+b3-1)，并且可以通过这个<a class="ae kv" href="https://www.wolframalpha.com/input/?i=%28b1+%2B+b2+%2B+b3+-+1%29%5E2" rel="noopener ugc nofollow" target="_blank">链接</a>由WolframAlpha展开。这将返回表达式的扩展形式:B1+B2+B3+2 B1 B2+2 B1 B3+2 B2 B3-2 B1-2 B2-2 B3+1。</p><p id="c647" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在，因为任何二进制值b的平方等于二进制变量b本身(因为1 =1，0 =0)，我们可以将此简化为(2 B1 B2+2 B1 B3+2 B2 B3)+(-B1-B2-B3)+1，可以看到这个表达式由二进制变量交叉项中的二次项加上二进制变量中的线性项组成。</p><p id="12b8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">一般来说，注意，也可以将f( <strong class="lq ir"> b </strong> ) ≤ c形式的不等式约束转换为f(<strong class="lq ir">b</strong>)+c’* b’= c，其中b’是新引入的二元变量，然后可以将其转换为目标函数项(f(<strong class="lq ir">b</strong>)+c’* b’-c)，该目标函数项可以类似于由线性项和叉积项组成的表达式来计算，然后转换为曲波问题</p><p id="5899" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">因此，MIP问题中的任何线性约束都可以在其曲波形式的目标函数中转换成线性和二次项。</p><p id="15ba" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mq"> 2.1.2构造曲波矩阵</em></p><p id="0ab4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">量子计算机需要矩阵形式的曲波。(这实际上类似于MIP求解器API早期的MPS格式。)如果q是在曲波问题中使用的量子比特的数量，则曲波矩阵的维数是q*q。它的对角线包含线性项bi的系数，右上三角形包含项bi bj的系数，其中i <j. fact="" one="" can="" also="" supply="" a="" symmetric="" matrix="" where="" the="" i=""> j个元素将在D波机器消耗它之前被加到i<j/></j.></p><p id="4575" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在，随着对这种曲波矩阵编码的理解，基于曲波的量子退火计算机的物理工作如下。一般来说，自然界以及量子系统的物理学都力求最小的能量，这对应于最小化目标函数。正的曲波系数希望与该系数的二进制(+bi)或二进制乘积(+bi * bj)为零，因为整个目标表示编码系统的能量，并且将被最小化，而负的系数将使后面的(bi或bi * bj)为1。比其他系数大的系数会比其他系数更努力地推动它们的项。同样地,( 1)单个项(形状为bi，因此在对角线上)可以被上推或下推，交叉项(bi * bj，非对角线)(表示约束)可以被上推或下推，并且相关的重要性可以被“加权”。</p><p id="1dd7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">更正式地说，下面表示目标函数的表达式被最小化。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/8e0dc2fde40047e1d141044487504c42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SPUvRVP6_SG9cnl9Rh-h0Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">量子退火机器的能量函数，也称为“哈密顿量”。这是“量子<em class="mt">自然</em>将为我们最小化的表达。bi是量子比特(量子比特)，cii (ci)是对角线上的曲波元素，cij是对角线外的曲波矩阵元素。因此,“c”系数构成了“量子程序”,“b”构成了量子比特硬件。</p></figure><p id="cbe7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">“I”是量子位索引的集合。所以#(I)是问题中的量子比特数，也就是n⁶.bi是量子位，其值必须确定。ci和cij是固定系数。曲波矩阵由ci和cij常数组成，代表编码问题。</p><p id="0842" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">请记住，如上所述，MIP问题中的MIP目标和每个约束被转换成一个表达式，该表达式对cii和cij值有贡献。对于每个表达式，可以选择权重。</p><p id="6910" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">可能会出现这样的问题，即对于每个约束，是否总能找到正确的权重，并且似乎已经证明情况并非如此。然而，在实践中，对于相当多的问题，似乎可以通过对这些权重进行一些实验来达到对所有约束的满足。对于没有预先填充方块的n≤7的数独游戏，我们发现这在所有约束的所有权重(拉格朗日参数值)都相等的情况下工作得很好。对于具有预先填充的正方形的情况，对于QPU上的[1，2]中的n，我们必须将固定正方形满意度约束的权重设置为比所有其他约束的权重更高的数字，并且对于[3，..7]在混合D-Wave系统上。弄清楚这一点需要实验时间，而这是经典MIP求解器所不需要的，在经典MIP求解器中，约束不需要用户指定的权重。</p><p id="40b1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mq"> 2.2将MIP约束转换为曲波:数独应用的目标函数项</em></p><p id="5b45" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">总的来说，对于MIP模型，a #(R)行* #(C)列大小的数独要用N =[1]中的#(N)个数来填充..#N]，其中#N=#R=#C并且D=#(S)其中D =#N:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/4fc110430fa844d260b308f3592767ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k1uZONrhh3jN26zgmN7oRg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">一个超级数独MIP模型，可以在经典计算机上由Gurobi等MIP求解器直接求解。它需要被转换成D波量子退火模型的曲波模型</p></figure><p id="aa9c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">前3个约束共同确保N中的每个数字在每行和每列只出现一次。第四个约束强制N中每个数字的唯一性，每个子正方形只出现一次。最后一个约束强加了每平方的预设值(如果有的话)。</p><p id="0878" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于子板约束，在标准数独中，D=3，S=[0，1，2]。</p><p id="6e6a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于预设的正方形，f(r，c)是一个将一些(行，列)索引映射到正方形应该包含的值的函数。不是所有的行和方块都有预设值，因为这太容易解决了。dom(f(r，c))是f的定义域，所以我们有预设值的(r，c)对的集合。对于quantum版本，模型只包含二进制文件，最后一个约束被省略。用于填充正方形的整数值(n+1)是以经典方式在优化后计算的。</p><p id="a004" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">注意，这里b的索引仍然是相对简单的公式，因为行和列的偏移量为0。</p><p id="0d63" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于前4个约束，我们可以看到每种类型都有n⁴(对于经典的9*9数独，n=3)，因为#(R)=#(C)=#(N)=#(S)*#(S)=n，例如对于第一种类型，我们有#(R)*#(C)=n *n个约束。因此，除了方形预设约束，我们总共有4个n⁴约束。</p><p id="1c29" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们确实可以看到，利用2.1节所述的一般原理，上述所有约束都可以转化为曲波形式。</p><p id="fa3f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在以一种非常机械的方式应用了这些规则之后，我们得到了我们的曲波模型，下面的Python代码反映了这一点。我们相信，从代码的注释中可以清楚地看到上述应用于数独的过程。</p><p id="7bc2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.3构建曲波的Python代码</p><p id="00ab" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">下面的代码包含了所有经典和量子解数的函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">笔记本的开头定义了所有的函数，经典的和量子的。该笔记本包含在接下来的4个笔记本中，每个笔记本都运行一系列的数独测试。</p></figure><p id="bb12" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">参见<a class="ae kv" href="https://gist.github.com/PeterSels/0ef625b0340598fde4f2f2b6f3a8e5d6" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/PeterSels/0ef 625 b 0340598 FDE 4 F2 b 6 F3 A8 e 5d 6</a>的完全可执行(和已执行)笔记本</p><p id="57ee" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">所有执行的案例分为4类:(无/有预设方块)*(有guro bi/有D-Wave)。为了保持代码大小和执行时间小且模块化，我们通过命令%run QuantumSudokuLib.py将这4种情况中的每一种放在一个单独的笔记本中，该笔记本包括上面的笔记本。</p><p id="e9f0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> (1)没有预先填充的方块，古典古罗比:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">第一次测试开始-4的笔记本。</p></figure><p id="2644" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">有关测试运行的完整要点，包括代码和测试结果输出，请参见<a class="ae kv" href="https://gist.github.com/PeterSels/139f8477133c4604dcac8399e231788e" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/PeterSels/139 f 8477133 c 4604 dcac 8399 e 231788 e</a>。</p><p id="b4f8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们可以运行[1，..8]这里做实验。</p><p id="d680" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> (2)没有预先填充的方块，量子D波</strong></p><p id="b764" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">测试运行的笔记本要点见<a class="ae kv" href="https://gist.github.com/PeterSels/8364118a8f3d1275a69eafe290ff1d96" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/PeterSels/8364118 A8 F3 d 1275 a 69 eafe 290 ff 1d 96</a>。</p><p id="183d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在这种情况下，我们可以对[1]中的n进行实验..5]，但不是重复我们之前运行的[6，7]实验中的n。我们的量子时间用完了。</p><p id="f985" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">但是我们依赖Python代码的输出日志(在将它插入笔记本之前)。我们在这里引用这三个日志。如果有足够的时间，笔记本中的代码应该会重新生成类似的结果。</p><p id="8f7b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">我们的对数为n=6，没有预设的方格，量子</strong></p><p id="81eb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们在GitHub 上发布了整个日志<a class="ae kv" href="https://github.com/PeterSels/OnComputation/blob/master/QuantumSudoku/QuantumDwaveHybridSolveOfSudokuDim6WithoutPresetSquaresIn22Min5Sec.log" rel="noopener ugc nofollow" target="_blank">，这样你可以验证它是否正确。总结如下:</a></p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="84e6" class="nc kx iq my b gy nd ne l nf ng">(ocean) $ time python helper_functions.py sudokuDim6.json dwave<br/>...<br/>is_correct check done.<br/>Sudoku correctly solved. :)<br/>tests: ['solver'] done<br/>real    22m4.531s<br/>user    0m20.908s<br/>sys     0m2.179s<br/>(ocean) $</span></pre><p id="c7ab" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">因此，从“实际22m4.531s”中可以看出，对于n=6，这花费了22分钟多一点。“数独正确解决了。:)”表示返回的解经过检查(在传统计算机上)并且确实有效。</p><p id="0b18" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们又做了一次实验，n=6，在22分50秒内又得到了一个有效解。完整日志显示在GitHub 的<a class="ae kv" href="https://github.com/PeterSels/OnComputation/blob/master/QuantumSudoku/QuantumDwaveHybridSolveOfSudokuDim6WithoutPresetSquaresIn22Min50Sec.log" rel="noopener ugc nofollow" target="_blank">中，包括摘要:</a></p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="85dd" class="nc kx iq my b gy nd ne l nf ng">(ocean) $ time python helper_functions.py sudokuDim6.json dwave<br/>...<br/>is_correct check done.<br/>Sudoku correctly solved. :)<br/>tests: ['solver'] done<br/>real    22m20.279s<br/>user    0m23.123s<br/>sys     0m2.560s<br/>(ocean) $</span></pre><p id="2232" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">我们的对数为n=7，没有预设的方格，量子</strong></p><p id="fd3f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">完整日志在GitHub 的<a class="ae kv" href="https://github.com/PeterSels/OnComputation/blob/master/QuantumSudoku/QuantumDwaveHybridSolveOfSudokuDim7WithoutPresetSquaresIn44Min29Sec.log" rel="noopener ugc nofollow" target="_blank">这里，有摘要:</a></p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="50a4" class="nc kx iq my b gy nd ne l nf ng">(ocean) $ time python helper_functions.py sudokuDim7.json dwave<br/>...<br/>Sudoku correctly solved. :)<br/>tests: ['solver'] done<br/>real    44m28.992s<br/>user    1m27.995s<br/>sys     0m7.025s<br/>(ocean) $</span></pre><p id="d42e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">所以“真实的44m28.992s”表示n=7用了44分半钟。“数独正确解决了。:)”表示返回的解经过检查(在传统计算机上)并且确实有效。</p><p id="1cc6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们还有一个n=8的老实验。对于那一个，之后(只！)20分50秒，我们收到了一个来自混合方法的无效数独解。请注意，这不是硬件或软件的错误，但D-Wave系统返回的(有时是多个)解是具有低能量的解，但它可能不总是具有绝对最低能量的解，因为量子采样的物理过程是一个<em class="mq">随机</em>(因此是非确定性的)过程。具有非绝对最小能量的解对应于这样一个解，其中一些<em class="mq">目标函数项</em>将<em class="mq">而非</em>完全<em class="mq">最小化(到零)</em>，对应于略微违反<em class="mq">的<em class="mq">约束</em>。</em></p><p id="d03b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">解决无效解决方案这一问题的方法是在一次运行中多次读取或重新运行整个过程。然而，我们通过我们的D-Wave量子开发人员和培训时间预算来做到这一点。</p><p id="63e0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> (3)一些预先填充的方块，古典古罗比:</strong></p><p id="0b8d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">测试运行的笔记本要点见<a class="ae kv" href="https://gist.github.com/PeterSels/104002759f94ea45c1dd8684d98f1d27" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/PeterSels/104002759 f 94 ea 45 C1 DD 8684d 98 f1 d 27</a>。</p><p id="c405" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们可以运行[1，..7]这里做实验。但是n=8的情况甚至在80小时后也没有给出结果。</p><p id="6e7e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> (4)一些预先填充的方块，量子D波</strong></p><p id="c55d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">测试运行的笔记本要点见<a class="ae kv" href="https://gist.github.com/PeterSels/ff076c92e8d006ae95d4605ab818a0ef" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/PeterSels/ff 076 c 92 e 8d 006 a 95d 4605 ab 818 a 0 ef</a>。</p><p id="88a1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们可以在[1]中运行n个案例..5]，但是对于[6，7，8]中的n，我们账户上的量子时间用完了。</p><p id="d6da" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.4.在D-Wave系统上拟合/嵌入曲波</p><p id="b425" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们的MIP模型以及我们的量子曲波模型使用n⁶ (qu)比特用于(n*n)*(n*n)个正方形的数独。这是因为对于每个方块，我们需要一个介于1和n*n之间的数字。因此，我们为1到n*n中的每个数字N构建一个完整的(n*n)*(n*n)数独平面，如果数字N被决定出现在最终数独中的那个位置，则该平面在特定的方块中保持布尔设置为真。因此，由于4⁶ = 4096，一个具有5000个量子比特的QPU应该能够容纳一个大小为(4*4)*(4*4)的数独的所有4096个量子比特，当然还有一个大小为(3*3)*(3*3)的数独，这只需要3⁶ = 729个量子比特。然而，必须找到问题实例图在D波量子芯片图上的嵌入的函数似乎在这方面失败了，这就是为什么我们必须对n≥3使用D波混合方法。</p><p id="744d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们量子数独实验的2.5个结果</p><p id="5519" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">与经典情况相同范围的数独大小的量子计算时间显示在下表的“D-Wave total (s)”列中。请注意“QPU”(对于纯量子处理单元，对于[1，2]中的n)和n≥3的“混合”方法，其中问题被分解，然后映射到经典和量子计算机的组合。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/48b0d348fac579aec38a027b4c216f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G6ZowVb40UZ3PrMNbDm-FA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">表2:我们在D-Wave的量子和混合系统上实现的D-Wave曲波模型中每个数独案例的计算时间。1e99代表还没有结果。model_build时间和find_embedding时间很短。模型求解时间占优势。三个阶段的时间是这三列的总和，因此是总持续时间。上半部分显示没有任何预填充方块的案例，而下半部分显示有一些预填充方块的案例。这些计算时间与上表1中在传统机器上运行Gurobi的时间进行了比较。我们办了同样的案子。</p></figure><p id="1657" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于n的每个值，总D波时间是model_build、find_embedding和model_solve列的总和。最值得注意的是，当n值较低时，量子解算器较慢，而当n ≥ 6时，量子解算器变得较快。量子计算时间缩减从那里开始。在n=6时，我们的时间减少了31.2%，在n=7时，时间减少了82.9%，这是一个明显而巨大的<em class="mq">量子优势</em>。</p><p id="2349" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们报告了一些文件，您可以在下面的表3中验证我们获得的结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/655d45b21321e614430f0eedbfbc3f3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l5aIFezZtTYaIvs5RSrw7A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">表3:该表显示了实现它的每个案例的一个或多个文件。所有文件都可以在GitHub上找到并下载。</p></figure><h1 id="467e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">3.经典时间与量子时间的可视化</h1><p id="e99b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">为了对比例有更好的感觉，我们把我们的结果放到下图的一些图表中。左边的两个图表在垂直轴上具有以秒为单位的线性时间，右边的一对图表在垂直轴上具有对数时间刻度。上半部分代表没有预设方块的数独，下半部分代表有预设方块的数独。蓝色表示经典MIP Gurobi，红色表示量子/混合曲波D波。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/dd02e58d7c690298be87b4d9dd00a316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MguJ6Pimlyx1dcpyot46zA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图3:对于每个数独案例，我们展示了经典(蓝色)和量子/混合(红色)之间的计算时间比较。在数独游戏中，上半部分没有预先填充的方块。下半部分预先填充了一些方块。左半部分在垂直轴上具有以秒为单位的线性时间。右半部分在垂直轴上有以秒为单位的时间记录。左上图中dim=6和dim=7的情况清楚地显示了31%和82%的时间节省，这表明实现了量子价值或量子优势。左下部分显示，对于预先填充方块的超级数独，我们还没有取得量子优势，但我们的帐户上缺乏足够的量子计算来完成n=6和n=7的情况。右半部分仅放在垂直对数刻度上，以便能够放大计算时间短的情况。</p></figure><p id="d663" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在左上角，因为时间是以秒为单位，所以比例保持不变。请注意，当从n=6到n=7时，变量的数量从6⁶=46656到7⁶=117649大约增加了2.5倍，约束的数量从4 * 6⁴ =5184增加到4 * 7⁴=9604，大约增加了1.8倍。所以，不严格地说，我们可以说问题的<strong class="lq ir"> <em class="mq">复杂度大致上升了一个因子</em></strong>2.5 * 1.8 =<strong class="lq ir"><em class="mq">4.7</em></strong>。</p><p id="9c6c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">古罗比的求解时间从6的1924秒到7的15596秒，增加了8.1倍。因此，粗略地说，2个问题的复杂性加倍导致<strong class="lq ir"> <em class="mq"> 3个在经典系统</em> </strong>上解决时间加倍。</p><p id="06c2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">D-Wave的混合设置解决同样2倍问题复杂性的时间从n=6的1324s到n=7的2669s，<em class="mq">所以几乎完全一样</em> <strong class="lq ir"> <em class="mq">只有1个</em> </strong> <em class="mq"> </em> <strong class="lq ir"> <em class="mq">在量子系统上解决时间加倍</em> </strong>。</p><p id="1201" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">右边的图表显示了对数刻度上的垂直轴，以便在较低的n下，在较低的时间内获得更高的分辨率。</p><p id="1adb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">注意，不管垂直刻度是以秒为单位还是以对数(秒)为单位，<em class="mq">水平轴</em>实际上是被高度压缩的<em class="mq">。实际上，考虑一下，如果我们将横轴放在基本问题复杂性方面，我们应该设置一个与#变量*#约束成比例的标度~ n⁶ * 4 n⁴，相当于n ⁰.这将导致一个更加“宽而平”的曲线。</em></p><p id="9691" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">注意，所报道的D波混合时间仍然具有经典计算成分，其可能仍然比它们的量子同胞成分随着n的增加而增加得更厉害。拥有一个纯量子设备，其中n≥8的数独可以快速嵌入，这将是<em class="mq">下一个可以实现的量子数独解决</em>的圣杯！</p><h1 id="25e6" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">4.结论</h1><p id="7665" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">对于超级/元数独问题，D-Wave <em class="mq">纯量子芯片</em>(称为量子处理单元或QPU)今天拥有多达5000个量子位，可以嵌入n=2大小的小数独。但是，对于这些小问题，<em class="mq">还没有实现</em>的量子优势。</p><p id="0034" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">D-Wave <em class="mq">混合方法</em>在经典和量子芯片上分解问题，可以嵌入更大的问题(n≥3)，我们可以尝试的两个最大的问题，对于数独维度6和7 <em class="mq">确实显示出显著的量子优势(分别为31.2%和82.9%)</em>。据我们所知，这是第一次在量子机器上演示元数独。</p><p id="077d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">请注意，寻找问题图在表示量子芯片(或混合系统)的图上的“嵌入”(代码中的函数find_embedding)是经典的，也需要时间，并且该时间随着大小n而增加。随着n的增加，希望混合方法的量子子系统不会上升太多或根本不会上升，并且经典时间分量不会支配总时间。</p><p id="4cc3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果我们可以在D-Wave机器上安排额外的量子时间，我们就可以在目前的系统上再次尝试n≥8的数独。我们也很好奇，当经典的嵌入-寻找功能变得更好(更适合QPU)时，以及当具有更多量子位的D-Wave芯片在不久的将来发布时，会发生什么。</p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><p id="d40d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mq">脚注:</em></p><ol class=""><li id="80e0" class="nr ns iq lq b lr mk lu ml lx nt mb nu mf nv mj nw nx ny nz bi translated">像Gurobi这样的经典MIP解算器被构造成<em class="mq">确定性的</em>。这意味着，如果输入相同并且机器相同(或者等效地，内核数量、线程数量和操作系统相同)，它们将总是返回相同的答案(如果可行，则为解决方案)。这并不意味着在选择某个问题实例时，<em class="mq">好运气</em>或<em class="mq">坏运气</em>被排除。例如，在我们的模型上运行Gurobi v9.1.0，对于一个大小为(8*8)*(8*8)的数独游戏，在没有任何预填充方块的情况下，我们发现它在6秒内全部解决，而没有预填充方块的(7*7)*(7*7)的较小情况需要15596秒。</li><li id="301a" class="nr ns iq lq b lr oa lu ob lx oc mb od mf oe mj nw nx ny nz bi translated">随着n的增加，O(n ⁰)比O(exp(n))上升得更慢，但不管怎样，它上升得很快。</li></ol></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h1 id="0a60" class="kw kx iq bd ky kz of lb lc ld og lf lg jw oh jx li jz oi ka lk kc oj kd lm ln bi translated">5.从你自己的电脑上运行量子D波机器…免费</h1><p id="ecd4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">本文中完整的Python jupyter笔记本都可以在GitHub <a class="ae kv" href="https://github.com/PeterSels/OnComputation/tree/master/QuantumSudoku" rel="noopener ugc nofollow" target="_blank">这里</a>获得。<em class="mq"> pip install </em>应该安装这里需要的所有库，因为它会查看包含所有需求的提供文件<em class="mq"> requirements.txt </em>。然后，您可以通过调整<em class="mq">had _ guro bi</em>和<em class="mq">had _ dwave</em>来运行您自己的笔记本电脑，以适应您所拥有的软件和许可证。您可以<a class="ae kv" href="https://cloud.dwavesys.com/leap/signup/" rel="noopener ugc nofollow" target="_blank">在D-Wave </a>设置自己的免费leap账户。使用<a class="ae kv" href="https://www.gurobi.com/documentation/9.1/quickstart_mac/cs_using_pip_to_install_gr.html" rel="noopener ugc nofollow" target="_blank"> <em class="mq"> pip安装gurobipy </em> </a>(包含在<em class="mq"> pip安装</em>中)您可以安装一个版本的Gurobi，它可以解决许多变量或约束的小问题。对于更大的，你需要一个许可证。</p><p id="97f8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这5个笔记本gists包含所有代码，但也包含我们生成的所有交错输出，可从本文上面提到的链接获得。</p><p id="9b0f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">最棒的是，你可以免费获得一分钟的D-Wave量子时间(考虑到小问题是在毫秒内解决的，这已经很多了)<em class="mq">，如果你<a class="ae kv" href="https://www.dwavesys.com/build/getting-started/" rel="noopener ugc nofollow" target="_blank">注册为开发者</a>并公开发布你的代码，比如在GitHub上发布，每个月更新</em>。</p><p id="6119" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">所以现在你可以避免因试图自己解决数独而患上<a class="ae kv" href="https://time.com/4078049/seizure-sudoku-puzzles/" rel="noopener ugc nofollow" target="_blank">癫痫症</a>。</p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><p id="d04d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">彼得·塞尔斯和爱德华·穆里尔，2021年8月31日星期二。</p><p id="9b7d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里提到的GitHub上的所有代码和gists都是由本文作者创建的，所有测试都是由他们运行的。</p><p id="4d14" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">完全披露:这篇文章不是由D-Wave赞助的，我们也没有收到D-Wave的任何付款。我们承认是他们技术的热情用户，因为他们使我们能够更快地解决大的计算挑战。</p><p id="d74d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">版权2021 <a class="ae kv" href="https://www.logicallyyours.com/" rel="noopener ugc nofollow" target="_blank">逻辑上你的BV </a>。</p></div></div>    
</body>
</html>