<html>
<head>
<title>3 Must-Know Methods for Python String Interpolation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python字符串插值的3个必备方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-must-know-methods-for-python-string-interpolation-99e6d90b439c?source=collection_archive---------30-----------------------#2021-03-31">https://towardsdatascience.com/3-must-know-methods-for-python-string-interpolation-99e6d90b439c?source=collection_archive---------30-----------------------#2021-03-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="1287" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">那份书面声明怎么样？</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/bf0ca95802a03722e134fb8bd7586656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3rHi4CKpK0Ouw8VuYA-Kg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">Jordi Moncasi 在<a class="ae le" href="https://unsplash.com/s/photos/edit?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="59bc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">字符串插值是一种将变量嵌入字符串的方法。与键入整个纯文本字符串不同，占位符是在可以保存变量值的字符串中实现的。</p><p id="c4dd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">字符串插值允许我们更有效地使用print语句。无论是为了调试代码还是确认结果，print语句很可能会出现在您的脚本中。</p><p id="bab6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将介绍Python中字符串插值的三种方法。他们可以用不同的方式做同样的事情。看完例子，你大概会选择自己喜欢的方式。</p><h2 id="0807" class="lf lg it bd lh li lj dn lk ll lm dp ln kb lo lp lq kf lr ls lt kj lu lv lw lx bi translated">用占位符格式化</h2><p id="9507" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">这是一种古老的方法，现在已经不常用了。“%”运算符用作变量的占位符。</p><p id="13b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里有一个简单的例子。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="c058" class="lf lg it me b gy mi mj l mk ml">result = 20</span><span id="1dec" class="lf lg it me b gy mm mj l mk ml">print("The result is %s." % result)<br/>The result is 20.</span></pre><p id="45d9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们也可以在一个字符串中添加多个占位符。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="8384" class="lf lg it me b gy mi mj l mk ml">name = "John"<br/>id = 22</span><span id="9b43" class="lf lg it me b gy mm mj l mk ml">print("Hello %s, your id is %s." % (name, id))<br/>Hello John, your id is 22.</span></pre><p id="a61f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">字母s与%运算符一起使用，表示占位符。这是一个老方法，所以我们不会去详细。但是，了解这一点仍然很重要，因为您很可能会遇到使用这种方法包含字符串的代码。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h2 id="1a53" class="lf lg it bd lh li lj dn lk ll lm dp ln kb lo lp lq kf lr ls lt kj lu lv lw lx bi translated">字符串格式。格式()</h2><p id="4f26" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">它类似于前面的方法，但是我们用花括号代替“%s”。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="3fb3" class="lf lg it me b gy mi mj l mk ml">result = 20</span><span id="e078" class="lf lg it me b gy mm mj l mk ml">print("The result is {}".format(result))<br/>The result is 20.</span><span id="90b2" class="lf lg it me b gy mm mj l mk ml">name = "John"<br/>id = 22</span><span id="5f39" class="lf lg it me b gy mm mj l mk ml">print("Hello {}, your id is {}.".format(name, id))<br/>Hello John, your id is 22.</span></pre><p id="d363" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">变量按照它们的顺序放在花括号中。还有一个从0开始的与花括号相关的顺序。我们可以通过在里面写数字来操纵这个顺序。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="a022" class="lf lg it me b gy mi mj l mk ml">print("Hello {1}, your id is {0}.".format(name, id))<br/>Hello 22, your id is John.</span></pre><p id="3384" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">索引0与name变量相关联，因此它被写入指定0索引的位置。</p><p id="17b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们也可以用一个指定的名字来指代每个花括号。在这种情况下，格式中的顺序并不重要。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="8c14" class="lf lg it me b gy mi mj l mk ml">year = 2000<br/>price = 100000</span><span id="3aed" class="lf lg it me b gy mm mj l mk ml">print("The house is built in {year_built} and worth {value}"\<br/>.format(value = price, year_built = year))</span><span id="0295" class="lf lg it me b gy mm mj l mk ml">The house is built in 2000 and worth 100000.</span></pre><p id="ba1f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果要打印字符串中的小数点，您可以调整要显示的小数位数。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="17ff" class="lf lg it me b gy mi mj l mk ml"># without adjustment<br/>result = 1.346343454353</span><span id="5548" class="lf lg it me b gy mm mj l mk ml">print("The result of is {result}".format(result = result))<br/>The result of is 1.346343454353</span><span id="db31" class="lf lg it me b gy mm mj l mk ml"># rounded up to 2 decimals<br/>print("The result of is {result: 1.2f}".format(result = result))<br/>The result is 1.35</span></pre><p id="f9fd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在表达式“1.2f”中，2代表小数位数，1代表变量的大小。它几乎总是被用作1，但是让我们用不同的值做一个例子来看看它的效果。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="56f0" class="lf lg it me b gy mi mj l mk ml">print("The result of is {result: 10.2f}".format(result = result))<br/>The result of is       1.35</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h2 id="b041" class="lf lg it bd lh li lj dn lk ll lm dp ln kb lo lp lq kf lr ls lt kj lu lv lw lx bi translated">格式化字符串文字(f字符串)</h2><p id="6665" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">格式化字符串，也称为f字符串，是三种字符串中最新的一种。Python 3.6引入了它们。</p><p id="5d03" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">f字符串使用花括号作为变量占位符。然而，我们可以将变量名写在花括号内，而不是在最后指定它们。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="b606" class="lf lg it me b gy mi mj l mk ml">name = "John"<br/>id = 22</span><span id="be16" class="lf lg it me b gy mm mj l mk ml">print(f"Hello {name}, your id is {id}.")<br/>Hello John, your id is 22.</span></pre><p id="8baf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将字母f放在字符串字符的前面，告诉Python这是一个f字符串。</p><p id="a34c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">f字符串比其他两种方法更具可读性。对于开发者来说也更容易。在有许多变量的情况下，跟踪字符串中的变量就成了一项繁琐的任务。</p><p id="5c3d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在最后指定变量也容易出错。f字符串提供的是清晰的语法和易读的代码。</p><p id="b2da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">f弦也可以进行浮点调整。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="56ae" class="lf lg it me b gy mi mj l mk ml">result = 1.346343454353</span><span id="eee5" class="lf lg it me b gy mm mj l mk ml">print(f"The result of is {result: 1.2f}")<br/>The result of is  1.35</span></pre><p id="5a56" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您需要在打印之前修改变量，那么使用f字符串进行这样的修改会更容易。这里有一个例子。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="34cd" class="lf lg it me b gy mi mj l mk ml">location = "Houston,TX"<br/>price = 100000</span><span id="ad0c" class="lf lg it me b gy mm mj l mk ml">print(f"The house is in {location[:-2]} and is worth {price * 2}")<br/>The house is in Houston, and is worth 200000</span></pre><p id="3e9f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们省略州，价格翻倍。其他方法也是可行的。然而，使用f字符串跟踪这些修改相对容易，尤其是当有许多变量时。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h2 id="2d11" class="lf lg it bd lh li lj dn lk ll lm dp ln kb lo lp lq kf lr ls lt kj lu lv lw lx bi translated">结论</h2><p id="255a" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">我们经常使用print语句，不仅是为了确认结果，也是为了调试。字符串插值允许我们操纵或修改字符串，以充分利用绝版语句。</p><p id="806d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然这三种方法都能胜任，但我更喜欢f弦，因为我认为这是最实用的一种。最终，可读性很重要，从这个角度来看f字符串更好。</p><p id="70f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>