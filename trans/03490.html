<html>
<head>
<title>How I Built a Forecast to Estimate When the U.S. Will Be Vaccinated</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何预测美国何时接种疫苗的</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/when-will-the-us-be-vaccinated-1b24890a8c38?source=collection_archive---------20-----------------------#2021-03-20">https://towardsdatascience.com/when-will-the-us-be-vaccinated-1b24890a8c38?source=collection_archive---------20-----------------------#2021-03-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="24d3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用广义加法模型预测美国疫苗接种何时不再受供应限制</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4bffde1aa7277d07e4fa100d2282d247.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uPWnN5MVEEU9DxzR"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@hakannural?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">哈坎·努拉尔</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="ca56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接种疫苗的竞赛开始了。虽然大多数发达国家只有百分之几的人口接种了疫苗，而发展中国家才刚刚开始，但美国是领先的国家之一，其21%的人口至少接种了一剂疫苗。那么美国什么时候才能达到所有想要疫苗的人都有疫苗的地步呢？</p><p id="3504" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了回答这个问题，我决定对美国的疫苗接种工作做一个快速预测。虽然这绝不是详尽无遗的，但希望它能产生一个合理的猜测。</p><h2 id="04c0" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">数据</h2><p id="dea3" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">数据取自<a class="ae ky" href="https://ourworldindata.org/covid-vaccinations" rel="noopener ugc nofollow" target="_blank">数据中的我们的世界</a>。我使用至少接种过一次疫苗的人口比例。真实数据的最后一天是3月15日。</p><h2 id="dcab" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak">代码</strong></h2><p id="0c56" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">分析是在R. Code中执行的，数据集<a class="ae ky" href="https://github.com/braydengerrard/COVIDVaccineForecast" rel="noopener ugc nofollow" target="_blank">在我的Github </a>中可用。</p><h2 id="1491" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">假设</h2><p id="cbe3" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">进行了一些调整。目前没有疫苗被批准用于16岁以下的儿童。虽然疫苗最终会被批准用于它们，但这项分析并没有解决这个问题。第二，一部分人可能会因为各种原因拒绝接种疫苗。<a class="ae ky" href="https://www.pewresearch.org/science/2021/03/05/growing-share-of-americans-say-they-plan-to-get-a-covid-19-vaccine-or-already-have/" rel="noopener ugc nofollow" target="_blank">最近的调查</a>显示，目前约有30%的成年人会拒绝接种疫苗，尽管这一数字在最近几个月呈下降趋势。</p><p id="b9f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据<a class="ae ky" href="https://www.census.gov/data/tables/2019/demo/age-and-sex/2019-age-sex-composition.html" rel="noopener ugc nofollow" target="_blank">人口普查局的数据</a>，在这个练习中，我剔除了14岁及以下人口的18.74%(记录没有对15岁及以下的人口进行细分，所以这个比例可能会略有偏差)。然后我假设剩下的30%的成年人会拒绝接种疫苗。据估计，还有大约57%的人口能够并愿意接种疫苗。实际上，这个数字可能会有所不同。</p><h2 id="0d44" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">天气预报</h2><p id="f1ec" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">首先，我通常认为疫苗接种会遵循一条“S”曲线，开始时很慢，中间时疫苗接种量增加，最后随着希望接种疫苗的人数减少而逐渐减少。逻辑曲线非常接近这个形状。将数据放入逻辑回归，我得到以下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/a377116a90167b0d961f83ea41bb82d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lEhmxA9JQij9idEdFInXkw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">y轴代表有能力和愿意的人口</p></figure><p id="c902" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些数据实际上并不符合逻辑曲线。在某些点上，回归始终低估了实际的疫苗接种。目前，回归结果将实际疫苗接种量高估了几个百分点，曲线显得有些过于陡峭。</p><p id="ee00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个问题是由于美国疫苗接种在二月中下旬的一个间歇。逻辑回归不够灵活，无法处理疫苗接种中的这种纠结。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/413606575873469845c2e5b9dea059d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cwy-WIJoT3AdkHZALldM9Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://ourworldindata.org/covid-vaccinations" rel="noopener ugc nofollow" target="_blank">我们的世界在数据</a></p></figure><p id="3c6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，需要一个模型来解释这种扭结而不影响预测。为了对此进行建模，我使用了一个广义加法模型(GAM ),它可以表示如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/6379ab077f03a98706ba4fc4bc47ed1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*eEYEpQ-etPA-Q_sIv2Zu0w.png"/></div></figure><p id="7e19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中E(Y)是Y变量的期望值，g是链接函数。鉴于线性回归具有β系数，在GAM中，每个预测变量(由x表示)具有可以是线性或非线性的平滑函数(f)。</p><p id="042e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GAM是一个高度灵活的模型，可以处理各种模式和情况。虽然我不会详细介绍GAM的属性和优点，但是对于感兴趣的人来说，<a class="ae ky" href="https://multithreaded.stitchfix.com/assets/files/gam.pdf" rel="noopener ugc nofollow" target="_blank">是一本很好的读物</a>。</p><p id="b306" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，GAM并不直观地知道数据在0%和100%之间有界(或者在我的假设下是57%)。如果我做一个预测，模型的预测将远远超过100%，从而打破了概率定律。为了纠正这一点，首先需要通过将Y变量传递到以下等式来转换Y变量:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/ad6a1be1a9c7d6c65758c17851b69fed.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*NUzMXSAlwOfj6-8Zyd07SA.png"/></div></figure><p id="a7fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中a是下限(0)，b是上限(0.57)。</p><p id="63ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用R中的<a class="ae ky" href="https://cran.r-project.org/web/packages/mgcv/mgcv.pdf" rel="noopener ugc nofollow" target="_blank"> mgcv包</a>来适应游戏。为了估计平滑参数，我通过限制最大似然(REML)使用混合模型方法。</p><p id="0643" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该模型有两个预测因子:时间(以天为单位)和星期几，为此我为平滑函数指定了一个循环三次回归样条。在创建了一个仅使用时间作为预测因子的模型后，我在残差图中发现了一个循环模式，之后添加了工作日预测因子。95%的置信区间是用贝叶斯方法计算的。</p><p id="06c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">拟合模型后，Y数据以及预测值和置信区间现在需要转换回原始形式进行解释。为此，它们通过以下等式传递:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/593c647419e5b1a528052faa63199956.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*jjNFg8Hd1H0SHK9g6px9BA.png"/></div></figure><p id="a99d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建结果图，生成的预测如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/bc8aa3e5502c72fbce72ff541e555f11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_pQMGxzzwHlX2DTH8Lk_iQ.png"/></div></div></figure><p id="704b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，我对模型和预测很满意。预测符合预期的“S”模式，您可以看到预测中的小波动说明了每周的周期。</p><p id="d987" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据这一预测，超过90%希望接种疫苗的符合条件的人应该在5月底接种疫苗。到5月18日，预计50%的人口将接种一剂疫苗。这相当于大约一半的人口作为一个整体在该日期前接种了疫苗。这似乎与白宫提出的计划相一致，该计划承诺疫苗将在5月份提供给所有需要的人。</p><p id="a9e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，对COVID疫苗态度的进一步改变可能会使这一问题复杂化，并稍微推迟这一时间表。也有可能——甚至很有可能——当更多的疫苗被批准时，这个预测将被证明过于保守。据报道，美国已经为T2储备了超过3000万剂的阿斯利康疫苗，他们正在等待FDA的批准，这可能会在下个月初到来。</p></div></div>    
</body>
</html>