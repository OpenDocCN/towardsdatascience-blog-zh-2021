<html>
<head>
<title>How technology is impacting data modelling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">技术如何影响数据建模</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-technology-is-impacting-data-modelling-fe3a7f697e7c?source=collection_archive---------15-----------------------#2021-09-05">https://towardsdatascience.com/how-technology-is-impacting-data-modelling-fe3a7f697e7c?source=collection_archive---------15-----------------------#2021-09-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="4a16" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/notes-from-industry" rel="noopener" target="_blank">行业笔记</a></h2><div class=""/><p id="f99f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">数据建模已经存在了40多年。对于不同类型的用户和系统应该如何对数据进行建模，有一些既定的方法。但毫无疑问，技术在40年里发生了巨大的变化，过去5-10年在数据领域尤为重要。这些方法今天仍然适用吗？</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/10f5ea5f4e9e3ae5422eeffcc326c318.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*lxt2umsiiiXvPk2n4gqB7w.png"/></div><p class="lc ld gj gh gi le lf bd b be z dk translated">截图来自<a class="ae lg" href="https://www.seas.upenn.edu/~zives/03f/cis550/codd.pdf" rel="noopener ugc nofollow" target="_blank"> Codd的论文</a></p></figure><h1 id="baa9" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">多了解一点历史</h1><blockquote class="mf mg mh"><p id="6e65" class="jw jx mi jy b jz ka kb kc kd ke kf kg mj ki kj kk mk km kn ko ml kq kr ks kt ij bi translated">【E. F. Codd博士在1970年6月发表了论文，“大型共享数据库的数据关系模型”。Codd的模型现在被接受为关系数据库管理系统(RDBMS)的最终模型。结构化英语查询语言(SEQUEL)是由IBM公司开发的，使用Codd的模型。SEQUEL后来变成了SQL。1979年，Relational Software，Inc .(现在的Oracle)推出了第一个商用SQL实现。今天，SQL被接受为标准的RDBMS语言。</p></blockquote><p id="a436" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">如你所料，在那之后发生了一些事情。</p><p id="d58c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">在20世纪90年代，出版了两本关于数据仓库的主要书籍——一本由比尔·恩门于1992年出版，另一本由拉尔夫·金博尔于1996年出版。在<a class="ae lg" href="https://en.wikipedia.org/wiki/Data_warehouse" rel="noopener ugc nofollow" target="_blank">数据仓库</a>建模中，它们成为建模存储数据的层的两个众所周知的竞争选项。要么你根据Ralph Kimball的模型，用事实表和符合的维度(作为<a class="ae lg" href="https://en.wikipedia.org/wiki/Star_schema" rel="noopener ugc nofollow" target="_blank">星形模式</a>)，要么你根据比尔·恩门的模型，用数据库<a class="ae lg" href="https://en.wikipedia.org/wiki/Normal_forms" rel="noopener ugc nofollow" target="_blank">标准化</a>。</p><p id="1aee" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">2000年，<a class="ae lg" href="https://en.wikipedia.org/w/index.php?title=Dan_Linstedt&amp;action=edit&amp;redlink=1" rel="noopener ugc nofollow" target="_blank"> Dan Linstedt </a>发布了<a class="ae lg" href="https://en.wikipedia.org/wiki/Data_vault_modeling" rel="noopener ugc nofollow" target="_blank">数据保险库建模</a>，作为Inmon和Kimball的替代方案，为来自多个操作系统的数据提供长期历史存储，重点是跟踪、审计和对源数据模型变化的弹性。data vault模型实际上提供了一个“基于图形”的模型，其中包含关系数据库世界中的中心和关系。</p><p id="583e" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">在2010年代，Apache Hadoop和围绕它的生态系统被开发出来并流行起来。这些技术与关系数据库非常不同，尽管其中一些允许使用SQL查询数据。<a class="ae lg" href="https://www.techopedia.com/definition/30153/schema-on-read" rel="noopener ugc nofollow" target="_blank">读取模式</a>允许按原样加载数据供以后查询——因此不需要前期数据建模。当处理数据以备后用时，方法是将所有内容“连接在一起”成一个大范围的非规范化文件。数据存储不再是问题，但是“数据连接”在计算上非常昂贵。</p><p id="0b3b" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">现在是2021年，一种新型的数据技术正在不断被采用，特别是采用MPP(大规模并行处理)架构的云原生列数据仓库，如雪花、亚马逊红移或谷歌大查询。</p><p id="aa9e" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">使用20世纪90年代的方法对数据建模有意义吗？现在，新的数据或分析工程师应该花时间学习它们吗？</p><h1 id="cd92" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">数据仓库vs传统vs消除垃圾</h1><p id="af0c" class="pw-post-body-paragraph jw jx iq jy b jz mm kb kc kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt ij bi translated">我最近看到了一个视频，视频中一组数据专家讨论了这些问题。</p><div class="mr ms gp gr mt mu"><a href="https://www.greatdataminds.com/insights/data-vault-vs-traditional-vs-flatten-that-crap-out/" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ja gy z fp mz fr fs na fu fw iz bi translated">数据仓库对比传统对比消除垃圾:伟大的数据头脑</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">时代在改变！组织正处于云之旅的不同阶段。传统架构也是如此…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">www.greatdataminds.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni la mu"/></div></div></a></div><p id="f588" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这是一个漫长而有趣的讨论，如果你选择不看，这里是我的总结。</p><p id="bfe0" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">最终，没有单一的答案—不同的使用案例和工作负载需要不同的方法。传统方法之所以被称为传统方法是有原因的——它们经过了时间的考验，而且行之有效。有时，在单一架构中有一个空间可以容纳所有这些方法。</p><p id="d486" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">任何解决方案都应该是专门构建的，以下是一些常用的选项(只是一些示例):</p><ul class=""><li id="755e" class="nj nk iq jy b jz ka kd ke kh nl kl nm kp nn kt no np nq nr bi translated">即席分析—星型模式(Kimball)</li><li id="7f69" class="nj nk iq jy b jz ns kd nt kh nu kl nv kp nw kt no np nq nr bi translated">数据科学—平面表</li><li id="7126" class="nj nk iq jy b jz ns kd nt kh nu kl nv kp nw kt no np nq nr bi translated">具有跟踪和审计需求的企业数据仓库—Data vault</li><li id="d1fb" class="nj nk iq jy b jz ns kd nt kh nu kl nv kp nw kt no np nq nr bi translated">操作数据库— <a class="ae lg" href="https://en.wikipedia.org/wiki/Third_normal_form" rel="noopener ugc nofollow" target="_blank">第三范式(3NF) </a></li></ul><p id="6e74" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">现代数据堆栈提供的强大功能可以克服许多设计缺陷，即使没有最佳的建模选择，查询也可以执行得很好。然而，除了查询速度之外，还有维护成本，或者所谓的技术债务，如果使用次优技术，这个成本可能会高得不必要。</p><p id="6b60" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">事实上，当我们谈论速度时，我们应该考虑几个不同的因素:</p><ul class=""><li id="e27e" class="nj nk iq jy b jz ka kd ke kh nl kl nm kp nn kt no np nq nr bi translated">查询的速度或性能</li><li id="b3a9" class="nj nk iq jy b jz ns kd nt kh nu kl nv kp nw kt no np nq nr bi translated">交货速度</li><li id="9e7c" class="nj nk iq jy b jz ns kd nt kh nu kl nv kp nw kt no np nq nr bi translated">变化的速度(换句话说，敏捷性，或者我们对数据模型中需求变化的响应速度)</li></ul><p id="a848" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">利用云弹性的现代数据工具，结合良好的开发实践，如自动化数据质量测试和CI/CD(我在这里写了<a class="ae lg" rel="noopener" target="_blank" href="/data-engineering-in-2020-e46910786eda">和</a>)，允许我们在开发过程中更加敏捷，并在需求出现时进行迭代。当交付和变更的速度很快时，您可以从简单开始，首先专注于交付业务价值，然后不断改进。或者，一些数据模型被设计为对变化具有弹性(data vault)，这在某些场景中可能是更好的方法。</p><p id="c68c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">另一个重要的考虑因素是数据管理。当我们查看数据时，我们需要知道它是什么，它来自哪里，以及它是如何组合在一起的。好的数据模型对此有所帮助，但是帮助跟踪数据血统、数据质量、数据字典等的工具也是如此。如果数据的建模和文档记录都很糟糕，那么很容易以巨大的数据混乱而告终。</p><h1 id="e568" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">最后的想法</h1><p id="f59d" class="pw-post-body-paragraph jw jx iq jy b jz mm kb kc kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt ij bi translated">我是一名数据工程师，我的典型用例是即席分析、BI和数据科学。我喜欢将我处理的数据视为事实和维度(即使它是平面的)，并且更喜欢在有意义的时候以类似Kimball的风格对数据建模。我发现星型模式很容易理解，商业用户通常也喜欢它。这些天来，我总是以这种方式对数据进行物理建模吗？号码</p><p id="a529" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">如果需求允许，数据模型可以是“逻辑的”而不是物理的，并且可以随着需求的改变而改变。在某些情况下，可以完全跳过前期建模，或者根据需要尽量少建模。<em class="mi">我必须在这里强调，当交付速度和变化速度很快的时候，当数据管理到位的时候，它是有效的。</em>当然，假设数据仓库中的原始数据是以原始形式存在的，因此最终模型总是可以重建的，这是当今不关心数据存储的常见做法，通常称为ELT(提取—加载—转换)。</p><p id="6768" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">例如，在过去，当我在MS SQL Server中为我的数十亿行事实表添加列和选择数据类型时，我必须非常小心，因为当选择int而不是bigint时，每条记录节省4个字节意味着总共节省10-20gb，这对于10年前的中档本地服务器来说意义重大。如今，我可以将json日志直接保存到blob存储中，通过schema-on-read在Snowflake的SQL视图中直接读取它们，然后在其上构建一个仪表板——所有这一切都在几天内完成，无需预先考虑模式或数据类型。然后，在几天内，当它变得有价值时，它可以被重新设计成具有引用完整性的星型模式。</p><h1 id="255c" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">答案是什么？</h1><p id="5a81" class="pw-post-body-paragraph jw jx iq jy b jz mm kb kc kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt ij bi translated">那么，使用20世纪90年代的方法对数据建模有意义吗？</p><p id="c67c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">您不必对Kimball的方法或这里提到的任何其他方法持教条主义态度，但是了解经典的设计模式和常见的陷阱通常是有帮助的，特别是当您试图解决一些棘手的设计挑战而没有明显的答案时。数据建模已经有40多年的历史了——所以这个棘手的问题很可能已经有了答案。</p><h1 id="eca0" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">我在哪里可以了解更多信息？</h1><p id="c100" class="pw-post-body-paragraph jw jx iq jy b jz mm kb kc kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt ij bi translated">如果你今天想读Kimball的“数据仓库工具包”，我强烈推荐这篇文章(以及其他关于<a class="ae lg" href="https://www.holistics.io/blog/tag/data-modeling/" rel="noopener ugc nofollow" target="_blank"> holistics.io </a>的数据建模资源)，它解释了哪些章节仍然相关，哪些章节你可以安全地跳过。</p><div class="mr ms gp gr mt mu"><a href="https://www.holistics.io/blog/how-to-read-data-warehouse-toolkit/" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ja gy z fp mz fr fs na fu fw iz bi translated">数据仓库工具包2020年读者指南</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">在为《分析设置指南》做研究时，我读了拉尔夫·金博尔和玛吉·罗斯的传奇著作《数据…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">www.holistics.io</p></div></div><div class="nd l"><div class="nx l nf ng nh nd ni la mu"/></div></div></a></div><p id="09de" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">我没有使用data vault的实践经验(它似乎更适合企业数据集成)，但如果你想了解更多，我发现<a class="ae lg" href="https://www.ben-morris.com/data-vault-2-modelling-the-good-the-bad-and-the-downright-confusing/" rel="noopener ugc nofollow" target="_blank">这篇评论</a>很有趣。</p></div></div>    
</body>
</html>