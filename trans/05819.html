<html>
<head>
<title>How to: Visualize ‘Small Multiples’ Charts with Observable Plot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何:使用可观察的绘图可视化“小倍数”图表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-visualize-small-multiples-charts-with-observable-plot-d13b9730eb74?source=collection_archive---------35-----------------------#2021-05-24">https://towardsdatascience.com/how-to-visualize-small-multiples-charts-with-observable-plot-d13b9730eb74?source=collection_archive---------35-----------------------#2021-05-24</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="a126" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">关于可观察的地块(和停车场)，我们能了解到什么？</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/2d5820de2d477e7d1375742e96b678ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vwe6Ft1DeNmZxqSNm_Br7A.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">显示美国各县停车场面积的图表。</p></figure><p id="97c0" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">让我们探索两件事:</p><ol class=""><li id="35b5" class="lv lw iu lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">Observable的新绘图库用于快速数据可视化和探索性数据分析。</li><li id="3f65" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">停车蔓延这个小问题。</li></ol><p id="f89e" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><a class="ae mj" href="https://observablehq.com/@observablehq/plot" rel="noopener ugc nofollow" target="_blank">可观察剧情</a>是<strong class="lb iv"> <em class="mk">伟大</em> </strong>的几个原因:</p><ul class=""><li id="8cbc" class="lv lw iu lb b lc ld lf lg li lx lm ly lq lz lu ml mb mc md bi translated">制作“足够好”的图表和图形是超级快速且相对不需要动脑的。如果您需要一些新奇的东西，d3仍然是一个合理的选择，但是对于基本的条形图、折线图、分布图等。，它以最小的忙乱完成了这个任务。</li><li id="1ed1" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">该API直观、简洁，并且使用了大多数d3数据可视化开发人员依赖的定制dataviz的惯例。</li><li id="80f6" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">我们将在这里探讨的分面概念，可以很容易地将同一数据集的许多不同维度并行可视化为多个小图表。</li></ul><p id="1f63" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">停车场最差<strong class="lb iv"><em class="mk"/></strong>的几个原因:</p><ul class=""><li id="9a22" class="lv lw iu lb b lc ld lf lg li lx lm ly lq lz lu ml mb mc md bi translated">车祸。20%的车祸发生在停车场(每年导致6万人受伤，<a class="ae mj" href="https://www.cbsnews.com/news/parking-lot-accidents-distracted-drivers-national-safety-council/" rel="noopener ugc nofollow" target="_blank"> src </a>)。</li><li id="30ad" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">房价。停车多→住房少。在纽约市，最低停车要求提高10%会导致住房密度降低6%。</li><li id="76b3" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">污染。停车多→汽车尾气多(<a class="ae mj" href="https://www.scientificamerican.com/article/reducing-parking-cut-auto-emission/" rel="noopener ugc nofollow" target="_blank"> src </a>)。</li><li id="169d" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">它们太丑了。</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mm"><img src="../Images/f4a1e4d7ba3935e6863df931b7cf8e89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TEdqOl21RmtNwOTx4STJ-g.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">丑陋停车场拼贴(鸣谢:各种)</p></figure><h1 id="94a3" class="mn mo iu bd mp mq mr ms mt mu mv mw mx ka my kb mz kd na ke nb kg nc kh nd ne bi translated">停车数据集的土地使用</h1><p id="ecf5" class="pw-post-body-paragraph kz la iu lb b lc nf jv le lf ng jy lh li nh lk ll lm ni lo lp lq nj ls lt lu in bi translated">让我们从一个数据集开始。请注意，Plot是根据“整齐的数据”构建的，这是它干净和表格化的另一种说法。可观察的定义:</p><ul class=""><li id="b480" class="lv lw iu lb b lc ld lf lg li lx lm ly lq lz lu ml mb mc md bi translated">每个变量都必须有自己的列。</li><li id="7cfd" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">每个观察必须有自己的行。</li><li id="aa07" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">每个值必须有自己的单元格。</li></ul><p id="ddd9" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">所以我在这里整理了一个县停车区数据集<a class="ae mj" href="https://gist.githubusercontent.com/elibryan/0bc177106babf67c1bf446d81fc6e5c9" rel="noopener ugc nofollow" target="_blank">。它结合了这项研究的结果，该研究模拟了美国的停车场土地使用和美国人口普查国家县地名索引文件，该文件有关于县的基本事实，如人口规模和土地面积。它大约有16k行，每行有6个字段:</a></p><ul class=""><li id="ac61" class="lv lw iu lb b lc ld lf lg li lx lm ly lq lz lu ml mb mc md bi translated"><code class="fe nk nl nm nn b">geoid</code>:FIPS州+县的县代码</li><li id="30a0" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated"><code class="fe nk nl nm nn b">countyName</code>:一个人可读的县名</li><li id="b160" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated"><code class="fe nk nl nm nn b">landAreaMSq</code>:土地面积平方米</li><li id="2f8c" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated"><code class="fe nk nl nm nn b">parkingLandAreaMSq</code>:停车场用地面积，平方米</li><li id="fc25" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated"><code class="fe nk nl nm nn b">year</code>:与停车场测算相关联的年份。</li></ul><p id="5952" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我们可以通过以下方式提取数据:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><p id="655c" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">那我们来做一些图表吧！</p><h1 id="9aa3" class="mn mo iu bd mp mq mr ms mt mu mv mw mx ka my kb mz kd na ke nb kg nc kh nd ne bi translated">单个城市的停车场分布有多少？</h1><h2 id="5636" class="nq mo iu bd mp nr ns dn mt nt nu dp mx li nv nw mz lm nx ny nb lq nz oa nd ob bi translated">可观察图中的简单面积图</h2><p id="dd05" class="pw-post-body-paragraph kz la iu lb b lc nf jv le lf ng jy lh li nh lk ll lm ni lo lp lq nj ls lt lu in bi translated">让我们从简单的开始，只看一个城市的增长。比如说北卡罗来纳州的罗利。</p><p id="f2f5" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">首先，让我们只取出与Raleigh相关的行:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><p id="ed80" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">然后我们将创建一个简单的面积图，只显示Raleigh时间序列。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oc"><img src="../Images/191ad91a71ffee0627e2ef7b1b32063c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*NnzJRFSpybt4ZcQFet5ykQ.png"/></div></figure><p id="f174" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我们从下面的片段中得到上面的图:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><p id="5cf6" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这大致可以解释为“给定这些整洁的数据，给我一个合理的面积图，其中X是“年份”字段，Y是“停车场面积”。当然，结果很难看，但这是一个简单明了的函数调用。</p><p id="5a8f" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这引入了Plot的“标记”概念在这种情况下,“标记”是描述数据的任何可视编码的抽象术语。Plot为所有您喜欢的数据可视化提供内置标记(例如，条形、线条、点、区域等)。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oc"><img src="../Images/9fb023db1496aafe06541a5d37466191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*MQuFp1V8vFWDS-TJGetggg.png"/></div></figure><p id="27dd" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我们从下面的片段中得到上面的图表:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><h2 id="4270" class="nq mo iu bd mp nr ns dn mt nt nu dp mx li nv nw mz lm nx ny nb lq nz oa nd ob bi translated">结论:</h2><ul class=""><li id="e239" class="lv lw iu lb b lc nf lf ng li od lm oe lq of lu ml mb mc md bi translated">Plot给出了(<em class="mk">接近</em> ) 1-liner图，用于在Javascript中可视化(愚蠢的)数据<a class="ae mj" href="https://3iap.com/winning-at-ratemyskyperoom-elaborate-and-pointless-analysis-3BZT_LMuTrynOe2_EjD5Gw/" rel="noopener ugc nofollow" target="_blank"/></li><li id="e2da" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">自1974年以来，罗利的用于丑陋停车场的面积增加了一倍多</li></ul><h1 id="b18c" class="mn mo iu bd mp mq mr ms mt mu mv mw mx ka my kb mz kd na ke nb kg nc kh nd ne bi translated">停车场在多个城市中分布有多广？</h1><h2 id="9097" class="nq mo iu bd mp nr ns dn mt nt nu dp mx li nv nw mz lm nx ny nb lq nz oa nd ob bi translated">可观察图中的小倍数图表</h2><p id="ff83" class="pw-post-body-paragraph kz la iu lb b lc nf jv le lf ng jy lh li nh lk ll lm ni lo lp lq nj ls lt lu in bi translated">让我们画出专用于停车场的土地使用面积最大的20个县。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oh"><img src="../Images/8545f0edc73ac11a91a0f70fb26670c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ASSFYzf3netauqFKHnWPng.png"/></div></div></figure><p id="ce6b" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我们从下面的代码片段中获得了上面的图表:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><p id="c339" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我们正在做几件事:</p><ul class=""><li id="5bfd" class="lv lw iu lb b lc ld lf lg li lx lm ly lq lz lu ml mb mc md bi translated">首先，我们提取停车场面积最大的20个县</li><li id="1473" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">然后，我们通过稍微侵入Plot的刻面系统来绘制它们</li></ul><h2 id="1ccc" class="nq mo iu bd mp nr ns dn mt nt nu dp mx li nv nw mz lm nx ny nb lq nz oa nd ob bi translated">结论:</h2><ul class=""><li id="7606" class="lv lw iu lb b lc nf lf ng li od lm oe lq of lu ml mb mc md bi translated">洛杉矶县有很多停车场。截至2012年，面积为290平方公里(111平方英里)。也就是说，洛杉矶县的停车面积是曼哈顿的5倍。</li><li id="e9fc" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">Plot的刻面非常适合显示按维度划分的数据集的小倍数图表。</li><li id="0ec5" class="lv lw iu lb b lc me lf mf li mg lm mh lq mi lu ml mb mc md bi translated">停车场是最糟糕的。</li></ul></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="op np l"/></div></figure></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><p id="b46f" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我是谁？不，不，<em class="mk">你是谁？！</em>T3】</p><p id="7193" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">嗨！我是伊莱·霍德。我的公司<a class="ae mj" href="https://3iap.com" rel="noopener ugc nofollow" target="_blank"> 3iap帮助客户设计和开发有效的javascript数据可视化和定制分析产品</a>。如果你是一名创始人、创客、讲故事者、非营利行善者或商业领袖，正在思考数据、设计和用户心理的交集，我很乐意联系并聆听你的故事。</p><p id="256b" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">你可以发电子邮件到eli@3isapattern.com给我，或者在推特上关注我。</p></div></div>    
</body>
</html>