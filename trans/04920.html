<html>
<head>
<title>Optimization of a weekly production plan with Python and Gurobi — Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python和Gurobi优化周生产计划——第3部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/optimization-of-a-weekly-production-plan-with-python-and-gurobi-part3-2d8da1d3fc4c?source=collection_archive---------6-----------------------#2021-04-29">https://towardsdatascience.com/optimization-of-a-weekly-production-plan-with-python-and-gurobi-part3-2d8da1d3fc4c?source=collection_archive---------6-----------------------#2021-04-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="19fb" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="4849" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">了解如何使用Python和数学求解器Gurobi解决优化问题</h2></div><p id="56f1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们在之前的<a class="ae lk" rel="noopener" target="_blank" href="/optimization-of-a-weekly-production-plan-with-python-and-gurobi-part2-6ebcefe85e52">文章</a>中研究了如何在几条生产线之间分配工作量，以满足需求，同时减少劳动力、库存和短缺成本。</p><p id="a4c4" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这个模型有一些限制，可能无法在自然环境中使用。事实上，在大多数情况下，需求是根据客户订单列表的发货数量。还有，每种材料的周期时间不一样。</p><p id="9bee" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们将在这里看到在这种情况下如何优化生产计划。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ll"><img src="../Images/50ac844ed9dde58ba1a70a4394cf105e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WvsaM8z0J-kqLivpR10jhQ.jpeg"/></div></div><p class="lx ly gj gh gi lz ma bd b be z dk translated">照片由雷米·吉林拍摄| <a class="ae lk" href="https://unsplash.com/photos/alxnBRdFGJI" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h1 id="b9aa" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">1.语境</h1><h2 id="be5a" class="mt mc iq bd md mu mv dn mh mw mx dp ml kx my mz mn lb na nb mp lf nc nd mr iw bi translated">最终装配计划</h2><p id="5126" class="pw-post-body-paragraph ko kp iq kq b kr ne ka kt ku nf kd kw kx ng kz la lb nh ld le lf ni lh li lj ij bi translated">总装调度的想法是通过在每日级别调度生产订单来细化每日需求。我们的目标是通过平滑生产负荷来降低成本，从而减少劳动力成本，同时及时生产以减少库存和短缺成本。</p><p id="5aa2" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们采用的是<strong class="kq ja">按订单生产方案</strong>，其中<strong class="kq ja">三条生产线并行</strong>。工厂的组织方式使得<strong class="kq ja">单件流</strong>始终受到尊重，生产材料的所有任务都在同一条生产线上完成。每天7到12小时之间，每条生产线都可以额外收取加班费用。</p><p id="8ed4" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们需要安排生产订单，以满足客户订单清单所表达的要求。</p><p id="75aa" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">除了我们在前面的文章中所做的，我们将为我们工厂正在生产的每个产品系列添加周期时间的概念。该周期时间通过一个矩阵用作输入，该矩阵显示了8小时轮班的演示能力。由于不同生产线的设备不同，产能不仅取决于产品系列，还取决于装配线，如下图所示。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi nj"><img src="../Images/99e085e9c95fbdd200e7938fa66cba73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D5plbw59pRSc-rnRAW3FPw.png"/></div></div><p class="lx ly gj gh gi lz ma bd b be z dk translated">客户订单和生产线产能|图片由作者提供</p></figure><blockquote class="nk nl nm"><p id="f85a" class="ko kp nn kq b kr ks ka kt ku kv kd kw no ky kz la np lc ld le nq lg lh li lj ij bi translated"><strong class="kq ja">如何根据这些输入提出一个最小化成本的最终装配计划？</strong></p></blockquote><p id="7733" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">本文给出的算法基于第1部分和第2部分给出的算法。在本文中，我们将只坚持新引入的概念。</p><p id="6cdc" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">下面是我们将使用Python和Gurobi solver解决的问题的摘要。</p><pre class="lm ln lo lp gt nr ns nt nu aw nv bi"><span id="7edc" class="mt mc iq ns b gy nw nx l ny nz"><strong class="ns ja">Inputs</strong><br/>- Customer requirements<br/>- Capacity matrix<br/>- Labor cost per hour<br/>- Inventory cost per material per day<br/>- Shortage cost per material per day</span><span id="5321" class="mt mc iq ns b gy oa nx l ny nz"><strong class="ns ja">Variables</strong><br/>- x_qty[date, order, assembly line]: quantity of materials produced per day for each order on a given assembly line<br/>- x_time[date, order, assembly line]: working time per day for each order on a given assembly line. Defined according to the cycle time for each model.</span><span id="6b29" class="mt mc iq ns b gy oa nx l ny nz"><strong class="ns ja">Constraints<br/></strong>- Produce the quantity required by our customers<br/>- From 7 to 8 standard working hours per day<br/>- From 0 to 4 overtime working hours per day</span><span id="ecad" class="mt mc iq ns b gy oa nx l ny nz"><strong class="ns ja">Objective function to minimize</strong><br/>Sum of all costs considered<br/>- Labor cost<br/>- Inventory cost<br/>- Shortage cost</span></pre></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="1d0c" class="mb mc iq bd md me oi mg mh mi oj mk ml kf ok kg mn ki ol kj mp kl om km mr ms bi translated">2.编程我们的调度算法</h1><h2 id="c696" class="mt mc iq bd md mu mv dn mh mw mx dp ml kx my mz mn lb na nb mp lf nc nd mr iw bi translated">输入</h2><p id="69cb" class="pw-post-body-paragraph ko kp iq kq b kr ne ka kt ku nf kd kw kx ng kz la lb nh ld le lf ni lh li lj ij bi translated">‣ <strong class="kq ja"> <em class="nn">提取数据</em> </strong></p><p id="caa8" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这一次，为了提出一个更好地满足专业环境需求的模型，输入来自一个Excel文件，该文件可以从我们的ERP中提取。我们的算法将读取客户的要求，并使用相同的模板在另一个Excel文件中生成优化的生产计划。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="0637" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们将使用pandas的库来拟合这些信息，并转换数据以用于我们的优化算法。</p><p id="2105" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">用作输入的第二个Excel文件是每种产品每条生产线的演示产能。理想情况下，所有的装配线都应该有相同的流程，因此也应该有相同的能力。然而，在我们的小装配厂却不是这样。</p><p id="7e45" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">展示的能力不是基于理论路线时间，并且已经考虑了由于缺乏效率而造成的损失。以下是每条生产线8小时的产能:</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="97a3" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在让我们从Excel中获取数据，并将其加载到pandas数据框中:</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="3a7c" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">之前呈现并保存在两个Excel文件中的数据没有保存到变量的<strong class="kq ja"> <em class="nn"> customer_orders </em> </strong>和<strong class="kq ja"> <em class="nn"> capacity </em> </strong>中。此外，为了创建我们的算法，我们需要将产能转换为周期时间，即生产一个项目所需的时间。这些信息存储在变量<strong class="kq ja"> <em class="nn">【周期_时间】</em> </strong> <em class="nn">中。</em></p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="b751" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">从本地文件中提取这些数据后，我们需要设置劳动力、库存和短缺成本。这是以与前几篇文章相同的方式完成的，这里不再赘述。</p><p id="a0bb" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">与前面的文章相反，我们操作的日历是基于客户订单文件构建的。如果需要，可以在我的<a class="ae lk" href="https://github.com/baptistesoulard/Production-plan-optimization/tree/master/Planning_optimization_part3" rel="noopener ugc nofollow" target="_blank"> Git Hub </a>上找到代码。</p><p id="2aac" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在我们已经访问了所有要处理的信息，我们将创建字典来使用求解器Gurobi求解我们的模型。</p><p id="8bb5" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">‣ <strong class="kq ja"> <em class="nn">创作辞书</em> </strong></p><p id="0291" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">首先，我们需要创建一个包含与周期时间相关的信息的字典。我们想知道在每条装配线上生产一个订单单位所需的时间。</p><p id="214c" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">由于我们还不知道每个订单的周期时间，我们需要将本文第一部分创建的两个数据框架联系起来，即客户订单和产能数据框架。我们还将借此机会格式化日期。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="458d" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们现在已经拥有了在一个数据框中构建词典所需的所有信息。</p><p id="53e4" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">根据记录，字典用于存储按键索引的数据。因为我们需要知道在每条装配线上生产每份订单的一个单位所需的时间，所以用于索引周期时间字典的关键字是元组(订单，装配线)。</p><p id="0df4" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">为了创建字典，我们将在<strong class="kq ja"> <em class="nn"> customer_orders </em> </strong>数据框架中查找周期时间信息，并迭代每个订单和每条装配线。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="7020" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">输出将是:</p><pre class="lm ln lo lp gt nr ns nt nu aw nv bi"><span id="4c18" class="mt mc iq ns b gy nw nx l ny nz">cycle_times = {('A','Line_1'): 0.025, ('A','Line_2'): 0.0228, … ,('L','Line_2'): 0.0228,('L','Line_3'): 0.025}</span></pre><p id="35e0" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">同样，我们创建了包含日常需求(即客户需求)的字典。</p><pre class="lm ln lo lp gt nr ns nt nu aw nv bi"><span id="5c47" class="mt mc iq ns b gy nw nx l ny nz">daily_requirements = {('2020/07/13','A'): 600, ('2020/07/13','B'): 0, … ,('2020/07/19','K'): 0, ('2020/07/19','L'): 200}</span></pre><p id="a319" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在这一点上，我们已经成功地提取和提炼了将用于优化问题的数据。现在让我们开始定义我们的变量。</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h2 id="77fb" class="mt mc iq bd md mu mv dn mh mw mx dp ml kx my mz mn lb na nb mp lf nc nd mr iw bi translated">变量</h2><p id="f8e4" class="pw-post-body-paragraph ko kp iq kq b kr ne ka kt ku nf kd kw kx ng kz la lb nh ld le lf ni lh li lj ij bi translated">与前两篇文章相比，这里是主要的创新之处。</p><p id="1307" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在前面的文章中，我们在二维空间工作，我们的变量是每天在每条装配线上工作的时间。这次我们增加一个维度，这个变量所关注的顺序。</p><p id="7467" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们有一个主优化变量<strong class="kq ja"> <em class="nn"> x_qty </em> </strong> <em class="nn"> </em>和一个从属变量<strong class="kq ja"> <em class="nn"> x_time </em> </strong>使用<strong class="kq ja"> <em class="nn"> cycle_times </em> </strong>字典定义。一个三维的元组代表了它们。</p><ul class=""><li id="1717" class="op oq iq kq b kr ks ku kv kx or lb os lf ot lj ou ov ow ox bi translated"><strong class="kq ja"><em class="nn">x _ qty[日期，订单，装配线] </em> </strong>:给定装配线上每个订单每天生产的产品数量</li><li id="10d6" class="op oq iq kq b kr oy ku oz kx pa lb pb lf pc lj ou ov ow ox bi translated"><strong class="kq ja"><em class="nn">x _ time[日期，订单，装配线] </em> </strong>:给定装配线上每个订单每天的工作时间</li></ul><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="1499" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">除了这些新变量，我们将使用在以前的文章中定义的变量。以下是对这些变量的提醒:</p><p id="45eb" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">‣ <strong class="kq ja"> <em class="nn">时间变量</em> </strong></p><p id="2d7a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这些变量用于根据我们工厂的规定设置工作时间的限制。</p><pre class="lm ln lo lp gt nr ns nt nu aw nv bi"><span id="5545" class="mt mc iq ns b gy nw nx l ny nz"> • <strong class="ns ja"><em class="nn">reg_hours[date, assembly line]</em></strong>: regular working time on each assembly line<em class="nn"><br/> </em>• <strong class="ns ja"><em class="nn">OT_hours[date, assembly line]</em></strong>: overtime working hours on each assembly line<br/> • <strong class="ns ja"><em class="nn">line_opening[date, assembly line]</em></strong>: binary variable telling if an assembly line is opened each day<br/> • <strong class="ns ja"><em class="nn">total_hours[date, assembly line]</em></strong>: total working hours on each assembly line. It is the sum of regular and overtime working hours on the days the line is opened.</span></pre><p id="e362" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">‣ <strong class="kq ja"> <em class="nn">数量变量</em> </strong></p><p id="df83" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这些变量用于计算库存和短缺成本。</p><pre class="lm ln lo lp gt nr ns nt nu aw nv bi"><span id="06c4" class="mt mc iq ns b gy nw nx l ny nz"> • <strong class="ns ja"><em class="nn">early_prod[date, order]</em></strong>: quantity of items produced early for each order<strong class="ns ja"><em class="nn"><br/> </em></strong>• <strong class="ns ja"><em class="nn">late_prod[date, order]</em></strong>: quantity of items produced late for each order</span></pre></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h2 id="a46f" class="mt mc iq bd md mu mv dn mh mw mx dp ml kx my mz mn lb na nb mp lf nc nd mr iw bi translated">限制</h2><p id="1dbf" class="pw-post-body-paragraph ko kp iq kq b kr ne ka kt ku nf kd kw kx ng kz la lb nh ld le lf ni lh li lj ij bi translated">正如在简介中看到的，我们对每天的工作时间有一些限制，这是满足我们客户要求的一个障碍。</p><p id="24c2" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在每个变量的定义中设定了限制工作时间的约束条件，设定了下限和上限以符合规定。</p><p id="11d2" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">为了满足我们客户的需求，我们想生产出准确的订单数量。为此，我们将设置以下约束:</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi pd"><img src="../Images/cdc4be1b16fb84b062dc2b5f405f28a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-4y26U20NxCP9YlfH3l7JQ.png"/></div></div></figure><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="on oo l"/></div></figure></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h2 id="ef6d" class="mt mc iq bd md mu mv dn mh mw mx dp ml kx my mz mn lb na nb mp lf nc nd mr iw bi translated">目标函数</h2><p id="ac54" class="pw-post-body-paragraph ko kp iq kq b kr ne ka kt ku nf kd kw kx ng kz la lb nh ld le lf ni lh li lj ij bi translated">我们的目标是提出一个考虑到劳动力成本、库存成本和短缺成本的具有成本效益的计划。我们将所有这些变量添加到我们的目标函数中，然后最小化这个函数。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="on oo l"/></div></figure></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="95dd" class="mb mc iq bd md me oi mg mh mi oj mk ml kf ok kg mn ki ol kj mp kl om km mr ms bi translated">3.解决方案和分析</h1><p id="ee05" class="pw-post-body-paragraph ko kp iq kq b kr ne ka kt ku nf kd kw kx ng kz la lb nh ld le lf ni lh li lj ij bi translated">最小化目标函数后，我们的优化算法返回以下生产计划:</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="dc2d" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">你可以在下图中看到客户的需求是如何在我们的生产线之间分布的。我们可以注意到，每个订单的生产都是在需要最大限度减少库存的当天实现的。</p><p id="2444" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">订单L的情况并非如此，因为它仅代表几个小时的生产，并且禁止在少于7小时的时间内打开生产线。订单L在7月18日生产，它将建立一个200件的库存，将在7月19日发货。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="pe oo l"/></div></figure><p id="0e2b" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们可以检查每天工作时间的限制是否得到遵守。这些限制是根据当地法规定义的。</p><p id="8dfa" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在我们的案例中，现行法规规定每天最少工作7小时，最多12小时，8小时是100%负载的理想工作时间。下图中的灰色线条代表了这些极值。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="pe oo l"/></div></figure><p id="1630" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">每条线路上的每日工作时间总是落在7至12小时之间，并且遵守规定。</p><p id="74f3" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在，让我们显示该计划建议中预期的库存和短缺。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="pe oo l"/></div></figure><p id="74ed" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">从生产计划中可以看出，订单L在一天内增加了200件model 7库存，从而影响了我们的库存水平。没有后期生产，客户的要求得到满足，没有任何短缺。</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="06ab" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><strong class="kq ja">第一天客户要求太高无法处理怎么办？</strong></p><p id="634d" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">让我们看看我们的调度优化算法如何在时间框架的开始处理一个重要的客户订单。</p><p id="84c7" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">下面的计划显示了如果第一个客户订单量较高，我们的模型所建议的生产计划。在本例中，订单A的数量是2000件，而在我们的第一次测试中是600件。这个量一天也处理不过来，即使我们三条线满负荷运转。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="pe oo l"/></div></figure><p id="f9d8" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们可以看到，我们的模型通过建议在第二天生产这些材料来管理这种类型的请求。这在下面的短缺报告中更加明显，我们可以看到我们无法生产515件。它们将在7月13日生产。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="pe oo l"/></div></figure><p id="e2c2" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">当然，这不应该发生，因为它会对客户满意度产生负面影响。</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="ce5d" class="mb mc iq bd md me oi mg mh mi oj mk ml kf ok kg mn ki ol kj mp kl om km mr ms bi translated">4.结论</h1><p id="1503" class="pw-post-body-paragraph ko kp iq kq b kr ne ka kt ku nf kd kw kx ng kz la lb nh ld le lf ni lh li lj ij bi translated">通过这三篇文章，我们一步一步地学习了如何形式化一个优化问题，以及如何使用Python和Gurobi solver来解决它。</p><p id="ab34" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这种方法已被应用于需要安排生产以降低成本(包括劳动力、库存和短缺)的按订单生产工厂。</p><p id="bc3d" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">没有考虑所有的限制和所有的成本；一些需要改进的地方包括:</p><ul class=""><li id="4097" class="op oq iq kq b kr ks ku kv kx or lb os lf ot lj ou ov ow ox bi translated">考虑不同型号之间的转换时间</li><li id="a1fd" class="op oq iq kq b kr oy ku oz kx pa lb pb lf pc lj ou ov ow ox bi translated">模拟一个更复杂的工厂，各种任务按照特定的顺序在不同的生产线上执行</li></ul></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="7ea5" class="mb mc iq bd md me oi mg mh mi oj mk ml kf ok kg mn ki ol kj mp kl om km mr ms bi translated">资源</h1><div class="pf pg gp gr ph pi"><a rel="noopener follow" target="_blank" href="/optimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9"><div class="pj ab fo"><div class="pk ab pl cl cj pm"><h2 class="bd ja gy z fp pn fr fs po fu fw iz bi translated">用Python和Gurobi优化周生产计划—第1部分</h2><div class="pp l"><h3 class="bd b gy z fp pn fr fs po fu fw dk translated">了解如何使用Python和数学求解器Gurobi解决优化问题。</h3></div><div class="pq l"><p class="bd b dl z fp pn fr fs po fu fw dk translated">towardsdatascience.com</p></div></div><div class="pr l"><div class="ps l pt pu pv pr pw lv pi"/></div></div></a></div><div class="pf pg gp gr ph pi"><a rel="noopener follow" target="_blank" href="/optimization-of-a-weekly-production-plan-with-python-and-gurobi-part2-6ebcefe85e52"><div class="pj ab fo"><div class="pk ab pl cl cj pm"><h2 class="bd ja gy z fp pn fr fs po fu fw iz bi translated">用Python和Gurobi优化周生产计划—第二部分</h2><div class="pp l"><h3 class="bd b gy z fp pn fr fs po fu fw dk translated">了解如何使用Python和数学求解器Gurobi解决优化问题。</h3></div><div class="pq l"><p class="bd b dl z fp pn fr fs po fu fw dk translated">towardsdatascience.com</p></div></div><div class="pr l"><div class="px l pt pu pv pr pw lv pi"/></div></div></a></div><p id="b019" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这个项目在我的GitHub上的仓库:<a class="ae lk" href="https://github.com/soulabat/Production-plan-optimization/tree/master/Planning_optimization_part1" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/soula bat/Production-plan-optimization/tree/master/Planning _ optimization _ part 1</a></p><p id="1762" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">解释SAP如何在其计划优化模块中使用线性优化:<a class="ae lk" href="https://www.gurobi.com/pdfs/user-events/2017-frankfurt/SAP.pdf" rel="noopener ugc nofollow" target="_blank">http://www . guro bi . com/pdf/user-events/2017-Frankfurt/SAP . pdf</a></p><p id="87d2" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">古罗比文档:<a class="ae lk" href="https://www.gurobi.com/documentation/8.0/examples/workforce5_py.html" rel="noopener ugc nofollow" target="_blank">https://www . guro bi . com/documentation/8.0/examples/work force 5 _ py . html</a></p><p id="6cdd" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果你需要更多的信息或者想就这个问题交换意见，请随时联系我。你可以在LinkedIn上找到我。</p></div></div>    
</body>
</html>