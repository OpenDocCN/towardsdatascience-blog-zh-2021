<html>
<head>
<title>Demographic Analysis of the Des Moines Farmers Market with Foot Traffic Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于客流量数据的得梅因农贸市场人口统计分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/demographic-analysis-of-the-des-moines-farmers-market-with-foot-traffic-data-ca998e0786dc?source=collection_archive---------39-----------------------#2021-07-13">https://towardsdatascience.com/demographic-analysis-of-the-des-moines-farmers-market-with-foot-traffic-data-ca998e0786dc?source=collection_archive---------39-----------------------#2021-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f4ac" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何分析非POI事件的客流量，如农贸市场、示威游行、博览会等</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ee33ecb06eacaa75144aba59aee29913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1g4un_R_cJdy6MBD"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kv" href="https://unsplash.com/@danedeaner?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Dane Deaner </a>拍摄的照片</p></figure><p id="4b3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有些活动，如传说中的<a class="ae kv" href="https://www.dsmpartnership.com/desmoinesfarmersmarket/" rel="noopener ugc nofollow" target="_blank">得梅因农贸市场</a>，并不局限于特定的兴趣点，即传统上可用的客流量数据的级别。许多实体可能对分析农贸市场的客流量感兴趣，例如当地酒店/餐馆、得梅因市、潜在供应商和学术研究人员。</p><p id="6d71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是分析得梅因农贸市场客流量时遇到的一些挑战:</p><ul class=""><li id="cc64" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">它对应于包含更多传统兴趣点的大区域，如餐馆、银行等</li><li id="6095" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">在某些月份，农贸市场只在周六占据该区域</li><li id="1675" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">农贸市场内的摊贩位置每周都在变动</li></ul><p id="5343" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mg">别害怕，</em> <a class="ae kv" href="https://docs.safegraph.com/v4.0/docs/neighborhood-patterns-2020" rel="noopener ugc nofollow" target="_blank"> <em class="mg">邻里模式</em> </a> <em class="mg">就在这里！</em></p><p id="26f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了邻居模式，我们可以回答关于游客数量、他们来自哪里、他们停留了多长时间等问题。更好的是，这个数据集和其他数据集对学者是免费的。如果您想扩展这一分析，或者使用步行交通数据研究您自己的问题，请访问<a class="ae kv" href="https://www.safegraph.com/community" rel="noopener ugc nofollow" target="_blank"> SafeGraph社区</a>。</p><p id="1cb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mg">要自己运行代码和处理数据，请查看随附的Colab笔记本</em><em class="mg"/><a class="ae kv" href="https://colab.research.google.com/drive/1f5Jkie2fUTFmFO-ZH8A2Nw0FjWdPcNNo?usp=sharing" rel="noopener ugc nofollow" target="_blank"><em class="mg">！</em></a></p><h1 id="4bd5" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">设置</h1><p id="e5af" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">之前的每一次激动人心的分析都是有点无聊的(然而重要！)设置部分。为了简单起见，我们将跳过一些无聊的东西(导入、安装、读取数据等)。请随意查看Colab笔记本中的代码片段！</p><p id="76a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">来看看我们的数据吧！第一个数据框架是得梅因市中心的安全图社区模式。具体来说，我们已经过滤到包含得梅因农贸市场的人口普查区块组。<em class="mg">人口普查区块组(CBG)是聚集邻里模式数据的地理区域，方便的是，人口普查数据也聚集在CBG级别。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/8661a32f7df4942f9decbb6df123efc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tcr9-O9mUk0xW1EQxrRjTQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">安全图邻域模式中列的子集。</p></figure><p id="3ba2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Neighborhood Patterns有很多有用的专栏。在本文中我们将只使用<code class="fe nf ng nh ni b">weekend_device_home_areas</code>，但是您可以编辑代码以使用您认为合适的其他列！完整的列列表可在<a class="ae kv" href="https://docs.safegraph.com/v4.0/docs/neighborhood-patterns-2020" rel="noopener ugc nofollow" target="_blank">文档</a>中找到。</p><p id="e933" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nf ng nh ni b">weekend_home_device_areas</code>列很重要，所以让我们把它分解一下。每个条目都是一个JSON对象(或Python字典)，其中的键是一个CBG，值是居住在该CBG的访问者数量。此外，这些访问都发生在周末。该行指定了访问发生的日期范围。总之，这个专栏告诉我们周末去得梅因市中心的游客的家。</p><p id="16a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的下一个数据集是人口普查数据。这些数据让我们可以提出关于访客人口统计的问题。农贸市场访客的平均年龄是多少？收入分配是什么样的？人口普查数据有很多列；为简单起见，我们将只使用年龄中位数和收入中位数。同样，如果您想研究其他专栏，请随意<a class="ae kv" href="https://colab.research.google.com/drive/1f5Jkie2fUTFmFO-ZH8A2Nw0FjWdPcNNo?usp=sharing" rel="noopener ugc nofollow" target="_blank">更改代码</a>——您可以在几秒钟内访问重新创建该分析所需的所有代码/数据！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/00a43384270088e33127cfe4ca46bf70.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*egWFP6hZI83LYmG4IEWBQw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">普查数据中列的子集。</p></figure><p id="f577" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意第一列:<code class="fe nf ng nh ni b">census_block_group</code>。<strong class="ky ir">该列使我们能够将人口统计数据与邻里模式访问数据结合起来。</strong>为了做到这一点，我们需要首先从<code class="fe nf ng nh ni b">weekend_device_home_areas</code>中提取CBG级别的访问者数量。我们垂直分解该列，以便每行中的每个键值对都有自己的行。<em class="mg">我们还将重新格式化日期列，以便于阅读。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/15f822172ea417558ef3bae74881b759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_4rAtEMDxklVrL0nEmdabA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">垂直展开“周末_设备_家庭_区域”列后的邻域模式子集</p></figure><p id="ea11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以将两个数据集连接起来，查看周末去过得梅因市中心的每个CBG的平均年龄和平均收入。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/277a46506a36f490b8dc79bca0692163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XNwON7suk2hOd6vEZtyegA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">我们的合并数据集。</p></figure><h1 id="630d" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">分析</h1><p id="d76a" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我们的分析将保持相当简单。我们会看看2018年和2019年每个月的年龄中位数和收入中位数分布<em class="mg">(注:得梅因农贸市场只在5月到10月营业)</em>。为了做到这一点，我们创建了直方图，其中每一行根据访问者的数量进行加权(<code class="fe nf ng nh ni b">weekend_device_home_areas_value</code>)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/1a66f5070fcb2b7d7a85c13acd136c71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j04f8qqWQu-XHFl9cxZ5ig.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">得梅因市中心周末游客的收入中位数分布。</p></figure><p id="19f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">平均值从75，347美元到79，948美元不等。有趣的是，平均收入在九月和十月下降。</p><p id="8135" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们来看看同样的中位年龄可视化。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/de0c10f9a14368c13b32b9b2d5c441bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_67zUieOTMLgvlLHLiSCxQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">得梅因市中心周末游客的平均年龄分布。</p></figure><p id="222e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">平均年龄从36.6岁到37.8岁不等。同样，相对于6月和7月，我们看到9月和10月有所下降！</p><p id="77dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有人可能会假设，我们在9月和10月看到的收入和年龄下降是由大学生返校造成的。<strong class="ky ir">我们将在第二部分测试这个假设:绘制得梅因农贸市场的游客地图！</strong></p><h1 id="a268" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">结论</h1><p id="5fc9" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">在本文中，我们介绍了如何分析得梅因农贸市场游客的人口统计数据，该市场仅限于一个区域，而不是传统的兴趣点。这一切都是通过<a class="ae kv" href="https://docs.safegraph.com/docs/neighborhood-patterns-2020" rel="noopener ugc nofollow" target="_blank"> SafeGraph的邻居模式</a>(对学术界免费)和美国人口普查数据(对所有人免费)实现的。</p><p id="ed4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的分析表明，9月和10月的收入和年龄都略有下降。我们假设这是由得梅因的大学生返校造成的。虽然我们不会从统计上检验这个假设，但在地图上可视化可能会给我们一些启示！敬请关注第二部分，即将推出！</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="7f8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">疑问？</strong></p><p id="2148" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我邀请你在<a class="ae kv" href="https://www.safegraph.com/community" rel="noopener ugc nofollow" target="_blank"> SafeGraph社区</a>的<strong class="ky ir"> #safegraphdata </strong>频道问他们，这是一个面向数据爱好者的免费Slack社区。获得支持、共享您的工作或与GIS社区中的其他人联系。通过SafeGraph社区，学者们可以免费访问美国、英国和加拿大700多万家企业的数据。</p></div></div>    
</body>
</html>