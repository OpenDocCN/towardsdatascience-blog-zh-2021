<html>
<head>
<title>Convert Photo into Pixel Art using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python将照片转换为像素艺术</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/convert-photo-into-pixel-art-using-python-d0b9bd235797?source=collection_archive---------4-----------------------#2021-08-26">https://towardsdatascience.com/convert-photo-into-pixel-art-using-python-d0b9bd235797?source=collection_archive---------4-----------------------#2021-08-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="edd1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用python从照片中生成像素艺术的分步教程</h2></div><h2 id="cc0a" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">介绍</h2><p id="f53e" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">随着NFTs和加密艺术越来越受欢迎，对能够执行图像处理和生成程序艺术的程序员的需求也在增加。<br/>像素艺术最近也重新流行起来，特别是在数字艺术鉴赏家中间。<br/>在本文中，我将解释如何用python执行图像处理，将任何照片转换成像素艺术。</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi lx"><img src="../Images/06778daccd8fa45da1291991edd20100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7Q8XI6EPrlPPNI_m"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">照片由<a class="ae mn" href="https://unsplash.com/@mbaumi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">米卡·鲍梅斯特</a>在<a class="ae mn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="1d88" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">出于演示的目的，我将使用上述图像的裁剪版本(800px X 800px)。</p><h1 id="796f" class="mt kj it bd kk mu mv mw kn mx my mz kq jz na ka ku kc nb kd ky kf nc kg lc nd bi translated">开始编码吧！</h1><h2 id="9691" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">所需的库</h2><p id="92e2" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">我们将使用<a class="ae mn" href="https://pillow.readthedocs.io/en/stable/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lg iu"> <em class="nf">枕</em></strong></a><strong class="lg iu"><em class="nf"/></strong>库进行图像操作，使用<a class="ae mn" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"><strong class="lg iu"><em class="nf">Matplotlib</em></strong></a>库进行图像显示和保存。</p><pre class="ly lz ma mb gt ng nh ni nj aw nk bi"><span id="c5ae" class="ki kj it nh b gy nl nm l nn no">#Import Libraries<br/>from PIL import Image<br/>import matplotlib.pyplot as plt</span></pre><h2 id="a459" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">读取图像</h2><p id="3293" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">通过提供图像的<em class="nf">路径作为<em class="nf">枕</em>库的<em class="nf">图像</em>模块的<em class="nf">打开</em>函数的<em class="nf">参数，可以读取图像。因为我们的图像和笔记本在同一个文件夹中，所以只需要图像的名称就足够了。</em></em></p><p id="640a" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">一旦图像被读取，就可以使用matplotlib的<em class="nf"> imshow </em>函数显示。</p><pre class="ly lz ma mb gt ng nh ni nj aw nk bi"><span id="5862" class="ki kj it nh b gy nl nm l nn no">#Read image<br/>img=Image.open('mario.jpg')</span><span id="5391" class="ki kj it nh b gy np nm l nn no">#show image<br/>plt.imshow(img)<br/>plt.show()</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi nq"><img src="../Images/b182aaea6b498ccd8fc2f6226c338411.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7hmVASeQkXr4V32csJHZLw.jpeg"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">输入图像(裁剪后的图像800像素X 800px像素)</p></figure><h2 id="50c1" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">转换成小图像</h2><p id="34cb" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">创建像素化图像的第一步是使用<strong class="lg iu"> <em class="nf">双线性插值</em> </strong>重采样技术将输入图像图像转换成小图像。</p><p id="bc85" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">您可以访问下面的页面，了解更多关于不同的图像重采样技术。</p><div class="nr ns gp gr nt nu"><a href="https://www.cambridgeincolour.com/tutorials/image-interpolation.htm" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">了解数字图像插值</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">图像插值发生在所有数码照片的某个阶段-无论是在拜耳去马赛克还是在照片…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">www.cambridgeincolour.com</p></div></div><div class="od l"><div class="oe l of og oh od oi mh nu"/></div></div></a></div><p id="e911" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">这可以通过提供大小和重采样技术作为参数，使用resize方法来实现。<br/>我们可以将800px X 800px图像转换为8px X 8px图像，如下所示:</p><pre class="ly lz ma mb gt ng nh ni nj aw nk bi"><span id="d3c3" class="ki kj it nh b gy nl nm l nn no">small_img=img.resize((8,8),Image.BILINEAR)</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/ac3ce0bf66688ce188cf18ded8894fc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:16/format:webp/1*JzovLLLCVAoE-1LruEhz_w.png"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">小图像(8px X 8px)</p></figure><h2 id="7551" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">调整到所需的输出尺寸</h2><p id="c206" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">然后，再次使用resize函数，将小图像调整到所需的输出大小。<br/>我们将使用<strong class="lg iu"> <em class="nf">最近邻</em> </strong>重采样技术，本质上是放大每个像素。<br/>默认的重采样技术是双三次插值，这将锐化图像。下面的代码将把小图像(8px X 8px)转换成尺寸为1000 px X 1000px的图像。</p><pre class="ly lz ma mb gt ng nh ni nj aw nk bi"><span id="828a" class="ki kj it nh b gy nl nm l nn no">#resize<br/>o_size=(1000,1000) #output size<br/>res=small_img.resize(o_size,Image.NEAREST)</span><span id="9fc6" class="ki kj it nh b gy np nm l nn no">#save image<br/>res.save('mario_8x8.png')</span><span id="4003" class="ki kj it nh b gy np nm l nn no">#display image<br/>plt.imshow(res)<br/>plt.show()</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi ok"><img src="../Images/7c0c20d537a9f5b58bc8952dba8672d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qEtwaqf0MUFTKW1aOHOQ3A.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">mario_8x8.png，生成的输出图片(图片由作者提供)</p></figure><p id="77ec" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">请注意，我们已经使用保存功能将图像保存到本地，文件名为<em class="nf"> mario_8x8.png. </em></p><p id="5c8e" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">上面的图像只包含原始图像的0.01%的数据。因此，如果你不能从这个图像中识别出原始图像也就不足为奇了。<br/>好的像素艺术必须包含足够的来自原始图像的数据，这样才能被识别。然而，在这个过程中，细微的特征将会丢失。<br/>如果原始图形有许多需要保留的细微特征，我们应该使用大得多的尺寸进行初始调整。<br/>合适的<em class="nf">小图像</em>尺寸可以通过试错法获得。</p><h2 id="978a" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">创建一个函数来生成像素艺术</h2><p id="b911" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">下一步是通过创建一个从任何图像生成像素艺术的函数来简化上面讨论的处理。<br/>该功能必须包含以下功能:<br/> i .读取照片<br/> ii。以<em class="nf">小图像</em> <em class="nf">尺寸</em>和<em class="nf">输出图像尺寸</em>为参数<br/> iii转换为像素艺术。保存生成的图像<br/> iv。并排显示原始图像和像素图片以进行比较</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="ol om l"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">photo2pixelart功能(作者要点)</p></figure><p id="d212" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">该功能可用于为<em class="nf">马里奥图像</em>尝试不同的小图像尺寸，以找到合适的尺寸，从而获得视觉上最愉悦的像素艺术。</p><h2 id="2687" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">函数调用</h2><p id="a429" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">我们将图像转换为32px X 32px大小，以像素化图像。<br/> <em class="nf"> img.size </em>可以用来获取原始图像的大小。<br/>通过提供<em class="nf"> img.size </em>作为输出尺寸，我们可以生成与原始图像尺寸相同的像素艺术。</p><pre class="ly lz ma mb gt ng nh ni nj aw nk bi"><span id="8261" class="ki kj it nh b gy nl nm l nn no">photo2pixelart(image='mario.jpg',i_size=(32,32),<br/>                    o_size=img.size)</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi on"><img src="../Images/85c1b1f297fd0e2ebe4034e7e7a84603.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WdmBEeMy76IsOKWI_ykaVw.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">photo2pixelart函数的输出(图片由作者提供)</p></figure><p id="507d" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">我们可以看到，新的像素艺术显示更多的细节相比，最初的。与8px版本相比，该图包含的数据量是前者的16倍。然而，它只包含来自原始图像的0.16%的数据。</p><p id="f059" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">我们将图像的长度和宽度缩小10%，即下一张图像为80px X 80px。这个数字将包含原始图像的1%的数据。</p><pre class="ly lz ma mb gt ng nh ni nj aw nk bi"><span id="a0d7" class="ki kj it nh b gy nl nm l nn no">#Function Call<br/>photo2pixelart(image='mario.jpg',i_size=(80,80),<br/>                    o_size=img.size)</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi on"><img src="../Images/ee04e9c32d0fd4fa5d910526b5a1b8ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZIsHJhphiWUtUfytDBJ8Tw.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">photo2pixelart函数的输出(图片由作者提供)</p></figure><p id="749d" class="pw-post-body-paragraph le lf it lg b lh mo ju lj lk mp jx lm kr mq lo lp kv mr lr ls kz ms lu lv lw im bi translated">此图像比前一个图像更平滑，图像的特征更容易识别。</p><h2 id="221d" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">资源:</h2><p id="7afe" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">本教程的代码以及所有使用和生成的图像都可以在我的<a class="ae mn" href="https://github.com/hashABCD/Publications/tree/main/Medium/PixelArt" rel="noopener ugc nofollow" target="_blank"> GitHub Repo </a>中找到。</p><h2 id="cc1c" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">成为会员</h2><p id="b48f" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">我希望你喜欢这篇文章，我强烈推荐<a class="ae mn" href="https://abhijithchandradas.medium.com/membership" rel="noopener"> <strong class="lg iu">注册<em class="nf">中级会员</em> </strong> </a>来阅读更多我写的文章或数以千计的其他作者写的各种主题的故事。<br/> <a class="ae mn" href="https://abhijithchandradas.medium.com/membership" rel="noopener">你的会员费直接支持我和你看的其他作家。你还可以在Medium </a>上看到所有的故事。</p></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><h2 id="a7a3" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">你可能会对作者的其他文章感兴趣</h2><div class="nr ns gp gr nt nu"><a rel="noopener follow" target="_blank" href="/generate-pencil-sketch-from-photo-in-python-7c56802d8acb"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">用Python从照片生成铅笔草图</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">使用OpenCV的图像处理教程，带代码</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="ov l of og oh od oi mh nu"/></div></div></a></div><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi ow"><img src="../Images/f936d973c247722388fa18782e5663ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8eV2CgpTimRWrlYhk-42Kg.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">封面图片(作者图片)</p></figure></div></div>    
</body>
</html>