<html>
<head>
<title>10 Most Useful String Functions in Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫中最有用的10个字符串函数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-most-useful-string-functions-in-pandas-a8c35b92d9a5?source=collection_archive---------45-----------------------#2021-05-31">https://towardsdatascience.com/10-most-useful-string-functions-in-pandas-a8c35b92d9a5?source=collection_archive---------45-----------------------#2021-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0e1d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这些简单的熊猫函数使字符串处理变得容易</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1ffe98da1f6079a0c7f3972e246462aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mmP3LbVGhQMVoGx5XEMmDA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/users/ciggy1-1593902/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1019062" rel="noopener ugc nofollow" target="_blank"> ciggy1 </a>来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1019062" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="f735" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">简介</strong></p><p id="013a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您一直在使用python中的pandas库，您可能已经注意到许多数据是以文本形式出现的，而不是像一些人想象的那样是纯数字。</p><p id="47b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着需要清理和预处理字符串，以便它可以被分析、被算法使用或向公众显示。幸运的是，熊猫图书馆有自己的字符串处理部分。</p><p id="d719" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将带您浏览pandas库的这一部分，并向您展示最有用的pandas字符串处理函数。您将学习如何使用:</p><ul class=""><li id="ff42" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">上部()</li><li id="584f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">下部()</li><li id="ce0a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">isupper()</li><li id="bf84" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">较慢()</li><li id="31fd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">isnumeric()</li><li id="6995" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">替换()</li><li id="45c2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">拆分()</li><li id="917b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">包含()</li><li id="bfb2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">查找()</li><li id="370f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">findall()</li></ul><p id="c8d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准备好了吗？</p><p id="e9a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="4870" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">代码设置</strong></p><p id="fd77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了演示我们的第一个函数是如何工作的，我们应该创建一个我们将要使用的pandas数据框。您可以使用下面的代码来做到这一点:</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="1f1b" class="mv mw it mr b gy mx my l mz na">import pandas as pd<br/>client_dictionary = {'name': ['Michael Smith', 'Ana Kors', 'Sean Bill', 'Carl Jonson', 'Bob Evan'], <br/>                     'grade': [['A', 'A'], ['C'], ['A', 'C', 'B'], [], ['F']], <br/>                     'age': ['19', '19', '17', '18', '-'],<br/>                     'group': ['class 1', 'class 2', 'class 2', 'class 1', 'class 2'],<br/>                     'suspended': [True, False, True, False, True]<br/>                    }<br/>df = pd.DataFrame(client_dictionary)<br/>df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/8319fe36c44acddc52bcbf24569b34d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*uOnXNFjXeZhexo-f.png"/></div></figure><p id="2c12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样一来，你就创建了一个包含五列的数据框:<em class="nc">姓名、年级、年龄、组别、</em>和<em class="nc">暂停</em>。我们将关注的列是由字符串值表示的<em class="nc">姓名、年龄</em>和<em class="nc">组</em>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="fdb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 1。上()</strong></p><p id="48cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将讨论的第一个函数将一个字符串中的所有字母转换成大写。我们可以使用下面的代码将它应用到name列。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="617c" class="mv mw it mr b gy mx my l mz na">df.name.str.upper()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/7f29030c0e777a3e520acf81b14c11cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:468/format:webp/0*U3Zrq_3j9rWQtsVz.png"/></div></figure><p id="8fe2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所看到的，名字中的所有字母都被改成了大写。</p><p id="8289" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意用于转换字符串的代码的语法。你需要先打电话。请在调用upper()函数之前调用“str”。的’。“str”将series对象转换为可以执行实际字符串操作的字符串形式。</p><p id="cb89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在列上执行的所有字符串操作函数都需要这样做。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="2e5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 2。lower() </strong></p><p id="1f6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Lower()函数的工作方式与upper()函数类似，但它的作用正好相反，它降低了字符串中的所有字符。在这里你可以看到在<em class="nc">名字</em>栏调用它的结果。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="bea2" class="mv mw it mr b gy mx my l mz na">df.name.str.lower()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/65c995dbd02dc9304415e4f9ea3fdf30.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/0*IwUPD0Zyij-mZTXG.png"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="3d28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 3。isupper() </strong></p><p id="e73c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<em class="nc">'之后，可以用与upper()或lower()相同的方式调用该函数。str' </em>列上。它将检查一列中的每个字符串条目，如果它的所有字符都是大写的。再叫上<em class="nc">名</em>栏吧。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="a6cf" class="mv mw it mr b gy mx my l mz na">df.name.str.isupper()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/c95d6780514f2a7849844338dc659d7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:438/format:webp/0*NWLeTg4tbFjMu-qz.png"/></div></figure><p id="c18c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，这会返回一个包含所有假值的序列。这是有意义的，因为<em class="nc"> name </em>列中的条目只有名字和姓氏的首字母大写。</p><p id="0831" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要查看不同的行为，请尝试以下代码:</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="5604" class="mv mw it mr b gy mx my l mz na">df.name.str.upper().str.isupper()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/34208adf2d075e09cb10b86f2b95d3d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/0*t9taJp-YvJayo9ob.png"/></div></figure><p id="a210" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您现在看到的，函数isupper()现在返回一个只有真值的序列。这是因为我们在事先用upper()函数大写的<em class="nc">名称</em>列上调用了它。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="8238" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 4。islower() </strong></p><p id="4c27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个函数的工作原理与isupper()相同，但是它检查是否所有字符都是小写的。</p><p id="c719" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以看到，当在<em class="nc"> name </em>列上调用时，它将返回一个包含所有Flase值的序列。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="994d" class="mv mw it mr b gy mx my l mz na">df.name.str.islower()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/3e65445e20219f0f3fc7fabff06373b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:438/format:webp/0*MhUa7GHj1QczRB9_.png"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="397f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 5。isnumeric() </strong></p><p id="62ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个函数检查字符串中的字符是否实际上是数字。它们都必须是数字，isnumeric()才能返回True。</p><p id="310a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的数据框中，我们有用一些字符串填充的<em class="nc">年龄</em>列。让我们调用<em class="nc">年龄</em>列的isnumeric()函数。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="b1ec" class="mv mw it mr b gy mx my l mz na">df.age.str.isnumeric()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/fe2c4c84d6a12eadbe0ba514ebe6580d.png" data-original-src="https://miro.medium.com/v2/resize:fit:406/format:webp/0*bzhLd1pzYi3gPeRP.png"/></div></figure><p id="7881" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所看到的，我们得到了一系列真值，除了最后一项是假的。如果您没有记错，数据框中最初的<em class="nc">年龄</em>栏除了最后一项是'-'(破折号)之外，其他都是数字。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="3727" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 6。replace() </strong></p><p id="d8d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个非常有用的函数是replace()。它可以用来替换字符串的一部分与另一个。让我们演示一下如何在<em class="nc">组</em>列中使用它。如果你还记得<em class="nc">组</em>列由‘1类’和‘2类’条目组成。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="23ab" class="mv mw it mr b gy mx my l mz na">df.group.str.replace('class ', '')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/97fc01f0772bf407ef9ff61e32ae8807.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/0*9e2GYf0zHdts0qQS.png"/></div></figure><p id="9ca4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，我们用两个参数调用replace()函数。第一个参数是需要替换的字符串(在我们的例子中是“class”)，第二个参数是我们想要替换的内容(在我们的例子中是一个空字符串)。对<em class="nc">组</em>列执行此操作的结果是我们得到一个只有数字的序列，(‘1’和‘2’)。</p><p id="15e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，replace也可以和正则表达式一起使用。我们上面所做的(删除“class”部分)可以通过以下方式使用正则表达式来完成:</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="dbfd" class="mv mw it mr b gy mx my l mz na">df.group.str.replace(r'[a-z]+ ', '')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/7669b4ec212efa1cfd0b5f97cadcb132.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/0*mACTS7HpiXuVIN1Q.png"/></div></figure><p id="be7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我们不打算详细介绍python中的正则表达式，但是上面的代码会用空字符串替换每个字母数字单词后面的空格。</p><p id="19cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用replace()还可以使用<em class="nc"> case </em>参数来设置匹配是否区分大小写。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="aa00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 7。split() </strong></p><p id="6066" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">函数的作用是:将一个字符串分割成所需的字符。如果你有一个句子和一个单词列表，这将非常有用。您可以通过在空白位置(“”)拆分字符串来实现这一点。</p><p id="75bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的例子中，我们可能希望获得人名和姓氏作为单独的字符串。请注意，现在它们作为一个字符串列在<em class="nc">‘name’</em>列中。这将通过以下方式完成:</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="197e" class="mv mw it mr b gy mx my l mz na">df.name.str.split()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/843d09b53fb88d3591fe9059fd1c9e88.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/0*b9zl58NdLbnGnNdY.png"/></div></figure><p id="26c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，在这种情况下，split甚至不需要参数。默认行为是在空白区域拆分。如果你想在别的地方拆分字符串，你必须把它传递给split函数。例如，下面的代码演示了在字符“a”上拆分同一列。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="8e36" class="mv mw it mr b gy mx my l mz na">df.name.str.split('a')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/ae8dbecf400a6295e813b4930e6b3306.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/0*SHBqTfBPud1rPC1A.png"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="b3bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 8。包含()</strong></p><p id="be90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Contains()函数可以检查字符串是否包含特定的子串。该函数与replace()非常相似，但它不替换字符串本身，而是返回布尔值True或False。</p><p id="615d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过在<em class="nc">组</em>列上调用该函数来演示该函数是如何工作的，以便找出字符串是否包含数字‘1’:</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="9070" class="mv mw it mr b gy mx my l mz na">df.group.str.contains('1')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/59befc7a3a15def078ea46ef34879396.png" data-original-src="https://miro.medium.com/v2/resize:fit:438/format:webp/0*oSQTscCyELcCHcP_.png"/></div></figure><p id="013d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，结果是一系列的布尔。</p><p id="eb1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似于replace()的Contains()也可以与case参数一起使用，使其区分大小写或不区分大小写。</p><p id="47f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它也可以与正则表达式一起使用。下面是一个检查字符串在<em class="nc">组</em>列中是否有数字字符的例子:</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="cf7e" class="mv mw it mr b gy mx my l mz na">df.group.str.contains(r'[0-9]')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/c625da8b7002c7cc3a0df3138c129452.png" data-original-src="https://miro.medium.com/v2/resize:fit:418/format:webp/0*t-g19hBHF-1DOhWW.png"/></div></figure><p id="bdf9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，结果是一个只有真值的Series对象。这是正确的，因为<em class="nc">组</em>列包含了字符串中含有1或2的条目。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="5c47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 9。find() </strong></p><p id="1a00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Find()是另一个在清理字符串数据时非常方便的函数。这个函数将返回给定子串在字符串中的位置索引。</p><p id="b064" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用一个例子更容易理解。让我们尝试使用<em class="nc"> name </em>列来找出它的功能。我们将在字符串中搜索字母“s”。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="35af" class="mv mw it mr b gy mx my l mz na">df.name.str.find('s')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/6596b3bf767e70a720ce1818df084dc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:454/format:webp/0*4vOnYDsAeIxTF1Xj.png"/></div></figure><p id="38a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您不记得名称列，这是一个原始数据框。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/b975786fe1da6a550e1244b248730532.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*6hf9CuwmE1PREkLx.png"/></div></figure><p id="6341" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，索引1处的条目(Ana Kors)的第7个字符是“s”。此外，索引3处的条目(Carl Jonson)的第8个字符是“s”。其余条目的结果是'-1 '，因为它们根本不包含' s '字符。</p><p id="82af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，如果找到了多个“s”字符，find()将返回第一个字符的索引。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="95dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 10。findall() </strong></p><p id="b07b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与find()类似，Findall()将在字符串中搜索现有的子字符串，但它将返回匹配子字符串的列表，而不是一个索引。</p><p id="8ac3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，最好使用真实的例子。让我们在<em class="nc"> name </em>列中搜索‘an’子字符串。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="98c2" class="mv mw it mr b gy mx my l mz na">df.name.str.findall('an')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/775bb7dc2216663ec977cb27a11dee49.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/0*bbRKHSAu1ZCqDmEC.png"/></div></figure><p id="0852" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到在第1行和第4行出现了一次“an”。</p><p id="4994" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">findall()函数的默认行为是不区分大小写的。如果您想忽略这种情况，您可以使用<em class="nc"> flags </em>参数并导入re模块。</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="f06b" class="mv mw it mr b gy mx my l mz na">import re<br/>df.name.str.findall('an', flags=re.IGNORECASE)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/4f8640bdfada2c074ec145ad3a67299b.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/0*ncIDTFyepUT7x0Ck.png"/></div></figure><p id="6819" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您现在看到的，索引1处的条目也返回‘An’。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="7b39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">总结</strong></p><p id="ac0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章介绍了我最喜欢的pandas模块中的字符串处理函数，你做到了！恭喜你。</p><p id="e459" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你现在能够使用本教程中的函数来清理你自己的数据集。</p><p id="4a0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编码快乐！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="b1ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nc">原载于about datablog . com:</em><a class="ae ky" href="https://www.aboutdatablog.com/post/10-most-useful-string-functions-in-pandas" rel="noopener ugc nofollow" target="_blank">2021年5月31日熊猫</a> <em class="nc">中最有用的10个字符串函数。</em></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="2021" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nc"> PS:我正在Medium和</em><a class="ae ky" href="https://www.aboutdatablog.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="nc">aboutdatablog.com</em></strong></a><em class="nc">上撰写以简单易懂的方式解释基本数据科学概念的文章。你可以订阅我的</em> <a class="ae ky" href="https://medium.com/subscribe/@konkiewicz.m" rel="noopener"> <strong class="lb iu"> <em class="nc">邮件列表</em> </strong> </a> <em class="nc">在我每次写新文章的时候得到通知。如果你还不是中等会员，你可以在这里加入</em><a class="ae ky" href="https://medium.com/@konkiewicz.m/membership" rel="noopener"><strong class="lb iu"><em class="nc"/></strong></a><em class="nc">。</em></p><p id="e435" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面还有一些你可能喜欢的帖子</p><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/top-9-jupyter-notebook-extensions-7a5d30269bc8"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">9大Jupyter笔记本扩展</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">改进笔记本电脑功能，提高您的工作效率</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og ks ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/top-8-magic-commands-in-jupyter-notebook-c1582e813560"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">Jupyter笔记本中的8大魔法命令</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">通过学习最有用的命令来提高您的生产力</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oh l od oe of ob og ks ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/introduction-to-f-strings-3822ed8683cc"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">python f字符串简介</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">以及为什么您应该开始使用它们…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oi l od oe of ob og ks ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/9-things-you-did-not-know-about-jupyter-notebook-d0d995a8efb3"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">关于jupyter笔记本你不知道的9件事</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">用这些建议提高你的工作效率</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oj l od oe of ob og ks ns"/></div></div></a></div></div></div>    
</body>
</html>