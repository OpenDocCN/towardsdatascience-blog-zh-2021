<html>
<head>
<title>A Case Statement in a SQL Join</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQL连接中的Case语句</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-case-statement-in-a-sql-join-13496723dca9?source=collection_archive---------3-----------------------#2021-08-16">https://towardsdatascience.com/a-case-statement-in-a-sql-join-13496723dca9?source=collection_archive---------3-----------------------#2021-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5051" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">俏皮的把戏</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8ac3d28e9961d60496256ab19e6287fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qag5QF4oMcPHM446OjejdQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由伦纳德·冯·比布拉通过Unsplash</p></figure><p id="1c46" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当连接两个或更多的表时，有时会出现连接的值不完全匹配的情况。有很多方法可以解决这个问题:在要连接的表的join语句中使用CASE语句的子查询，在temp表中使用CASE语句，其中所有值都被更改为匹配，或者在JOIN的ON子句中使用CASE语句这种方便的小技巧。</p><p id="732c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们快速地看一下使用一个没有调整的常规连接(显然不是下面几个卷轴的超级酷的聚会技巧):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lu"><img src="../Images/e99e172211502fe5323491dc251e674a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BpSBt5qtlpHutK0ylrcfnw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片</p></figure><p id="0249" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上图中，我们可以看到，当我们试图将“cust_table”左连接到超级漂亮的capes“orders”表时，当连接到“cust_num”时，我们最终得到了一些空值。在“orders”表中，我们发现Count von Count和Papa Drac使用了我们的E-Comm订购系统，从而将一个漂亮的小“-EC”连接到他们的“cust_num”的末尾。他们位于' cust_table '中的客户数据没有我们喜欢的新的'-EC '字符串。</p><h1 id="e523" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">世纪派对把戏！</h1><p id="a248" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">我猜这不是常识，主要是因为我不记得曾经听说过，但是CASE语句可以用在JOIN语句的on部分，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="f497" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们来看看结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/70a491e12f51bda6d218ba8df8619027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*95VNSjThoWHc-Kqgi6juSQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片</p></figure><p id="f00b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">哔哔哔。成功了！</p><h1 id="a18f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">这个什么时候能派上用场？</h1><p id="7627" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">根据我的经验，在更新现有查询时，这可能会节省大量时间。你可能有其他的连接或者其他你不想乱来的东西。你真正希望的是正确地加入表格。这有助于你到达那里！</p><h1 id="f2b7" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">最后的想法</h1><p id="1515" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">SQL是一个强大而有用的工具。肯定有不止一种方法可以敲碎鸡蛋/编写代码来做你需要它做的事情。这只是你可能想要添加到你的工具箱中的东西。下次见，继续学习！</p></div></div>    
</body>
</html>