<html>
<head>
<title>Number Guessing Game</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">猜数字游戏</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/number-guessing-game-504b5f3bb0e7?source=collection_archive---------35-----------------------#2021-03-22">https://towardsdatascience.com/number-guessing-game-504b5f3bb0e7?source=collection_archive---------35-----------------------#2021-03-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="75f3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用测试驱动开发方法的Python练习</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0debb5e70b667a195b3cf4ca01d58ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0SL3YjXsQWvBjH1S"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@maitetiscar?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">迈特·蒂斯卡尔</a>拍摄的照片</p></figure><p id="050b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几周前，我开始阅读一本有趣的书:鲁文·m·勒纳的《Python测试》。它由50个十分钟的练习组成。这是一本积累一些Python编程经验的理想书籍。</p><p id="7a3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我自己开始阅读这本书，因为我的Python技能需要一些改进。有时你忙于学习另一种语言，以致于你的语法知识受到影响。</p><p id="3e73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最喜欢的解决编码问题的方法是测试驱动开发。为了让你开始，我决定分享我解决给定问题的方法。我们一起来看看如何解决这本书的第一个练习:猜数字游戏。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/fb4fb1541b9ea6dfbb44821317fbf92a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*lnyAqna8yrIQIeKYvY7HXg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python锻炼手册</p></figure><p id="6fc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为企业发展和为自己发展有着巨大的区别。虽然书籍主要关注于为自己编码，但这是我试图有所作为的地方。</p><p id="2cb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，首先，我们将看看测试驱动开发的一些优势。如果你已经理解了测试的重要性，你可以跳过这一节。</p><p id="bf88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二，我们要解决数字猜谜游戏，它由5个简单的步骤组成:</p><ul class=""><li id="3ec3" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">写一个没有参数的函数“guessing_game”</li><li id="65b2" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">该函数选择0到100(包括0和100)之间的随机整数</li><li id="5275" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">请用户猜测选择了哪个数字</li><li id="a684" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">打印相应的猜测:“太高”，“太低”，或“刚刚好。”</li><li id="5cc7" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">只允许程序在用户猜对后退出</li></ul><blockquote class="mk ml mm"><p id="8086" class="kz la mn lb b lc ld ju le lf lg jx lh mo lj lk ll mp ln lo lp mq lr ls lt lu im bi translated">尝试自己解决这些步骤，然后比较你的解决方案。有一些不同并不意味着你的解决方案是错误的。甚至可能更好！这个练习的目的是学习和分享知识，所以如果你有改进，请在评论中分享！</p></blockquote><p id="5e9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于每一步，我会给你我的推理。</p><h1 id="54a1" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">测试驱动开发的优势</h1><p id="00ac" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">用测试驱动的方式做这个练习至少有三个好处。因为你不同意一个论点，并不意味着其他论点都是废话。</p><ul class=""><li id="3eeb" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><strong class="lb iu">在这个练习之后，你将拥有100%的分支代码覆盖率</strong></li></ul><p id="253c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你的同事想要改变你的实现，他们会有一个安全网来检查所有的需求。如果你独自工作，就像你在业余爱好项目或学习中所做的那样，你可能看不到以这种方式测试的任何附加价值。</p><p id="e1a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是在这个行业里，你不是一个人在工作。迟早有人会修改你的代码。这有风险。你不希望现有的价值被破坏。因为你预先编写了你的测试，所以不可能出现从未测试过的情况。</p><ul class=""><li id="669c" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">迭代生成的代码可读性更好。</li></ul><p id="8c4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着需求的增加，软件变得更加复杂。朝着一个解决方案反复工作会让一切变得更容易理解。</p><p id="6ecd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能同意下面的说法。当一个难题被分成多个部分时，它就变得不那么复杂了。每一部分本身都更容易消化。</p><p id="57bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">测试驱动的开发方法允许你对任何问题都这样做。因为每一部分都是单独完成的，所以你的代码将是结构良好的，可读性强的。</p><ul class=""><li id="a71f" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><strong class="lb iu">添加测试比从头开始更容易</strong></li></ul><p id="e488" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几乎每个人都说软件测试会让你慢下来，尤其是当你第一次做的时候。但是你应该意识到测试是<strong class="lb iu">而不是</strong>可选的。</p><p id="9fd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">迟早，你必须开始，你拖得越久，事情就变得越复杂。除非你是自私的，并且无意与他人合作，否则你没有正当的理由不测试你的代码。</p><p id="4eb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该什么时候开始？</p><p id="0659" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了获得所有的好处，你应该尽早开始。如果您在编写生产代码之前就开始测试，那将是最好的。虽然一开始可能会令人沮丧和困难，但它会让你更快。一旦你足够熟悉你的语言，测试驱动的开发就不会再拖你的后腿了。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="f5ff" class="mr ms it bd mt mu nv mw mx my nw na nb jz nx ka nd kc ny kd nf kf nz kg nh ni bi translated">猜数字游戏</h1><h2 id="8c1e" class="oa ms it bd mt ob oc dn mx od oe dp nb li of og nd lm oh oi nf lq oj ok nh ol bi translated">写一个没有参数的函数“guessing_game”</h2><p id="750f" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">如果你以前从未编写过测试，你需要花一些时间来熟悉它们。在第一步中，我们将从一个测试文件开始。<code class="fe om on oo op b">number_guessing_game.py</code>。</p><p id="6bff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在开始编写代码之前，我们需要进行第一次测试。这是测试驱动开发的黄金法则。我们从单元测试开始。因此，让我们导入<code class="fe om on oo op b">unittest</code>库。</p><p id="80cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有实现就成功的测试并不好。我们想避免这种情况。因此，我们将不得不放弃失败的测试。在第一个测试中，您可以在定义方法之前编写方法名。这将被指示为错误。</p><p id="af05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了通过这个测试，您必须创建一个方法。一个经验丰富的开发人员用他最喜欢的IDE中的快捷方式来做这件事，但是你也可以键入它。</p><p id="7104" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是第一步。在一次成功的红绿迭代之后，我们有了一个没有参数的方法<code class="fe om on oo op b">guessing_game</code>。</p><blockquote class="mk ml mm"><p id="d10d" class="kz la mn lb b lc ld ju le lf lg jx lh mo lj lk ll mp ln lo lp mq lr ls lt lu im bi translated">不用担心我下面代码中的pass语句。它只是未来代码的占位符。它什么也不做。如你所见，这个方法不返回任何东西。这个测试唯一要做的事情是检查是否有一个用名称<code class="fe om on oo op b">guessing_game</code>定义的方法。</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/74b107c0b2ca4548263f6aaa726407c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DRFmgglWrtUpUrwHo5xdlg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe om on oo op b">guessing_game</code>一种没有任何论据的方法。</p></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h2 id="086f" class="oa ms it bd mt ob oc dn mx od oe dp nb li of og nd lm oh oi nf lq oj ok nh ol bi translated">写一个从0到100(包括0和100)之间选择一个随机整数的函数</h2><p id="d4f2" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">让我带你走完这稍微难一点的一步。我们要生成一个0到100之间的随机整数，包括100。你可以采取多种方法。</p><p id="bfe6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，你可以试着自己写一个随机整数的函数。但这相当复杂。测试它甚至更复杂。</p><ul class=""><li id="f2ee" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">如何让它变得真正随机？</li><li id="2180" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">你的种子是什么？是时间还是别的什么</li></ul><p id="027b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们没有重新发明轮子，而是引进了<code class="fe om on oo op b">random</code>。这是一个已经使用了很多年的库，根据文档，它的功能正是我们想要的。</p><p id="2d96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我编写了一个测试来验证正确的方法将被调用。我们没有将随机库作为方法参数传递，而是使用了一种不同的技术。我们在构造函数中注入这个库，使用的是<code class="fe om on oo op b">dependency injection</code>的原理。</p><ul class=""><li id="3bdd" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">依赖注入使得嘲笑或监视变得更加容易。想象一下在现有代码上添加测试。您将遇到的第一个问题是决定您将模仿哪些库，不模仿哪些库。避免这个问题，尽早测试。</li><li id="052a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">依赖注入不会将我们的代码耦合到一个特定的库。我们可以很容易地把图书馆换成另一个。这只是一个小班级，但是想象一下使用一个大系统。只会变得更加复杂。</li></ul><p id="c508" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一件事。你可以用假的或者间谍。在这种情况下，生成随机数非常快。我们真的不需要模仿。作为开发人员，您必须做出权衡。</p><blockquote class="mk ml mm"><p id="1ed9" class="kz la mn lb b lc ld ju le lf lg jx lh mo lj lk ll mp ln lo lp mq lr ls lt lu im bi translated">如果您更喜欢真正的实现，除非它需要太多的时间来执行，这将是最好的。库如何生成随机数只是一个细节。从我们现在掌握的信息来看，我们可以同意这个图书馆正是我们所需要的。</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/780426251d5b57cc50846d25e1b3588e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eyEI2Dsz89P_SgokAfdVOw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一种生成0到100之间的随机整数的方法。</p></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h2 id="d244" class="oa ms it bd mt ob oc dn mx od oe dp nb li of og nd lm oh oi nf lq oj ok nh ol bi translated">请用户猜一个数字。</h2><p id="657e" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">乍一看，下一步并不比第一步复杂。但是和所有事情一样，细节决定成败。</p><p id="e941" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入法在Python中是如此常用。它甚至不需要进口。但这对我们来说很困难。如果没有导入，如何应用依赖注入？</p><p id="50b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，有可能。如果你点击输入方法，你会看到它也包含在内置库中。所以，我们可以重复我们在第一步中看到的。</p><p id="8a2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您编写第二个测试，验证输入法已经被称为对用户有用的消息。要让它通过，必须调用内置的输入库。确保您模拟了<code class="fe om on oo op b">builtins</code>输入法的返回值，因为否则，您的测试将在等待用户输入时停滞不前。</p><p id="786c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保两个测试都成功。在第一个例子中，我们验证了随机数的产生。第二，我们测试用户的输入。这开始看起来像一步猜谜游戏。</p><p id="e1f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你做得很好。让我们进入下一步。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/1c29bb4939d9ee527c74da44bd09592f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o3vtfKXvYScvHmb7IfgBRQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要求用户输入，以便他们能猜出数字。</p></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h2 id="4355" class="oa ms it bd mt ob oc dn mx od oe dp nb li of og nd lm oh oi nf lq oj ok nh ol bi translated">当用户进行猜测时，输出“太高”、“太低”或“刚刚好”。</h2><p id="079a" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">前面两步感觉不太像编程吧？这个会。在这一步，我们将为用户添加一些逻辑和反馈。我们将添加三个用例:</p><ul class=""><li id="716b" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">如果猜测的数字高于真实数字，则打印“太高”</li><li id="07b4" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">如果猜测的数字低于真实数字，则打印“太低”</li><li id="19a5" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">如果猜测的数字正是真实的数字，则打印“恰到好处”</li></ul><p id="32f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个案例都将是一个新的测试驱动的步骤。我总是用最少的努力使测试成功。</p><ul class=""><li id="bbf7" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第一步，用户的每一次高输入都会输出“太高”。</li><li id="2ea3" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">在第二步中，我们修改代码，否则输出“太低”。</li><li id="1234" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">在第三步，我们将涵盖最后一种情况，“刚刚好。”</li></ul><p id="0c59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过迭代工作，您可以为每个分支执行添加一个测试。在每个时间点，这都会导致100%的分支代码覆盖率。我们以三个额外的测试结束，<code class="fe om on oo op b">guessing_game</code>现在是一个猜测的完整特性。</p><p id="f511" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你一直跟着，我们就快完成了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/6e5d731eaf5e72d6b5a4f7c9633a2bb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E2D-FrA2_sZc5slc9LrMwQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">基于用户输入的反馈。</p></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h2 id="36df" class="oa ms it bd mt ob oc dn mx od oe dp nb li of og nd lm oh oi nf lq oj ok nh ol bi translated">只有当用户猜对时才退出</h2><p id="2b34" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">你已经到了这个练习的最后一步。循环往往会增加相当多的复杂性——尤其是这个。我们只能在猜对的情况下退出程序。</p><p id="917e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了允许这种改变，我们必须修改一些测试。否则，测试将永远不会退出无限循环。每个测试最终都必须退出while循环。</p><p id="d109" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这一步中，最重要的部分是编写一个测试，在以正确的输入结束之前输入一些错误的输入。三个数字足以测试一个循环，但是您可以选择任何数字(例如，5次尝试，参见下面的代码片段)。</p><blockquote class="mk ml mm"><p id="9356" class="kz la mn lb b lc ld ju le lf lg jx lh mo lj lk ll mp ln lo lp mq lr ls lt lu im bi translated">一个重构改进可以将一个猜测的代码移动到它自己的函数中。这将减少对其他部分的更改量。你可以自己试试。如我所说，我提供的代码示例并不是最佳的。这只是我在一定时间内努力的结果。</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/ad4cbb6b71a63d5b1b0a79b06ce42b7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gga3WGrcPhuKuKapxMN4TA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">只有当用户输入5个正确的数字时才退出</p></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h2 id="237a" class="oa ms it bd mt ob oc dn mx od oe dp nb li of og nd lm oh oi nf lq oj ok nh ol bi translated">结论</h2><p id="71fa" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">几乎所有的文章和书籍都专注于编写高质量的代码。但是他们倾向于将测试移到它自己的章节。这并不理想。测试应该从软件开发的早期阶段开始。</p><p id="8b8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您已经看到了将一个复杂的任务分成更小的可测试步骤是可能的。每一步都应该通过测试、实现和重构步骤。这产生了经过良好测试的、可维护的和可读的代码。</p><p id="7e9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了结束这篇文章，我将添加最终的解决方案。您将看到这个解决方案与原作者提出的几乎相同。您可以自己尝试一下，或者在其他编码挑战中尝试一下。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">猜数字游戏</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">猜数字游戏测试。</p></figure></div></div>    
</body>
</html>