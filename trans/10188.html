<html>
<head>
<title>Why you should stop using Excel or PuLP for mathematical optimisation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么你应该停止使用Excel或纸浆进行数学优化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-you-should-stop-using-excel-or-pulp-for-mathematical-optimisation-d36492096e56?source=collection_archive---------16-----------------------#2021-09-27">https://towardsdatascience.com/why-you-should-stop-using-excel-or-pulp-for-mathematical-optimisation-d36492096e56?source=collection_archive---------16-----------------------#2021-09-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="770d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">给古罗比一个机会</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e306042b95fbc0d2fce23bf4fd4d1ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xX0X4RtCH525-KmnkEokbQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@hay_leigh?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> hay s </a>在<a class="ae kv" href="https://unsplash.com/s/photos/change?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="da67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">说到<strong class="ky ir">数学优化</strong>，尤其是<strong class="ky ir">(整数)线性规划</strong>，市面上有几种方案可以解决。</p><p id="8600" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先有微软，在<strong class="ky ir"> Excel </strong>中实现了一个求解器作为插件。但是，它有200个决策变量的限制。对于相对较小的问题来说，这很好，但是如果您的问题需要更多的变量，我建议您开始寻找替代方案。</p><p id="3bb6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着<strong class="ky ir"> Python </strong>的大受欢迎，大多数数学家都选择了知名的库<a class="ae kv" href="https://pypi.org/project/PuLP/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">纸浆</strong> </a> <strong class="ky ir"> </strong>以及默认的开源求解器<a class="ae kv" href="https://projects.coin-or.org/Cbc" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">CBC</strong></a><strong class="ky ir"/>。对于大多数问题来说，这很好。它可以完成工作，网上有很多教程可以教你基本的语法。然而，你可以做得更好！</p><p id="f8e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于我需要解决的大多数复杂的ILP，我更喜欢使用<a class="ae kv" href="https://www.gurobi.com" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">guro bi</strong></a><strong class="ky ir"/>因为三个原因:它<strong class="ky ir">运行迅速</strong>，它可以在有<strong class="ky ir">时间限制</strong>的情况下工作，并且对<strong class="ky ir">数量的决策变量</strong>没有<strong class="ky ir">限制</strong>。哦，我有没有提到它对学术用户 是免费的？下面，我将详细阐述这些论点，最后你可以找到一些有用的链接，帮助你开始使用Gurobi。</p><h2 id="92c8" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">事先写一个小纸条</h2><p id="0a6d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在我们深入细节之前，我想声明我与古罗比没有任何关系。这个故事仅仅反映了我使用它的经验。应该注意的是，也有其他的商业替代品，如IBM的<a class="ae kv" href="https://www.ibm.com/analytics/cplex-optimizer" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"/></a>。此外，也可以使用一个有限的，免费版本的Gurobi作为纸浆解算器。然而，由于这些限制，它只对小问题有用。不管怎样，让我们开始吧！</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h2 id="4848" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">古罗比更快</strong></h2><p id="0a0e" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">首先，为什么速度很重要？你可以让你的代码通宵运行，对吗？但是，在某些情况下，这并不合适，例如在实时决策或假设分析中。在这两种情况下，都不希望不必要地等待解决方案。因此，<strong class="ky ir">速度有时很重要</strong>。根据Gurobi在2010年进行的一项bechmark测试，CBC(PuLP的默认求解器)只能按时解决61%的问题，而Gurobi在给定时间内解决了所有问题。显然，这项研究的可靠性值得怀疑，但它还是给人留下了印象。</p><h2 id="746f" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">可以给古罗比一个时间限制</strong></h2><p id="c7a8" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">有时候，在合理的时间内解决一个线性问题是不可能的。如果你用的是纸浆，那么你只是运气不好。它不可能给你一个中间结果。还好有古罗比！只需一行代码，您就可以确保不必等待很长时间，仍然可以获得结果。在下面的例子中，我将运行时间限制为一分钟。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="8eef" class="ls lt iq my b gy nc nd l ne nf">m = gurobipy.model()<br/>m.setParam('TimeLimit', 60)</span></pre><h2 id="857f" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak"> Gurobi对决策变量的数量没有限制</strong></h2><p id="9b65" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Excel只有200个决策变量的限制，而Gurobi没有。在受限许可下，这已经是十倍了:<a class="ae kv" href="https://support.gurobi.com/hc/en-us/articles/360051597492-How-do-I-resolve-an-Model-too-large-for-size-limited-Gurobi-license-error-" rel="noopener ugc nofollow" target="_blank">允许2000个变量</a>和2000个线性约束。对于行货版本，有<a class="ae kv" href="https://support.gurobi.com/hc/en-us/community/posts/360071854832-Maximum-number-of-constraints-for-a-model" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">没有限制</strong> </a>。但是，沉住气！由于决策变量的数量不一定能量化问题的难度，因此模型仍然有可能需要一个时间限制，以便在合理的时间内给你一个解决方案。</p><h2 id="a188" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">但是，古罗比有什么局限性呢？</h2><p id="9bd2" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">对古罗比来说，生活也不是一帆风顺的。首先是<a class="ae kv" href="https://ampl.com/products/standard-price-list/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">对于商业用户来说比较贵的</strong> </a>。虽然他们的价格与竞争对手相当，但我认为他们的许可证对小企业来说是非常昂贵的。其次，如前所述，<strong class="ky ir">古罗比不是巫师</strong>:他能解决的问题复杂性是有限的。快速并不总是足以解决难题。第三，Gurobi的<strong class="ky ir">安装</strong>，尤其是许可，在你的电脑上可能会<strong class="ky ir">耗时</strong>。为此，我在本文末尾添加了一个YouTube教程的链接。</p><p id="f802" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> Excel </strong>和<strong class="ky ir">纸浆</strong>没有古罗比有的第一和第三个缺点。两者都是更便宜的数学优化工具。在决定使用哪个选项时，您可以考虑这一点。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/75e49350ac58fb23ee2cfb1f6a8719a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0wSkBy4i_B3SybyW"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">本·怀特在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="109d" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">总之</strong></h2><p id="c0a7" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">好吧，我承认我可能对古罗比有点过于热情了。然而，由于它的速度、返回中间结果的能力以及包含大量变量的能力，我认为它值得称赞。然而，你应该考虑商业用途的<strong class="ky ir">成本</strong>，以及<strong class="ky ir">耗时的安装</strong>过程。总而言之，如果你必须解决复杂的数学优化问题，我会建议给古罗比一个机会。我想你不会后悔的！</p><h2 id="2cae" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">有用的链接</strong></h2><p id="f340" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">你喜欢这个故事吗？欢迎在Medium上关注我，并留下掌声或评论！下面，你可以找到一些有用的链接来开始使用线性编程和Gurobi。</p><div class="nh ni gp gr nj nk"><a rel="noopener follow" target="_blank" href="/five-questions-that-will-help-you-model-integer-linear-programs-better-3256731a258c"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">五个问题将帮助你更好地为整数线性规划建模</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">一种将现实世界问题公式化为数学模型的结构化方法，如背包问题</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">towardsdatascience.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kp nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a href="https://www.gurobi.com/resource/modeling-examples-using-the-gurobi-python-api-in-jupyter-notebook/" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">Gurobi Jupyter笔记本建模示例</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">Gurobi Jupyter笔记本建模示例是使用Gurobi Python API和……编码的数学优化模型</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">www.gurobi.com</p></div></div><div class="nt l"><div class="nz l nv nw nx nt ny kp nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a href="https://medium.com/opex-analytics/optimization-modeling-in-python-pulp-gurobi-and-cplex-83a62129807a" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">Python中的优化建模:PuLp、Gurobi和CPLEX</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">莫森·莫阿雷夫杜斯特</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="oa l nv nw nx nt ny kp nk"/></div></div></a></div><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">如何在计算机上安装Gurobi(py)的教程。</p></figure></div></div>    
</body>
</html>