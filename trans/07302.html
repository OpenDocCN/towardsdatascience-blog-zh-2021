<html>
<head>
<title>Introduction to Postgresql: Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Postgresql简介:第3部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-postgresql-part-3-83f64fa68ed?source=collection_archive---------30-----------------------#2021-07-02">https://towardsdatascience.com/introduction-to-postgresql-part-3-83f64fa68ed?source=collection_archive---------30-----------------------#2021-07-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e1aa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">插入、更新、删除的时间…</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bf3d0147ee99115d856eb09ab83915bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0o4F9w1SsazVltD5"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马修·斯皮特里在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="1913" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" rel="noopener" target="_blank" href="/introduction-to-postgresql-part-2-c25c346925d?source=your_stories_page-------------------------------------">第二部分</a>中，我们学习了如何在Postgres中创建表格。我们还研究了如何连接到数据库，所以如果您需要复习，请参阅第2部分。对于这一部分，我们将看看如何插入、更新和删除。一旦我们学会了做所有这三件事，我们的数据库将为我们以后可能想要创建的任何API或前端做好准备。</p><p id="0a5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在上一部分中注意到的，Postgresql在语法上与MySQL非常相似。随着我们今天了解得越来越多，我发现这些相似之处仍在继续，只是有一些不同。总的来说，如果你了解MySQL，那么转换到Postgresql会比其他SQL转换简单得多。因此，知道我们的目标是什么，让我们直接进入代码。</p><h1 id="1820" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">插入</strong></h1><p id="7230" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">显然，您需要启动Postgresql，跳转到它的界面，然后连接到数据库。如果您有任何问题，可以回顾本教程的前几部分，了解如何启动Postgres服务以及如何登录。一旦进入，我们需要连接到数据库。我们已经在第2部分学到了这一点，但是作为一个简短的复习，您可以使用下面的命令:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0bb4" class="mx lw it mt b gy my mz l na nb">\c recipes</span></pre><p id="e843" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们可以看看我们的表。同样，我们在第2部分中讨论了这一点，但是如果您已经有一段时间没有查看数据库了，那么在尝试插入数据之前，最好先回顾一下您创建了哪些表。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="e0a6" class="mx lw it mt b gy my mz l na nb">\dt</span></pre><p id="9080" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我的数据库，我们将添加到MealType表的第一个表。要插入，我们指定要插入的列，然后列出值:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="7d80" class="mx lw it mt b gy my mz l na nb">NSERT INTO MealType(MealName) VALUES (‘Breakfast’);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/fad425ada21782eeef4722db623144b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:176/0*-XPBnzqhaLd5Fdxn"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">插入餐饮类型。</p></figure><p id="6cc5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了确保数据在那里，我们可以简单地从表中选择所有:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="9ccc" class="mx lw it mt b gy my mz l na nb">SELECT * FROM MealType;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/d9d2148926aab106ea225f6fa2991255.png" data-original-src="https://miro.medium.com/v2/resize:fit:386/0*enVow0myxAyOSvhc"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查询MealType表。</p></figure><p id="6b93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在开始使用这些数据之前，我们还需要表中的一些记录。然而，由于还要添加四条记录，创建多个INSERT语句可能会变得很乏味。然而，使用Postgres，我们可以简单地用逗号分隔一系列值，以便一次插入多条记录:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="199a" class="mx lw it mt b gy my mz l na nb">INSERT INTO MealType(MealName) VALUES (‘Lunch’),<br/>     (‘Appetizer’),<br/>     (‘Entree’),<br/>     (‘Dessert’);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/d96d3c77fd131f5016715d1ef4cd08fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:210/0*mJzUcmzvNnTtU7zM"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">插入了多种膳食类型。</p></figure><p id="fce2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并再次选择以确保主键的序列值正常工作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/69317c3d37c5aaf380be61d5bc1a5aff.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/0*GNoOnifBjVz2DXIT"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示所有的餐饮类型。</p></figure><p id="7b41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查我们的桌子，我们接下来要添加餐具室的桌子。但是，如果我们忘记了列名怎么办？在MySQL中，我们会使用DESCRIBE语句。Postgresql也有一个这样的语句，它将以下命令与您的表名一起使用:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5568" class="mx lw it mt b gy my mz l na nb">\d pantry;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/a11afe5a6c4b4ebbbf31bbbaff3af6c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/0*VvJsp3qU9Q_4uWn7"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">餐具室桌子的描述。</p></figure><p id="b228" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们知道了列是什么，以及需要什么，我们可以开始添加更多的数据。我们可以一次添加多个记录，但只会添加创建第一个食谱所需的食品柜项目。</p><p id="dd92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单地说，我在写出下面几行时犯了一个语法错误。它是一个丢失的逗号。通常，有一个通用的语法错误语句。然而，Postgresql给我留下了这样一个错误消息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/be4f130f17f046e4e802b0bf6ea66dfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/0*1CJU42wy0JqZqarm"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">语法错误消息。</p></figure><p id="1365" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，它非常具体，甚至指出了问题所在。一旦修复，我们可以在我们的记录中添加:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="3fb5" class="mx lw it mt b gy my mz l na nb">INSERT INTO Pantry(Title, TotalAmt, TotalAmtUnit) VALUES (‘Flour’, 5, ‘LBS’),<br/>     (‘Butter’, 1, ‘LBS’),<br/>     (‘Milk’, 1, ‘GAL’),<br/>     (‘Salt’, 1, ‘LBS’),<br/>     (‘Sugar’, 5, ‘LBS’),<br/>     (‘Baking Powder’, 5, ‘LBS’),<br/>     (‘Egg’, 12, ‘Egg’);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/c89a5540cb5a898897053ae0afadf8b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:204/0*vOUtMO37UdeKPDrS"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">插入多个食品柜项目。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/ae1bacc7dbe0d4cb19cfac6242995075.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/0*1f5-fhMgyhiTu28O"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查询餐具室表。</p></figure><p id="3060" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我要添加的下一个表是Recipe表，它有一个来自MealType表的外键。我们需要查看MealType记录来确定外键的ID。在这种情况下，我们正在制作的食谱是针对早餐的，因此我们将需要ID 1，即“早餐”。接下来，我们准备插入我们的价值观。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4618" class="mx lw it mt b gy my mz l na nb">INSERT INTO Recipe(MealTypeID, Title) VALUES (1, ‘Pancakes’);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/c755ca7063f793aebc295306e2624baf.png" data-original-src="https://miro.medium.com/v2/resize:fit:208/0*tO0fT84w6FkJgG-X"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">插入配方表。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/33b4110ce97243227dc95cdaff728886.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/0*FDk-clgSnx7DvPKO"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">成功插入新配方。</p></figure><p id="431f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我将添加到我的说明表中。这将有一个来自食谱表的外键。因为我们只向表中添加了一个配方，所以我们知道ID必须是1。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2b10" class="mx lw it mt b gy my mz l na nb">INSERT INTO Instructions(RecipeID, StepNum, Description) VALUES (1, 1, ‘Melt butter and allow to cool. Add milk and one egg. Mix thoroughly.’),<br/>     (1, 2, ‘Mix dry ingredient together in a separate bowl.’),<br/>     (1, 3, ‘Preheat non-stick pan to medium, or use no-stick spray on pan.’),<br/>     (1, 4, ‘Pour wet ingredients into dry ingredients. Mix until just combined. Do not overmix.’)<br/>     (1, 5, ‘Pour ¼ cup fulls of pancake batter into heated pan. Flip once bubbles pop or until golden brown. Serve hot.’);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/525588640d64b4b7593ca655ec7ddbbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:188/0*N7PQUwBo1Wt5W_pK"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">插入所有配方说明。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/3c4f174d292419a28d382598ebf9bdbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/0*Vex6YbNBnFF-xkMy"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">指令已成功插入。</p></figure><p id="8ce4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以看到我已经打错字了，但是没关系。一旦我们开始更新记录，这些问题就可以得到纠正。现在，我只剩下一张桌子了。然而，该表是一个关联表，这意味着它至少连接了我们的两个表。在这种情况下，配料表连接食谱和餐具室。出于这个原因，我们将需要查看这两者，以找到我们的外键值应该是什么。同样，我们可以假设Recipe为1，因为该表中没有其他记录。但是对于Pantry，我们需要查看记录，这样我们就可以关联每种配料需要哪些键。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/c826e39c339f0f88f47c94a92981630b.png" data-original-src="https://miro.medium.com/v2/resize:fit:200/0*f2nSykuCieVE1fxo"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">插入的成分。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/873c19e590f27d19678102a6a4b5d933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/0*WqoOFen4KtEOU6oh"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">成功插入配方配料。</p></figure><h1 id="fca7" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">更新</strong></h1><p id="3c94" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">插入记录后，我们可以看看如何更新记录。在设置说明的时候，我用了“成分”而不是“配料”。然而，这很容易解决。我们可以用一个简单的更新来改变文本。在我们的更新中，我们将首先声明表，然后将值设置为我们想要的列，最后，还添加了一个WHERE子句，以确保我们不会更新表中的所有记录。该语句的语法类似于MySQL中的语法。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="9f19" class="mx lw it mt b gy my mz l na nb">UPDATE Instructions<br/>SET Description = ‘Mix dry ingredients together in a separate bowl.’<br/>WHERE InstructionID = 2;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/46de379742d785cbc5b0db318079a60b.png" data-original-src="https://miro.medium.com/v2/resize:fit:144/0*ErlKY5fBZW0bpFy7"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">更新了说明表。</p></figure><p id="5a51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了检查我们的更改，我们可以将WHERE子句添加到SELECT语句中:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="ea98" class="mx lw it mt b gy my mz l na nb">SELECT *<br/>FROM Instructions<br/>WHERE InstructionID = 2;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/c185e56e344d98ff8af9ec7d5345116e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/0*8baYfasamJ2qvDoO"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示更新的记录。</p></figure><p id="118c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于更新，像任何其他SQL一样，您不必使用主键来更新。只需去掉WHERE子句，就可以更新表中的所有内容。我们不会这样做，因为我们必须将多个字段改回来。然而，我们可以使用成分表中的任何其他字段。如果你记得的话，我在成分表中为我们的测量单位将“tsp”和“tbsp”都设置为小写。但是如果我只想把单个的“T”换成大写的“T”呢？为此，我们可以只使用替换功能。注意，我知道我没有其他的t作为值，所以更新是安全的。如果您有可能因此而更改的其他记录，您可能还需要定义ID。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0085" class="mx lw it mt b gy my mz l na nb">UPDATE Ingredient<br/>SET MeasurementUnit = REPLACE(MeasurementUnit, ‘t’, ‘T’);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/cb851e1c17c687e51304321e27fbd52a.png" data-original-src="https://miro.medium.com/v2/resize:fit:142/0*ECcIvXDolcGUa2BK"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">更新的成分表。</p></figure><p id="841e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“7”这个数字让我很担心。我认为应该只有“3”，因为这是应该更新的记录数。因此，我查看了所有记录，看起来所有记录都与预期完全一致:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/178b48048eb15b7037660d21923d8d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/0*XrjcKHBRTzrFiCMi"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">升级成分表的结果。</p></figure><h1 id="ac20" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">删除</strong></h1><p id="8588" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">首先，我将向MealType添加一个随机条目，以便我们可以删除它。这将是一个副本:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/844ecb9bc727e167952f86bd8d930350.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/0*vdFHTzGdSgqMBsI7"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">MealType表中有重复记录。</p></figure><p id="946f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，有两个“早餐”条目。因为这是一个重复，虽然它不会被认为是一个数据库，而有单独的id，我们将想要删除它。同样，语法将类似于MySQL。首先，启动DELETE并选择哪个表，然后使用WHERE子句确定要删除的记录:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="09ee" class="mx lw it mt b gy my mz l na nb">DELETE FROM MealType<br/>WHERE MealTypeID = 6;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/bf8a99ed5ae553003a8d0c512518ccb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:178/0*mNIfG1NFOzYYEIIA"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">已删除记录。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/5d319a66337f323d7cbde66a4b934a5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/0*-tFI3x6eDo6XZ98X"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">重复记录已删除。</p></figure><p id="ae21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">删除时，序列号不会重置。这意味着您插入的下一条记录将是“7”，尽管表中只有6条记录。这很好，因为ID只是为了唯一性。</p><p id="f3d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于下一个删除测试，我想转储一个表中的所有记录。但是，它将是一个父表。现在，这种删除应该会失败，因为有子记录附加到父记录。我们没有指定级联应该打开，所以它不应该自动级联。然而，安全总比后悔好。为了确保我们不会丢失所有的工作，我们将执行第一次数据库转储。我在以前的文章中已经这样做了，但是因为这不是Postgres特有的，所以我们将再看一看。再次使用我们的Postgres用户，我们将执行pg_dump。另外，请注意这不会发生在Postgresql终端内部，而是发生在常规的bash终端中。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="502f" class="mx lw it mt b gy my mz l na nb">sudo -u postgres pg_dump recipes &gt; recipes.sql</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/21ce53818af0e374654bb275ad326a52.png" data-original-src="https://miro.medium.com/v2/resize:fit:190/0*TOHX37lOD1_Ppxan"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">转储文件已创建。</p></figure><p id="3276" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以尝试从配方表中删除:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="49ac" class="mx lw it mt b gy my mz l na nb">DELETE FROM Recipe;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/e5ad19ef21e5bf43895c4a2b9300bd57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/0*Wn6KrSW8unjRuCn4"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">级联删除错误。</p></figure><p id="6b3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来我们得到了一个错误，因为级联没有自动打开。如果CASCADE打开，它将删除与父记录相关联的所有子记录。但是现在，我们已经学习了足够多的关于插入、更新和删除的知识，可以让您在个人Postgresql数据库上有一个良好的开端。</p><h1 id="2ea6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">结论</strong></h1><p id="bc1a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在这一部分中，我们讨论了如何在Postgresql数据库中插入、更新和删除记录。在插入过程中，我们了解到只需一条语句就可以添加多条记录。通过更新，我们了解到不仅可以更改整个值，还可以在SET语句中使用REPLACE right之类的函数。在删除过程中，我们了解到，尽管最好还是小心为上，但在更新或删除事件时，表不会自动设置为级联。相反，用户可以选择何时级联什么。如果它不是自动的，我们就不会意外地同时删除所有的食谱、配料和说明。</p><p id="2dc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前，这将是我们在实际数据库方面所做的全部工作。以后可能还会回来加个前端。在此之前，我需要为此构建一个API。它可能会使用FastAPI。但在此之前，我希望本教程是有教育意义的，令人愉快的。干杯！</p><p id="f86a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nx">用我的</em> </strong> <a class="ae ky" href="https://crafty-leader-2062.ck.page/8f8bcfb181" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="nx">每周简讯</em> </strong> </a> <strong class="lb iu"> <em class="nx">免费阅读我的所有文章，谢谢！</em>T13】</strong></p><p id="92af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nx">想阅读介质上的所有文章？成为中等</em> </strong> <a class="ae ky" href="https://miketechgame.medium.com/membership" rel="noopener"> <strong class="lb iu"> <em class="nx">成员</em> </strong> </a> <strong class="lb iu"> <em class="nx">今天！</em> </strong></p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><p id="f787" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看我最近的文章:</p><div class="of og gp gr oh oi"><a href="https://python.plainenglish.io/hosting-your-own-pypi-a55f2a6eca4d" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">托管您自己的PyPi</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">是的，有可能。</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">python .平原英语. io</p></div></div><div class="or l"><div class="os l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/open-source-reporting-tools-worth-a-look-a49a91d93f9a"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">值得一看的开源报告工具</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">探索微软SSRS的替代方案</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="ox l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a href="https://python.plainenglish.io/middleware-in-fastapi-what-is-it-fa028349489d" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">FastAPI中的中间件——它是什么？</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">解释其中的奥秘…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">python .平原英语. io</p></div></div><div class="or l"><div class="oy l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/introduction-to-postgresql-part-2-c25c346925d"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">Postgresql简介:第2部分</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">让我们开始这个派对吧</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="oz l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/introduction-to-postgresql-part-1-6ca9f25b02e1"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">Postgresql简介:第1部分</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">让我们从头开始</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="pa l ot ou ov or ow ks oi"/></div></div></a></div><p id="dc14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参考资料:</p><div class="of og gp gr oh oi"><a href="https://www.postgresqltutorial.com/postgresql-insert-multiple-rows/" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">PostgreSQL插入多行</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">摘要:在本教程中，您将学习如何使用一条PostgreSQL INSERT语句将多行插入到…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">www.postgresqltutorial.com</p></div></div><div class="or l"><div class="pb l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a href="https://stackoverflow.com/questions/109325/postgresql-describe-table" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">PostgreSQL“描述表”</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">有很多方法来描述PostgreSQL中的表，简单的答案是用法，如果你在Postgres shell中[…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">stackoverflow.com</p></div></div><div class="or l"><div class="pc l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a href="https://stackoverflow.com/questions/27152413/postgresql-update-substring-replacement" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">PostgreSQL更新子字符串替换</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">我在一个测试数据库中有几行的值前面有美元符号。我想更新…中的值</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">stackoverflow.com</p></div></div><div class="or l"><div class="pd l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a href="http://www.sqlines.com/postgresql/how-to/pg_dump_database_file" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">PostgreSQL -如何将数据库转储到SQL脚本- pg_dump实用程序</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">位于PostgreSQL安装的bin目录中的pg_dump实用程序可用于导出数据库定义和数据…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">www.sqlines.com</p></div></div></div></a></div><div class="of og gp gr oh oi"><a href="https://www.tutorialspoint.com/mysql/mysql-delete-query.htm" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">MySQL -删除查询</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">如果您想从任何MySQL表中删除一条记录，那么您可以使用SQL命令DELETE FROM。你可以用这个…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">www.tutorialspoint.com</p></div></div><div class="or l"><div class="pe l ot ou ov or ow ks oi"/></div></div></a></div></div></div>    
</body>
</html>