<html>
<head>
<title>Sudoku Solver: Linear Programming Approach Using PuLP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数独求解器:使用纸浆的线性规划方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sudoku-solver-linear-programming-approach-using-pulp-c520cec2f8e8?source=collection_archive---------14-----------------------#2021-07-03">https://towardsdatascience.com/sudoku-solver-linear-programming-approach-using-pulp-c520cec2f8e8?source=collection_archive---------14-----------------------#2021-07-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2506" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用线性规划解决数独难题的完整指南(带代码！)</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8e04ce3c99f50167a75a48fdf4ec4e58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*On8h7_6w_7PSv0xn"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">亚历山大·沙托夫在<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="c004" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数独是一种流行的日本益智游戏，它基于数字的逻辑排列。它不需要任何特殊的数学技能或计算。让我们来看一个来自维基百科的例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/0221938e0bdaa4eb3755ae2f1de94781.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/0*SnGzNKa5y_-sekMf.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://en.wikipedia.org/wiki/Sudoku#/media/File:Sudoku_Puzzle_by_L2G-20050714_standardized_layout.svg" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><p id="efcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它是一个9x9的格子拼图(81个方块)。在游戏开始时，一些方格中充满了数字，而大多数方格是空的。数独的目标是用数字填充那些空白的方块，这样每一行、每一列和3×3部分都包含1到9之间的数字。玩家需要使用逻辑来填充缺失的数字并完成网格，以便满足所有的约束和规则。在以下情况下，移动是不正确的:</p><ul class=""><li id="c9fa" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">任何行都包含一个以上从1到9的相同数字。</li><li id="87be" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">任何列都包含多个从1到9的相同数字。</li><li id="384c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">任何3×3网格都包含不止一个从1到9的相同数字。</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="3528" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://betterprogramming.pub/sudoku-solver-a-brute-force-approach-using-python-ee180b071346" rel="noopener ugc nofollow" target="_blank">上一篇文章</a>中，我已经使用一个递归函数创建了一个数独解算器，类似于使用一个81级嵌套<code class="fe mr ms mt mu b">for</code>循环。然而，解决<strong class="lb iu">难数独</strong>问题是非常低效的，因为它包含的起始数字比简单或中等数字要少得多。如果只有很少的起始数字，数独问题将会有大量的可行解，而不是只有一个。因此，如果我们使用蛮力方法来解决它，它增加了搜索空间并因此增加了计算成本。</p><p id="02a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将展示如何使用线性编程方法，这是一种创建数独求解器的更有效的方法。在此之前，让我分享一个小背景。</p><h1 id="1951" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">什么是线性规划？</h1><p id="4da8" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">线性规划是数学优化的一个分支。它是一种在给定一些约束条件的情况下寻找问题最优解的方法。线性规划由以下部分组成:</p><ul class=""><li id="bab6" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">我们希望最大化或最小化的线性目标函数</li><li id="5a69" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">xₙx₁,…的一组n个变量，用于控制目标函数</li><li id="ae90" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">由线性不等式或等式表示的一组约束</li></ul><p id="3f94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，如果一个问题能够用一组线性不等式约束的线性目标函数来表达，那么线性规划就是寻找最佳最优解的一个强有力的工具。</p><h1 id="b611" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">数独求解器(线性规划方法)</h1><p id="cb47" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">我正在使用一个名为<a class="ae ky" href="https://github.com/coin-or/pulp" rel="noopener ugc nofollow" target="_blank"> PuLP </a>的Python包来解决LP问题。现在，让我们为数独游戏定义LP的3个主要组成部分。</p><h2 id="d0fc" class="ns mw it bd mx nt nu dn nb nv nw dp nf li nx ny nh lm nz oa nj lq ob oc nl od bi translated">制定目标函数</h2><p id="3eae" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">与典型的线性规划问题不同，数独没有比另一个解决方案更好的解决方案。在数独游戏中，我们不是真的试图最小化或最大化任何东西，而是试图找到满足一组约束的变量的值。因此，目标函数的最小化或最大化并不重要，目标函数可以是任何值。在本文中，我将使用零作为目标函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><h2 id="5888" class="ns mw it bd mx nt nu dn nb nv nw dp nf li nx ny nh lm nz oa nj lq ob oc nl od bi translated">确定一组决策变量</h2><p id="b0b4" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">即使我们可以确保行或列或3x3网格中所有值的总和等于(1+2+3+4+5+6+7+8+9 = 45)，它仍然可以产生满足45°约束的许多其他解决方案，但是在行或列或3x3网格中仍然有多于1个相同的数字，即(1+1+1+5+6+7+7+8+9 = 45)。因此，我们不能简单地为81个正方形中的每一个创建一个值在1到9之间的变量。</p><p id="7df6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，我们必须创建一个9 = 729的(值、行和列)单个二进制(0–1)问题变量的组合。二进制变量指示正方形中的值或数字的存在是真还是假。例如，二进制值为1 的<strong class="lb iu">变量(5，4，6)意味着<strong class="lb iu">值5出现在位于第4行第6列</strong>的方块中。类似地，如果二进制值为0，则意味着那里没有值5。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><h2 id="dda7" class="ns mw it bd mx nt nu dn nb nv nw dp nf li nx ny nh lm nz oa nj lq ob oc nl od bi translated">确定一组约束条件</h2><p id="183f" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">1.任何方块中只能有一个数字。根据我上面提到的决策变量的定义，很明显，对于每个方块，9个值中只能有1个为真(1)，其他8个必须为假(0)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="f6f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.任何一行的方块中的值必须是1到9 <br/> 3中的每一个。任何列中正方形内的值必须是1到9 <br/> 4中的每一个。3x3网格中的值必须是1到9中的每一个</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="b6d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5.起始数独数字必须在最终解决方案中的相同位置，因为这些数字是不可改变的</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><h1 id="233a" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">数独求解器解决方案</h1><p id="20ff" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">现在让我们结合以上的一切，解决数独难题。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/29ecb553aa3f950513aa9c485100677d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h1VFBni97xoCEEU8Z8wLxw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出。图片由作者提供。</p></figure><p id="4afe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用线性规划方法来解决一个问题，只要该问题可以用受一组<strong class="lb iu">不等式约束</strong>约束的<strong class="lb iu">的n个变量</strong>的线性<strong class="lb iu">目标函数</strong>来表示。LP还可以用于其他有趣的优化应用，如成本最小化、运输、工作分配、健康饮食规划等。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="6b55" class="mv mw it bd mx my oh na nb nc oi ne nf jz oj ka nh kc ok kd nj kf ol kg nl nm bi translated">推荐阅读</h1><div class="om on gp gr oo op"><a href="https://betterprogramming.pub/sudoku-solver-a-brute-force-approach-using-python-ee180b071346" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd iu gy z fp ou fr fs ov fu fw is bi translated">数独解算器:使用Python的蛮力方法</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">用递归方法解决数独难题的完整指南</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">better编程. pub</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd ks op"/></div></div></a></div></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="0722" class="mv mw it bd mx my oh na nb nc oi ne nf jz oj ka nh kc ok kd nj kf ol kg nl nm bi translated">参考</h1><p id="4009" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">[1]“数独——维基百科。”【在线】。可用:<a class="ae ky" href="https://en.wikipedia.org/wiki/Sudoku" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Sudoku</a></p><p id="57ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[2]“一个被公式化为LP-PuLP 1 . 4 . 6文档的数独问题。”【在线】。可用:<a class="ae ky" href="https://www.coin-or.org/PuLP/CaseStudies/a_sudoku_problem.html" rel="noopener ugc nofollow" target="_blank">https://www . coin-or . org/PuLP/case studies/a _ sudoku _ problem . html</a></p></div></div>    
</body>
</html>