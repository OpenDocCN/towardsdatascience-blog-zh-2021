<html>
<head>
<title>Hypothesis Testing Simplified</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简化的假设检验</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/hypothesis-testing-simplified-5264f490a578?source=collection_archive---------24-----------------------#2021-05-29">https://towardsdatascience.com/hypothesis-testing-simplified-5264f490a578?source=collection_archive---------24-----------------------#2021-05-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="392a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不确定型决策</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5bed2e67d86e96e095b17d6dcf79c47e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FU4XlWQ65ul7JB_U0psbeA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自弗拉季斯拉夫·巴比延科的作品《Unplash》</p></figure><p id="52ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你在生活中面临过不确定性吗？那时候你是怎么做决定的？我确信这应该是凭经验、直觉或基于一些数据。</p><p id="2263" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当今世界比以往任何时候都更容易进入数据驱动的决策阶段。当所有必要的数据都可以用来做决策时，对数据进行分割和分析以获得信息就变得更加容易了。然而，在大多数情况下，只有部分数据可用。例如，在这个疫情时代，冠状病毒在我们周围迅速传播，让我们说，我们想确定是否老年人受影响最大。找到所有得过冠状病毒的人来确定这一点是相当不现实的。我们只能依靠一些样本信息。</p><p id="5b08" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么，我们如何知道从样本中得到的信息对于整个数据群体是否是真实的呢？这是相当不确定的。推断统计学，确切地说，推断统计学中的假设检验在这里可以帮到我们。它提供了一个工具包/方法来帮助做出这种决策。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lu"><img src="../Images/59d8b10a65c6e32b46b7bdbbcfbc6817.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aGejrs6Z1IJ3Ax7VtmM9PA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="2bb0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">什么是假设检验？</h1><p id="9d8f" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">顾名思义，假设检验检查作为推理基础的命题是真还是假。</p><p id="6b95" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">先说个例子。</p><p id="4b13" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">比方说，在一个村庄里，据最近一次统计，人们每月在食品杂货上花费230美元。村长想知道今年是否也是如此。他随机选择了25个家庭，并检查了该样本的平均花费，结果为242美元，标准差为31，因为这次他无法收集所有关于家庭的信息。</p><p id="02d9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这似乎是一个增长，但我们不能确切地说这是由于人口平均数的实际变化，还是由于抽样误差不能代表基于这些数字的整个人口。</p><p id="7fa5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这样的场景中，默认选择是这一年家庭的平均收入也是230美元，这被称为<strong class="la iu">零假设(<em class="ms">【H0】</em></strong><em class="ms"/>)，而完全相反的被称为<strong class="la iu">替代假设(H1) </strong>。</p><ul class=""><li id="9f37" class="mt mu it la b lb lc le lf lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="la iu"> <em class="ms"> H0 : μ = 230 </em> </strong></li><li id="0e86" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated"><strong class="la iu">T15】H1:μ&lt;T19】230T17】</strong></li></ul><p id="77fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设检验通过检验可用的样本数据来检查数据是否足够强大，或者它是否提供了足够的证据来改变默认选择或零假设的决策。在没有直接默认选择的情况下，可以从基本数据分析中得出质量零假设，这种分析侧重于从可用数据中得出见解。</p><p id="f219" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">简而言之，假设检验检查是否有足够的证据来改变我们的想法。</p><p id="21af" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我相信你们大多数人都很熟悉这个术语，</p><blockquote class="nh ni nj"><p id="b77e" class="ky kz ms la b lb lc ju ld le lf jx lg nk li lj lk nl lm ln lo nm lq lr ls lt im bi translated">"在被证明有罪之前是无辜的"</p></blockquote><p id="2ed1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个被称为无罪推定的法律原则，任何被指控犯有任何罪行的人在被证明有罪之前都被认为是无辜的。举证责任落在控方身上，控方必须拿出令人信服的证据和事实来证明事实并非如此。</p><p id="e778" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这与我们正在进行的假设检验非常相似。我们首先假设我们的零假设是正确的，然后检查可用的数据来证明相反的证据。</p><h1 id="b236" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">可接受风险阈值</h1><p id="baaf" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">如果我们回过头来看看，为什么我们必须依赖于这些类型的测试，这仅仅是因为我们不确定样本信息对总体来说是否真实。虽然这些测试不能从不确定性中得出确定性，但它们提供了科学的方法来充分利用我们所拥有的。然而，由于背后隐藏着不确定性，因此总是存在做出错误决定的风险。</p><p id="f22b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们有机会，</p><ul class=""><li id="3d36" class="mt mu it la b lb lc le lf lh mv ll mw lp mx lt my mz na nb bi translated">错误地拒绝我们的默认选择</li><li id="5cb7" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated">错误地不改变我们的默认选择</li></ul><p id="0f10" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些分别被称为t<strong class="la iu">I型误差和II型误差</strong>。第一类错误的概率由<strong class="la iu">α</strong>表示，第二类错误的概率由<strong class="la iu">β</strong>表示。这些误差很少为零，所以我们应该尽可能地减小它们。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/c48d932a0bb7044a4a2cdb1c4e93d33c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tA4mBPvbCC4vNknzR_rK5g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="0b0d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上图显示了可能性矩阵，统计学家通过第四象限的概率定义了测试的<strong class="la iu">功效，即当零假设不成立时，成功拒绝零假设<strong class="la iu"> ( 1- Beta) </strong>的概率。一般来说，这可以通过获取更大的代表性样本来提高。</strong></p><p id="9968" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，回到这些错误可能性的风险上来，假设检验的美妙之处在于决策者甚至在开始检验之前就可以确定他/她愿意承担的风险阈值。这被称为<strong class="la iu">置信水平</strong> l。</p><p id="74f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用概率的术语来说，它可以定义为当决策实际上为真时，你愿意承担多大的风险概率来错误地改变默认状态的决策。</p><blockquote class="nh ni nj"><p id="c8b9" class="ky kz ms la b lb lc ju ld le lf jx lg nk li lj lk nl lm ln lo nm lq lr ls lt im bi translated"><strong class="la iu"> <em class="it"> α = </em> </strong> P(当其为真时拒绝零假设)</p></blockquote><p id="f3b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果它更倾向于零，它更有可能不改变默认决策，我们将期望样本数据提供更多的证据来拒绝零假设。那么如何才能确定这个阈值呢？答案是，这取决于具体情况。</p><p id="c0cd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们来看一个假设的极端情况。</p><p id="0c97" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="ms"> H0:一名昏迷的病人入院时还活着</em> </strong></p><ul class=""><li id="756f" class="mt mu it la b lb lc le lf lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="la iu"><em class="ms">I型错误:</em> </strong> <em class="ms"> <br/> </em>医护人员在患者实际活着的情况下，认为患者已经死亡而不立即对其进行治疗。</li><li id="b444" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated"><strong class="la iu"><em class="ms">ⅱ型错误:</em> </strong> <em class="ms"> <br/> </em>医护人员在病人实际上已经<em class="ms">死亡的情况下，相信病人还活着，并立即对其进行治疗。</em></li></ul><p id="3c55" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这种情况下，第一类错误会导致可怕的结果，我们应该尽量减少第一类错误，这意味着在这里最好降低置信度。</p><h2 id="20b4" class="no lw it bd lx np nq dn mb nr ns dp mf lh nt nu mh ll nv nw mj lp nx ny ml nz bi translated">统计测试</h2><p id="31e8" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">现在，如果我们看看假设检验中的统计检验，有两种流行的检验。这些背后的数学值得一篇新文章。所以让我们保持简单如下。</p><ul class=""><li id="ec7f" class="mt mu it la b lb lc le lf lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="la iu"> Z检验</strong>:当我们有足够大的样本集时(根据经验法则，当样本大小，根据中心极限定理，n≥ 30时，我们假设数据集遵循近似正态分布)，或者如果我们知道总体方差，我们就进行Z检验。</li><li id="d024" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated">T检验:如果样本较小或者我们不知道总体方差，我们就用T检验。</li></ul><p id="a769" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过提供样本数据和置信水平，通过统计软件进行这些测试是相当容易的，这反过来给出了一个称为p值的值。这个值允许我们决定在给定的置信水平下是否应该拒绝零假设。</p><p id="5555" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基本上如果，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/62b90572338ecf1121cf863c75ae86ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3UxATiSSi8t6U28d5T_coQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="4577" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如您所见，实现和得出结果非常简单。所以让我们更进一步，深入探究这背后的理论。</p><h1 id="b1d0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">什么是p值？</h1><p id="e945" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">p值的正式定义是</p><blockquote class="nh ni nj"><p id="2ae9" class="ky kz ms la b lb lc ju ld le lf jx lg nk li lj lk nl lm ln lo nm lq lr ls lt im bi translated">“如果零假设是正确的，样本产生的影响至少与样本中观察到的影响一样极端的概率”</p></blockquote><p id="0063" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我相信我们很多人都不会理解。因此，让我们简化一下，检查一下前面的食品杂货平均支出的例子。这个例子的事实是，</p><ul class=""><li id="fb60" class="mt mu it la b lb lc le lf lh mv ll mw lp mx lt my mz na nb bi translated">上次人们的平均食品支出是230美元。</li><li id="b8e4" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated">目前，25个家庭的样本平均食品支出为242美元，标准差为31。</li></ul><p id="195e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可能的情况是，</p><ul class=""><li id="3756" class="mt mu it la b lb lc le lf lh mv ll mw lp mx lt my mz na nb bi translated">人口平均值从230变为242 <br/>或</li><li id="514c" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated">它没有改变，这个242是因为它只是我们所取样本的平均值；这有可能来自平均值为230的人群。</li></ul><p id="8cfa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">出于理解的目的，让我们直观地看这个问题。假设零假设为真，这意味着总体的均值仍为230。根据我在统计测试部分提到的指令，我们可以假设这是一个t分布。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/4017d80179328334ad7871d38e834a99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*afAp2CvChkw87KOu78nzIA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3da3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">曲线下的面积是100%,我们可以看到，如果我们从这个分布中取出任何随机样本，它们的平均值很有可能接近230。此外，我们可以注意到，即使很小，样本均值也有可能是242。这也并非完全不可信。</p><p id="11f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">红色区域表示从该分布中抽取样本的概率，其平均值至少与我们观察到的样本平均值一样极端(在242和218的极端侧；即230 +/-12)。这就是p值的确切含义，我相信现在已经很清楚定义中说<strong class="la iu">的部分意味着什么，如果零假设是正确的话，那么</strong>的效果至少与在您的样本中观察到的效果一样极端。</p><p id="7cea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设突出显示的区域占0.064。这是我们假设的p值。这意味着，如果总体实际上具有平均值230，则有6.4%的机会出现平均值至少为242的样本。</p><p id="ad56" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来的问题是这个值有多极端？这种极端足以拒绝零假设吗？<strong class="la iu">什么区域定义了样本值是不可能的，足以保证拒绝零假设？这是我们的信心水平。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/e47871314190d4b67889b18eeea88b24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A4QThConw4auL2XGJnTa3g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e168" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们的置信水平是10%，这意味着我们愿意承担10%的错误拒绝零假设的风险。在我们的例子中，我们的p值是6.4%，正如您在上面的图像中看到的，它位于极端的10%区域内，该区域被称为<strong class="la iu">临界区域</strong>。这意味着我们愿意承担上述风险。因此，我们可以得出结论，在10%的显著性水平上，有足够的证据来拒绝零假设。</p><p id="b584" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果置信度是5%呢？然后，如上图所示，6.4%(蓝色区域)超出了我们可接受的风险水平(红色区域)，然后我们将不得不得出结论，我们没有足够的统计显著性证据来拒绝5%置信水平的零假设。</p><h1 id="39d5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="0d90" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">正如我们所看到的，假设检验是一个很好的工具，当只有关于样本的信息时，当我们需要对整个群体做出决定时，可以使用它。</p><p id="59b0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">决策者在推动决策方面占据上风，因为决策在很大程度上取决于置信度，如上所述。为了强调这种置信水平的重要性，如果我们回到被证明有罪之前无罪的法律例子，错误的置信水平会增加类似I型和II型的错误，这就像分别判一个无辜的人有罪或未能判一个有罪。</p><p id="5b4a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样重要的是要记住，这只是一个辅助科学决策的工具包；在现实世界中，在做出最终决定之前，总是需要对结果进行感觉检查。例如，当对照0.05的置信水平分析0.049 p值时，分析师应该更清楚他/她做出了正确的决策，而不是随意地应用规则。</p></div></div>    
</body>
</html>