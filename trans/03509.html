<html>
<head>
<title>Why It Does Not Matter to Choose Python or R for Data Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么选择Python或R进行数据分析并不重要</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-it-does-matter-to-choose-python-or-r-for-data-analysis-c251ba2aa6c8?source=collection_archive---------9-----------------------#2021-03-21">https://towardsdatascience.com/why-it-does-matter-to-choose-python-or-r-for-data-analysis-c251ba2aa6c8?source=collection_archive---------9-----------------------#2021-03-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8721" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">比较实践指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5d45e4d341c1e68e9120103248848572.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oKyfMtQvDoBwJXdwCmSMXw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">哈维尔·阿莱格·巴罗斯在Unsplash上的照片</p></figure><p id="96e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python和R是数据科学生态系统中的主流编程语言。两者都提供了各种库来执行有效的数据争论和分析。</p><p id="d541" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有抱负的数据科学家或分析师面临的最常见问题之一是选择哪种编程语言来学习数据科学。</p><p id="8fe2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有许多文章从不同的角度比较了Python和R。这篇文章也是一个对比。然而，重点或目标不是宣布一个优于另一个。</p><p id="5b07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在本文中想要展示的是强调Python和R库都能够进行有效的数据争论和分析。我将介绍几个使用Python和r完成相同操作的例子。</p><p id="9b91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用的库是Python的Pandas和r的“data.table”和“stringr”。我们将使用Kaggle上的<a class="ae ky" href="https://www.kaggle.com/shivamb/netflix-shows" rel="noopener ugc nofollow" target="_blank">网飞</a>数据集来做示例。我们从导入库和读取数据集开始。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8e3f" class="ma mb it lw b gy mc md l me mf"># Pandas<br/>import pandas as pd<br/>netflix = pd.read_csv("/content/netflix_titles.csv")</span><span id="aca9" class="ma mb it lw b gy mg md l me mf"><br/># data.table<br/>library(data.table)<br/>netflix &lt;- fread("Downloads/netflix_titles.csv")</span></pre><p id="7680" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该数据集包含7787种图书的详细信息。以下是功能列表(即列)。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d415" class="ma mb it lw b gy mc md l me mf">['show_id', 'type', 'title', 'director', 'cast', 'country', 'date_added', 'release_year', 'rating', 'duration', 'listed_in', 'description']</span></pre><p id="d005" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">标题可以是电影或电视节目。我们先来看看每个类别的标题数量。在Pandas中，我们可以使用groupby或value_counts函数。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="fda0" class="ma mb it lw b gy mc md l me mf">netflix['type'].value_counts()<br/>Movie      5377 <br/>TV Show    2410<br/></span><span id="25d7" class="ma mb it lw b gy mg md l me mf">netflix.groupby('type').agg(number_of_titles = ('show_id','count'))</span><span id="1a49" class="ma mb it lw b gy mg md l me mf">         number_of_titles<br/>type    <br/>Movie                5377<br/>TV Show              2410</span></pre><p id="d569" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在data.table中，我们可以按如下方式完成这项任务:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f39c" class="ma mb it lw b gy mc md l me mf">netflix[, .(number_of_titles = .N), by=type]</span><span id="a019" class="ma mb it lw b gy mg md l me mf">      type number_of_titles<br/>1: TV Show             2410<br/>2:   Movie             5377</span></pre><p id="29c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">by参数的作用类似于Pandas的groupby函数。N计算每个类别中的行数。</p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><p id="f84a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可能想计算网飞电影的平均长度。持续时间列的当前格式不适于计算。它包含数量和单位:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="29a0" class="ma mb it lw b gy mc md l me mf">netflix.duration[:5] # Pandas<br/>0    4 Seasons <br/>1       93 min <br/>2       78 min <br/>3       80 min <br/>4      123 min</span></pre><p id="8277" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将创建两个新列，分别包括持续时间数量和单位。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3d39" class="ma mb it lw b gy mc md l me mf"># Pandas<br/>netflix['duration_qty']=netflix.duration.str.split(" ").str.get(0).astype('int')</span><span id="58e5" class="ma mb it lw b gy mg md l me mf">netflix['duration_unit']=netflix.duration.str.split(" ").str.get(1)</span><span id="0d0a" class="ma mb it lw b gy mg md l me mf"># stringr and data.table<br/>netflix[, duration_qty := as.numeric(str_split_fixed(netflix$duration, " ", 2)[,1])]</span><span id="036f" class="ma mb it lw b gy mg md l me mf">netflix[, duration_unit := str_split_fixed(netflix$duration, " ", 2)[,2]]</span></pre><p id="35c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们所做的基本相同，但语法不同。我们在空格字符处拆分duration列，然后使用第一部分作为数量，第二部分作为单位。</p><p id="f8e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数量部分需要转换为数字数据类型。在熊猫中，我们使用astype函数。同样的操作可以用r中的“as.numeric”函数来完成。</p><p id="9075" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看派生列和原始列。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c9c6" class="ma mb it lw b gy mc md l me mf"># data.table<br/>head(netflix[, c("duration", "duration_qty", "duration_unit")]) </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/f00c48618d5287a8e3dade292fe145cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KmtwcEVM-_9kEcsEhC3W-g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><p id="91d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以用分钟来计算电影的平均长度。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="daa0" class="ma mb it lw b gy mc md l me mf"># Pandas<br/>netflix[netflix['type'] == 'Movie']['duration_qty'].mean()<br/>99.30798</span><span id="094b" class="ma mb it lw b gy mg md l me mf"># data.table<br/>netflix[type == "Movie", mean(duration_qty)]<br/>99.30798</span></pre></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><p id="238c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">电影平均时长100分钟左右。我认为电影长度在不同的国家变化很大。我想看看平均电影长度排名前五的国家。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="22ee" class="ma mb it lw b gy mc md l me mf"># data.table<br/>netflix[type == 'Movie', .(avg_length = mean(duration_qty)), by='country'][order(avg_length, decreasing = TRUE)][1:5]</span><span id="849b" class="ma mb it lw b gy mg md l me mf"># Pandas<br/>netflix[netflix['type'] == 'Movie'].groupby('country')\<br/>.agg(avg_length = ('duration_qty', 'mean'))\<br/>.sort_values(by='avg_length', ascending=False)[:5]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/d55288ebf1cb6ec0d1aaee5551e982a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wa98sd5pMDQLvdAicQT-Qw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="6bb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来详细说明一下语法。我们按国家对行进行分组，并在国家列中计算每个组的平均电影长度。然后我们将计算出的平均值按降序排序，选择前5名。</p><p id="20ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最大的5个值大约是200分钟，比99分钟的总平均值大得多。上面截图中显示的前5个值可能是极端情况。他们可能包含很少的电影，所以我们不能真正谈论一个平均值。</p><p id="cd58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确认我们的怀疑的一种方法是，也添加每个类别中的电影数量，或者过滤电影数量超过一定数量的类别。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2622" class="ma mb it lw b gy mc md l me mf"># Pandas<br/>netflix[netflix['type'] == 'Movie'].groupby('country')\<br/>.agg(avg_length = ('duration_qty', 'mean'), <br/>     qty = ('duration_qty', 'count'))\<br/>.query('qty &gt; 10').sort_values(by='avg_length', ascending=False)[:5]</span><span id="e0c4" class="ma mb it lw b gy mg md l me mf"><br/># data.table<br/>netflix[type == 'Movie', .(avg_length = mean(duration_qty), .N), by='country'][N &gt; 10][order(avg_length, decreasing = TRUE)][1:5]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/b68c2b506620aff8f7c27a8bed25153e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vg465E38k5S8OLv7mzFXfA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="5244" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们添加了一个列来显示每一列中的电影数量。然后，在对值进行排序之前，我们根据该列过滤行。</p><p id="8517" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最长的电影在巴基斯坦、印度和韩国。</p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h2 id="cf3a" class="ma mb it bd mr ms mt dn mu mv mw dp mx li my mz na lm nb nc nd lq ne nf ng nh bi translated">结论</h2><p id="100b" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我们已经做了一些展示数据争论和分析的典型案例的例子。这里的要点是Python和R库都提供了完成这些任务的高效方法。</p><p id="eee2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论你选择哪种编程语言来学习数据科学，你都不会有问题。一旦你用其中一种学习或练习，习惯另一种就相对容易了。大多数任务的逻辑和实现方式非常相似。</p><p id="cdda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>