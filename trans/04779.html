<html>
<head>
<title>How to Download High-Resolution Satellite Data for Anywhere on Earth</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何下载地球上任何地方的高分辨率卫星数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-download-high-resolution-satellite-data-for-anywhere-on-earth-5e6dddee2803?source=collection_archive---------4-----------------------#2021-04-26">https://towardsdatascience.com/how-to-download-high-resolution-satellite-data-for-anywhere-on-earth-5e6dddee2803?source=collection_archive---------4-----------------------#2021-04-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3509" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Google Earth Engine Python API和FireHR实用程序函数，您可以轻松下载地球上任何选定区域的时间序列或无云复合数据。在Google Colab上试试吧！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4693ccbb9eea4257dd78e770553703e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yVtikNvCuE4JQCS8Suw7mQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">哨兵-2查看里斯本和特茹河。图片由作者使用从谷歌地球引擎下载的Sentinel-2数据制作。</p></figure><p id="216c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这个故事中，你将了解到<a class="ae lr" href="https://earthengine.google.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir">谷歌地球引擎</strong> </a>，以及如何轻松下载<a class="ae lr" href="https://sentinel.esa.int/web/sentinel/missions/sentinel-2" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> Sentinel-2 </strong> </a> 10米空间分辨率卫星图像，供地球上任何地方使用。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9089" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是谷歌地球引擎？</h1><p id="46fd" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">根据谷歌地球引擎的<a class="ae lr" href="https://earthengine.google.com/" rel="noopener ugc nofollow" target="_blank">主页面:</a></p><blockquote class="mw mx my"><p id="33c2" class="kv kw mz kx b ky kz jr la lb lc ju ld na lf lg lh nb lj lk ll nc ln lo lp lq ij bi translated">“Google Earth Engine将数Pb的卫星图像和地理空间数据集目录与行星级分析功能相结合，使科学家、研究人员和开发人员能够检测变化、绘制趋势图并量化地球表面的差异。”</p></blockquote><p id="c1c4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">换句话说，这是一项免费提供的服务，它结合了大量的全球数据集，如果没有超级计算机，这些数据集通常是无法处理的。</p><p id="6fa5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> Sentinel-2 </strong>数据是一个很好的例子，因为它由多光谱卫星图像组成，空间分辨率高达10米，轨道重访周期为5天，同时考虑了Sentinel-2A和Sentinel-2B卫星。</p><p id="6fa4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如，如果您正在研究一个100 x 100 km的区域，并且您的数据空间分辨率为10米，那么您的图像大小将为10，000 x 10，000像素。如果图像未经压缩以16位精度存储，则每个通道需要1，600，000，000位或200 MB。如果需要三个通道，就已经有600 MB的数据了。现在，假设您想在一年的时间内每5天下载一张这样的图像(以获得土地变化的时间序列),您将获得近45 GB的数据。记住这只是一个100 x 100公里的区域。<strong class="kx ir">谷歌地球引擎</strong>在全球范围内提供这些数据和快速处理能力。</p><p id="7867" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有几种方法可以使用谷歌地球引擎。首先，有一个<a class="ae lr" href="https://code.earthengine.google.com/" rel="noopener ugc nofollow" target="_blank"> web编辑器</a>，在这里你可以创建在google服务器上运行的脚本，并将结果发送回你的浏览器，结果显示在一个动态地图中(见下图示例)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/6895e3a6042c22277f09ce081dbb2272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mzBxsSvIVO8eBjLurMpsyA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">谷歌地球引擎网页编辑器的打印屏幕。<a class="ae lr" href="https://code.earthengine.google.com/" rel="noopener ugc nofollow" target="_blank">https://code.earthengine.google.com/</a></p></figure><p id="042d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">web编辑器的一个可能的限制是它要求用户使用JavaScript。但是仍然有很多例子可以开始。</p><p id="4e12" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对Python用户来说幸运的是，有一个<a class="ae lr" href="https://developers.google.com/earth-engine/guides/python_install" rel="noopener ugc nofollow" target="_blank"> Python API </a>允许地球引擎和Python之间的交互。在下一节中，我将展示如何轻松使用Google Earth Engine作为预处理和下载geotiff格式数据的工具。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8855" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">预处理和下载数据</h1><p id="06a2" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">在这一节中，我将展示如何使用<a class="ae lr" href="https://github.com/mnpinto/FireHR" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> FireHR </strong> </a>实用函数(在后台使用Google Earth Engine Python API)轻松下载您选择的任何地区和时间的数据。</p><p id="2955" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">FireHR是我最近开发的一个Python库，用于使用Sentinel-2数据绘制烧伤区域的地图(你可以在这篇科学论文的<a class="ae lr" href="https://www.mdpi.com/2072-4292/13/9/1608" rel="noopener ugc nofollow" target="_blank">中找到更多细节)。然而，FireHR包中的<code class="fe ne nf ng nh b">data</code>模块可以更广泛地用于下载数据，这就是本文的重点！例如，由于一些大小限制，从地球引擎的下载必须在小块中完成。这些图块需要被组合回全尺寸区域。FireHR代码在幕后完成所有的整理和合并工作。</a></p><p id="8e88" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们来看一个例子！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/9dc4b1c3c965e2545910d60ea3193c85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*94rRnMo3qFrUiLl_"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">下载选定地区和时间段的最不浑浊图像的Sentinel-2中值合成图像的代码示例。Google Colab 上提供的代码。图片由作者提供。</p></figure><p id="87bf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">作为示例，上面的代码显示了如何下载Sentinel-2数据(第11行)的红色、绿色和蓝色波段(第12行),该区域由第5–8行中定义的边界框坐标界定。本例中选择的区域对应于德国柏林附近正在建设的特斯拉巨型工厂之一的位置。所选的时间间隔从3月1日开始，到4月25日结束，因此综合报告将给出截至本文撰写之日的施工进度概况。第23行中的<code class="fe ne nf ng nh b">download_data</code>函数将搜索间隔中所有可用的图像，并计算具有最低云量分数的三幅图像的中值，如设置为值3的参数<code class="fe ne nf ng nh b">use_least_cloudy</code>所定义的。请注意，过滤和合成是在谷歌地球引擎服务器中完成的，因此，这是一个非常快速的过程。<strong class="kx ir">只有最终的合成文件被下载并保存为GeoTIFF文件。这节省了大量的处理时间和所需的存储！</strong></p><p id="6073" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下图显示了前面代码中示例的结果。<strong class="kx ir">你可以跟随</strong> <a class="ae lr" href="https://colab.research.google.com/drive/1CqerpiyWeFty396VZPov_mGe7YBHHlKs?usp=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir">这个网址</strong> </a> <strong class="kx ir">在Google Colab笔记本上运行。</strong>Colab笔记本上的代码还具有<code class="fe ne nf ng nh b">download_data_ts</code>功能，可用于下载选定日期内的所有图像，而不是创建合成图像。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/c1d8fbb038e2413eae2f3026bd9cdede.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pOBAoKAGen9OlNMD2XGZvw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">截至2021年3月/4月德国柏林附近的特斯拉Gigafactory视图。作者使用本笔记本中的<a class="ae lr" href="https://colab.research.google.com/drive/1CqerpiyWeFty396VZPov_mGe7YBHHlKs?usp=sharing" rel="noopener ugc nofollow" target="_blank">代码创建的图像。</a></p></figure><p id="aa82" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注:有关谷歌地球引擎上可用的Sentinel-2数据集的更多信息，请确保查看<a class="ae lr" href="https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2" rel="noopener ugc nofollow" target="_blank">目录页</a>。您可以在那里找到关于光谱波段和元数据的所有信息。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="38d4" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="dab8" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated"><code class="fe ne nf ng nh b">FireHR</code> Python包中提供的代码可以作为通用工具从Google Earth引擎下载Sentinel-2数据。从其他产品(如Landsat)下载数据也应该是可能的，但尚未测试。当然，如果你需要为你的应用程序修改的话，你可以在GitHub 查看<a class="ae lr" href="https://github.com/mnpinto/FireHR" rel="noopener ugc nofollow" target="_blank"> FireHR源代码。此外，欢迎</a><a class="ae lr" href="https://twitter.com/mnpinto_" rel="noopener ugc nofollow" target="_blank">在推特</a>上关注我，了解更多更新，或者如果你对这个话题有任何疑问！</p></div></div>    
</body>
</html>