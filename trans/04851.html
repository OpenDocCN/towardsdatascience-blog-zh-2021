<html>
<head>
<title>The Secret Guide To Human-Like Text Summarization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类人文本摘要的秘密指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-secret-guide-to-human-like-text-summarization-fcea0bfbe801?source=collection_archive---------21-----------------------#2021-04-27">https://towardsdatascience.com/the-secret-guide-to-human-like-text-summarization-fcea0bfbe801?source=collection_archive---------21-----------------------#2021-04-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/49701113dc9f52f0e91166bafc4455ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JktSJvXWmkPyrVwj"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae jd" href="https://unsplash.com/@neonbrand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> NeONBRAND </a>拍摄的照片</p></figure><div class=""/><div class=""><h2 id="eea6" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">使用谷歌最先进的T5模型来总结你的内容</h2></div><p id="5456" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">摘要已经成为解决数据过载问题的一种非常有用的方法。在我之前的<a class="ae jd" rel="noopener" target="_blank" href="/report-is-too-long-to-read-use-nlp-to-create-a-summary-6f5f7801d355">故事</a>中，我分享了你如何使用摘录方法创建你的个人文本摘要——如果你已经尝试过，你可能已经注意到，因为没有新的句子从原始内容中生成，有时你可能很难理解生成的摘录摘要。</p><p id="2ac3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这个故事中，我将分享我如何使用Google的T5(文本到文本转换转换器)模型，只用几行代码就创建了一个类似人类的摘要器！</p><p id="8d62" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">作为奖励，我也将分享我的文本摘要器管道，在那里我结合了提取和抽象的方法来为任意长度的PDF文档生成有意义的摘要…</p><h1 id="4c98" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated"><strong class="ak">文本摘要技术</strong></h1><p id="556b" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">有两种技巧可以概括一篇长文章:</p><p id="23ae" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">i. <strong class="kx jh">摘录摘要</strong> —从长内容中摘录重要句子。</p><p id="6d67" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">二。<strong class="kx jh">抽象摘要</strong> —通过从原始内容生成新句子来创建摘要。</p><p id="f265" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">抽象摘要是一种相对更困难的技术，因为它涉及深度学习，但由于谷歌预先训练的模型可供公众使用，创建一个有意义的抽象摘要不再是一项令人生畏的机器学习任务！</p><h1 id="7a37" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">T5文本摘要器</h1><p id="6887" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">您可以使用Google的T5预训练模型构建简单但功能强大的抽象文本摘要器。我将使用<a class="ae jd" href="https://huggingface.co/transformers/" rel="noopener ugc nofollow" target="_blank"> HuggingFace </a>最先进的变形金刚框架和<a class="ae jd" href="https://pytorch.org" rel="noopener ugc nofollow" target="_blank"> PyTorch </a>来构建一个摘要器。</p><p id="2734" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">安装包</strong></p><p id="bf4c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请确保您安装了两个Python包。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="d07c" class="mx ls jg mt b gy my mz l na nb">pip install torch<br/>pip install transformers</span></pre><p id="f2dc" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">加载模型和标记器</strong></p><p id="873e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">加载T5的预训练模型及其标记器。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="82cf" class="mx ls jg mt b gy my mz l na nb">import torch<br/>from transformers import AutoTokenizer, AutoModelForSeq2SeqLM</span><span id="8c89" class="mx ls jg mt b gy nc mz l na nb">model = AutoModelForSeq2SeqLM.from_pretrained('t5-base')<br/>tokenizer = AutoTokenizer.from_pretrained('t5-base')</span></pre><p id="9ec8" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">共有五种t5型号可供选择:t5小型、t5底座、T5大型、t型3B和T5–11B。它们各有不同的参数。我会选择‘t5-base’模型，它总共有2.2亿个参数。请随意尝试不同的T5型号。</p><p id="3f87" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">输入文字</strong></p><p id="604f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们载入一篇CNN <a class="ae jd" href="https://edition.cnn.com/2021/04/21/media/netflix-earnings-analysis/index.html" rel="noopener ugc nofollow" target="_blank">新闻</a>文章，关于<strong class="kx jh"> <em class="nd">【网飞需要下一件大事】</em></strong><em class="nd">——</em>仅仅是因为这是相当有趣的商业新闻——看看我们的总结者表现如何。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="7b54" class="mx ls jg mt b gy my mz l na nb">text = """New York (CNN Business)Netflix is synonymous with streaming, but its competitors have a distinct advantage that threatens the streaming leader's position at the top.</span><span id="3c08" class="mx ls jg mt b gy nc mz l na nb">Disney has Disney+, but it also has theme parks, plush Baby Yoda dolls, blockbuster Marvel movies and ESPN. Comcast (CMCSA), Amazon (AMZN), ViacomCBS (VIACA), CNN's parent company WarnerMedia and Apple (AAPL) all have their own streaming services, too, but they also have other forms of revenue.</span><span id="e5f4" class="mx ls jg mt b gy nc mz l na nb">As for Netflix (NFLX), its revenue driver is based entirely on building its subscriber base. It's worked out well for the company — so far. But it's starting to look like the king of streaming will soon need something other than new subscribers to keep growing.</span><span id="89df" class="mx ls jg mt b gy nc mz l na nb">The streaming service reported Tuesday it now has 208 million subscribers globally, after adding 4 million subscribers in the first quarter of 2021. But that number missed expectations and the forecasts for its next quarter were also pretty weak.</span><span id="8e39" class="mx ls jg mt b gy nc mz l na nb">That was a big whiff for Netflix — a company coming off a massive year of growth thanks in large part to the pandemic driving people indoors — and Wall Street's reaction has not been great.</span><span id="a1f8" class="mx ls jg mt b gy nc mz l na nb">The company's stock dropped as much as 8% on Wednesday, leading some to wonder what the future of the streamer looks like if competition continues to gain strength, people start heading outdoors and if, most importantly, its growth slows.</span><span id="2df7" class="mx ls jg mt b gy nc mz l na nb">"If you hit a wall with [subscriptions] then you pretty much don't have a super growth strategy anymore in your most developed markets," Michael Nathanson, a media analyst and founding partner at MoffettNathanson, told CNN Business. "What can they do to take even more revenue out of the market, above and beyond streaming revenues?"</span><span id="c3a4" class="mx ls jg mt b gy nc mz l na nb">Or put another way, the company's lackluster user growth last quarter is a signal that it wouldn't hurt if Netflix — a company that's lived and died with its subscriber numbers — started thinking about other ways to make money.</span><span id="85b6" class="mx ls jg mt b gy nc mz l na nb"><strong class="mt jh">An ad-supported Netflix? Not so fast</strong></span><span id="cae9" class="mx ls jg mt b gy nc mz l na nb">There are ways for Netflix to make money other than raising prices or adding subscribers. The most obvious: selling advertising.</span><span id="cd8f" class="mx ls jg mt b gy nc mz l na nb">Netflix could have 30-second commercials on their programming or get sponsors for their biggest series and films. TV has worked that way forever, why not Netflix?</span><span id="0df3" class="mx ls jg mt b gy nc mz l na nb">That's probably not going to happen, given that CEO Reed Hastings has been vocal about the unlikelihood of an ad-supported Netflix service. His reasoning: It doesn't make business sense.</span><span id="33b6" class="mx ls jg mt b gy nc mz l na nb">"It's a judgment call... It's a belief we can build a better business, a more valuable business [without advertising]," Hastings told Variety in September. "You know, advertising looks easy until you get in it. Then you realize you have to rip that revenue away from other places because the total ad market isn't growing, and in fact right now it's shrinking. It's hand-to-hand combat to get people to spend less on, you know, ABC and to spend more on Netflix."</span><span id="0bb2" class="mx ls jg mt b gy nc mz l na nb">Hastings added that "there's much more growth in the consumer market than there is in advertising, which is pretty flat."</span><span id="d5b3" class="mx ls jg mt b gy nc mz l na nb">He's also expressed doubts about Netflix getting into live sports or news, which could boost the service's allure to subscribers, so that's likely out, too, at least for now.</span><span id="30ee" class="mx ls jg mt b gy nc mz l na nb">So if Netflix is looking for other forms of near-term revenue to help support its hefty content budget ($17 billion in 2021 alone) then what can it do? There is one place that could be a revenue driver for Netflix, but if you're borrowing your mother's account you won't like it.</span><span id="c767" class="mx ls jg mt b gy nc mz l na nb">Netflix could crack down on password sharing — a move that the company has been considering lately.</span><span id="08f5" class="mx ls jg mt b gy nc mz l na nb">"Basically you're going to clean up some subscribers that are free riders," Nathanson said. "That's going to help them get to a higher level of penetration, definitely, but not in long-term."</span><span id="5767" class="mx ls jg mt b gy nc mz l na nb"><strong class="mt jh">Lackluster growth is still growth</strong></span><span id="cbe2" class="mx ls jg mt b gy nc mz l na nb">Missing projections is never good, but it's hardly the end of the world for Netflix. The company remains the market leader and most competitors are still far from taking the company on. And while Netflix's first-quarter subscriber growth wasn't great, and its forecasts for the next quarter alarmed investors, it was just one quarter.</span><span id="40c9" class="mx ls jg mt b gy nc mz l na nb">Netflix has had subscriber misses before and it's still the most dominant name in all of streaming, and even lackluster growth is still growth. It's not as if people are canceling Netflix in droves.</span><span id="ffee" class="mx ls jg mt b gy nc mz l na nb">Asked about Netflix's "second act" during the company's post-earnings call on Tuesday, Hastings again placed the company's focus on pleasing subscribers.</span><span id="7eb1" class="mx ls jg mt b gy nc mz l na nb">"We do want to expand. We used to do that thing shipping DVDs, and luckily we didn't get stuck with that. We didn't define that as the main thing. We define entertainment as the main thing," Hastings said.</span><span id="c6ca" class="mx ls jg mt b gy nc mz l na nb">He added that he doesn't think Netflix will have a second act in the way Amazon has had with Amazon shopping and Amazon Web Services. Rather, Netflix will continue to improve and grow on what it already does best.</span><span id="fe5e" class="mx ls jg mt b gy nc mz l na nb">"I'll bet we end with one hopefully gigantic, hopefully defensible profit pool, and continue to improve the service for our members," he said. "I wouldn't look for any large secondary pool of profits. There will be a bunch of supporting pools, like consumer products, that can be both profitable and can support the title brands.""""</span></pre><p id="74a0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">对文本进行标记</strong></p><p id="3c73" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">T5可用于执行其他任务，如文本生成、翻译等。；添加T5特定前缀“summarize:”将告诉模型执行汇总任务。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="025b" class="mx ls jg mt b gy my mz l na nb">tokens_input = tokenizer.encode("summarize: " + text,<br/>                              return_tensors='pt',<br/>                              max_length=tokenizer.model_max_length,<br/>                              truncation=True)</span></pre><p id="effa" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里，我们将把文本标记为模型的最大可接受标记输入长度。如果标记化的输入超过了模型的最大标记长度，它将被截断。</p><p id="ac22" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">生成汇总</strong></p><p id="b121" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们通过传入编码的令牌来生成摘要，然后将生成的摘要解码回文本。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="49af" class="mx ls jg mt b gy my mz l na nb">summary_ids = model.generate(tokens_input, min_length=80, <br/>                           max_length=150, length_penalty=15, <br/>                           num_beams=2)</span><span id="994a" class="mx ls jg mt b gy nc mz l na nb">summary = tokenizer.decode(summary_ids[0], skip_special_tokens=True)</span></pre><p id="95ec" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">该模型采用编码的令牌和以下输入参数:</p><ul class=""><li id="ec5d" class="ne nf jg kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated"><strong class="kx jh"> min_length </strong>:标记化文本的最小长度。</li><li id="ae3b" class="ne nf jg kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated"><strong class="kx jh"> max_length </strong>:标记化文本的最大长度。</li><li id="7726" class="ne nf jg kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated"><strong class="kx jh"> length_penalty </strong>:值&gt; 1强制模型生成一个较长的摘要，值&lt; 1强制模型生成一个较短的摘要。</li><li id="d3d3" class="ne nf jg kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">num_beams :值2允许模型探索生成<a class="ae jd" href="https://en.wikipedia.org/wiki/Beam_search" rel="noopener ugc nofollow" target="_blank">更有希望的预测</a>的记号。</li></ul><p id="de85" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"> <em class="nd">注意:</em> </strong> <em class="nd">保持最小和最大标记化文本长度在80和150之间，并且长度惩罚为15，将允许模型生成60到90个单词的合理摘要。</em> <em class="nd">我们将对其余的输入参数使用默认值(上面没有显示)。</em></p><p id="3b9f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">输出汇总</strong></p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="1cbf" class="mx ls jg mt b gy my mz l na nb">Netflix (NFLX) reported Tuesday it now has 208 million subscribers globally. that number missed expectations and the forecasts for its next quarter were also pretty weak. the streaming service's stock dropped as much as 8% on Wednesday, leading some to wonder what the future of the streamer looks like. if competition continues to gain strength, people start heading outdoors and if, most importantly, its growth slows, it wouldn't hurt if Netflix started thinking about other ways to make money - like selling ads.</span></pre><p id="2934" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">哇！这看起来是一个相当不错的总结。</p><p id="df91" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…但是，如果您阅读全文并再次阅读摘要，您会注意到全文的后半部分没有得到摘要，这是因为标记化的输入在超过最大模型标记输入长度512后被截断。</p><p id="10a3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你担心在后面的文本中遗漏一些重要的细节，你可以使用一个简单的技巧来解决这个问题:首先对原文进行提取摘要，然后进行抽象摘要。</p><h1 id="679a" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">伯特摘录摘要</h1><p id="58a0" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">在我们继续之前，请确保pip已经在您的终端上安装了BERT extractive summarizer。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="f0ee" class="mx ls jg mt b gy my mz l na nb">pip install bert-extractive-summarizer</span></pre><p id="b539" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae jd" href="https://iq.opengenus.org/bert-for-text-summarization/#:~:text=Machine%20Learning%20(ML)%20BERT&amp;text=Extractive%20Text%20summarization%20refers%20to,approach%20to%20perform%20NLP%20tasks." rel="noopener ugc nofollow" target="_blank"> BERT </a>代表变压器的双向编码器表示。这是谷歌开发的基于转换器的自然语言处理(NLP)机器学习技术。它使用了一个强大的扁平结构和句间转换层来获得最好的摘要效果。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="0d12" class="mx ls jg mt b gy my mz l na nb">from summarizer import Summarizer</span><span id="0a87" class="mx ls jg mt b gy nc mz l na nb">bert_model = Summarizer()<br/>ext_summary = bert_model(text, ratio=0.5)</span></pre><p id="86d6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下是BERT生成的摘要。通过将摘要比率设置为0.5，我特意将其设置为生成长度为原始文本50%的摘要。您可以随意使用不同的比率将您的长文档调整到合适的长度。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="03e0" class="mx ls jg mt b gy my mz l na nb">New York (CNN Business)Netflix is synonymous with streaming, but its competitors have a distinct advantage that threatens the streaming leader's position at the top. Disney has Disney+, but it also has theme parks, plush Baby Yoda dolls, blockbuster Marvel movies and ESPN. It's worked out well for the company - so far. But that number missed expectations and the forecasts for its next quarter were also pretty weak. Or put another way, the company's lackluster user growth last quarter is a signal that it wouldn't hurt if Netflix - a company that's lived and died with its subscriber numbers - started thinking about other ways to make money. Not so fast<br/>There are ways for Netflix to make money other than raising prices or adding subscribers. His reasoning: It doesn't make business sense. "It's a judgment call... It's a belief we can build a better business, a more valuable business [without advertising]," Hastings told Variety in September. " You know, advertising looks easy until you get in it. Then you realize you have to rip that revenue away from other places because the total ad market isn't growing, and in fact right now it's shrinking. It's hand-to-hand combat to get people to spend less on, you know, ABC and to spend more on Netflix." So if Netflix is looking for other forms of near-term revenue to help support its hefty content budget ($17 billion in 2021 alone) then what can it do? Netflix could crack down on password sharing - a move that the company has been considering lately. "Basically you're going to clean up some subscribers that are free riders," Nathanson said. " That's going to help them get to a higher level of penetration, definitely, but not in long-term." The company remains the market leader and most competitors are still far from taking the company on. We used to do that thing shipping DVDs, and luckily we didn't get stuck with that. We define entertainment as the main thing," Hastings said. He added that he doesn't think Netflix will have a second act in the way Amazon has had with Amazon shopping and Amazon Web Services. Rather, Netflix will continue to improve and grow on what it already does best. I wouldn't look for any large secondary pool of profits.</span></pre><p id="ac10" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在让我们通过T5模型输入摘要。</p><h1 id="4d00" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated"><strong class="ak">抽象的摘要</strong></h1><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="b830" class="mx ls jg mt b gy my mz l na nb">Netflix's lackluster user growth is a signal that it wouldn't hurt if it started thinking about other ways to make money. the company remains the market leader and most competitors are still far from taking the company on. the company could crack down on password sharing - a move that the company has been considering lately. "it's a judgment call... it's a belief we can build a better business, a more valuable business," hastings said.</span></pre><p id="fcee" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">哇…生成的摘要现在覆盖了原始文本的整个上下文。</p><p id="f8cb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了您的方便，我总结了下面的代码。</p><p id="5c3a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">您也可以点击</strong> <a class="ae jd" href="https://github.com/louisteo9/t5-text-summarizer" rel="noopener ugc nofollow" target="_blank"> <strong class="kx jh">此处</strong> </a> <strong class="kx jh">进入我的GitHub获取用于T5文本摘要器和文本摘要器管道准备的Jupyter笔记本，以及您可以在终端上运行的管道脚本，以汇总多个PDF文档。</strong></p><figure class="mo mp mq mr gt is"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h1 id="5b16" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">奖金…t5文本摘要管道。</h1><p id="a06b" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">我已经建立了一个文本摘要器管道，可以从PDF文档中提取文本，总结文本，并将原始文本和摘要存储到SQLite数据库中，并将摘要输出到文本文件中。</p><p id="c9a9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">要总结一个长的PDF文档，您可以首先应用摘要来缩短文本，然后再通过T5模型生成一个类似人类的摘要。</p><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nu"><img src="../Images/aa6473b305ee529a72c3c514f26fe9b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*__Bdg4DXeEaYL76J8Ff7vQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">按作者分类的图像:运行数据管道从pdf文件中提取文本数据并保存到SQLite数据库中</p></figure><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nv"><img src="../Images/6175c6f2c5c40ce76cf077ada2e96f87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aybqhw9MCtCNoA1Kzk22ng.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片:运行摘要管道(仅T5)来摘要文本数据，将摘要保存到文本文件，并将摘要存储到数据库</p></figure><p id="5bf3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"> <em class="nd">注:</em> </strong> <em class="nd">如果只想用T5模型概括文本，键入‘1.0’。</em></p><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nw"><img src="../Images/0dd0736c8f7668275b6ae0e518e9ef2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L3nJ5pz16i7IxV_THU_cSg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片:运行摘要管道(BERT &amp; T5)来摘要文本数据，保存摘要到文本文件和存储摘要到数据库</p></figure><p id="66fd" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"> <em class="nd">注:</em> </strong> <em class="nd">如果您希望在运行T5摘要之前使用BERT摘要缩短文本，请键入一个低于“1.0”(例如“0.5”)的比率。用这种方式生成摘要需要更长的时间，因为每个文本都要经过两个不同的摘要器。</em></p><h1 id="8812" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">结论……和未来的工作</h1><p id="df0e" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这就对了——你只需要7行代码(包括导入库和模块)就可以让Google的T5预训练模型为你总结一个内容。</p><p id="6564" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了使长内容的摘要更有意义，您可以首先应用提取摘要来缩短文本，然后应用抽象摘要。</p><p id="5997" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">T5预训练模型支持迁移学习:这意味着我们可以使用自定义数据集进一步训练模型。</p><p id="755c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">对于未来的工作</strong>，观察模型在经过定制训练以总结特定内容(如医学期刊和工程期刊)后的表现将会非常有趣。</p></div></div>    
</body>
</html>