<html>
<head>
<title>pytsviz: interactive time series charts with Plotly and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">pytsviz:使用 Plotly 和 Python 的交互式时间序列图表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pytsviz-interactive-time-series-charts-with-plotly-and-python-68cf30d9f822?source=collection_archive---------23-----------------------#2021-12-28">https://towardsdatascience.com/pytsviz-interactive-time-series-charts-with-plotly-and-python-68cf30d9f822?source=collection_archive---------23-----------------------#2021-12-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a253" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">引入新的库来加速时间序列分析</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3a6333885cd93b6d7a01a9384818eaf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iR3GHPe3xJ9u6Oss"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">艾萨克·史密斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="80b0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">pytsviz 的案例</h1><p id="8640" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在数十亿参数模型主宰计算机视觉和 NLP 的时代，人们认为“传统”数据科学和机器学习已经死亡是情有可原的。</p><p id="161b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">幸运的是，古老的<em class="ms">没有免费的午餐</em>定理仍然在现代研究中找到实验证实:在表格数据集中，基于树的机器学习模型，如 XGBoost，可以轻松胜过神经网络——例如，见 Ravid shw artz-齐夫，Amitai Armon，<a class="ae ky" href="https://arxiv.org/abs/2106.03253" rel="noopener ugc nofollow" target="_blank"> <em class="ms">表格数据:深度学习不是你需要的全部</em> </a>，arXiv，2021。</p><p id="d89d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">此外，在商业应用中，结果的准确性并不总是最重要的。可以通过简单的可视化或探索性分析来收集有价值的信息。通常，在一个合适的模型投入生产之前，这些知识会产生可操作的见解。</p><p id="230e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这为探索性分析和数据可视化的有效工具提供了论据。Python 已经有很多这样的工具:matplotlib、seaborn 和 plotly 只是一些例子。这些库很棒，但它们被设计成通用的:为了生成特定的图表，数据科学家必须建立在它们的原语之上。</p><p id="87c0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">例如，当处理时间序列数据时，就会发生这种情况。每次分析的开始包括创建一些有用的图表。在<a class="ae ky" href="https://xtreamers.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ms"> xtream </em> </a>中，我们多次构建了这样的图形，最终我们开发了一个小型库来简化这个过程。</p><p id="1d7e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果它对我们有用，对其他人也可能有用。</p><p id="2dce" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">那么，为什么不开源呢？</p><h1 id="f9f3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">使用 pytsviz</h1><div class="mt mu gp gr mv mw"><a href="https://github.com/xtreamsrl/pytsviz" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">GitHub - xtreamsrl/pytsviz:一套快速分析时间序列的实用程序。</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">pytsviz 是一套快速分析和可视化时间序列数据的工具。它部分基于 R 包…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">github.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk ks mw"/></div></div></a></div><p id="bda3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了展示 pytsviz 的一些特性，我们将假设在一个类似于文档中所示的<a class="ae ky" href="https://pytsviz.readthedocs.io/en/latest/notebooks/data_visualization_examples.html" rel="noopener ugc nofollow" target="_blank">的笔记本上编写代码。</a></p><p id="8e99" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，让我们导入库并获取一些数据。我们将使用太阳黑子的单变量序列，但 pytsviz 也可以很好地处理多变量序列。然后，我们可以立即利用 pytsviz 创建一个折线图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/e0536c82275aba28852a809c4ee63a2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RIKogeAbyw2cgMr98Sccxw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">太阳黑子发生的线图。作者图片。</p></figure><p id="ca7e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">不是很令人印象深刻，是吗？</p><p id="5959" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然而，我们注意到该系列是嘈杂的。出现了明显的季节性，但是被高频噪音掩盖了。因此，移动平均线有助于平滑序列并使模式看起来更清晰。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/4a1752ff0d8029914381351d4080d75e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NU82fnrZzUPs9K0FB2UONA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">太阳黑子每月出现次数的年移动平均值。作者图片。</p></figure><p id="dba2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">红线清楚地描述了一个大约 9 到 11 年长的周期。</p><p id="2f5b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">pytsviz 支持一系列转换，包括对数、Box-Cox 等。</p><p id="1df0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果我们想深入挖掘序列的结构，一个好的选择是使用 ACF、PACF 和周期图。它们都可以与以下内容一起可视化:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/d314e6b09dc3aab4e8cae8dc27ed9ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bjtxs_beZalVnvvf-v7_QQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ACF，PACF 和周期图。作者图片。</p></figure><p id="0f4d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">周期图的峰值正好在 10 年，表明这是该系列的主要周期。</p><p id="24e5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">pytsviz 提供了更多的方法来研究时间序列的结构，比如周期图、分解等等。请随意查看<a class="ae ky" href="https://pytsviz.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">文档</a>以获取更多示例。</p><p id="2f4f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后，让我们假设我们已经到了这个过程的末尾，并且我们已经有了一个模型来预测我们的时间序列。为了清楚起见，我们将使用该系列的 lag-1，一个公共基线。</p><p id="cfdb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">pytsviz 提供图表来研究我们的模型的拟合优度。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/aef722cfc4706b85a707838bfc844a66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NwJNuZaHNFGS4aVXQ6Wmlg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">拟合优度和残差分析。作者图片。</p></figure><p id="e899" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们注意到，我们指示函数不绘制图表，而是返回 plotly 对象。这是该库中所有函数的一个共同特征，并且允许容易地个性化图表的布局。</p><h1 id="0fe6" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">贡献给 pytsviz</h1><p id="a2ec" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">pytsviz 是一个开源项目。如果你发现它有任何价值，请随意投稿。</p><p id="4def" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">该项目仍处于非常早期的阶段，可以极大地利用每个领域的学者和从业人员的工作。查看<a class="ae ky" href="https://github.com/xtreamsrl/pytsviz" rel="noopener ugc nofollow" target="_blank"> Github 资源库</a>了解更多！</p><h1 id="349a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">承认</h1><p id="aa14" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">pytsviz 由数据科学团队在<a class="ae ky" href="https://xtreamers.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ms"> xtream </em> </a> <em class="ms">设计和构建。Riccardo Nakamoto Maganza</em>、<a class="no np ep" href="https://medium.com/u/56f126975efb?source=post_page-----68cf30d9f822--------------------------------" rel="noopener" target="_blank"> Riccardo Zoncada </a>和 Gabriele Orlandi 是主要贡献者。</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="cf95" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我的读者，谢谢你来到这里！</p><p id="d72d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="ms">如果你资助了故事中的任何价值，请考虑</em> <a class="ae ky" href="https://medium.com/subscribe/@donlelef" rel="noopener"> <em class="ms">免费订阅我的帖子</em> </a> <em class="ms">，成为</em> <a class="ae ky" href="https://medium.com/@donlelef/membership" rel="noopener"> <em class="ms">中等会员</em> </a> <em class="ms">无限制访问类似内容。</em></p><p id="10c2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="ms">我们随时欢迎您的每一条评论、问题或总体反馈。如果你对</em> <a class="ae ky" href="https://www.linkedin.com/in/emanuelefabbiani/" rel="noopener ugc nofollow" target="_blank"> <em class="ms"> me </em> </a> <em class="ms">或</em><a class="ae ky" href="https://xtreamers.io/" rel="noopener ugc nofollow" target="_blank"><em class="ms">xtream</em></a><em class="ms">感兴趣，可以上 LinkedIn 看看我们！</em></p><p id="de56" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你喜欢这篇文章，你可能会感兴趣:</p><div class="mt mu gp gr mv mw"><a rel="noopener follow" target="_blank" href="/stop-copy-pasting-notebooks-embrace-jupyter-templates-6bd7b6c00b94"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">停止复制粘贴笔记本，拥抱 Jupyter 模板！</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">jupytemplate 简介:Jupyter 的可配置模板</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">towardsdatascience.com</p></div></div><div class="nf l"><div class="nx l nh ni nj nf nk ks mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a rel="noopener follow" target="_blank" href="/introducing-tsviz-interactive-time-series-visualization-in-r-studio-a96cde507a14"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">介绍 tsviz，R Studio 中的交互式时间序列可视化</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">我们为什么以及如何开发 R Studio 插件</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">towardsdatascience.com</p></div></div><div class="nf l"><div class="ny l nh ni nj nf nk ks mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a rel="noopener follow" target="_blank" href="/method-is-all-you-need-7-mistakes-to-avoid-in-data-science-a18bec2c5e99"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">方法是你所需要的:数据科学中要避免的 7 个错误</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">来自我们经验的精选收藏</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">towardsdatascience.com</p></div></div><div class="nf l"><div class="nz l nh ni nj nf nk ks mw"/></div></div></a></div></div></div>    
</body>
</html>